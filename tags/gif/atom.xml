<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>gif on Xiaobin&#39;s Notes</title>
        <link>https://lxb.wiki/tags/gif/</link>
        <description>Recent content in gif on Xiaobin&#39;s Notes</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <lastBuildDate>Wed, 24 Feb 2021 23:00:47 +0000</lastBuildDate><atom:link href="https://lxb.wiki/tags/gif/atom.xml" rel="self" type="application/rss+xml" /><item>
        <title>APNG与 GIF</title>
        <link>https://lxb.wiki/941edb97/</link>
        <pubDate>Wed, 24 Feb 2021 23:00:47 +0000</pubDate>
        
        <guid>https://lxb.wiki/941edb97/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h3 id=&#34;关于-apng&#34;&gt;关于 APNG&lt;/h3&gt;
&lt;p&gt;APNG（Animated Portable Network Graphics）顾名思义是基于 PNG 格式扩展的一种动画格式，增加了对动画图像的支持，同时加入了 24 位图像和 8 位 Alpha 透明度的支持，这意味着动画将拥有更好的质量，其诞生的目的是为了替代老旧的 GIF 格式，但它目前并没有获得 PNG 组织官方的认可。&lt;/p&gt;
&lt;h3 id=&#34;apng-简史&#34;&gt;APNG 简史&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;MNG&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;在 APNG 之前它还有一个老冤家叫 MNG（Multiple-image Network Graphics）即多图像网络图形，1996 年 6 月提出 PNF（Portable Network Frame）草案，同年8月更名为 MNG ，2001 年 1 月 31 日发布 MNG 规范 1.0 版本，MNG 是出自 PNG 开发组之手，但由于结构复杂的 MNG 程序库，使用过程会占用大量的资源，早期只有较少的浏览器支持，Chrome、IE、Opera、Safari 则从未支持过。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;APNG&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2004 年，由 Mozilla 公司两位 Mozilla 程序员 Stuart Parmenter 和 Vladimir Vukićević 共同设计出 APNG，他们希望 Mozilla 社区能使用它，但提案未能通过。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;libpng程序库&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2006 年，Google Summer of Code 活动中，加拿大圣力嘉学院的学生为 libpng 程序库加入了对 APNG 支持，此后开发者再次推荐给 Mozilla 社区，不过仍然遭到拒绝。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;首次支持&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2007 年 3 月 23 日，Mozilla 后知后觉，在 Mozilla Firefox 3.0 中 首次支持 APNG 格式。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;标准化申请&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2007 年 4 月 20 日，Mozilla 希望 APNG 能成为官方标准，因此 PNG 组织发起投票，最终以8：10的票数否决了 APNG 进了官方标准，因为 PNG 组织决心继续推广 MNG，但这不并影响 Mozilla 继续支持 APNG。&lt;/p&gt;
&lt;h3 id=&#34;为什么-gif-能存活29年之久&#34;&gt;为什么 GIF 能存活29年之久？&lt;/h3&gt;
&lt;p&gt;开头讲 APNG 时提到，APNG 的出现就是为了替代 GIF，诞生于 1987 年的 GIF 为什么能存活 29 年之久？&lt;/p&gt;
&lt;p&gt;主要有四个原因：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;几乎所有的主流浏览器都支持 GIF&lt;/li&gt;
&lt;li&gt;早期选择不多，GIF 几乎是唯一选择（GIF - 1987、JPEG - 1992、PNG - 1996、APNG - 2004、WebP - 2010）&lt;/li&gt;
&lt;li&gt;实现起来简单，制作的工具多&lt;/li&gt;
&lt;li&gt;采用 LZW 数据压缩算法，使得 GIF 体积小，在早期慢速的互联网易于传播&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;为什么要取代它&#34;&gt;为什么要取代它？&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;1、图片质量&lt;/strong&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;如果你使用的是非 Firefox、Safari 浏览器，那 APNG 格式的图片会向下兼容显示为静态图，你可以更换 Firefox、Safari 浏览器或者在 Chrome 浏览器安装 &lt;a class=&#34;link&#34; href=&#34;https://chrome.google.com/webstore/detail/apng/ehkepjiconegkhpodgoaeamnpckdbblp&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;APNG Extension for Google Chrome &lt;/a&gt;扩展来兼容，通过两者对比能总结出以下区别：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;GIF：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;最多支持 8 位 256 色，色阶过渡糟糕，图片具有颗粒感&lt;/li&gt;
&lt;li&gt;不支持 Alpha 透明通道，边缘有杂边&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;APNG：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;支持 24 位真彩色图片&lt;/li&gt;
&lt;li&gt;支持 8 位 Alpha 透明通道&lt;/li&gt;
&lt;li&gt;向下兼容 PNG&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;2、图片体积&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;如果你使用的浏览器不支持WebP，下面对比的 WebP 格式的图片将无法显示。&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;从几组 GIF、APNG、WebP 的对比中可以发现，无论在纯色的图片或是多彩的图片，大部分情况下 APNG 依旧能比 GIF、WebP 以及有损的 WebP 的体积小。&lt;/p&gt;
&lt;h3 id=&#34;apng-的组成&#34;&gt;APNG 的组成&lt;/h3&gt;
&lt;p&gt;APNG 是基于 PNG 格式扩展的，首先需要了解一个简单的 PNG 文件组成结构：&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;PNG 由 4 部分组成，首先以 PNG Signature（PNG签名块）开头，紧接着一个 IHDR（图像头部块），然后是一个或多个的 IDAT（图像数据块），最终以 IEND（图像结束块）结尾。&lt;/p&gt;
&lt;p&gt;APNG 规范引入了三个新大块，分别是：acTL（动画控制块）、fcTL（帧控制块）、fdAT（帧数据块），下图是三个独立的 PNG 文件组成 APNG 的示意图。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210503115051.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;acTL 块必须在第一个 IDAT 块之前，用于告诉解析器这是一个动画 PNG，包含动画帧总数和循环次数的信息&lt;/li&gt;
&lt;li&gt;fcTL 块是每一帧都必须的，出现在 IDAT 或 fdAT 之前，包含顺序号、宽高、帧位置、延时等信息&lt;/li&gt;
&lt;li&gt;fdAT 块与 IDAT 块有着相同的结构，除了 fcTL 中的顺序号&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;从图中可以发现第一帧与后面两帧不同，那是因为第一帧 APNG 文件存储的为一个正常的 PNG 数据块，对于不支持 APNG 的浏览器或软件，只会显示 APNG 文件的第一帧，忽略后面附加的动画块，这也是为什么 APNG 能向下兼容 PNG 的原因。&lt;/p&gt;
&lt;h3 id=&#34;apng-帧间优化&#34;&gt;APNG 帧间优化&lt;/h3&gt;
&lt;p&gt;假设使用一个 4 帧图片合成 APNG&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210503115139.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;APNG 会通过算法计算帧之间的差异，只存储帧之前的差异，而不是存储全帧。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210503115211.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;通过 TweakPNG 软件观察 IDAT 图像数据块和 fdAT 帧数据块的大小，可以明显的看出来存储全帧与差异帧的区别，使得 APNG 文件大小有显著的减少。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210503115247.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;为什么没有普及&#34;&gt;为什么没有普及？&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210503115312.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;主要的原因是缺乏浏览器的支持，从 Can I use 查询可知 Firefox 从 3 到 49 版本自始自终支持着，Opera 早期只有三个版本支持过（10.1、11.5、12.1），后续版本则取消了对 APNG 的支持，而 Chrome、IE、Edge 则从未支持过 APNG，Chrome 和 Opera 都在推广自家的 WebP，而微软则一直是个不合群的家伙。&lt;/p&gt;
&lt;p&gt;但是，重要的一点是 2014 年 9 月 17 号 Apple 向用户推送了 iOS 8，这意味着 Safari 8 新增了对 APNG 的支持，这能有效的推动 APNG 的发展，至少在移动端。&lt;/p&gt;
&lt;h3 id=&#34;特性检测&#34;&gt;特性检测&lt;/h3&gt;
&lt;p&gt;既然存在兼容问题，那就需要通过判断应用场景。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;use strict&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;apngTest&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Image&lt;/span&gt;(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;ctx&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; document.&lt;span style=&#34;color:#a6e22e&#34;&gt;createElement&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;canvas&amp;#34;&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;getContext&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2d&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;apngTest&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;onload&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; () {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;ctx&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;drawImage&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;apngTest&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;self&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;apng_supported&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ctx&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;getImageData&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;data&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;===&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;apngTest&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;src&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACGFjVEwAAAABAAAAAcMq2TYAAAANSURBVAiZY2BgYPgPAAEEAQB9ssjfAAAAGmZjVEwAAAAAAAAAAQAAAAEAAAAAAAAAAAD6A+gBAbNU+2sAAAARZmRBVAAAAAEImWNgYGBgAAAABQAB6MzFdgAAAABJRU5ErkJggg==&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}());
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;方法与 WebP 检测相似，同样是加载一张 1x1 像素大小的 Base64 编码图片，不同在于 WebP 加载完成后是判断图片宽高是否大于 1，而 APNG 则是将其绘制到画布中，通过 getImageData() 方法去获取该图片的像素数据，主要是获取 data[3] 的 Alpha 透明通道（值的范围：0 - 255），当返回 0（0代表透明的）时则表示支持 APNG，返回 255（255 代表完全可见的）则表示不支持 APNG。&lt;/p&gt;
&lt;h3 id=&#34;apng-to-canvas&#34;&gt;APNG to Canvas&lt;/h3&gt;
&lt;p&gt;当然，目前也有用于兼容的库： &lt;a class=&#34;link&#34; href=&#34;https://github.com/davidmz/apng-canvas&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;apng-canvas&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;使用该库需要以下条件支持：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Canvas&lt;/li&gt;
&lt;li&gt;Typed Arrays&lt;/li&gt;
&lt;li&gt;Blob URLs&lt;/li&gt;
&lt;li&gt;requestAnimationFrame&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;lt;img src=&amp;#34;example.png&amp;#34; class=&amp;#34;apng-image&amp;#34;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;APNG.ifNeeded().then(function() {
    var images = document.querySelectorAll(&amp;#34;.apng-image&amp;#34;);
    for (var i = 0; i &amp;lt; images.length; i++) {
        APNG.animateImage(images[i]);
    }
});
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;制作工具&#34;&gt;制作工具&lt;/h3&gt;
&lt;p&gt;在了解 APNG 后，是不是心痒痒想制作 APNG 呢？在制作工具方面，APNG 已经不像早期那样工具匮乏了， &lt;a class=&#34;link&#34; href=&#34;http://littlesvr.ca/apng/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;APNG Software &lt;/a&gt;网站上有大量的制作工具，有客户端版本（大部分只支持 Widnows）也有命令行版本，可以非常轻松的制作 APNG，比如下面这款软件。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Windows客户端 - APNG Assembler&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210503115617.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Mac客户端 - APNGb&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210503121205.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;功能说明：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Playback Settings 可设置循环的次数，0 表示无限循环，可跳过第一帧&lt;/li&gt;
&lt;li&gt;Delays - All Frames 可设置所有帧播放时所停留的时间&lt;/li&gt;
&lt;li&gt;Compression Settings 可设置压缩参数，有三种压缩方式（zlib、7zip、Zopfli）以及颜色类型和调色板优化&lt;/li&gt;
&lt;li&gt;Delays - Selected Frames 可设置选中帧播放时所停留的时间&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这里演示图分别是 Windows 版本和 Mac 版本，功能基本一致，将序列帧图片拖拽到指定位置，设置一些基本的参数即可生成 APNG 图，Mac 版本比 Windows 版本多出一个将 APNG 图片 Disassembly（分解）功能，可分解为多个 PNG 图片。&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://sourceforge.net/projects/apngasm/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;下载地址戳这里&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;参考资料&#34;&gt;参考资料&lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;http://people.mozilla.org/~dolske/apng/demo.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Animated PNG demos &lt;/a&gt;&lt;a class=&#34;link&#34; href=&#34;http://littlesvr.ca/apng/gif_apng_webp.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GIF vs APNG vs WebP &lt;/a&gt;&lt;a class=&#34;link&#34; href=&#34;http://littlesvr.ca/apng/inter-frame.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Inter-frame Optimization in APNG &lt;/a&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/davidmz/apng-canvas&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;davidmz/apng-canvas - Github &lt;/a&gt;&lt;a class=&#34;link&#34; href=&#34;https://en.wikipedia.org/wiki/GIF&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GIF - Wikipedia &lt;/a&gt;&lt;a class=&#34;link&#34; href=&#34;https://en.wikipedia.org/wiki/APNG&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;APNG - Wikipedia &lt;/a&gt;&lt;a class=&#34;link&#34; href=&#34;https://wiki.mozilla.org/APNG_Specification&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;APNG Specification &lt;/a&gt;&lt;a class=&#34;link&#34; href=&#34;http://caniuse.com/#search=APNG&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Can I use - APNG &lt;/a&gt;&lt;a class=&#34;link&#34; href=&#34;https://zh.wikipedia.org/wiki/PNG&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Portable Network Graphics - Wikipedia &lt;/a&gt;&lt;a class=&#34;link&#34; href=&#34;https://en.wikipedia.org/wiki/Multiple-image_Network_Graphics&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Multiple-image Network Graphics - Wikipedia &lt;/a&gt;&lt;a class=&#34;link&#34; href=&#34;http://littlesvr.ca/apng/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;APNG Software&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://wiki.mozilla.org/APNG_Specification&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://wiki.mozilla.org/APNG_Specification&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://philip.html5.org/tests/apng/tests.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://philip.html5.org/tests/apng/tests.html&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>gif图片文件信息</title>
        <link>https://lxb.wiki/2bf7952d/</link>
        <pubDate>Tue, 28 Jul 2020 21:25:36 +0000</pubDate>
        
        <guid>https://lxb.wiki/2bf7952d/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;一个GIF文件主要由以下几部分组成。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;文件头&lt;/li&gt;
&lt;li&gt;图像帧信息&lt;/li&gt;
&lt;li&gt;注释&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;文件头&#34;&gt;文件头&lt;/h4&gt;
&lt;p&gt;GIF格式文件头和一般文件头差别不大，也包含有&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;格式声明&lt;/li&gt;
&lt;li&gt;逻辑屏幕描述块&lt;/li&gt;
&lt;li&gt;全局调色盘&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;格式声明&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201201005159.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Signature 为“GIF”3 个字符；Version 为“87a”或“89a”3 个字符。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;逻辑屏幕描述块&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201201005303.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;前两字节为像素单位的宽、高，用以标识图片的视觉尺寸。&lt;/p&gt;
&lt;p&gt;Packet里是调色盘信息，分别来看——&lt;/p&gt;
&lt;p&gt;Global Color Table Flag 为全局颜色表标志，即为1时表明全局颜色表有定义。&lt;/p&gt;
&lt;p&gt;Color Resolution 代表颜色表中每种基色位长（需要+1），为111时，每个颜色用8bit表示，即我们熟悉的RGB表示法，一个颜色三字节。&lt;/p&gt;
&lt;p&gt;Sort Flag 表示是否对颜色表里的颜色进行优先度排序，把常用的排在前面，这个主要是为了适应一些颜色解析度低的早期渲染器，现在已经很少使用了。&lt;/p&gt;
&lt;p&gt;Global Color Table 表示颜色表的长度，计算规则是值+1作为2的幂，得到的数字就是颜色表的项数，取最大值111时，项数=256，也就是说GIF格式最多支持256色的位图，再乘以Color Resolution算出的字节数，就是调色盘的总长度。&lt;/p&gt;
&lt;p&gt;这四个字段一起定义了调色盘的信息。&lt;/p&gt;
&lt;p&gt;Background color Index 定义了图像透明区域的背景色在调色盘里的索引。&lt;/p&gt;
&lt;p&gt;Pixel Aspect Ratio 定义了像素宽高比，一般为0。&lt;/p&gt;
&lt;h4 id=&#34;帧信息描述&#34;&gt;帧信息描述&lt;/h4&gt;
&lt;p&gt;帧信息描述就是每一帧的图像信息和相关标志位&lt;/p&gt;
&lt;p&gt;大部分GIF存储时采用了公共区域排除和透明区域叠加的优化&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;帧数据说明&lt;/strong&gt;&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
