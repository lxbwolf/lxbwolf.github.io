<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Posts on Xiaobin&#39;s Notes</title>
        <link>https://lxb.wiki/post/</link>
        <description>Recent content in Posts on Xiaobin&#39;s Notes</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <lastBuildDate>Thu, 03 Aug 2023 22:12:42 +0800</lastBuildDate><atom:link href="https://lxb.wiki/post/atom.xml" rel="self" type="application/rss+xml" /><item>
        <title>ã€è¯‘ã€‘Linux ä¸­é€€å‡ºç çš„å«ä¹‰</title>
        <link>https://lxb.wiki/e28c7f9c/</link>
        <pubDate>Thu, 03 Aug 2023 22:12:42 +0800</pubDate>
        
        <guid>https://lxb.wiki/e28c7f9c/</guid>
        <description>&lt;h1 id=&#34;linux-ä¸­é€€å‡ºç çš„å«ä¹‰&#34;&gt;Linux ä¸­é€€å‡ºç çš„å«ä¹‰&lt;/h1&gt;
&lt;p&gt;&lt;img src=&#34;https://img.linux.net.cn/data/attachment/album/202308/03/154628oloxp7sl6s1z4pbl.jpg&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ­å¼€ Linux ä¸­é€€å‡ºç çš„ç¥ç§˜é¢çº±ã€‚äº†è§£ä»€ä¹ˆæ˜¯é€€å‡ºç ï¼Œä»¥åŠä¸ºä»€ä¹ˆå’Œå¦‚ä½•ä½¿ç”¨å®ƒä»¬ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é€€å‡ºç ï¼ˆé€€å‡ºçŠ¶æ€ï¼‰å¯ä»¥å‘Šè¯‰æˆ‘ä»¬æœ€åä¸€æ¬¡æ‰§è¡Œçš„å‘½ä»¤çš„çŠ¶æ€ã€‚åœ¨å‘½ä»¤ç»“æŸä»¥åï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“å‘½ä»¤æ˜¯æˆåŠŸå®Œæˆçš„è¿˜æ˜¯ä»¥é”™è¯¯ç»“æŸçš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å…¶åŸºæœ¬æ€æƒ³æ˜¯ï¼Œç¨‹åºè¿”å›é€€å‡ºä»£ç  &lt;code&gt;0&lt;/code&gt; æ—¶è¡¨ç¤ºæ‰§è¡ŒæˆåŠŸï¼Œæ²¡æœ‰é—®é¢˜ã€‚ä»£ç  &lt;code&gt;1&lt;/code&gt; æˆ– &lt;code&gt;0&lt;/code&gt; ä»¥å¤–çš„ä»»ä½•ä»£ç éƒ½è¢«è§†ä¸ºä¸æˆåŠŸã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é€€å‡ºç é™¤äº† 0 å’Œ 1 å¤–è¿˜æœ‰å¾ˆå¤šå€¼ï¼Œæˆ‘å°†åœ¨æœ¬æ–‡ä»‹ç»å®ƒä»¬ã€‚&lt;/p&gt;
&lt;h3 id=&#34;linux-shell-ä¸­çš„å„ç§é€€å‡ºç &#34;&gt;Linux Shell ä¸­çš„å„ç§é€€å‡ºç &lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬æ¥å¿«é€Ÿäº†è§£ä¸€ä¸‹ Linux Shell ä¸­çš„ä¸»è¦é€€å‡ºç ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;é€€å‡ºç &lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è§£é‡Š&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;0&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å‘½ä»¤æˆåŠŸæ‰§è¡Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é€šç”¨é”™è¯¯ä»£ç &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å‘½ä»¤ï¼ˆæˆ–å‚æ•°ï¼‰ä½¿ç”¨ä¸å½“&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;126&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æƒé™è¢«æ‹’ç»ï¼ˆæˆ–ï¼‰æ— æ³•æ‰§è¡Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;127&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æœªæ‰¾åˆ°å‘½ä»¤ï¼Œæˆ– &lt;code&gt;PATH&lt;/code&gt; é”™è¯¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;128+n&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å‘½ä»¤è¢«ä¿¡å·ä»å¤–éƒ¨ç»ˆæ­¢ï¼Œæˆ–é‡åˆ°è‡´å‘½é”™è¯¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;130&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é€šè¿‡ &lt;code&gt;Ctrl+C&lt;/code&gt; æˆ– &lt;code&gt;SIGINT&lt;/code&gt; ç»ˆæ­¢ï¼ˆ&lt;em&gt;ç»ˆæ­¢ä»£ç  2 æˆ–é”®ç›˜ä¸­æ–­&lt;/em&gt;ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;143&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é€šè¿‡ &lt;code&gt;SIGTERM&lt;/code&gt; ç»ˆæ­¢ï¼ˆ&lt;em&gt;é»˜è®¤ç»ˆæ­¢&lt;/em&gt;ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;255/*&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é€€å‡ºç è¶…è¿‡äº† 0-255 çš„èŒƒå›´ï¼Œå› æ­¤é‡æ–°è®¡ç®—ï¼ˆLCTT è¯‘æ³¨ï¼šè¶…è¿‡ 255 åï¼Œç”¨é€€å‡ºç å¯¹ 256 å–æ¨¡ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ“‹ &lt;code&gt;130&lt;/code&gt;ï¼ˆ&lt;code&gt;SIGINT&lt;/code&gt; æˆ– &lt;code&gt;^C&lt;/code&gt;ï¼‰å’Œ &lt;code&gt;143&lt;/code&gt;ï¼ˆ&lt;code&gt;SIGTERM&lt;/code&gt;ï¼‰ç­‰ç»ˆæ­¢ä¿¡å·æ˜¯éå¸¸å…¸å‹çš„ï¼Œå®ƒä»¬å±äº &lt;code&gt;128+n&lt;/code&gt; ä¿¡å·ï¼Œå…¶ä¸­ &lt;code&gt;n&lt;/code&gt; ä»£è¡¨ç»ˆæ­¢ç ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨ç®€å•äº†è§£äº†é€€å‡ºç ä¹‹åï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å®ƒä»¬çš„ç”¨æ³•ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è·å–é€€å‡ºç &#34;&gt;è·å–é€€å‡ºç &lt;/h3&gt;
&lt;p&gt;å‰ä¸€ä¸ªå‘½ä»¤æ‰§è¡Œçš„é€€å‡ºç å­˜å‚¨åœ¨ &lt;a class=&#34;link&#34; href=&#34;https://linuxhandbook.com:443/bash-special-variables/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ç‰¹æ®Šå˜é‡&lt;/a&gt; &lt;code&gt;$?&lt;/code&gt; ä¸­ã€‚ä½ å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥è·å–ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;echo $?
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æˆ‘ä»¬åœ¨æ‰€æœ‰æ¼”ç¤ºä¸­éƒ½å°†ä½¿ç”¨å®ƒæ¥è·å–é€€å‡ºä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;è¯·æ³¨æ„ï¼Œ&lt;code&gt;exit&lt;/code&gt; å‘½ä»¤æ”¯æŒä»¥å¸¦ç€å‰ä¸€æ¡å‘½ä»¤ç›¸åŒçš„é€€å‡ºç é€€å‡ºã€‚&lt;/p&gt;
&lt;h3 id=&#34;é€€å‡ºç -0&#34;&gt;é€€å‡ºç  0&lt;/h3&gt;
&lt;p&gt;é€€å‡ºç  &lt;code&gt;0&lt;/code&gt; è¡¨ç¤ºå‘½ä»¤æ‰§è¡Œæ— è¯¯ï¼Œè¿™æ˜¯å®Œæˆå‘½ä»¤çš„ç†æƒ³çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¿è¡Œè¿™æ ·ä¸€æ¡åŸºæœ¬å‘½ä»¤&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;neofetch 

echo $?
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;https://itsfoss.com/content/images/2023/06/exit_code_0.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªé€€å‡ºç  &lt;code&gt;0&lt;/code&gt; è¡¨ç¤ºç‰¹å®šå‘½ä»¤å·²æˆåŠŸæ‰§è¡Œï¼Œä»…æ­¤è€Œå·²ã€‚è®©æˆ‘ä»¬å†æ¼”ç¤ºå‡ ä¸ªä¾‹å­ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥å°è¯• &lt;a class=&#34;link&#34; href=&#34;https://itsfoss.com/how-to-find-the-process-id-of-a-program-and-kill-it-quick-tip/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ç»ˆæ­¢ä¸€ä¸ªè¿›ç¨‹&lt;/a&gt;ï¼›å®ƒä¹Ÿä¼šè¿”å›ä»£ç  &lt;code&gt;0&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pkill lxappearance
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;https://itsfoss.com/content/images/2023/06/exit_code_0.gif&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹æ–‡ä»¶å†…å®¹ä¹Ÿä¼šè¿”å›é€€å‡ºç  0ï¼Œè¿™&lt;strong&gt;ä»…&lt;/strong&gt;æ„å‘³ç€ &lt;code&gt;cat&lt;/code&gt; å‘½ä»¤æ‰§è¡ŒæˆåŠŸã€‚&lt;/p&gt;
&lt;h3 id=&#34;é€€å‡ºç -1&#34;&gt;é€€å‡ºç  1&lt;/h3&gt;
&lt;p&gt;é€€å‡ºç  &lt;code&gt;1&lt;/code&gt; ä¹Ÿå¾ˆå¸¸è§ã€‚å®ƒé€šå¸¸è¡¨ç¤ºå‘½ä»¤ä»¥ä¸€èˆ¬é”™è¯¯ç»“æŸã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œåœ¨æ²¡æœ‰ sudo æƒé™çš„æƒ…å†µä¸‹ä½¿ç”¨ &lt;a class=&#34;link&#34; href=&#34;https://itsfoss.com/package-manager/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è½¯ä»¶åŒ…ç®¡ç†å™¨&lt;/a&gt;ï¼Œå°±ä¼šè¿”å›ä»£ç  &lt;code&gt;1&lt;/code&gt;ã€‚åœ¨ Arch Linux ä¸­ï¼Œå¦‚æœæˆ‘è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pacman -Sy
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å®ƒä¼šè¿”å› &lt;code&gt;1&lt;/code&gt;ï¼Œ è¡¨ç¤ºä¸Šä¸€æ¡å‘½ä»¤è¿è¡Œå‡ºé”™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://itsfoss.com/content/images/2023/06/exit_code_1.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;exit code 1 (impermissible operation resulted in this code)&#34;
	
	
&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ“‹ å¦‚æœä½ åœ¨åŸºäº Ubuntu çš„å‘è¡Œç‰ˆä¸­å°è¯•è¿™æ ·åšï¼ˆä¸ä½¿ç”¨ &lt;code&gt;sudo&lt;/code&gt; æ‰§è¡Œ &lt;code&gt;apt update&lt;/code&gt;ï¼‰ï¼Œè¿è¡Œåä¼šå¾—åˆ°é”™è¯¯ç  &lt;code&gt;100&lt;/code&gt;ï¼Œè¡¨ç¤ºä½ æ˜¯åœ¨æ²¡æœ‰æƒé™çš„æƒ…å†µä¸‹è¿è¡Œ &lt;code&gt;apt&lt;/code&gt;ã€‚&lt;code&gt;100&lt;/code&gt; ä¸æ˜¯æ ‡å‡†é”™è¯¯ç ï¼Œè€Œæ˜¯ &lt;code&gt;apt&lt;/code&gt; ç‰¹æœ‰çš„é”™è¯¯ç ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è™½ç„¶è¿™æ˜¯ä¸€èˆ¬çš„ç†è§£ï¼Œä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†å…¶è§£é‡Šä¸º â€œä¸è¢«å…è®¸çš„æ“ä½œâ€ã€‚&lt;/p&gt;
&lt;p&gt;é™¤ä»¥ &lt;code&gt;0&lt;/code&gt; ç­‰æ“ä½œä¹Ÿä¼šè¿”å›é”™è¯¯ç  &lt;code&gt;1&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://itsfoss.com/content/images/2023/06/exit_code_1-division_by_0-.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Division by zero results in code 1&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;é€€å‡ºç -2&#34;&gt;é€€å‡ºç  2&lt;/h3&gt;
&lt;p&gt;è¿™ä¸ªé€€å‡ºç å‡ºç°åœ¨å½“æ‰§è¡Œçš„å‘½ä»¤æœ‰è¯­æ³•é”™è¯¯æ—¶ã€‚æ»¥ç”¨å‘½ä»¤å‚æ•°ä¹Ÿä¼šå¯¼è‡´æ­¤é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œå®ƒè¡¨ç¤ºç”±äºä½¿ç”¨ä¸å½“ï¼Œå‘½ä»¤æ— æ³•æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œæˆ‘åœ¨ä¸€ä¸ªæœ¬åº”åªæœ‰ä¸€ä¸ªè¿å­—ç¬¦çš„é€‰é¡¹ä¸Šæ·»åŠ äº†ä¸¤ä¸ªè¿å­—ç¬¦ï¼Œé‚£ä¹ˆæ­¤æ—¶ä¼šå‡ºç°é€€å‡ºç  2ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;grep --z file.txt
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;https://itsfoss.com/content/images/2023/06/exit_status_2-misusing_arguments--1.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Invalid argument resulted in exit code 2&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å½“æƒé™è¢«æ‹’ç»æ—¶ï¼Œæ¯”å¦‚è®¿é—® &lt;code&gt;/root&lt;/code&gt; æ–‡ä»¶å¤¹ï¼Œå°±ä¼šå‡ºç°é”™è¯¯ç  &lt;code&gt;2&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://itsfoss.com/content/images/2023/06/exit_code_2-permission_denied-.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Permission denied gives out code 2&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;é€€å‡ºç -126&#34;&gt;é€€å‡ºç  126&lt;/h3&gt;
&lt;p&gt;126 æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„é€€å‡ºç ï¼Œå®ƒç”¨äºè¡¨ç¤ºå‘½ä»¤æˆ–è„šæœ¬å› æƒé™é”™è¯¯è€Œæœªè¢«æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;å½“ä½ å°è¯•æ‰§è¡Œæ²¡æœ‰æ‰§è¡Œæƒé™çš„ Shell è„šæœ¬æ—¶ï¼Œå°±ä¼šå‡ºç°è¿™ä¸ªé”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://itsfoss.com/content/images/2023/06/exit_code_126.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;è¯·æ³¨æ„ï¼Œè¯¥é€€å‡ºç åªå‡ºç°åœ¨æ²¡æœ‰è¶³å¤Ÿæƒé™çš„è„šæœ¬æˆ–å‘½ä»¤çš„â€œ&lt;em&gt;æ‰§è¡Œ&lt;/em&gt;â€ä¸­ï¼Œè¿™ä¸ä¸€èˆ¬çš„&lt;strong&gt;æƒé™è¢«æ‹’ç»&lt;/strong&gt;é”™è¯¯ä¸åŒã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œä¸è¦æŠŠå®ƒä¸ä½ ä¹‹å‰çœ‹åˆ°çš„é€€å‡ºç ä¸º &lt;code&gt;2&lt;/code&gt; çš„ç¤ºä¾‹æ··æ·†ã€‚åœ¨é‚£ä¸ªç¤ºä¾‹ä¸­ï¼Œè¿è¡Œçš„æ˜¯ &lt;code&gt;ls&lt;/code&gt; å‘½ä»¤ï¼Œæƒé™é—®é¢˜å‡ºè‡ªå®ƒè¯•å›¾æ‰§è¡Œçš„ç›®å½•ã€‚è€Œæœ¬ä¾‹ä¸­æƒé™é—®é¢˜æ¥è‡ªè„šæœ¬æœ¬èº«ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é€€å‡ºç -127&#34;&gt;é€€å‡ºç  127&lt;/h3&gt;
&lt;p&gt;è¿™æ˜¯å¦ä¸€ä¸ªå¸¸è§çš„é€€å‡ºç ã€‚é€€å‡ºç  &lt;code&gt;127&lt;/code&gt; æŒ‡çš„æ˜¯â€œ&lt;a class=&#34;link&#34; href=&#34;https://itsfoss.com/bash-command-not-found/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æœªæ‰¾åˆ°å‘½ä»¤&lt;/a&gt;â€ã€‚å®ƒé€šå¸¸å‘ç”Ÿåœ¨æ‰§è¡Œçš„å‘½ä»¤æœ‰é”™åˆ«å­—æˆ–æ‰€éœ€çš„å¯æ‰§è¡Œæ–‡ä»¶ä¸åœ¨ &lt;code&gt;$PATH&lt;/code&gt; å˜é‡ä¸­æ—¶ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå½“æˆ‘å°è¯•æ‰§è¡Œä¸€ä¸ªä¸å¸¦è·¯å¾„çš„è„šæœ¬æ—¶ï¼Œç»å¸¸ä¼šçœ‹åˆ°è¿™ä¸ªé”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://itsfoss.com/content/images/2023/06/exit_code_127.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Script executed without the path gives &amp;ldquo;command not found&amp;rdquo; or code 127&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å½“ä½ æƒ³è¿è¡Œçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸åœ¨ &lt;code&gt;$PATH&lt;/code&gt; å˜é‡ä¸­æ—¶ï¼Œä¹Ÿä¼šå‡ºç°é€€å‡ºç  &lt;code&gt;127&lt;/code&gt;ã€‚ä½ å¯ä»¥é€šè¿‡ &lt;a class=&#34;link&#34; href=&#34;https://itsfoss.com/add-directory-to-path-linux/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;åœ¨ PATH å˜é‡ä¸­æ·»åŠ å‘½ä»¤çš„ç›®å½•&lt;/a&gt; æ¥çº æ­£è¿™ç§æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;å½“ä½ è¾“å…¥ä¸å­˜åœ¨çš„å‘½ä»¤æ—¶ï¼Œä¹Ÿä¼šå¾—åˆ°è¿™æ ·çš„é€€å‡ºç ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://itsfoss.com/content/images/2023/06/exit_code_127-command_not_found--1.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Unmount is not a command, and Screenfetch is not installed, which resulted in code 127&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;é€€å‡ºç -128n-ç³»åˆ—&#34;&gt;é€€å‡ºç  128+n ç³»åˆ—&lt;/h3&gt;
&lt;p&gt;å½“åº”ç”¨ç¨‹åºæˆ–å‘½ä»¤å› è‡´å‘½é”™è¯¯è€Œç»ˆæ­¢æˆ–æ‰§è¡Œå¤±è´¥æ—¶ï¼Œå°†äº§ç”Ÿ 128 ç³»åˆ—é€€å‡ºç ï¼ˆ&lt;code&gt;128+n&lt;/code&gt;ï¼‰ï¼Œå…¶ä¸­ &lt;code&gt;n&lt;/code&gt; ä¸ºä¿¡å·ç¼–å·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;n&lt;/code&gt; åŒ…æ‹¬æ‰€æœ‰ç±»å‹çš„ç»ˆæ­¢ä»£ç ï¼Œå¦‚ &lt;code&gt;SIGTERM&lt;/code&gt;ã€&lt;code&gt;SIGKILL&lt;/code&gt; ç­‰ã€‚&lt;/p&gt;
&lt;h4 id=&#34;é€€å‡ºç -130-æˆ–-sigint&#34;&gt;é€€å‡ºç  130 æˆ– SIGINT&lt;/h4&gt;
&lt;p&gt;åœ¨é€šè¿‡ç»ˆæ­¢ä¿¡å· &lt;code&gt;2&lt;/code&gt; æˆ–æŒ‰ä¸‹ &lt;code&gt;Ctrl+C&lt;/code&gt; ä¸­æ–­è¿›ç¨‹æ—¶ï¼Œä¼šå‘å‡º &lt;code&gt;SIGINT&lt;/code&gt;ï¼ˆé”®ç›˜ä¸­æ–­ä¿¡å·ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºç»ˆæ­¢ä¿¡å·æ˜¯ &lt;code&gt;2&lt;/code&gt;ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—åˆ°çš„é€€å‡ºç æ˜¯ &lt;code&gt;130&lt;/code&gt;ï¼ˆ128+2ï¼‰ã€‚ä¸‹é¢çš„è§†é¢‘æ¼”ç¤ºäº† &lt;code&gt;lxappearance&lt;/code&gt; çš„ä¸­æ–­ä¿¡å·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https:/itsfoss.com/content/media/2023/06/exit_code_128-n-SIGINT-_compressed.mp4&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;é€€å‡ºç -137-æˆ–-sigkill&#34;&gt;é€€å‡ºç  137 æˆ– SIGKILL&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;SIGKILL&lt;/code&gt;ï¼ˆç«‹å³ç»ˆæ­¢ä¿¡å·ï¼‰è¡¨ç¤ºç»ˆæ­¢ä¿¡å· &lt;code&gt;9&lt;/code&gt;ã€‚è¿™æ˜¯ç»ˆæ­¢åº”ç”¨ç¨‹åºæ—¶æœ€ä¸åº”è¯¥ä½¿ç”¨çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºç»ˆæ­¢ä¿¡å·ä¸º &lt;code&gt;9&lt;/code&gt;ï¼Œå› æ­¤æˆ‘ä»¬å¾—åˆ°çš„é€€å‡ºä»£ç ä¸º &lt;code&gt;137&lt;/code&gt;ï¼ˆ128+9ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://itsfoss.com/content/media/2023/06/exit_code_128-n-SIGKILL-_compressed.mp4&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;é€€å‡ºç -143-æˆ–-sigterm&#34;&gt;é€€å‡ºç  143 æˆ– SIGTERM&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;SIGTERM&lt;/code&gt; æ˜¯è¿›ç¨‹åœ¨æœªæŒ‡å®šå‚æ•°çš„æƒ…å†µä¸‹è¢«æ€æ­»æ—¶çš„é»˜è®¤è¡Œä¸ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SIGTERM&lt;/code&gt; çš„ç»ˆæ­¢ä¿¡å·ä¸º &lt;code&gt;15&lt;/code&gt;ï¼Œå› æ­¤è¯¥ä¿¡å·çš„é€€å‡ºç ä¸º &lt;code&gt;143&lt;/code&gt;ï¼ˆ128+15ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://itsfoss.com/content/media/2023/06/exit_code_128-n-SIGTERM-_compressed-1.mp4&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€äº›ä½ ä»¥å‰å¯èƒ½ä¸çŸ¥é“çš„ç»ˆæ­¢ä¿¡å·ï¼Œå®ƒä»¬ä¹Ÿæœ‰è‡ªå·±ç±»ä¼¼çš„é€€å‡ºç ã€‚ä½ å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹å®ƒä»¬ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ“‹ è¯·æ³¨æ„ï¼Œå¦‚æœè¿›ç¨‹åœ¨å¯åŠ¨å®ƒçš„åŒä¸€ä¼šè¯ä¸­ç»ˆæ­¢ï¼Œè¿™äº›ä¿¡å·å¯èƒ½ä¸ä¼šå‡ºç°ã€‚å¦‚æœè¦é‡ç°è¿™äº›ä¿¡å·ï¼Œè¯·ä»ä¸åŒçš„ shell ç»ˆæ­¢ã€‚&lt;/p&gt;
&lt;p&gt;å°±ä¸ªäººè€Œè¨€ï¼Œä¿¡å· &lt;code&gt;128&lt;/code&gt; æ˜¯æ— æ³•é‡ç°çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;å½“é€€å‡ºç è¶…è¿‡äº†-255-ä¼šæ€æ ·&#34;&gt;å½“é€€å‡ºç è¶…è¿‡äº† 255 ä¼šæ€æ ·?&lt;/h3&gt;
&lt;p&gt;æœ€æ–°ç‰ˆæœ¬çš„ Bash ç”šè‡³ä¿ç•™äº†è¶…è¿‡ 255 çš„åŸå§‹é€€å‡ºç çš„å€¼ï¼Œä½†ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœä»£ç è¶…è¿‡ 255ï¼Œå°±ä¼šè¢«é‡æ–°è®¡ç®—ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ï¼Œä»£ç  &lt;code&gt;256&lt;/code&gt; ä¼šå˜æˆ &lt;code&gt;0&lt;/code&gt;ï¼Œ&lt;code&gt;257&lt;/code&gt; ä¼šå˜æˆ &lt;code&gt;1&lt;/code&gt;ï¼Œ&lt;code&gt;383&lt;/code&gt; ä¼šå˜æˆ &lt;code&gt;127&lt;/code&gt;ï¼Œä»¥æ­¤ç±»æ¨ã€‚ä¸ºç¡®ä¿æ›´å¥½çš„å…¼å®¹æ€§ï¼Œè¯·å°†é€€å‡ºç ä¿æŒåœ¨ &lt;code&gt;0&lt;/code&gt; è‡³ &lt;code&gt;255&lt;/code&gt; ä¹‹é—´ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç»“è¯­&#34;&gt;ç»“è¯­&lt;/h3&gt;
&lt;p&gt;å¸Œæœ›ä½ å¯¹ Linux Shell ä¸­çš„é€€å‡ºç æœ‰æ‰€äº†è§£ã€‚åœ¨æ’æŸ¥å„ç§é—®é¢˜æ—¶ï¼Œä½¿ç”¨å®ƒä»¬ä¼šéå¸¸æ–¹ä¾¿ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ è¦åœ¨ Shell è„šæœ¬ä¸­ä½¿ç”¨è¿™äº›ä»£ç ï¼Œè¯·ç¡®ä¿ä½ äº†è§£æ¯ä¸ªä»£ç çš„å«ä¹‰ï¼Œä»¥ä¾¿æ›´å®¹æ˜“åœ°æ’é™¤æ•…éšœã€‚&lt;/p&gt;
&lt;p&gt;è¿™å°±æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹ã€‚å¦‚æœ‰é—æ¼ï¼Œè¯·åœ¨è¯„è®ºåŒºå‘Šè¯‰æˆ‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;ï¼ˆé¢˜å›¾ï¼šMJ/719ff711-1b9f-4aa9-a82e-980704acbdd8ï¼‰&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://itsfoss.com/linux-exit-codes/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://itsfoss.com/linux-exit-codes/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://itsfoss.com/author/pranav/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Pranav Krishna&lt;/a&gt;
é€‰é¢˜ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lkxed/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;lkxed&lt;/a&gt;
è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Xiaobin.Liu&lt;/a&gt;
æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/wxy&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;wxy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/LCTT/TranslateProject&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;LCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://linux.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Linuxä¸­å›½&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘ä½¿ç”¨ Lens Desktop ç›‘æ§å’Œè°ƒè¯• Kubernetes</title>
        <link>https://lxb.wiki/e94f2376/</link>
        <pubDate>Fri, 05 May 2023 08:14:34 +0800</pubDate>
        
        <guid>https://lxb.wiki/e94f2376/</guid>
        <description>&lt;p&gt;&lt;img src=&#34;https://img.linux.net.cn/data/attachment/album/202305/04/193543uvvdi14469ngnop4.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Lens Desktop æ˜¯ä¸€ä¸ªä»¤äººå…´å¥‹çš„ Kubernetes å·¥ä½œå¹³å°ã€‚å®ƒæ˜¯åŸºäº OpenLens èµ„æºåº“çš„ä¸€ä¸ªå®šåˆ¶åŒ–å‘è¡Œç‰ˆæœ¬ã€‚é€šè¿‡æœ¬æ–‡æ¥äº†è§£ä¸‹ Lens Desktop èƒ½åšä»€ä¹ˆä»¥åŠå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Lens Desktop æ˜¯å…è´¹çš„ã€‚ä½ å¯ä»¥æŸ¥çœ‹ &lt;a class=&#34;link&#34; href=&#34;https://app.k8slens.dev/subscribe&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://app.k8slens.dev/subscribe&lt;/a&gt; æ¥äº†è§£æ›´å¤šå†…å®¹ã€‚Lens Desktop æœ‰å¦‚ä¸‹ä¼˜åŠ¿ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç®€å•é«˜æ•ˆ â€”â€” ä½ æ— éœ€å­¦ä¹  &lt;code&gt;kubectl&lt;/code&gt; å‘½ä»¤&lt;/li&gt;
&lt;li&gt;å¯è§†åŒ–å·²æœ‰çš„ Kubernetes èµ„æº&lt;/li&gt;
&lt;li&gt;åŸºäºå¼€æºä»£ç æ„å»º&lt;/li&gt;
&lt;li&gt;å¯è§‚æµ‹æ€§ â€”â€” å®æ—¶çš„ç»Ÿè®¡æ•°æ®ã€äº‹ä»¶å’Œæ—¥å¿—æµ&lt;/li&gt;
&lt;li&gt;é”™è¯¯å’Œè­¦å‘Šå¯ä»¥ç›´æ¥åœ¨ Lens ä»ªè¡¨ç›˜ä¸Šçœ‹åˆ°&lt;/li&gt;
&lt;li&gt;æ”¯æŒ EKSã€AKSã€GKEã€Minikubeã€Rancherã€k0sã€k3sã€OpenShift&lt;/li&gt;
&lt;li&gt;å¼ºå¤§çš„ç¤¾åŒºæ”¯æŒ â€”â€” æœ‰ 450000 ç”¨æˆ·ï¼Œåœ¨ GitHub ä¸Šå…±è·å¾— 17000 æ˜Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;minikube-å®‰è£…&#34;&gt;Minikube å®‰è£…&lt;/h3&gt;
&lt;p&gt;Minikube æ˜¯ä¸€ä¸ªç”¨äºæœ¬åœ°è¿è¡Œ Kubernetes çš„å·¥å…·ã€‚å®ƒè¿è¡Œä¸€ä¸ªå•èŠ‚ç‚¹çš„ Kubernetes é›†ç¾¤ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ Kubernetes ä¸Šè¿›è¡Œæ—¥å¸¸è½¯ä»¶å¼€å‘çš„å®è·µå·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å°†ä½¿ç”¨ Minikube å¹¶éªŒè¯ Lens çš„ç”¨æ³•ã€‚é¦–å…ˆè®©æˆ‘ä»¬åœ¨åŸºäº Windows çš„ç³»ç»Ÿä¸Šå®‰è£… Minikubeã€‚ä½ ä¹Ÿå¯ä»¥æŠŠå®ƒå®‰è£…åœ¨å…¶ä»–æ“ä½œç³»ç»Ÿã€è™šæ‹Ÿæœºæˆ–ç¬”è®°æœ¬ç”µè„‘ä¸Šã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;2 æ ¸ä»¥ä¸Š CPU&lt;/li&gt;
&lt;li&gt;2GB RAM&lt;/li&gt;
&lt;li&gt;20GB ç©ºé—²ç¡¬ç›˜ç©ºé—´&lt;/li&gt;
&lt;li&gt;èƒ½è¿æ¥ç½‘ç»œ&lt;/li&gt;
&lt;li&gt;å®¹å™¨æˆ–è™šæ‹Ÿæœºç®¡ç†å™¨ï¼Œå¦‚ Dockerã€VirtualBox&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨ç»ˆç«¯æˆ–å‘½ä»¤æç¤ºç¬¦å¤„ï¼Œè¿è¡Œ &lt;code&gt;minikube start&lt;/code&gt; å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;minikube start --driver&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;virtualbox
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;* minikube v1.12.3 on Microsoft Windows &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt; Home Single Language 10.0.19044 Build &lt;span style=&#34;color:#ae81ff&#34;&gt;19044&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;* Using the virtualbox driver based on existing profile
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;* minikube 1.26.0 is available! Download it: https://github.com/kubernetes/minikube/releases/tag/v1.26.0
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;* To disable this notice, run: â€˜minikube config set WantUpdateNotification falseâ€™
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;* Starting control plane node minikube in cluster minikube
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;* virtualbox â€œminikubeâ€ VM is missing, will recreate.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;* Creating virtualbox VM &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;CPUs&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;2, Memory&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;3000MB, Disk&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;20000MB&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;! This VM is having trouble accessing https://k8s.gcr.io
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;* To pull new external images, you may need to configure a proxy: https://minikube.sigs.k8s.io/docs/reference/networking/proxy/
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;* Preparing Kubernetes v1.18.3 on Docker 19.03.12 ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;* Verifying Kubernetes components...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;* Enabled addons: default-storageclass, storage-provisioner
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;* Done! kubectl is now configured to use â€œminikubeâ€
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿›å…¥ä½ çš„ VirtualBoxï¼Œå¹¶éªŒè¯åˆšå®‰è£…çš„ Minikube è™šæ‹ŸæœºåŠŸèƒ½æ­£å¸¸ï¼ˆå›¾ 1ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://www.opensourceforu.com/wp-content/uploads/2022/08/Figure-1-Minikube-virtual-machine-in-virtual-box.jpg&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Figure 1: Minikube virtual machine in virtual box&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;minikube status&lt;/code&gt; å‘½ä»¤ï¼ŒæŸ¥çœ‹çŠ¶æ€æ˜¯å¦ä¸ä¸‹é¢çš„è¾“å‡ºä¸€è‡´ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;C:&lt;span style=&#34;color:#ae81ff&#34;&gt;\&amp;gt;&lt;/span&gt;minikube status
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;minikube
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;type: Control Plane
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;host: Running
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;kubelet: Running
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;apiserver: Running
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;kubeconfig: Configured
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åï¼Œä½¿ç”¨ &lt;code&gt;kubectl cluster-info&lt;/code&gt; å‘½ä»¤æŸ¥çœ‹ KubeDNS è¯¦æƒ…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;kubectl cluster-info
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Kubernetes master is running at https://192.168.99.103:8443
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;KubeDNS is running at https://192.168.99.103:8443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½ å¯ä»¥ä½¿ç”¨ &lt;code&gt;kubectl cluster-info dump&lt;/code&gt; å‘½ä»¤æ¥è°ƒè¯•å’Œè¯Šæ–­é›†ç¾¤é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å½“ Minikube å®‰è£…å®Œæˆåï¼Œå®‰è£… &lt;code&gt;kubectl&lt;/code&gt;ï¼ˆ&lt;a class=&#34;link&#34; href=&#34;https://kubernetes.io/docs/tasks/tools/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://kubernetes.io/docs/tasks/tools/&lt;/a&gt;ï¼‰ã€‚å®ƒæ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œé›†ç¾¤ï¼Œç”¨äºå¯¹ Kubernetes é›†ç¾¤å’Œ Minikube æ‰§è¡Œå‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202305050826151.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Figure 2: Lens&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ‰§è¡Œ &lt;code&gt;kubectl get nodes&lt;/code&gt; å‘½ä»¤è·å–æ‰€æœ‰ node çš„è¯¦æƒ…ï¼Œåœ¨æœ¬ä¾‹ä¸­æ˜¯è·å– Minikube çš„è¯¦æƒ…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;C:&lt;span style=&#34;color:#ae81ff&#34;&gt;\&amp;gt;&lt;/span&gt;kubectl get nodes
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;NAME       STATUS   ROLES    AGE     VERSION
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;minikube   Ready    master   7m57s   v1.18.3
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½¿ç”¨ &lt;code&gt;kubectl get all&lt;/code&gt; å‘½ä»¤è·å–é»˜è®¤å‘½åç©ºé—´ä¸‹çš„æ‰€æœ‰è¯¦æƒ…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;C:&lt;span style=&#34;color:#ae81ff&#34;&gt;\&amp;gt;&lt;/span&gt;kubectl get all
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;S&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;   AGE
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;service/kubernetes   ClusterIP   10.96.0.1    &amp;lt;none&amp;gt;        443/TCP   7m58s
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬ç°åœ¨å·²ç»æœ‰ä¸€ä¸ª Minikube é›†ç¾¤ï¼Œå¹¶å‡†å¤‡å¥½äº† Kubectlã€‚ä¸‹ä¸€æ­¥æ˜¯å®‰è£…å’Œé…ç½® Lensï¼Œå¹¶ç”¨ç¤ºä¾‹åº”ç”¨ç¨‹åºæ¥éªŒè¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;lens-çš„å®‰è£…å’Œé…ç½®&#34;&gt;Lens çš„å®‰è£…å’Œé…ç½®&lt;/h3&gt;
&lt;p&gt;æ‰“å¼€ &lt;a class=&#34;link&#34; href=&#34;https://k8slens.dev/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://k8slens.dev/&lt;/a&gt; ï¼Œä¸‹è½½ä¸ä½ çš„æ“ä½œç³»ç»ŸåŒ¹é…çš„å®‰è£…åŒ…ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åï¼Œå‚ç…§å±å¹•ä¸Šçš„æ•™ç¨‹æ¥å®‰è£… Lensï¼Œå®‰è£…å®Œæˆåæ‰“å¼€ Lensã€‚ä½ ä¼šå‘ç°åœ¨ç›®å½•ä¸­æœ‰ä¸€ä¸ª &lt;code&gt;minikube&lt;/code&gt;ï¼ˆå›¾ 3ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202305050828133.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Figure 3: Lens catalogue&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç‚¹å‡» â€œminikubeâ€ åï¼Œä½ å°±è¿›å…¥äº† Minikube çš„ä¸–ç•Œï¼Œä½ ä¼šçˆ±ä¸Šå®ƒçš„ã€‚&lt;/p&gt;
&lt;p&gt;ç‚¹å‡» nodes è·å–æœ‰å…³ &lt;code&gt;kubectl get nodes&lt;/code&gt; å‘½ä»¤è¾“å‡ºçš„ node è¯¦æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ Lens äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202305050829353.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Figure 4: Lens cluster&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç°åœ¨éƒ¨ç½² &lt;a class=&#34;link&#34; href=&#34;https://github.com/GoogleCloudPlatform/microservices-demo&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/GoogleCloudPlatform/microservices-demo&lt;/a&gt;ï¼Œè¿™æ˜¯ä¸€ä¸ªäº‘åŸç”Ÿå¾®æœåŠ¡æ¼”ç¤ºåº”ç”¨ç¨‹åºã€‚å®ƒæœ‰ 11 å±‚çš„å¾®æœåŠ¡åº”ç”¨ï¼Œæ˜¯ä¸€ä¸ªåŸºäºç½‘ç»œçš„ç”µå­å•†åŠ¡åº”ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹è½½è¿™ä¸ªåº”ç”¨ç¨‹åºï¼ŒæŠŠå®ƒè§£å‹åˆ°ä¸ Minikube ç›¸åŒçš„ç›®å½•ã€‚&lt;/p&gt;
&lt;p&gt;è¿›å…¥ &lt;code&gt;release&lt;/code&gt; ç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;kubectl apply -f kubernetes-manifests.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;deployment.apps/emailservice created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;service/emailservice created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;deployment.apps/checkoutservice created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;service/checkoutservice created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;deployment.apps/recommendationservice created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;service/recommendationservice created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;deployment.apps/frontend created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;service/frontend created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;service/frontend-external created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;deployment.apps/paymentservice created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;service/paymentservice created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;deployment.apps/productcatalogservice created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;service/productcatalogservice created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;deployment.apps/cartservice created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;service/cartservice created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;deployment.apps/loadgenerator created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;deployment.apps/currencyservice created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;service/currencyservice created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;deployment.apps/shippingservice created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;service/shippingservice created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;deployment.apps/redis-cart created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;service/redis-cart created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;deployment.apps/adservice created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;service/adservice created
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®‰è£…è¿‡ç¨‹ç°åœ¨åº”è¯¥å·²ç»å¼€å§‹äº†ï¼Œä¸è¿‡å®ƒéœ€è¦ä¸€äº›æ—¶é—´æ¥åæ˜ å‡ºæˆ‘ä»¬ä½¿ç”¨äº† &lt;code&gt;kubectl&lt;/code&gt; å‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202305050829421.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Figure 5: Lens nodes&#34;
	
	
&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;kubectl get pods
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;NAME                 READY   STATUS    RESTARTS   AGE
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;adservice-775d8b9bf5-cp7jr   0/1     Pending   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;          8h
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cartservice-79749895f5-jrq4d  1/1     Running   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;         8h
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;checkoutservice-5645bf9c65-882m4  1/1   Running  &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;        8h
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;currencyservice-545c79d477-8rhg7  1/1  Running   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;         8h
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;emailservice-7cc5c74b4f-hk74s     1/1  Running   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;        8h
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;frontend-9cdf787f5-klfkh    1/1     Running   &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;          8h
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;loadgenerator-7b6874cb4c-645v9   1/1  Running   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;        8h
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;paymentservice-5f74bc7b87-l4248  1/1  Running   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;        8h
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;productcatalogservice-6846f59899-v4q4w  1/1  Running  &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;  8h
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;recommendationservice-d9c6c8b55-m2x9k  1/1  Running   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;  8h
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;redis-cart-57bd646894-v7kfr    0/1   Pending   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;         8h
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;shippingservice-8685dd9855-pmgjm  1/1  Running  &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;        8h
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¡¨ 1 åˆ—å‡ºäº†ä½ å¯ä»¥é€šè¿‡ &lt;code&gt;kubectl&lt;/code&gt; æ¥è·å–ä¿¡æ¯çš„å‡ ä¸ªå‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202305050829835.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Figure 6: Lens pods&#34;
	
	
&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;æè¿°&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å‘½ä»¤&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åˆ—å‡ºèŠ‚ç‚¹&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;kubectl get node&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åˆ—å‡ºé›†ç¾¤ä¸­çš„æ‰€æœ‰èµ„æº&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;kubectl get all â€“all-namespaces&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åˆ—å‡ºéƒ¨ç½²&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;kubectl get deployment&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ˜¾ç¤ºéƒ¨ç½²çš„å®Œæ•´çŠ¶æ€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;kubectl describe deployment &amp;lt;deployment_name&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¿®æ”¹é›†ç¾¤ä¸Šçš„éƒ¨ç½²&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;kubectl edit deployment &amp;lt;deployment_name&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åˆ é™¤éƒ¨ç½²&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;kubectl delete deployment &amp;lt;deployment_name&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åˆ—å‡ºå®¹å™¨èš&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;kubectl get pod&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åˆ é™¤å®¹å™¨èš&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;kubectl delete pod &amp;lt;pod_name&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ˜¾ç¤ºå®¹å™¨èšçš„å®Œæ•´çŠ¶æ€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;kubectl describe pod &amp;lt;pod_name&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åœ¨ Shell ä¸­è¿è¡Œä¸€ä¸ªå•å®¹å™¨èš&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;kubectl exec -it &amp;lt;pod_name&amp;gt; /bin/bash&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åˆ—å‡ºæœºå¯†ä¿¡æ¯&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;kubectl get secrets&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åˆ—å‡ºæœåŠ¡&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;kubectl get services&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åˆ—å‡ºæœåŠ¡çš„å®Œæ•´çŠ¶æ€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;kubectl describe services&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¿®æ”¹é›†ç¾¤ä¸­çš„æœåŠ¡&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;kubectl edit services / kubectl edit deployment &amp;lt;deployment_name&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åˆ—å‡ºå‘½åç©ºé—´&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;kubectl get namespace &amp;lt;namespace_name&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ‰“å°å®¹å™¨èšæ—¥å¿—&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;kubectl logs &amp;lt;pod_name&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ‰“å°å®¹å™¨èšä¸­ç‰¹å®šå®¹å™¨çš„æ—¥å¿—&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;kubectl logs -c &amp;lt;container_name&amp;gt; &amp;lt;pod_name&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Lens ä¸ä»…å¯ä»¥å¸®ä½ è·å–è¡¨ 1 ä¸­åˆ—å‡ºçš„æ‰€æœ‰ä¿¡æ¯ï¼Œå®ƒè¿˜å¯ä»¥è·å–æŒ‡å®šé›†ç¾¤çš„ä¿¡æ¯ã€‚æˆ‘ä»¬è¿˜èƒ½ç”¨ Lens æ¥å¯¹ Kubernetes èµ„æºè¿›è¡Œç¼–è¾‘å’Œåˆ é™¤æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202305050830403.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Figure 7: Lens deployments&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ¥çœ‹ä¸‹æ˜¯å¦‚ä½•æ“ä½œçš„ã€‚åœ¨ Workloads éƒ¨åˆ†é€‰æ‹© Podsï¼ˆå›¾ 6ï¼‰ï¼Œæˆ‘ä»¬èƒ½é€šè¿‡ Lens æ¥ç¼–è¾‘ã€åˆ é™¤ã€æŸ¥çœ‹æ—¥å¿—ã€è®¿é—® Pod çš„ç»ˆç«¯ï¼Œè¿™æ˜¯ä¸æ˜¯å¾ˆé…·ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202305050830853.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Figure 8: Lens Replicasets&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥éªŒè¯ Workloads åŒºåŸŸä¸­æ‰€æœ‰ deploymentsï¼ˆå›¾ 7ï¼‰ï¼ŒWorkloads åŒºåŸŸä¸­æ‰€æœ‰ Replicasets ï¼ˆå›¾ 8ï¼‰ï¼ŒConfig åŒºåŸŸä¸­æ‰€æœ‰ Secrets ï¼ˆå›¾ 9ï¼‰ï¼Œä»¥åŠ Network åŒºåŸŸä¸­æ‰€æœ‰ Services æ˜¯å¦éƒ½æ­£å¸¸ï¼ˆå›¾ 10ï¼‰ï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202305050830883.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Figure 9: Lens Secrets&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥çœ‹åˆ°ï¼Œè·³è½¬åˆ°æ‰€æœ‰çš„èµ„æºä»¥åŠåœ¨ä¸€ä¸ªåœ°æ–¹é«˜æ•ˆåœ°æŸ¥çœ‹æ‰€æœ‰èµ„æºå°±æ˜¯å¦‚æ­¤è½»æ¾ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ Lens ä¿®æ”¹ YAML æ–‡ä»¶ï¼Œåœ¨è¿è¡Œæ—¶åº”ç”¨å®ƒæ¥æŸ¥çœ‹å˜æ›´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202305050831236.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Figure 10: Lens Services&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºé…ç½®åœ¨ä¸åŒçš„äº‘æœåŠ¡å•†éƒ¨ç½²çš„å¤šä¸ªé›†ç¾¤ï¼Œæˆ‘ä»¬ä»å¯ä»¥ç”¨ Lens æ¥è¿›è¡Œè§‚å¯Ÿå’Œæ•…éšœå¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;ï¼ˆé¢˜å›¾ï¼šMJ/069da8c5-9043-46b3-9b14-87a0ffc6bb35ï¼‰&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://www.opensourceforu.com/2022/09/monitoring-and-debugging-kubernetes-with-lens-desktop/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.opensourceforu.com/2022/09/monitoring-and-debugging-kubernetes-with-lens-desktop/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://www.opensourceforu.com/author/mitesh_soni/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Mitesh Soni&lt;/a&gt;
é€‰é¢˜ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lkxed&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;lkxed&lt;/a&gt;
è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Xiaobin.Liu&lt;/a&gt;
æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/wxy&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;wxy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/LCTT/TranslateProject&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;LCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://linux.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Linuxä¸­å›½&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘ç”¨ Tekton åœ¨ Kubernetes ä¸­ç¼–å†™ä½ çš„ç¬¬ä¸€æ¡ CI/CD æµæ°´çº¿</title>
        <link>https://lxb.wiki/2966fc1/</link>
        <pubDate>Sat, 01 Apr 2023 23:09:26 +0000</pubDate>
        
        <guid>https://lxb.wiki/2966fc1/</guid>
        <description>&lt;blockquote&gt;
&lt;p&gt;Tekton æ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºæŒç»­é›†æˆå’ŒæŒç»­äº¤ä»˜ï¼ˆCI/CDï¼‰ç³»ç»Ÿçš„ Kubernetes åŸç”Ÿå¼€æºæ¡†æ¶ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://img.linux.net.cn/data/attachment/album/202304/01/180822blxgx0c1k43n4kl4.jpg&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Tekton æ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºæŒç»­é›†æˆå’ŒæŒç»­äº¤ä»˜ï¼ˆCI/CDï¼‰ç³»ç»Ÿçš„ Kubernetes åŸç”Ÿå¼€æºæ¡†æ¶ã€‚é€šè¿‡å¯¹åº•å±‚å®æ–½ç»†èŠ‚çš„æŠ½è±¡ï¼Œå®ƒè¿˜å¯ä»¥å¸®åŠ©ä½ åœ¨å¤šä¸ªäº‘ä¾›åº”å•†æˆ–ä¼ä¸šå†…éƒ¨ç³»ç»Ÿä¸­è¿›è¡Œç«¯åˆ°ç«¯ï¼ˆæ„å»ºã€æµ‹è¯•ã€éƒ¨ç½²ï¼‰åº”ç”¨å¼€å‘ã€‚&lt;/p&gt;
&lt;h3 id=&#34;tekton-ä»‹ç»&#34;&gt;Tekton ä»‹ç»&lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/tektoncd/pipeline&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Tekton&lt;/a&gt; æœ€åˆè¢«ç§°ä¸º &lt;a class=&#34;link&#34; href=&#34;https://github.com/knative/build&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Knative Build&lt;/a&gt;ï¼Œåæ¥è¢«é‡ç»„ä¸ºç‹¬ç«‹çš„å¼€æºé¡¹ç›®ï¼Œæœ‰è‡ªå·±çš„ &lt;a class=&#34;link&#34; href=&#34;https://cd.foundation/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æ²»ç†ç»„ç»‡&lt;/a&gt;ï¼Œç°åœ¨æ˜¯å±äº &lt;a class=&#34;link&#34; href=&#34;https://www.linuxfoundation.org/projects/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Linux åŸºé‡‘ä¼š&lt;/a&gt; çš„é¡¹ç›®ã€‚Tekton æä¾›äº†ä¸€ä¸ªé›†ç¾¤å†…çš„å®¹å™¨é•œåƒæ„å»ºå’Œéƒ¨ç½²å·¥ä½œæµç¨‹ï¼Œæ¢å¥è¯è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ª &lt;!-- raw HTML omitted --&gt;æŒç»­é›†æˆ&lt;!-- raw HTML omitted --&gt;continuous integration&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼ˆCIï¼‰å’Œ &lt;!-- raw HTML omitted --&gt;æŒç»­äº¤ä»˜&lt;!-- raw HTML omitted --&gt;continuous delivery&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼ˆCDï¼‰æœåŠ¡ã€‚å®ƒç”± Tekton æµæ°´çº¿å’Œå‡ ä¸ªæ”¯æŒç»„ä»¶å¦‚ Tekton CLIã€Triggers å’Œ Catalog ç­‰ç»„æˆã€‚&lt;/p&gt;
&lt;p&gt;Tekton æ˜¯ä¸€ä¸ª Kubernetes åŸç”Ÿåº”ç”¨ã€‚å®ƒåœ¨ Kubernetes é›†ç¾¤ä¸­ä½œä¸ºæ‰©å±•è¢«å®‰è£…å’Œè¿è¡Œï¼Œç”±ä¸€å¥—Kubernetes å®šåˆ¶åŒ–èµ„æºç»„æˆï¼Œå®šä¹‰äº†ä½ ä¸ºæµæ°´çº¿åˆ›å»ºå’Œå¤ç”¨çš„æ„å»ºå—ã€‚ç”±äº Tekton æ˜¯ä¸€ç§ Kubernetes åŸç”ŸæŠ€æœ¯ï¼Œæ‰€ä»¥å®ƒéå¸¸å®¹æ˜“æ‰©å±•ã€‚å½“ä½ éœ€è¦å¢åŠ ä½ çš„å·¥ä½œè´Ÿè½½æ—¶ï¼Œä½ åªéœ€å‘ä½ çš„é›†ç¾¤æ·»åŠ èŠ‚ç‚¹å°±å¯ä»¥äº†ã€‚ç”±äºå…¶å¯æ‰©å±•çš„è®¾è®¡å’Œç¤¾åŒºè´¡çŒ®çš„ç»„ä»¶åº“ï¼Œå®ƒä¹Ÿå¾ˆå®¹æ˜“å®šåˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºéœ€è¦ CI/CD ç³»ç»Ÿæ¥å¼€å±•å·¥ä½œçš„å¼€å‘äººå‘˜ï¼Œå’Œä¸ºå…¶ç»„ç»‡å†…çš„å¼€å‘äººå‘˜å»ºç«‹ CI/CD ç³»ç»Ÿçš„å¹³å°å·¥ç¨‹å¸ˆï¼ŒTekton æ˜¯ç†æƒ³é€‰æ‹©ã€‚&lt;/p&gt;
&lt;h3 id=&#34;tektonç»„ä»¶&#34;&gt;TektonÂ ç»„ä»¶&lt;/h3&gt;
&lt;p&gt;æ„å»º CI/CD æµæ°´çº¿çš„è¿‡ç¨‹éå¸¸å¤æ‚ï¼Œå› æ­¤ Tekton ä¸ºæ¯ä¸€æ­¥éƒ½æä¾›å·¥å…·ã€‚ä»¥ä¸‹æ˜¯ Tekton æä¾›çš„ä¸»è¦ç»„ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;æµæ°´çº¿&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;Pipeline&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼š å®šä¹‰äº†ä¸€ç»„ Kubernetes &lt;a class=&#34;link&#34; href=&#34;https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è‡ªå®šä¹‰èµ„æº&lt;/a&gt;ï¼Œä½œä¸ºä½ ç”¨æ¥ç»„è£… CI/CD æµæ°´çº¿çš„æ„å»ºå—ã€‚&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;è§¦å‘å™¨&lt;!-- raw HTML omitted --&gt;Triggers&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼šä¸€ç§ Kubernetes è‡ªå®šä¹‰èµ„æºï¼Œå…è®¸ä½ æ ¹æ®ä»äº‹ä»¶æœ‰æ•ˆè½½è·ä¸­æå–çš„ä¿¡æ¯æ¥åˆ›å»ºæµæ°´çº¿ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥åœ¨æ¯æ¬¡åˆ›å»º Git ä»“åº“çš„åˆå¹¶è¯·æ±‚æ—¶ï¼Œè§¦å‘æµæ°´çº¿çš„å®ä¾‹åŒ–å’Œæ‰§è¡Œã€‚&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;å‘½ä»¤è¡Œ&lt;!-- raw HTML omitted --&gt;CLI&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼šæä¾›ä¸€ä¸ªåä¸º &lt;code&gt;tkn&lt;/code&gt; çš„å‘½ä»¤è¡Œç•Œé¢ï¼Œä½ å¯ä»¥ä½¿ç”¨å®ƒä»ç»ˆç«¯ä¸ Tekton è¿›è¡Œäº¤äº’ã€‚&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;ä»ªè¡¨ç›˜&lt;!-- raw HTML omitted --&gt;Dashboard&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼šæ˜¯ Tekton æµæ°´çº¿çš„ä¸€ä¸ªåŸºäºç½‘é¡µçš„å›¾å½¢ç•Œé¢ï¼Œæ˜¾ç¤ºæµæ°´çº¿çš„æ‰§è¡Œä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;ç›®å½•&lt;!-- raw HTML omitted --&gt;Catalog&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼šæ˜¯ä¸€ä¸ªé«˜è´¨é‡çš„ã€ç”±ç¤¾åŒºè´¡çŒ®çš„ Tekton æ„å»ºå—ï¼ˆä»»åŠ¡ã€æµæ°´çº¿ç­‰ï¼‰ï¼Œå¯åœ¨ä½ è‡ªå·±çš„æµæ°´çº¿ä¸­ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;ä¸­å¿ƒ&lt;!-- raw HTML omitted --&gt;Hub&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼šæ˜¯ä¸€ä¸ªåŸºäºç½‘é¡µçš„å›¾å½¢ç•Œé¢ï¼Œç”¨äºè®¿é—® Tekton ç›®å½•ã€‚&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;æ“ä½œå‘˜&lt;!-- raw HTML omitted --&gt;Operator&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼šæ˜¯ä¸€ç§ Kubernetes &lt;a class=&#34;link&#34; href=&#34;https://operatorhub.io/what-is-an-operator&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æ“ä½œå‘˜æ¨¡å¼&lt;/a&gt;ï¼Œä½ å¯ä»¥åœ¨ Kubernetes é›†ç¾¤ä¸­å®‰è£…ã€æ›´æ–°ã€å‡çº§å’Œåˆ é™¤ Tekton é¡¹ç›®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;é“¾&lt;!-- raw HTML omitted --&gt;Chains&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼šæ˜¯ä¸€ä¸ª Kubernetes &lt;!-- raw HTML omitted --&gt;è‡ªå®šä¹‰èµ„æºå®šä¹‰&lt;!-- raw HTML omitted --&gt;Custom Resource Definition&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼ˆCRDï¼‰æ§åˆ¶å™¨ï¼Œä½¿ä½ å¯ä»¥åœ¨ Tekton ä¸­å¤„ç†ä¾›åº”é“¾å®‰å…¨çš„é—®é¢˜ã€‚æ­£åœ¨å¼€å‘ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;ç»“æœ&lt;!-- raw HTML omitted --&gt;Results&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼šæ—¨åœ¨å¸®åŠ©ç”¨æˆ·å¯¹ CI/CD å·¥ä½œè´Ÿè½½å†å²è¿›è¡Œé€»è¾‘åˆ†ç»„ï¼Œå¹¶å°†é•¿æœŸç»“æœçš„å­˜å‚¨ä»æµæ°´çº¿æ§åˆ¶å™¨ä¸­åˆ†ç¦»å‡ºæ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;tekton-æœ¯è¯­&#34;&gt;Tekton æœ¯è¯­&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://opensource.com/sites/default/files/uploads/tekto-terminology.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Tekton terminology&#34;
	
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;æ­¥éª¤&lt;!-- raw HTML omitted --&gt;Step&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼šæ˜¯ CI/CD å·¥ä½œæµç¨‹ä¸­æœ€åŸºæœ¬çš„å®ä½“ï¼Œä¾‹å¦‚ä¸º Python ç½‘ç»œåº”ç”¨ç¨‹åºè¿è¡Œä¸€äº›å•å…ƒæµ‹è¯•æˆ–ç¼–è¯‘ä¸€ä¸ª Java ç¨‹åºã€‚Tekton ä½¿ç”¨å®¹å™¨é•œåƒæ‰§è¡Œæ¯ä¸ªæ­¥éª¤ã€‚&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;ä»»åŠ¡&lt;!-- raw HTML omitted --&gt;Task&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼š:**Â æ˜¯æŒ‰ç‰¹å®šé¡ºåºæ’åˆ—çš„æ­¥éª¤çš„é›†åˆã€‚Tekton ä»¥ &lt;a class=&#34;link&#34; href=&#34;https://kubebyexample.com/en/concept/pods&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Kubernetes å®¹å™¨èš&lt;/a&gt; çš„å½¢å¼è¿è¡Œä»»åŠ¡ï¼Œå…¶ä¸­æ¯ä¸ªæ­¥éª¤éƒ½æˆä¸º &lt;!-- raw HTML omitted --&gt;å®¹å™¨èš&lt;!-- raw HTML omitted --&gt;pod&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt; ä¸­çš„ä¸€ä¸ªè¿è¡Œå®¹å™¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;æµæ°´çº¿&lt;!-- raw HTML omitted --&gt;Pipelines&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼šæ˜¯æŒ‰ç‰¹å®šé¡ºåºæ’åˆ—çš„ä»»åŠ¡çš„é›†åˆã€‚Tekton æŠŠæ‰€æœ‰ä»»åŠ¡è¿æ¥æˆä¸€ä¸ª &lt;!-- raw HTML omitted --&gt;æœ‰å‘æ— ç¯å›¾&lt;!-- raw HTML omitted --&gt;directed acyclic graph&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼ˆDAGï¼‰ï¼Œå¹¶æŒ‰é¡ºåºæ‰§è¡Œå›¾ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒåˆ›å»ºäº†ä¸€äº› Kubernetes å®¹å™¨èšï¼Œå¹¶ç¡®ä¿æ¯ä¸ªå®¹å™¨èšæŒ‰é¢„æœŸæˆåŠŸè¿è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://opensource.com/sites/default/files/uploads/tekton-pipelines.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Tekton pipelines&#34;
	
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;æµæ°´çº¿è¿è¡Œ&lt;!-- raw HTML omitted --&gt;PipelineRun&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼šé¡¾åæ€ä¹‰ï¼Œæ˜¯ä¸€æ¡æµæ°´çº¿çš„å…·ä½“æ‰§è¡Œã€‚&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;ä»»åŠ¡è¿è¡Œ&lt;!-- raw HTML omitted --&gt;TaskRun&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼šæ˜¯ä¸€ä¸ªä»»åŠ¡çš„å…·ä½“æ‰§è¡Œã€‚ä½ å¯ä»¥é€‰æ‹©åœ¨æµæ°´çº¿å¤–è¿è¡Œä¸€æ¬¡ä»»åŠ¡è¿è¡Œï¼Œå¯ä»¥é€šè¿‡å®ƒæŸ¥çœ‹ä»»åŠ¡ä¸­æ¯ä¸ªæ­¥éª¤æ‰§è¡Œçš„å…·ä½“æƒ…å†µã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åˆ›å»ºä½ çš„-cicd-æµæ°´çº¿&#34;&gt;åˆ›å»ºä½ çš„ CI/CD æµæ°´çº¿&lt;/h3&gt;
&lt;p&gt;å¼€å§‹ä½¿ç”¨ Tekton çš„æœ€ç®€å•æ–¹æ³•æ˜¯è‡ªå·±ç¼–å†™ä¸€ä¸ªç®€å•çš„æµæ°´çº¿ã€‚å¦‚æœä½ æ¯å¤©éƒ½åœ¨ä½¿ç”¨ Kubernetesï¼Œé‚£ä½ å¯èƒ½å¯¹ YAML å¾ˆç†Ÿæ‚‰ï¼Œè¿™æ­£æ˜¯ Tekton æµæ°´çº¿çš„å®šä¹‰æ–¹å¼ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå…‹éš†ä»£ç åº“çš„ç®€å•æµæ°´çº¿çš„ä¾‹å­ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ª &lt;code&gt;task.yaml&lt;/code&gt; æ–‡ä»¶ï¼Œç”¨ä½ å–œæ¬¢çš„æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å®ƒã€‚è¿™ä¸ªæ–‡ä»¶å®šä¹‰äº†ä½ è¦æ‰§è¡Œçš„ &lt;!-- raw HTML omitted --&gt;æ­¥éª¤&lt;!-- raw HTML omitted --&gt;Step&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå°±æ˜¯å…‹éš†ä¸€ä¸ªä»“åº“ï¼Œæ‰€ä»¥æˆ‘æŠŠè¿™ä¸ªæ­¥éª¤å‘½åä¸º â€œcloneâ€ã€‚è¯¥æ–‡ä»¶è®¾ç½®äº†ä¸€äº›ç¯å¢ƒå˜é‡ï¼Œç„¶åä½¿ç”¨ä¸€ä¸ªç®€å•çš„ shell è„šæœ¬æ¥æ‰§è¡Œå…‹éš†ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥æ˜¯ &lt;!-- raw HTML omitted --&gt;ä»»åŠ¡&lt;!-- raw HTML omitted --&gt;Task&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ã€‚ä½ å¯ä»¥æŠŠæ­¥éª¤çœ‹ä½œæ˜¯ä¸€ä¸ªè¢«ä»»åŠ¡è°ƒç”¨çš„å‡½æ•°ï¼Œè€Œä»»åŠ¡åˆ™è®¾ç½®æ­¥éª¤æ‰€éœ€çš„å‚æ•°å’Œå·¥ä½œç©ºé—´ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;apiVersion&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;tekton.dev/v1beta1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;kind&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;Task&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;metadata&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;git-clone&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;spec&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â workspaces&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â - name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;output&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â description&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;The git repo will be cloned onto the volume backing this Workspace.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â params&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â - name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;url&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â description&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;Repository URL to clone from.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â type&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â - name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;revision&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â description&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;Revision to checkout. (branch, tag, sha, ref, etc...)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â type&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â default&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â steps&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â - name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;clone&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â image&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;gcr.io/tekton-releases/github.com/tektoncd/pipeline/cmd/git-init:v0.21.0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â env&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â  Â - name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;PARAM_URL&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â  Â  Â value&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;$(params.url)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â  Â - name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;PARAM_REVISION&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â  Â  Â value&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;$(params.revision)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â  Â - name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;WORKSPACE_OUTPUT_PATH&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â  Â  Â value&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;$(workspaces.output.path)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â script&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;Â  Â  Â &lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;#!/usr/bin/env sh&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;Â  Â  Â  Â set -eu&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;Â  Â  Â  Â CHECKOUT_DIR=&amp;#34;${WORKSPACE_OUTPUT_PATH}&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;Â  Â  Â  Â /ko-app/git-init \&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;Â  Â  Â  Â  Â -url=&amp;#34;${PARAM_URL}&amp;#34; \&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;Â  Â  Â  Â  Â -revision=&amp;#34;${PARAM_REVISION}&amp;#34; \&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;Â  Â  Â  Â  Â -path=&amp;#34;${CHECKOUT_DIR}&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;Â  Â  Â  Â cd &amp;#34;${CHECKOUT_DIR}&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;Â  Â  Â  Â EXIT_CODE=&amp;#34;$?&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;Â  Â  Â  Â if [ &amp;#34;${EXIT_CODE}&amp;#34; != 0 ] ; then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;Â  Â  Â  Â  Â exit &amp;#34;${EXIT_CODE}&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;Â  Â  Â  Â fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;Â  Â  Â  Â # Verify clone is success by reading readme file.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;Â  Â  Â  Â cat ${CHECKOUT_DIR}/README.md&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ›å»ºç¬¬äºŒä¸ªæ–‡ä»¶ &lt;code&gt;pipeline.yaml&lt;/code&gt;ï¼Œå¹¶ç”¨ä½ å–œæ¬¢çš„æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å®ƒã€‚è¿™ä¸ªæ–‡ä»¶é€šè¿‡è®¾ç½®è¯¸å¦‚å¯ä»¥è¿è¡Œå’Œå¤„ç†ä»»åŠ¡çš„å·¥ä½œåŒºç­‰é‡è¦å‚æ•°æ¥å®šä¹‰æµæ°´çº¿ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;apiVersion&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;tekton.dev/v1beta1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;kind&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;Pipeline&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;metadata&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;cat-branch-readme&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;spec&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â params&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â - name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;repo-url&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â type&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â description&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;The git repository URL to clone from.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â - name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;branch-name&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â type&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â description&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;The git branch to clone.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â workspaces&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â - name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;shared-data&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â description&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;Â  Â  Â  This workspace will receive the cloned git repo and be passed&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;Â  Â  Â  Â to the next Task for the repo&amp;#39;s README.md file to be read.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â tasks&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â - name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;fetch-repo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â taskRef&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â  Â name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;git-clone&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â workspaces&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â  Â - name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;output&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â  Â  Â workspace&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;shared-data&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â params&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â  Â - name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;url&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â  Â  Â value&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;$(params.repo-url)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â  Â - name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;revision&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â  Â  Â value&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;$(params.branch-name)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ€åï¼Œåˆ›å»ºä¸€ä¸ª &lt;code&gt;pipelinerun.yaml&lt;/code&gt; æ–‡ä»¶ï¼Œç”¨å–œæ¬¢çš„æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å®ƒã€‚è¿™ä¸ªæ–‡ä»¶çœŸæ­£çš„è¿è¡Œæµæ°´çº¿ã€‚å®ƒè°ƒç”¨æµæ°´çº¿ä¸­å®šä¹‰çš„å‚æ•°ï¼ˆç»§è€Œè°ƒç”¨ä»»åŠ¡æ–‡ä»¶ä¸­å®šä¹‰çš„ä»»åŠ¡ï¼‰ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;apiVersion&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;tekton.dev/v1beta1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;kind&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;PipelineRun&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;metadata&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;git-clone-checking-out-a-branch&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;spec&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â pipelineRef&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;cat-branch-readme&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â workspaces&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â - name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;shared-data&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â volumeClaimTemplate&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â  Â spec&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â  Â  Â accessModes&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;Â  Â  Â  Â  Â  - ReadWriteOnce&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â  Â  Â resources&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â  Â  Â  Â requests&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â  Â  Â  Â  Â storage&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;1Gi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â params&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â - name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;repo-url&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â value&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;&amp;lt;https://github.com/tektoncd/pipeline.git&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â - name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;branch-name&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Â  Â  Â value&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;release-v0.12.x&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æŠŠä¸åŒå·¥ä½œåˆ†åœ¨ä¸åŒçš„æ–‡ä»¶ä¸­çš„å¥½å¤„æ˜¯ï¼Œ&lt;code&gt;git-clone&lt;/code&gt; ä»»åŠ¡å¯ä»¥åœ¨å¤šæ¡æµæ°´çº¿ä¸­å¤ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå‡è®¾ä½ æƒ³ä¸ºä¸€ä¸ªæµæ°´çº¿é¡¹ç›®åšç«¯åˆ°ç«¯çš„æµ‹è¯•ã€‚ä½ å¯ä»¥ä½¿ç”¨ &lt;code&gt;git-clone&lt;/code&gt; ä»»åŠ¡ &lt;strong&gt;æ¥è®©æ¯ä¸€æ¬¡æµ‹è¯•éƒ½åŸºäºæœ€æ–°çš„ä»£ç &lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h3&gt;
&lt;p&gt;åªè¦ä½ ç†Ÿæ‚‰ Kubernetesï¼Œé‚£ Tekton å¯¹ä½ æ¥è¯´å°±åƒå…¶ä»– Kubernetes åŸç”Ÿåº”ç”¨ä¸€æ ·ç®€å•ã€‚å®ƒæœ‰å¾ˆå¤šå·¥å…·å¯ä»¥å¸®åŠ©ä½ åˆ›å»ºæµæ°´çº¿å¹¶ä¸ä¹‹äº¤äº’ã€‚å¦‚æœä½ å–œæ¬¢è‡ªåŠ¨åŒ–ï¼Œä¸å¦¨è¯•è¯• Tekton!&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://opensource.com/article/21/11/cicd-pipeline-kubernetes-tekton&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://opensource.com/article/21/11/cicd-pipeline-kubernetes-tekton&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://opensource.com/users/savita-ashture&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Savita Ashture&lt;/a&gt;
é€‰é¢˜ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lujun9972&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;lujun9972&lt;/a&gt;
è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Xiaobin.Liu&lt;/a&gt;
æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/wxy&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;wxy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/LCTT/TranslateProject&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;LCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://linux.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Linuxä¸­å›½&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Jenkinsä¸­çš„ç¯å¢ƒå˜é‡</title>
        <link>https://lxb.wiki/a5c52f2c/</link>
        <pubDate>Sun, 12 Mar 2023 21:51:09 +0800</pubDate>
        
        <guid>https://lxb.wiki/a5c52f2c/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202311122156161.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;å‡†å¤‡&#34;&gt;å‡†å¤‡&lt;/h2&gt;
&lt;p&gt;å¦‚æœä½ æƒ³ä¸€è¾¹é˜…è¯»æœ¬æ–‡ï¼Œä¸€è¾¹å®è·µï¼Œä½†æ˜¯æ²¡æœ‰ Jenkins æœåŠ¡å¯ç”¨ï¼Œåˆæƒ³å¿«é€Ÿå°è¯•ï¼Œå¯ä»¥åº”ç”¨ Docker ä¸€ä¸ªå‘½ä»¤å¿«é€Ÿæ­å»º Jenkins æœåŠ¡&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;docker container run --rm -p 8080:8080 -p 50000:50000 --name=jenkins -v $(pwd):/var/jenkins_home jenkins/jenkins
&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;
&lt;p&gt;2021 å¹´äº†ï¼Œæœ¬åœ°æ²¡æœ‰ Docker è¯´ä¸è¿‡å»äº†ï¼Œè¿‡æ¥ç§ç§ Docker ç³»åˆ—æ˜¯å¦å…¥å¾—äº†ä½ çš„æ³•çœ¼ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ‰“å¼€æµè§ˆå™¨è¾“å…¥ï¼š&lt;code&gt;localhost:8080&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ‰¾åˆ°ç»ˆç«¯çš„ä¸´æ—¶å¯†ç ç™»é™†&lt;/li&gt;
&lt;li&gt;å®‰è£…æ¨èçš„ä¾èµ–&lt;/li&gt;
&lt;li&gt;åˆ›å»ºæ–°çš„ Pipeline ç±»å‹çš„ Item&lt;/li&gt;
&lt;li&gt;ç‚¹å‡»å·¦ä¾§ Configï¼Œç„¶ååœ¨é¡µé¢åº•éƒ¨ Pipeline éƒ¨åˆ†è¾“å…¥æˆ‘ä»¬æ¥ä¸‹æ¥å†™çš„è„šæœ¬è¿›è¡Œæµ‹è¯•å°±å¥½äº†&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202311122157396.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å°±æ˜¯è¿™ä¹ˆç®€å•&amp;hellip;..&lt;/p&gt;
&lt;h2 id=&#34;è®¤è¯†-jenkins-ç¯å¢ƒå˜é‡&#34;&gt;è®¤è¯† Jenkins ç¯å¢ƒå˜é‡&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Jenkins ç¯å¢ƒå˜é‡å°±æ˜¯é€šè¿‡ &lt;code&gt;env&lt;/code&gt; å…³é”®å­—æš´éœ²å‡ºæ¥çš„&lt;strong&gt;å…¨å±€å˜é‡&lt;/strong&gt;ï¼Œå¯ä»¥åœ¨ Jenkins æ–‡ä»¶çš„&lt;strong&gt;ä»»ä½•ä½ç½®ä½¿ç”¨&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å…¶å®å’Œä½ ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€ä¸­çš„å…¨å±€å˜é‡æ²¡æœ‰å®è´¨å·®åˆ«&lt;/p&gt;
&lt;h3 id=&#34;æŸ¥çœ‹-jenkins-ç³»ç»Ÿå†…ç½®ç¯å¢ƒå˜é‡&#34;&gt;æŸ¥çœ‹ Jenkins ç³»ç»Ÿå†…ç½®ç¯å¢ƒå˜é‡&lt;/h3&gt;
&lt;p&gt;Jenkins åœ¨ç³»ç»Ÿå†…ç½®äº†å¾ˆå¤šç¯å¢ƒå˜é‡æ–¹ä¾¿æˆ‘ä»¬å¿«é€Ÿä½¿ç”¨ï¼ŒæŸ¥çœ‹èµ·æ¥æœ‰ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;h4 id=&#34;æ–¹å¼ä¸€&#34;&gt;æ–¹å¼ä¸€ï¼š&lt;/h4&gt;
&lt;p&gt;ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è®¿é—® &lt;code&gt;${YOUR_JENKINS_HOST}/env-vars.html&lt;/code&gt; é¡µé¢å°±å¯ä»¥ï¼Œæ¯”å¦‚ &lt;code&gt;http://localhost:8080/env-vars.html&lt;/code&gt; ï¼Œæ¯ä¸ªå˜é‡çš„ç”¨é€”å†™çš„éƒ½å¾ˆæ¸…æ¥š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202311122157715.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;æ–¹å¼äºŒ&#34;&gt;æ–¹å¼äºŒ&lt;/h4&gt;
&lt;p&gt;é€šè¿‡æ‰§è¡Œ &lt;code&gt;printenv&lt;/code&gt; shell å‘½ä»¤æ¥è·å–ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pipeline {
    agent any

    stages {
        stage(&amp;#34;Env Variables&amp;#34;) {
            steps {
                sh &amp;#34;printenv&amp;#34;
            }
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç›´æ¥ Save - Build, åœ¨ç»ˆç«¯ log ä¸­ä½ ä¼šçœ‹åˆ°ç›¸åº”çš„ç¯å¢ƒå˜é‡ï¼Œå¹¶ä¸”å¯ä»¥å¿«é€Ÿçœ‹åˆ°ä»–ä»¬å½“å‰çš„å€¼&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202311122157942.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;é€šå¸¸è¿™ä¸¤ç§æ–¹å¼å¯ä»¥ç»“åˆä½¿ç”¨&lt;/p&gt;
&lt;h3 id=&#34;è¯»å–ç¯å¢ƒå˜é‡&#34;&gt;è¯»å–ç¯å¢ƒå˜é‡&lt;/h3&gt;
&lt;p&gt;ä¸Šé¢æˆ‘ä»¬è¯´äº† &lt;code&gt;env&lt;/code&gt; æ˜¯ç¯å¢ƒå˜é‡çš„å…³é”®å­—ï¼Œä½†æ˜¯è¯»å– Jenkins å†…ç½®çš„è¿™äº›ç¯å¢ƒå˜é‡ï¼Œ&lt;code&gt;env&lt;/code&gt; å…³é”®å­—æ˜¯å¯æœ‰å¯æ— , ä½†ä¸èƒ½æ²¡äº†åº•è£¤ï¼Œéƒ½è¦ä½¿ç”¨ &lt;code&gt;${xxx}&lt;/code&gt; åŒ…å›´èµ·æ¥ã€‚ä»¥ &lt;code&gt;BUILD_NUMBER&lt;/code&gt; è¿™ä¸ªå†…ç½®ç¯å¢ƒå˜é‡ä¸¾ä¾‹æ¥è¯´æ˜å°±æ˜¯è¿™æ ·æ»´ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202311122157008.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ åœ¨ Jenkins æ–‡ä»¶ä¸­ä½¿ç”¨ shell å‘½ä»¤ï¼Œä½¿ç”¨è¿™äº›å†…ç½®ç¯å¢ƒå˜é‡ç”šè‡³å¯ä»¥ä¸ç”¨ &lt;code&gt;{}&lt;/code&gt;ï¼Œ æ¥çœ‹ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pipeline {
    agent any

    stages {
        stage(&amp;#34;Read Env Variables&amp;#34;) {
            steps {
                echo &amp;#34;å¸¦ env çš„è¯»å–æ–¹å¼ï¼š${env.BUILD_NUMBER}&amp;#34;
                echo &amp;#34;ä¸å¸¦ env çš„è¯»å–æ–¹å¼ï¼š${BUILD_NUMBER}&amp;#34;
                sh &amp;#39;echo &amp;#34;shell ä¸­è¯»å–æ–¹å¼ $BUILD_NUMBER&amp;#34;&amp;#39;
            }
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°ç»“æœæ˜¯ä¸€æ ·ä¸€æ ·æ»´ï¼Œ&lt;strong&gt;ä¸ç®¡æœ‰å‡ ç§ï¼Œè®°ä½ç¬¬ä¸€ç§æœ€ç¨³å¦¥&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202311122157970.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å†…ç½®çš„ç¯å¢ƒå˜é‡è™½å¥½ï¼Œä½†ä¹Ÿä¸èƒ½å®Œå…¨æ»¡è¶³æˆ‘ä»¬è‡ªå®šä¹‰çš„ pipeline çš„æ‰§è¡Œé€»è¾‘ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¾—çŸ¥é“å¦‚ä½•å®šä¹‰ä»¥åŠä½¿ç”¨è‡ªå®šä¹‰ç¯å¢ƒå˜é‡&lt;/p&gt;
&lt;h2 id=&#34;è‡ªå®šä¹‰-jenkins-ç¯å¢ƒå˜é‡&#34;&gt;è‡ªå®šä¹‰ Jenkins ç¯å¢ƒå˜é‡&lt;/h2&gt;
&lt;p&gt;Jenkins pipeline åˆ†å£°æ˜å¼ï¼ˆDeclarativeï¼‰å’Œ è„šæœ¬å¼ï¼ˆimperativeï¼‰å†™æ³•ï¼Œç›¸åº”çš„ç¯å¢ƒå˜é‡å®šä¹‰æ–¹å¼ä¹Ÿç•¥æœ‰ä¸åŒï¼Œå½’çº³èµ·æ¥æœ‰ä¸‰ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202311122158337.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;è¿˜æ˜¯çœ‹ä¸ªå®é™…ä¾‹å­å§ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pipeline {
    agent any

    environment {
        FOO = &amp;#34;bar&amp;#34;
    }

    stages {
        stage(&amp;#34;Custom Env Variables&amp;#34;) {
            environment {
                NAME = &amp;#34;RGYB&amp;#34;
            }

            steps {
                echo &amp;#34;FOO = ${env.FOO}&amp;#34;
                echo &amp;#34;NAME = ${env.NAME}&amp;#34;

                script {
                    env.SCRIPT_VARIABLE = &amp;#34;Thumb Up&amp;#34;
                }

                echo &amp;#34;SCRIPT_VARIABLE = ${env.SCRIPT_VARIABLE}&amp;#34;

                withEnv([&amp;#34;WITH_ENV_VAR=Come On&amp;#34;]) {
                    echo &amp;#34;WITH_ENV_VAR = ${env.WITH_ENV_VAR}&amp;#34;
                }
            }
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ¥çœ‹è¿è¡Œç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202311122158815.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„ï¼š&lt;code&gt;withEnv([&amp;quot;WITH_ENV_VAR=Come On&amp;quot;]) {}&lt;/code&gt; &lt;strong&gt;è¿™é‡Œçš„ = å·ä¸¤ä¾§ä¸èƒ½æœ‰ç©ºæ ¼&lt;/strong&gt;ï¼Œå¿…é¡»æ˜¯ &lt;code&gt;key=value&lt;/code&gt; çš„å½¢å¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸€ä¸ªå®Œæ•´çš„ pipeline é€šå¸¸ä¼šæœ‰å¾ˆå¤šä¸ª stageï¼Œç¯å¢ƒå˜é‡åœ¨ä¸åŒçš„ stage æœ‰ä¸åŒçš„å€¼æ˜¯å¾ˆå¸¸è§çš„ï¼ŒçŸ¥é“å¦‚ä½•è®¾ç½®ä»¥åŠè¯»å–ç¯å¢ƒå˜é‡åï¼Œæˆ‘ä»¬è¿˜å¾—çŸ¥é“å¦‚ä½•é‡å†™ç¯å¢ƒå˜é‡&lt;/p&gt;
&lt;h2 id=&#34;é‡å†™-jenkins-ç¯å¢ƒå˜é‡&#34;&gt;é‡å†™ Jenkins ç¯å¢ƒå˜é‡&lt;/h2&gt;
&lt;p&gt;Jenkins è®©äººç›¸å¯¹å›°æƒ‘æœ€å¤šçš„åœ°æ–¹å°±æ˜¯é‡å†™ç¯å¢ƒå˜é‡ï¼Œä½†æ˜¯åªè¦è®°ä½ä¸‹é¢è¿™ä¸‰æ¡è§„åˆ™ï¼Œå°±å¯ä»¥æå®šä¸€åˆ‡äº†&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;withEnv([&amp;quot;WITH_ENV_VAR=Come On&amp;quot;]) {}&lt;/code&gt; å†…ç½®å‡½æ•°çš„è¿™ç§å†™æ³•ï¼Œå¯ä»¥é‡å†™ä»»æ„ç¯å¢ƒå˜é‡&lt;/li&gt;
&lt;li&gt;å®šä¹‰åœ¨ &lt;code&gt;environment {}&lt;/code&gt; çš„ç¯å¢ƒå˜é‡ä¸èƒ½è¢«è„šæœ¬å¼å®šä¹‰çš„ç¯å¢ƒå˜é‡ï¼ˆ&lt;code&gt;env.key=&amp;quot;value&amp;quot;&lt;/code&gt;ï¼‰é‡å†™&lt;/li&gt;
&lt;li&gt;è„šæœ¬å¼ç¯å¢ƒå˜é‡åªèƒ½é‡å†™è„šæœ¬å¼ç¯å¢ƒå˜é‡&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ä¸‰ç‚¹æ˜¯ç¡¬è§„åˆ™ï¼Œæ²¡æ¶µç›–åœ¨è¿™ 3 ç‚¹è§„åˆ™ä¹‹å†…çš„ä¹Ÿå°±æ˜¯è¢«å…è®¸çš„äº†&lt;/p&gt;
&lt;p&gt;ä¸‰æ¡è§„åˆ™å°±æœ‰ç‚¹è®©äººå¤´å¤§äº†ï¼Œå†œå¤«é€‰è±†ç§ï¼Œä¸¾ä¾‹ä¸ºè¯å§&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pipeline {
    agent any

    environment {
        FOO = &amp;#34;ä½ å½“åƒé¸Ÿé£å¾€ä½ çš„å±±&amp;#34;
        NAME = &amp;#34;Tan&amp;#34;
    }

    stages {
        stage(&amp;#34;Env Variables&amp;#34;) {
            environment {
                  // ä¼šé‡å†™ç¬¬ 6 è¡Œ å˜é‡
                NAME = &amp;#34;RGYB&amp;#34; 
                  // ä¼šé‡å†™ç³»ç»Ÿå†…ç½®çš„ç¯å¢ƒå˜é‡ BUILD_NUMBER
                BUILD_NUMBER = &amp;#34;10&amp;#34; 
            }

            steps {
                  // åº”è¯¥æ‰“å°å‡º &amp;#34;FOO = ä½ å½“åƒé¸Ÿé£å¾€ä½ çš„å±±&amp;#34;
                echo &amp;#34;FOO = ${env.FOO}&amp;#34; 
                  // åº”è¯¥æ‰“å°å‡º &amp;#34;NAME = RGYB&amp;#34;
                echo &amp;#34;NAME = ${env.NAME}&amp;#34; 
                  // åº”è¯¥æ‰“å°å‡º &amp;#34;BUILD_NUMBER = 10&amp;#34;
                echo &amp;#34;BUILD_NUMBER =  ${env.BUILD_NUMBER}&amp;#34; 

                script {
                      // è„šæœ¬å¼åˆ›å»ºä¸€ä¸ªç¯å¢ƒå˜é‡
                    env.SCRIPT_VARIABLE = &amp;#34;1&amp;#34; 
                }
            }
        }

        stage(&amp;#34;Override Variables&amp;#34;) {
            steps {
                script {
                      // è¿™é‡Œçš„ FOO ä¸ä¼šè¢«é‡å†™ï¼Œè¿èƒŒ Rule No.2
                    env.FOO = &amp;#34;Tara&amp;#34;
                      // SCRIPT_VARIABLE å˜é‡ä¼šè¢«é‡å†™ï¼Œç¬¦åˆ Rule No.3
                    env.SCRIPT_VARIABLE = &amp;#34;2&amp;#34; 
                }

                  // FOO åœ¨ç¬¬ 37 è¡Œé‡å†™å¤±è´¥ï¼Œè¿˜ä¼šæ‰“å°å‡º &amp;#34;FOO = ä½ å½“åƒé¸Ÿé£å¾€ä½ çš„å±±&amp;#34;
                echo &amp;#34;FOO = ${env.FOO}&amp;#34; 
                  // ä¼šæ‰“å°å‡º &amp;#34;SCRIPT_VARIABLE = 2&amp;#34;
                echo &amp;#34;SCRIPT_VARIABLE = ${env.SCRIPT_VARIABLE}&amp;#34; 

                  // FOO ä¼šè¢«é‡å†™ï¼Œç¬¦åˆ Rule No.1
                withEnv([&amp;#34;FOO=Educated&amp;#34;]) { 
                      // åº”è¯¥æ‰“å° &amp;#34;FOO = Educated&amp;#34;
                    echo &amp;#34;FOO = ${env.FOO}&amp;#34; 
                }

                  // é“ç†åŒä¸Š
                withEnv([&amp;#34;BUILD_NUMBER=15&amp;#34;]) {
                      // åº”è¯¥æ‰“å°å‡º &amp;#34;BUILD_NUMBER = 15&amp;#34;
                    echo &amp;#34;BUILD_NUMBER = ${env.BUILD_NUMBER}&amp;#34;
                }
            }
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ¥éªŒè¯ä¸€ä¸‹ç»“æœå§&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202311122158213.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202311122158747.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;çœ‹åˆ°è¿™ï¼ŒåŸºæœ¬çš„è®¾ç½®åº”è¯¥å°±æ²¡æœ‰ä»€ä¹ˆé—®é¢˜äº†ï¼Œç›¸ä¿¡ä½ ä¹Ÿå‘ç°äº†ï¼ŒJenkins è®¾ç½®ç¯å¢ƒå˜é‡å’Œç¼–ç¨‹è¯­è¨€çš„é‚£ç§è®¾ç½®ç¯å¢ƒå˜é‡è¿˜æ˜¯ç•¥æœ‰ä¸åŒçš„ï¼Œåè€…å¯ä»¥å°†å˜é‡èµ‹å€¼ä¸ºå¯¹è±¡ï¼Œä½† Jenkins å°±ä¸è¡Œï¼Œå› ä¸º&lt;strong&gt;åœ¨ Jenkins æ–‡ä»¶ä¸­ï¼Œæ‰€æœ‰è®¾ç½®çš„å€¼éƒ½ä¼šè¢«å½“æˆ String&lt;/strong&gt;ï¼Œ éš¾é“æ²¡åŠæ³•åº”ç”¨ Boolean å€¼å—ï¼Ÿ&lt;/p&gt;
&lt;h2 id=&#34;jenkins-ä¸­ä½¿ç”¨-boolean-å€¼&#34;&gt;Jenkins ä¸­ä½¿ç”¨ Boolean å€¼&lt;/h2&gt;
&lt;p&gt;å¦‚æœè®¾ç½®ä¸€ä¸ªå˜é‡ä¸º &lt;code&gt;false&lt;/code&gt; ï¼ŒJenkins å°±ä¼šå°†å…¶è½¬æ¢ä¸º &lt;code&gt;&amp;quot;false&amp;quot;&lt;/code&gt;, å¦‚æœæƒ³ä½¿ç”¨ Boolean æ¥åšæ¡ä»¶åˆ¤æ–­ï¼Œå¿…é¡»è¦è°ƒç”¨ &lt;code&gt;toBoolean()&lt;/code&gt; æ–¹æ³•åšè½¬æ¢&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pipeline {
    agent any

    environment {
        IS_BOOLEAN = false
    }

    stages {
        stage(&amp;#34;Env Variables&amp;#34;) {
            steps {
                script {
                      
                    if (env.IS_BOOLEAN) {
                        echo &amp;#34;Hello&amp;#34;
                    }

                      
                    if (env.IS_BOOLEAN.toBoolean() == false) {
                        echo &amp;#34;æ—¥æ‹±ä¸€å…µ&amp;#34;
                    }
                  
                      
                    if (!env.IS_BOOLEAN.toBoolean()) {
                        echo &amp;#34;RGYB&amp;#34;
                    }
                }
            }
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ¥çœ‹è¿è¡Œç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202311122159629.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ å†™è¿‡ Pipelineï¼Œä½ ä¸€å®šä¼šçŸ¥é“ï¼Œå†™ Pipeline æ˜¯ç¦»ä¸å¼€å†™ shell çš„ï¼Œæœ‰äº›æ—¶å€™ï¼Œéœ€è¦å°† shell çš„æ‰§è¡Œç»“æœèµ‹å€¼ç»™ç¯å¢ƒå˜é‡ï¼ŒJenkins ä¹Ÿæœ‰æ–¹æ³•æ”¯æŒ&lt;/p&gt;
&lt;h2 id=&#34;shell-ç»“æœèµ‹å€¼ç»™ç¯å¢ƒå˜é‡&#34;&gt;Shell ç»“æœèµ‹å€¼ç»™ç¯å¢ƒå˜é‡&lt;/h2&gt;
&lt;p&gt;å®ç°è¿™ç§æ–¹å¼å¾ˆç®€å•ï¼Œåªéœ€è¦è®°ä½ä¸€ä¸ªæ ¼å¼ï¼š&lt;code&gt;sh(script: &#39;cmd&#39;, returnStdout:true)&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pipeline {
    agent any

    environment {
          
        LS_RESULT = &amp;#34;${sh(script:&amp;#39;ls -lah&amp;#39;, returnStdout: true).trim()}&amp;#34;
    }

    stages {
        stage(&amp;#34;Env Variables&amp;#34;) {
            steps {
                echo &amp;#34;LS_RESULT = ${env.LS_RESULT}&amp;#34;
            }
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202311122159489.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ç¼–è¯‘åŸç†ä¸€</title>
        <link>https://lxb.wiki/a66c6839/</link>
        <pubDate>Fri, 24 Feb 2023 22:31:55 +0800</pubDate>
        
        <guid>https://lxb.wiki/a66c6839/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯ç¼–è¯‘åŸç†&#34;&gt;ä»€ä¹ˆæ˜¯ç¼–è¯‘åŸç†&lt;/h2&gt;
&lt;p&gt;ç¼–è¯‘åŸç†æ˜¯ä»‹ç»å¦‚ä½•å°†é«˜çº§ç¨‹åºè®¾è®¡è¯­è¨€è½¬æ¢æˆè®¡ç®—æœºç¡¬ä»¶èƒ½è¯†åˆ«çš„æœºå™¨è¯­è¨€ï¼Œä»¥ä¾¿è®¡ç®—æœºè¿›è¡Œå¤„ç†&lt;/p&gt;
&lt;h2 id=&#34;ç¼–è¯‘ä¸è®¡ç®—æœºç¨‹åºè®¾è®¡è¯­è¨€çš„å…³ç³»&#34;&gt;ç¼–è¯‘ä¸è®¡ç®—æœºç¨‹åºè®¾è®¡è¯­è¨€çš„å…³ç³»&lt;/h2&gt;
&lt;p&gt;æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­æˆ‘ä»¬ä½¿ç”¨çš„è¯­è¨€ä¸€èˆ¬éƒ½æ˜¯é«˜çº§è¯­æ³•æ¯”å¦‚ JAVAã€Pythonã€PHPã€JavaScriptç­‰ç­‰ï¼Œä½†æ˜¯è®¡ç®—æœºåªèƒ½è¯†åˆ«0ã€1è¿™æ ·çš„æœºå™¨ç ã€‚é‚£ä¹ˆè¿™äº›é«˜çº§è¯­è¨€æ˜¯å¦‚ä½•ç¿»è¯‘æˆæœºå™¨èƒ½è¯†åˆ«çš„0ã€1ç­‰å‘¢ï¼Ÿè¿™å°±ç”¨çš„äº†&lt;strong&gt;ç¼–è¯‘&lt;/strong&gt;ï¼Œé¦–å…ˆæˆ‘ä»¬é€šè¿‡ä¸‹é¢è¿™å¹…å›¾çœ‹ä¸‹ç¼–è¯‘ä¸è®¡ç®—æœºç¨‹åºè¯­è¨€çš„å…³ç³»ï¼Œæœ‰åŠ©äºæˆ‘ä»¬ç›´è§‚çš„äº†è§£ç¼–è¯‘çš„ä½œç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202310242238073.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šæ¯ç§æœºå™¨éƒ½å¯¹åº”ä¸€ç§æ±‡ç¼–è¯­è¨€&lt;/p&gt;
&lt;h3 id=&#34;ç¨‹åºè®¾è®¡è¯­è¨€çš„è½¬æ¢æ–¹å¼&#34;&gt;ç¨‹åºè®¾è®¡è¯­è¨€çš„è½¬æ¢æ–¹å¼&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ç¿»è¯‘&lt;/strong&gt;ï¼šæŒ‡æŠŠæŸç§è¯­è¨€çš„æºç¨‹åºï¼Œ&lt;strong&gt;åœ¨ä¸æ”¹å˜è¯­ä¹‰çš„æ¡ä»¶ä¸‹&lt;/strong&gt;ï¼Œè½¬æ¢æˆå¦ä¸€ç§è¯­è¨€ç¨‹åºå³ç›®æ ‡è¯­è¨€ç¨‹åº&lt;/p&gt;
&lt;p&gt;çœŸæ­£çš„å®ç°æœ‰ä¸¤ç§æ–¹å¼ï¼Œç¼–è¯‘åŠè§£é‡Š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç¼–è¯‘&lt;/strong&gt;ï¼šä¸“æŒ‡ç”±é«˜çº§è¯­è¨€è½¬æ¢ä¸ºä½çº§è¯­è¨€ï¼Œ&lt;strong&gt;æ•´ä¸ªç¨‹åºç¿»è¯‘&lt;/strong&gt;ã€‚å¸¸ç”¨çš„ä¾‹å¦‚ï¼š cã€c++ï¼Œdelphi,Fortranã€Pascalã€Ada&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è§£é‡Š&lt;/strong&gt;ï¼šæ¥å—æŸç§é«˜çº§è¯­è¨€çš„ä¸€ä¸ªè¯­å¥è¾“å…¥ï¼Œè¿›è¡Œè§£é‡Šå¹¶æ§åˆ¶è®¡ç®—æœºæ‰§è¡Œï¼Œé©¬ä¸Šå¾—åˆ°è¿™ä¸ªå¥å­çš„æ‰§è¡Œç»“æœï¼Œç„¶åå†æ¥å—ä¸‹ä¸€ä¸ªè¯­å¥ã€‚ç±»ä¼¼å£è¯‘ï¼Œ&lt;strong&gt;ä¸€å¥ä¸€å¥è¿›è¡Œè§£é‡Š&lt;/strong&gt;ã€‚å¸¸ç”¨çš„ä¾‹å¦‚ï¼špython è§£é‡Šä»¥æºç¨‹åºä½œä¸ºè¾“å…¥ï¼Œ&lt;strong&gt;ä¸äº§ç”Ÿç›®æ ‡ç¨‹åº&lt;/strong&gt;ï¼Œä¸€è¾¹è§£é‡Šä¸€è¾¹æ‰§è¡Œã€‚&lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt;ï¼šç›´è§‚æ˜“æ‡‚ï¼Œç»“æ„ç®€å•ï¼Œæ˜“äºå®ç°äººæœºå¯¹è¯ã€‚&lt;strong&gt;ç¼ºç‚¹&lt;/strong&gt;ï¼šæ•ˆç‡ä½(ä¸äº§ç”Ÿç›®æ ‡ç¨‹åºï¼Œæ¯æ¬¡éƒ½éœ€è¦é‡æ–°æ‰§è¡Œï¼Œé€Ÿåº¦æ…¢)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç¼–è¯‘çš„è½¬æ¢è¿‡ç¨‹&#34;&gt;ç¼–è¯‘çš„è½¬æ¢è¿‡ç¨‹&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ç¼–è¯‘-&amp;gt;è¿è¡Œ&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘-&amp;gt;æ±‡ç¼–-&amp;gt;è¿è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202310242240217.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç¼–è¯‘å™¨åœ¨è¯­è¨€å¤„ç†ç³»ç»Ÿä¸­çš„ä½ç½®&#34;&gt;ç¼–è¯‘å™¨åœ¨è¯­è¨€å¤„ç†ç³»ç»Ÿä¸­çš„ä½ç½®&lt;/h2&gt;
&lt;p&gt;äº†è§£äº†ç¼–è¯‘ä¸ç¨‹åºè®¾è®¡è¯­è¨€çš„å…³ç³»ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥ä¸‹æ¥å†æ¥çœ‹ä¸‹ç¼–è¯‘å™¨åœ¨è¯­è¨€å¤„ç†ç³»ç»Ÿä¸­æ‰€å¤„ä½ç½®ï¼Œå¦‚ä¸‹å›¾&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202310242243681.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç¼–è¯‘ç³»ç»Ÿçš„ç»“æ„&#34;&gt;ç¼–è¯‘ç³»ç»Ÿçš„ç»“æ„&lt;/h2&gt;
&lt;p&gt;é‚£ä¹ˆæœºå™¨æ˜¯å¦‚ä½•æŠŠé«˜çº§è¯­è¨€ç¿»è¯‘ä¸ºæ±‡ç¼–è¯­è¨€ç¨‹åºæˆ–æœºå™¨è¯­è¨€ç¨‹åºçš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹äººå·¥è¿›è¡Œè‹±æ–‡ç¿»è¯‘çš„ä¾‹å­ï¼Œè¿™é‡Œå¼•ç”¨çš„å“ˆå·¥å¤§ç¼–è¯‘åŸç†ä¸­çš„å›¾ç¤º&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202310242245950.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å›¾ä¸­çš„&lt;strong&gt;ä¸­é—´è¡¨ç¤ºå¾ˆé‡è¦ä¸»è¦èµ·åˆ°äº†ä¸€ä¸ªæ¡¥æ¢çš„ä½œç”¨&lt;/strong&gt;ï¼Œæ¯”å¦‚å›¾ä¸­çš„ä¸­é—´è¡¨ç¤ºå¯ä»¥ä½¿ç”¨å„ç§è¯­è¨€è¡¨ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®ä¸Šå›¾å¯ä»¥çœ‹å‡ºè¦è¿›è¡Œè¯­ä¹‰åˆ†æé¦–å…ˆéœ€è¦åˆ’åˆ†å¥å­æˆåˆ†ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦‚ä½•åˆ’åˆ†å¥å­æˆåˆ†çš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é¦–å…ˆé€šè¿‡&lt;strong&gt;è¯æ³•åˆ†æåˆ†æå‡ºå¥å­ä¸­å„ä¸ªå•è¯çš„è¯æ€§æˆ–è€…è¯ç±»&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ¥ä¸‹æ¥é€šè¿‡&lt;strong&gt;è¯­æ³•åˆ†æè¯†åˆ«å‡ºå¥å­ä¸­çš„å„ç±»çŸ­è¯­ä»è€Œè·å¾—å¥å­çš„ç»“æ„&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ç„¶åè¿›è¡Œ&lt;strong&gt;è¯­ä¹‰åˆ†ææ ¹æ®å¥å­ç»“æ„åˆ†æå‡ºå¥å­ä¸­å„ä¸ªçŸ­è¯­åœ¨å¥å­ä¸­å……å½“ä»€ä¹ˆæˆåˆ†&lt;/strong&gt;ï¼Œä»è€Œç¡®å®šå„ä¸ªåè¯æ€§æˆåˆ†åŒå„ä¸ªæ ¸å¿ƒè°“è¯­åŠ¨è¯é—´çš„å…³ç³»è¯­æ„å…³ç³»&lt;/li&gt;
&lt;li&gt;æœ€åç»™å‡ºä¸­é—´è¡¨ç¤ºå½¢å¼  &lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202310242246694.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;  &lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202310242250835.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt; å®é™…ä¸Šç¼–è¯‘å™¨åœ¨å·¥ä½œçš„æ—¶å€™ä¹Ÿæ˜¯ç»è¿‡äº†ä»¥ä¸Šå‡ ä¸ªæ­¥éª¤ï¼Œæˆ‘ä»¬æˆä¸º&lt;strong&gt;é˜¶æ®µ(è®¡ç®—æœºçš„é€»è¾‘ç»„ç»‡æ–¹å¼ï¼Œåœ¨å®ç°è¿‡ç¨‹ä¸­å¤šä¸ªé˜¶æ®µå¯èƒ½ä¼šè¢«ç»„åˆåœ¨ä¸€èµ·å®ç°)&lt;/strong&gt;ï¼Œå¯ä»¥åˆ†ä¸ºä¸¤å¤§éƒ¨åˆ†ï¼š&lt;strong&gt;åˆ†ææºè¯­è¨€ã€ç”Ÿæˆç›®æ ‡ä»£ç &lt;/strong&gt;,åœ¨ç¼–è¯‘å™¨ä¸­ä»–ä»¬åˆ†åˆ«å¯¹åº”ç¼–è¯‘å™¨çš„å‰ç«¯å’Œåç«¯ä¸¤ä¸ªéƒ¨åˆ†ã€‚ç¼–è¯‘å™¨çš„ç»“æ„å¦‚ä¸‹å›¾   &lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202310242248147.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt; äº†è§£äº†ç¼–è¯‘å™¨çš„ç»“æ„ï¼Œè®©æˆ‘ä»¬ä»ç¼–è¯‘å™¨çš„å‰ç«¯å¼€å§‹è®²èµ·ï¼Œçœ‹çœ‹è¯æ³•åˆ†æã€è¯­æ³•åˆ†æã€è¯­ä¹‰åˆ†æç­‰å„ä¸ªé˜¶æ®µéƒ½åšäº†ä»€ä¹ˆã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è¯æ³•åˆ†ææ‰«æ&#34;&gt;è¯æ³•åˆ†æ(æ‰«æ)&lt;/h3&gt;
&lt;p&gt;ç¼–è¯‘çš„ç¬¬ä¸€ä¸ªé˜¶æ®µï¼Œä»å·¦åˆ°å³é€è¡Œæ‰«ææºç¨‹åºçš„å­—ç¬¦ï¼Œè¯†åˆ«å‡ºå„ä¸ª&lt;strong&gt;å•è¯&lt;/strong&gt;(æ˜¯é«˜çº§è¯­è¨€ä¸­æœ‰æ˜¯åœ¨æ„ä¹‰çš„æœ€å°è¯­æ³•å•å…ƒï¼Œç”±å­—ç¬¦æ„æˆ)ï¼Œ&lt;strong&gt;ç¡®å®šå•è¯çš„ç±»å‹&lt;/strong&gt;ã€‚å°†è¯†åˆ«çš„å•è¯è½¬æ¢æˆç»Ÿä¸€çš„æœºå†…è¡¨ç¤ºå³&lt;strong&gt;è¯æ³•å•å…ƒ ç®€ç§°Token&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;token:&amp;lt;ç§åˆ«ç ï¼Œå±æ€§å€¼&amp;gt;token: &amp;lt;ç§åˆ«ç ï¼Œå±æ€§å€¼&amp;gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;å•è¯ç±»å‹&lt;/th&gt;
&lt;th&gt;ç§åˆ«&lt;/th&gt;
&lt;th&gt;ç§åˆ«ç &lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;å…³é”®å­—&lt;/td&gt;
&lt;td&gt;programã€ifã€elseã€then&amp;hellip;&lt;/td&gt;
&lt;td&gt;ä¸€è¯ä¸€ç &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;æ ‡è¯†ç¬¦&lt;/td&gt;
&lt;td&gt;å˜é‡åã€æ•°ç»„åã€è®°å½•åã€è¿‡ç¨‹å&amp;hellip;&lt;/td&gt;
&lt;td&gt;å¤šè¯ä¸€ç &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;å¸¸é‡&lt;/td&gt;
&lt;td&gt;æ•´å‹ã€æµ®ç‚¹å‹ã€å­—ç¬¦å‹ã€å¸ƒå°”å‹&amp;hellip;&lt;/td&gt;
&lt;td&gt;ä¸€å‹ä¸€ç &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;è¿ç®—ç¬¦&lt;/td&gt;
&lt;td&gt;ç®—æœ¯ï¼ˆ+ - * / ++ &amp;ndash;ï¼‰&lt;!-- raw HTML omitted --&gt;å…³ç³»ï¼ˆ&amp;gt; &amp;lt; == != &amp;gt;= &amp;lt;=ï¼‰ &lt;!-- raw HTML omitted --&gt;é€»è¾‘ï¼ˆ&amp;amp; | ~ï¼‰&lt;/td&gt;
&lt;td&gt;ä¸€è¯ä¸€ç &lt;!-- raw HTML omitted --&gt;æˆ–&lt;!-- raw HTML omitted --&gt;ä¸€å‹ä¸€ç &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;ç•Œé™ç¬¦&lt;/td&gt;
&lt;td&gt;; ( ) = { }&lt;/td&gt;
&lt;td&gt;ä¸€è¯ä¸€ç &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;åå­—è§£é‡Š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸€è¯ä¸€ç &lt;/strong&gt;ï¼šä¾‹å¦‚ï¼Œå…³é”®å­—æ˜¯å”¯ä¸€çš„ä¸”äº‹å…ˆå¯ä»¥ç¡®å®šï¼Œä¸ºæ¯ä¸ªå…³é”®å­—åˆ†é…ä¸€ä¸ªç§åˆ«ç &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¤šè¯ä¸€ç &lt;/strong&gt;ï¼šä¾‹å¦‚ï¼Œæ‰€æœ‰çš„æ ‡ç¤ºç¬¦ç»Ÿä¸€ä½œä¸ºä¸€ç±»å•è¯åˆ†é…åŒä¸€ä¸ªç§åˆ«ç ï¼Œä¸ºäº†åŒºåˆ†ä¸åŒçš„æ ‡ç¤ºç¬¦ï¼Œç”¨tokençš„ç¬¬äºŒä¸ªåˆ†é‡â€œå±æ€§å€¼â€å­˜æ”¾ä¸åŒæ ‡ç¤ºç¬¦å…·ä½“çš„å­—é¢å€¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸€å‹ä¸€ç &lt;/strong&gt;ï¼šä¸åŒç±»å‹çš„å¸¸é‡ä»–ä»¬çš„æ„æˆæ–¹å¼æ˜¯ä¸åŒçš„ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¸ºæ¯ç§ç±»å‹çš„å¸¸é‡åˆ†é…ä¸€ä¸ªç§åˆ«ç ï¼Œä¸ºäº†åŒºåˆ†åŒä¸€ç±»å‹ä¸‹çš„ä¸åŒå¸¸é‡ï¼Œä¹Ÿç”¨tokençš„ç¬¬äºŒä¸ªåˆ†é‡â€œå±æ€§å€¼â€å­˜æ”¾æ¯ä¸ªå¸¸é‡å…·ä½“çš„å€¼ ä¸‹é¢å›¾ä¸­æ˜¯ä¸€ä¸ªè¯æ³•åˆ†æåå¾—åˆ°çš„tokenåºåˆ—çš„ä¾‹å­&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202310242300575.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æè¿°è¯æ³•è§„åˆ™çš„æœ‰æ•ˆå·¥å…·æ˜¯&lt;strong&gt;æ­£è§„å¼&lt;/strong&gt;å’Œ&lt;strong&gt;æœ‰é™è‡ªåŠ¨æœº&lt;/strong&gt;ã€‚&lt;strong&gt;æ­£è§„å¼&lt;/strong&gt;:ç”¨æ¥ç¡®å®šå•è¯æ˜¯å¦å’Œç¨‹åºè¯­è¨€è§„èŒƒã€‚&lt;strong&gt;æœ‰é™è‡ªåŠ¨æœº&lt;/strong&gt;ï¼šé€šè¿‡æœ‰é™è‡ªåŠ¨æœºè¿›è¡Œå•è¯å’Œæ­£è§„å¼æ¯”è¾ƒ&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;è¯­æ³•åˆ†æparsing&#34;&gt;è¯­æ³•åˆ†æ(parsing)&lt;/h3&gt;
&lt;h4 id=&#34;è¯­æ³•åˆ†æçš„å®šä¹‰&#34;&gt;è¯­æ³•åˆ†æçš„å®šä¹‰&lt;/h4&gt;
&lt;p&gt;è¯­æ³•åˆ†æå™¨ä»è¯æ³•åˆ†æå™¨è¾“å‡ºçš„&lt;strong&gt;tokenåºåˆ—ä¸­è¯†åˆ«å‡ºå„ç±»çŸ­è¯­ï¼Œå¹¶æ„é€ è¯­æ³•åˆ†ææ ‘&lt;/strong&gt;(parse tree),è¯­æ³•åˆ†ææ ‘æè¿°äº†&lt;strong&gt;å¥å­çš„è¯­æ³•ç»“æ„&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;è¯­æ³•åˆ†æçš„è§„åˆ™&#34;&gt;è¯­æ³•åˆ†æçš„è§„åˆ™&lt;/h4&gt;
&lt;p&gt;å³&lt;strong&gt;è¯­æ³•è§„åˆ™&lt;/strong&gt;åˆç§°&lt;strong&gt;æ–‡æ³•&lt;/strong&gt;ï¼Œè§„å®šäº†å•è¯å¦‚ä½•æ„æˆçŸ­è¯­ã€å¥å­ã€è¿‡ç¨‹å’Œç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;è¯­æ³•è§„åˆ™çš„æ ‡ç¤ºå¦‚ä¸‹ï¼Œå«ä¹‰æ˜¯Aå®šä¹‰ä¸ºBæˆ–è€…C&lt;/p&gt;
&lt;p&gt;BNF:A::=Bâˆ£CBNF:A::=B|C&lt;/p&gt;
&lt;p&gt;&amp;lt;å¥å­&amp;gt;::=&amp;lt;ä¸»&amp;gt;&amp;lt;è°“&amp;gt;&amp;lt;å®¾&amp;gt;&amp;lt;å¥å­&amp;gt;::=&amp;lt;ä¸»&amp;gt;&amp;lt;è°“&amp;gt;&amp;lt;å®¾&amp;gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;ä¸»&amp;gt;::=&amp;lt;å®š&amp;gt;&amp;lt;å&amp;gt;&amp;lt;ä¸»&amp;gt;::=&amp;lt;å®š&amp;gt;&amp;lt;å&amp;gt;&lt;/p&gt;
&lt;p&gt;æ¥çœ‹ä¸‹èµ‹å€¼è¯­å¥çš„è¯­æ³•è§„åˆ™ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;A::=V=E&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;E::=T|E+T&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;T::=F|T*F&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;F::=V|(E)|C&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;V::=æ ‡ç¤ºç¬¦&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;C::=å¸¸æ•°&lt;/strong&gt; &lt;strong&gt;å³ç”±æ ‡ç¤ºç¬¦æˆ–è€…å¸¸æ•°çš„è¡¨è¾¾å¼è¿›è¡ŒåŠ å‡ä¹˜é™¤è¿ç®—&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;è¯­æ³•åˆ†æçš„æ–¹æ³•&#34;&gt;è¯­æ³•åˆ†æçš„æ–¹æ³•&lt;/h4&gt;
&lt;p&gt;æ¨å¯¼(derive)å’Œå½’çº¦(reduce)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ¨å¯¼&lt;/strong&gt;ï¼šæœ€å·¦æ¨å¯¼ã€æœ€å³æ¨å¯¼&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å½’çº¦&lt;/strong&gt;ï¼šæœ€å³å½’çº¦ã€æœ€å·¦å½’çº¦,æ¨å¯¼çš„é€†è¿‡ç¨‹å°±æ˜¯å½’çº¦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ€å³æ¨å¯¼ã€æœ€å·¦å½’çº¦ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202310242302837.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æœ€å·¦æ¨å¯¼ã€æœ€å³å½’çº¦ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202310242303370.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;è¯­æ³•æ ‘&#34;&gt;è¯­æ³•æ ‘&lt;/h4&gt;
&lt;p&gt;è®¡ç®—æœºé€šè¿‡&lt;strong&gt;è¯­æ³•æ ‘&lt;/strong&gt;æ¥è¿›è¡Œåˆ†æï¼Œå³è¯­æ³•åˆ†æè¿‡ç¨‹ä¹Ÿå¯ä»¥ç”¨ä¸€é¢—å€’ç€çš„æ ‘æ¥æ ‡ç¤ºï¼Œè¿™é¢—æ ‘å«&lt;strong&gt;è¯­æ³•æ ‘&lt;/strong&gt;ã€‚æ­£ç¡®çš„è¯­æ³•æ ‘å¶å­èŠ‚ç‚¹æ•°å¿…é¡»æ˜¯è¡¨è¾¾å¼çš„ç¬¦å·ï¼Œä¾‹å¦‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202310242303395.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;èµ‹å€¼è¯­å¥çš„åˆ†ææ ‘ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202310242304331.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å˜é‡å£°æ˜è¯­å¥çš„åˆ†ææ ‘ï¼š&lt;/p&gt;
&lt;p&gt;é¦–å…ˆçœ‹ä¸‹å˜é‡å£°æ˜è¯­å¥çš„æ–‡æ³•(&lt;strong&gt;æ–‡æ³•æ˜¯ç”±ä¸€ç³»åˆ—è§„åˆ™æ„æˆçš„&lt;/strong&gt;)ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;lt;D&amp;gt; -&amp;gt; &amp;lt;T&amp;gt; &amp;lt;IDS&amp;gt;;
&amp;lt;T&amp;gt; -&amp;gt; int | real | char | bool
&amp;lt;IDS&amp;gt; -&amp;gt; id | &amp;lt;IDS&amp;gt;, id
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202310242305150.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;è¯­ä¹‰åˆ†æ&#34;&gt;è¯­ä¹‰åˆ†æ&lt;/h3&gt;
&lt;p&gt;è¯­ä¹‰çš„ä»»åŠ¡ä¸»è¦æœ‰ä¸¤ä¸ª&lt;/p&gt;
&lt;h4 id=&#34;ä¸€-æ”¶é›†æ ‡è¯†ç¬¦çš„å±æ€§ä¿¡æ¯&#34;&gt;ä¸€. æ”¶é›†æ ‡è¯†ç¬¦çš„å±æ€§ä¿¡æ¯&lt;/h4&gt;
&lt;h4 id=&#34;äºŒ-è¯­ä¹‰æ£€æŸ¥&#34;&gt;äºŒ. è¯­ä¹‰æ£€æŸ¥&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å˜é‡æˆ–è¿‡ç¨‹&lt;strong&gt;æœªç»å£°æ˜å°±ä½¿ç”¨&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å˜é‡æˆ–è¿‡ç¨‹å&lt;strong&gt;é‡å¤å£°æ˜&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è¿ç®—åˆ†é‡&lt;strong&gt;ç±»å‹ä¸åŒ¹é…&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ“ä½œç¬¦ä¸æ“ä½œæ•°ä¹‹é—´çš„ç±»å‹ä¸åŒ¹é…&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ•°ç»„ä¸‹æ ‡&lt;/strong&gt;ä¸æ˜¯æ•´æ•°&lt;/li&gt;
&lt;li&gt;å¯¹&lt;strong&gt;éæ•°ç»„å˜é‡&lt;/strong&gt;ä½¿ç”¨æ•°ç»„è®¿é—®æ“ä½œç¬¦&lt;/li&gt;
&lt;li&gt;å¯¹&lt;strong&gt;éè¿‡ç¨‹å&lt;/strong&gt;ä½¿ç”¨è¿‡ç¨‹è°ƒç”¨æ“ä½œç¬¦&lt;/li&gt;
&lt;li&gt;è¿‡ç¨‹è°ƒç”¨çš„**å‚æ•°ç±»å‹æˆ–æ•°ç›®ä¸åŒ¹é… **&lt;/li&gt;
&lt;li&gt;å‡½æ•°&lt;strong&gt;è¿”å›ç±»å‹&lt;/strong&gt;æœ‰è¯¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä¸­é—´ä»£ç ç”Ÿæˆ&#34;&gt;ä¸­é—´ä»£ç ç”Ÿæˆ&lt;/h3&gt;
&lt;p&gt;é€šå¸¸å’Œè¯­ä¹‰åˆ†æä¸€èµ·å®ç°ã€‚å¯¹è¯­æ³•åˆ†æè¯†åˆ«å‡ºçš„å„ç±»è¯­æ³•èŒƒç•´ï¼Œåˆ†æä»–çš„å«ä¹‰ï¼Œè¿›è¡Œåˆæ­¥ç¿»è¯‘ï¼Œäº§ç”Ÿä»‹äºæºä»£ç å’Œç›®æ ‡ä»£ç è´¨æ£€çš„ä¸€ç§ä»£ç &lt;/p&gt;
&lt;h4 id=&#34;å¸¸ç”¨çš„ä¸­é—´ä»£ç è¡¨ç¤ºå½¢å¼&#34;&gt;å¸¸ç”¨çš„ä¸­é—´ä»£ç è¡¨ç¤ºå½¢å¼&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¸‰åœ°å€ç &lt;/strong&gt; (Three-address Code)ï¼šä¸‰åœ°å€ç ç”±ç±»ä¼¼äºæ±‡ç¼–è¯­è¨€çš„æŒ‡ä»¤åºåˆ—ç»„æˆï¼Œæ¯ä¸ªæŒ‡ä»¤æœ€å¤šæœ‰ä¸‰ä¸ªæ“ä½œæ•°(operand)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¯­æ³•ç»“æ„æ ‘/è¯­æ³•æ ‘&lt;/strong&gt; (Syntax Trees)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€†æ³¢å…°å¼&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ä¸‰åœ°å€æŒ‡ä»¤çš„è¡¨ç¤ºï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å››å…ƒå¼&lt;/strong&gt; (Quadruples)ï¼Œ(op, y, z, x)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸‰å…ƒå¼&lt;/strong&gt; (Triples)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é—´æ¥ä¸‰å…ƒå¼&lt;/strong&gt;(Indirect triples)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202310242305150.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹é¢å›¾ä¸­å±•ç¤ºäº†ä¸€ä¸ªä¸­é—´ä»£ç ç”Ÿæˆçš„ä¾‹å­ &lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202310242308231.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä»£ç ä¼˜åŒ–&#34;&gt;ä»£ç ä¼˜åŒ–&lt;/h3&gt;
&lt;p&gt;å¯¹å‰é¢ç”Ÿæˆçš„ä¸­é—´ä»£ç è¿›è¡ŒåŠ å·¥å˜æ¢ï¼Œä»¥ä¾¿åœ¨æœ€åæç«¯äº§ç”Ÿæ›´ä¸ºé«˜æ•ˆçš„ç›®æ ‡ä»£ç  ï¼Œ&lt;strong&gt;éœ€è¦éµå¾ªç­‰ä»·å˜æ¢çš„åŸåˆ™&lt;/strong&gt;ï¼Œä¼˜åŒ–çš„æ–¹é¢åŒ…æ‹¬ï¼šå…¬å…±å­è¡¨è¾¾å¼çš„æå–ã€åˆå¹¶å·²çŸ¥é‡ã€åˆ é™¤æ— ç”¨è¯­å¥ã€å¾ªç¯ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç›®æ ‡ä»£ç ç”Ÿæˆ&#34;&gt;ç›®æ ‡ä»£ç ç”Ÿæˆ&lt;/h3&gt;
&lt;p&gt;æŠŠç»è¿‡ä¼˜åŒ–çš„ä¸­é—´ä»£ç è½¬åŒ–æˆç‰¹å®šæœºå™¨ä¸Šçš„ä½çº§è¯­è¨€&lt;/p&gt;
&lt;p&gt;ç›®æ ‡ä»£ç çš„å½¢å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;ç»å¯¹æŒ‡ä»¤ä»£ç ï¼šå¯ç«‹å³æ‰§è¡Œçš„ç›®æ ‡ä»£ç &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;æ±‡ç¼–æŒ‡ä»¤ä»£ç ï¼šæ±‡ç¼–è¯­è¨€ç¨‹åºï¼Œéœ€è¦ç»è¿‡æ±‡ç¼–é™ˆæ—­æ±‡ç¼–åæ‰èƒ½è¿è¡Œ&lt;/li&gt;
&lt;li&gt;å¯é‡å®šä½æŒ‡ä»¤ä»£ç ï¼šå…ˆå°†å„ç›®æ ‡æ¨¡å—è¿æ¥èµ·æ¥ï¼Œç¡®å®šå˜é‡ã€å¸¸æ•°åœ¨ä¸»å­˜ä¸­çš„ä½ç½®ï¼Œè£…å…¥ä¸»å­˜åæ‰èƒ½æˆä¸ºå¯ä»¥è¿è¡Œçš„ç»å¯¹æŒ‡ä»¤ä»£ç &lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å…¶ä»–&#34;&gt;å…¶ä»–&lt;/h3&gt;
&lt;h4 id=&#34;å‡ºé”™å¤„ç†&#34;&gt;å‡ºé”™å¤„ç†&lt;/h4&gt;
&lt;p&gt;å¦‚æœæºç¨‹åºæœ‰é”™è¯¯ï¼Œç¼–è¯‘ç¨‹åºåº”è®¾æ³•å‘ç°é”™è¯¯å¹¶æŠ¥å‘Šç»™ç”¨æˆ·ã€‚ç”±ä¸“é—¨çš„å‡ºé”™å¤„ç†ç¨‹åºæ¥å®Œæˆã€‚ é”™è¯¯ç±»å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•é”™è¯¯ï¼šåœ¨è¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æé˜¶æ®µæ£€æµ‹å‡ºæ¥&lt;/li&gt;
&lt;li&gt;è¯­ä¹‰é”™è¯¯ï¼šä¸€èˆ¬åœ¨è¯­ä¹‰åˆ†æé˜¶æ®µæ£€æµ‹&lt;/li&gt;
&lt;li&gt;é€»è¾‘é”™è¯¯ï¼šä¸å¯æ£€æµ‹ï¼Œæ¯”å¦‚æ­»å¾ªç¯ï¼Œä¸€èˆ¬ä¸å¤„ç†å› ä¸ºæ²¡åŠæ³•åœ¨ç¼–è¯‘é˜¶æ®µæ£€æµ‹å‡ºæ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;é&#34;&gt;é&lt;/h4&gt;
&lt;p&gt;æŒ‡å¯¹æºç¨‹åºæˆ–æºç¨‹åºçš„ä¸­é—´ç»“æœä»å¤´åˆ°å°¾æ‰«æä¸€æ¬¡ï¼Œå¹¶åšæœ‰å…³çš„åŠ å·¥å¤„ç†ï¼Œç”Ÿæˆæ–°çš„ä¸­é—´ç»“æœæˆ–ç›®æ ‡ä»£ç ã€‚&lt;strong&gt;éä¸é˜¶æ®µçš„å«ä¹‰æ¯«æ— å…³ç³»&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¤šéæ‰«æï¼š &lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt;ï¼šèŠ‚çœå†…å­˜ç©ºé—´ï¼Œæé«˜ç›®æ ‡ä»£ç çš„è´¨é‡ï¼Œä½¿ç¼–è¯‘çš„é€»è¾‘ç»“æ„æ¸…æ™°ã€‚&lt;strong&gt;ç¼ºç‚¹&lt;/strong&gt;ï¼šç¼–è¯‘æ—¶é—´é•¿ã€‚åœ¨å†…å­˜è®¸å¯çš„æƒ…å†µä¸‹è¿˜æ˜¯éæ•°å°½å¯èƒ½å°‘è¾ƒå¥½ &lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202310242309680.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç¼–è¯‘ç¨‹åºç”Ÿæˆ&#34;&gt;ç¼–è¯‘ç¨‹åºç”Ÿæˆ&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç›´æ¥ç”¨æœºå™¨è¯­è¨€ç¼–å†™ç¼–è¯‘ç¨‹åº&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç”¨æ±‡ç¼–è¯­è¨€ç¼–å†™ç¼–è¯‘ç¨‹åº&lt;/strong&gt;ï¼Œç¼–è¯‘ç¨‹åºæ ¸å¿ƒéƒ¨åˆ†å¸¸ç”¨æ±‡ç¼–è¯­è¨€ç¼–å†™&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç”¨é«˜çº§è¯­è¨€ç¼–å†™ç¼–è¯‘ç¨‹åº&lt;/strong&gt;ï¼Œè¿™ä¹Ÿæ˜¯æ™®éé‡‡ç”¨çš„æ–¹æ³•&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è‡ªç¼–è¯‘&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼–è¯‘å·¥å…·&lt;/strong&gt; LEXï¼ˆè¯­æ³•åˆ†æï¼‰ä¸YACC(ç”¨äºè‡ªåŠ¨ç”ŸæˆLALRåˆ†æè¡¨)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç§»æ¤&lt;/strong&gt;(åŒç§è¯­è¨€çš„ç¼–è¯‘ç¨‹åºåœ¨ä¸åŒç±»å‹çš„æœºå™¨ä¹‹ é—´ç§»æ¤) åœ¨æŸæœºå™¨ä¸Šä¸ºæŸç§è¯­è¨€æ„é€ ç¼–è¯‘ç¨‹åºè¦æŒæ¡ä»¥ä¸‹ä¸‰æ–¹é¢:&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;æºè¯­è¨€&lt;/li&gt;
&lt;li&gt;ç›®æ ‡è¯­è¨€&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘æ–¹æ³•&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>å¼€æ”¾å…±äº«åè®®</title>
        <link>https://lxb.wiki/c12bcad7/</link>
        <pubDate>Sun, 05 Feb 2023 21:58:44 +0800</pubDate>
        
        <guid>https://lxb.wiki/c12bcad7/</guid>
        <description>&lt;ol&gt;
&lt;li&gt;Creative Commons Attribution 4.0 International License (CC BY 4.0)ã€ç½²åã€‘&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ³¨ï¼šç”¨æˆ·å¯ä»¥å¤åˆ¶ã€å‘è¡Œã€å±•è§ˆã€è¡¨æ¼”ã€æ”¾æ˜ ã€å¹¿æ’­æˆ–é€šè¿‡ä¿¡æ¯ç½‘ç»œä¼ æ’­æ­¤ä½œå“ï¼Œä½†å¿…é¡»æŒ‰ç…§æäº¤è€…æŒ‡å®šçš„æ–¹å¼å¯¹ä½œå“è¿›è¡Œç½²åã€‚&lt;/p&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Creative Commons Attribution-ShareAlike 4.0 International License (CC BY-SA4.0)ã€ç½²å-ç›¸åŒæ–¹å¼å…±äº«ã€‘&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ³¨ï¼šç”¨æˆ·å¯ä»¥å¤åˆ¶ã€å‘è¡Œã€å±•è§ˆã€è¡¨æ¼”ã€æ”¾æ˜ ã€å¹¿æ’­æˆ–é€šè¿‡ä¿¡æ¯ç½‘ç»œä¼ æ’­æ­¤ä½œå“ï¼Œä½†å¿…é¡»æŒ‰ç…§æäº¤è€…æŒ‡å®šçš„æ–¹å¼å¯¹ä½œå“è¿›è¡Œç½²åï¼Œè‹¥æ”¹å˜ã€è½¬å˜æˆ–å˜æ›´æœ¬ä½œå“ï¼Œå¿…é¡»éµå®ˆä¸æœ¬ä½œå“ç›¸åŒçš„æˆæƒæ¡æ¬¾æ‰èƒ½ä¼ æ’­ç”±æœ¬ä½œå“äº§ç”Ÿçš„æ¼”ç»ä½œå“ã€‚&lt;/p&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;Creative Commons Attribution-Noncommercial 4.0 International License (CC BY-NC 4.0)ã€ç½²å-éå•†ä¸šä½¿ç”¨ã€‘&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ³¨ï¼šç”¨æˆ·å¯ä»¥å¤åˆ¶ã€å‘è¡Œã€å±•è§ˆã€è¡¨æ¼”ã€æ”¾æ˜ ã€å¹¿æ’­æˆ–é€šè¿‡ä¿¡æ¯ç½‘ç»œä¼ æ’­æ­¤ä½œå“ï¼Œä½†å¿…é¡»æŒ‰ç…§æäº¤è€…æŒ‡å®šçš„æ–¹å¼å¯¹ä½œå“è¿›è¡Œç½²åï¼Œå¹¶ä¸”ä¸å¾—ä¸ºå•†ä¸šç›®çš„ä½¿ç”¨æœ¬ä½œå“ã€‚&lt;/p&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;Creative Commons Attribution-Noncommercial-ShareAlike 4.0 International License (CC BY-NC-SA 4.0) ã€ç½²å-éå•†ä¸šä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«ã€‘&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ³¨ï¼šç”¨æˆ·å¯ä»¥å¤åˆ¶ã€å‘è¡Œã€å±•è§ˆã€è¡¨æ¼”ã€æ”¾æ˜ ã€å¹¿æ’­æˆ–é€šè¿‡ä¿¡æ¯ç½‘ç»œä¼ æ’­æ­¤ä½œå“ï¼Œä½†å¿…é¡»æŒ‰ç…§æäº¤è€…æŒ‡å®šçš„æ–¹å¼å¯¹ä½œå“è¿›è¡Œç½²åï¼Œå¹¶ä¸”ä¸å¾—ä¸ºå•†ä¸šç›®çš„è€Œä½¿ç”¨æœ¬ä½œå“ã€‚è‹¥æ”¹å˜ã€è½¬å˜æˆ–å˜æ›´æœ¬ä½œå“ï¼Œå¿…é¡»éµå®ˆä¸æœ¬ä½œå“ç›¸åŒçš„æˆæƒæ¡æ¬¾æ‰èƒ½ä¼ æ’­ç”±æœ¬ä½œå“äº§ç”Ÿçš„æ¼”ç»ä½œå“ã€‚&lt;/p&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;Creative Commons Attribution-NoDerivatives 4.0 International License(CC BY-ND 4.0)ã€ç½²å-ç¦æ­¢æ¼”ç»ã€‘&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ³¨ï¼šç”¨æˆ·å¯ä»¥å¤åˆ¶ã€å‘è¡Œã€å±•è§ˆã€è¡¨æ¼”ã€æ”¾æ˜ ã€å¹¿æ’­æˆ–é€šè¿‡ä¿¡æ¯ç½‘ç»œä¼ æ’­æ­¤ä½œå“ï¼Œä½†å¿…é¡»æŒ‰ç…§æäº¤è€…æŒ‡å®šçš„æ–¹å¼å¯¹ä½œå“è¿›è¡Œç½²åã€‚è‹¥ç”¨æˆ·å†æ··åˆã€è½¬æ¢ã€æˆ–è€…åŸºäºè¯¥ä½œå“è¿›è¡Œåˆ›ä½œï¼Œåˆ™ä¸å¯ä»¥ä¼ æ’­ç”±æœ¬ä½œå“äº§ç”Ÿçš„æ¼”ç»ä½œå“ã€‚&lt;/p&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License(CC BY-NC-ND 4.0)ã€ç½²å-éå•†ä¸šä½¿ç”¨-ç¦æ­¢æ¼”ç»ã€‘&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ³¨ï¼šç”¨æˆ·å¯ä»¥å¤åˆ¶ã€å‘è¡Œã€å±•è§ˆã€è¡¨æ¼”ã€æ”¾æ˜ ã€å¹¿æ’­æˆ–é€šè¿‡ä¿¡æ¯ç½‘ç»œä¼ æ’­æ­¤ä½œå“ï¼Œä½†å¿…é¡»æŒ‰ç…§æäº¤è€…æŒ‡å®šçš„æ–¹å¼å¯¹ä½œå“è¿›è¡Œç½²åï¼Œå¹¶ä¸”ä¸å¾—ä¸ºå•†ä¸šç›®çš„ä½¿ç”¨æœ¬ä½œå“ã€‚è‹¥ç”¨æˆ·å†æ··åˆã€è½¬æ¢ã€æˆ–è€…åŸºäºè¯¥ä½œå“è¿›è¡Œåˆ›ä½œï¼Œåˆ™ä¸å¯ä»¥ä¼ æ’­ç”±æœ¬ä½œå“äº§ç”Ÿçš„æ¼”ç»ä½œå“ã€‚&lt;/p&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;Creative Commons Public Domain Dedication (CC0 1.0)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ³¨ï¼šç¤¾ä¼šå…¬ä¼—å¯ä»¥ä»¥ä»»ä½•æ–¹å¼ã€å‡ºäºä»»ä½•ç›®çš„å…è´¹ä½¿ç”¨è¯¥ä½œå“)ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘æ„å»ºé«˜æ•ˆçš„ DevOps æ–‡åŒ–çš„ 6 ä¸ªæŠ€å·§</title>
        <link>https://lxb.wiki/12428ad2/</link>
        <pubDate>Mon, 30 Jan 2023 21:58:33 +0000</pubDate>
        
        <guid>https://lxb.wiki/12428ad2/</guid>
        <description>&lt;blockquote&gt;
&lt;p&gt;æ— è®ºä½ æ˜¯åˆšåˆšå¼€å§‹åœ¨ä½ çš„ç»„ç»‡ä¸­ä½¿ç”¨ DevOpsï¼Œè¿˜æ˜¯ä»…ä»…æƒ³æ”¹å–„ä½ ç°æœ‰çš„æ–‡åŒ–ï¼Œè¯·è€ƒè™‘è¿™äº›æŠ€å·§ä»¥åŠå®ƒä»¬ä¸ä½ ç»„ç»‡çš„æœªæ¥çš„å…³ç³»ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä½ ä¸ºä»€ä¹ˆè¦æ„å»º &lt;a class=&#34;link&#34; href=&#34;https://opensource.com/resources/devops&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;DevOps&lt;/a&gt; æ–‡åŒ–ï¼Ÿå¼€å‘å›¢é˜Ÿå’Œè¿ç»´å›¢é˜Ÿçš„ç²¾ç®€åä½œæœ‰å¾ˆå¤šå¥½å¤„ã€‚æ•ˆç‡æ˜¯é¦–è¦ç›®æ ‡ï¼šæé«˜æ–°è½¯ä»¶éƒ¨ç½²çš„é€Ÿåº¦ï¼Œå‡å°‘ç­‰å¾…çš„æ—¶é—´ã€‚åŸ¹å…»åŒäº‹ä¹‹é—´çš„ä¿¡ä»»å¯ä»¥æå‡å‘˜å·¥çš„æ»¡æ„åº¦ï¼Œæ¿€å‘æ–°çš„åˆ›æ–°ï¼Œå¹¶å¯¹ç›ˆåˆ©èƒ½åŠ›äº§ç”Ÿç§¯æçš„å½±å“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://opensource.com/article/22/2/devops-documentation-maturity&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;DevOps&lt;/a&gt; æ˜¯ä¸€ä¸ªå¾ˆå¹¿æ³›çš„æ€æƒ³ï¼Œå¤§å®¶çš„ç†è§£ä¹Ÿè§ä»è§æ™ºã€‚æ¯ä¸ªå…¬å¸å¯¹äºå¦‚ä½•å®è¡Œ DevOps ä¹Ÿå„ä¸ç›¸åŒã€‚è¿™ç§æ„è§çš„å¤šæ ·æ€§å®é™…ä¸Šæ˜¯ä¸€ä»¶å¥½äº‹ â€”â€” è¿™ä¹ˆå¤šçš„è§‚ç‚¹å¯¹äºå»ºç«‹æ›´å¼ºå¤§çš„å›¢é˜Ÿæ˜¯å¾ˆæœ‰ç”¨çš„ã€‚æœ¬æŒ‡å—å°†æ¢è®¨åœ¨ DevOps æ–‡åŒ–ä¸­é¼“åŠ±åŒäº‹ä¹‹é—´æ›´å¥½åœ°åˆä½œçš„æœ€é«˜æŠ€å·§ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ¯ä¸ªéƒ¨åˆ†ä»ä¸åŒçš„è§†è§’ä»‹ç» DevOps æ–‡åŒ–ï¼Œå¹¶æ¢è®¨äº†å°†å®ƒå¼•å…¥å‘˜å·¥é˜Ÿä¼çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20230126220527.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;img&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;æµç¨‹çš„æŒç»­å‘å±•&#34;&gt;æµç¨‹çš„æŒç»­å‘å±•&lt;/h3&gt;
&lt;p&gt;DevOps æ–‡åŒ–çš„è¿™ä¸€æ ¸å¿ƒåŸåˆ™ä½¿å®ƒä¸è®¸å¤šå…¶ä»–ç±»å‹çš„å·¥ä½œåœºæ‰€çš„é£æ°”åŒºåˆ«å¼€æ¥ã€‚DevOps å“²å­¦è¯´ï¼ŒçŠ¯é”™æ˜¯æœ‰ç§¯ææ„ä¹‰çš„ï¼Œå› ä¸ºè¿™è¡¨æ˜ä½ åœ¨å°è¯•æ–°çš„æƒ³æ³•ã€‚&lt;/p&gt;
&lt;p&gt;DevOps æ–‡åŒ–çš„æ ¸å¿ƒæ˜¯ä¸åœåœ°åˆ›é€ ã€‚å®é™…ä¸Šï¼Œè¿™æ„å‘³ç€å½“æµ‹è¯•ç»“æœæ˜¾ç¤ºäº‹æƒ…ç”±äºä½ çš„æ”¹åŠ¨è€Œå˜åæ—¶ï¼Œä¸è¦æ‡Šæ¼ã€‚æˆ‘ä»¬è¦è®¤è¯†åˆ°ï¼Œè¿›åŒ–çš„è¿‡ç¨‹ä¸æ˜¯çº¿æ€§çš„ï¼Œé€šå¾€æˆåŠŸçš„é“è·¯ä¹Ÿä»æ¥ä¸æ˜¯ä¸€æ¡ç›´çº¿ã€‚&lt;/p&gt;
&lt;p&gt;DevOps ä¸“å®¶ &lt;a class=&#34;link&#34; href=&#34;https://enterprisersproject.com/user/gene-kim&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Gene Kim&lt;/a&gt; ä¸»å¼ å‹‡äºæ‰¿æ‹…é£é™©å’Œè¿›è¡Œå®éªŒã€‚é¼“åŠ±ä½ çš„å›¢é˜Ÿå°è¯•ä¸å¯»å¸¸çš„ä»»åŠ¡ï¼Œä»¥å¾—åˆ°æ–°çš„é¢†æ‚Ÿã€‚&lt;/p&gt;
&lt;p&gt;ä½ çš„ç»„ç»‡åº”è¯¥ä»¥åˆ©æ¶¦ä¸ºå¯¼å‘å—ï¼Ÿä½ èƒ½å…è®¸ä½ çš„å›¢é˜Ÿå°è¯•ä¸€äº›æ–°ä¸œè¥¿ï¼ˆéæŒ‡ä¸ªäººå…´è¶£é¡¹ç›®ï¼‰å—ï¼ŸæŒç»­çš„æµç¨‹å‘å±•æ„å‘³ç€å¯¹å‡çº§ç›®å‰çš„æ–¹æ³•æŒå¼€æ”¾æ€åº¦ã€‚ä¼˜ç§€çš„é”€å”®é¢†å¯¼æ‡‚å¾—ï¼Œç»“æœæ¯”å‡ºå‹¤ç‡æ›´é‡è¦ï¼Œå› æ­¤ï¼Œå…³æ³¨å›¢é˜Ÿçš„å·¥ä½œæ–¹å¼è€Œä¸æ˜¯å·¥ä½œé‡çš„å¤šå°‘å§‹ç»ˆæ˜¯å…³é”®ã€‚&lt;/p&gt;
&lt;h3 id=&#34;éšæ—¶æä¾›åé¦ˆå¹¶ç§¯æå¯»æ±‚åé¦ˆ&#34;&gt;éšæ—¶æä¾›åé¦ˆå¹¶ç§¯æå¯»æ±‚åé¦ˆ&lt;/h3&gt;
&lt;p&gt;æˆå‘˜ä¹‹é—´å¢åŠ ä¿¡ä»»æ˜¯è“¬å‹ƒå‘å±•çš„ DevOps æ–‡åŒ–çš„å¦ä¸€ä¸ªå…³é”®ç‰¹å¾ã€‚æ— è®ºä½ çš„å‘˜å·¥æ˜¯åœ¨å­¦ä¹ å¦‚ä½•å»ºç«‹è”ç›Ÿç½‘ç»œè”ç³»ï¼Œè¿˜æ˜¯è¯•å›¾è®¾è®¡ä»–ä»¬çš„ä¸‹ä¸€ä¸ª &lt;a class=&#34;link&#34; href=&#34;https://opensource.com/article/22/7/awesome-ux-cli-application&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ç”¨æˆ·ä½“éªŒ&lt;/a&gt; è°ƒæŸ¥ï¼Œæ¯ä¸ªäººéƒ½åº”è¯¥å¯¹ä»–ä»¬å·¥ä½œçš„åé¦ˆæŒå¼€æ”¾æ€åº¦ã€‚ä½†æ˜¯ï¼Œé™¤éä½ çš„å›¢é˜Ÿæˆå‘˜å°Šé‡å½¼æ­¤çš„æ„è§ï¼Œå¹¶ç›¸ä¿¡åé¦ˆæ˜¯æœ¬ç€å–„æ„çš„ç²¾ç¥æå‡ºçš„ï¼Œå¦åˆ™è¿™æ°¸è¿œä¸ä¼šå‘ç”Ÿã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§æ–‡åŒ–å¬èµ·æ¥å¯èƒ½æ˜¯å¾ˆéš¾åŸ¹å…»çš„ï¼›äº‹å®ä¸Šï¼Œä¸€äº›å…¬å¸ä¼šæ¯”å…¶ä»–å…¬å¸æ›´åŠªåŠ›åœ°å®ç°è¿™ä¸€ç‚¹ã€‚è¯šç„¶ï¼Œç»™äºˆå’Œæ¥å—åé¦ˆçš„æˆåŠŸå¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºå‘˜å·¥çš„ä¸ªæ€§ã€‚åœ¨æ‹›è˜è¿‡ç¨‹ä¸­ï¼Œä¹Ÿå¯ä»¥å¯¹æ­¤è¿›è¡Œç­›é€‰ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä½ æœŸæœ›å‘˜å·¥éšæ—¶å‘åŒäº‹æä¾›åé¦ˆå¹¶ä¸»åŠ¨å¯»æ±‚åé¦ˆä¹‹å‰ï¼Œä½ åº”è¯¥ä»¥èº«ä½œåˆ™ã€‚é«˜ç®¡åº”è¯¥ä»¥èº«ä½œåˆ™ï¼Œå…¬å¼€è¦æ±‚å…¬å¸æˆå‘˜å¯¹å…¶æˆ˜ç•¥å†³ç­–æå‡ºæ¢ç©¶æ€§é—®é¢˜ï¼Œå¹¶æä¾›ç›¸åº”çš„åé¦ˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20230126220801.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;DevOps is the intersection of development, quality assurance, and operations&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä¸æ–­æ”¹è¿›&#34;&gt;ä¸æ–­æ”¹è¿›&lt;/h3&gt;
&lt;p&gt;åœ¨åŒäº‹ä¹‹é—´å¢åŠ å¯¹æ™ºåŠ›ä¿¡ä»»çš„åŸºç¡€ä¸Šï¼Œä½ çš„å›¢é˜Ÿåº”è¯¥å¯»æ‰¾æ–¹æ³•æ¥æ”¹å–„å…¶å·¥ä½œã€‚DevOps çš„æ€§è´¨æ„å‘³ç€è½¯ä»¶å¼€å‘å›¢é˜Ÿå°†æ¯”ä¼ ç»Ÿæ–¹æ³•æ›´è¿…é€Ÿåœ°è¿›è¡Œéƒ¨ç½²ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§å¼€æ”¾çš„æ”¹è¿›æ–‡åŒ–å¯ä»¥å¯¹å¼€å‘å’Œè¿ç»´ä»¥å¤–çš„éƒ¨é—¨äº§ç”Ÿç§¯æçš„å½±å“ã€‚ä½ ä¹Ÿå¯ä»¥è‡ªå·±å»æ¢ç´¢ä¼ä¸šè¿˜æœ‰å“ªäº›é¢†åŸŸä¼šå—åˆ°ç§¯æçš„å½±å“ã€‚&lt;/p&gt;
&lt;p&gt;ç•™æ„åŸ¹è®­å’Œæé«˜æŠ€èƒ½çš„æœºä¼šã€‚å³ä½¿ä¸€ä¸ªåŸ¹è®­è¯¾ç¨‹æ²¡æœ‰å¹¿å‘Šä¸Šè¯´çš„é‚£ä¹ˆçªå‡ºï¼Œä½†æœ‰æœºä¼šä¸è¡Œä¸šä¸“å®¶å»ºç«‹è”ç³»ï¼Œå¹¶ä¸æœªæ¥å»ºç«‹è”ç³»ï¼Œè¿™å¯ä»¥æé«˜ä½ çš„ç»„ç»‡å†…çš„æ€æƒ³å¤šæ ·æ€§ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸ºä»¥åçš„å¼€å‘ä¿å­˜å½“å‰çš„æƒ³æ³•&#34;&gt;ä¸ºä»¥åçš„å¼€å‘ä¿å­˜å½“å‰çš„æƒ³æ³•&lt;/h3&gt;
&lt;p&gt;é¢‘ç¹ä½¿ç”¨çš„ &lt;a class=&#34;link&#34; href=&#34;https://opensource.com/article/22/11/git-concepts&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Git&lt;/a&gt; è´¦æˆ·åº”è¯¥æ˜¯ä½ çš„ DevOps å·¥å…·é“¾çš„ä¸€éƒ¨åˆ†ã€‚ä½ å¯ä»¥ç”¨ Git ä½œä¸ºè½¯ä»¶å¼€å‘å’Œå…¶ä»–ç›¸å…³é¡¹ç›®ä¸­äº§ç”Ÿçš„è„šæœ¬çš„å…±åŒä»“åº“ã€‚Git ä½œä¸º â€œç‰ˆæœ¬æ§åˆ¶â€ å·¥å…·è€Œè¢«ç†ŸçŸ¥ï¼ŒGit å…è®¸ç¨‹åºå‘˜ä¿å­˜ä»–ä»¬å·¥ä½œçš„è¿­ä»£ã€å¤ç”¨æˆ–æ”¹è¿›å…¶ä»–äººçš„å·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;ä½ çš„ç›®æ ‡æ˜¯èƒ½å¤Ÿä¿ç•™å¥½çš„æƒ³æ³•ä»¥ä¾›å°†æ¥ä½¿ç”¨ã€‚æŸä¸ªæ–¹æ³•ç”±äºæŸç§åŸå› æ²¡æœ‰æˆåŠŸã€‚ç„¶è€Œï¼Œé‚£å¥—æƒ³æ³•åœ¨å½“æ—¶æ˜¯é”™è¯¯çš„ï¼Œå¹¶ä¸æ„å‘³ç€å®ƒåœ¨æœªæ¥æ°¸è¿œæ— æ³•æˆä¸ºæœ‰ç”¨çš„ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äº DevOps çš„æ•´ä¸ªé‡ç‚¹åœ¨äºç”Ÿäº§ç¯å¢ƒä¸­çš„è½¯ä»¶çš„ç«¯åˆ°ç«¯æ‰€æœ‰æƒï¼Œå› æ­¤èŠ‚çœå¼€å‘çš„è¿­ä»£çœŸæ­£æ”¯æŒè¿™ä¸€åŸåˆ™ã€‚ä½ å¸Œæœ›çœ‹åˆ°å¯¹æ‰‹å¤´çš„è½¯ä»¶æµ‹è¯•é¡¹ç›®çš„æŒç»­å…³æ³¨å’ŒæŠ•å…¥ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªç®€å•çš„æ–¹æ³•æ˜¯è¦æ±‚å¼€å‘è€…åœ¨å¼€å‘è€…åˆåŒå’Œæœ€ç»ˆé¡¹ç›®æŠ¥å‘Šä¸­åŒ…å«å¯¹æœªæ¥å·¥ä½œçš„æƒ³æ³•ã€‚ç¡®ä¿æŠ€æœ¯æœåŠ¡ç»ç†çŸ¥é“ä»–ä»¬åº”è¯¥è¦æ±‚æä¾›åœ¨å»ºè®¾è¿‡ç¨‹ä¸­å‡ºç°çš„æ—é—¨å·¦é“çš„æƒ³æ³•çš„ä¾‹å­ã€‚æ„è¯†åˆ°è¿™äº›å°åˆ›æ–°çš„äººè¶Šå¤šï¼Œåœ¨éœ€è¦çš„æ—¶å€™å°±è¶Šæœ‰å¯èƒ½æœ‰äººè®°ä½ä¸€ä¸ªã€‚&lt;/p&gt;
&lt;h3 id=&#34;ååœ¨ä¸€èµ·ç‰©ç†ä¸Šæˆ–é€»è¾‘ä¸Š&#34;&gt;ååœ¨ä¸€èµ·ï¼ˆç‰©ç†ä¸Šæˆ–é€»è¾‘ä¸Šï¼‰&lt;/h3&gt;
&lt;p&gt;ç›®æ ‡æ˜¯å¯¹å½¼æ­¤çš„å·¥ä½œè§’è‰²ä»¥åŠå®ƒä»¬ä¹‹é—´çš„ç›¸äº’å…³ç³»æœ‰ä¸€ä¸ªå…±åŒçš„ç†è§£ã€‚ä½ å¯ä»¥é€šè¿‡å‡ ä¸ªç®€å•çš„æ–¹æ³•å®ç°è¿™ä¸€ç›®æ ‡ï¼Œç”¨ä¸€å¥è¯æ¦‚æ‹¬ï¼šååœ¨ä¸€èµ·ã€‚é‚€è¯·å…¶ä»–å›¢é˜Ÿå‚åŠ ä½ ä»¬çš„ä¼šè®®ï¼Œå®Œæ•´åœ°åˆ†äº«ç”¨æˆ·åé¦ˆæŠ¥å‘Šã€‚ä¸€èµ·åƒåˆé¥­ï¼Œä¸€èµ·è®¡åˆ’è™šæ‹Ÿçš„å¿«ä¹æ—¶å…‰ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œè¦ç¡®ä¿ä½ çš„åŒäº‹éƒ½åœ¨ä¸€èµ·ã€‚å¤§çº¦ 90% çš„æ‹¥æœ‰æˆç†Ÿçš„ DevOps åè®®çš„å›¢é˜ŸæŠ¥å‘Šè¯´ï¼Œä»–ä»¬æ¸…æ¥šåœ°äº†è§£è‡ªå·±å¯¹å…¶ä»–å›¢é˜Ÿçš„è´£ä»»ï¼Œè€Œåœ¨ä¸æˆç†Ÿçš„ DevOps å›¢é˜Ÿä¸­ï¼Œåªæœ‰å¤§çº¦ 46% çš„å·¥ä½œè€…æ¸…æ¥šåœ°äº†è§£è‡ªå·±çš„è´£ä»»ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶ä¸å¿—åŒé“åˆçš„äººç»“æˆå°å›¢ä½“ï¼Œåªä¸è¢«é›‡æ¥æ‰§è¡Œä¸ä½ ç›¸åŒä»»åŠ¡çš„å‘˜å·¥åœ¨ä¸€èµ·æ˜¯å¾ˆè¯±äººçš„ï¼Œä½†è¿™å¯¹æ•´ä¸ªä¼ä¸šæ¥è¯´æ˜¯å¾ˆç³Ÿç³•çš„ã€‚æ— è®ºä½ å–œæ¬¢ä¸å¦ï¼Œæ‰€æœ‰çš„äººéƒ½æ˜¯å¤šé¢æ‰‹ï¼Œèƒ½å¤Ÿåœ¨ä¸€ç³»åˆ—çš„æƒ…å†µä¸‹è´¡çŒ®è‡ªå·±çš„ç‹¬ç‰¹æ‰èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;å¯†åˆ‡åä½œçš„ç†å¿µæ˜¯å°Šé‡ä»»ä½•äººå¯¹å…¶å‘¨å›´æ­£åœ¨è¿›è¡Œçš„äº§å“æˆ–å·¥ä½œæµç¨‹æå‡ºæ”¹è¿›å»ºè®®çš„èƒ½åŠ›ã€‚å¦‚æœä½ ä¸å…¬å¸å†…çš„å…¶ä»–éƒ¨é—¨ä¿æŒä¸€å®šçš„è·ç¦»ï¼Œä½ å°†ä¼šé”™è¿‡æ— æ•°æ¬¡åˆ†äº«æ™ºæ…§æƒ³æ³•çš„æœºä¼šã€‚æ¯•ç«Ÿï¼Œä½ å¾€å¾€åœ¨äº¤æµä¸­å­¦ä¹ å¾—æœ€å¥½ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è‡´åŠ›äºè‡ªåŠ¨åŒ–&#34;&gt;è‡´åŠ›äºè‡ªåŠ¨åŒ–&lt;/h3&gt;
&lt;p&gt;ä½ åº”è¯¥ä»¥æé«˜æ•ˆç‡å’ŒåŠ é€Ÿæµç¨‹çš„åä¹‰ï¼Œå¯»æ±‚å°†å•è°ƒçš„å’Œé‡å¤çš„ä»»åŠ¡å˜ä¸ºè‡ªåŠ¨åŒ–ã€‚æ¯ä¸ªè¡Œä¸šéƒ½æœ‰æ— èŠçš„ â€”â€” è¯´å¾—ç›´ç™½ä¸€ç‚¹ï¼Œå°±æ˜¯æ„šè ¢çš„ â€”â€” æ¯å¤©æˆ–æ¯å‘¨éƒ½è¦è¿›è¡Œçš„å·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;æ— è®ºæ˜¯æ‰‹å·¥å°†æ•°æ®ä»ä¸€é¡µå¤åˆ¶åˆ°å¦ä¸€é¡µï¼Œè¿˜æ˜¯æ‰‹å·¥æ‰“å‡ºéŸ³é¢‘è®°å½•ï¼Œæ¯ä¸ªçº§åˆ«çš„å·¥ä½œäººå‘˜éƒ½åº”è¯¥åšæŒè®©æœºå™¨åœ¨å¯èƒ½çš„æƒ…å†µä¸‹æ‰¿æ‹…è¿™äº›è´Ÿæ‹…ã€‚ç°å®æ˜¯è‡ªåŠ¨åŒ–æŠ€æœ¯æ¯å¹´éƒ½åœ¨è¿›æ­¥ï¼Œæ“ä½œæµç¨‹ä¹Ÿåº”è¯¥å¦‚æ­¤ã€‚&lt;a class=&#34;link&#34; href=&#34;https://opensource.com/article/20/7/open-source-test-automation-frameworks&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è‡ªåŠ¨åŒ–æµ‹è¯•&lt;/a&gt; å¯¹ DevOps éå¸¸å…³é”®ï¼Œå®ƒæ˜¯ CALMS æ¡†æ¶çš„ç¬¬äºŒä¸ªåŸåˆ™ï¼ˆå…¶ä¸­çš„ â€œCâ€ ä»£è¡¨ â€œæ–‡åŒ–â€ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä½ æ€æ ·æ‰èƒ½å®ç°è¿™ä¸€ç‚¹ï¼Ÿé‚€è¯·å‘˜å·¥å…¬å¼€è¡¨è¾¾ä»–ä»¬è®¤ä¸ºå·¥ä½œçš„å“ªäº›æ–¹é¢å¯ä»¥è‡ªåŠ¨åŒ–ï¼Œç„¶å â€”â€” è¿™é‡Œæ˜¯å…³é”®çš„éƒ¨åˆ† â€”â€” æ”¯æŒå®ç°è‡ªåŠ¨åŒ–æ‰€éœ€çš„è®¾æ–½ã€‚è¿™å¯èƒ½æ„å‘³ç€æ¯å¹´èŠ± 600 ç¾å…ƒè®¢é˜…ä¸€ä¸ªè½¯ä»¶ç¨‹åºã€ä¸€å¥—å®Œæ•´çš„ä¼ä¸šåº”ç”¨ç°ä»£åŒ–è§£å†³æ–¹æ¡ˆï¼Œæˆ–å¼€å‘äººå‘˜ç”¨ä¸¤å¤©æ—¶é—´æ¥å»ºç«‹ä¸€ä¸ªåœ¨å†…éƒ¨ä½¿ç”¨æ–°å·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;æ— è®ºå“ªç§æ–¹å¼ï¼Œä½ éƒ½åº”è¯¥è¯„ä¼°è‡ªåŠ¨åŒ–çš„å¥½å¤„ï¼Œè€ƒè™‘ä½ å¯ä»¥ä¸ºæ¯ä¸ªäººèŠ‚çœå¤šå°‘æ—¶é—´ã€‚DevOps çš„ç»Ÿè®¡æ•°æ®ä¸æ–­è¡¨æ˜ï¼Œç°ä»£å…¬å¸é€šè¿‡æ•´åˆè¿™äº›æœ‰ç›Šçš„åŸåˆ™ï¼Œå¹´å¤ä¸€å¹´åœ°å¾—åˆ°äº†å¾ˆå¤§çš„æ”¹å–„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ¢ç´¢æˆåŠŸçš„æ–°å·¥ä½œæ–¹å¼&#34;&gt;æ¢ç´¢æˆåŠŸçš„æ–°å·¥ä½œæ–¹å¼&lt;/h3&gt;
&lt;p&gt;æ–‡åŒ–è½¬å˜ä¸ä¼šåœ¨ä¸€å¤œä¹‹é—´å‘ç”Ÿã€‚ä¸è¿‡ï¼Œä½ è¶Šæ—©å¼€å§‹ï¼Œå°±è¶Šæ—©çœ‹åˆ°ç»“æœã€‚æ ¹æ®æˆ‘çš„ç»éªŒï¼Œå½“å˜åŒ–çœŸæ­£å¯¹ä»¥å‰è¿›è¡Œäº†æ”¹è¿›æ—¶ï¼Œäººä»¬ä¼šæ¥å—å®ƒã€‚DevOps ä¸ºè¿™ç§æ”¹è¿›æä¾›äº†ä¸€ä¸ªæ¡†æ¶ã€‚æ— è®ºä½ æ˜¯åˆšåˆšåœ¨ä½ çš„ç»„ç»‡ä¸­å¼€å§‹ä½¿ç”¨ DevOpsï¼Œè¿˜æ˜¯ä»…ä»…æƒ³æ”¹å–„ä½ ç°æœ‰çš„æ–‡åŒ–ï¼Œè¯·è€ƒè™‘ä»¥ä¸Šå‡ ç‚¹ä»¥åŠå®ƒä»¬ä¸ä½ ç»„ç»‡çš„æœªæ¥çš„å…³ç³»ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://opensource.com/article/23/1/tips-effective-devops-culture&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://opensource.com/article/23/1/tips-effective-devops-culture&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://opensource.com/users/yauhen-zaremba&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Yauhen Zaremba&lt;/a&gt;
é€‰é¢˜ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lkxed&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;lkxed&lt;/a&gt;
è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Xiaobin.Liu&lt;/a&gt;
æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/wxy&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;wxy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/LCTT/TranslateProject&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;LCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://linux.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Linuxä¸­å›½&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
</description>
        </item>
        <item>
        <title>å‡ ç§å‘å¸ƒç­–ç•¥</title>
        <link>https://lxb.wiki/8b49ed57/</link>
        <pubDate>Tue, 10 Jan 2023 21:48:25 +0800</pubDate>
        
        <guid>https://lxb.wiki/8b49ed57/</guid>
        <description>&lt;h3 id=&#34;è“ç»¿å‘å¸ƒblue-green-deployment&#34;&gt;è“ç»¿å‘å¸ƒ(Blue-Green Deployment)&lt;/h3&gt;
&lt;p&gt;è“ç»¿å‘å¸ƒæä¾›äº†ä¸€ç§é›¶å®•æœºçš„éƒ¨ç½²æ–¹å¼ã€‚ä¸åœè€ç‰ˆæœ¬ï¼Œéƒ¨ç½²æ–°ç‰ˆæœ¬è¿›è¡Œæµ‹è¯•ï¼Œç¡®è®¤OKï¼Œå°†æµé‡åˆ‡åˆ°æ–°ç‰ˆæœ¬ï¼Œç„¶åè€ç‰ˆæœ¬åŒæ—¶ä¹Ÿå‡çº§åˆ°æ–°ç‰ˆæœ¬ã€‚å§‹ç»ˆæœ‰ä¸¤ä¸ªç‰ˆæœ¬åŒæ—¶åœ¨çº¿ï¼Œæœ‰é—®é¢˜å¯ä»¥å¿«é€Ÿåˆ‡æ¢ã€‚&lt;br&gt;
è“ç»¿éƒ¨ç½²ä¸­ï¼Œä¸€å…±æœ‰ä¸¤å¥—ç³»ç»Ÿï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€å¥—æ˜¯æ­£åœ¨æä¾›æœåŠ¡ç³»ç»Ÿï¼Œæ ‡è®°ä¸ºâ€œç»¿è‰²â€ï¼›&lt;/li&gt;
&lt;li&gt;å¦ä¸€å¥—æ˜¯å‡†å¤‡å‘å¸ƒçš„ç³»ç»Ÿï¼Œæ ‡è®°ä¸ºâ€œè“è‰²â€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¼˜ç¼ºç‚¹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼šæ–°ç‰ˆæœ¬å‡çº§å’Œè€ç‰ˆæœ¬å›æ»šè¿…é€Ÿã€‚ç”¨æˆ·å¯ä»¥çµæ´»æ§åˆ¶æµé‡èµ°å‘&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¼ºç‚¹ï¼šæˆæœ¬è¾ƒé«˜ï¼Œéœ€è¦éƒ¨ç½²ä¸¤å¥—ç¯å¢ƒï¼ˆè“/ç»¿ï¼‰&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ¯”å¦‚æ—¥å¸¸è¿è¡Œæ—¶ï¼Œéœ€è¦10å°æœåŠ¡å™¨æ”¯æ’‘ä¸šåŠ¡ï¼Œé‚£ä¹ˆä½¿ç”¨è“ç»¿éƒ¨ç½²ï¼Œä½ å°±éœ€è¦è´­ç½®äºŒåå°æœåŠ¡å™¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20230905233800.gif&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20230905233801.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;é‡‘ä¸é›€å‘å¸ƒç°åº¦å‘å¸ƒcanary-release&#34;&gt;é‡‘ä¸é›€å‘å¸ƒ/ç°åº¦å‘å¸ƒ(Canary Release)&lt;/h3&gt;
&lt;p&gt;ç°åº¦å‘å¸ƒ Gray Releaseï¼ˆåˆåé‡‘ä¸é›€å‘å¸ƒ Canary Releaseï¼‰&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é‡‘ä¸é›€å‘å¸ƒæœ‰ä¸€ä¸ªæœ‰è¶£çš„å°æ•…äº‹ï¼Œè¢«ç§°ä¸ºã€Œé‡‘ä¸é›€åœ¨çŸ¿äº•ã€ã€‚è¿™ä¸ªæ•…äº‹ç”¨æ¥å½¢è±¡åœ°æè¿°é‡‘ä¸é›€å‘å¸ƒç­–ç•¥çš„æ¦‚å¿µã€‚&lt;br&gt;
æ•…äº‹èƒŒæ™¯æ˜¯åœ¨è¿‡å»çš„ç…¤çŸ¿å¼€é‡‡ä¸­ï¼ŒçŸ¿å·¥ä»¬é¢ä¸´ç€ä¸€ç§å±é™©çš„æƒ…å†µï¼Œå³æœ‰æ¯’æ°”ä½“çš„ç§¯ç´¯ã€‚ç”±äºæ— æ³•ç›´æ¥æ£€æµ‹åˆ°è¿™äº›æ°”ä½“ï¼ŒçŸ¿å·¥ä»¬éœ€è¦ä¸€ç§è­¦æŠ¥æœºåˆ¶æ¥æé†’ä»–ä»¬æ˜¯å¦é¢ä¸´å±é™©ã€‚ä»–ä»¬æ‰¾åˆ°äº†ä¸€ç§è§£å†³æ–¹æ¡ˆï¼šå¸¦ä¸Šä¸€åªå°å°çš„é‡‘ä¸é›€ã€‚&lt;br&gt;
çŸ¿å·¥ä»¬å°†é‡‘ä¸é›€æ”¾å…¥ç…¤çŸ¿ï¼Œå¦‚æœæ°”ä½“è¾¾åˆ°äº†å±é™©çš„æ°´å¹³ï¼Œé‡‘ä¸é›€ä¼šé¦–å…ˆå—åˆ°å½±å“å¹¶æ­»äº¡ï¼Œä»è€Œè­¦ç¤ºçŸ¿å·¥ä»¬ç«‹å³ç¦»å¼€çŸ¿äº•ä»¥é¿å…å±é™©ã€‚è¿™ç§è­¦æŠ¥ç³»ç»Ÿä¿æŠ¤äº†çŸ¿å·¥çš„ç”Ÿå‘½å®‰å…¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸åœæœºæ—§ç‰ˆæœ¬ï¼Œéƒ¨ç½²æ–°ç‰ˆæœ¬ï¼Œé«˜æ¯”ä¾‹æµé‡ï¼ˆä¾‹å¦‚ï¼š95%ï¼‰èµ°æ—§ç‰ˆæœ¬ï¼Œä½æ¯”ä¾‹æµé‡ï¼ˆä¾‹å¦‚ï¼š5%ï¼‰åˆ‡æ¢åˆ°æ–°ç‰ˆæœ¬ï¼Œé€šè¿‡ç›‘æ§è§‚å¯Ÿæ— é—®é¢˜ï¼Œé€æ­¥æ‰©å¤§èŒƒå›´ï¼Œæœ€ç»ˆæŠŠæ‰€æœ‰æµé‡éƒ½è¿ç§»åˆ°æ–°ç‰ˆæœ¬ä¸Šã€‚å±æ— æŸå‘å¸ƒ&lt;br&gt;
åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œç°åº¦æµ‹è¯•é€šå¸¸æ¶‰åŠå°†æ–°åŠŸèƒ½æˆ–æ›´æ–°æ¨é€åˆ°ä¸€å°éƒ¨åˆ†ç”¨æˆ·ï¼Œä¾‹å¦‚5ï¼…æˆ–10ï¼…çš„ç”¨æˆ·ã€‚&lt;br&gt;
è¿™äº›ç”¨æˆ·å°†èƒ½å¤Ÿä½¿ç”¨æ–°åŠŸèƒ½æˆ–æ›´æ–°ï¼Œè€Œå…¶ä»–ç”¨æˆ·åˆ™ä¸ä¼šçœ‹åˆ°å®ƒä»¬ã€‚&lt;br&gt;
é€šè¿‡ç›‘è§†è¿™äº›ç”¨æˆ·çš„åé¦ˆå’Œè¡Œä¸ºï¼Œå¼€å‘äººå‘˜å¯ä»¥è¯„ä¼°æ–°åŠŸèƒ½æˆ–æ›´æ–°çš„æ•ˆæœï¼Œå¹¶è¯†åˆ«ä»»ä½•é—®é¢˜æˆ–é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Javaä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä¸€äº›å·¥å…·æ¥å®ç°ç°åº¦æµ‹è¯•ï¼Œä¾‹å¦‚FeatureToggleå’ŒLaunchDarklyã€‚&lt;br&gt;
è¿™äº›å·¥å…·å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜è½»æ¾åœ°æ§åˆ¶æ–°åŠŸèƒ½æˆ–æ›´æ–°çš„æ¨å‡ºï¼Œå¹¶ç›‘è§†ç”¨æˆ·åé¦ˆå’Œè¡Œä¸ºã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼šçµæ´»ç®€å•ï¼Œä¸éœ€è¦ç”¨æˆ·æ ‡è®°é©±åŠ¨ã€‚å®‰å…¨æ€§é«˜ï¼Œæ–°ç‰ˆæœ¬å¦‚æœå‡ºç°é—®é¢˜ï¼Œåªä¼šå‘ç”Ÿåœ¨ä½æ¯”ä¾‹çš„æµé‡ä¸Š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¼ºç‚¹ï¼šæˆæœ¬è¾ƒé«˜ï¼Œéœ€è¦éƒ¨ç½²ç¨³å®š/ç°åº¦ä¸¤å¥—ç¯å¢ƒ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20230908233802.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;abæµ‹è¯•&#34;&gt;A/Bæµ‹è¯•&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆéœ€è¦æ˜ç¡®çš„æ˜¯ï¼ŒA/Bæµ‹è¯•å’Œè“ç»¿éƒ¨ç½²ä»¥åŠé‡‘ä¸é›€ï¼Œå®Œå…¨æ˜¯ä¸¤å›äº‹ã€‚&lt;br&gt;
è“ç»¿éƒ¨ç½²å’Œé‡‘ä¸é›€æ˜¯å‘å¸ƒç­–ç•¥ï¼Œç›®æ ‡æ˜¯ç¡®ä¿æ–°ä¸Šçº¿çš„ç³»ç»Ÿç¨³å®šï¼Œå…³æ³¨çš„æ˜¯æ–°ç³»ç»Ÿçš„BUGã€éšæ‚£ã€‚&lt;br&gt;
A/Bæµ‹è¯•æ˜¯æ•ˆæœæµ‹è¯•ï¼ŒåŒä¸€æ—¶é—´æœ‰å¤šä¸ªç‰ˆæœ¬çš„æœåŠ¡å¯¹å¤–æœåŠ¡ï¼Œè¿™äº›æœåŠ¡éƒ½æ˜¯ç»è¿‡è¶³å¤Ÿæµ‹è¯•ï¼Œè¾¾åˆ°äº†ä¸Šçº¿æ ‡å‡†çš„æœåŠ¡ï¼Œæœ‰å·®å¼‚ä½†æ˜¯æ²¡æœ‰æ–°æ—§ä¹‹åˆ†ï¼ˆå®ƒä»¬ä¸Šçº¿æ—¶å¯èƒ½é‡‡ç”¨äº†è“ç»¿éƒ¨ç½²çš„æ–¹å¼ï¼‰ã€‚&lt;br&gt;
A/Bæµ‹è¯•å…³æ³¨çš„æ˜¯ä¸åŒç‰ˆæœ¬çš„æœåŠ¡çš„å®é™…æ•ˆæœï¼Œè­¬å¦‚è¯´è½¬åŒ–ç‡ã€è®¢å•æƒ…å†µç­‰ã€‚&lt;br&gt;
A/Bæµ‹è¯•æ—¶ï¼Œçº¿ä¸ŠåŒæ—¶è¿è¡Œå¤šä¸ªç‰ˆæœ¬çš„æœåŠ¡ï¼Œè¿™äº›æœåŠ¡é€šå¸¸ä¼šæœ‰ä¸€äº›ä½“éªŒä¸Šçš„å·®å¼‚ï¼Œè­¬å¦‚è¯´é¡µé¢æ ·å¼ã€é¢œè‰²ã€æ“ä½œæµç¨‹ä¸åŒã€‚ç›¸å…³äººå‘˜é€šè¿‡åˆ†æå„ä¸ªç‰ˆæœ¬æœåŠ¡çš„å®é™…æ•ˆæœï¼Œé€‰å‡ºæ•ˆæœæœ€å¥½çš„ç‰ˆæœ¬ã€‚&lt;br&gt;
åœ¨A/Bæµ‹è¯•ä¸­ï¼Œéœ€è¦èƒ½å¤Ÿæ§åˆ¶æµé‡çš„åˆ†é…ï¼Œè­¬å¦‚è¯´ï¼Œä¸ºAç‰ˆæœ¬åˆ†é…10%çš„æµé‡ï¼Œä¸ºBç‰ˆæœ¬åˆ†é…10%çš„æµé‡ï¼Œä¸ºCç‰ˆæœ¬åˆ†é…80%çš„æµé‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20230908233803.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ»šåŠ¨å‘å¸ƒrolling-release&#34;&gt;æ»šåŠ¨å‘å¸ƒï¼ˆRolling Releaseï¼‰&lt;/h3&gt;
&lt;p&gt;æ¯æ¬¡åªå‡çº§ä¸€ä¸ªæˆ–å¤šä¸ªæœåŠ¡ï¼Œé€šè¿‡è§‚å¯Ÿæ— é—®é¢˜ï¼Œä¸æ–­æ‰§è¡Œè¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°é›†ç¾¤ä¸­çš„å…¨éƒ¨æ—§ç‰ˆæœ¬å‡çº§åˆ°æ–°ç‰ˆæœ¬ã€‚å±æœ‰æŸå‘å¸ƒ&lt;br&gt;
K8S é»˜è®¤é‡‡ç”¨äº†æ»šåŠ¨å‘å¸ƒ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼šæˆæœ¬è¾ƒä½ï¼Œåªéœ€è¦éƒ¨ç½²ä¸€å¥—ç¯å¢ƒã€‚å‡ºç°é—®é¢˜å½±å“èŒƒå›´ï¼Œåªé™äºå‘ç”Ÿåœ¨è‹¥å¹²å°æ­£åœ¨æ»šåŠ¨å‘å¸ƒçš„æœåŠ¡ä¸Š&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼šåœæ­¢æ—§ç‰ˆæœ¬çš„è¿‡ç¨‹ä¸­ï¼Œæ— æ³•ç²¾ç¡®è®¡ç®—æ—§ç‰ˆæœ¬æ˜¯å¦å·²ç»å®Œæˆå®ƒæ­£åœ¨æ‰§è¡Œçš„å·¥ä½œï¼Œéœ€è¦é ä¸šåŠ¡è‡ªèº«å»åˆ¤æ–­ã€‚æ—§ç‰ˆæœ¬ä¸ä¿ç•™ï¼Œä¸€æ—¦å…¨éƒ¨å‡çº§å®Œæ¯•åæ‰å‘ç°é—®é¢˜ï¼Œæ— æ³•å¿«é€Ÿå›æ»šï¼Œå¿…é¡»é‡æ–°é™çº§éƒ¨ç½²ã€‚å‘å¸ƒå’Œå›æ»šéœ€è¦è¾ƒé•¿çš„æ—¶é—´å‘¨æœŸ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20230908233804.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;çº¢é»‘éƒ¨ç½²red-black-deployment&#34;&gt;çº¢é»‘éƒ¨ç½²(Red-Black Deployment)&lt;/h3&gt;
&lt;p&gt;è¿™æ˜¯Netflixé‡‡ç”¨çš„éƒ¨ç½²æ‰‹æ®µï¼ŒNetflixçš„ä¸»è¦åŸºç¡€è®¾æ–½æ˜¯åœ¨AWSä¸Šï¼Œæ‰€ä»¥å®ƒåˆ©ç”¨AWSçš„ç‰¹æ€§ï¼Œåœ¨éƒ¨ç½²æ–°çš„ç‰ˆæœ¬æ—¶ï¼Œé€šè¿‡AutoScaling Groupç”¨åŒ…å«æ–°ç‰ˆæœ¬åº”ç”¨çš„AMIçš„LaunchConfigurationåˆ›å»ºæ–°çš„æœåŠ¡å™¨ã€‚æµ‹è¯•ä¸é€šè¿‡ï¼Œæ‰¾åˆ°é—®é¢˜åŸå› åï¼Œç›´æ¥å¹²æ‰æ–°ç”Ÿæˆçš„æœåŠ¡å™¨ä»¥åŠAutoscaling Groupå°±å¯ä»¥ï¼Œæµ‹è¯•é€šè¿‡ï¼Œåˆ™å°†ELBæŒ‡å‘æ–°çš„æœåŠ¡å™¨é›†ç¾¤ï¼Œç„¶åé”€æ¯æ‰æ—§çš„æœåŠ¡å™¨é›†ç¾¤ä»¥åŠAutoScaling Groupã€‚&lt;/p&gt;
&lt;p&gt;çº¢é»‘éƒ¨ç½²çš„å¥½å¤„æ˜¯æœåŠ¡å§‹ç»ˆåœ¨çº¿ï¼ŒåŒæ—¶é‡‡ç”¨ä¸å¯å˜éƒ¨ç½²çš„æ–¹å¼ï¼Œä¹Ÿä¸åƒè“ç»¿éƒ¨ç½²ä¸€æ ·å¾—ä¿æŒå†—ä½™çš„æœåŠ¡å§‹ç»ˆåœ¨çº¿ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Go 1.18 çš„å·¥ä½œåŒºæ¨¡å¼</title>
        <link>https://lxb.wiki/a51740e5/</link>
        <pubDate>Sat, 10 Dec 2022 22:04:58 +0800</pubDate>
        
        <guid>https://lxb.wiki/a51740e5/</guid>
        <description>&lt;p&gt;å½“ä¸€ä¸ªé¡¹ç›®è¶Šæ¥è¶Šå¤æ‚çš„æ—¶å€™ï¼Œä¸€å®šä¼šæ‹†åˆ†ä¸ºå¤šä¸ªæ¨¡å—ï¼Œä»¥ä¾¿è¿›è¡Œä»£ç å¤ç”¨å’Œæ›´å¥½çš„å¤šäººåä½œå¼€å‘ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾æˆ‘ä»¬å·²ç»æœ‰äº†ä¸¤ä¸ªæ¨¡å— &lt;code&gt;xxx.org/util&lt;/code&gt; å’Œ &lt;code&gt;xxx.org/product&lt;/code&gt; ï¼Œæ¨¡å—&lt;code&gt;xxx.org/product&lt;/code&gt;ä¾èµ– &lt;code&gt;xxx.org/util&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨æœ‰ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦åŒæ—¶ä¿®æ”¹è¿™ä¸¤ä¸ªæ¨¡å—ï¼Œä»¥ä¾¿è®©&lt;code&gt;xxx.org/util&lt;/code&gt;æ–°å¢çš„æ–¹æ³•ç»™æ¨¡å—&lt;code&gt;xxx.org/product&lt;/code&gt;ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å½“åŒäº‹Aåœ¨æ¨¡å—&lt;code&gt;xxx.org/util&lt;/code&gt;ä¸­å¢åŠ æ–°çš„æ–¹æ³•åï¼Œè¦ä¹ˆæ¨é€åˆ°VCSä¸­ï¼Œè®©è´Ÿè´£æ¨¡å—&lt;code&gt;xxx.org/product&lt;/code&gt;çš„åŒäº‹Bä½¿ç”¨ï¼Œè¿™æ˜¯å‘å¸ƒçš„åœºæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ¨¡å—&lt;code&gt;xxx.org/util&lt;/code&gt;æ²¡æœ‰å‘å¸ƒå‘¢ï¼Ÿé‚£ä¹ˆå°±åªèƒ½é€šè¿‡go.modä¸­çš„replaceæŒ‡ä»¤è¿›è¡Œæ›¿æ¢ï¼ŒæŠŠå¯¹æ¨¡å—&lt;code&gt;xxx.org/util&lt;/code&gt;çš„å¼•ç”¨ï¼Œæ¢æˆæœ¬åœ°çš„æœªå‘å¸ƒçš„ç‰ˆæœ¬ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;replace&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;xxx&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;org&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;util&lt;/span&gt; =&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Users&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;xxx&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;demo&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;util&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç›¸ä¿¡æˆ‘ä»¬éƒ½é‡åˆ°è¿‡ä»¥ä¸Šä¸¤ç§æƒ…å½¢ï¼Œè¿™ä¸¤ç§æƒ…å½¢éƒ½æœ‰ç›¸åº”çš„å¼Šç«¯ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŠŠæ²¡æœ‰è°ƒè¯•ã€æ²¡æœ‰æµ‹è¯•çš„ä»£ç å‘å¸ƒäº†ï¼Œä¼šå½±å“å…¶ä»–æ­£å¸¸æ„å»º&lt;/li&gt;
&lt;li&gt;replaceçš„æ—¶å€™ï¼Œå¿˜è®°æ”¹å›æ¥ï¼Œæäº¤åˆ°VCSä¸­äº†ï¼Œå½±å“äº†å…¶ä»–äººä½¿ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼ŒGo å›¢é˜Ÿæå‡ºäº†å·¥ä½œåŒºçš„æ¦‚å¿µï¼Œå¹¶ä¸”åœ¨Go 1.18 ä¸­å‘å¸ƒã€‚&lt;/p&gt;
&lt;p&gt;Go å·¥ä½œåŒºï¼Œæ˜¯ä½ çš„å·¥ä½œåŒºï¼Œå®ƒå’Œå¤šäººåä½œã€VCSç­‰æ— å…³ã€‚è¯´ç™½äº†å®ƒå°±æ˜¯ä¸ªæœ¬åœ°ç›®å½•ï¼Œé€šè¿‡go.workæ–‡ä»¶æ¥ç®¡ç†å¤šä¸ªgo.modæ¨¡å—ã€‚&lt;/p&gt;
&lt;p&gt;è¦åˆ›å»ºä¸€ä¸ªGo å·¥ä½œåŒºéå¸¸ç®€å•ï¼Œé€šè¿‡å¦‚ä¸‹å‘½ä»¤å³å¯:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mkdir&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;workspace&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cd&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;workspace&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;work&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;init&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Users&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;xxx&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;demo&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;util&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Users&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;xxx&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;demo&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;product&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨ä»¥ä¸Šç¤ºä¾‹ä¸­ï¼Œworkspaceæ˜¯æˆ‘åˆ›å»ºçš„ä¸€ä¸ªå·¥ä½œåŒº,å¯ä»¥åœ¨ä½ çš„ç”µè„‘çš„ä»»ä½•åœ°æ–¹,åå­—ä¹Ÿå¯ä»¥è‡ªå–ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶å&lt;code&gt;go work init&lt;/code&gt; åæ˜¯ä¸¤ä¸ªgo.modçš„ç»å¯¹è·¯å¾„ï¼Œç”¨ç©ºæ ¼åˆ†å¼€ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ç”¨ç›¸å¯¹è·¯å¾„ã€‚&lt;/p&gt;
&lt;p&gt;è¿è¡Œä»¥ä¸Šä»£ç å,å°±ä¼šåœ¨workspaceç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªgo.workæ–‡ä»¶ï¼Œå®ƒçš„å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1.18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;use&lt;/span&gt; (
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Users&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;xxx&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;demo&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;product&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Users&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;xxx&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;demo&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;util&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;use&lt;/code&gt;æ˜¯&lt;code&gt;go.work&lt;/code&gt;æ–‡ä»¶çš„ä¸€ä¸ªæŒ‡ä»¤ï¼Œç”¨äºç®¡ç†åŒ…å«çš„go.modæ¨¡å—ã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†&lt;code&gt;use&lt;/code&gt;æŒ‡ä»¤ï¼Œgo.workè¿˜æœ‰&lt;code&gt;replace&lt;/code&gt;æŒ‡ä»¤ï¼Œå®ƒå’Œgo.modçš„replaceå¾ˆåƒï¼Œå®ƒç”¨äºæŠŠGo å·¥ä½œåŒºé—´ç®¡ç†çš„go.modå…¨éƒ¨æ›¿æ¢ä¸ºæŒ‡å®šçš„è·¯å¾„ï¼Œå¹¶ä¸”å®ƒçš„ä¼˜å…ˆçº§è¦æ¯”go.modçš„replaceè¦é«˜ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨ï¼Œæˆ‘ä»¬ç”¨åˆ°çš„è¿™ä¸¤ä¸ªæ¨¡å—éƒ½åœ¨åŒä¸€ä¸ªå·¥ä½œåŒºäº†ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦å†ä¿®æ”¹æ¨¡å—xxx/productçš„go.mod replace æŒ‡ä»¤å®Œæˆæœ¬åœ°çš„ä¾èµ–äº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ—¶å€™ï¼Œåœ¨å·¥ä½œåŒº workspceç›®å½•ä¸‹ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå³å¯è¿›è¡ŒéªŒè¯ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;âœ&lt;/span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;workspace&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;run&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;xxx&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;org&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;product&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ä½ å¥½&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å› ä¸ºéƒ½åœ¨ä¸€ä¸ªå·¥ä½œåŒºï¼Œgoå¯ä»¥å¸®ä½ æ‰¾åˆ°æ¨¡å—xxx.org/productæ‰€ä¾èµ–çš„xxx.org/utilæ¨¡å—ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ åªæ˜¯åˆ‡æ¢åˆ°productç›®å½•ä¸‹è¿è¡Œä»¥ä¸Šå‘½ä»¤ï¼Œåªä¼šæç¤ºä½ ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;âœ&lt;/span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;product&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;run&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;.&lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;.&lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt;:&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;:&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;: &lt;span style=&#34;color:#a6e22e&#34;&gt;no&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;required&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;module&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;provides&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;package&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;xxx&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;org&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;util&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;it&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;get&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;xxx&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;org&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;util&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸æ­¢æˆ‘ä¸Šé¢è¿™ç§ä¾èµ–ä¸Šæ¸¸æ¨¡å—çš„ä¾‹å­å¯ä»¥ä½¿ç”¨Goå·¥ä½œåŒºï¼Œå¦‚æœä½ ä¸€ä¸ªä»£ç åº“ä¸­æœ‰å¤šä¸ªæ¨¡å—ä¹Ÿæ˜¯å¯ä»¥ç”¨çš„ï¼Œåªéœ€è¦æŠŠä»–ä»¬éƒ½åŠ å…¥åˆ°Go å·¥ä½œåŒºå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;go workå‘½ä»¤æœ‰ä¸€ä¸ªuseå¯ä»¥æŠŠæœ¬åœ°ç›®å½•çš„æ¨¡å—åŠ å…¥å·¥ä½œåŒºï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;work&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;use&lt;/span&gt; [&lt;span style=&#34;color:#a6e22e&#34;&gt;path&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;to&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;your&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;module&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ–¹æ‹¬å·ä¸­çš„è·¯å¾„ï¼Œå¯ä»¥æ¢æˆä½ è‡ªå·±ç”µè„‘ä¸Šçš„æœ¬åœ°æ¨¡å—è·¯å¾„ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ä½ ä¹Ÿå¯ä»¥ç›´æ¥ä¿®æ”¹go.workæ–‡ä»¶ï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„,è¿™é‡Œä¸å†ä¸¾ä¾‹ï¼Œä½ å¯ä»¥è‡ªå·±è¯•è¯•ã€‚&lt;/p&gt;
&lt;p&gt;go.workæœ¬è´¨ä¸Šæ˜¯ä¸€ç§æœ¬åœ°åŒ–çš„è§£å†³åŠæ³•ï¼Œå› ä¸ºgo.modéƒ½æ˜¯æ”¾åœ¨VCSä¸­çš„ï¼Œå’Œé¡¹ç›®æ¯æ¯ç›¸å…³ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾ˆå°‘å»ä¿®æ”¹å®ƒæ¥è¾¾åˆ°ä¸€äº›Hackçš„æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨æœ‰äº†go.workå°±å¥½åŠå¤šäº†ï¼Œå› ä¸ºå®ƒå°±æ˜¯ä¸€ä¸ªæœ¬åœ°çš„ä¸œè¥¿ï¼Œä¸åœ¨VCSä¸­ï¼Œæƒ³æ€ä¹ˆæ”¹å°±æ€ä¹ˆæ”¹ï¼Œåˆä¸&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Goè¯­è¨€ä¸­ç”¨execæ‰§è¡Œå‘½ä»¤çš„äº”ç§å§¿åŠ¿</title>
        <link>https://lxb.wiki/a9bb05dc/</link>
        <pubDate>Sun, 04 Dec 2022 21:16:01 +0800</pubDate>
        
        <guid>https://lxb.wiki/a9bb05dc/</guid>
        <description>&lt;p&gt;åœ¨ Golang ä¸­ç”¨äºæ‰§è¡Œå‘½ä»¤çš„åº“æ˜¯ &lt;code&gt;os/exec&lt;/code&gt;ï¼Œexec.Command å‡½æ•°è¿”å›ä¸€ä¸ª &lt;code&gt;Cmd&lt;/code&gt; å¯¹è±¡ï¼Œæ ¹æ®ä¸åŒçš„éœ€æ±‚ï¼Œå¯ä»¥å°†å‘½ä»¤çš„æ‰§è¡Œåˆ†ä¸ºä¸‰ç§æƒ…å†µ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åªæ‰§è¡Œå‘½ä»¤ï¼Œä¸è·å–ç»“æœ&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œå‘½ä»¤ï¼Œå¹¶è·å–ç»“æœï¼ˆä¸åŒºåˆ† stdout å’Œ stderrï¼‰&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œå‘½ä»¤ï¼Œå¹¶è·å–ç»“æœï¼ˆåŒºåˆ† stdout å’Œ stderrï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ç¬¬ä¸€ç§åªæ‰§è¡Œå‘½ä»¤ä¸è·å–ç»“æœhttpswwwcnblogscomwongbingmingp13984538htmlidx_0&#34;&gt;ç¬¬ä¸€ç§ï¼šåªæ‰§è¡Œå‘½ä»¤ï¼Œä¸è·å–ç»“æœ&lt;a class=&#34;link&#34; href=&#34;https://www.cnblogs.com/wongbingming/p/13984538.html#idx_0&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ç›´æ¥è°ƒç”¨ Cmd å¯¹è±¡çš„ Run å‡½æ•°ï¼Œè¿”å›çš„åªæœ‰æˆåŠŸå’Œå¤±è´¥ï¼Œè·å–ä¸åˆ°ä»»ä½•è¾“å‡ºçš„ç»“æœã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;package&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; (
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;log&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;os/exec&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;exec&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ls&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-l&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/var/log/&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Run&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Fatalf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cmd.Run() failed with %s\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç¬¬äºŒç§æ‰§è¡Œå‘½ä»¤å¹¶è·å–ç»“æœhttpswwwcnblogscomwongbingmingp13984538htmlidx_1&#34;&gt;ç¬¬äºŒç§ï¼šæ‰§è¡Œå‘½ä»¤ï¼Œå¹¶è·å–ç»“æœ&lt;a class=&#34;link&#34; href=&#34;https://www.cnblogs.com/wongbingming/p/13984538.html#idx_1&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æœ‰æ—¶å€™æˆ‘ä»¬æ‰§è¡Œä¸€ä¸ªå‘½ä»¤å°±æ˜¯æƒ³è¦è·å–è¾“å‡ºç»“æœï¼Œæ­¤æ—¶ä½ å¯ä»¥è°ƒç”¨ Cmd çš„ CombinedOutput å‡½æ•°ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;package&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; (
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;log&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;os/exec&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;exec&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ls&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-l&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/var/log/&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;CombinedOutput&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;combined out:\n%s\n&amp;#34;&lt;/span&gt;, string(&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Fatalf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cmd.Run() failed with %s\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;combined out:\n%s\n&amp;#34;&lt;/span&gt;, string(&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;CombinedOutput å‡½æ•°ï¼Œåªè¿”å› outï¼Œå¹¶ä¸åŒºåˆ† stdout å’Œ stderrã€‚å¦‚æœä½ æƒ³åŒºåˆ†ä»–ä»¬ï¼Œå¯ä»¥ç›´æ¥çœ‹ç¬¬ä¸‰ç§æ–¹æ³•ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ go run demo.go 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;combined out:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;total &lt;span style=&#34;color:#ae81ff&#34;&gt;11540876&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--  &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; root       root         &lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt; Oct &lt;span style=&#34;color:#ae81ff&#34;&gt;29&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;2018&lt;/span&gt; yum.log
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;drwx------  &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; root       root           &lt;span style=&#34;color:#ae81ff&#34;&gt;94&lt;/span&gt; Nov  &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt; 05:56 audit
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--  &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; root       root    &lt;span style=&#34;color:#ae81ff&#34;&gt;185249234&lt;/span&gt; Nov &lt;span style=&#34;color:#ae81ff&#34;&gt;28&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;2019&lt;/span&gt; message
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--  &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; root       root        &lt;span style=&#34;color:#ae81ff&#34;&gt;16374&lt;/span&gt; Aug &lt;span style=&#34;color:#ae81ff&#34;&gt;28&lt;/span&gt; 10:13 boot.log
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸è¿‡åœ¨é‚£ä¹‹å‰ï¼Œæˆ‘å´å‘ç°ä¸€ä¸ªå°é—®é¢˜ï¼šæœ‰æ—¶å€™ï¼Œshell å‘½ä»¤èƒ½æ‰§è¡Œï¼Œå¹¶ä¸ä»£è¡¨ä»£ç  exec ä¹Ÿèƒ½æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚æˆ‘åªæƒ³æŸ¥çœ‹ &lt;code&gt;/var/log/&lt;/code&gt; ç›®å½•ä¸‹çš„ log åç¼€åçš„æ–‡ä»¶å‘¢ï¼Ÿshellå‘½ä»¤å¦‚ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ ls -l /var/log/*.log
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;total &lt;span style=&#34;color:#ae81ff&#34;&gt;11540&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--  &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; root       root         &lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt; Oct &lt;span style=&#34;color:#ae81ff&#34;&gt;29&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;2018&lt;/span&gt; /var/log/yum.log
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--  &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; root       root        &lt;span style=&#34;color:#ae81ff&#34;&gt;16374&lt;/span&gt; Aug &lt;span style=&#34;color:#ae81ff&#34;&gt;28&lt;/span&gt; 10:13 /var/log/boot.log
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æŒ‰ç…§è¿™ä¸ªå†™æ³•å°†å®ƒæ”¾å…¥åˆ° &lt;code&gt;exec.Command&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;package&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; (
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;log&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;os/exec&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;exec&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ls&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-l&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/var/log/*.log&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;CombinedOutput&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;combined out:\n%s\n&amp;#34;&lt;/span&gt;, string(&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Fatalf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cmd.Run() failed with %s\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;combined out:\n%s\n&amp;#34;&lt;/span&gt;, string(&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»€ä¹ˆæƒ…å†µï¼Ÿå±…ç„¶ä¸è¡Œï¼ŒæŠ¥é”™äº†ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ go run demo.go 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;combined out:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ls: cannot access /var/log/*.log: No such file or directory
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;2020/11/11 19:46:00 cmd.Run&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; failed with exit status &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;exit status &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸ºä»€ä¹ˆä¼šæŠ¥é”™å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å…¶å®å¾ˆç®€å•ï¼ŒåŸæ¥ &lt;code&gt;ls -l /var/log/*.log&lt;/code&gt; å¹¶ä¸ç­‰ä»·äºä¸‹é¢è¿™æ®µä»£ç ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;exec.Command&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ls&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-l&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/var/log/*.log&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢è¿™æ®µä»£ç å¯¹åº”çš„ Shell å‘½ä»¤åº”è¯¥æ˜¯ä¸‹é¢è¿™æ ·ï¼Œå¦‚æœä½ è¿™æ ·å­å†™ï¼Œls å°±ä¼šæŠŠå‚æ•°é‡Œçš„å†…å®¹å½“æˆå…·ä½“çš„æ–‡ä»¶åï¼Œè€Œå¿½ç•¥é€šé…ç¬¦ &lt;code&gt;*&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ ls -l &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/var/log/*.log&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ls: cannot access /var/log/*.log: No such file or directory
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç¬¬ä¸‰ç§æ‰§è¡Œå‘½ä»¤å¹¶åŒºåˆ†stdout-å’Œ-stderrhttpswwwcnblogscomwongbingmingp13984538htmlidx_2&#34;&gt;ç¬¬ä¸‰ç§ï¼šæ‰§è¡Œå‘½ä»¤ï¼Œå¹¶åŒºåˆ†stdout å’Œ stderr&lt;a class=&#34;link&#34; href=&#34;https://www.cnblogs.com/wongbingming/p/13984538.html#idx_2&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä¸Šé¢çš„å†™æ³•ï¼Œæ— æ³•å®ç°åŒºåˆ†æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯ï¼Œåªè¦æ¢æˆä¸‹é¢ç§å†™æ³•ï¼Œå°±å¯ä»¥å®ç°ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;package&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; (
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;bytes&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;log&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;os/exec&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;exec&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ls&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-l&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/var/log/*.log&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;stdout&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;stderr&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;bytes&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Buffer&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Stdout&lt;/span&gt; = &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;stdout&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// æ ‡å‡†è¾“å‡º
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Stderr&lt;/span&gt; = &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;stderr&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// æ ‡å‡†é”™è¯¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Run&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;outStr&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;errStr&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; string(&lt;span style=&#34;color:#a6e22e&#34;&gt;stdout&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Bytes&lt;/span&gt;()), string(&lt;span style=&#34;color:#a6e22e&#34;&gt;stderr&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Bytes&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;out:\n%s\nerr:\n%s\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;outStr&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;errStr&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Fatalf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cmd.Run() failed with %s\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾“å‡ºå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°å‰é¢çš„æŠ¥é”™å†…å®¹è¢«å½’å…¥åˆ°æ ‡å‡†é”™è¯¯é‡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ go run demo.go 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;out:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;err:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ls: cannot access /var/log/*.log: No such file or directory
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;2020/11/11 19:59:31 cmd.Run&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; failed with exit status &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;exit status &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç¬¬å››ç§å¤šæ¡å‘½ä»¤ç»„åˆè¯·ä½¿ç”¨ç®¡é“httpswwwcnblogscomwongbingmingp13984538htmlidx_3&#34;&gt;ç¬¬å››ç§ï¼šå¤šæ¡å‘½ä»¤ç»„åˆï¼Œè¯·ä½¿ç”¨ç®¡é“&lt;a class=&#34;link&#34; href=&#34;https://www.cnblogs.com/wongbingming/p/13984538.html#idx_3&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å°†ä¸Šä¸€æ¡å‘½ä»¤çš„æ‰§è¡Œè¾“å‡ºç»“æœï¼Œåšä¸ºä¸‹ä¸€æ¡å‘½ä»¤çš„å‚æ•°ã€‚åœ¨ Shell ä¸­å¯ä»¥ä½¿ç”¨ç®¡é“ç¬¦ &lt;code&gt;|&lt;/code&gt; æ¥å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ä¸‹é¢è¿™æ¡å‘½ä»¤ï¼Œç»Ÿè®¡äº† message æ—¥å¿—ä¸­ ERROR æ—¥å¿—çš„æ•°é‡ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ grep ERROR /var/log/messages | wc -l
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;19&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç±»ä¼¼çš„ï¼Œåœ¨ Golang ä¸­ä¹Ÿæœ‰ç±»ä¼¼çš„å®ç°ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;CopyCopypackage&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; (
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;os&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;os/exec&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;c1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;exec&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;grep&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ERROR&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/var/log/messages&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;c2&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;exec&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;wc&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-l&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;c2&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Stdin&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;_&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;c1&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;StdoutPipe&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;c2&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Stdout&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;os&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Stdout&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;_&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;c2&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Start&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;_&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;c1&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Run&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;_&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;c2&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Wait&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾“å‡ºå¦‚ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ go run demo.go 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;19&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç¬¬äº”ç§è®¾ç½®å‘½ä»¤çº§åˆ«çš„ç¯å¢ƒå˜é‡httpswwwcnblogscomwongbingmingp13984538htmlidx_4&#34;&gt;ç¬¬äº”ç§ï¼šè®¾ç½®å‘½ä»¤çº§åˆ«çš„ç¯å¢ƒå˜é‡&lt;a class=&#34;link&#34; href=&#34;https://www.cnblogs.com/wongbingming/p/13984538.html#idx_4&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨ os åº“çš„ Setenv å‡½æ•°æ¥è®¾ç½®çš„ç¯å¢ƒå˜é‡ï¼Œæ˜¯ä½œç”¨äºæ•´ä¸ªè¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸçš„ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;package&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; (
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;log&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;os&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;os/exec&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;os&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Setenv&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;NAME&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;myname&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;exec&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;echo&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;os&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ExpandEnv&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;$NAME&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;CombinedOutput&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Fatalf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cmd.Run() failed with %s\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%s&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åªè¦åœ¨è¿™ä¸ªè¿›ç¨‹é‡Œï¼Œ&lt;code&gt;NAME&lt;/code&gt; è¿™ä¸ªå˜é‡çš„å€¼éƒ½ä¼šæ˜¯ &lt;code&gt;myname&lt;/code&gt;ï¼Œæ— è®ºä½ æ‰§è¡Œå¤šå°‘æ¬¡å‘½ä»¤&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ go run demo.go 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;myname
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœæƒ³æŠŠç¯å¢ƒå˜é‡çš„ä½œç”¨èŒƒå›´å†ç¼©å°åˆ°å‘½ä»¤çº§åˆ«ï¼Œä¹Ÿæ˜¯æœ‰åŠæ³•çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æ–¹ä¾¿éªŒè¯ï¼Œæˆ‘æ–°å»ºä¸ª sh è„šæœ¬ï¼Œå†…å®¹å¦‚ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ cat /home/myname/demo.sh
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo $NAME
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ bash /home/myname/demo.sh   &lt;span style=&#34;color:#75715e&#34;&gt;# ç”±äºå…¨å±€ç¯å¢ƒå˜é‡ä¸­æ²¡æœ‰ NAMEï¼Œæ‰€ä»¥æ— è¾“å‡º&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦å¤–ï¼Œdemo.go é‡Œçš„ä»£ç å¦‚ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;package&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; (
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;os&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;os/exec&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ChangeYourCmdEnvironment&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;exec&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Cmd&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;error&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;env&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;os&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Environ&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmdEnv&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;{}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;_&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;e&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;range&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;env&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmdEnv&lt;/span&gt; = append(&lt;span style=&#34;color:#a6e22e&#34;&gt;cmdEnv&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;e&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmdEnv&lt;/span&gt; = append(&lt;span style=&#34;color:#a6e22e&#34;&gt;cmdEnv&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;NAME=myname&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Env&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;cmdEnv&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;exec&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;bash&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/home/myname/demo.sh&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;ChangeYourCmdEnvironment&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd1&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;// æ·»åŠ ç¯å¢ƒå˜é‡åˆ° cmd1 å‘½ä»¤: NAME=myname
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out1&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;_&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;cmd1&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;CombinedOutput&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;output: %s&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;out1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd2&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;exec&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;bash&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/home/myname/demo.sh&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out2&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;_&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;cmd2&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;CombinedOutput&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;output: %s&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;out2&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‰§è¡Œåï¼Œå¯ä»¥çœ‹åˆ°ç¬¬äºŒæ¬¡æ‰§è¡Œçš„å‘½ä»¤ï¼Œæ˜¯æ²¡æœ‰è¾“å‡º NAME çš„å˜é‡å€¼ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ go run demo.go 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;output: myname
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;output: 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘åŸŸåæœ«å°¾å¸¦ä¸ªç‚¹</title>
        <link>https://lxb.wiki/a258db2c/</link>
        <pubDate>Wed, 16 Nov 2022 22:20:00 +0000</pubDate>
        
        <guid>https://lxb.wiki/a258db2c/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;å¤§å®¶å¥½ï¼ä»Šå¹´æ—©äº›æ—¶å€™ï¼Œæˆ‘åœ¨å†™ã€Š[DNS æ˜¯å¦‚ä½•å·¥ä½œçš„][1]ã€‹ æ—¶ï¼Œæœ‰äººé—®æˆ‘â€”â€”ä¸ºä»€ä¹ˆäººä»¬æœ‰æ—¶åœ¨åŸŸåçš„æœ«å°¾åŠ ä¸€ä¸ªç‚¹ï¼Ÿä¾‹å¦‚ï¼Œå¦‚æœä½ é€šè¿‡è¿è¡Œ &lt;code&gt;dig example.com&lt;/code&gt; æŸ¥è¯¢ &lt;code&gt;example.com&lt;/code&gt; çš„ IPï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
$ dig example.com
example.com.        5678    IN  A   93.184.216.34
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ‰§è¡Œå®Œ &lt;code&gt;dig&lt;/code&gt; å‘½ä»¤åï¼Œ&lt;code&gt;example.com&lt;/code&gt; æœ‰ä¸€ä¸ª &lt;code&gt;.&lt;/code&gt; â€”â€”å˜æˆäº† &lt;code&gt;example.com.&lt;/code&gt;ï¼å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ&lt;/p&gt;
&lt;p&gt;æœ‰äº› DNS å·¥å…·ä¹Ÿè¦æ±‚ä¼ ç»™å®ƒçš„åŸŸåååŠ ä¸€ä¸ª &lt;code&gt;.&lt;/code&gt;ï¼šå¦‚æœä½ åœ¨ä½¿ç”¨ [miekg/dns][2] æ—¶ä¼ ç»™å®ƒ &lt;code&gt;example.com&lt;/code&gt;ï¼Œå®ƒä¼šæŠ¥é”™ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
// trying to send this message will return an error
m := new(dns.Msg)
m.SetQuestion(&amp;#34;example.com&amp;#34;, dns.TypeA)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æœ€åˆæˆ‘ä»¥ä¸ºæˆ‘çŸ¥é“è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆï¼ˆâ€œå‘ƒï¼Œæœ«å°¾çš„ç‚¹æ„å‘³ç€åŸŸåæ˜¯å®Œå…¨é™å®šçš„ï¼Ÿâ€ï¼‰ã€‚è¿™æ˜¯å¯¹çš„ â€”â€” ä¸€ä¸ª&lt;!-- raw HTML omitted --&gt;å®Œå…¨é™å®šåŸŸå&lt;!-- raw HTML omitted --&gt;fully qualified domain name&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼ˆFQDNï¼‰æ˜¯ä¸€ä¸ªæœ«å°¾æœ‰ &lt;code&gt;.&lt;/code&gt; çš„åŸŸåï¼&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯&lt;em&gt;ä¸ºä»€ä¹ˆ&lt;/em&gt;æœ«å°¾çš„ç‚¹æ˜¯æœ‰ç”¨ä¸”é‡è¦çš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;h3 id=&#34;åœ¨-dns-çš„è¯·æ±‚å“åº”ä¸­åŸŸåçš„æœ«å°¾å¹¶æ²¡æœ‰-&#34;&gt;åœ¨ DNS çš„è¯·æ±‚/å“åº”ä¸­ï¼ŒåŸŸåçš„æœ«å°¾å¹¶æ²¡æœ‰ â€œ.â€&lt;/h3&gt;
&lt;p&gt;æˆ‘æ›¾ç»ï¼ˆé”™è¯¯åœ°ï¼‰è®¤ä¸º â€œä¸ºä»€ä¹ˆæœ«å°¾æœ‰ä¸€ä¸ªç‚¹ï¼Ÿâ€çš„ç­”æ¡ˆå¯èƒ½æ˜¯ â€œåœ¨ DNS è¯·æ±‚/å“åº”ä¸­ï¼ŒåŸŸåæœ«å°¾æœ‰ä¸€ä¸ª &lt;code&gt;.&lt;/code&gt;ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠå®ƒæ”¾è¿›å»ï¼Œä»¥åŒ¹é…ä½ çš„è®¡ç®—æœºå®é™…å‘é€/æ¥æ”¶çš„å†…å®¹â€ã€‚ä½†äº‹å®å¹¶ä¸æ˜¯è¿™æ ·ï¼&lt;/p&gt;
&lt;p&gt;å½“è®¡ç®—æœºå‘é€ DNS è¯·æ±‚/å“åº”æ—¶ï¼ŒåŸŸåçš„æœ«å°¾å¹¶æ²¡æœ‰ç‚¹ã€‚å®é™…ä¸Šï¼ŒåŸŸåä¸­&lt;em&gt;æ²¡æœ‰&lt;/em&gt;ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;åŸŸåä¼šè¢«ç¼–ç æˆä¸€ç³»åˆ—çš„é•¿åº¦/å­—ç¬¦ä¸²å¯¹ã€‚ä¾‹å¦‚ï¼ŒåŸŸå &lt;code&gt;example.com&lt;/code&gt; è¢«ç¼–ç ä¸ºè¿™ 13 ä¸ªå­—èŠ‚ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
7example3com0
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç¼–ç åçš„å†…å®¹ä¸€ä¸ªç‚¹ä¹Ÿæ²¡æœ‰ã€‚ä¸€ä¸ª ASCII åŸŸåï¼ˆå¦‚ &lt;code&gt;example.com&lt;/code&gt;ï¼‰è¢«è½¬æˆäº†å„ç§ DNS è½¯ä»¶çš„ DNS è¯·æ±‚/å“åº”ä¸­ä½¿ç”¨çš„æ ¼å¼ã€‚&lt;/p&gt;
&lt;p&gt;ä»Šå¤©æˆ‘ä»¬æ¥è®¨è®ºåŸŸåè¢«è½¬æˆ DNS å“åº”çš„ä¸€ä¸ªåœ°æ–¹ï¼šåŒºåŸŸæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åŒºåŸŸæ–‡ä»¶ä¸­åŸŸåæœ«å°¾çš„-&#34;&gt;åŒºåŸŸæ–‡ä»¶ä¸­åŸŸåæœ«å°¾çš„ â€œ.â€&lt;/h3&gt;
&lt;p&gt;ä¸€äº›äººç®¡ç†åŸŸåçš„ DNS è®°å½•çš„æ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ªè¢«ç§°ä¸º â€œåŒºåŸŸæ–‡ä»¶â€ çš„æ–‡æœ¬æ–‡ä»¶ï¼Œç„¶åé…ç½®ä¸€äº› DNS æœåŠ¡å™¨è½¯ä»¶ï¼ˆå¦‚ &lt;code&gt;nsd&lt;/code&gt; æˆ– &lt;code&gt;bind&lt;/code&gt;ï¼‰æ¥ä¸ºè¯¥åŒºåŸŸæ–‡ä»¶ä¸­æŒ‡å®šçš„ DNS è®°å½•æä¾›æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä¸€ä¸ªå¯¹åº” &lt;code&gt;example.com&lt;/code&gt; çš„ç¤ºä¾‹åŒºåŸŸæ–‡ä»¶ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
orange  300   IN    A     1.2.3.4
fruit   300   IN    CNAME orange
grape   3000  IN    CNAME example.com.
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œä»»ä½•ä¸ä»¥ &lt;code&gt;.&lt;/code&gt; ç»“å°¾çš„åŸŸåï¼ˆæ¯”å¦‚ &lt;code&gt;orange&lt;/code&gt;ï¼‰åéƒ½ä¼šè‡ªåŠ¨åŠ ä¸Š &lt;code&gt;.example.com&lt;/code&gt;ã€‚æ‰€ä»¥ &lt;code&gt;orange&lt;/code&gt; æˆäº† &lt;code&gt;orange.example.com&lt;/code&gt; çš„ç®€ç§°ã€‚DNS æœåŠ¡å™¨ä»å®ƒçš„é…ç½®ä¸­å¾—çŸ¥è¿™æ˜¯ä¸€ä¸ª &lt;code&gt;example.com&lt;/code&gt; çš„åŒºåŸŸæ–‡ä»¶ï¼Œæ‰€ä»¥å®ƒçŸ¥é“åœ¨æ‰€æœ‰ä¸ä»¥ç‚¹ç»“å°¾çš„åå­—åé¢è‡ªåŠ¨æ·»åŠ  &lt;code&gt;example.com&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘æƒ³è¿™é‡Œçš„æƒ³æ³•åªæ˜¯ä¸ºäº†å°‘æ‰“å‡ ä¸ªå­—ç¬¦â€”â€”å¦‚æœè¦æ‰“å‡ºå…¨ç§°ï¼ŒåŒºåŸŸæ–‡ä»¶ä¼šæ˜¯è¿™æ ·ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
    orange.example.com.  300   IN    A     1.2.3.4
    fruit.example.com.   300   IN    CNAME orange.example.com.
    grape.example.com.   3000  IN    CNAME example.com.
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç¡®å®å¤šäº†å¾ˆå¤šå­—ç¬¦ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä½ ä¹Ÿå¯ä»¥ä¸é€šè¿‡åŒºåŸŸæ–‡ä»¶æ¥ä½¿ç”¨-dns&#34;&gt;ä½ ä¹Ÿå¯ä»¥ä¸é€šè¿‡åŒºåŸŸæ–‡ä»¶æ¥ä½¿ç”¨ DNS&lt;/h3&gt;
&lt;p&gt;å°½ç®¡å®˜æ–¹çš„ DNS RFCï¼ˆ[RFC 1035][3]ï¼‰ä¸­å®šä¹‰äº†åŒºåŸŸæ–‡ä»¶æ ¼å¼ï¼Œä½†ä½ ä¹Ÿå¯ä»¥ä¸é€šè¿‡åŒºåŸŸæ–‡ä»¶æ¥ä½¿ç”¨ DNSã€‚ä¾‹å¦‚ï¼ŒAWS Route 53 å°±ä¸ç”¨åŒºåŸŸæ–‡ä»¶æ¥å­˜å‚¨ DNS è®°å½•ï¼ä½ å¯ä»¥é€šè¿‡ Web ç•Œé¢æˆ– API æ¥åˆ›å»ºè®°å½•ï¼Œæˆ‘çŒœä»–ä»¬æ˜¯ç”¨æŸç§æ•°æ®åº“è€Œä¸æ˜¯ä¸€å †æ–‡æœ¬æ–‡ä»¶æ¥å­˜å‚¨è®°å½•ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼ŒRoute 53ï¼ˆåƒè®¸å¤šå…¶ä»– DNS å·¥å…·ä¸€æ ·ï¼‰ç¡®å®æ”¯æŒå¯¼å…¥å’Œå¯¼å‡ºåŒºåŸŸæ–‡ä»¶ï¼Œè¿™ä¸ªåŠŸèƒ½æˆ–è®¸åœ¨ä½ æ›´æ¢ DNS æä¾›å•†æ—¶å¾ˆæœ‰ç”¨ã€‚&lt;/p&gt;
&lt;h3 id=&#34;dig-å‘½ä»¤è¾“å‡ºä¸­æœ«å°¾çš„-&#34;&gt;dig å‘½ä»¤è¾“å‡ºä¸­æœ«å°¾çš„ â€œ.â€&lt;/h3&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬æ¥è®¨è®ºä¸‹ &lt;code&gt;dig&lt;/code&gt; å‘½ä»¤çš„è¾“å‡ºï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
$ dig example.com
; &amp;lt;&amp;lt;&amp;gt;&amp;gt; DiG 9.18.1-1ubuntu1.1-Ubuntu &amp;lt;&amp;lt;&amp;gt;&amp;gt; +all example.com
;; global options: +cmd
;; Got answer:
;; -&amp;gt;&amp;gt;HEADER&amp;lt;&amp;lt;- opcode: QUERY, status: NOERROR, id: 10712
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 65494
;; QUESTION SECTION:
;example.com.           IN  A

;; ANSWER SECTION:
example.com.        81239   IN  A   93.184.216.34
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æœ‰ä¸€ä»¶å¥‡æ€ªçš„äº‹æ˜¯ï¼Œå‡ ä¹æ¯ä¸€è¡Œéƒ½ä»¥ &lt;code&gt;;;&lt;/code&gt; å¼€å¤´ï¼Œè¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ&lt;code&gt;;&lt;/code&gt; æ˜¯åŒºåŸŸæ–‡ä»¶ä¸­çš„æ³¨é‡Šå­—ç¬¦ï¼&lt;/p&gt;
&lt;p&gt;æˆ‘æƒ³ &lt;code&gt;dig&lt;/code&gt; ä»¥è¿™ç§å¥‡æ€ªçš„æ–¹å¼è¾“å‡ºçš„åŸå› å¯èƒ½æ˜¯ä¸ºäº†æ–¹ä¾¿ä½ ç²˜è´´è¿™äº›å†…å®¹åˆ°åŒºåŸŸæ–‡ä»¶æ—¶ï¼Œä¸ç”¨ä¿®æ”¹å°±å¯ä»¥ç›´æ¥ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¹Ÿæ˜¯ &lt;code&gt;example.com&lt;/code&gt; æœ«å°¾æœ‰ä¸ª &lt;code&gt;.&lt;/code&gt; çš„åŸå›  â€”â€” åŒºåŸŸæ–‡ä»¶è¦æ±‚åŸŸåæœ«å°¾å¿…é¡»æœ‰ç‚¹ï¼ˆå¦åˆ™å®ƒä»¬ä¼šè¢«è§£é‡Šä¸ºæ˜¯ç›¸å¯¹äºè¯¥åŒºåŸŸçš„ï¼‰ã€‚å› æ­¤ &lt;code&gt;dig&lt;/code&gt; ä¹Ÿè¿™ä¹ˆå¤„ç†äº†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘çœŸçš„å¸Œæœ› dig æœ‰ä¸€ä¸ª &lt;code&gt;+human&lt;/code&gt; é€‰é¡¹ï¼Œä»¥æ›´äººæ€§åŒ–çš„æ–¹å¼æ‰“å°å‡ºè¿™äº›ä¿¡æ¯ï¼Œä½†ç°åœ¨æˆ‘å¤ªæ‡’äº†ï¼Œæ‡’å¾—èŠ±å·¥å¤«å»å®é™…è´¡çŒ®ä»£ç æ¥åšè¿™ä»¶äº‹ï¼ˆè€Œä¸”æˆ‘å¹¶ä¸æ“…é•¿ Cï¼‰ï¼Œæ‰€ä»¥æˆ‘åªèƒ½åœ¨æˆ‘çš„åšå®¢ä¸ŠæŠ±æ€¨ä¸€ä¸‹ :)&lt;/p&gt;
&lt;h3 id=&#34;curl-å‘½ä»¤è¾“å‡ºä¸­æœ«å°¾çš„-&#34;&gt;curl å‘½ä»¤è¾“å‡ºä¸­æœ«å°¾çš„ â€œ.â€&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬æ¥çœ‹ä¸‹å¦ä¸€ä¸ªæœ«å°¾æœ‰ &lt;code&gt;.&lt;/code&gt; çš„ä¾‹å­ï¼š&lt;code&gt;curl&lt;/code&gt;ï¼&lt;/p&gt;
&lt;p&gt;æˆ‘å®¶é‡Œæœ‰å°è®¡ç®—æœºåä¸º &lt;code&gt;grapefruit&lt;/code&gt;ï¼Œå…¶ä¸Šè¿è¡Œç€ Web æœåŠ¡å™¨ã€‚å½“æˆ‘æ‰§è¡Œ &lt;code&gt;curl grapefruit&lt;/code&gt; æ—¶ï¼Œä¼šè¾“å‡ºï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
$ curl grapefruit

&amp;lt;!DOCTYPE HTML PUBLIC &amp;#34;-//W3C//DTD HTML 4.01//EN&amp;#34; &amp;#34;http://www.w3.org/TR/html4/strict.dtd&amp;#34;&amp;gt;

&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
......
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™æ ·è¿è¡Œæ²¡é—®é¢˜ï¼ä½†æ˜¯å¦‚æœæˆ‘åœ¨åŸŸåååŠ ä¸€ä¸ª &lt;code&gt;.&lt;/code&gt; ä¼šæ€æ ·å‘¢ï¼Ÿå®ƒæŠ¥é”™äº†ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ curl grapefruit.
curl: (6) Could not resolve host: grapefruit.
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿä¸ºäº†ææ¸…æ¥šï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ¥å­¦ä¹ ä¸‹æœç´¢åŸŸï¼š&lt;/p&gt;
&lt;h3 id=&#34;åˆè¯†æœç´¢åŸŸ&#34;&gt;åˆè¯†æœç´¢åŸŸ&lt;/h3&gt;
&lt;p&gt;å½“æˆ‘æ‰§è¡Œ &lt;code&gt;curl grapefrult&lt;/code&gt; æ—¶ï¼Œå®ƒæ˜¯æ€ä¹ˆè¢«è½¬æˆä¸€ä¸ª DNS è¯·æ±‚çš„ï¼Ÿä½ å¯èƒ½ä¼šè®¤ä¸ºæˆ‘çš„è®¡ç®—æœºä¼šå‘åŸŸå &lt;code&gt;grapefruit&lt;/code&gt; å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œå¯¹å—ï¼Ÿä½†äº‹å®å¹¶ä¸æ˜¯è¿™æ ·ã€‚&lt;/p&gt;
&lt;p&gt;è®©æˆ‘ä»¬ç”¨ &lt;code&gt;tcpdump&lt;/code&gt; æ¥çœ‹çœ‹åˆ°åº•æ˜¯ä»€ä¹ˆåŸŸååœ¨è¢«æŸ¥è¯¢ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ sudo tcpdump -i any port 53
[...] A? grapefruit.lan. (32)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å®é™…ä¸Šæ˜¯å‘ &lt;code&gt;grapefruit.lan.&lt;/code&gt; å‘é€çš„è¯·æ±‚ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è§£é‡Šä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;curl&lt;/code&gt; è°ƒç”¨å‡½æ•° &lt;code&gt;getaddrinfo&lt;/code&gt; æ¥æŸ¥è¯¢ &lt;code&gt;grapefruit&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;getaddrinfo&lt;/code&gt; æŸ¥è¯¢äº†æˆ‘è®¡ç®—æœºä¸Šçš„æ–‡ä»¶ &lt;code&gt;/etc/resolv.conf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/resolv.conf&lt;/code&gt; åŒ…å«ä¸¤è¡Œå†…å®¹ï¼š
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;nameserver 127.0.0.53
search lan
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;å› ä¸ºæœ‰ &lt;code&gt;search lan&lt;/code&gt; è¿™è¡Œå†…å®¹ï¼Œæ‰€ä»¥ &lt;code&gt;getaddrinfo&lt;/code&gt; åœ¨ &lt;code&gt;grapefruit&lt;/code&gt; çš„æœ«å°¾æ·»åŠ äº†ä¸€ä¸ª &lt;code&gt;lan&lt;/code&gt;ï¼Œå»æŸ¥è¯¢ &lt;code&gt;grapefruit.lan&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä»€ä¹ˆæ—¶å€™æœç´¢åŸŸè¢«ä½¿ç”¨&#34;&gt;ä»€ä¹ˆæ—¶å€™æœç´¢åŸŸè¢«ä½¿ç”¨?&lt;/h3&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†ä¸€äº›å¥‡æ€ªçš„äº‹æƒ…ï¼šå½“æˆ‘ä»¬æŸ¥è¯¢ä¸€ä¸ªåŸŸåæ—¶ï¼Œæœ‰æ—¶ä¼šæœ‰ä¸€ä¸ªé¢å¤–çš„ä¸œè¥¿ï¼ˆå¦‚ &lt;code&gt;lan&lt;/code&gt;ï¼‰è¢«åŠ åˆ°æœ€åã€‚ä½†æ˜¯ä»€ä¹ˆæ—¶å€™ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µå‘¢ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœæˆ‘ä»¬åœ¨åŸŸå&lt;strong&gt;æœ«å°¾&lt;/strong&gt;æ·»åŠ ä¸€ä¸ª &lt;code&gt;.&lt;/code&gt;ï¼Œé‚£ä¹ˆè¿™æ—¶ä¸ä¼šç”¨åˆ°æœç´¢åŸŸ&lt;/li&gt;
&lt;li&gt;å¦‚æœåŸŸå&lt;strong&gt;ä¸­é—´åŒ…å«&lt;/strong&gt;ä¸€ä¸ª &lt;code&gt;.&lt;/code&gt;ï¼ˆå¦‚ &lt;code&gt;example.com&lt;/code&gt;ï¼‰ï¼Œé‚£ä¹ˆé»˜è®¤ä¹Ÿä¸ä¼šç”¨åˆ°æœç´¢åŸŸã€‚ä½†æ˜¯å¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ¥æ”¹å˜å¤„ç†é€»è¾‘ï¼ˆåœ¨ [ndots][4] é‡Œæœ‰æ›´è¯¦ç»†çš„è¯´æ˜ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æˆ‘ä»¬ç°åœ¨çŸ¥é“äº† &lt;code&gt;curl grapefruit.&lt;/code&gt; ä¸ &lt;code&gt;curl grapefruit&lt;/code&gt; ç»“æœä¸ä¸€æ ·çš„åŸå› â€”â€”å› ä¸ºä¸€ä¸ªæŸ¥è¯¢çš„æ˜¯ &lt;code&gt;grapefruit.&lt;/code&gt;ï¼Œè€Œå¦ä¸€ä¸ªæŸ¥è¯¢çš„æ˜¯ &lt;code&gt;grapefruit.lan.&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æˆ‘çš„è®¡ç®—æœºæ€ä¹ˆçŸ¥é“ä½¿ç”¨å“ªä¸ªæœç´¢åŸŸå‘¢&#34;&gt;æˆ‘çš„è®¡ç®—æœºæ€ä¹ˆçŸ¥é“ä½¿ç”¨å“ªä¸ªæœç´¢åŸŸå‘¢ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;å½“æˆ‘è¿æ¥è·¯ç”±æ—¶ï¼Œå®ƒä¼šé€šè¿‡ DHCP å‘Šè¯‰æˆ‘å®ƒçš„æœç´¢åŸŸæ˜¯ &lt;code&gt;lan&lt;/code&gt; â€”â€” å®ƒä¹Ÿæ˜¯é€šè¿‡è¿™ä¸ªæ–¹å¼ç»™æˆ‘çš„è®¡ç®—æœºåˆ†é… IPã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ‰€ä»¥ä¸ºä»€ä¹ˆè¦åœ¨åŸŸåæœ«å°¾åŠ ä¸€ä¸ªç‚¹å‘¢&#34;&gt;æ‰€ä»¥ä¸ºä»€ä¹ˆè¦åœ¨åŸŸåæœ«å°¾åŠ ä¸€ä¸ªç‚¹å‘¢ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬å·²ç»äº†è§£äº†åŒºåŸŸæ–‡ä»¶å’Œæœç´¢åŸŸï¼Œä¸‹é¢æ˜¯æˆ‘è®¤ä¸ºçš„äººä»¬è¦åœ¨åŸŸåæœ«å°¾åŠ ç‚¹çš„åŸå› ï¼š&lt;/p&gt;
&lt;p&gt;æœ‰ä¸¤ç§æƒ…å†µä¸‹ï¼ŒåŸŸåä¼šè¢«ä¿®æ”¹ï¼Œå¹¶åœ¨æœ«å°¾æ·»åŠ å…¶ä»–ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ &lt;code&gt;example.com&lt;/code&gt; çš„åŒºåŸŸæ–‡ä»¶ä¸­ï¼Œ&lt;code&gt;grapefruit&lt;/code&gt; ä¼šè¢«è½¬ä¸º &lt;code&gt;grapefruit.example.com&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åœ¨æˆ‘çš„æœ¬åœ°ç½‘ç»œï¼ˆæˆ‘çš„è®¡ç®—æœºå·²ç»é…ç½®äº†ä½¿ç”¨æœç´¢åŸŸ &lt;code&gt;lan&lt;/code&gt;ï¼‰ï¼Œ&lt;code&gt;grapefruit&lt;/code&gt; è¢«è½¬ä¸º &lt;code&gt;grapefruit.lan&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å› æ­¤ï¼Œç”±äºåŸŸååœ¨æŸäº›æƒ…å†µä¸‹å®é™…ä¸Šå¯èƒ½è¢«è½¬æˆå…¶ä»–åå­—ï¼Œäººä»¬å°±åœ¨ç»“å°¾å¤„åŠ ä¸€ä¸ª &lt;code&gt;.&lt;/code&gt;ï¼Œä»¥æ­¤æ¥è¡¨ç¤º â€œ&lt;strong&gt;è¿™æ˜¯åŸŸåï¼Œæœ«å°¾ä¸éœ€è¦æ·»åŠ ä»»ä½•ä¸œè¥¿ï¼Œè¿™å°±æ˜¯å…¨éƒ¨å†…å®¹&lt;/strong&gt;â€ã€‚å¦åˆ™ä¼šå¼•èµ·æ··ä¹±ã€‚&lt;/p&gt;
&lt;p&gt;â€œè¿™å°±æ˜¯å…¨éƒ¨å†…å®¹â€çš„æŠ€æœ¯æœ¯è¯­æ˜¯**â€œå®Œå…¨é™å®šåŸŸåâ€&lt;strong&gt;ï¼Œç®€ç§°ä¸º&lt;/strong&gt;â€œFQDNâ€**ã€‚æ‰€ä»¥ &lt;code&gt;google.com.&lt;/code&gt; æ˜¯ä¸€ä¸ªå®Œå…¨é™å®šåŸŸåï¼Œè€Œ &lt;code&gt;google.com&lt;/code&gt; ä¸æ˜¯ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘æ€»æ˜¯è¦æé†’è‡ªå·±è¿™æ ·åšçš„åŸå› ï¼Œå› ä¸ºæˆ‘å¾ˆå°‘ä½¿ç”¨åŒºåŸŸæ–‡ä»¶å’Œæœç´¢åŸŸï¼Œæ‰€ä»¥æˆ‘ç»å¸¸è§‰å¾—â€”â€”â€œæˆ‘å½“ç„¶æ˜¯æŒ‡ &lt;code&gt;google.com&lt;/code&gt; è€Œä¸æ˜¯ &lt;code&gt;google.com.something.else&lt;/code&gt;! æˆ‘ä¸ºä»€ä¹ˆè¦æŒ‡å…¶ä»–ä¸œè¥¿ï¼Ÿé‚£å¤ªå‚»äº†ï¼â€&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯æœ‰äº›äººç¡®å®åœ¨ä½¿ç”¨åŒºåŸŸæ–‡ä»¶å’Œæœç´¢åŸŸï¼ˆä¾‹å¦‚ Kubernetes ä¸­ä½¿ç”¨äº†æœç´¢åŸŸï¼ï¼‰ï¼Œæ‰€ä»¥ç»“å°¾çš„ &lt;code&gt;.&lt;/code&gt; å¾ˆæœ‰ç”¨ï¼Œå¯ä»¥è®©äººç¡®åˆ‡çš„çŸ¥é“ï¼Œä¸åº”è¯¥å†æ·»åŠ å…¶ä»–ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä»€ä¹ˆæ—¶å€™åœ¨æœ«å°¾æ·»åŠ -&#34;&gt;ä»€ä¹ˆæ—¶å€™åœ¨æœ«å°¾æ·»åŠ  â€œ.â€ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯å…³äºä½•æ—¶åœ¨åŸŸåæœ«å°¾åŠ  &amp;ldquo;. &amp;quot; çš„å‡ ä¸ªç®€å•è¯´æ˜ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;éœ€è¦æ·»åŠ ï¼šé…ç½® DNS æ—¶&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨é…ç½® DNS æ—¶ï¼Œä½¿ç”¨å®Œå…¨é™å®šåŸŸåä»æ¥éƒ½ä¸æ˜¯åäº‹ã€‚ä½ ä¸ä¸€å®šè¦è¿™æ ·åšï¼šéå®Œå…¨é™å®šåŸŸåé€šå¸¸ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œï¼Œä½†æˆ‘ä»æ¥æ²¡æœ‰é‡åˆ°è¿‡ä¸æ¥å—å®Œå…¨é™å®šåŸŸåçš„ DNS è½¯ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰äº› DNS è½¯ä»¶éœ€è¦è¿™æ ·åšï¼šç°åœ¨æˆ‘ä¸º &lt;code&gt;jvns.ca&lt;/code&gt; ä½¿ç”¨çš„ DNS æœåŠ¡å™¨è®©æˆ‘åœ¨åŸŸåçš„æœ«å°¾åŠ ä¸Š &lt;code&gt;.&lt;/code&gt;ï¼ˆä¾‹å¦‚åœ¨ CNAME è®°å½•ä¸­ï¼‰ï¼Œå¹¶æç¤ºå¦‚æœæˆ‘ä¸æ·»åŠ ï¼Œå®ƒå°†åœ¨æˆ‘è¾“å…¥çš„å†…å®¹æœ«å°¾åŠ ä¸Š &lt;code&gt;.jvns.ca&lt;/code&gt;ã€‚æˆ‘ä¸åŒæ„è¿™ä¸ªè®¾è®¡å†³å®šï¼Œä½†è¿™ä¸æ˜¯ä»€ä¹ˆå¤§é—®é¢˜ï¼Œæˆ‘åªæ˜¯åœ¨æœ€ååŠ ä¸€ä¸ª &lt;code&gt;.&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸éœ€è¦åŠ ï¼šåœ¨æµè§ˆå™¨ä¸­&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä»¤äººå›°æƒ‘çš„æ˜¯ï¼Œåœ¨æµè§ˆå™¨ä¸­ï¼Œåœ¨åŸŸåç»“å°¾å¤„åŠ ä¸€ä¸ª &lt;code&gt;.&lt;/code&gt; &lt;em&gt;ä¸èƒ½&lt;/em&gt;æ­£å¸¸è¿è¡Œã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ &lt;code&gt;https://twitter.com.&lt;/code&gt;ï¼Œå®ƒå°±ä¼šæŠ¥é”™ã€‚å®ƒä¼šè¿”å› 404ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘è®¤ä¸ºè¿™é‡Œå‘ç”Ÿçš„äº‹æƒ…æ˜¯ï¼Œå®ƒå°† HTTP &lt;code&gt;Host&lt;/code&gt; æ ‡å¤´è®¾ç½®ä¸º &lt;code&gt;Hostï¼štwitter.com.&lt;/code&gt;ï¼Œè€Œå¯¹ç«¯çš„ Web æœåŠ¡å™¨åˆ™æœŸæœ› &lt;code&gt;Hostï¼štwitter.com&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ ·åœ°ï¼Œ&lt;code&gt;https://jvns.ca.&lt;/code&gt; ç”±äºæŸç§åŸå› ï¼Œè¿”å›äº†ä¸€ä¸ª SSL é”™è¯¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æˆ‘è®¤ä¸ºç›¸å¯¹åŸŸååœ¨è¿‡å»æ˜¯æ¯”è¾ƒå¸¸è§çš„&#34;&gt;æˆ‘è®¤ä¸ºç›¸å¯¹åŸŸååœ¨è¿‡å»æ˜¯æ¯”è¾ƒå¸¸è§çš„&lt;/h3&gt;
&lt;p&gt;æœ€åä¸€ä»¶äº‹ï¼šæˆ‘è®¤ä¸ºâ€œç›¸å¯¹â€åŸŸåï¼ˆæ¯”å¦‚æˆ‘ç”¨ &lt;code&gt;grapefruit&lt;/code&gt; æ¥æŒ‡ä»£æˆ‘å®¶çš„å¦ä¸€å°è®¡ç®—æœº &lt;code&gt;grapefruit.lan&lt;/code&gt;ï¼‰åœ¨è¿‡å»æ›´å¸¸ç”¨ï¼Œå› ä¸º DNS æ˜¯åœ¨å¤§å­¦æˆ–å…¶ä»–æœ‰å¤§å‹å†…éƒ¨ç½‘ç»œçš„å¤§æœºæ„ä¸­å¼€å‘çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä»Šå¤©çš„äº’è”ç½‘ä¸Šï¼Œä½¿ç”¨â€œç»å¯¹â€åŸŸåï¼ˆå¦‚ &lt;code&gt;example.com&lt;/code&gt;ï¼‰ä¼¼ä¹æ›´ä¸ºæ™®éã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://jvns.ca/blog/2022/09/12/why-do-domain-names-end-with-a-dot-/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://jvns.ca/blog/2022/09/12/why-do-domain-names-end-with-a-dot-/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://jvns.ca/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Julia Evans&lt;/a&gt;
é€‰é¢˜ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lujun9972&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;lujun9972&lt;/a&gt;
è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Xiaobin.Liu&lt;/a&gt;
æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/wxy&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;wxy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/LCTT/TranslateProject&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;LCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://linux.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Linuxä¸­å›½&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;</description>
        </item>
        <item>
        <title>Linux æ–‡ä»¶å¥æŸ„ä¸æ–‡ä»¶æè¿°ç¬¦</title>
        <link>https://lxb.wiki/200486d9/</link>
        <pubDate>Wed, 02 Nov 2022 21:52:46 +0800</pubDate>
        
        <guid>https://lxb.wiki/200486d9/</guid>
        <description>&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202307202154896.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶è¡¨ï¼ˆfdtable)ã€‚è¡¨ä¸­çš„æ¯ä¸€é¡¹æ˜¯struct fileç±»å‹ï¼ŒåŒ…å«äº†æ‰“å¼€æ–‡ä»¶çš„ä¸€äº›å±æ€§æ¯”å¦‚åç§»é‡ï¼Œè¯»å†™è®¿é—®æ¨¡å¼ç­‰ï¼Œè¿™æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„æ–‡ä»¶å¥æŸ„ã€‚&lt;/p&gt;
&lt;p&gt;æ–‡ä»¶æè¿°ç¬¦æ˜¯ä¸€ä¸ªæ•´æ•°ã€‚ä»£è¡¨fdtableä¸­çš„ç´¢å¼•ä½ç½®ï¼ˆä¸‹æ ‡ï¼‰ï¼ŒæŒ‡å‘å…·ä½“çš„struct fileï¼ˆæ–‡ä»¶å¥æŸ„ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å“ªäº›åœ°æ–¹ä¼šåˆ†é…æ–‡ä»¶å¥æŸ„ï¼Ÿ&lt;/p&gt;
&lt;p&gt;çŸ¥é“æ–‡ä»¶å¥æŸ„æœ€ç»ˆæ˜¯é€šè¿‡get_empty_filpå‡½æ•°ä»filp cacheä¸­åˆ†é…çš„ä¹‹åï¼Œæˆ‘ä»¬é¡ºç€å‡½æ•°è°ƒç”¨é“¾è·¯ç®€å•æ¢³ç†ä¸‹ï¼Œå°±èƒ½çŸ¥é“æœ‰å“ªäº›åœ°æ–¹ä¼šåˆ†é…æ–‡ä»¶å¥æŸ„äº†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;openç³»ç»Ÿè°ƒç”¨æ‰“å¼€æ–‡ä»¶ï¼ˆpath_openatå†…æ ¸å‡½æ•°)&lt;/li&gt;
&lt;li&gt;æ‰“å¼€ä¸€ä¸ªç›®å½•ï¼ˆdentry_openå‡½æ•°)&lt;/li&gt;
&lt;li&gt;å…±äº«å†…å­˜attach ï¼ˆdo_shmatå‡½æ•°ï¼‰&lt;/li&gt;
&lt;li&gt;socketå¥—æ¥å­—ï¼ˆsock_alloc_fileå‡½æ•°ï¼‰&lt;/li&gt;
&lt;li&gt;ç®¡é“ï¼ˆcreate_pipe_fileså‡½æ•°ï¼‰&lt;/li&gt;
&lt;li&gt;epoll/inotify/signalfdç­‰åŠŸèƒ½ç”¨åˆ°çš„åŒ¿åinodeæ–‡ä»¶ç³»ç»Ÿï¼ˆanon_inode_getfileå‡½æ•°)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;file-nræ–‡ä»¶é‡Œé¢çš„ç¬¬ä¸€ä¸ªå­—æ®µä»£è¡¨çš„æ˜¯å†…æ ¸åˆ†é…çš„struct fileçš„ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯æ–‡ä»¶å¥æŸ„ä¸ªæ•°ï¼Œè€Œä¸æ˜¯æ–‡ä»¶æè¿°ç¬¦&lt;/p&gt;
&lt;p&gt;æœºå™¨ä¸Šçš„å¸¸å¸¸ä¼šå‡ºç°æ–‡ä»¶å¥æŸ„ä½¿ç”¨é‡ä¸å¸¸ç”¨çš„lsofå‘½ä»¤çš„æ•°é‡ç›¸å»ç”šè¿œçš„æƒ…å†µ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202307202156791.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å› ä¸ºæ–‡ä»¶æè¿°ç¬¦å’Œæ–‡ä»¶å¥æŸ„æ˜¯ä¸¤ä¸ªä¸åŒçš„ä¸œè¥¿ï¼šlsofåœ¨ç”¨æˆ·ç©ºé—´ï¼Œä¸»è¦è¿˜æ˜¯ä»æ–‡ä»¶æè¿°ç¬¦çš„è§’åº¦æ¥çœ‹æ–‡ä»¶å¥æŸ„ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ¥åšä¸€ä¸ªå®éªŒï¼šåªæ‰“å¼€ä¸€æ¬¡æ–‡ä»¶ï¼Œç„¶åå¤åˆ¶1000æ¬¡æ–‡ä»¶æè¿°ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯åŠ¨dupfdè¿›ç¨‹æ‰“å¼€äº†ä¸€æ¬¡/dev/zeroæ–‡ä»¶ï¼Œå¤åˆ¶äº†1000æ¬¡æ–‡ä»¶æè¿°ç¬¦ã€‚file-nrä¸­çš„æ–‡ä»¶å¥æŸ„æ•°åªæ˜¯ä¸ªä½æ•°çš„å˜åŒ–ï¼Œè€Œlsofçœ‹åˆ°çš„ç»“æœæ¶¨äº†1000å¤šã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬æŠŠå‰é¢çš„ä»£ç æ¢æˆopen 1000æ¬¡ï¼Œ å°±å¯ä»¥çœ‹åˆ°file-nrå’Œlsofçš„è¾“å‡ºå‡ ä¹éƒ½æ¶¨äº†1000ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¾ªç¯1000æ¬¡æ‰“å¼€/dev/zeroæ–‡ä»¶ï¼Œä¹‹åmmapæ˜ å°„åˆ°è¿›ç¨‹åœ°å€ç©ºé—´ï¼Œç„¶åæŠŠè¿™äº›æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦éƒ½å…³æ‰ã€‚å¾ˆæ˜¾ç„¶ï¼Œæ‰“å¼€çš„æè¿°ç¬¦éƒ½è¢«closeæ‰äº†ï¼Œä¸ä¼šæœ‰ä»€ä¹ˆå˜åŒ–ã€‚ é‚£ä¸ºä»€ä¹ˆæ–‡ä»¶å¥æŸ„æ•°è¿˜æ˜¯å¢åŠ äº†1000ä¸ªå·¦å³å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;åŸæ¥ï¼Œlinuxå†…æ ¸ä¸­å¾ˆå¤šå¯¹è±¡éƒ½æ˜¯æœ‰å¼•ç”¨è®¡æ•°çš„ã€‚ è™½ç„¶æ–‡ä»¶å¥æŸ„æ˜¯ç”±openå…ˆæ‰“å¼€çš„ï¼Œä½†mmapä¹‹åï¼Œå¼•ç”¨è®¡æ•°è¢«åŠ 1ï¼Œå°½ç®¡æˆ‘ä»¬æ¥ç€æŠŠæ–‡ä»¶æè¿°ç¬¦closeæ‰äº†ï¼Œä½†æ˜¯åº•å±‚æŒ‡å‘çš„struct fileç”±äºå¼•ç”¨æ•°å¤§äº0ï¼Œä¸ä¼šè¢«å›æ”¶ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Go è°ƒç”¨ GoogleSheets API å†™å…¥æ•°æ®</title>
        <link>https://lxb.wiki/ee1035bf/</link>
        <pubDate>Wed, 02 Nov 2022 21:11:17 +0800</pubDate>
        
        <guid>https://lxb.wiki/ee1035bf/</guid>
        <description>&lt;h2 id=&#34;å‰ç½®ä¾èµ–&#34;&gt;å‰ç½®ä¾èµ–&lt;/h2&gt;
&lt;h3 id=&#34;1-åˆ›å»º-google-cloud-é¡¹ç›®&#34;&gt;1 åˆ›å»º Google Cloud é¡¹ç›®&lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://console.cloud.google.com/projectcreate&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://console.cloud.google.com/projectcreate&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åœ¨é¡¹ç›®é¡µé¢ä¸Šï¼Œç¡®ä¿å¯ç”¨äº† Google Sheets APIã€‚ä½ å¯ä»¥åœ¨â€œAPI å’ŒæœåŠ¡â€&amp;gt;â€œåº“â€ä¸­æœç´¢å¹¶å¯ç”¨è¯¥ APIã€‚&lt;/p&gt;
&lt;h3 id=&#34;2-åˆ›å»ºæœåŠ¡è´¦å·å¯†é’¥&#34;&gt;2 åˆ›å»ºæœåŠ¡è´¦å·å¯†é’¥ï¼š&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ Google Cloud Console çš„é¡¹ç›®é¡µé¢ä¸Šï¼Œå¯¼èˆªåˆ°â€œAPI å’ŒæœåŠ¡â€&amp;gt;â€œå‡­æ®â€ã€‚&lt;/li&gt;
&lt;li&gt;ç‚¹å‡»â€œåˆ›å»ºå‡­æ®â€æŒ‰é’®ï¼Œé€‰æ‹©â€œæœåŠ¡è´¦å·å¯†é’¥â€ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨â€œæœåŠ¡è´¦å·â€éƒ¨åˆ†ï¼Œé€‰æ‹©â€œæ–°å»ºæœåŠ¡è´¦å·â€ï¼Œå¹¶ä¸ºå…¶æŒ‡å®šä¸€ä¸ªåç§°ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨â€œè§’è‰²â€éƒ¨åˆ†ï¼Œé€‰æ‹©â€œé¡¹ç›®â€&amp;gt;â€œç¼–è¾‘è€…â€è§’è‰²ã€‚&lt;/li&gt;
&lt;li&gt;é€‰æ‹©â€œJSONâ€ä½œä¸ºå¯†é’¥ç±»å‹ï¼Œå¹¶ç‚¹å‡»â€œåˆ›å»ºâ€æŒ‰é’®ã€‚è¿™å°†ä¸‹è½½ä¸€ä¸ª JSON æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä½ çš„æœåŠ¡è´¦å·å¯†é’¥ã€‚&lt;/li&gt;
&lt;li&gt;Google Sheet åˆ†äº«ç»™æœåŠ¡è´¦å·ï¼Œé‚€è¯·å…¶æˆä¸ºâ€œç¼–è¾‘è€…â€ï¼Œè¢«é‚€è¯·äººå¡«å…¥æœåŠ¡è´¦å·çš„é‚®ç®±&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;go-ä»£ç &#34;&gt;Go ä»£ç &lt;/h2&gt;
&lt;p&gt;å®‰è£… Go çš„ Google Sheets API å®¢æˆ·ç«¯åº“ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;go get -u google.golang.org/api/sheets/v4
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; (
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;golang.org/x/oauth2/google&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;google.golang.org/api/sheets/v4&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// åŠ è½½å¯†é’¥æ–‡ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ioutil&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ReadFile&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;credential&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;json&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Fatalf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ— æ³•è¯»å–å¯†é’¥æ–‡ä»¶ï¼š%v&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// ä»å¯†é’¥æ–‡ä»¶åˆ›å»ºä¸€ä¸ªé…ç½®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;config&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;google&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;JWTConfigFromJSON&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;sheets&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;SpreadsheetsScope&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Fatalf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ— æ³•åˆ›å»ºé…ç½®ï¼š%v&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// ä½¿ç”¨é…ç½®åˆ›å»ºä¸€ä¸ªå®¢æˆ·ç«¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;client&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;config&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Client&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;context&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Background&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// åˆ›å»º Sheets æœåŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;sheetsService&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sheets&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;New&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;client&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Fatalf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ— æ³•åˆ›å»º Sheets æœåŠ¡ï¼š%v&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// æŒ‡å®šè¦å†™å…¥çš„ Spreadsheet ID å’Œ Sheet åç§°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;spreadsheetID&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;MY_GG_SHEET_ID&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// sheetName := &amp;#34;test&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;sheetName&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;time&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Now&lt;/span&gt;().&lt;span style=&#34;color:#a6e22e&#34;&gt;Format&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;010215&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// åˆ›å»ºä¸€ä¸ª SheetProperties å¯¹è±¡ï¼ŒæŒ‡å®šæ–° Sheet çš„åç§°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;sheetProperties&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;sheets&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;SheetProperties&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;Title&lt;/span&gt;: &lt;span style=&#34;color:#a6e22e&#34;&gt;sheetName&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// åˆ›å»ºä¸€ä¸ª AddSheetRequest å¯¹è±¡ï¼Œå°† SheetProperties æ”¾å…¥å…¶ä¸­
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;addSheetRequest&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;sheets&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;AddSheetRequest&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;Properties&lt;/span&gt;: &lt;span style=&#34;color:#a6e22e&#34;&gt;sheetProperties&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// åˆ›å»ºä¸€ä¸ª BatchUpdateSpreadsheetRequest å¯¹è±¡ï¼Œå°† AddSheetRequest æ”¾å…¥å…¶ä¸­
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;batchUpdateRequest&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;sheets&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;BatchUpdateSpreadsheetRequest&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;Requests&lt;/span&gt;: []&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;sheets&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Request&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#a6e22e&#34;&gt;AddSheet&lt;/span&gt;: &lt;span style=&#34;color:#a6e22e&#34;&gt;addSheetRequest&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			},
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		},
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// æ‰§è¡Œæ‰¹é‡æ›´æ–°æ“ä½œï¼Œåˆ›å»ºæ–°çš„ Sheet
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;batUpdResp&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sheetsService&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Spreadsheets&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;BatchUpdate&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;spreadsheetID&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;batchUpdateRequest&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;Do&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Fatalf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Unable to create new sheet: %v&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		panic(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ‰§è¡Œæ‰¹é‡æ›´æ–°æ“ä½œï¼Œåˆ›å»ºæ–°çš„ Sheetå¤±è´¥&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// æ‰“å°æ–° Sheet çš„ ID
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;newSheetID&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;batUpdResp&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Replies&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;].&lt;span style=&#34;color:#a6e22e&#34;&gt;AddSheet&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Properties&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;SheetId&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Created new sheet with ID: %d\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;newSheetID&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// æ„å»ºè¦å†™å…¥çš„æ•°æ®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;values&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; [][]&lt;span style=&#34;color:#66d9ef&#34;&gt;interface&lt;/span&gt;{}{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		{&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Value 1&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Value 2&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Value 3&amp;#34;&lt;/span&gt;},
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		{&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Value 4&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Value 5&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Value 6&amp;#34;&lt;/span&gt;},
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// æ„å»ºå†™å…¥è¯·æ±‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;writeRequest&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;sheets&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ValueRange&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;Values&lt;/span&gt;: &lt;span style=&#34;color:#a6e22e&#34;&gt;values&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;//// æ‰§è¡Œå†™å…¥è¯·æ±‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;//_, err = sheetsService.Spreadsheets.Values.Update(spreadsheetID, sheetName, writeRequest).ValueInputOption(&amp;#34;RAW&amp;#34;).Do()
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;//if err != nil {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;//	log.Fatalf(&amp;#34;æ— æ³•å†™å…¥æ•°æ®ï¼š%v&amp;#34;, err)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;//}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;//fmt.Println(&amp;#34;æ•°æ®å·²æˆåŠŸå†™å…¥ Google Sheetsï¼&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// æ‰§è¡Œè¿½åŠ æ“ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;appendResp&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sheetsService&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Spreadsheets&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Values&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Append&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;spreadsheetID&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;sheetName&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;writeRequest&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;ValueInputOption&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;USER_ENTERED&amp;#34;&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;Do&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Fatalf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Unable to append data: %v&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// æ‰“å°è¿½åŠ æ“ä½œçš„ç»“æœ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Appended %d rows\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;appendResp&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Updates&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;UpdatedRows&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://developers.google.com/docs/api/reference/rest&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://developers.google.com/docs/api/reference/rest&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://github.com/googleworkspace/go-samples/tree/main/sheets/quickstart&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/googleworkspace/go-samples/tree/main/sheets/quickstart&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>è§£å†³è·¨åŸŸé—®é¢˜</title>
        <link>https://lxb.wiki/97232292/</link>
        <pubDate>Sun, 23 Oct 2022 22:20:35 +0800</pubDate>
        
        <guid>https://lxb.wiki/97232292/</guid>
        <description>&lt;blockquote&gt;
&lt;p&gt;Access to XMLHttpRequest at â€˜http://127.0.0.1:8000/api/test/â€˜ from origin â€˜http://127.0.0.1:3000â€™ has been blocked by CORS policy: No â€˜Access-Control-Allow-Originâ€™ header is present on the requested resource.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯è·¨åŸŸ&#34;&gt;ä»€ä¹ˆæ˜¯è·¨åŸŸ&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;ç”±äºå¼€å‘æ¨¡å¼ä¸ºå‰åç«¯åˆ†ç¦»å¼å¼€å‘ï¼Œæ•…è€Œé€šå¸¸æƒ…å†µä¸‹ï¼Œå‰ç«¯å’Œåç«¯å¯èƒ½è¿è¡Œä¸åŒçš„ipæˆ–è€…portä¸‹ï¼Œå¯¼è‡´å‡ºç°è·¨åŸŸé—®é¢˜ï¼Œæ•…è€Œå•ç‹¬è¯´æ˜&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è·¨åŸŸæ˜¯æŒ‡ä¸€ä¸ªåŸŸä¸‹çš„æ–‡æ¡£æˆ–è„šæœ¬è¯•å›¾å»è¯·æ±‚å¦ä¸€ä¸ªåŸŸä¸‹çš„èµ„æºï¼Œè¿™é‡Œè·¨åŸŸæ˜¯å¹¿ä¹‰çš„ã€‚
å…¶å®æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„è·¨åŸŸæ˜¯ç‹­ä¹‰çš„ï¼Œæ˜¯ç”±æµè§ˆå™¨åŒæºç­–ç•¥é™åˆ¶çš„ä¸€ç±»è¯·æ±‚åœºæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥ï¼Ÿ&lt;/p&gt;
&lt;p&gt;åŒæºç­–ç•¥/SOP(Same origin policy)æ˜¯ä¸€ç§çº¦å®šï¼Œç”±Netscapeå…¬å¸1995å¹´å¼•å…¥æµè§ˆå™¨ï¼Œå®ƒæ˜¯æµè§ˆå™¨æœ€æ ¸å¿ƒä¹Ÿæœ€åŸºæœ¬çš„å®‰å…¨åŠŸèƒ½ï¼Œå¦‚æœç¼ºå°‘äº†åŒæºç­–ç•¥ï¼Œæµè§ˆå™¨å¾ˆå®¹æ˜“å—åˆ°XSSã€CSFRç­‰æ”»å‡»ã€‚æ‰€è°“åŒæºæ˜¯æŒ‡â€åè®®+åŸŸå+ç«¯å£â€ä¸‰è€…ç›¸åŒï¼Œå³ä¾¿ä¸¤ä¸ªä¸åŒçš„åŸŸåæŒ‡å‘åŒä¸€ä¸ªipåœ°å€ï¼Œä¹ŸéåŒæºã€‚&lt;/p&gt;
&lt;p&gt;åŒæºç­–ç•¥é™åˆ¶ä»¥ä¸‹å‡ ç§è¡Œä¸ºï¼š&lt;/p&gt;
&lt;p&gt;Cookieã€LocalStorage å’Œ IndexDB æ— æ³•è¯»å–
DOM å’Œ Jså¯¹è±¡æ— æ³•è·å¾—
AJAX è¯·æ±‚ä¸èƒ½å‘é€&lt;/p&gt;
&lt;h2 id=&#34;è§£å†³æ–¹æ¡ˆ&#34;&gt;è§£å†³æ–¹æ¡ˆï¼š&lt;/h2&gt;
&lt;h3 id=&#34;11-åç«¯å…è®¸&#34;&gt;1.1 åç«¯å…è®¸&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;pip install django-cors-headers
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;12-æ³¨å†Œåº”ç”¨&#34;&gt;1.2 æ³¨å†Œåº”ç”¨&lt;/h3&gt;
&lt;p&gt;settings.py&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;INSTALLED_APPS &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;corsheaders&amp;#39;&lt;/span&gt;,		&lt;span style=&#34;color:#75715e&#34;&gt;# åŠ å…¥è¿™ä¸ªåº”ç”¨æè¿°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;13-æ·»åŠ ä¸­é—´ä»¶&#34;&gt;1.3 æ·»åŠ ä¸­é—´ä»¶&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;MIDDLEWARE_CLASSES &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;corsheaders.middleware.CorsMiddleware&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#75715e&#34;&gt;# æ³¨æ„é¡ºåºï¼ï¼ï¼(å¯ä»¥æ”¾ç¬¬ä¸€ä¸ª) &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;django.middleware.common.CommonMiddleware&amp;#39;&lt;/span&gt;, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;14-æ·»åŠ å…è®¸è·¨åŸŸip&#34;&gt;1.4 æ·»åŠ å…è®¸è·¨åŸŸip&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#ç›´æ¥å…è®¸æ‰€æœ‰ä¸»æœºè·¨åŸŸ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;CORS_ORIGIN_ALLOW_ALL &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;True&lt;/span&gt; é»˜è®¤ä¸ºFalse
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;15-å…è®¸æºå¸¦cookie&#34;&gt;1.5 å…è®¸æºå¸¦cookie&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;CORS_ALLOW_CREDENTIALS = True
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;16-æ·»åŠ å…è®¸çš„è¯·æ±‚å¤´å’Œæ–¹æ³•&#34;&gt;1.6 æ·»åŠ å…è®¸çš„è¯·æ±‚å¤´å’Œæ–¹æ³•&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;CORS_ALLOW_METHODS &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;DELETE&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;GET&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;OPTIONS&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;PATCH&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;POST&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;PUT&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;VIEW&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;CORS_ALLOW_HEADERS &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;XMLHttpRequest&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;X_FILENAME&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;accept-encoding&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;authorization&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;content-type&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;dnt&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;origin&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;user-agent&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;x-csrftoken&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;x-requested-with&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Pragma&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Access-Control-Allow-Origin&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;17-å‰ç«¯è¯·æ±‚æ·»åŠ header&#34;&gt;1.7 å‰ç«¯è¯·æ±‚æ·»åŠ Header&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;config&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;withCredentials&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;headers&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Access-Control-Allow-Origin&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;*&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;axios&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;get&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;myUrl&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;config&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;then&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;res&lt;/span&gt; =&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;console&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;res&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;21-å‰ç«¯é…ç½®ä»£ç†&#34;&gt;2.1 å‰ç«¯é…ç½®ä»£ç†&lt;/h3&gt;
&lt;p&gt;vite.config.js&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; { &lt;span style=&#34;color:#a6e22e&#34;&gt;defineConfig&lt;/span&gt; } &lt;span style=&#34;color:#a6e22e&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;vite&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;vue&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;@vitejs/plugin-vue&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// https://vitejs.dev/config/
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;default&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;defineConfig&lt;/span&gt;({
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;plugins&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#a6e22e&#34;&gt;vue&lt;/span&gt;()],
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;base&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;./&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;server&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; { &lt;span style=&#34;color:#75715e&#34;&gt;//åŒpluginsåŒçº§
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;cors&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;open&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;port&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3000&lt;/span&gt;, &lt;span style=&#34;color:#75715e&#34;&gt;//æœ¬åœ°ç«¯å£å·
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;proxy&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; { &lt;span style=&#34;color:#75715e&#34;&gt;//é…ç½®ä»£ç†æœåŠ¡å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;      &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/api&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;target&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://mydomain.com&amp;#34;&lt;/span&gt;,    &lt;span style=&#34;color:#75715e&#34;&gt;//ç›®æ ‡url
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;changeOrigin&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;,    &lt;span style=&#34;color:#75715e&#34;&gt;//å…è®¸è·¨åŸŸ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;rewrite&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;path&lt;/span&gt;) =&amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;path&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;replace&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;/^\/api/&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;),     &lt;span style=&#34;color:#75715e&#34;&gt;//é‡å†™è·¯å¾„,æ›¿æ¢/api
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;})
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å½“æœ¬åœ°å¼€å‘è¯·æ±‚ http://localhost:3000/api/xxx æ—¶ï¼Œä¼šè¢«ä»£ç†åˆ°&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://mydomain.com/xxx&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://mydomain.com/xxx&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘10å¤§é™æ€ç½‘ç«™ç”Ÿæˆå·¥å…·</title>
        <link>https://lxb.wiki/690c8418/</link>
        <pubDate>Sun, 02 Oct 2022 18:26:55 +0000</pubDate>
        
        <guid>https://lxb.wiki/690c8418/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨å¯»æ‰¾éƒ¨ç½²é™æ€ç½‘é¡µçš„æ–¹æ³•å—ï¼Ÿè¿™å‡ ä¸ªå¼€æºçš„é™æ€ç½‘ç«™ç”Ÿæˆå·¥å…·å¯ä»¥å¸®ä½ è¿…é€Ÿéƒ¨ç½²ç•Œé¢ä¼˜ç¾ã€åŠŸèƒ½å¼ºå¤§çš„é™æ€ç½‘ç«™ï¼Œæ— éœ€æŒæ¡å¤æ‚çš„ HTML å’Œ CSS æŠ€èƒ½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é™æ€ç½‘ç«™æ˜¯ä»€ä¹ˆ&#34;&gt;é™æ€ç½‘ç«™æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h3&gt;
&lt;p&gt;æŠ€æœ¯ä¸Šæ¥è®²ï¼Œé™æ€ç½‘ç«™æ˜¯æŒ‡ç½‘é¡µä¸æ˜¯ç”±æœåŠ¡å™¨åŠ¨æ€ç”Ÿæˆçš„ã€‚HTMLã€CSS å’Œ JavaScript æ–‡ä»¶å°±é™é™åœ°èººåœ¨æœåŠ¡å™¨çš„æŸä¸ªè·¯å¾„ä¸‹ï¼Œå®ƒä»¬çš„å†…å®¹ä¸ç»ˆç«¯ç”¨æˆ·æ¥æ”¶åˆ°çš„ç‰ˆæœ¬æ˜¯ä¸€æ ·çš„ã€‚åŸå§‹çš„æºç æ–‡ä»¶å·²ç»æå‰ç¼–è¯‘å¥½äº†ï¼Œæºç åœ¨æ¯æ¬¡è¯·æ±‚åéƒ½ä¸ä¼šå˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;Linux.CN æ˜¯ä¸€ä¸ªä¾èµ–å¤šä¸ªæ•°æ®åº“çš„åŠ¨æ€ç½‘ç«™ï¼Œå½“æœ‰æµè§ˆå™¨çš„è¯·æ±‚æ—¶ï¼Œç½‘é¡µå°±ä¼šç”Ÿæˆå¹¶æä¾›æœåŠ¡ã€‚å¤§éƒ¨åˆ†ç½‘ç«™æ˜¯åŠ¨æ€çš„ï¼Œä½ ä¸è¿™äº›ç½‘ç«™äº’åŠ¨æ—¶ï¼Œå¤§é‡çš„å†…å®¹ä¼šç»å¸¸æ”¹å˜ã€‚&lt;/p&gt;
&lt;p&gt;é™æ€ç½‘ç«™æœ‰ä¸€äº›å¥½å¤„ï¼Œæ¯”å¦‚åŠ è½½æ—¶é—´æ›´çŸ­ï¼Œè¯·æ±‚çš„æœåŠ¡å™¨èµ„æºæ›´å°‘ã€æ›´å®‰å…¨ï¼ˆå€¼å¾—å•†æ¦·ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¼ ç»Ÿä¸Šï¼Œé™æ€ç½‘ç«™æ›´é€‚åˆäºåˆ›å»ºåªæœ‰å°‘é‡ç½‘é¡µã€å†…å®¹å˜åŒ–ä¸é¢‘ç¹çš„å°ç½‘ç«™ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œéšç€é™æ€ç½‘ç«™ç”Ÿæˆå·¥å…·å‡ºç°åï¼Œé™æ€ç½‘ç«™çš„é€‚ç”¨èŒƒå›´è¶Šæ¥è¶Šå¤§ã€‚ä½ è¿˜å¯ä»¥ä½¿ç”¨è¿™äº›å·¥å…·æ­å»ºåšå®¢ç½‘ç«™ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘æ•´ç†äº†å‡ ä¸ªå¼€æºçš„é™æ€ç½‘ç«™ç”Ÿæˆå·¥å…·ï¼Œè¿™äº›å·¥å…·å¯ä»¥å¸®ä½ æ­å»ºç•Œé¢ä¼˜ç¾çš„ç½‘ç«™ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æœ€å¥½çš„å¼€æºé™æ€ç½‘ç«™ç”Ÿæˆå·¥å…·&#34;&gt;æœ€å¥½çš„å¼€æºé™æ€ç½‘ç«™ç”Ÿæˆå·¥å…·&lt;/h3&gt;
&lt;p&gt;è¯·æ³¨æ„ï¼Œé™æ€ç½‘ç«™ä¸ä¼šæä¾›å¾ˆå¤æ‚çš„åŠŸèƒ½ã€‚å¦‚æœä½ éœ€è¦å¤æ‚çš„åŠŸèƒ½ï¼Œé‚£ä¹ˆä½ å¯ä»¥å‚è€ƒé€‚ç”¨äºåŠ¨æ€ç½‘ç«™çš„&lt;a class=&#34;link&#34; href=&#34;https://itsfoss.com/open-source-cms/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æœ€ä½³å¼€æº CMS&lt;/a&gt;åˆ—è¡¨ã€‚&lt;/p&gt;
&lt;h4 id=&#34;1jekyll&#34;&gt;1ã€Jekyll&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202304230847472.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Jekyll æ˜¯ç”¨ &lt;a class=&#34;link&#34; href=&#34;https://www.ruby-lang.org/en/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Ruby&lt;/a&gt; å†™çš„æœ€å—æ¬¢è¿çš„å¼€æºé™æ€ç”Ÿæˆå·¥å…·ä¹‹ä¸€ã€‚å®é™…ä¸Šï¼ŒJekyll æ˜¯ &lt;a class=&#34;link&#34; href=&#34;https://pages.github.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GitHub é¡µé¢&lt;/a&gt; çš„å¼•æ“ï¼Œå®ƒå¯ä»¥è®©ä½ å…è´¹ç”¨ GitHub æ‰˜ç®¡ç½‘ç«™ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥å¾ˆè½»æ¾åœ°è·¨å¹³å°é…ç½® Jekyllï¼ŒåŒ…æ‹¬ Ubuntuã€‚å®ƒåˆ©ç”¨ &lt;a class=&#34;link&#34; href=&#34;https://github.com/Shopify/liquid/wiki&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Markdown&lt;/a&gt;ã€&lt;a class=&#34;link&#34; href=&#34;https://github.com/Shopify/liquid/wiki&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Liquid&lt;/a&gt;ï¼ˆæ¨¡æ¿è¯­è¨€ï¼‰ã€HTML å’Œ CSS æ¥ç”Ÿæˆé™æ€çš„ç½‘é¡µæ–‡ä»¶ã€‚å¦‚æœä½ è¦æ­å»ºä¸€ä¸ªæ²¡æœ‰å¹¿å‘Šæˆ–æ¨å¹¿è‡ªå·±å·¥å…·æˆ–æœåŠ¡çš„äº§å“é¡µçš„åšå®¢ç½‘ç«™ï¼Œå®ƒæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒè¿˜æ”¯æŒä»å¸¸è§çš„ CMSï¼ˆ&lt;!-- raw HTML omitted --&gt;å†…å®¹ç®¡ç†ç³»ç»Ÿ&lt;!-- raw HTML omitted --&gt;Content management system&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼‰å¦‚ Ghostã€WordPressã€Drupal 7 è¿ç§»ä½ çš„åšå®¢ã€‚ä½ å¯ä»¥ç®¡ç†æ°¸ä¹…é“¾æ¥ã€ç±»åˆ«ã€é¡µé¢ã€æ–‡ç« ï¼Œè¿˜å¯ä»¥è‡ªå®šä¹‰å¸ƒå±€ï¼Œè¿™äº›åŠŸèƒ½éƒ½å¾ˆå¼ºå¤§ã€‚å› æ­¤ï¼Œå³ä½¿ä½ å·²ç»æœ‰äº†ä¸€ä¸ªç½‘ç«™ï¼Œå¦‚æœä½ æƒ³è½¬æˆé™æ€ç½‘ç«™ï¼ŒJekyll ä¼šæ˜¯ä¸€ä¸ªå®Œç¾çš„è§£å†³æ–¹æ¡ˆã€‚ä½ å¯ä»¥å‚è€ƒ&lt;a class=&#34;link&#34; href=&#34;https://jekyllrb.com/docs/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;æˆ– &lt;a class=&#34;link&#34; href=&#34;https://github.com/jekyll/jekyll&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GitHub é¡µé¢&lt;/a&gt;äº†è§£æ›´å¤šå†…å®¹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://jekyllrb.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Jekyll&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2hugo&#34;&gt;2ã€Hugo&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202304230848755.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Hugo æ˜¯å¦ä¸€ä¸ªå¾ˆå—æ¬¢è¿çš„ç”¨äºæ­å»ºé™æ€ç½‘ç«™çš„å¼€æºæ¡†æ¶ã€‚å®ƒæ˜¯ç”¨ &lt;a class=&#34;link&#34; href=&#34;https://golang.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go è¯­è¨€&lt;/a&gt;å†™çš„ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒè¿è¡Œé€Ÿåº¦å¿«ã€ä½¿ç”¨ç®€å•ã€å¯é æ€§é«˜ã€‚å¦‚æœä½ éœ€è¦ï¼Œå®ƒä¹Ÿå¯ä»¥æä¾›æ›´é«˜çº§çš„ä¸»é¢˜ã€‚å®ƒè¿˜æä¾›äº†ä¸€äº›æœ‰ç”¨çš„å¿«æ·æ–¹å¼æ¥å¸®åŠ©ä½ è½»æ¾å®Œæˆä»»åŠ¡ã€‚æ— è®ºæ˜¯ç»„åˆå±•ç¤ºç½‘ç«™è¿˜æ˜¯åšå®¢ç½‘ç«™ï¼ŒHogo éƒ½æœ‰èƒ½åŠ›ç®¡ç†å¤§é‡çš„å†…å®¹ç±»å‹ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ æƒ³ä½¿ç”¨ Hugoï¼Œä½ å¯ä»¥å‚ç…§å®ƒçš„&lt;a class=&#34;link&#34; href=&#34;https://gohugo.io/getting-started/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;æˆ–å®ƒçš„ &lt;a class=&#34;link&#34; href=&#34;https://github.com/gohugoio/hugo&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GitHub é¡µé¢&lt;/a&gt;æ¥å®‰è£…ä»¥åŠäº†è§£æ›´å¤šç›¸å…³çš„ä½¿ç”¨æ–¹æ³•ã€‚å¦‚æœéœ€è¦çš„è¯ï¼Œä½ è¿˜å¯ä»¥å°† Hugo éƒ¨ç½²åœ¨ GitHub é¡µé¢æˆ–ä»»ä½• CDN ä¸Šã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://gohugo.io/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Hugo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3hexo&#34;&gt;3ã€Hexo&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202304230849836.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Hexo æ˜¯ä¸€ä¸ªæœ‰è¶£çš„å¼€æºæ¡†æ¶ï¼ŒåŸºäº &lt;a class=&#34;link&#34; href=&#34;https://nodejs.org/en/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Node.js&lt;/a&gt;ã€‚åƒå…¶ä»–çš„å·¥å…·ä¸€æ ·ï¼Œä½ å¯ä»¥ç”¨å®ƒæ­å»ºç›¸å½“å¿«é€Ÿçš„ç½‘ç«™ï¼Œä¸ä»…å¦‚æ­¤ï¼Œå®ƒè¿˜æä¾›äº†ä¸°å¯Œçš„ä¸»é¢˜å’Œæ’ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒè¿˜æ ¹æ®ç”¨æˆ·çš„æ¯ä¸ªéœ€æ±‚æä¾›äº†å¼ºå¤§çš„ API æ¥æ‰©å±•åŠŸèƒ½ã€‚å¦‚æœä½ å·²ç»æœ‰ä¸€ä¸ªç½‘ç«™ï¼Œä½ å¯ä»¥ç”¨å®ƒçš„&lt;a class=&#34;link&#34; href=&#34;https://hexo.io/api/migrator.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è¿ç§»&lt;/a&gt;æ‰©å±•è½»æ¾å®Œæˆè¿ç§»å·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥å‚ç…§&lt;a class=&#34;link&#34; href=&#34;https://hexo.io/docs/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;æˆ– &lt;a class=&#34;link&#34; href=&#34;https://github.com/hexojs/hexo&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GitHub é¡µé¢&lt;/a&gt; æ¥ä½¿ç”¨ Hexoã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://hexo.io/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Hexo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;4gatsby&#34;&gt;4ã€Gatsby&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202304230850165.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Gatsby æ˜¯ä¸€ä¸ªè¶Šæ¥è¶Šæµè¡Œçš„å¼€æºç½‘ç«™ç”Ÿæˆæ¡†æ¶ã€‚å®ƒä½¿ç”¨ &lt;a class=&#34;link&#34; href=&#34;https://reactjs.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;React.js&lt;/a&gt; æ¥ç”Ÿæˆå¿«é€Ÿã€ç•Œé¢ä¼˜ç¾çš„ç½‘ç«™ã€‚&lt;/p&gt;
&lt;p&gt;å‡ å¹´å‰åœ¨ä¸€ä¸ªå®éªŒæ€§çš„é¡¹ç›®ä¸­ï¼Œæˆ‘æ›¾ç»éå¸¸æƒ³å°è¯•ä¸€ä¸‹è¿™ä¸ªå·¥å…·ï¼Œå®ƒæä¾›çš„æˆåƒä¸Šä¸‡çš„æ–°æ’ä»¶å’Œä¸»é¢˜çš„èƒ½åŠ›è®©æˆ‘å°è±¡æ·±åˆ»ã€‚ä¸å…¶ä»–é™æ€ç½‘ç«™ç”Ÿæˆå·¥å…·ä¸åŒçš„æ˜¯ï¼Œä½ å¯ä»¥ä½¿ç”¨ Gatsby ç”Ÿæˆä¸€ä¸ªç½‘ç«™ï¼Œå¹¶åœ¨ä¸æŸå¤±ä»»ä½•åŠŸèƒ½çš„æƒ…å†µä¸‹è·å¾—é™æ€ç½‘ç«™çš„å¥½å¤„ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒæä¾›äº†ä¸å¾ˆå¤šæµè¡Œçš„æœåŠ¡çš„æ•´åˆåŠŸèƒ½ã€‚å½“ç„¶ï¼Œä½ å¯ä»¥ä¸ä½¿ç”¨å®ƒçš„å¤æ‚çš„åŠŸèƒ½ï¼Œæˆ–å°†å…¶ä¸ä½ é€‰æ‹©çš„æµè¡Œ CMS é…åˆä½¿ç”¨ï¼Œè¿™ä¹Ÿä¼šå¾ˆæœ‰è¶£ã€‚ä½ å¯ä»¥æŸ¥çœ‹ä»–ä»¬çš„&lt;a class=&#34;link&#34; href=&#34;https://www.gatsbyjs.com/docs/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;æˆ–å®ƒçš„ &lt;a class=&#34;link&#34; href=&#34;https://github.com/gatsbyjs/gatsby&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GitHub é¡µé¢&lt;/a&gt;äº†è§£æ›´å¤šå†…å®¹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.gatsbyjs.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Gatsby&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;5vuepress&#34;&gt;5ã€VuePress&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202304230850623.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;VuePress æ˜¯ç”± &lt;a class=&#34;link&#34; href=&#34;https://vuejs.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Vue.js&lt;/a&gt; æ”¯æŒçš„é™æ€ç½‘ç«™ç”Ÿæˆå·¥å…·ï¼Œè€Œ Vue.js æ˜¯ä¸€ä¸ªå¼€æºçš„æ¸è¿›å¼ JavaScript æ¡†æ¶ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ äº†è§£ HTMLã€CSS å’Œ JavaScriptï¼Œé‚£ä¹ˆä½ å¯ä»¥æ— å‹åŠ›åœ°ä½¿ç”¨ VuePressã€‚ä½ åº”è¯¥å¯ä»¥æ‰¾åˆ°å‡ ä¸ªæœ‰ç”¨çš„æ’ä»¶å’Œä¸»é¢˜æ¥ä¸ºä½ çš„ç½‘ç«™å»ºè®¾å¼€ä¸ªå¤´ã€‚æ­¤å¤–ï¼Œçœ‹èµ·æ¥ Vue.js çš„æ›´æ–°ä¸€ç›´å¾ˆæ´»è·ƒï¼Œå¾ˆå¤šå¼€å‘è€…éƒ½åœ¨å…³æ³¨ Vue.jsï¼Œè¿™æ˜¯ä¸€ä»¶å¥½äº‹ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥å‚ç…§ä»–ä»¬çš„&lt;a class=&#34;link&#34; href=&#34;https://vuepress.vuejs.org/guide/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;å’Œ &lt;a class=&#34;link&#34; href=&#34;https://github.com/vuejs/vuepress&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GitHub é¡µé¢&lt;/a&gt;äº†è§£æ›´å¤šã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://vuepress.vuejs.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;VuePress&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;6nuxtjs&#34;&gt;6ã€Nuxt.js&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202304230851735.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Nuxt.js ä½¿ç”¨äº† Vue.js å’Œ Node.jsï¼Œä½†å®ƒè‡´åŠ›äºæ¨¡å—åŒ–ï¼Œå¹¶ä¸”æœ‰èƒ½åŠ›ä¾èµ–æœåŠ¡ç«¯è€Œéå®¢æˆ·ç«¯ã€‚ä¸ä»…å¦‚æ­¤ï¼Œå®ƒçš„ç›®æ ‡æ˜¯ä¸ºå¼€å‘è€…æä¾›ç›´è§‚çš„ä½“éªŒï¼Œå¹¶æä¾›æè¿°æ€§é”™è¯¯ï¼Œä»¥åŠè¯¦ç»†çš„æ–‡æ¡£ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;æ­£å¦‚å®ƒå£°ç§°çš„é‚£æ ·ï¼Œåœ¨ä½ ç”¨æ¥æ­å»ºé™æ€ç½‘ç«™çš„æ‰€æœ‰å·¥å…·ä¸­ï¼ŒNuxt.js å¯ä»¥åšåˆ°åŠŸèƒ½å’Œçµæ´»æ€§ä¸¤å…¨å…¶ç¾ã€‚ä»–ä»¬è¿˜æä¾›äº†ä¸€ä¸ª &lt;a class=&#34;link&#34; href=&#34;https://template.nuxtjs.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Nuxt çº¿ä¸Šæ²™ç›’&lt;/a&gt;ï¼Œè®©ä½ ä¸è´¹å¹ç°ä¹‹åŠ›å°±èƒ½ç›´æ¥æµ‹è¯•å®ƒã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥æŸ¥çœ‹å®ƒçš„ &lt;a class=&#34;link&#34; href=&#34;https://github.com/nuxt/nuxt.js&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GitHub é¡µé¢&lt;/a&gt;å’Œ&lt;a class=&#34;link&#34; href=&#34;https://nuxtjs.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å®˜æ–¹ç½‘ç«™&lt;/a&gt;äº†è§£æ›´å¤šã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://nuxtjs.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Nuxt.js&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;7docusaurus&#34;&gt;7ã€Docusaurus&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202304230851189.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Docusaurus æ˜¯ä¸€ä¸ªæœ‰è¶£çš„å¼€æºé™æ€ç½‘ç«™ç”Ÿæˆå·¥å…·ï¼Œä¸ºæ­å»ºæ–‡æ¡£ç±»ç½‘ç«™é‡èº«å®šåˆ¶ã€‚å®ƒè¿˜æ˜¯ &lt;a class=&#34;link&#34; href=&#34;https://opensource.facebook.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Facebook å¼€æºè®¡åˆ’&lt;/a&gt;çš„ä¸€ä¸ªé¡¹ç›®ã€‚&lt;/p&gt;
&lt;p&gt;Docusaurus æ˜¯ç”¨ React æ„å»ºçš„ã€‚ä½ å¯ä»¥ä½¿ç”¨æ‰€æœ‰çš„åŸºæœ¬åŠŸèƒ½ï¼Œåƒæ–‡æ¡£ç‰ˆæœ¬ç®¡ç†ã€æ–‡æ¡£æœç´¢å’Œç¿»è¯‘å¤§å¤šæ˜¯é¢„å…ˆé…ç½®çš„ã€‚å¦‚æœä½ æƒ³ä¸ºä½ çš„äº§å“æˆ–æœåŠ¡æ­å»ºä¸€ä¸ªæ–‡æ¡£ç½‘ç«™ï¼Œé‚£ä¹ˆå¯ä»¥è¯•è¯• Docusaurusã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥ä»å®ƒçš„ &lt;a class=&#34;link&#34; href=&#34;https://github.com/facebook/docusaurus&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GitHub é¡µé¢&lt;/a&gt;å’Œå®ƒçš„&lt;a class=&#34;link&#34; href=&#34;https://docusaurus.io/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å®˜ç½‘&lt;/a&gt;è·å–æ›´å¤šä¿¡æ¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://docusaurus.io/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Docusaurus&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;8eleventy&#34;&gt;8ã€Eleventy&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202304230852491.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Eleventy è‡ªç§°æ˜¯ Jekyll çš„æ›¿ä»£å“ï¼Œæ—¨åœ¨ä»¥æ›´ç®€å•çš„æ–¹æ³•æ¥åˆ¶ä½œæ›´å¿«çš„é™æ€ç½‘ç«™ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒä¼¼ä¹å¾ˆå®¹æ˜“ä¸Šæ‰‹ï¼Œè€Œä¸”å®ƒè¿˜æä¾›äº†é€‚å½“çš„æ–‡æ¡£æ¥å¸®åŠ©ä½ ã€‚å¦‚æœä½ æƒ³æ‰¾ä¸€ä¸ªç®€å•çš„é™æ€ç½‘ç«™ç”Ÿæˆå·¥å…·ï¼ŒEleventy ä¼¼ä¹ä¼šæ˜¯ä¸€ä¸ªæœ‰è¶£çš„é€‰æ‹©ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥å‚ç…§å®ƒçš„ &lt;a class=&#34;link&#34; href=&#34;https://github.com/11ty/eleventy/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GitHub é¡µé¢&lt;/a&gt;å’Œ&lt;a class=&#34;link&#34; href=&#34;https://www.11ty.dev/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å®˜ç½‘&lt;/a&gt;æ¥äº†è§£æ›´å¤šçš„ç»†èŠ‚ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.11ty.dev/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Eleventy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;9publii&#34;&gt;9ã€Publii&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202304230852316.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Publii æ˜¯ä¸€ä¸ªä»¤äººå°è±¡æ·±åˆ»çš„å¼€æº CMSï¼Œå®ƒèƒ½ä½¿ç”Ÿæˆä¸€ä¸ªé™æ€ç½‘ç«™å˜å¾—å¾ˆå®¹æ˜“ã€‚å®ƒæ˜¯ç”¨ &lt;a class=&#34;link&#34; href=&#34;https://www.electronjs.org&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Electron&lt;/a&gt; å’Œ Vue.js æ„å»ºçš„ã€‚å¦‚æœæœ‰éœ€è¦ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠä½ çš„æ–‡ç« ä» WorkPress ç½‘ç«™è¿ç§»è¿‡æ¥ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜æä¾›äº†ä¸ GitHub é¡µé¢ã€Netlify åŠå…¶å®ƒç±»ä¼¼æœåŠ¡çš„ä¸€é”®åŒæ­¥åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ åˆ©ç”¨ Publii ç”Ÿæˆä¸€ä¸ªé™æ€ç½‘ç«™ï¼Œä½ è¿˜å¯ä»¥å¾—åˆ°ä¸€ä¸ªæ‰€è§å³æ‰€å¾—çš„ç¼–è¾‘å™¨ã€‚ä½ å¯ä»¥ä»&lt;a class=&#34;link&#34; href=&#34;https://getpublii.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å®˜ç½‘&lt;/a&gt;ä¸‹è½½å®ƒï¼Œæˆ–è€…ä»å®ƒçš„ &lt;a class=&#34;link&#34; href=&#34;https://github.com/GetPublii/Publii&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GitHub é¡µé¢&lt;/a&gt;äº†è§£æ›´å¤šä¿¡æ¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://getpublii.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Publii&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;10primo&#34;&gt;10ã€Primo&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202304230852327.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªæœ‰è¶£çš„å¼€æºé™æ€ç½‘ç«™ç”Ÿæˆå·¥å…·ï¼Œç›®å‰å¼€å‘å·¥ä½œä»å¾ˆæ´»è·ƒã€‚è™½ç„¶ä¸å…¶ä»–çš„é™æ€ç”Ÿæˆå·¥å…·ç›¸æ¯”ï¼Œå®ƒè¿˜ä¸æ˜¯ä¸€ä¸ªæˆç†Ÿçš„è§£å†³æ–¹æ¡ˆï¼Œæœ‰äº›åŠŸèƒ½è¿˜ä¸å®Œå–„ï¼Œä½†å®ƒæ˜¯ä¸€ä¸ªç‹¬ç‰¹çš„é¡¹ç›®ã€‚&lt;/p&gt;
&lt;p&gt;Primo æ—¨åœ¨ä½¿ç”¨å¯è§†åŒ–çš„æ„å»ºå™¨å¸®ä½ æ„å»ºå’Œæ­å»ºç½‘ç«™ï¼Œè¿™æ ·ä½ å°±å¯ä»¥è½»æ¾ç¼–è¾‘å’Œéƒ¨ç½²åˆ°ä»»æ„ä¸»æœºä¸Šã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥å‚ç…§&lt;a class=&#34;link&#34; href=&#34;https://primo.af/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å®˜ç½‘&lt;/a&gt;æˆ–æŸ¥çœ‹å®ƒçš„ &lt;a class=&#34;link&#34; href=&#34;https://github.com/primo-app/primo-desktop&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GitHub é¡µé¢&lt;/a&gt;äº†è§£æ›´å¤šä¿¡æ¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://primo.af/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Primo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç»“è¯­&#34;&gt;ç»“è¯­&lt;/h3&gt;
&lt;p&gt;è¿˜æœ‰å¾ˆå¤šæ–‡ç« ä¸­æ²¡æœ‰åˆ—å‡ºçš„ç½‘ç«™ç”Ÿæˆå·¥å…·ã€‚ç„¶è€Œï¼Œæˆ‘è¯•å›¾æåˆ°æœ€å¥½çš„é™æ€ç”Ÿæˆå™¨ï¼Œä¸ºæ‚¨æä¾›æœ€å¿«çš„åŠ è½½æ—¶é—´ï¼Œæœ€å¥½çš„å®‰å…¨æ€§å’Œä»¤äººå°è±¡æ·±åˆ»çš„çµæ´»æ€§ã€‚&lt;/p&gt;
&lt;p&gt;åˆ—è¡¨ä¸­æ²¡æœ‰ä½ æœ€å–œæ¬¢çš„å·¥å…·ï¼Ÿåœ¨ä¸‹é¢çš„è¯„è®ºä¸­å‘Šè¯‰æˆ‘ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://itsfoss.com/open-source-static-site-generators/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://itsfoss.com/open-source-static-site-generators/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://itsfoss.com/author/ankush/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Ankush Das&lt;/a&gt;
é€‰é¢˜ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lujun9972&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;lujun9972&lt;/a&gt;
è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Xiaobin.Liu&lt;/a&gt;
æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/wxy&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;wxy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/LCTT/TranslateProject&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;LCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://linux.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Linuxä¸­å›½&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Linuxå‘½ä»¤è¡Œå…‰æ ‡æ“ä½œå¿«æ·é”®</title>
        <link>https://lxb.wiki/9eb2da78/</link>
        <pubDate>Sun, 25 Sep 2022 22:05:44 +0800</pubDate>
        
        <guid>https://lxb.wiki/9eb2da78/</guid>
        <description>&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦–ï¼š&lt;code&gt;Ctrl + a&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç§»åŠ¨å…‰æ ‡åˆ°è¡Œå°¾ï¼š&lt;code&gt;Ctrl + e&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç§»åŠ¨å…‰æ ‡åˆ°ä¸Šä¸€ä¸ªå•è¯çš„å¼€å¤´ï¼š&lt;code&gt;Ctrl + â†&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç§»åŠ¨å…‰æ ‡åˆ°ä¸‹ä¸€ä¸ªå•è¯çš„å¼€å¤´ï¼š&lt;code&gt;Ctrl + â†’&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ é™¤å…‰æ ‡ä¹‹å‰çš„å•è¯ï¼š&lt;code&gt;Ctrl + w&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¢å¤åˆšåˆšåˆ é™¤çš„å­—ç¬¦ï¼š&lt;code&gt;Ctrl + y&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¸…é™¤å…‰æ ‡åˆ°è¡Œå°¾çš„å†…å®¹ï¼š&lt;code&gt;Ctrl + k&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¸…é™¤å…‰æ ‡åˆ°è¡Œé¦–çš„å†…å®¹ï¼š&lt;code&gt;Ctrl + u&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å­—ç¬¦ï¼š&lt;code&gt;Backspace&lt;/code&gt; æˆ– &lt;code&gt;Ctrl + h&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å­—ç¬¦ï¼š&lt;code&gt;Delete&lt;/code&gt; æˆ– &lt;code&gt;Ctrl + d&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å…‰æ ‡å‘ä¸Šæ»šåŠ¨ä¸€é¡µï¼š&lt;code&gt;Shift + Page Up&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å…‰æ ‡å‘ä¸‹æ»šåŠ¨ä¸€é¡µï¼š&lt;code&gt;Shift + Page Down&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç§»åŠ¨å…‰æ ‡åˆ°æ–‡æœ¬çš„å¼€å¤´ï¼š&lt;code&gt;Shift + Home&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç§»åŠ¨å…‰æ ‡åˆ°æ–‡æœ¬çš„æœ«å°¾ï¼š&lt;code&gt;Shift + End&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;äº¤æ¢å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å­—ç¬¦ï¼š&lt;code&gt;Ctrl + t&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¤åˆ¶å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å­—ç¬¦ï¼š&lt;code&gt;Ctrl + Shift + c&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç²˜è´´å¤åˆ¶çš„å†…å®¹ï¼š&lt;code&gt;Ctrl + Shift + v&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ’¤æ¶ˆæœ€åçš„æ“ä½œï¼š&lt;code&gt;Ctrl + z&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é‡åšè¢«æ’¤æ¶ˆçš„æ“ä½œï¼š&lt;code&gt;Ctrl + Shift + z&lt;/code&gt; æˆ– &lt;code&gt;Ctrl + y&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨å‘½ä»¤è¡Œå†å²è®°å½•ä¸­å‘ä¸Šæ»šåŠ¨ï¼š&lt;code&gt;Ctrl + p&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨å‘½ä»¤è¡Œå†å²è®°å½•ä¸­å‘ä¸‹æ»šåŠ¨ï¼š&lt;code&gt;Ctrl + n&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨å‘½ä»¤è¡Œå†å²è®°å½•ä¸­æœç´¢å‘½ä»¤ï¼š&lt;code&gt;Ctrl + r&lt;/code&gt;ï¼Œç„¶åè¾“å…¥å…³é”®å­—è¿›è¡Œæœç´¢&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨å‘½ä»¤è¡Œå†å²è®°å½•ä¸­é‡å¤ä¸Šä¸€ä¸ªå‘½ä»¤ï¼š&lt;code&gt;Ctrl + o&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨å‘½ä»¤è¡Œå†å²è®°å½•ä¸­ç¼–è¾‘ä¸Šä¸€ä¸ªå‘½ä»¤ï¼š&lt;code&gt;Ctrl + x + e&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¸…é™¤å½“å‰è¡Œçš„å‘½ä»¤ï¼š&lt;code&gt;Ctrl + c&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†å…‰æ ‡ç½®äºå½“å‰è¡Œå¹¶æ¸…é™¤ï¼š&lt;code&gt;Ctrl + l&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªç»ˆç«¯ä¼šè¯ï¼š&lt;code&gt;Ctrl + Alt + â†’&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªç»ˆç«¯ä¼šè¯ï¼š&lt;code&gt;Ctrl + Alt + â†&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªå•è¯çš„å¼€å¤´ï¼š&lt;code&gt;Alt + f&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªå•è¯çš„å¼€å¤´ï¼š&lt;code&gt;Alt + b&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†å…‰æ ‡ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œçš„å¼€å¤´ï¼š&lt;code&gt;Ctrl + n&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†å…‰æ ‡ç§»åŠ¨åˆ°ä¸Šä¸€è¡Œçš„å¼€å¤´ï¼š&lt;code&gt;Ctrl + p&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç§»åŠ¨å…‰æ ‡åˆ°ä¸‹ä¸€å±çš„å¼€å¤´ï¼š&lt;code&gt;Ctrl + v&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç§»åŠ¨å…‰æ ‡åˆ°ä¸Šä¸€å±çš„å¼€å¤´ï¼š&lt;code&gt;Ctrl + Shift + v&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœç´¢å‘½ä»¤å†å²è®°å½•ä¸­çš„ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹ï¼š&lt;code&gt;Ctrl + s&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœç´¢å‘½ä»¤å†å²è®°å½•ä¸­çš„ä¸Šä¸€ä¸ªåŒ¹é…é¡¹ï¼š&lt;code&gt;Ctrl + r&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†å½“å‰è¡Œçš„å‘½ä»¤è¿½åŠ åˆ°å‘½ä»¤å†å²è®°å½•ä¸­ï¼š&lt;code&gt;Ctrl + Shift + â†‘&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†å½“å‰è¡Œçš„å‘½ä»¤è¿½åŠ åˆ°å‘½ä»¤å†å²è®°å½•ä¸­ï¼š&lt;code&gt;Ctrl + Shift + â†“&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†å½“å‰å‘½ä»¤è¡Œå¤åˆ¶åˆ°å‰ªè´´æ¿ï¼š&lt;code&gt;Ctrl + Shift + c&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†å‰ªè´´æ¿ä¸­çš„å†…å®¹ç²˜è´´åˆ°å‘½ä»¤è¡Œï¼š&lt;code&gt;Ctrl + Shift + v&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>è§£å†³ctrl&#43;å·¦å³æ–¹å‘é”®å¤±æ•ˆ</title>
        <link>https://lxb.wiki/1188538d/</link>
        <pubDate>Sun, 25 Sep 2022 21:57:50 +0800</pubDate>
        
        <guid>https://lxb.wiki/1188538d/</guid>
        <description>&lt;p&gt;é—®é¢˜ï¼š
åœ¨ç»ˆç«¯æŒ‰ä¸‹ ctrl + å·¦/å³ æ–¹å‘é”®æ—¶ï¼Œå‡ºç°ä»¥ä¸‹å­—ç¬¦&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ctrl+ æ–¹å‘é”®çš„ç»“æœ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;;5D
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;;5C
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£å†³ï¼š
æ–°å»º &lt;code&gt;~/.inputrc&lt;/code&gt; æ–‡ä»¶ï¼Œæ–°å¢ä»¥ä¸‹å†…å®¹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# mappings for Ctrl-left-arrow and Ctrl-right-arrow for word moving&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\e[1;5C&amp;#34;&lt;/span&gt;: forward-word
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\e[1;5D&amp;#34;&lt;/span&gt;: backward-word
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\e[5C&amp;#34;&lt;/span&gt;: forward-word
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\e[5D&amp;#34;&lt;/span&gt;: backward-word
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\e\e[C&amp;#34;&lt;/span&gt;: forward-word
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\e\e[D&amp;#34;&lt;/span&gt;: backward-word
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‚è€ƒèµ„æ–™
&lt;a class=&#34;link&#34; href=&#34;https://www.linuxfromscratch.org/lfs/view/11.3/chapter09/inputrc.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.linuxfromscratch.org/lfs/view/11.3/chapter09/inputrc.html&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Jenkins åƒµå°¸ä»»åŠ¡&amp;æ’é˜Ÿä»»åŠ¡æ¸…ç†</title>
        <link>https://lxb.wiki/c71b015c/</link>
        <pubDate>Tue, 06 Sep 2022 20:52:29 +0800</pubDate>
        
        <guid>https://lxb.wiki/c71b015c/</guid>
        <description>&lt;h2 id=&#34;é€šè¿‡apiæ¸…ç†æ’é˜Ÿçš„ä»»åŠ¡&#34;&gt;é€šè¿‡APIæ¸…ç†æ’é˜Ÿçš„ä»»åŠ¡&lt;/h2&gt;
&lt;p&gt;åˆ é™¤å·²ç»å¼€å§‹æ„å»ºçš„ä»»åŠ¡ï¼ˆå·²æœ‰build_numberï¼‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl -X POST &amp;lt;jenkins-server&amp;gt;/job/&amp;lt;job-name&amp;gt;/&amp;lt;build-number&amp;gt;/doDelete
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯¹äºæ’é˜Ÿä¸­çš„ä»»åŠ¡&lt;/p&gt;
&lt;p&gt;æ³¨æ„ä¸‹é¢çš„id ä¸æ˜¯build_number&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl -X POST &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;http://jenkins/queue/cancelItem?id=85&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;To find x, you can parse the result of:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;http://jenkins/queue/api/json?tree&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;items&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;id,task&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;name&lt;span style=&#34;color:#f92672&#34;&gt;]]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;To cancel a build that is in progress:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;http://jenkins/job/&amp;lt;jobName&amp;gt;/y/stop
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;To find y, you can parse the result of:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;http://jenkins/job/&amp;lt;jobName&amp;gt;/lastBuild/api/json?tree&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;building,number
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;è„šæœ¬å¤„ç†æ’é˜Ÿä¸­çš„ä»»åŠ¡&#34;&gt;è„šæœ¬å¤„ç†æ’é˜Ÿä¸­çš„ä»»åŠ¡&lt;/h2&gt;
&lt;p&gt;è·å–jenkinsæ‰€æœ‰æ’é˜Ÿä¸­ä»»åŠ¡ï¼Œç„¶åé€šè¿‡jobnameè¿‡æ»¤ï¼Œç„¶åæƒ³ç²¾ç¡®åˆ°æŸä¸ªä»»åŠ¡å¯ä»¥åœ¨ä»»åŠ¡é‡Œé€šè¿‡åˆ¤æ–­ä»»åŠ¡çš„å‚æ•°æ¥ç¡®å®šï¼šæ¯”å¦‚å”¯ä¸€çš„IDã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-groovy&#34; data-lang=&#34;groovy&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;fun JenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cancelTaskInQueue&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;jobName: String&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; p1: String&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; p2: String&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; p3: String&lt;span style=&#34;color:#f92672&#34;&gt;){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    runScript&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;runScriptHtml&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;jobName&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; URLEncoder&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;encode&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;import hudson.model.*\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34; \n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;def q = Jenkins.instance.queue\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;q.items.findAll { \n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;  \n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;  it.task.name.startsWith(\&amp;#34;${jobName}\&amp;#34;)\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;  \n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;}.each { \n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;  p1=\&amp;#34;\&amp;#34;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;  p2=\&amp;#34;\&amp;#34;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;  p3=\&amp;#34;\&amp;#34;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;  it.params.eachLine{\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;    aa = it.split(\&amp;#34;=\&amp;#34;)\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;    \n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;    if(aa[0].equals(\&amp;#34;p1\&amp;#34;)){\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;      if(aa.length == 2){\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;      \tp1 = aa[1]\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;      }\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;    }\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;    if(aa[0].equals(\&amp;#34;p2\&amp;#34;)){\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;      if(aa.length == 2){\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;      \tp2 = aa[1]\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;      }\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;    }\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;    if(aa[0].equals(\&amp;#34;p3\&amp;#34;)){\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;      if(aa.length == 2){\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;      \tp3 = aa[1]\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;      }\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;    }\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;  }\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;  if(\&amp;#34;${p1}\&amp;#34;.equals(p1) &amp;amp;&amp;amp; \&amp;#34;${p2}\&amp;#34;.equals(p2) &amp;amp;&amp;amp; \&amp;#34;${p3}\&amp;#34;.equals(p3)){\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;    println(\&amp;#34;cancel auto build ${p1}:${p2} is ${p3}\&amp;#34;)\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;    q.cancel(it);\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;  }\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;}\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\n&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;UTF-8&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;æ¸…é™¤æ®µæ—¶é—´å†…å¤§é‡å †ç§¯çš„ä»»åŠ¡&#34;&gt;æ¸…é™¤æ®µæ—¶é—´å†…å¤§é‡å †ç§¯çš„ä»»åŠ¡&lt;/h2&gt;
&lt;p&gt;è¿›å…¥ &lt;strong&gt;Manage Jenkins -&amp;gt; Script Console&lt;/strong&gt; , ç„¶åæ‰§è¡Œåé¢çš„è„šæœ¬&lt;/p&gt;
&lt;h3 id=&#34;å•æ¡ç»“æŸä»»åŠ¡&#34;&gt;å•æ¡ç»“æŸä»»åŠ¡&lt;/h3&gt;
&lt;p&gt;æŸ¥çœ‹è¿›ç¨‹çš„åå­—&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-groovy&#34; data-lang=&#34;groovy&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Thread&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getAllStackTraces&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;().&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;keySet&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;().&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;each&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  t &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; println&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;name:&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;t&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getName&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;())&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿›ç¨‹åå­—ç»“æœç¤ºä¾‹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;name:Thread-90
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;name:Scheduler-174573182-1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;name:Thread-116
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;name:Thread-110
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;name:Thread-83
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;name:org.jenkinsci.plugins.workflow.steps.SynchronousNonBlockingStepExecution &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#52]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;name:SCMTrigger &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#10]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœæ­¢ç‰¹å®šè¿›ç¨‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-groovy&#34; data-lang=&#34;groovy&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Thread&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getAllStackTraces&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;().&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;keySet&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;().&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;each&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  t &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;t&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getName&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()==&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;åˆšæ‰æŸ¥å‡ºæ¥çš„æŸæ¡è¿›ç¨‹åå­—&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;   t&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;interrupt&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ æ‰æ‰€æœ‰è¿›ç¨‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-groovy&#34; data-lang=&#34;groovy&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Thread&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getAllStackTraces&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;().&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;keySet&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;().&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;each&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  t &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;   t&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;interrupt&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ¸…æ‰æ‰€æœ‰build-queue&#34;&gt;æ¸…æ‰æ‰€æœ‰Build Queue&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-groovy&#34; data-lang=&#34;groovy&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Jenkins&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;instance&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;queue&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;clear&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Dockerfileä¿®æ”¹hosts</title>
        <link>https://lxb.wiki/265eeb54/</link>
        <pubDate>Mon, 22 Aug 2022 21:07:36 +0800</pubDate>
        
        <guid>https://lxb.wiki/265eeb54/</guid>
        <description>&lt;p&gt;[toc]&lt;/p&gt;
&lt;p&gt;[toc]&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨å¾ˆå¤šåœºæ™¯ä¸­ï¼Œæ¯”å¦‚æˆ‘ä»¬éœ€è¦æ­å»ºä¸€ä¸ªé›†ç¾¤ï¼Œè¿™æ—¶å€™å®¹å™¨è¦è¯†åˆ«é›†ç¾¤å†…çš„èŠ‚ç‚¹ï¼Œå°±éœ€è¦æ·»åŠ ç›¸åº”çš„hostè§£æã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;èƒŒæ™¯&#34;&gt;èƒŒæ™¯&lt;/h2&gt;
&lt;p&gt;hostsæ–‡ä»¶å…¶å®å¹¶ä¸æ˜¯å­˜å‚¨åœ¨Dockeré•œåƒä¸­çš„ï¼Œ&lt;code&gt;/etc/hosts&lt;/code&gt;, &lt;code&gt;/etc/resolv.conf&lt;/code&gt;å’Œ&lt;code&gt;/etc/hostname&lt;/code&gt;ï¼Œæ˜¯å­˜åœ¨ä¸»æœºä¸Šçš„&lt;code&gt;/var/lib/docker/containers/(docker_id)&lt;/code&gt; ç›®å½•ä¸‹ï¼Œå®¹å™¨å¯åŠ¨æ—¶æ˜¯é€šè¿‡mountå°†è¿™äº›æ–‡ä»¶æŒ‚è½½åˆ°å®¹å™¨å†…éƒ¨çš„ã€‚å› æ­¤å¦‚æœåœ¨å®¹å™¨ä¸­ä¿®æ”¹è¿™äº›æ–‡ä»¶ï¼Œä¿®æ”¹éƒ¨åˆ†ä¸ä¼šå­˜åœ¨äºå®¹å™¨çš„top layerï¼Œè€Œæ˜¯ç›´æ¥å†™å…¥è¿™3ä¸ªæ–‡ä»¶ä¸­ã€‚å®¹å™¨é‡å¯åä¿®æ”¹å†…å®¹ä¸å­˜åœ¨çš„åŸå› æ˜¯Dockeræ¯æ¬¡åˆ›å»ºæ–°å®¹å™¨æ—¶ï¼Œä¼šæ ¹æ®å½“å‰docker0ä¸‹çš„æ‰€æœ‰èŠ‚ç‚¹çš„IPä¿¡æ¯é‡æ–°å»ºç«‹hostsæ–‡ä»¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ çš„ä¿®æ”¹ä¼šè¢«Dockerç»™è‡ªåŠ¨è¦†ç›–æ‰ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è§£å†³åŠæ³•&#34;&gt;è§£å†³åŠæ³•&lt;/h2&gt;
&lt;h3 id=&#34;opt-1-å¼€å¯æ—¶åŠ å‚æ•°&#34;&gt;OPT 1 å¼€å¯æ—¶åŠ å‚æ•°&lt;/h3&gt;
&lt;p&gt;å¼€å¯å®¹å™¨æ—¶å€™æ·»åŠ å‚æ•° &lt;code&gt;--add-host machine:ip&lt;/code&gt; å¯ä»¥å®ç°hostsä¿®æ”¹ï¼Œåœ¨å®¹å™¨ä¸­å¯ä»¥è¯†åˆ«machineä¸»æœºã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;docker run --name nginx nginx:latest --add-host&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;server:127.0.0.1&amp;#39;&lt;/span&gt; --add-host&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;server2:127.0.0.2&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;opt-2-ä¿®æ”¹å®¹å™¨hostsæŸ¥æ‰¾ç›®å½•&#34;&gt;OPT 2 ä¿®æ”¹å®¹å™¨hostsæŸ¥æ‰¾ç›®å½•&lt;/h3&gt;
&lt;p&gt;è®©å®¹å™¨å¼€å¯æ—¶å€™ï¼Œä¸å»æ‰¾&lt;code&gt;/etc/hosts&lt;/code&gt;æ–‡ä»¶ï¼Œè€Œæ˜¯å»æ‰¾è‡ªå®šä¹‰çš„hostsæ–‡ä»¶ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªDockerfileå®ä¾‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;FROM ubuntu:14.04
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;RUN cp /etc/hosts /tmp/hosts &lt;span style=&#34;color:#75715e&#34;&gt;#è·¯å¾„é•¿åº¦æœ€å¥½ä¿æŒä¸€è‡´&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;RUN mkdir -p -- /lib-override &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; cp /lib/x86_64-linux-gnu/libnss_files.so.2 /lib-override
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;RUN sed -i &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;s:/etc/hosts:/tmp/hosts:g&amp;#39;&lt;/span&gt; /lib-override/libnss_files.so.2
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ENV LD_LIBRARY_PATH /lib-override
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;RUN echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;192.168.0.1 node1&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; /tmp/hosts
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;opt-3-åœ¨-ä¸€ä¸ª-run-ä¸­-è®¾ç½®-etchosts-çš„åŒæ—¶è¿è¡Œéœ€è¦dnsæœåŠ¡çš„å®‰è£…&#34;&gt;OPT 3 åœ¨ ä¸€ä¸ª RUN ä¸­ è®¾ç½® /etc/hosts çš„åŒæ—¶ï¼Œè¿è¡Œéœ€è¦dnsæœåŠ¡çš„å®‰è£…&lt;/h3&gt;
&lt;p&gt;ç”±äºåœ¨ä¸åŒçš„ RUN å±‚ä¸­ï¼Œ/etc/hosts ä¼šè¢«dockeré‡å†™è¦†ç›–æ‰ï¼Œæ‰€ä»¥å¿…é¡»åœ¨åŒä¸€ä¸ª RUN å±‚ä¸­åŒæ—¶è®¾ç½®å¹¶ä½¿ç”¨å¯¹åº”çš„åŸŸåæ˜ å°„&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;RUN echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;111.8.8.111 mirror.npm.com&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; /etc/hosts &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; npm install 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Linuxä¸­shä¸bashçš„åŒºåˆ«</title>
        <link>https://lxb.wiki/9cfe95d9/</link>
        <pubDate>Sat, 13 Aug 2022 21:39:42 +0800</pubDate>
        
        <guid>https://lxb.wiki/9cfe95d9/</guid>
        <description>&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯shell&#34;&gt;ä»€ä¹ˆæ˜¯Shell&lt;/h2&gt;
&lt;p&gt;â€‹    åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒShellä¿—ç§°å£³ï¼ˆç”¨æ¥åŒºåˆ«äºæ ¸ï¼‰ï¼Œæ˜¯æŒ‡â€œä¸ºä½¿ç”¨è€…æä¾›æ“ä½œç•Œé¢â€çš„&lt;a class=&#34;link&#34; href=&#34;https://baike.baidu.com/item/%e8%bd%af%e4%bb%b6/12053?fromModule=lemma_inlink&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è½¯ä»¶&lt;/a&gt;ï¼ˆcommand interpreterï¼Œå‘½ä»¤è§£æå™¨ï¼‰ã€‚å®ƒç±»ä¼¼äº&lt;a class=&#34;link&#34; href=&#34;https://baike.baidu.com/item/DOS/32025?fromModule=lemma_inlink&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;DOS&lt;/a&gt;ä¸‹çš„&lt;a class=&#34;link&#34; href=&#34;https://baike.baidu.com/item/COMMAND.COM/8063418?fromModule=lemma_inlink&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;COMMAND.COM&lt;/a&gt;å’Œåæ¥çš„&lt;a class=&#34;link&#34; href=&#34;https://baike.baidu.com/item/cmd.exe/8192925?fromModule=lemma_inlink&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;cmd.exe&lt;/a&gt;ã€‚å®ƒæ¥æ”¶ç”¨æˆ·å‘½ä»¤ï¼Œç„¶åè°ƒç”¨ç›¸åº”çš„&lt;a class=&#34;link&#34; href=&#34;https://baike.baidu.com/item/%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f/5985445?fromModule=lemma_inlink&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;åº”ç”¨ç¨‹åº&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;â€‹    åŒæ—¶å®ƒåˆæ˜¯ä¸€ç§&lt;a class=&#34;link&#34; href=&#34;https://baike.baidu.com/item/%e7%a8%8b%e5%ba%8f%e8%ae%be%e8%ae%a1%e8%af%ad%e8%a8%80?fromModule=lemma_inlink&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ç¨‹åºè®¾è®¡è¯­è¨€&lt;/a&gt;ã€‚ä½œä¸ºå‘½ä»¤è¯­è¨€ï¼Œå®ƒäº¤äº’å¼è§£é‡Šå’Œæ‰§è¡Œç”¨æˆ·è¾“å…¥çš„å‘½ä»¤æˆ–è€…è‡ªåŠ¨åœ°è§£é‡Šå’Œæ‰§è¡Œé¢„å…ˆè®¾å®šå¥½çš„ä¸€è¿ä¸²çš„å‘½ä»¤ï¼›ä½œä¸ºç¨‹åºè®¾è®¡è¯­è¨€ï¼Œå®ƒå®šä¹‰äº†å„ç§&lt;a class=&#34;link&#34; href=&#34;https://baike.baidu.com/item/%e5%8f%98%e9%87%8f/3956968?fromModule=lemma_inlink&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å˜é‡&lt;/a&gt;å’Œ&lt;a class=&#34;link&#34; href=&#34;https://baike.baidu.com/item/%e5%8f%82%e6%95%b0/5934974?fromModule=lemma_inlink&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å‚æ•°&lt;/a&gt;ï¼Œå¹¶æä¾›äº†è®¸å¤šåœ¨&lt;a class=&#34;link&#34; href=&#34;https://baike.baidu.com/item/%e9%ab%98%e7%ba%a7%e8%af%ad%e8%a8%80?fromModule=lemma_inlink&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;é«˜çº§è¯­è¨€&lt;/a&gt;ä¸­æ‰å…·æœ‰çš„æ§åˆ¶ç»“æ„ï¼ŒåŒ…æ‹¬å¾ªç¯å’Œåˆ†æ”¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;shä»‹ç»&#34;&gt;shä»‹ç»&lt;/h2&gt;
&lt;p&gt;â€‹    shï¼ˆBourne Shellï¼‰æ˜¯ä¸€ä¸ªæ—©æœŸçš„é‡è¦shellï¼Œ1978å¹´ç”±å²è’‚å¤«Â·ä¼¯æ©ç¼–å†™ï¼Œå¹¶åŒVersion 7 Unixä¸€èµ·å‘å¸ƒã€‚&lt;/p&gt;
&lt;p&gt;â€‹    åœ¨ä¸€èˆ¬çš„linuxç³»ç»Ÿå½“ä¸­ï¼ˆå¦‚redhatï¼Œcentosï¼‰ï¼Œä½¿ç”¨shè°ƒç”¨æ‰§è¡Œè„šæœ¬ç›¸å½“äºæ‰“å¼€äº†bashçš„POSIXæ ‡å‡†æ¨¡å¼ï¼ˆç­‰æ•ˆäºbashçš„ &amp;ndash;posix å‚æ•°ï¼‰ä¸€èˆ¬çš„ï¼Œshæ˜¯bashçš„â€œå­é›†â€&lt;/p&gt;
&lt;h2 id=&#34;bashä»‹ç»&#34;&gt;bashä»‹ç»&lt;/h2&gt;
&lt;p&gt;â€‹    bashï¼ˆBourne-Again Shellï¼‰æ˜¯ä¸€ä¸ªä¸ºGNUè®¡åˆ’ç¼–å†™çš„Unix shellã€‚1987å¹´ç”±å¸ƒè±æ©Â·ç¦å…‹æ–¯åˆ›é€ ã€‚ä¸»è¦ç›®æ ‡æ˜¯ä¸POSIXæ ‡å‡†ä¿æŒä¸€è‡´ï¼ŒåŒæ—¶å…¼é¡¾å¯¹shçš„å…¼å®¹ï¼Œæ˜¯å„ç§Linuxå‘è¡Œç‰ˆæ ‡å‡†é…ç½®çš„Shellï¼Œåœ¨Linuxç³»ç»Ÿä¸Š/bin/shå¾€å¾€æ˜¯æŒ‡å‘/bin/bashçš„ç¬¦å·é“¾æ¥ã€‚&lt;/p&gt;
&lt;h2 id=&#34;shä¸bashçš„åŒºåˆ«&#34;&gt;shä¸bashçš„åŒºåˆ«ï¼š&lt;/h2&gt;
&lt;p&gt;â€‹    sh éµå¾ªPOSIXè§„èŒƒï¼šâ€œå½“æŸè¡Œä»£ç å‡ºé”™æ—¶ï¼Œä¸ç»§ç»­å¾€ä¸‹è§£é‡Šâ€ã€‚bash å°±ç®—å‡ºé”™ï¼Œä¹Ÿä¼šç»§ç»­å‘ä¸‹æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;shæµ‹è¯•è„šæœ¬&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#!/bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;source &lt;span style=&#34;color:#ae81ff&#34;&gt;233&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;error&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;bashæµ‹è¯•è„šæœ¬&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;source &lt;span style=&#34;color:#ae81ff&#34;&gt;233&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;error&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;æŸ¥çœ‹ç»“æœï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@localhost &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# sh test2.sh&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;test2.sh: ç¬¬ &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; è¡Œ:source: 233: æ²¡æœ‰æ‰¾åˆ°æ–‡ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@localhost &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# bash test2.sh&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;test2.sh:è¡Œ2: 233: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;error
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;å°ç»“ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;sh è·Ÿbashçš„åŒºåˆ«æ˜¯bashæ˜¯å¦å¼€å¯POSIXæ¨¡å¼ã€‚
shæ˜¯bashçš„ä¸€ç§ç‰¹æ®Šçš„æ¨¡å¼ï¼Œshå°±æ˜¯å¼€å¯äº†POSIXæ ‡å‡†çš„bashï¼Œ &lt;code&gt;/bin/sh&lt;/code&gt; ç›¸å½“äº &lt;code&gt;/bin/bash --posix&lt;/code&gt;ã€‚
åœ¨Linuxç³»ç»Ÿä¸Š/bin/shå¾€å¾€æ˜¯æŒ‡å‘&lt;code&gt;/bin/bash&lt;/code&gt;çš„ç¬¦å·é“¾æ¥&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Goå‘½ä»¤è¡Œåº“cobra</title>
        <link>https://lxb.wiki/e80bf483/</link>
        <pubDate>Sat, 16 Jul 2022 22:23:51 +0800</pubDate>
        
        <guid>https://lxb.wiki/e80bf483/</guid>
        <description>&lt;blockquote&gt;
&lt;p&gt;Cobra æ˜¯ä¸€ä¸ª Golang åŒ…ï¼Œå®ƒæä¾›äº†ç®€å•çš„æ¥å£æ¥åˆ›å»ºå‘½ä»¤è¡Œç¨‹åºã€‚åŒæ—¶ï¼ŒCobra ä¹Ÿæ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œç”¨æ¥ç”Ÿæˆåº”ç”¨æ¡†æ¶ï¼Œä»è€Œå¼€å‘ä»¥ Cobra ä¸ºåŸºç¡€çš„åº”ç”¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202305062144121.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸»è¦åŠŸèƒ½&#34;&gt;ä¸»è¦åŠŸèƒ½&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ç®€æ˜“çš„å­å‘½ä»¤è¡Œæ¨¡å¼ï¼Œå¦‚ app serverï¼Œ app fetch ç­‰ç­‰&lt;/li&gt;
&lt;li&gt;å®Œå…¨å…¼å®¹ posix å‘½ä»¤è¡Œæ¨¡å¼&lt;/li&gt;
&lt;li&gt;åµŒå¥—å­å‘½ä»¤ subcommand&lt;/li&gt;
&lt;li&gt;æ”¯æŒå…¨å±€ï¼Œå±€éƒ¨ï¼Œä¸²è” flags&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ cobra å¾ˆå®¹æ˜“çš„ç”Ÿæˆåº”ç”¨ç¨‹åºå’Œå‘½ä»¤ï¼Œä½¿ç”¨ cobra create appname å’Œ cobra add cmdname&lt;/li&gt;
&lt;li&gt;å¦‚æœå‘½ä»¤è¾“å…¥é”™è¯¯ï¼Œå°†æä¾›æ™ºèƒ½å»ºè®®ï¼Œå¦‚ app srverï¼Œå°†æç¤º srver æ²¡æœ‰ï¼Œæ˜¯ä¸æ˜¯ app server&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨ç”Ÿæˆ commands å’Œ flags çš„å¸®åŠ©ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨ç”Ÿæˆè¯¦ç»†çš„ help ä¿¡æ¯ï¼Œå¦‚ app help&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨è¯†åˆ«å¸®åŠ© flag -hï¼Œ&amp;ndash;help&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨ç”Ÿæˆåº”ç”¨ç¨‹åºåœ¨ bash ä¸‹å‘½ä»¤è‡ªåŠ¨å®ŒæˆåŠŸèƒ½&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨ç”Ÿæˆåº”ç”¨ç¨‹åºçš„ man æ‰‹å†Œ&lt;/li&gt;
&lt;li&gt;å‘½ä»¤è¡Œåˆ«å&lt;/li&gt;
&lt;li&gt;è‡ªå®šä¹‰ help å’Œ usage ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;å¯é€‰çš„ä¸ viper apps çš„ç´§å¯†é›†æˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;cobra-ä¸­çš„ä¸»è¦æ¦‚å¿µ&#34;&gt;cobra ä¸­çš„ä¸»è¦æ¦‚å¿µ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;commands è¡Œä¸º&lt;/li&gt;
&lt;li&gt;args å‘½ä»¤è¡Œå‚æ•°(æˆ–ç§°ä¸ºä½ç½®å‚æ•°)&lt;/li&gt;
&lt;li&gt;flags å¯¹è¡Œä¸ºçš„æ”¹å˜(å³å‘½ä»¤è¡Œé€‰é¡¹)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰§è¡Œå‘½ä»¤è¡Œç¨‹åºæ—¶çš„ä¸€èˆ¬æ ¼å¼ä¸ºï¼š &lt;code&gt;APPNAME COMMAND ARG --FLAG&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;åˆ›å»º-cobra-åº”ç”¨&#34;&gt;åˆ›å»º cobra åº”ç”¨&lt;/h2&gt;
&lt;p&gt;è·å–æœ€æ–°ç‰ˆæœ¬&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ go get -u github.com/spf13/cobra@latest
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®‰è£… cobra-cli&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;install&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;github&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;com&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;spf13&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cobra&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cli&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;@&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;latest&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ›å»º&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ cd /pathto/mysrc
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ go mod init
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ cobra-cli init
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‰§è¡Œåï¼Œè¯¥ç›®å½•ä¸‹ç”Ÿæˆçš„ç»“æ„å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â–¾ demo
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    â–¾ cmd/
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        root.go
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    main.go
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ä½¿ç”¨-cobra-ç¨‹åºç”Ÿæˆå‘½ä»¤ä»£ç &#34;&gt;ä½¿ç”¨ cobra ç¨‹åºç”Ÿæˆå‘½ä»¤ä»£ç &lt;/h2&gt;
&lt;p&gt;é™¤äº†ç”Ÿæˆåº”ç”¨ç¨‹åºæ¡†æ¶ï¼Œè¿˜å¯ä»¥ç”Ÿæˆå­å‘½ä»¤çš„ä»£ç æ–‡ä»¶ã€‚æ·»åŠ è‡ªå‘½ä»¤ mysub1&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ cd /pathto/mysrc
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ cobra-cli add mysub1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ä¸ºå‘½ä»¤æ·»åŠ å…·ä½“çš„åŠŸèƒ½&#34;&gt;ä¸ºå‘½ä»¤æ·»åŠ å…·ä½“çš„åŠŸèƒ½&lt;/h2&gt;
&lt;p&gt;æ‰“å¼€æ–‡ä»¶ &lt;code&gt;cmd/root.go&lt;/code&gt; ï¼Œæ‰¾åˆ°å˜é‡ rootCmd çš„åˆå§‹åŒ–è¿‡ç¨‹å¹¶ä¸ºä¹‹è®¾ç½® Run æ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Run&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cobra&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cobra demo program&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;},
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ›å»ºä¸€ä¸ª version Command ç”¨æ¥è¾“å‡ºå½“å‰çš„è½¯ä»¶ç‰ˆæœ¬ã€‚å…ˆåœ¨ cmd ç›®å½•ä¸‹æ·»åŠ  version.go æ–‡ä»¶ï¼Œç¼–è¾‘æ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;package&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; (
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;github.com/spf13/cobra&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;init&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;rootCmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;AddCommand&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;versionCmd&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;versionCmd&lt;/span&gt; = &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cobra&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Use&lt;/span&gt;:   &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;version&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Short&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Print the version number of cobrademo&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Long&lt;/span&gt;:  &lt;span style=&#34;color:#e6db74&#34;&gt;`All software has versions. This is cobrademo&amp;#39;s`&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Run&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cobra&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cobrademo version is v1.0&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    },
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ä¸º-command-æ·»åŠ é€‰é¡¹flags&#34;&gt;ä¸º Command æ·»åŠ é€‰é¡¹(flags)&lt;/h2&gt;
&lt;p&gt;é€‰é¡¹(flags)ç”¨æ¥æ§åˆ¶ Command çš„å…·ä½“è¡Œä¸ºã€‚æ ¹æ®é€‰é¡¹çš„ä½œç”¨èŒƒå›´ï¼Œå¯ä»¥æŠŠé€‰é¡¹åˆ†ä¸ºä¸¤ç±»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;persistent&lt;/li&gt;
&lt;li&gt;local&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯¹äº persistent ç±»å‹çš„é€‰é¡¹ï¼Œæ—¢å¯ä»¥è®¾ç½®ç»™è¯¥ Commandï¼Œåˆå¯ä»¥è®¾ç½®ç»™è¯¥ Command çš„å­ Commandã€‚å¯¹äºä¸€äº›å…¨å±€æ€§çš„é€‰é¡¹ï¼Œæ¯”è¾ƒé€‚åˆè®¾ç½®ä¸º persistent ç±»å‹ï¼Œæ¯”å¦‚æ§åˆ¶è¾“å‡ºçš„ verbose é€‰é¡¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Verbose&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;rootCmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;PersistentFlags&lt;/span&gt;().&lt;span style=&#34;color:#a6e22e&#34;&gt;BoolVarP&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Verbose&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;verbose&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;v&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;verbose output&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;local ç±»å‹çš„é€‰é¡¹åªèƒ½è®¾ç½®ç»™æŒ‡å®šçš„ Commandï¼Œæ¯”å¦‚ä¸‹é¢å®šä¹‰çš„ source é€‰é¡¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Source&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;rootCmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Flags&lt;/span&gt;().&lt;span style=&#34;color:#a6e22e&#34;&gt;StringVarP&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Source&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;source&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;s&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Source directory to read from&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯¥é€‰é¡¹ä¸èƒ½æŒ‡å®šç»™ rootCmd ä¹‹å¤–çš„å…¶å®ƒ Commandã€‚
é»˜è®¤æƒ…å†µä¸‹çš„é€‰é¡¹éƒ½æ˜¯å¯é€‰çš„ï¼Œä½†ä¸€äº›ç”¨ä¾‹è¦æ±‚ç”¨æˆ·å¿…é¡»è®¾ç½®æŸäº›é€‰é¡¹ï¼Œè¿™ç§æƒ…å†µ cobra ä¹Ÿæ˜¯æ”¯æŒçš„ï¼Œé€šè¿‡ Command çš„ MarkFlagRequired æ–¹æ³•æ ‡è®°è¯¥é€‰é¡¹å³å¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Name&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;rootCmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Flags&lt;/span&gt;().&lt;span style=&#34;color:#a6e22e&#34;&gt;StringVarP&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Name&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;user name (required)&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;rootCmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;MarkFlagRequired&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å‘½ä»¤è¡Œå‚æ•°arguments&#34;&gt;å‘½ä»¤è¡Œå‚æ•°(arguments)&lt;/h2&gt;
&lt;p&gt;å‘½ä»¤è¡Œå‚æ•°(arguments)ä¸å‘½ä»¤è¡Œé€‰é¡¹çš„åŒºåˆ«(flags/options)ã€‚ä»¥å¸¸è§çš„ ls å‘½ä»¤æ¥è¯´ï¼Œå…¶å‘½ä»¤è¡Œçš„æ ¼å¼ä¸ºï¼š
&lt;code&gt;ls [OPTION]... [FILE]â€¦&lt;/code&gt;
å…¶ä¸­çš„ OPTION å¯¹åº”æœ¬æ–‡ä¸­ä»‹ç»çš„ flagsï¼Œä»¥ &lt;code&gt;-&lt;/code&gt; æˆ– &lt;code&gt;--&lt;/code&gt; å¼€å¤´ï¼›è€Œ FILE åˆ™è¢«ç§°ä¸ºå‚æ•°(arguments)æˆ–ä½ç½®å‚æ•°ã€‚ä¸€èˆ¬çš„è§„åˆ™æ˜¯å‚æ•°åœ¨æ‰€æœ‰é€‰é¡¹çš„åé¢ï¼Œä¸Šé¢çš„ â€¦ è¡¨ç¤ºå¯ä»¥æŒ‡å®šå¤šä¸ªé€‰é¡¹å’Œå¤šä¸ªå‚æ•°ã€‚&lt;/p&gt;
&lt;p&gt;cobra é»˜è®¤æä¾›äº†ä¸€äº›éªŒè¯æ–¹æ³•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;NoArgs - å¦‚æœå­˜åœ¨ä»»ä½•ä½ç½®å‚æ•°ï¼Œè¯¥å‘½ä»¤å°†æŠ¥é”™&lt;/li&gt;
&lt;li&gt;ArbitraryArgs - è¯¥å‘½ä»¤ä¼šæ¥å—ä»»ä½•ä½ç½®å‚æ•°&lt;/li&gt;
&lt;li&gt;OnlyValidArgs - å¦‚æœæœ‰ä»»ä½•ä½ç½®å‚æ•°ä¸åœ¨å‘½ä»¤çš„ ValidArgs å­—æ®µä¸­ï¼Œè¯¥å‘½ä»¤å°†æŠ¥é”™&lt;/li&gt;
&lt;li&gt;MinimumNArgs(int) - è‡³å°‘è¦æœ‰ N ä¸ªä½ç½®å‚æ•°ï¼Œå¦åˆ™æŠ¥é”™&lt;/li&gt;
&lt;li&gt;MaximumNArgs(int) - å¦‚æœä½ç½®å‚æ•°è¶…è¿‡ N ä¸ªå°†æŠ¥é”™&lt;/li&gt;
&lt;li&gt;ExactArgs(int) - å¿…é¡»æœ‰ N ä¸ªä½ç½®å‚æ•°ï¼Œå¦åˆ™æŠ¥é”™&lt;/li&gt;
&lt;li&gt;ExactValidArgs(int) å¿…é¡»æœ‰ N ä¸ªä½ç½®å‚æ•°ï¼Œä¸”éƒ½åœ¨å‘½ä»¤çš„ ValidArgs å­—æ®µä¸­ï¼Œå¦åˆ™æŠ¥é”™&lt;/li&gt;
&lt;li&gt;RangeArgs(min, max) - å¦‚æœä½ç½®å‚æ•°çš„ä¸ªæ•°ä¸åœ¨åŒºé—´ min å’Œ max ä¹‹ä¸­ï¼ŒæŠ¥é”™&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å¸®åŠ©ä¿¡æ¯help-command&#34;&gt;å¸®åŠ©ä¿¡æ¯(help command)&lt;/h2&gt;
&lt;p&gt;cobra ä¼šè‡ªåŠ¨æ·»åŠ  &lt;code&gt;--help(-h)&lt;/code&gt; é€‰é¡¹ï¼ŒåŒæ—¶è¿˜è‡ªåŠ¨æ·»åŠ äº† help å­å‘½ï¼Œé»˜è®¤æ•ˆæœå’Œä½¿ç”¨ &amp;ndash;help é€‰é¡¹ç›¸åŒã€‚å¦‚æœä¸º help å‘½ä»¤ä¼ é€’å…¶å®ƒå‘½ä»¤ä½œä¸ºå‚æ•°ï¼Œåˆ™ä¼šæ˜¾ç¤ºå¯¹åº”å‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯ã€‚ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ help çš„å¤„ç†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;SetHelpCommand&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;SetHelpFunc&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;f&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;, []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;SetHelpTemplate&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;æç¤ºä¿¡æ¯usage-message&#34;&gt;æç¤ºä¿¡æ¯(usage message)&lt;/h2&gt;
&lt;p&gt;æç¤ºä¿¡æ¯å’Œå¸®åŠ©ä¿¡æ¯å¾ˆç›¸ä¼¼ï¼Œåªä¸è¿‡å®ƒæ˜¯åœ¨ä½ è¾“å…¥äº†éæ³•çš„å‚æ•°ã€é€‰é¡¹æˆ–å‘½ä»¤æ—¶æ‰å‡ºç°çš„ã€‚ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æç¤ºä¿¡æ¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;SetUsageFunc&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;f&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;error&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;SetUsageTemplate&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;åœ¨-commnad-æ‰§è¡Œå‰åæ‰§è¡Œé¢å¤–çš„æ“ä½œ&#34;&gt;åœ¨ Commnad æ‰§è¡Œå‰åæ‰§è¡Œé¢å¤–çš„æ“ä½œ&lt;/h2&gt;
&lt;p&gt;Command æ‰§è¡Œçš„æ“ä½œæ˜¯é€šè¿‡ Command.Run æ–¹æ³•å®ç°çš„ï¼Œä¸ºäº†æ”¯æŒæˆ‘ä»¬åœ¨ Run æ–¹æ³•æ‰§è¡Œçš„å‰åæ‰§è¡Œä¸€äº›å…¶å®ƒçš„æ“ä½œï¼ŒCommand è¿˜æä¾›äº†é¢å¤–çš„å‡ ä¸ªæ–¹æ³•ï¼Œå®ƒä»¬çš„æ‰§è¡Œé¡ºåºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;PersistentPreRun&lt;/li&gt;
&lt;li&gt;PreRun&lt;/li&gt;
&lt;li&gt;Run&lt;/li&gt;
&lt;li&gt;PostRun&lt;/li&gt;
&lt;li&gt;PersistentPostRun&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rootCmd&lt;/span&gt; = &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cobra&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Use&lt;/span&gt;:   &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cobrademo&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Short&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sparkdev&amp;#39;s cobra demo&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Long&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;the demo show how to use cobra package&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;PersistentPreRun&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cobra&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Inside rootCmd PersistentPreRun with args: %v\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    },
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;PreRun&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cobra&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Inside rootCmd PreRun with args: %v\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    },
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Run&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cobra&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cobra demo program, with args: %v\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    },
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;PostRun&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cobra&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Inside rootCmd PostRun with args: %v\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    },
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;PersistentPostRun&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cobra&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Inside rootCmd PersistentPostRun with args: %v\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    },
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ä»£ç è§£æ&#34;&gt;ä»£ç è§£æ&lt;/h2&gt;
&lt;h3 id=&#34;command-ç»“æ„ä½“&#34;&gt;Command ç»“æ„ä½“&lt;/h3&gt;
&lt;p&gt;Command ç»“æ„ä½“æ˜¯ cobra æŠ½è±¡å‡ºæ¥çš„æ ¸å¿ƒæ¦‚å¿µï¼Œå®ƒçš„å®ä¾‹è¡¨ç¤ºä¸€ä¸ªå‘½ä»¤æˆ–è€…æ˜¯ä¸€ä¸ªå‘½ä»¤çš„å­å‘½ä»¤ã€‚ä¸‹é¢çš„ä»£ç ä»…å±•ç¤º Command ç»“æ„ä½“ä¸­ä¸€äº›æ¯”è¾ƒé‡è¦çš„å­—æ®µï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; {    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ç”¨æˆ·é€šè¿‡æŒ‡å®š Run å‡½æ•°æ¥å®Œæˆå‘½ä»¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// PreRun å’Œ PostRun åˆ™å…è®¸ç”¨æˆ·åœ¨ Run è¿è¡Œçš„å‰åæ—¶æœºæ‰§è¡Œè‡ªå®šä¹‰ä»£ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;PersistentPreRun&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;PreRun&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Run&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;PostRun&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;PersistentPostRun&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// commands å­—æ®µåŒ…å«äº†è¯¥å‘½ä»¤çš„æ‰€æœ‰å­å‘½ä»¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;commands&lt;/span&gt; []&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// parent å­—æ®µè®°å½•äº†è¯¥å‘½ä»¤çš„çˆ¶å‘½ä»¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;parent&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// è¯¥å‘½ä»¤çš„ help å­å‘½ä»¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;helpCommand&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ‰§è¡Œå‘½ä»¤çš„é€»è¾‘&#34;&gt;æ‰§è¡Œå‘½ä»¤çš„é€»è¾‘&lt;/h3&gt;
&lt;p&gt;cobra åŒ…å¯åŠ¨ç¨‹åºæ‰§è¡Œçš„ä»£ç ä¸€èˆ¬ä¸ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Execute&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Execute() å‡½æ•°ä¼šè°ƒç”¨æˆ‘ä»¬å®šä¹‰çš„ rootCmd(Command çš„ä¸€ä¸ªå®ä¾‹)çš„ Execute() æ–¹æ³•ã€‚
åœ¨ Command çš„ Execute() æ–¹æ³•ä¸­åˆè°ƒç”¨äº† Command çš„ ExecuteC() æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„è°ƒç”¨å †æ ˆçœ‹åˆ°æ‰§è¡Œå‘½ä»¤é€»è¾‘çš„è°ƒç”¨è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Execute&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&amp;gt;                  &lt;span style=&#34;color:#75715e&#34;&gt;// main.go
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;rootCmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Execute&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&amp;gt;              &lt;span style=&#34;color:#75715e&#34;&gt;// root.go
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ExecuteC&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&amp;gt;                   &lt;span style=&#34;color:#75715e&#34;&gt;// command.go
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;execute&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;flags&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&amp;gt;             &lt;span style=&#34;color:#75715e&#34;&gt;// command.go
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Run&lt;/span&gt;()                           &lt;span style=&#34;color:#75715e&#34;&gt;// command.go
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;c.Run() æ–¹æ³•å³ç”¨æˆ·ä¸ºå‘½ä»¤(Command) è®¾ç½®çš„æ‰§è¡Œé€»è¾‘ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è§£æå‘½ä»¤è¡Œå­å‘½ä»¤&#34;&gt;è§£æå‘½ä»¤è¡Œå­å‘½ä»¤&lt;/h3&gt;
&lt;p&gt;ExecuteC() æ–¹æ³•ä¸­ï¼Œåœ¨æ‰§è¡Œ execute() æ–¹æ³•å‰ï¼Œéœ€è¦å…ˆé€šè¿‡ Find() æ–¹æ³•è§£æå‘½ä»¤è¡Œä¸Šçš„å­å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;flags&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Find&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¯”å¦‚æˆ‘ä»¬æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ ./myApp mycmd1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£æå‡ºçš„ cmd å°±æ˜¯ imamycmd1ge å­å‘½ä»¤ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ‰§è¡Œ mycmd1 å­å‘½ä»¤çš„æ‰§è¡Œé€»è¾‘ã€‚&lt;/p&gt;
&lt;p&gt;Find() æ–¹æ³•çš„é€»è¾‘å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ ./myApp help mycmd1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œçš„ myApp å¯¹åº”ä»£ç ä¸­çš„ rootCmdï¼ŒFind() æ–¹æ³•ä¸­å®šä¹‰äº†ä¸€ä¸ªåç§°ä¸º innerfind çš„å‡½æ•°ï¼Œinnerfind ä»å‚æ•°ä¸­è§£æå‡ºä¸‹ä¸€ä¸ªåç§°ï¼Œè¿™é‡Œæ˜¯ helpï¼Œç„¶åä» rootCmd å¼€å§‹æŸ¥æ‰¾è§£æå‡ºçš„åç§° help æ˜¯ä¸æ˜¯å½“å‰å‘½ä»¤çš„å­å‘½ä»¤ï¼Œå¦‚æœ help æ˜¯ rootCmd çš„å­å‘½ä»¤ï¼Œç»§ç»­æŸ¥æ‰¾ã€‚æ¥ä¸‹æ¥æŸ¥æ‰¾åç§° mycmd1ï¼Œå‘ç° mycmd1 ä¸æ˜¯ help çš„å­å‘½ä»¤ï¼Œinnerfind å‡½æ•°å°±è¿”å› help å‘½ä»¤ã€‚execute() æ–¹æ³•ä¸­å°±æ‰§è¡Œè¿™ä¸ªæ‰¾åˆ°çš„ help å­å‘½ä»¤ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸ºæ ¹å‘½ä»¤æ·»åŠ -help-å­å‘½ä»¤&#34;&gt;ä¸ºæ ¹å‘½ä»¤æ·»åŠ  help å­å‘½ä»¤&lt;/h3&gt;
&lt;p&gt;åœ¨æ‰§è¡Œ ExecuteC() æ–¹æ³•æ—¶ï¼Œcobra ä¼šä¸ºæ ¹å‘½ä»¤æ·»åŠ ä¸€ä¸ª help å­å‘½ä»¤ï¼Œè¿™ä¸ªå­å‘½ä»¤ä¸»è¦ç”¨æ¥æä¾›å­å‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯ã€‚å› ä¸ºä»»ä½•ä¸€ä¸ªç¨‹åºéƒ½éœ€è¦æä¾›è¾“å‡ºå¸®åŠ©ä¿¡æ¯çš„æ–¹å¼ï¼Œæ‰€ä»¥ cobra å°±ä¸ºå®ƒå®ç°äº†ä¸€å¥—é»˜è®¤çš„é€»è¾‘ã€‚help å­å‘½ä»¤æ˜¯é€šè¿‡ InitDefaultHelpCmd() æ–¹æ³•æ·»åŠ çš„ï¼Œå…¶å®ç°ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// InitDefaultHelpCmd adds default help command to c.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// It is called automatically by executing the c or by calling help and usage.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// If c already has help command or c has no subcommands, it will do nothing.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;) &lt;span style=&#34;color:#a6e22e&#34;&gt;InitDefaultHelpCmd&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; !&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;HasSubCommands&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;helpCommand&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;helpCommand&lt;/span&gt; = &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;Use&lt;/span&gt;:   &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;help [command]&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;Short&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Help about any command&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;Long&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;`Help provides help for any command in the application.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Simply type `&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Name&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;` help [path to command] for full details.`&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;Run&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;_&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;e&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Root&lt;/span&gt;().&lt;span style=&#34;color:#a6e22e&#34;&gt;Find&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;e&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Unknown help topic %#q\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Root&lt;/span&gt;().&lt;span style=&#34;color:#a6e22e&#34;&gt;Usage&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;InitDefaultHelpFlag&lt;/span&gt;() &lt;span style=&#34;color:#75715e&#34;&gt;// make possible &amp;#39;help&amp;#39; flag to be shown
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                    &lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Help&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            },
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;RemoveCommand&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;helpCommand&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;AddCommand&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;helpCommand&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;å¦‚æœæ²¡æœ‰æ‰¾åˆ°ç”¨æˆ·æŒ‡å®šçš„å­å‘½ä»¤&lt;/strong&gt;,å°±è¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼Œå¹¶è°ƒç”¨æ ¹å‘½ä»¤çš„ Usage() æ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Unknown help topic %#q\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;args&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Root&lt;/span&gt;().&lt;span style=&#34;color:#a6e22e&#34;&gt;Usage&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;cobra é»˜è®¤æä¾›çš„ usage æ¨¡æ¿å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`Usage:&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.Runnable&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;{{&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;.UseLine&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;end&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.HasAvailableSubCommands&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;{{&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;.CommandPath&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; [command]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;end&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;gt&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;len&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.Aliases&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Aliases:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;{{&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;.NameAndAliases&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;end&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.HasExample&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Examples:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;{{&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;.Example&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;end&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.HasAvailableSubCommands&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Available Commands:&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;range&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.Commands&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;or&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.IsAvailableCommand&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;eq&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.Name&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;help&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;))&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;{{&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;rpad&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.Name&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.NamePadding&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;}}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;{{&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;.Short&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;end&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;end&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;end&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.HasAvailableLocalFlags&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Flags:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;{{&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;.LocalFlags.FlagUsages&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;trimTrailingWhitespaces&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;end&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.HasAvailableInheritedFlags&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Global Flags:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;{{&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;.InheritedFlags.FlagUsages&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;trimTrailingWhitespaces&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;end&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.HasHelpSubCommands&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Additional help topics:&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;range&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.Commands&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.IsAdditionalHelpTopicCommand&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;{{&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;rpad&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.CommandPath&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.CommandPathPadding&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;{{&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;.Short&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;end&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;end&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;end&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.HasAvailableSubCommands&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Use &amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;{{&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;.CommandPath&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; [command] --help&amp;#34; for more information about a command.&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;end&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;å¦‚æœæ‰¾åˆ°ç”¨æˆ·æŒ‡å®šçš„å­å‘½ä»¤&lt;/strong&gt;ï¼Œå°±ä¸ºå­å‘½ä»¤æ·»åŠ é»˜è®¤çš„ help flagï¼Œå¹¶æ‰§è¡Œå…¶ Help() æ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;InitDefaultHelpFlag&lt;/span&gt;() &lt;span style=&#34;color:#75715e&#34;&gt;// make possible &amp;#39;help&amp;#39; flag to be shown
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cmd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Help&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡ cobra å®ç°äº†ä¸€ä¸ªå‘½ä»¤è¡Œç¨‹åº myAppï¼Œå®ƒæœ‰ä¸€ä¸ªå­å‘½ä»¤ imageï¼Œimage ä¹Ÿæœ‰ä¸€ä¸ªå­å‘½ä»¤ timesã€‚æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ ./myApp help mycmd1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨ help å‘½ä»¤çš„ Run æ–¹æ³•ä¸­ï¼Œc ä¸º help å‘½ä»¤ï¼Œ args ä¸º mycmd1ã€‚ç»“æœå°±æ˜¯é€šè¿‡ help æŸ¥çœ‹ mycmd1 å‘½ä»¤çš„å¸®åŠ©æ–‡æ¡£ã€‚å¦‚æœ mycmd1 åé¢è¿˜æœ‰å…¶ä»–çš„å­å‘½ä»¤ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ ./myApp help mycmd1 mysub1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ™ c.Root().Find(args) é€»è¾‘ä¼šæ‰¾å‡ºå­å‘½ä»¤ mysub1(æ­¤æ—¶ args ä¸º mycmd1 mysub1)ï¼Œæœ€ç»ˆç”± help æŸ¥çœ‹ mysub1 å‘½ä»¤çš„å¸®åŠ©æ–‡æ¡£ã€‚
æ³¨æ„ï¼šhelp ä¿¡æ¯ä¸­åŒ…å« usage ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸ºå‘½ä»¤æ·»åŠ -help-flag&#34;&gt;ä¸ºå‘½ä»¤æ·»åŠ  help flag&lt;/h3&gt;
&lt;p&gt;é™¤äº†åœ¨ InitDefaultHelpCmd() æ–¹æ³•ä¸­ä¼šè°ƒç”¨ InitDefaultHelpFlag() æ–¹æ³•ï¼Œåœ¨ execute() æ–¹æ³•ä¸­æ‰§è¡Œå‘½ä»¤é€»è¾‘å‰ä¹Ÿä¼šè°ƒç”¨ InitDefaultHelpFlag() æ–¹æ³•ä¸ºå‘½ä»¤æ·»åŠ é»˜è®¤çš„ help flagï¼Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;InitDefaultHelpFlag&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‹é¢æ˜¯ InitDefaultHelpFlag() æ–¹æ³•çš„å®ç°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// InitDefaultHelpFlag adds default help flag to c.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// It is called automatically by executing the c or by calling help and usage.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// If c already has help flag, it will do nothing.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;) &lt;span style=&#34;color:#a6e22e&#34;&gt;InitDefaultHelpFlag&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;mergePersistentFlags&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Flags&lt;/span&gt;().&lt;span style=&#34;color:#a6e22e&#34;&gt;Lookup&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;help&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;usage&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;help for &amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Name&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;usage&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;this command&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;usage&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Name&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Flags&lt;/span&gt;().&lt;span style=&#34;color:#a6e22e&#34;&gt;BoolP&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;help&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;h&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;usage&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™è®©æˆ‘ä»¬ä¸å¿…ä¸ºå‘½ä»¤æ·»åŠ  help flag å°±å¯ä»¥ç›´æ¥ä½¿ç”¨&lt;/p&gt;
&lt;h3 id=&#34;è¾“å‡º-help-ä¿¡æ¯&#34;&gt;è¾“å‡º help ä¿¡æ¯&lt;/h3&gt;
&lt;p&gt;ä¸ç®¡æ˜¯ help å‘½ä»¤è¿˜æ˜¯ help falgï¼Œæœ€åéƒ½æ˜¯é€šè¿‡ HelpFunc() æ–¹æ³•æ¥è·å¾—è¾“å‡º help ä¿¡æ¯çš„é€»è¾‘ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// HelpFunc returns either the function set by SetHelpFunc for this command
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// or a parent, or it returns a function with default help behavior.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;) &lt;span style=&#34;color:#a6e22e&#34;&gt;HelpFunc&lt;/span&gt;() &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;, []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;helpFunc&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;helpFunc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;HasParent&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Parent&lt;/span&gt;().&lt;span style=&#34;color:#a6e22e&#34;&gt;HelpFunc&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Command&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;mergePersistentFlags&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tmpl&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;OutOrStdout&lt;/span&gt;(), &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;HelpTemplate&lt;/span&gt;(), &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœæˆ‘ä»¬æ²¡æœ‰æŒ‡å®šè‡ªå®šä¹‰çš„é€»è¾‘ï¼Œå°±æ‰¾çˆ¶å‘½ä»¤çš„ï¼Œå†æ²¡æœ‰å°±ç”¨ cobra çš„é»˜è®¤é€»è¾‘ã€‚cobra é»˜è®¤è®¾ç½®çš„å¸®åŠ©æ¨¡æ¿å¦‚ä¸‹(åŒ…å« usage)ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;with&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;or&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.Long&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.Short&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;trimTrailingWhitespaces&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;end&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;or&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.Runnable&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;.HasSubCommands&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;.UsageString&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}{{&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;end&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;}}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‚è€ƒèµ„æ–™ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://cobra.dev/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Cobra. Dev&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/spf13/cobra&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/spf13/cobra&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Jenkinsçš„Api</title>
        <link>https://lxb.wiki/6316d574/</link>
        <pubDate>Tue, 05 Jul 2022 20:56:19 +0800</pubDate>
        
        <guid>https://lxb.wiki/6316d574/</guid>
        <description>&lt;h2 id=&#34;æœ¯è¯­å®šä¹‰&#34;&gt;æœ¯è¯­å®šä¹‰&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;&lt;strong&gt;åè¯&lt;/strong&gt;&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;&lt;strong&gt;è¯´æ˜&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;job&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä»»åŠ¡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;payload&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åœ¨POSTè¯·æ±‚ä¸­æäº¤çš„æ•°æ®&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;{optionalFolderPath}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¯é€‰å‚æ•°ï¼šä»»åŠ¡æ‰€åœ¨ç›®å½•çš„è·¯å¾„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;{job_name}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¿…é¡»å‚æ•°ï¼šä»»åŠ¡åç§°&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ GET/POST æ—¶éœ€è¦é™„åŠ  HTTP è®¤è¯æ‰èƒ½è®¿é—® API&lt;/li&gt;
&lt;li&gt;æœ¬æ–‡ä½¿ç”¨çš„æ•°æ®ç»“æ„å¯ä»¥åœ¨ jenkins-rest/domain ä¸­æŸ¥çœ‹è¯¦ç»†å®šä¹‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;apiç±»å‹&#34;&gt;APIç±»å‹&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;&lt;strong&gt;APIç±»å‹&lt;/strong&gt;&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;&lt;strong&gt;è¯´æ˜&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;JobsAP&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä»»åŠ¡ç®¡ç†ï¼ˆä»»åŠ¡ä¿¡æ¯ã€åˆ›å»ºã€ä¿®æ”¹ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;OBPluginManagerAPI&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ’ä»¶ç®¡ç†ï¼ˆæ’ä»¶ä¿¡æ¯ã€å®‰è£…æ’ä»¶ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;QueueAPI&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä»»åŠ¡é˜Ÿåˆ—ç›¸å…³ï¼ˆé˜Ÿåˆ—çŠ¶æ€ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;StatisticsAPI&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Jenkinsç»Ÿè®¡ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;CrumbIssuerAPI&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç³»ç»Ÿå“ˆå¸Œå€¼ä¿¡æ¯ï¼ˆç”¨äºé˜²å¾¡CSRFæ”»å‡»ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SystemAPI&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Jenkinsç³»ç»ŸçŠ¶æ€ï¼ˆç‰ˆæœ¬ã€è·¯å¾„ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;apiæ±‡æ€»&#34;&gt;APIæ±‡æ€»&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;åç§°&lt;/th&gt;
&lt;th&gt;API&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;åˆ›å»º Job&lt;/td&gt;
&lt;td&gt;&lt;code&gt;POST http://localhost:8080/createItem/api/json&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ›´æ–° Job&lt;/td&gt;
&lt;td&gt;&lt;code&gt;POST http://localhost:8080/job/{job_name}/config.xml/api/json&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è·å– Job&lt;/td&gt;
&lt;td&gt;&lt;code&gt;GET http://localhost:8080/job/{job_name}/api/json&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è·å– JobXml&lt;/td&gt;
&lt;td&gt;&lt;code&gt;GET http://localhost:8080/job/{job_name}/config.xml/api/json&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;åˆ é™¤ Job&lt;/td&gt;
&lt;td&gt;&lt;code&gt;POST http://127.0.0.1:8080/{optionalFolderPath}job/{job_name}/doDelete&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable Job&lt;/td&gt;
&lt;td&gt;&lt;code&gt;POST http://127.0.0.1:8080/{optionalFolderPath}job/{job_name}/enable&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;disable Job&lt;/td&gt;
&lt;td&gt;&lt;code&gt;POST http://127.0.0.1:8080/{optionalFolderPath}job/{job_name}/disable&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è·å–ä»»åŠ¡æè¿°&lt;/td&gt;
&lt;td&gt;&lt;code&gt;GET http://127.0.0.1:8080/{optionalFolderPath}job/{job_name}/description&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è®¾ç½®ä»»åŠ¡æè¿°&lt;/td&gt;
&lt;td&gt;&lt;code&gt;POST http://127.0.0.1:8080/{optionalFolderPath}job/{job_name}/description&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;åˆ›å»º Build&lt;/td&gt;
&lt;td&gt;&lt;code&gt;POST http://localhost:8080/job/{job_name}/build/api/json&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è·å– QueueItem&lt;/td&gt;
&lt;td&gt;&lt;code&gt;GET http://localhost:8080/queue/item/17/api/json&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å–æ¶ˆä»»åŠ¡é˜Ÿåˆ—&lt;/td&gt;
&lt;td&gt;&lt;code&gt;POST http://127.0.0.1:8080/cancelItem?id={id}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ‰€æœ‰ä»»åŠ¡é˜Ÿåˆ—ä¿¡æ¯&lt;/td&gt;
&lt;td&gt;&lt;code&gt;GET http://127.0.0.1:8080/queue/api/json&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è·å– Buildä¿¡æ¯&lt;/td&gt;
&lt;td&gt;&lt;code&gt;GET http://localhost:8080/job/test/6/api/json&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è·å–ä¸Šæ¬¡æ„å»ºåºå·&lt;/td&gt;
&lt;td&gt;&lt;code&gt;GET http://127.0.0.1:8080/{optionalFolderPath}job/{job_name}/lastBuild/buildNumber&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è·å–ä¸Šæ¬¡æ„å»ºæ—¶é—´æˆ³&lt;/td&gt;
&lt;td&gt;&lt;code&gt;GET http://127.0.0.1:8080/{optionalFolderPath}job/{job_name}/lastBuild/buildTimestamp&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è·å–TXTæ—¥å¿—&lt;/td&gt;
&lt;td&gt;&lt;code&gt;GET http://localhost:8080/job/test/{build_number}/logText/progressiveText/api/json&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è·å– Html æ—¥å¿—&lt;/td&gt;
&lt;td&gt;&lt;code&gt;GET http://localhost:8080/job/test/{build_number}/logText/progressiveHtml/api/json&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç³»ç»Ÿå“ˆå¸Œå€¼ä¿¡æ¯&lt;/td&gt;
&lt;td&gt;&lt;code&gt;GET http://127.0.0.1:8080/crumbIssuer/api/xml?{key}={value}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;loadç»Ÿè®¡ä¿¡æ¯&lt;/td&gt;
&lt;td&gt;&lt;code&gt;GET http://127.0.0.1:8080/overallLoad/api/json&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ’ä»¶ç®¡ç†&lt;/td&gt;
&lt;td&gt;&lt;code&gt;GET http://127.0.0.1:8080/pluginManager/api/json&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å®‰è£…æ’ä»¶&lt;/td&gt;
&lt;td&gt;&lt;code&gt;POST http://127.0.0.1:8080/pluginManager/installNecessaryPlugins&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;apiè¯¦è¿°&#34;&gt;APIè¯¦è¿°&lt;/h2&gt;
&lt;h3 id=&#34;åˆ›å»º-job&#34;&gt;åˆ›å»º Job&lt;/h3&gt;
&lt;p&gt;jenkins çš„é…ç½®éƒ½æ˜¯é  xml çš„æ ¼å¼è½åœ°çš„,æ‰€ä»¥é…ç½®å…¶å®éƒ½æ˜¯ xml çš„å½¢å¼.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;POST http://127.0.0.1:8080/createItem
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;å‚æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;key&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;value&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;name ä»»åŠ¡åç§°&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;payload XMLé…ç½®æ–‡ä»¶&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;è¿”å›ç±»å‹ï¼šRequestStatus&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å­—æ®µ&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç±»å‹&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;value&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Boolean&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;errors&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;List&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;å¦‚ä½•çŸ¥é“ config.xmlåº”è¯¥å¦‚ä½•ç¼–å†™å‘¢?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥åœ¨ jenkins æ”¶å·¥åˆ›å»ºä¸€ä¸ªéœ€è¦çš„é¡¹ç›®,ç„¶åç¼–è¾‘å®Œæˆå,åˆ° jenkins å·¥ä½œç›®å½•ä¸‹ æ‰¾åˆ° jobs/{job_name}/config.xml ç”¨ä»–ä½œä¸ºæ¨¡æ¿æ¥ä¹¦å†™ä½ éœ€è¦çš„æ¨¡æ¿.&lt;/li&gt;
&lt;li&gt;é€šè¿‡è·å– xml çš„ api æ¥è·å–&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;GET http://localhost:8080/job/{job_name}/config.xml/api/json&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Java Client&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;jenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;createJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;auto_test_job&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; replacedText&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;String xml &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; jenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getJobXml&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;auto_test_job&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ›´æ–°job&#34;&gt;æ›´æ–°Job&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;POST http://localhost:8080/job/{job_name}/config.xml/api/json
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;å‚æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å­—æ®µ&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;payload&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;XMLé…ç½®æ–‡ä»¶&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;config.xmlçš„å†…å®¹ä¼ å…¥åˆ° body ä¸­,contentType è®¾ç½®ä¸º&lt;code&gt;text/xml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿”å›ç±»å‹ï¼šBoolean&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Java Client&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;jenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;updateJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;auto_test_job&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; replacedText&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;job-info-è·å–ä»»åŠ¡ä¿¡æ¯&#34;&gt;job-info è·å–ä»»åŠ¡ä¿¡æ¯&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;GET http://127.0.0.1:8080/{optionalFolderPath}job/{job_name}/api/json&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿”å›ç±»å‹ï¼šJobInfo&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å­—æ®µ&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç±»å‹&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;description&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;String&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æè¿°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;name&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;String&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é¡¹ç›®åç§°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;url&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;boolean&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è·¯å¾„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;buildable&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;String&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ˜¯å¦å¯æ„å»º&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;builds&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;List&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ„å»ºè®°å½•&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;lastBuild&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;BuildInfo&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸Šæ¬¡æ„å»ºè®°å½•&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;â€¦â€¦&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;delete-åˆ é™¤ä»»åŠ¡&#34;&gt;delete åˆ é™¤ä»»åŠ¡&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;POST http://127.0.0.1:8080/&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;optionalFolderPath&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;job/&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;project_name&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;/doDelete
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿”å›ç±»å‹ï¼šRequestStatus&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¡¥å……ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥ä½¿ç”¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;DELETE https://&amp;lt;Jenkins_url&amp;gt;/job/&amp;lt;job_name&amp;gt;/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„æœ€åæœ‰ä¸ª &lt;code&gt;/&lt;/code&gt;ï¼Œä¸åŠ  &lt;code&gt;/&lt;/code&gt; ä¸èƒ½æ­£å¸¸åˆ é™¤&lt;/p&gt;
&lt;h3 id=&#34;enableå…è®¸ä»»åŠ¡&#34;&gt;enableå…è®¸ä»»åŠ¡&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;POST http://127.0.0.1:8080/{optionalFolderPath}job/{project_name}/enable
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿”å›ç±»å‹ï¼šBoolean&lt;/p&gt;
&lt;h3 id=&#34;disable-ç¦æ­¢ä»»åŠ¡&#34;&gt;disable ç¦æ­¢ä»»åŠ¡&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;POST http://127.0.0.1:8080/{optionalFolderPath}job/{project_name}/disable
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿”å›ç±»å‹ï¼šBoolean&lt;/p&gt;
&lt;h3 id=&#34;get-description-è·å–ä»»åŠ¡æè¿°&#34;&gt;get-description è·å–ä»»åŠ¡æè¿°&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;GET http://127.0.0.1:8080/{optionalFolderPath}job/{project_name}/description
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿”å›ç±»å‹ï¼šString&lt;/p&gt;
&lt;h3 id=&#34;set-description-è®¾ç½®ä»»åŠ¡æè¿°&#34;&gt;set-description è®¾ç½®ä»»åŠ¡æè¿°&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;POST http://127.0.0.1:8080/{optionalFolderPath}job/{project_name}/description
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;å‚æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;key&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;value&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;description&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æè¿°&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;è¿”å›ç±»å‹ï¼šBoolean&lt;/p&gt;
&lt;h3 id=&#34;åˆ›å»º-build&#34;&gt;åˆ›å»º Build&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;POST http://127.0.0.1:8080/{optionalFolderPath}job/{job_name}/build
POST http://localhost:8080/job/{job_name}/build/api/json
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿”å›ç±»å‹ï¼š IntegerResponse&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å­—æ®µ&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç±»å‹&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;value&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Integer&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;errors&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;List&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;build-with-params-ä½¿ç”¨å‚æ•°åˆ›å»ºä»»åŠ¡&#34;&gt;build-with-params ä½¿ç”¨å‚æ•°åˆ›å»ºä»»åŠ¡&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;POST http://127.0.0.1:8080/&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;optionalFolderPath&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;job/&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;job_name&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;/buildWithParameters
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;å‚æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;key&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;value&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;payload&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Map&amp;lt;String, List&amp;gt; properties&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;è¿”å›ç±»å‹ï¼š IntegerResponse&lt;/p&gt;
&lt;p&gt;æ–°çš„æ„å»ºè¯·æ±‚æäº¤åˆ°æœåŠ¡å™¨æˆåŠŸåè¿”å›ä¸€ä¸ªç±»ä¼¼äºé˜Ÿåˆ—IDçš„ä¸œè¥¿,å› ä¸ºæ˜¯å¼‚æ­¥æ„å»º,é‚£ä¹ˆè¦è·å–æ„å»ºçš„çŠ¶æ€,å°±éœ€è¦,ç”¨è¿™ä¸ªé˜Ÿåˆ— idå»è¿›ä¸€æ­¥çš„è·å–. ä¾‹å¦‚:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ curl -v  -XPOST http://localhost:8080/job/test/build/api/json
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;*   Trying ::1...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;* TCP_NODELAY set
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;* Connected to localhost &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;::1&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; port &lt;span style=&#34;color:#ae81ff&#34;&gt;8080&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#0)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; POST /job/test/build/api/json HTTP/1.1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; Host: localhost:8080
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; User-Agent: curl/7.54.0
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; Accept: */*
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt; HTTP/1.1 &lt;span style=&#34;color:#ae81ff&#34;&gt;201&lt;/span&gt; Created
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt; Date: Sat, &lt;span style=&#34;color:#ae81ff&#34;&gt;05&lt;/span&gt; Jan &lt;span style=&#34;color:#ae81ff&#34;&gt;2019&lt;/span&gt; 08:33:45 GMT
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt; X-Content-Type-Options: nosniff
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt; Location: http://localhost:8080/queue/item/17/
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt; Content-Length: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt; Server: Jetty&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;9.4.z-SNAPSHOT&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;* Connection &lt;span style=&#34;color:#75715e&#34;&gt;#0 to host localhost left intact&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢çš„&lt;code&gt;Location: http://localhost:8080/queue/item/17/&lt;/code&gt;å°±æ˜¯è¿”å›çš„é˜Ÿåˆ—ä¿¡æ¯,ä¸‹é¢çš„ queueItem è·å–å°±æ˜¯ä¾èµ–è¿™ä¸ª.&lt;/p&gt;
&lt;h3 id=&#34;æ ¹æ®-queueid-è·å–-queueitem&#34;&gt;æ ¹æ® QueueId è·å– QueueItem&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GET http://localhost:8080/queue/item/17/api/json 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;å‚æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å­—æ®µ&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;{queueId}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä»»åŠ¡é˜Ÿåˆ—ID&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;è¿”å›ç±»å‹&lt;/strong&gt;ï¼šQueueItem&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ curl  http://localhost:8080/queue/item/17/api/json&lt;span style=&#34;color:#ae81ff&#34;&gt;\?&lt;/span&gt;pretty&lt;span style=&#34;color:#ae81ff&#34;&gt;\=&lt;/span&gt;true
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;_class&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;hudson.model.Queue&lt;/span&gt;$LeftItem&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;actions&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;_class&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;hudson.model.CauseAction&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;causes&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;_class&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;hudson.model.Cause&lt;/span&gt;$UserIdCause&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;shortDescription&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ç”±ç”¨æˆ· anonymous å¯åŠ¨&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;userId&amp;#34;&lt;/span&gt; : null,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;userName&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;anonymous&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;blocked&amp;#34;&lt;/span&gt; : false,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;buildable&amp;#34;&lt;/span&gt; : false,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt; : 17,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;inQueueSince&amp;#34;&lt;/span&gt; : 1546677225670,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;params&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;stuck&amp;#34;&lt;/span&gt; : false,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;task&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;_class&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;hudson.maven.MavenModuleSet&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;url&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;http://localhost:8080/job/test/&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;color&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;blue&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;url&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;queue/item/17/&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;why&amp;#34;&lt;/span&gt; : null,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cancelled&amp;#34;&lt;/span&gt; : false,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;executable&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;_class&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;hudson.maven.MavenModuleSetBuild&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;number&amp;#34;&lt;/span&gt; : 6,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;url&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;http://localhost:8080/job/test/6/&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;cancel-å–æ¶ˆä»»åŠ¡é˜Ÿåˆ—&#34;&gt;cancel å–æ¶ˆä»»åŠ¡é˜Ÿåˆ—&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;POST http://127.0.0.1:8080/cancelItem?id={id}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;å‚æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å­—æ®µ&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;{id}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä»»åŠ¡é˜Ÿåˆ—ID&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;è¿”å›ç±»å‹&lt;/strong&gt;ï¼šRequestStatus&lt;/p&gt;
&lt;h3 id=&#34;queue-æ‰€æœ‰ä»»åŠ¡é˜Ÿåˆ—ä¿¡æ¯&#34;&gt;queue æ‰€æœ‰ä»»åŠ¡é˜Ÿåˆ—ä¿¡æ¯&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;GET http://127.0.0.1:8080/queue/api/json
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;è¿”å›ç±»å‹&lt;/strong&gt;ï¼šList&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å­—æ®µ&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç±»å‹&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;blocked&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Boolean&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ˜¯å¦é˜»å¡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;buildable&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Boolean&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ˜¯å¦å¯æ„å»º&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;id&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Integer&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;inQueueSince&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Long&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;params&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Map&amp;lt;String, String&amp;gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä»»åŠ¡å‚æ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;task&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Task&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Taskä¸­åŒ…å«ä»»åŠ¡åç§°å’ŒURL&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;â€¦â€¦&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;è·å–-build-è¯¦æƒ…&#34;&gt;è·å– Build è¯¦æƒ…&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;GET http://127.0.0.1:8080/{optionalFolderPath}job/{job_name}/{number}/api/json
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;è¿”å›ç±»å‹&lt;/strong&gt;ï¼šBuildInfo&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å­—æ®µ&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç±»å‹&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;artifacts&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;List&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;artifacts&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;actions&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Lis&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;actions&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;building&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;boolean è·¯å¾„&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;description&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;String&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æè¿°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;â€¦â€¦&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl http://localhost:8080/job/test/6/api/json&lt;span style=&#34;color:#ae81ff&#34;&gt;\?&lt;/span&gt;pretty&lt;span style=&#34;color:#ae81ff&#34;&gt;\=&lt;/span&gt;true
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;building&amp;#34;&lt;/span&gt; : false,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;description&amp;#34;&lt;/span&gt; : null,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;displayName&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;#6&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;duration&amp;#34;&lt;/span&gt; : 13631,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;estimatedDuration&amp;#34;&lt;/span&gt; : 17999,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;executor&amp;#34;&lt;/span&gt; : null,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fullDisplayName&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;test #6&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;6&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;keepLog&amp;#34;&lt;/span&gt; : false,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;number&amp;#34;&lt;/span&gt; : 6,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;queueId&amp;#34;&lt;/span&gt; : 17,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;result&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;SUCCESS&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;timestamp&amp;#34;&lt;/span&gt; : 1546677234794,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;url&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;http://localhost:8080/job/test/6/&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;builtOn&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»è¿”å›ç»“æœå¯ä»¥çœ‹åˆ° æ˜¯å¦è¿˜åœ¨ build:&lt;code&gt;&amp;quot;building&amp;quot; : false&lt;/code&gt;,å¦‚æœ build ç»“æŸçŠ¶æ€å°±åœ¨:&lt;code&gt;&amp;quot;result&amp;quot; : &amp;quot;SUCCESS&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;è·å–ä¸Šæ¬¡buildè¯¦æƒ…&#34;&gt;è·å–ä¸Šæ¬¡Buildè¯¦æƒ…&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;curl http://172.12.12.234:8080/job/pytest_7.0/lastBuild/api/xml --user jenkins:1
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;last-build-number-è·å–ä¸Šæ¬¡æ„å»ºåºå·&#34;&gt;last-build-number è·å–ä¸Šæ¬¡æ„å»ºåºå·&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;GET http://127.0.0.1:8080/{optionalFolderPath}job/{job_name}/lastBuild/buildNumber
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;è¿”å›ç±»å‹&lt;/strong&gt;ï¼šInteger&lt;/p&gt;
&lt;h3 id=&#34;last-build-timestamp-è·å–ä¸Šæ¬¡æ„å»ºæ—¶é—´æˆ³&#34;&gt;last-build-timestamp è·å–ä¸Šæ¬¡æ„å»ºæ—¶é—´æˆ³&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;GET http://127.0.0.1:8080/{optionalFolderPath}job/{job_name}/lastBuild/buildTimestamp
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;è¿”å›ç±»å‹&lt;/strong&gt;ï¼šString&lt;/p&gt;
&lt;h3 id=&#34;progressive-text-è·å–æ„å»ºæ§åˆ¶å°è¾“å‡º&#34;&gt;progressive-text è·å–æ„å»ºæ§åˆ¶å°è¾“å‡º&lt;/h3&gt;
&lt;p&gt;è·å–ä¸Šæ¬¡æ„å»ºçš„æ—¥å¿—&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;GET http://127.0.0.1:8080/{optionalFolderPath}job/{job_name}/lastBuild/logText/progressiveText
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;è¿”å›ç±»å‹&lt;/strong&gt;ï¼šProgressiveText&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å­—æ®µ&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç±»å‹&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;text&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;String&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ§åˆ¶å°è¾“å‡º&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;size&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Integer&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å­—æ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;hasMoreData&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Boolean&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ˜¯å¦æœ‰æ›´å¤šæ•°æ®&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;è·å–æŸæ¬¡æ„å»ºçš„æ—¥å¿—&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;// text
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GET http://localhost:8080/job/test/&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;build_number&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;/logText/progressiveText/api/json
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;// html
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GET http://localhost:8080/job/test/&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;build_number&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;/logText/progressiveHtml/api/json
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;JobWithDetails job &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; jenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;jenkinsJob&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; QueueReference reference &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; job&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;build&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;QueueItem queueItem &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; jenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getQueueItem&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; QueueReference&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;queuePart&lt;span style=&#34;color:#f92672&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Build build &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; jenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getBuild&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;queueItem&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;BuildWithDetails details &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; build&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;details&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;BuildResult result &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; details&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getResult&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;String logs &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;  details&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getConsoleOutputText&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;crumbissuer-ç³»ç»Ÿå“ˆå¸Œå€¼ä¿¡æ¯ç”¨äºé˜²å¾¡csrfæ”»å‡»&#34;&gt;CrumbIssuer ç³»ç»Ÿå“ˆå¸Œå€¼ä¿¡æ¯ï¼ˆç”¨äºé˜²å¾¡CSRFæ”»å‡»ï¼‰&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;CrumbIssuerApi&lt;/li&gt;
&lt;li&gt;path: /crumbIssuer/api/xml&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;crumb&#34;&gt;crumb&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;GET http://127.0.0.1:8080/crumbIssuer/api/xml?{key}={value}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;å‚æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;key&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;value&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;xpath&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;concat(//crumbRequestField,â€:â€,//crumb)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;è¿”å›ç±»å‹&lt;/strong&gt;ï¼šCrumb&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å­—æ®µ&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç±»å‹&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;value&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;String&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;errors&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;List&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;statistics-ç»Ÿè®¡ä¿¡æ¯&#34;&gt;Statistics ç»Ÿè®¡ä¿¡æ¯&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;StatisticsApi&lt;/li&gt;
&lt;li&gt;path: /&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;overall-load&#34;&gt;overall-load&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;GET http://127.0.0.1:8080/overallLoad/api/json
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;è¿”å›ç±»å‹&lt;/strong&gt;ï¼šOverallLoad&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å­—æ®µ&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç±»å‹&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;availableExecutors&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Map&amp;lt;String, String&amp;gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;busyExecutors&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Map&amp;lt;String, String&amp;gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;connectingExecutors&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Map&amp;lt;String, String&amp;gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;definedExecutors&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Map&amp;lt;String, String&amp;gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;idleExecutors&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Map&amp;lt;String, String&amp;gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;onlineExecutors&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Map&amp;lt;String, String&amp;gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;queueLength&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Map&amp;lt;String, String&amp;gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;totalExecutors&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Map&amp;lt;String, String&amp;gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;totalQueueLength&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Map&amp;lt;String, String&amp;gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;system-ç³»ç»Ÿä¿¡æ¯&#34;&gt;System ç³»ç»Ÿä¿¡æ¯&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;path: /&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;è¿”å›ç±»å‹&lt;/strong&gt;ï¼šSystemInfo&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å­—æ®µ&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç±»å‹&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;hudsonVersion&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;String&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;jenkinsVersion&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;String&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;jenkinsSession&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;String&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;instanceIdentity&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;String&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;sshEndpoint&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;String&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;server&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;String&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;pluginmanager-æ’ä»¶ç®¡ç†æ’ä»¶ä¿¡æ¯å®‰è£…æ’ä»¶&#34;&gt;PluginManager æ’ä»¶ç®¡ç†ï¼ˆæ’ä»¶ä¿¡æ¯ã€å®‰è£…æ’ä»¶ï¼‰&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;PluginManagerApi&lt;/li&gt;
&lt;li&gt;path: /pluginManager&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;plugins-æ’ä»¶åˆ—è¡¨&#34;&gt;plugins æ’ä»¶åˆ—è¡¨&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;GET http://127.0.0.1:8080/pluginManager/api/json
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;è¿”å›ç±»å‹&lt;/strong&gt;ï¼šList&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å­—æ®µ&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç±»å‹&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;active&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Boolean&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;backupVersion String&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;bundled&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Boolean&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;deleted&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Boolean&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;downgradable&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Boolean&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;enabled&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Boolean&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;longName&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;String&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;â€¦â€¦&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;installnecessaryplugins-å®‰è£…æ’ä»¶&#34;&gt;installNecessaryPlugins å®‰è£…æ’ä»¶&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;POST http://127.0.0.1:8080/pluginManager/installNecessaryPlugins
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;å‚æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;payload: &amp;lt;jenkins&amp;gt;&amp;lt;install plugin=&amp;#34;{pluginID}&amp;#34;/&amp;gt;&amp;lt;/jenkins&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å­—æ®µ&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;{pluginID}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¦å®‰è£…çš„æ’ä»¶ID&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;è¿”å›ç±»å‹&lt;/strong&gt;ï¼šRequestStatus&lt;/p&gt;
&lt;h2 id=&#34;ä»£ç ç¤ºä¾‹&#34;&gt;ä»£ç ç¤ºä¾‹&lt;/h2&gt;
&lt;h3 id=&#34;é…ç½®&#34;&gt;é…ç½®&lt;/h3&gt;
&lt;p&gt;å¯¼å…¥ä¾èµ–&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!--jenkins-java-client--&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;com.offbytwo.jenkins&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;jenkins-client&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;0.3.8&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ›å»ºè¿æ¥é…ç½®ï¼Œé…ç½®å¯¹åº”çš„ä¿¡æ¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; com.offbytwo.jenkins.JenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; com.offbytwo.jenkins.client.JenkinsHttpClient&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; java.net.URI&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; java.net.URISyntaxException&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;JenkinsConnect&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;JenkinsConnect&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(){}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// è¿æ¥ Jenkins éœ€è¦è®¾ç½®çš„ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; String JENKINS_URL &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;http://jenkins:8080/&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; String JENKINS_USERNAME &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;jenkins&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; String JENKINS_PASSWORD &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;jenkins&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     * Http å®¢æˆ·ç«¯å·¥å…·
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     *
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     * å¦‚æœæœ‰äº› API è¯¥Jarå·¥å…·åŒ…æœªæä¾›ï¼Œå¯ä»¥ç”¨æ­¤Httpå®¢æˆ·ç«¯æ“ä½œè¿œç¨‹æ¥å£ï¼Œæ‰§è¡Œå‘½ä»¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     * @return
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; JenkinsHttpClient &lt;span style=&#34;color:#a6e22e&#34;&gt;getClient&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        JenkinsHttpClient jenkinsHttpClient &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            jenkinsHttpClient &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; JenkinsHttpClient&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; URI&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;JENKINS_URL&lt;span style=&#34;color:#f92672&#34;&gt;),&lt;/span&gt; JENKINS_USERNAME&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; JENKINS_PASSWORD&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;catch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;URISyntaxException e&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printStackTrace&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; jenkinsHttpClient&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     * è¿æ¥ Jenkins
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; JenkinsServer &lt;span style=&#34;color:#a6e22e&#34;&gt;connection&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        JenkinsServer jenkinsServer &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            jenkinsServer &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; JenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; URI&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;JENKINS_URL&lt;span style=&#34;color:#f92672&#34;&gt;),&lt;/span&gt; JENKINS_USERNAME&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; JENKINS_PASSWORD&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;catch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;URISyntaxException e&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printStackTrace&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; jenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;JENKINS_URLæ˜¯Jenkinsçš„åå‘ä»£ç†åœ°å€ï¼Œ &lt;code&gt;Configure System -&amp;gt; Jenkins location url&lt;/code&gt;ï¼Œ ä¸€èˆ¬å’ŒJenkinsé¦–é¡µè®¿é—®åœ°å€ä¸€è‡´&lt;/p&gt;
&lt;p&gt;JENKINS_USERNAME Jenkinsç™»å½•è´¦å·&lt;/p&gt;
&lt;p&gt;JENKINS_PASSWORD Jenkinsè´¦å·å¯†ç &lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/202304151033105.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;ä½¿ç”¨ç¤ºä¾‹&#34;&gt;ä½¿ç”¨ç¤ºä¾‹&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; com.offbytwo.jenkins.JenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; com.offbytwo.jenkins.client.JenkinsHttpClient&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; com.offbytwo.jenkins.model.Build&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; com.offbytwo.jenkins.model.Job&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; com.offbytwo.jenkins.model.JobWithDetails&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; com.offbytwo.jenkins.model.MavenJobWithDetails&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; java.io.IOException&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; java.util.HashMap&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; java.util.Map&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;JobApi&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// Jenkins å¯¹è±¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; JenkinsServer jenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// http å®¢æˆ·ç«¯å¯¹è±¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; JenkinsHttpClient jenkinsHttpClient&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     * æ„é€ æ–¹æ³•ä¸­è°ƒç”¨è¿æ¥ Jenkins æ–¹æ³•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    JobApi&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// è¿æ¥ Jenkins
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        jenkinsServer &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; JenkinsConnect&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;connection&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// è®¾ç½®å®¢æˆ·ç«¯è¿æ¥ Jenkins
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        jenkinsHttpClient &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; JenkinsConnect&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getClient&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     * åˆ›å»º Job
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ceateJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;/**åˆ›å»ºä¸€ä¸ªæµæ°´çº¿ä»»åŠ¡ï¼Œä¸”è®¾ç½®ä¸€ä¸ªç®€å•çš„è„šæœ¬**/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// åˆ›å»º Pipeline è„šæœ¬
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            String script &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;node(){ \n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;echo &amp;#39;hello world!&amp;#39; \n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;}&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// xmlé…ç½®æ–‡ä»¶ï¼Œä¸”å°†è„šæœ¬åŠ å…¥åˆ°é…ç½®ä¸­
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            String xml &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;flow-definition plugin=\&amp;#34;workflow-job@2.32\&amp;#34;&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;description&amp;gt;æµ‹è¯•é¡¹ç›®&amp;lt;/description&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;definition class=\&amp;#34;org.jenkinsci.plugins.workflow.cps.CpsFlowDefinition\&amp;#34; plugin=\&amp;#34;workflow-cps@2.66\&amp;#34;&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;script&amp;gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; script &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;/script&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;sandbox&amp;gt;true&amp;lt;/sandbox&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;/definition&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;/flow-definition&amp;gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// åˆ›å»º Job
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            jenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;createJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;test-job&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;xml&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;catch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;IOException e&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printStackTrace&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     * æ›´æ–° Job
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     *
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     * æ›´æ”¹ä¹‹å‰åˆ›å»ºçš„æ— å‚æ•°Jobï¼Œæ›´æ”¹å…¶ä¸ºå‚æ•°Job
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;updateJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;             * æ›´æ”¹ä¸€ä¸ªæµæ°´çº¿ä»»åŠ¡ï¼Œè®©ä¸€ä¸ªæ— å‚æ•°çš„ä»»åŠ¡å˜æˆå¸¦å‚æ•°ä»»åŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;             */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// åˆ›å»º Pipeline è„šæœ¬ï¼Œç”¨ä¸€ä¸ªkeyå˜é‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            String script &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;node(){ \n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;echo \&amp;#34;${key}\&amp;#34; \n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;}&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// xmlé…ç½®æ–‡ä»¶ï¼Œä¸”å°†è„šæœ¬åŠ å…¥åˆ°é…ç½®ä¸­
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            String xml &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;flow-definition plugin=\&amp;#34;workflow-job@2.32\&amp;#34;&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;actions/&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;description&amp;gt;æµ‹è¯•é¡¹ç›®&amp;lt;/description&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;keepDependencies&amp;gt;false&amp;lt;/keepDependencies&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;properties&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;hudson.model.ParametersDefinitionProperty&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;parameterDefinitions&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;hudson.model.StringParameterDefinition&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;name&amp;gt;key&amp;lt;/name&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;description&amp;gt;ç”¨äºæµ‹è¯•çš„å­—ç¬¦å˜é‡&amp;lt;/description&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;defaultValue&amp;gt;hello&amp;lt;/defaultValue&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;trim&amp;gt;false&amp;lt;/trim&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;/hudson.model.StringParameterDefinition&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;/parameterDefinitions&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;/hudson.model.ParametersDefinitionProperty&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;/properties&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;definition class=\&amp;#34;org.jenkinsci.plugins.workflow.cps.CpsFlowDefinition\&amp;#34; plugin=\&amp;#34;workflow-cps@2.66\&amp;#34;&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;script&amp;gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; script &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;/script&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;sandbox&amp;gt;true&amp;lt;/sandbox&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;/definition&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;disabled&amp;gt;false&amp;lt;/disabled&amp;gt;\n&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;/flow-definition&amp;gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// åˆ›å»º Job
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            jenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;updateJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;test-job&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;xml&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;catch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;IOException e&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printStackTrace&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     * è·å– Job åŸºæœ¬ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// è·å– Job ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            JobWithDetails job &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; jenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;das-app-android-pkg&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// è·å– Job åç§°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;job&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getName&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;());&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// è·å– Job URL
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;job&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getUrl&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;());&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// è·å– Job ä¸‹ä¸€ä¸ª build ç¼–å·
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;job&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getNextBuildNumber&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;());&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// è·å– Job æ˜¾ç¤ºçš„åç§°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;job&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getDisplayName&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;());&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// è¾“å‡º Job æè¿°ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;job&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getDescription&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;());&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// è·å– Job ä¸‹æ¸¸ä»»åŠ¡åˆ—è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;job&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getDownstreamProjects&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;());&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// è·å– Job ä¸Šæ¸¸ä»»åŠ¡åˆ—è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;job&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getUpstreamProjects&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;());&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;catch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;IOException e&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printStackTrace&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     * è·å– Maven Job ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getMavenJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// è·å– Job ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            MavenJobWithDetails job &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; jenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getMavenJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;test-job&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;catch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;IOException e&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printStackTrace&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     * è·å– Job åˆ—è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getJobList&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// è·å– Job åˆ—è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            Map&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;String&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; Job&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; jobs &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; jenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getJobs&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;Job job&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;jobs&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;values&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;job&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getName&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;());&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;catch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;IOException e&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printStackTrace&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     * è·å– View åç§°è·å– Job åˆ—è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getJobListByView&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// è·å– Job åˆ—è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            Map&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;String&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;Job&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; jobs &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; jenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getJobs&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;all&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;Job job&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;jobs&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;values&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;job&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getName&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;());&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;catch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;IOException e&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printStackTrace&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     * æŸ¥çœ‹ Job XML ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getJobConfig&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            String xml &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; jenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getJobXml&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;test-job&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;xml&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;catch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;IOException e&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printStackTrace&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     * æ‰§è¡Œæ— å‚æ•° Job build
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;buildJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            jenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;test-job&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;).&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;build&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;catch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;IOException e&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printStackTrace&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     * æ‰§è¡Œå¸¦å‚æ•° Job build
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;buildParamJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;             * ä¾‹å¦‚ï¼Œç°æœ‰ä¸€ä¸ªjobï¼Œæ‹¥æœ‰ä¸€ä¸ªå­—ç¬¦å‚æ•°&amp;#34;key&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;             * ç°åœ¨å¯¹è¿™ä¸ªå€¼è¿›è¡Œè®¾ç½®ï¼Œç„¶åæ‰§è¡Œä¸€ä¸ªè¾“å‡ºè¿™ä¸ªå€¼çš„è„šæœ¬
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;             */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// è®¾ç½®å‚æ•°å€¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            Map&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;String&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;String&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; param &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; HashMap&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            param&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;put&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;way&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;gm-R-b&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// æ‰§è¡Œ build ä»»åŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            jenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;das-app-android-pkg&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;).&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;build&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;param&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;catch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;IOException e&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printStackTrace&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     * åœæ­¢æœ€åæ„å»ºçš„ Job Build
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;stopLastJobBuild&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// è·å–æœ€åçš„ build ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            Build build &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; jenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;test-job&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;).&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getLastBuild&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// åœæ­¢æœ€åçš„ build
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            build&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Stop&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;catch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;IOException e&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printStackTrace&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     * åˆ é™¤ Job
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;deleteJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            jenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;deleteJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;test-job&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;catch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;IOException e&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printStackTrace&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     * ç¦ç”¨ Job
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;disableJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            jenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;disableJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;test-job&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;catch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;IOException e&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printStackTrace&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     * å¯ç”¨ Job
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;enableJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            jenkinsServer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;enableJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;test-job&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;catch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;IOException e&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printStackTrace&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;String&lt;span style=&#34;color:#f92672&#34;&gt;[]&lt;/span&gt; args&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        JobApi jobApi &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; JobApi&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        jobApi.getJob();
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        jobApi.getJobList();
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        jobApi&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;buildParamJob&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        // åˆ›å»º Job
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        jobApi.ceateJob();
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        // æ„å»ºæ— å‚æ•°çš„ Job
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        jobApi.buildJob();
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        // æ„å»ºå¸¦å‚æ•°çš„ Job
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        jobApi.buildParamJob();
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        // åœæ­¢æœ€åæ„å»ºçš„ Job Build
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        jobApi.stopLastJobBuild();
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        // æ›´æ–° Job
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        jobApi.updateJob();
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        // è·å– Job ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        jobApi.getJob();
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        // è·å– Maven é¡¹ç›® Job
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        jobApi.getMavenJob();
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        // è·å– Job é…ç½®xml
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        jobApi.getJobConfig();
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// è·å–å…¨éƒ¨ Job åˆ—è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        jobApi.getJobList();
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æ ¹æ® view åç§°è·å– Job åˆ—è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        jobApi.getJobListByView();
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        // ç¦ç”¨ Job
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        jobApi.disableJob();
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        // å¯ç”¨ Job
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        jobApi.enableJob();
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        // åˆ é™¤ Job
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//        jobApi.deleteJob();
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>mermaidç”»æµç¨‹å›¾è¯­æ³•</title>
        <link>https://lxb.wiki/62afdbe0/</link>
        <pubDate>Mon, 20 Jun 2022 20:34:38 +0000</pubDate>
        
        <guid>https://lxb.wiki/62afdbe0/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;blockquote&gt;
&lt;p&gt;Mermaid æ˜¯ä¸€ä¸ªåŸºäº Javascript çš„å›¾è¡¨ç»˜åˆ¶å·¥å…·ï¼Œé€šè¿‡è§£æç±» Markdown çš„æ–‡æœ¬è¯­æ³•æ¥å®ç°å›¾è¡¨çš„åˆ›å»ºå’ŒåŠ¨æ€ä¿®æ”¹ã€‚Mermaid è¯ç”Ÿçš„ä¸»è¦ç›®çš„æ˜¯è®©æ–‡æ¡£çš„æ›´æ–°èƒ½å¤ŸåŠæ—¶è·Ÿä¸Šå¼€å‘è¿›åº¦ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;æµç¨‹å›¾åˆ†ç±»&#34;&gt;æµç¨‹å›¾åˆ†ç±»&lt;/h3&gt;
&lt;p&gt;æœ‰ä¸¤ç§æµç¨‹å›¾&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;flowchart&lt;/li&gt;
&lt;li&gt;graph&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;flowchart è¯­æ³•è¿‡äºå¤æ‚ï¼Œä¸èµ˜è¿°ã€‚ä¸‹é¢å†…å®¹åªä¿ç•™ graph è¯­æ³•ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¤ºä¾‹&#34;&gt;ç¤ºä¾‹&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-mermaid&#34; data-lang=&#34;mermaid&#34;&gt;graph TD

start(ç¨‹åºå¼€å§‹)
--&amp;gt; éšæœºé€‰å–Kä¸ªæ ·æœ¬ä½œä¸ºå‡å€¼å‘é‡
--&amp;gt; id1([åˆ’åˆ†ç°‡å¼€å§‹])
--&amp;gt; è®¡ç®—æ ·æœ¬ä¸å„å‡å€¼å‘é‡ä¹‹é—´çš„è·ç¦»
--&amp;gt; æ ¹æ®è·ç¦»æœ€è¿‘çš„å‡å€¼å‘é‡ç¡®å®šæ¯ä¸ªæ ·æœ¬çš„ç°‡æ ‡è®°
--&amp;gt; å°†æ ·æœ¬åˆ’å…¥ç›¸åº”çš„ç°‡
--&amp;gt; id2{éå†å®Œæˆ?}
id2 -- NO --&amp;gt; id1
id2 -- YES --&amp;gt; id3([æ›´æ–°ç°‡å‡å€¼å‘é‡å¼€å§‹])
--&amp;gt; id4[è®¡ç®—å„ç°‡æ–°å‡å€¼å‘é‡Î¼]
--&amp;gt; id5{æ‰€æœ‰è®¡ç®—å®Œæˆ?}
id5 -- YES --&amp;gt; ä¿ç•™Î¼é›†åˆä¸ºç°‡æ–°ä¸­å¿ƒç‚¹ --&amp;gt; id6{æ‰€æœ‰Î¼æ˜¯å¦æ›´æ–°?}
id5 -- NO --&amp;gt; id3
id6 -- NO --&amp;gt; endd(ç»“æŸ, è¾“å‡ºå‡å€¼å‘é‡)
id6 == YES ==&amp;gt;id1
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;æ–¹å‘&#34;&gt;æ–¹å‘&lt;/h3&gt;
&lt;p&gt;åœ¨ &lt;code&gt;graph&lt;/code&gt; ä¹‹ååŠ ä¸Šç©ºæ ¼å¯ä»¥ä¼ å…¥å‚æ•°ï¼Œå¯ä»¥å®šä¹‰æµç¨‹å›¾æ–¹å‘ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‚æ•°å€¼&lt;/th&gt;
&lt;th&gt;TB&lt;/th&gt;
&lt;th&gt;TD&lt;/th&gt;
&lt;th&gt;BT&lt;/th&gt;
&lt;th&gt;RL&lt;/th&gt;
&lt;th&gt;LR&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;è¯´æ˜&lt;/td&gt;
&lt;td&gt;ä»ä¸Šåˆ°ä¸‹&lt;/td&gt;
&lt;td&gt;ä»ä¸Šåˆ°ä¸‹&lt;/td&gt;
&lt;td&gt;ä»ä¸‹åˆ°ä¸Š&lt;/td&gt;
&lt;td&gt;ä»å³åˆ°å·¦&lt;/td&gt;
&lt;td&gt;ä»å·¦åˆ°å³&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;èŠ‚ç‚¹&#34;&gt;èŠ‚ç‚¹&lt;/h3&gt;
&lt;p&gt;æ¯ä¸€è¡Œè¾“å…¥ä»»æ„å­—ç¬¦éƒ½ä¼šè¢«è¯†åˆ«ä¸ºä¸€ä¸ªæ–°èŠ‚ç‚¹ã€‚è¾“å…¥çš„å­—ç¬¦å°†è¢«ä½œä¸ºèŠ‚ç‚¹çš„IDï¼ŒåŒæ—¶é»˜è®¤ä½œä¸ºèŠ‚ç‚¹åç§°æ˜¾ç¤ºã€‚é»˜è®¤å½¢çŠ¶æ˜¯çŸ©å½¢ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å½¢çŠ¶&#34;&gt;å½¢çŠ¶&lt;/h4&gt;
&lt;p&gt;é™¤äº†çŸ©å½¢è¿˜æœ‰å¤šç§å½¢çŠ¶å¯é€‰ï¼Œåœ¨èŠ‚ç‚¹åé¢å¢åŠ ç¬¦å·å¯¹å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20230320000056.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;åç§°&#34;&gt;åç§°&lt;/h4&gt;
&lt;p&gt;å½¢çŠ¶ç¬¦å·ä¸­è¾“å…¥å­—ç¬¦ä½œä¸ºå±•ç¤ºçš„åç§°ã€‚&lt;/p&gt;
&lt;p&gt;é»˜è®¤å¯ä»¥ä¸ç”¨å¼•å·ï¼Œä½†å¦‚æœéœ€è¦ä½¿ç”¨è½¬ä¹‰ç¬¦ã€æˆ–è€…æ‹¬å·ï¼Œåˆ™éœ€è¦ç”¨å¼•å·åŒ…è£¹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è¿æ¥çº¿&#34;&gt;è¿æ¥çº¿&lt;/h3&gt;
&lt;p&gt;è¯­æ³•ç»“æ„å¤§è‡´æ˜¯ï¼š&lt;code&gt;èŠ‚ç‚¹ID è¿æ¥çº¿ç¬¦å· èŠ‚ç‚¹ID&lt;/code&gt;ï¼ˆ
ä¾‹å¦‚ &lt;code&gt;NodeA &amp;lt;--&amp;gt; NodeB&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸€è¡Œæœ«å°¾æ²¡æœ‰èŠ‚ç‚¹IDï¼Œåˆ™ä¼šæ‰¾åˆ°ä¸‹ä¸€è¡Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹IDè¿æ¥ï¼Œä¹Ÿå°±æ„å‘³ç€è¿æ¥çº¿çš„è¯­æ³•æ˜¯å¯ä»¥æ¢è¡Œçš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœèŠ‚ç‚¹IDæ˜¯å‰æ–‡æ²¡æœ‰å‡ºç°è¿‡çš„ï¼Œä¼šå½“åšä¸€ä¸ªæ–°çš„èŠ‚ç‚¹å¤„ç†ã€‚æ‰€ä»¥èŠ‚ç‚¹çš„åˆ›å»ºä¸è¿æ¥æ˜¯å¯ä»¥ä¸€æ¬¡æ€§ä¹¦å†™çš„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;çº¿çš„å®šä¹‰&#34;&gt;çº¿çš„å®šä¹‰&lt;/h4&gt;
&lt;p&gt;è¿æ¥çº¿ç”±ä¸‰ä¸ªå­—ç¬¦ç»„æˆï¼Œæœ«å°¾ç¬¦å·ä»£è¡¨ç«¯ç‚¹å›¾å½¢ï¼Œç¬¬ä¸€äºŒä¸ªç¬¦å·ä»£è¡¨çº¿çš„æ ·å¼ã€‚&lt;/p&gt;
&lt;p&gt;ç»˜åˆ¶åŒå‘ç®­å¤´çš„è¯ï¼Œéœ€è¦åœ¨å¤´éƒ¨å¢åŠ ä¸€ä¸ªç¬¦å·ï¼Œä¸€å…±æ˜¯å››ä¸ªå­—ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;ä¸­é—´ç¬¦å·å¯ä»¥é‡å¤ï¼Œé‡å¤ä¼šæ¸²æŸ“å‡ºæ›´é•¿çš„è¿æ¥çº¿ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚&lt;code&gt;NodeA &amp;lt;--&amp;gt; NodeB&lt;/code&gt;å°±æ˜¯åŒç®­å¤´ç¬¦å·ï¼Œä¸­é—´ä»£è¡¨çº¿æ®µå½¢çŠ¶ï¼Œå¤´å°¾ä»£è¡¨ç®­å¤´å½¢çŠ¶ã€‚&lt;/p&gt;
&lt;h4 id=&#34;çº¿çš„å½¢çŠ¶&#34;&gt;çº¿çš„å½¢çŠ¶&lt;/h4&gt;
&lt;p&gt;çº¿æ¡æœ‰ä¸‰ç§ï¼š
&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20230320000338.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;ç®­å¤´å½¢çŠ¶&#34;&gt;ç®­å¤´å½¢çŠ¶&lt;/h4&gt;
&lt;p&gt;ç®­å¤´å½¢çŠ¶æœ‰ä¸‰ç§ï¼š
&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20230320000410.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;åŒå‘ç®­å¤´ï¼š
&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20230320000438.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;å¤šä¸ªèŠ‚ç‚¹è¿æ¥&#34;&gt;å¤šä¸ªèŠ‚ç‚¹è¿æ¥&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;&amp;amp;&lt;/code&gt; ç¬¦å·å¯ä»¥è®©å›¾å½¢ä¸€æ¬¡æ€§è¿æ¥å¤šä¸ªèŠ‚ç‚¹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20230320000522.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;è¿æ¥çº¿ä¸Šçš„æ–‡å­—æ³¨é‡Š&#34;&gt;è¿æ¥çº¿ä¸Šçš„æ–‡å­—æ³¨é‡Š&lt;/h4&gt;
&lt;p&gt;å¯ä»¥åœ¨è¿æ¥çº¿ä¸Šå¢åŠ è¿æ¥çº¿çš„æ³¨é‡Šã€‚æ³¨é‡Šæœ‰ä¸¤ç§å†™æ³•ï¼š&lt;/p&gt;
&lt;p&gt;å†™åœ¨æœ«å°¾ï¼š||ç¬¦å·ï¼Œåªéœ€è¦åœ¨è¿æ¥çº¿ç¬¦å·æœ«å°¾å¢åŠ â€”&amp;gt;|æ–‡å­—|å³å¯å±•ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;å†™åœ¨ä¸­é—´ï¼šç±»ä¼¼â€”æ–‡å­—â€”&amp;gt;ã€-. æ–‡å­— .-&amp;gt;ï¼Œç­‰äºæ˜¯é‡å¤è¿æ¥ç¬¦å·ï¼Œå‰åŠéƒ¨åˆ†æ˜¯å®šä¹‰ä¸Šä¸€ä¸ªå›¾å½¢åˆ°æ–‡å­—çš„è¿æ¥çº¿æ ·å¼ï¼ŒååŠéƒ¨åˆ†æ˜¯å®šä¹‰æ–‡å­—åˆ°å›¾å½¢çš„è¿æ¥çº¿æ ·å¼ã€‚&lt;/p&gt;
&lt;p&gt;é€šå¸¸æ¥è¯´å†™åœ¨æœ«å°¾ä¼šæ¯”è¾ƒæ–¹ä¾¿ç‚¹ã€‚
&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20230320000703.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ³¨é‡Š&#34;&gt;æ³¨é‡Š&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;%%&lt;/code&gt; å·ä¸ºæ³¨é‡Šç¬¦ï¼Œä¼šå°†ç¬¦å·ä¹‹ååˆ°æ­¤è¡Œç»“æŸéƒ½è§†ä¸ºæ³¨é‡Šã€‚&lt;/p&gt;
&lt;h3 id=&#34;å­å›¾åˆ†ç»„&#34;&gt;å­å›¾ï¼ˆåˆ†ç»„ï¼‰&lt;/h3&gt;
&lt;p&gt;å­å›¾å®é™…ä¸Šå°±æ˜¯ç»™å›¾å½¢åˆ†ç»„ï¼Œå¢åŠ ä¸€ä¸ªèƒŒæ™¯è‰²å—ï¼Œä½¿ç”¨subgraph IDã€endåŒ…è£¹ï¼Œä¸­é—´å›¾è¯­æ³•ä¸æ­¤å‰ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;subgraph IDä¹‹åç”¨æ–¹æ‹¬å·åŒ…è£¹å¯ä»¥å®šä¹‰æ˜¾ç¤ºåç§°ã€‚å…¶ä¸­å…ƒç´ å¯ä»¥ä»»æ„è¿æ¥ï¼Œç”¨å­å›¾IDå¯ä»¥å®šä¹‰å­å›¾ä¸å­å›¾çš„è¿æ¥çº¿ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-mermaid&#34; data-lang=&#34;mermaid&#34;&gt;graph TB

subgraph one
a --&amp;gt; b
end

subgraph tow
c --&amp;gt; d
end

c --&amp;gt; b
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦ä¸€ç§ç”¨æ³•ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-mermaid&#34; data-lang=&#34;mermaid&#34;&gt;graph LR
subgraph submo
D[&amp;#34;DDD&amp;#34;]
E[&amp;#34;EEE&amp;#34;]
F[&amp;#34;FFF&amp;#34;]
end

Start --&amp;gt; D
D --&amp;gt; E
D --&amp;gt; F

E &amp;amp; F --&amp;gt; End
&lt;/code&gt;&lt;/pre&gt;</description>
        </item>
        <item>
        <title>æµç¼–è¾‘å™¨sed</title>
        <link>https://lxb.wiki/f54357bf/</link>
        <pubDate>Fri, 10 Jun 2022 22:28:34 +0000</pubDate>
        
        <guid>https://lxb.wiki/f54357bf/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;ç®€ä»‹&#34;&gt;ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;sed æ˜¯ä¸€ç§æµç¼–è¾‘å™¨ï¼ŒÂ ä¸€æ¬¡å¤„ç†ä¸€è¡Œæ–‡ä»¶å¹¶æŠŠè¾“å‡ºé€å¾€å±å¹•ã€‚å¤„ç†æ—¶ï¼ŒæŠŠå½“å‰å¤„ç†çš„è¡Œå­˜å‚¨åœ¨ä¸´æ—¶ç¼“å†²åŒºä¸­ï¼Œç§°ä¸ºâ€œæ¨¡å¼ç©ºé—´â€ï¼ˆpattern spaceï¼‰ï¼Œæ¥ç€ç”¨sedå‘½ä»¤å¤„ç†ç¼“å†²åŒºä¸­çš„å†…å®¹ï¼Œå¤„ç†å®Œæˆåï¼ŒæŠŠç¼“å†²åŒºçš„å†…å®¹é€å¾€å±å¹•ã€‚æ¥ç€å¤„ç†ä¸‹ä¸€è¡Œï¼Œè¿™æ ·ä¸æ–­é‡å¤ï¼Œç›´åˆ°æ–‡ä»¶æœ«å°¾ã€‚æ–‡ä»¶å†…å®¹å¹¶æ²¡æœ‰ æ”¹å˜ï¼Œé™¤éä½ ä½¿ç”¨é‡å®šå‘å­˜å‚¨è¾“å‡ºã€‚Sedä¸»è¦ç”¨æ¥è‡ªåŠ¨ç¼–è¾‘ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼›ç®€åŒ–å¯¹æ–‡ä»¶çš„åå¤æ“ä½œï¼›ç¼–å†™è½¬æ¢ç¨‹åºç­‰ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‘½ä»¤é€‰é¡¹å‚æ•°&#34;&gt;å‘½ä»¤ã€é€‰é¡¹å‚æ•°&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;å‘½ä»¤&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;åŠŸèƒ½æè¿°&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;a\&lt;/td&gt;
&lt;td&gt;åœ¨å½“å‰è¡Œçš„åé¢åŠ å…¥ä¸€è¡Œæˆ–è€…æ–‡æœ¬ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;c\&lt;/td&gt;
&lt;td&gt;ç”¨æ–°çš„æ–‡æœ¬æ”¹å˜æˆ–è€…æ›¿ä»£æœ¬è¡Œçš„æ–‡æœ¬ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;d&lt;/td&gt;
&lt;td&gt;ä»pattern spaceä½ç½®åˆ é™¤è¡Œã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;i\&lt;/td&gt;
&lt;td&gt;åœ¨å½“å‰è¡Œçš„ä¸Šé¢æ’å…¥æ–‡æœ¬ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;h&lt;/td&gt;
&lt;td&gt;æ‹·è´pattern spaceçš„å†…å®¹åˆ°holding buffer(ç‰¹æ®Šç¼“å†²åŒº)ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;H&lt;/td&gt;
&lt;td&gt;è¿½åŠ pattern spaceçš„å†…å®¹åˆ°holding bufferã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;g&lt;/td&gt;
&lt;td&gt;è·å¾—holding bufferä¸­çš„å†…å®¹ï¼Œå¹¶æ›¿ä»£å½“å‰pattern spaceä¸­çš„æ–‡æœ¬ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;G&lt;/td&gt;
&lt;td&gt;è·å¾—holding bufferä¸­çš„å†…å®¹ï¼Œå¹¶è¿½åŠ åˆ°å½“å‰pattern spaceçš„åé¢ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;n&lt;/td&gt;
&lt;td&gt;è¯»å–ä¸‹ä¸€ä¸ªè¾“å…¥è¡Œï¼Œç”¨ä¸‹ä¸€ä¸ªå‘½ä»¤å¤„ç†æ–°çš„è¡Œè€Œä¸æ˜¯ç”¨ç¬¬ä¸€ä¸ªå‘½ä»¤ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;p&lt;/td&gt;
&lt;td&gt;æ‰“å°pattern spaceä¸­çš„è¡Œã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;P&lt;/td&gt;
&lt;td&gt;æ‰“å°pattern spaceä¸­çš„ç¬¬ä¸€è¡Œã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;q&lt;/td&gt;
&lt;td&gt;é€€å‡ºsedã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;w file&lt;/td&gt;
&lt;td&gt;å†™å¹¶è¿½åŠ pattern spaceåˆ°fileçš„æœ«å°¾ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;!&lt;/td&gt;
&lt;td&gt;è¡¨ç¤ºåé¢çš„å‘½ä»¤å¯¹æ‰€æœ‰æ²¡æœ‰è¢«é€‰å®šçš„è¡Œå‘ç”Ÿä½œç”¨ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;s/re/string&lt;/td&gt;
&lt;td&gt;ç”¨stringæ›¿æ¢æ­£åˆ™è¡¨è¾¾å¼reã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;=&lt;/td&gt;
&lt;td&gt;æ‰“å°å½“å‰è¡Œå·ç ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ›¿æ¢æ ‡è®°&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;g&lt;/td&gt;
&lt;td&gt;è¡Œå†…å…¨é¢æ›¿æ¢ï¼Œå¦‚æœæ²¡æœ‰gï¼Œåªæ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;p&lt;/td&gt;
&lt;td&gt;æ‰“å°è¡Œã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;x&lt;/td&gt;
&lt;td&gt;äº’æ¢pattern spaceå’Œholding bufferä¸­çš„æ–‡æœ¬ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;y&lt;/td&gt;
&lt;td&gt;æŠŠä¸€ä¸ªå­—ç¬¦ç¿»è¯‘ä¸ºå¦ä¸€ä¸ªå­—ç¬¦(ä½†æ˜¯ä¸èƒ½ç”¨äºæ­£åˆ™è¡¨è¾¾å¼)ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@www ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# sed [-nefr] [åŠ¨ä½œ]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;é€‰é¡¹ä¸å‚æ•°ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-n ï¼šå–æ¶ˆé»˜è®¤è¾“å‡ºã€‚ä½¿ç”¨å®‰é™&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;silent&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;æ¨¡å¼ã€‚åœ¨ä¸€èˆ¬ sed çš„ç”¨æ³•ä¸­ï¼Œæ‰€æœ‰æ¥è‡ª STDIN çš„æ•°æ®ä¸€èˆ¬éƒ½ä¼šè¢«åˆ—å‡ºåˆ°ç»ˆç«¯ä¸Šã€‚ä½†å¦‚æœåŠ ä¸Š -n å‚æ•°åï¼Œåˆ™åªæœ‰ç»è¿‡sed ç‰¹æ®Šå¤„ç†çš„é‚£ä¸€è¡Œ&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;æˆ–è€…åŠ¨ä½œ&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;æ‰ä¼šè¢«åˆ—å‡ºæ¥ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-e ï¼šç›´æ¥åœ¨å‘½ä»¤åˆ—æ¨¡å¼ä¸Šè¿›è¡Œ sed çš„åŠ¨ä½œç¼–è¾‘ï¼›å…è®¸å¤šç‚¹ç¼–è¾‘ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-f ï¼šç›´æ¥å°† sed çš„åŠ¨ä½œå†™åœ¨ä¸€ä¸ªæ–‡ä»¶å†…ï¼Œ -f filename åˆ™å¯ä»¥è¿è¡Œ filename å†…çš„ sed åŠ¨ä½œï¼›
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-r ï¼šsed çš„åŠ¨ä½œæ”¯æŒçš„æ˜¯å»¶ä¼¸å‹æ­£è§„è¡¨ç¤ºæ³•çš„è¯­æ³•ã€‚&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;é»˜è®¤æ˜¯åŸºç¡€æ­£è§„è¡¨ç¤ºæ³•è¯­æ³•&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-i ï¼šç›´æ¥ä¿®æ”¹è¯»å–çš„æ–‡ä»¶å†…å®¹ï¼Œè€Œä¸æ˜¯è¾“å‡ºåˆ°ç»ˆç«¯ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;åŠ¨ä½œè¯´æ˜ï¼š &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;n1&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;,n2&lt;span style=&#34;color:#f92672&#34;&gt;]]&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;n1, n2 ï¼šä¸è§å¾—ä¼šå­˜åœ¨ï¼Œä¸€èˆ¬ä»£è¡¨ã€é€‰æ‹©è¿›è¡ŒåŠ¨ä½œçš„è¡Œæ•°ã€ï¼Œä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœæˆ‘çš„åŠ¨ä½œæ˜¯éœ€è¦åœ¨ &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt; åˆ° &lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt; è¡Œä¹‹é—´è¿›è¡Œçš„ï¼Œåˆ™ã€ 10,20&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;åŠ¨ä½œè¡Œä¸º&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; ã€
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt;ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;a ï¼šæ–°å¢ï¼Œ a çš„åé¢å¯ä»¥æ¥å­—ä¸²ï¼Œè€Œè¿™äº›å­—ä¸²ä¼šåœ¨æ–°çš„ä¸€è¡Œå‡ºç°&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;ç›®å‰çš„ä¸‹ä¸€è¡Œ&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;ï½
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;c ï¼šå–ä»£ï¼Œ c çš„åé¢å¯ä»¥æ¥å­—ä¸²ï¼Œè¿™äº›å­—ä¸²å¯ä»¥å–ä»£ n1,n2 ä¹‹é—´çš„è¡Œï¼
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;d ï¼šåˆ é™¤ï¼Œå› ä¸ºæ˜¯åˆ é™¤å•Šï¼Œæ‰€ä»¥ d åé¢é€šå¸¸ä¸æ¥ä»»ä½•å’šå’šï¼›
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;i ï¼šæ’å…¥ï¼Œ i çš„åé¢å¯ä»¥æ¥å­—ä¸²ï¼Œè€Œè¿™äº›å­—ä¸²ä¼šåœ¨æ–°çš„ä¸€è¡Œå‡ºç°&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;ç›®å‰çš„ä¸Šä¸€è¡Œ&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;ï¼›
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;p ï¼šåˆ—å°ï¼Œäº¦å³å°†æŸä¸ªé€‰æ‹©çš„æ•°æ®å°å‡ºã€‚é€šå¸¸ p ä¼šä¸å‚æ•° sed -n ä¸€èµ·è¿è¡Œï½
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;s ï¼šå–ä»£ï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œå–ä»£çš„å·¥ä½œå“©ï¼é€šå¸¸è¿™ä¸ª s çš„åŠ¨ä½œå¯ä»¥æ­é…æ­£è§„è¡¨ç¤ºæ³•ï¼ä¾‹å¦‚ 1,20s/old/new/g å°±æ˜¯å•¦ï¼
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ä»¥è¡Œä¸ºå•ä½çš„æ–°å¢åˆ é™¤&#34;&gt;ä»¥è¡Œä¸ºå•ä½çš„æ–°å¢/åˆ é™¤&lt;/h3&gt;
&lt;p&gt;å°† &lt;code&gt;/etc/passwd&lt;/code&gt; çš„å†…å®¹åˆ—å‡ºå¹¶ä¸”åˆ—å°è¡Œå·ï¼ŒåŒæ—¶ï¼Œå°†ç¬¬ 2~5 è¡Œåˆ é™¤ï¼&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@www ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# nl /etc/passwd | sed &amp;#39;2,5d&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; root:x:0:0:root:/root:/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt; sync:x:5:0:sync:/sbin:/bin/sync
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt; shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.....&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;åé¢çœç•¥&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;.....
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;sed çš„åŠ¨ä½œä¸º &lt;code&gt;&#39;2,5d&#39;&lt;/code&gt; ï¼Œé‚£ä¸ª d å°±æ˜¯åˆ é™¤ï¼å› ä¸º 2-5 è¡Œç»™ä»–åˆ é™¤äº†ï¼Œæ‰€ä»¥æ˜¾ç¤ºçš„æ•°æ®å°±æ²¡æœ‰ 2-5 è¡Œç½—ï½ å¦å¤–ï¼Œæ³¨æ„ä¸€ä¸‹ï¼ŒåŸæœ¬åº”è¯¥æ˜¯è¦ä¸‹è¾¾ sed -e æ‰å¯¹ï¼Œæ²¡æœ‰ -e ä¹Ÿè¡Œå•¦ï¼åŒæ—¶ä¹Ÿè¦æ³¨æ„çš„æ˜¯ï¼Œ sed åé¢æ¥çš„åŠ¨ä½œï¼Œè¯·åŠ¡å¿…ä»¥ &amp;rsquo;&amp;rsquo; ä¸¤ä¸ªå•å¼•å·æ‹¬ä½å–”ï¼&lt;/p&gt;
&lt;p&gt;åªè¦åˆ é™¤ç¬¬ 2 è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;nl /etc/passwd | sed &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;2d&amp;#39;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¦åˆ é™¤ç¬¬ 3 åˆ°æœ€åä¸€è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; nl /etc/passwd | sed &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;3,$d&amp;#39;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨ç¬¬äºŒè¡Œå(äº¦å³æ˜¯åŠ åœ¨ç¬¬ä¸‰è¡Œ)åŠ ä¸Šã€drink teaã€å­—æ ·ï¼&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@www ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# nl /etc/passwd | sed &amp;#39;2a drink tea&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; root:x:0:0:root:/root:/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; bin:x:1:1:bin:/bin:/sbin/nologin
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;drink tea
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt; daemon:x:2:2:daemon:/sbin:/sbin/nologin
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.....&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;åé¢çœç•¥&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;.....
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‚£å¦‚æœæ˜¯è¦åœ¨ç¬¬äºŒè¡Œå‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;nl /etc/passwd | sed &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;2i drink tea&amp;#39;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœæ˜¯è¦å¢åŠ ä¸¤è¡Œä»¥ä¸Šï¼Œåœ¨ç¬¬äºŒè¡Œåé¢åŠ å…¥ä¸¤è¡Œå­—ï¼Œä¾‹å¦‚ã€Drink tea or &amp;hellip;..ã€ä¸ã€drink beerã€
&lt;strong&gt;è¿™é‡Œæ˜¯ &lt;code&gt;\&lt;/code&gt; è¿˜æ˜¯ &lt;code&gt;\&amp;gt;&lt;/code&gt; ?&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@www ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# nl /etc/passwd | sed &amp;#39;2a Drink tea or ......\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; drink beer ?&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; root:x:0:0:root:/root:/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; bin:x:1:1:bin:/bin:/sbin/nologin
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Drink tea or ......
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;drink beer ?
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt; daemon:x:2:2:daemon:/sbin:/sbin/nologin
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.....&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;åé¢çœç•¥&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;.....
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¯ä¸€è¡Œä¹‹é—´éƒ½å¿…é¡»è¦ä»¥åæ–œæ ã€ \ ã€æ¥è¿›è¡Œæ–°è¡Œçš„æ·»åŠ å–”ï¼æ‰€ä»¥ï¼Œä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°åœ¨ç¬¬ä¸€è¡Œçš„æœ€åé¢å°±æœ‰ \ å­˜åœ¨ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä»¥è¡Œä¸ºå•ä½çš„æ›¿æ¢ä¸æ˜¾ç¤º&#34;&gt;ä»¥è¡Œä¸ºå•ä½çš„æ›¿æ¢ä¸æ˜¾ç¤º&lt;/h3&gt;
&lt;p&gt;å°†ç¬¬2-5è¡Œçš„å†…å®¹å–ä»£æˆä¸ºã€No 2-5 numberã€&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@www ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# nl /etc/passwd | sed &amp;#39;2,5c No 2-5 number&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; root:x:0:0:root:/root:/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;No 2-5 number
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt; sync:x:5:0:sync:/sbin:/bin/sync
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.....&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;åé¢çœç•¥&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;.....
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»…åˆ—å‡º /etc/passwd æ–‡ä»¶å†…çš„ç¬¬ 5-7 è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@www ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# nl /etc/passwd | sed -n &amp;#39;5,7p&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt; lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt; sync:x:5:0:sync:/sbin:/bin/sync
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt; shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ•°æ®çš„æœå¯»å¹¶æ˜¾ç¤º&#34;&gt;æ•°æ®çš„æœå¯»å¹¶æ˜¾ç¤º&lt;/h3&gt;
&lt;p&gt;æœç´¢ /etc/passwdæœ‰rootå…³é”®å­—çš„è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;nl /etc/passwd | sed &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/root/p&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;  root:x:0:0:root:/root:/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;  root:x:0:0:root:/root:/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;  daemon:x:1:1:daemon:/usr/sbin:/bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;  bin:x:2:2:bin:/bin:/bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;  sys:x:3:3:sys:/dev:/bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;  sync:x:4:65534:sync:/bin:/bin/sync
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;....ä¸‹é¢å¿½ç•¥
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœrootæ‰¾åˆ°ï¼Œé™¤äº†è¾“å‡ºæ‰€æœ‰è¡Œï¼Œè¿˜ä¼šè¾“å‡ºåŒ¹é…è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨-nçš„æ—¶å€™å°†åªæ‰“å°åŒ…å«æ¨¡æ¿çš„è¡Œã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;nl /etc/passwd | sed -n &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/root/p&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;  root:x:0:0:root:/root:/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ•°æ®çš„æœå¯»å¹¶åˆ é™¤&#34;&gt;æ•°æ®çš„æœå¯»å¹¶åˆ é™¤&lt;/h3&gt;
&lt;p&gt;åˆ é™¤/etc/passwdæ‰€æœ‰åŒ…å«rootçš„è¡Œï¼Œå…¶ä»–è¡Œè¾“å‡º&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;nl /etc/passwd | sed  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/root/d&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;  daemon:x:1:1:daemon:/usr/sbin:/bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;  bin:x:2:2:bin:/bin:/bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;....ä¸‹é¢å¿½ç•¥
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#ç¬¬ä¸€è¡Œçš„åŒ¹é…rootå·²ç»åˆ é™¤äº†&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ•°æ®çš„æœå¯»å¹¶æ‰§è¡Œå‘½ä»¤&#34;&gt;æ•°æ®çš„æœå¯»å¹¶æ‰§è¡Œå‘½ä»¤&lt;/h3&gt;
&lt;p&gt;æ‰¾åˆ°åŒ¹é…æ¨¡å¼easternçš„è¡Œåï¼Œ
æœç´¢/etc/passwd,æ‰¾åˆ°rootå¯¹åº”çš„è¡Œï¼Œæ‰§è¡Œåé¢èŠ±æ‹¬å·ä¸­çš„ä¸€ç»„å‘½ä»¤ï¼Œæ¯ä¸ªå‘½ä»¤ä¹‹é—´ç”¨åˆ†å·åˆ†éš”ï¼Œè¿™é‡ŒæŠŠbashæ›¿æ¢ä¸ºblueshellï¼Œå†è¾“å‡ºè¿™è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; nl /etc/passwd | sed -n &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/root/{s/bash/blueshell/;p}&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;  root:x:0:0:root:/root:/bin/blueshell
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœåªæ›¿æ¢/etc/passwdçš„ç¬¬ä¸€ä¸ªbashå…³é”®å­—ä¸ºblueshellï¼Œå°±é€€å‡º&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;nl /etc/passwd | sed -n &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/bash/{s/bash/blueshell/;p;q}&amp;#39;&lt;/span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;  root:x:0:0:root:/root:/bin/blueshell
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ€åçš„qæ˜¯é€€å‡ºã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ•°æ®çš„æœå¯»å¹¶æ›¿æ¢&#34;&gt;æ•°æ®çš„æœå¯»å¹¶æ›¿æ¢&lt;/h3&gt;
&lt;p&gt;é™¤äº†æ•´è¡Œçš„å¤„ç†æ¨¡å¼ä¹‹å¤–ï¼Œ sed è¿˜å¯ä»¥ç”¨è¡Œä¸ºå•ä½è¿›è¡Œéƒ¨åˆ†æ•°æ®çš„æœå¯»å¹¶å–ä»£ã€‚åŸºæœ¬ä¸Š sed çš„æœå¯»ä¸æ›¿ä»£çš„ä¸ vi ç›¸å½“çš„ç±»ä¼¼ï¼ä»–æœ‰ç‚¹åƒè¿™æ ·ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sed &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;s/è¦è¢«å–ä»£çš„å­—ä¸²/æ–°çš„å­—ä¸²/g&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…ˆè§‚å¯ŸåŸå§‹ä¿¡æ¯ï¼Œåˆ©ç”¨ /sbin/ifconfig æŸ¥è¯¢ IP&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@www ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# /sbin/ifconfig eth0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;eth0 Link encap:Ethernet HWaddr 00:90:CC:A6:34:84
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;inet addr:192.168.1.100 Bcast:192.168.1.255 Mask:255.255.255.0
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;inet6 addr: fe80::290:ccff:fea6:3484/64 Scope:Link
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.....&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;ä»¥ä¸‹çœç•¥&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;.....
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ¬æœºçš„ipæ˜¯192.168.1.100ã€‚&lt;/p&gt;
&lt;p&gt;å°† IP å‰é¢çš„éƒ¨åˆ†äºˆä»¥åˆ é™¤&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@www ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# /sbin/ifconfig eth0 | grep &amp;#39;inet addr&amp;#39; | sed &amp;#39;s/^.*addr://g&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;192.168.1.100 Bcast:192.168.1.255 Mask:255.255.255.0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¥ä¸‹æ¥åˆ™æ˜¯åˆ é™¤åç»­çš„éƒ¨åˆ†ï¼Œäº¦å³ï¼š 192.168.1.100 Bcast:192.168.1.255 Mask:255.255.255.0
å°† IP åé¢çš„éƒ¨åˆ†äºˆä»¥åˆ é™¤&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@www ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# /sbin/ifconfig eth0 | grep &amp;#39;inet addr&amp;#39; | sed &amp;#39;s/^.*addr://g&amp;#39; | sed &amp;#39;s/Bcast.*$//g&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;192.168.1.100
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å¤šç‚¹ç¼–è¾‘&#34;&gt;å¤šç‚¹ç¼–è¾‘&lt;/h3&gt;
&lt;p&gt;ä¸€æ¡sedå‘½ä»¤ï¼Œåˆ é™¤/etc/passwdç¬¬ä¸‰è¡Œåˆ°æœ«å°¾çš„æ•°æ®ï¼Œå¹¶æŠŠbashæ›¿æ¢ä¸ºblueshell&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;nl /etc/passwd | sed -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;3,$d&amp;#39;&lt;/span&gt; -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;s/bash/blueshell/&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;  root:x:0:0:root:/root:/bin/blueshell
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;  daemon:x:1:1:daemon:/usr/sbin:/bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;-e&lt;/code&gt;è¡¨ç¤ºå¤šç‚¹ç¼–è¾‘ï¼Œç¬¬ä¸€ä¸ªç¼–è¾‘å‘½ä»¤åˆ é™¤/etc/passwdç¬¬ä¸‰è¡Œåˆ°æœ«å°¾çš„æ•°æ®ï¼Œç¬¬äºŒæ¡å‘½ä»¤æœç´¢bashæ›¿æ¢ä¸ºblueshellã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç›´æ¥ä¿®æ”¹æ–‡ä»¶å†…å®¹å±é™©åŠ¨ä½œ&#34;&gt;ç›´æ¥ä¿®æ”¹æ–‡ä»¶å†…å®¹(å±é™©åŠ¨ä½œ)&lt;/h3&gt;
&lt;p&gt;sed å¯ä»¥ç›´æ¥ä¿®æ”¹æ–‡ä»¶çš„å†…å®¹ï¼Œä¸å¿…ä½¿ç”¨ç®¡é“å‘½ä»¤æˆ–æ•°æ®æµé‡å¯¼å‘ï¼ ä¸è¿‡ï¼Œç”±æ–¼è¿™ä¸ªåŠ¨ä½œä¼šç›´æ¥ä¿®æ”¹åˆ°åŸå§‹çš„æ–‡ä»¶ï¼Œæ‰€ä»¥è¯·ä½ åƒä¸‡ä¸è¦éšä¾¿æ‹¿ç³»ç»Ÿé…ç½®æ¥æµ‹è¯•ï¼ æˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨ä¸‹è½½çš„ regular_express.txt æ–‡ä»¶æ¥æµ‹è¯•çœ‹çœ‹å§ï¼&lt;/p&gt;
&lt;p&gt;åˆ©ç”¨ sed å°† regular_express.txt å†…æ¯ä¸€è¡Œç»“å°¾è‹¥ä¸º . åˆ™æ¢æˆ !&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@www ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# sed -i &amp;#39;s/\.$/\!/g&amp;#39; regular_express.txt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ©ç”¨ sed ç›´æ¥åœ¨ regular_express.txt æœ€åä¸€è¡ŒåŠ å…¥ã€# This is a testã€&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@www ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# sed -i &amp;#39;$a # This is a test&amp;#39; regular_express.txt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç”±æ–¼ $ ä»£è¡¨çš„æ˜¯æœ€åä¸€è¡Œï¼Œè€Œ a çš„åŠ¨ä½œæ˜¯æ–°å¢ï¼Œå› æ­¤è¯¥æ–‡ä»¶æœ€åæ–°å¢ã€# This is a testã€ï¼&lt;/p&gt;
&lt;p&gt;sed çš„ã€ -i ã€é€‰é¡¹å¯ä»¥ç›´æ¥ä¿®æ”¹æ–‡ä»¶å†…å®¹ï¼Œè¿™åŠŸèƒ½éå¸¸æœ‰å¸®åŠ©ï¼ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ª 100 ä¸‡è¡Œçš„æ–‡ä»¶ï¼Œä½ è¦åœ¨ç¬¬ 100 è¡ŒåŠ æŸäº›æ–‡å­—ï¼Œæ­¤æ—¶ä½¿ç”¨ vim å¯èƒ½ä¼šç–¯æ‰ï¼å› ä¸ºæ–‡ä»¶å¤ªå¤§äº†ï¼é‚£æ€åŠï¼Ÿå°±åˆ©ç”¨ sed å•Šï¼é€è¿‡ sed ç›´æ¥ä¿®æ”¹/å–ä»£çš„åŠŸèƒ½ï¼Œä½ ç”šè‡³ä¸éœ€è¦ä½¿ç”¨ vim å»ä¿®è®¢ï¼&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Hexo pureä¸»é¢˜é…ç½®utterancè¯„è®º</title>
        <link>https://lxb.wiki/852e4155/</link>
        <pubDate>Wed, 11 May 2022 22:15:38 +0000</pubDate>
        
        <guid>https://lxb.wiki/852e4155/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;utteranc å®˜ç½‘
&lt;a class=&#34;link&#34; href=&#34;https://utteranc.es/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://utteranc.es/&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;1-å®‰è£…åº”ç”¨&#34;&gt;1 å®‰è£…åº”ç”¨&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/apps/utterances&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/apps/utterances&lt;/a&gt;
è®¾ç½®æŒ‡å®šä»“åº“&lt;/p&gt;
&lt;h2 id=&#34;2-åŸºæœ¬å‚æ•°&#34;&gt;2 åŸºæœ¬å‚æ•°&lt;/h2&gt;
&lt;p&gt;å®˜æ–¹çš„è„šæœ¬å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;script&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;src&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://utteranc.es/client.js&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;repo&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;yansheng836/yansheng836.github.io&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;issue&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;term&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;title&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;theme&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;github-light&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;crossorigin&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;anonymous&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;async&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;/script&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸»è¦å‚æ•°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;repoï¼šå­˜æ”¾è¯„è®ºçš„issuesçš„ä»“åº“åï¼ˆå³æ­¥éª¤1æŒ‡å®šè®¿é—®çš„ä»“åº“ï¼‰ï¼Œå¯ä»¥å’Œåšå®¢ç›¸åŒï¼Œä¹Ÿå¯ä»¥ä¸åŒã€‚&lt;/li&gt;
&lt;li&gt;issue-termï¼šæŒ‡å®šissuesçš„æ ‡é¢˜ï¼Œtitleè¡¨ç¤ºä½¿ç”¨æ–‡ç« çš„æ ‡é¢˜ä½œä¸ºissuesçš„æ ‡é¢˜ã€‚å¯é€‰å‚æ•°ï¼ˆåªä»‹ç»éƒ¨åˆ†ï¼‰ï¼š&lt;/li&gt;
&lt;li&gt;URLï¼šåšå®¢ç½‘å€ï¼šç½‘å€å…¨è·¯å¾„&lt;/li&gt;
&lt;li&gt;pathnameï¼šURL å»æ‰åŸŸå&lt;/li&gt;
&lt;li&gt;titleï¼šåšå®¢æ ‡é¢˜ï¼ˆæ¨èä½¿ç”¨è¿™ä¸ªï¼Œå› ä¸ºä¸Šé¢ä¸¤ä¸ªæ¶‰åŠåˆ°ç½‘å€ï¼Œå¦‚æœç½‘å€åŒ…å«ä¸­æ–‡ï¼Œä¼šè¢«è½¬ä¹‰ï¼Œä¸æ–¹ä¾¿çœ‹ã€‚ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20221216220503.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;themeï¼šè¯„è®ºç³»ç»Ÿçš„ä¸»é¢˜ï¼Œåœ¨Themeé‡Œé¢ï¼Œé€‰æ‹©ä¸»é¢˜ï¼Œé¡µé¢ä¼šå˜è‰²ï¼šhttps://utteranc.es/#heading-theme&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;3-pure-ä¸»é¢˜é…ç½®&#34;&gt;3 pure ä¸»é¢˜é…ç½®&lt;/h2&gt;
&lt;p&gt;ä¿®æ”¹ &lt;code&gt;themes/pure/_config.yml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;comment type æ”¹ä¸º utterance&lt;/strong&gt;
&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20221216220923.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ·»åŠ  utterance ç›¸å…³é…ç½®&lt;/strong&gt;
&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20221216221120.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¿®æ”¹ ejs&lt;/strong&gt;
åœ¨ &lt;code&gt;themes/pure/layout/_partial/post/comment.ejs&lt;/code&gt; æ–‡ä»¶ä¸­æ’å…¥ä»¥ä¸‹ä»£ç &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;%&lt;/span&gt; } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;theme&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;comment&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;===&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;utterance&amp;#39;&lt;/span&gt;) { &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;%&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;theme&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;comment&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;utterance&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;enable&lt;/span&gt;){ &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;section&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;id&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;comments&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;comments&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;style&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            .&lt;span style=&#34;color:#a6e22e&#34;&gt;utterances&lt;/span&gt;{&lt;span style=&#34;color:#a6e22e&#34;&gt;max&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;width&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt;;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;/style&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;script&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;src&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://utteranc.es/client.js&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#a6e22e&#34;&gt;repo&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;%= theme.comment.utterance.repo %&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#a6e22e&#34;&gt;issue&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;term&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;%= theme.comment.utterance.issue_term %&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#a6e22e&#34;&gt;theme&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;%= theme.comment.utterance.theme %&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#a6e22e&#34;&gt;crossorigin&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;anonymous&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;async&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;/script&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;/section&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;%&lt;/span&gt; } &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Macä¸Šç§»é™¤EasyConnectå¸¸é©»åå°è¿›ç¨‹</title>
        <link>https://lxb.wiki/446d3604/</link>
        <pubDate>Sun, 01 May 2022 20:04:28 +0000</pubDate>
        
        <guid>https://lxb.wiki/446d3604/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;EasyConnect ä¼šåœ¨åå°å¼ºè¡Œæ·»åŠ åä¸º EasyMonitor çš„å¼€æœºè‡ªå¯å®ˆæŠ¤è¿›ç¨‹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å…³é—­&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo launchctl unload /Library/LaunchDaemons/com.sangfor.EasyMonitor.plist
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯å®é™…ä¸Š EasyConnect è¿˜å¯åŠ¨äº†å¦ä¸€ä¸ªâ€œæ€ä¸æ‰â€çš„åå°è¿›ç¨‹ ECAgentï¼Œæ´»åŠ¨é¢‘ç‡å¾ˆä½ï¼Œä¼¼ä¹ä¸ä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Œç•¥æ˜¾ä¸èµ·çœ¼ã€‚ä½†è¿™æ— æ³•ä½œä¸ºå®ƒè‚†æ„å¸¸é©»çš„ç†ç”±ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç¦ç”¨&#34;&gt;ç¦ç”¨&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆæ‰¾åˆ° plist æ–‡ä»¶ï¼Œåœ¨ &lt;code&gt;/Library/LaunchAgents/com.sangfor.ECAgentProxy.plist&lt;/code&gt;ã€‚å®ƒæ— æ³•è¢« launchctl unloadï¼Œä¸è¿‡æ²¡å…³ç³»ï¼Œä½ å¯ä»¥ç›´æ¥æŠŠå®ƒæŒªèµ°æˆ–åˆ é™¤ï¼Œå¹¶ä¸”ä»Šåéƒ½ä¸å†éœ€è¦å®ƒã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo mv /Library/LaunchAgents/com.sangfor.ECAgentProxy.plist ~
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å½“ç„¶è¿™æ—¶å€™å®ƒè¿˜æ˜¯ä¸èƒ½è¢« kill æ‰ï¼Œè¦æƒ³ä» launchctl ä¸­åˆ é™¤è€Œä¸é‡å¯ç”µè„‘ï¼Œå¯ä»¥é‡‡ç”¨ launchctl removeã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;launchctl remove com.sangfor.ECAgentProxy
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å¯ç”¨&#34;&gt;å¯ç”¨&lt;/h2&gt;
&lt;p&gt;å…³é—­åå°è¿›ç¨‹ä¹‹åï¼Œå¯åŠ¨ EasyConnect ä¼šå¼¹å‡ºè­¦å‘Šï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Alert
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Initialization failed. Please try reinstalling!
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‰€ä»¥ éœ€è¦ä½¿ç”¨æ—¶ï¼Œå¿…é¡»é‡æ–°åŠ è½½ EasyMonitorã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# EasyConnect v7.6.7 å¼€å§‹ EasyMonitor å¿…é¡»åœ¨ root æƒé™ä¸‹è¿è¡Œï¼Œæ­¤å‰ç‰ˆæœ¬å¯ä»¥ä¸åŠ  sudo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo launchctl load /Library/LaunchDaemons/com.sangfor.EasyMonitor.plist
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è€Œ ECAgent å°±æ²¡è¿™ä¹ˆéº»çƒ¦äº†ï¼Œå®ƒæ ¹æœ¬ä¸å¿…åå°å¸¸é©» â€”â€” EasyConnect å¯åŠ¨æ—¶ä¼šè‡ªå·±åˆ›å»ºä¸€ä¸ªï¼Œå¹¶ä¸”ä¼šéšç€ EasyConnect è¿›ç¨‹ä¸€èµ·é€€å‡ºã€‚æœ€ç»ˆæˆ‘åˆ æ‰äº† &lt;code&gt;com.sangfor.ECAgentProxy.plist&lt;/code&gt; æ–‡ä»¶çš„å¤‡ä»½ã€‚&lt;/p&gt;
&lt;h2 id=&#34;mac-ä¸‹ç¦ç”¨å¼€æœºè‡ªå¯è½¯ä»¶&#34;&gt;Mac ä¸‹ç¦ç”¨å¼€æœºè‡ªå¯è½¯ä»¶&lt;/h2&gt;
&lt;p&gt;æœ‰éƒ¨åˆ†è½¯ä»¶çš„å¼€æœºå¯åŠ¨é¡¹æ”¾åœ¨ &lt;code&gt;/Library/LaunchDaemons&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;sudo launchctl unload xxx.plist&lt;/code&gt; å¯ä»¥å»æ‰æŸä¸ªè½¯ä»¶çš„å¼€æœºè‡ªå¯&lt;/p&gt;
&lt;p&gt;æ·±ä¿¡æœçš„ EasyConnect æœ‰ä¸€ä¸ªè¿›ç¨‹å«åš EasyMonitor å¯ä»¥è¯´æ˜¯éå¸¸æµæ°“äº†ï¼Œå¼€æœºè‡ªå¯ + å¸¸é©»å†…å­˜ + å†…å­˜æ³„éœ²ï¼Œæ—¶é—´é•¿äº†ä»¥åä¼šå ç”¨ 1g ä»¥ä¸Šçš„å†…å­˜ã€‚
å®ƒçš„ plist ä½äº &lt;code&gt;/Library/LaunchDaemons/com.sangfor.EasyMonitor.plist&lt;/code&gt; ä½¿ç”¨ä¸Šè¿°å‘½ä»¤å¯ä»¥å¹²æ‰å®ƒã€‚&lt;/p&gt;
&lt;p&gt;å¹²æ‰ä»–è¿™ä¸ªè¿›ç¨‹éå¸¸å¼€å¿ƒï¼Œä½†æ˜¯ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå†æ¬¡å¯åŠ¨ EasyConnect çš„æ—¶å€™ï¼Œå®ƒä¸ä¹æ„äº†ï¼Œä¼šæç¤ºåˆå§‹åŒ–å¤±è´¥ï¼Œè¯·é‡æ–°å®‰è£…ï¼Œè¿™æ—¶å€™å°±å¾—é‡æ–° load è¿™ä¸ª plist äº†ï¼Œæ‰§è¡Œ &lt;code&gt;sudo launchctl load /Library/LaunchDaemons/com.sangfor.EasyMonitor.plist&lt;/code&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘å¦‚ä½•æŠŠWordPressç½‘ç«™è¿ç§»åˆ°æ–°ä¸»æœº</title>
        <link>https://lxb.wiki/ea5f4ef1/</link>
        <pubDate>Sun, 24 Apr 2022 21:36:34 +0000</pubDate>
        
        <guid>https://lxb.wiki/ea5f4ef1/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½¿ç”¨è¿™ä¸ªç®€å•çš„æ–¹æ³•æ¥è¿ç§»ä¸€ä¸ªç½‘ç«™ä»¥åŠç®¡ç†é˜²ç«å¢™é…ç½®ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä½ æœ‰è¿‡æŠŠä¸€ä¸ª WordPress ç½‘ç«™è¿ç§»åˆ°ä¸€å°æ–°ä¸»æœºä¸Šçš„éœ€æ±‚å—ï¼Ÿæˆ‘æ›¾ç»è¿ç§»è¿‡å¥½å¤šæ¬¡ï¼Œè¿ç§»è¿‡ç¨‹ç›¸å½“ç®€å•ã€‚å½“ç„¶ï¼Œçš„çš„å¸‚åœºæ—¶å€™æˆ‘éƒ½ä¸ä¼šç”¨é€šç”¨çš„æ¨èæ–¹æ³•ï¼Œè¿™æ¬¡ä¹Ÿä¸ä¾‹å¤– â€”â€” æˆ‘ç”¨æ›´ç®€å•çš„æ–¹æ³•ï¼Œè¿™æ‰æ˜¯æˆ‘æ¨èçš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªè¿ç§»æ–¹æ³•æ²¡æœ‰ç ´åæ€§ï¼Œå› æ­¤å¦‚æœå‡ºäºæŸäº›åŸå› ä½ éœ€è¦è¿˜åŸåˆ°åŸæ¥çš„æœåŠ¡å™¨ä¸Šï¼Œå¾ˆå®¹æ˜“å¯ä»¥å®ç°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸€ä¸ª-wordpress-ç½‘ç«™çš„ç»„æˆéƒ¨åˆ†&#34;&gt;ä¸€ä¸ª WordPress ç½‘ç«™çš„ç»„æˆéƒ¨åˆ†&lt;/h3&gt;
&lt;p&gt;è¿è¡Œä¸€ä¸ªåŸºäº &lt;a class=&#34;link&#34; href=&#34;#&#34; &gt;WordPress&lt;/a&gt; çš„ç½‘ç«™æœ‰ä¸‰ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ï¼šWordPress æœ¬èº«ï¼Œä¸€ä¸ª web æœåŠ¡å™¨ï¼Œå¦‚ &lt;a class=&#34;link&#34; href=&#34;#&#34; &gt;Apache&lt;/a&gt;ï¼ˆæˆ‘æ­£åœ¨ç”¨ï¼‰ï¼Œä»¥åŠ &lt;a class=&#34;link&#34; href=&#34;#&#34; &gt;MariaDB&lt;/a&gt;ã€‚MariaDB æ˜¯ MySQL çš„ä¸€ä¸ªåˆ†æ”¯ï¼ŒåŠŸèƒ½ç›¸ä¼¼ã€‚&lt;/p&gt;
&lt;p&gt;ä¸šç•Œæœ‰å¤§é‡çš„ Web æœåŠ¡å™¨ï¼Œç”±äºæˆ‘ä½¿ç”¨äº† Apache å¾ˆé•¿æ—¶é—´ï¼Œå› æ­¤æˆ‘æ¨èç”¨ Apacheã€‚ä½ å¯èƒ½éœ€è¦æŠŠ Apache çš„é…ç½®æ–¹æ³•æ”¹æˆä½ ç”¨çš„ Web æœåŠ¡å™¨çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åˆå§‹é…ç½®&#34;&gt;åˆå§‹é…ç½®&lt;/h3&gt;
&lt;p&gt;æˆ‘ä½¿ç”¨ä¸€å° Linux ä¸»æœºä½œä¸ºé˜²ç«å¢™å’Œç½‘ç»œè·¯ç”±ã€‚åœ¨æˆ‘çš„ç½‘ç»œä¸­ Web æœåŠ¡å™¨æ˜¯å¦ä¸€å°ä¸»æœºã€‚æˆ‘çš„å†…éƒ¨ç½‘ç»œä½¿ç”¨çš„æ˜¯ C ç±»ç§æœ‰ç½‘ç»œåœ°å€èŒƒå›´ï¼ŒæŒ‰ [æ— ç±»åˆ«åŸŸé—´è·¯ç”±][5]Classless Internet Domain Routingï¼ˆCIDRï¼‰æ–¹å¼ç®€å•åœ°è®°ä½œ 192.168.0.0/24ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºé˜²ç«å¢™ï¼Œç›¸æ¯”äºæ›´å¤æ‚çš„ &lt;code&gt;firewalld&lt;/code&gt;ï¼Œæˆ‘æ›´å–œæ¬¢ç”¨éå¸¸ç®€å•çš„ &lt;a class=&#34;link&#34; href=&#34;#&#34; &gt;IPTables&lt;/a&gt;ã€‚è¿™ä»½é˜²ç«å¢™é…ç½®ä¸­çš„ä¸€è¡Œä¼šæŠŠ 80 ç«¯å£ï¼ˆHTTPï¼‰æ¥æ”¶åˆ°çš„åŒ…å‘é€ç»™ Web æœåŠ¡å™¨ã€‚åœ¨ &lt;code&gt;/etc/sysconfig/iptables&lt;/code&gt; æ–‡ä»¶ä¸­ï¼Œä½ å¯ä»¥åœ¨æ³¨é‡Šä¸­çœ‹åˆ°ï¼Œæˆ‘æ·»åŠ äº†è§„åˆ™ï¼ŒæŠŠå…¶ä»–å…¥ç«™æœåŠ¡å™¨è¿æ¥è½¬å‘åˆ°åŒä¸€å°æœåŠ¡å™¨ä¸Šåˆé€‚çš„ç«¯å£ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;æˆ‘ä½¿ç”¨å‘½åè™šæ‹Ÿä¸»æœºnamed virtual hostæ¥é…ç½®åŸæ¥çš„ Apache Web æœåŠ¡å™¨ï¼Œå› ä¸ºæˆ‘åœ¨è¿™ä¸ª HTTPD å®ä¾‹ä¸Šè¿è¡Œç€å¤šä¸ªç½‘ç«™ã€‚ä½¿ç”¨å‘½åè™šæ‹Ÿä¸»æœºé…ç½®æ˜¯ä¸ªä¸é”™çš„æ–¹æ³•ï¼Œå› ä¸ºï¼ˆåƒæˆ‘ä¸€æ ·ï¼‰æœªæ¥ä½ å¯èƒ½ä¼šåœ¨è¿è¡Œå…¶ä»–çš„ç½‘ç«™ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥ä½¿å…¶å˜å¾—å®¹æ˜“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;/etc/httpd/conf/httpd.conf&lt;/code&gt; ä¸­éœ€è¦è¿ç§»çš„è™šæ‹Ÿä¸»æœºçš„ç½‘ç«™ç›¸å…³éƒ¨åˆ†è¯·å‚è€ƒä¸‹é¢ä»£ç ã€‚è¿™ä¸ªç‰‡æ®µä¸­ä¸æ¶‰åŠåˆ° IP åœ°å€çš„ä¿®æ”¹ï¼Œå› æ­¤åœ¨æ–°æœåŠ¡å™¨ä¸Šä½¿ç”¨æ—¶ä¸éœ€è¦ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;åœ¨è¿ç§»ä¹‹å‰ï¼Œä½ éœ€è¦åœ¨ &lt;code&gt;httpd.conf&lt;/code&gt; çš„æœ€é¡¶ç«¯é™„è¿‘æ‰¾åˆ° &lt;code&gt;Listen&lt;/code&gt; å£°æ˜å¹¶ä¿®æ”¹æˆç±»ä¼¼ä¸‹é¢è¿™æ ·ã€‚è¿™ä¸ªåœ°å€æ˜¯æœåŠ¡å™¨çš„çœŸå®ç§æœ‰ IP åœ°å€ï¼Œä¸æ˜¯å…¬å¼€ IP åœ°å€ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;ä½ éœ€è¦ä¿®æ”¹æ–°ä¸»æœºä¸Š &lt;code&gt;Listen&lt;/code&gt; çš„ IP åœ°å€ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å‰æœŸå·¥ä½œ&#34;&gt;å‰æœŸå·¥ä½œ&lt;/h3&gt;
&lt;p&gt;å‡†å¤‡å·¥ä½œåˆ†ä¸ºä»¥ä¸‹ä¸‰æ­¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®‰è£…æœåŠ¡&lt;/li&gt;
&lt;li&gt;é…ç½®é˜²ç«å¢™&lt;/li&gt;
&lt;li&gt;é…ç½® web æœåŠ¡å™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å®‰è£…-apache-å’Œ-mariadb&#34;&gt;å®‰è£… Apache å’Œ MariaDB&lt;/h4&gt;
&lt;p&gt;å¦‚æœä½ çš„æ–°æœåŠ¡å™¨ä¸Šè¿˜æ²¡æœ‰ Apache å’Œ MariaDBï¼Œé‚£ä¹ˆå°±å®‰è£…å®ƒä»¬ã€‚WordPress çš„å®‰è£…ä¸æ˜¯å¿…è¦çš„ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;h4 id=&#34;æ–°æœåŠ¡å™¨é˜²ç«å¢™é…ç½®&#34;&gt;æ–°æœåŠ¡å™¨é˜²ç«å¢™é…ç½®&lt;/h4&gt;
&lt;p&gt;ç¡®è®¤ä¸‹æ–°æœåŠ¡å™¨ä¸Šçš„é˜²ç«å¢™å…è®¸è®¿é—® 80 ç«¯å£ã€‚ä½ &lt;em&gt;æ¯å°&lt;/em&gt;ç”µè„‘ä¸Šéƒ½æœ‰ä¸€ä¸ªé˜²ç«å¢™ï¼Œå¯¹å—ï¼Ÿå¤§éƒ¨åˆ†ç°ä»£å‘è¡Œç‰ˆä½¿ç”¨çš„åˆå§‹åŒ–é…ç½®åŒ…å«çš„é˜²ç«å¢™ä¼šé˜»æ­¢æ‰€æœ‰è¿›æ¥çš„ç½‘ç»œæµé‡ï¼Œä»¥æ­¤æ¥æé«˜å®‰å…¨ç­‰çº§ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢ç‰‡æ®µçš„ç¬¬ä¸€è¡Œå†…å®¹å¯èƒ½å·²ç»åœ¨ä½ çš„ IPTables æˆ–å…¶ä»–åŸºäºé˜²ç«å¢™çš„ç½‘ç»œè¿‡æ»¤å™¨ä¸­å­˜åœ¨äº†ã€‚å®ƒæ ‡è¯†å·²ç»è¢«è¯†åˆ«ä¸ºæ¥è‡ªå¯æ¥å—æ¥æºçš„å…¥ç«™åŒ…ï¼Œå¹¶ç»•è¿‡åé¢çš„å…¶å®ƒ INPUT è¿‡æ»¤è§„åˆ™ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœæ—¶é—´å’Œ CPU å‘¨æœŸã€‚ç‰‡æ®µä¸­æœ€åä¸€è¡Œæ ‡è¯†å¹¶æ”¾è¡Œ 80 ç«¯å£æ–°è¿›æ¥çš„è¯·æ±‚åˆ° HTTPD çš„è¿æ¥ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;ä¸‹é¢çš„ç¤ºä¾‹ &lt;code&gt;/etc/sysconfig/iptables&lt;/code&gt; æ–‡ä»¶æ˜¯ IPTables æœ€å°‘è§„åˆ™çš„ä¾‹å­ï¼Œå¯ä»¥å…è®¸ SSHï¼ˆç«¯å£ 22ï¼‰å’Œ HTTPDï¼ˆç«¯å£ 80ï¼‰è¿æ¥ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;åœ¨æ–°æœåŠ¡å™¨ä¸»æœºä¸Šæˆ‘éœ€è¦åšçš„å°±æ˜¯åœ¨ &lt;code&gt;/etc/sysconfig/iptables&lt;/code&gt; æ–‡ä»¶çš„é˜²ç«å¢™è§„åˆ™é‡Œæ·»åŠ ä¸Šé¢ç‰‡æ®µçš„æœ€åä¸€è¡Œï¼Œç„¶åé‡æ–°åŠ è½½ä¿®æ”¹åçš„è§„åˆ™é›†ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;å¤§éƒ¨åˆ†åŸºäºçº¢å¸½çš„å‘è¡Œç‰ˆæœ¬ï¼Œå¦‚ Fedoraï¼Œä½¿ç”¨çš„æ˜¯ &lt;code&gt;firewalld&lt;/code&gt;ã€‚æˆ‘å‘ç°å¯¹äºå®ƒçš„é€‚ç”¨åœºæ™¯ï¼ˆå¦‚å®¶ç”¨ã€å°åˆ°ä¸­å‹ä¼ä¸šï¼‰è€Œè¨€ï¼Œå®ƒè¿‡äºå¤æ‚ï¼Œå› æ­¤æˆ‘ä¸ç”¨å®ƒã€‚æˆ‘å»ºè®®ä½ å‚ç…§ &lt;a class=&#34;link&#34; href=&#34;#&#34; &gt;firewalld ç½‘é¡µ&lt;/a&gt; æ¥å‘ &lt;code&gt;firewalld&lt;/code&gt; æ·»åŠ å…¥ç«™ç«¯å£ 80ã€‚&lt;/p&gt;
&lt;p&gt;ä½ çš„é˜²ç«å¢™åŠå…¶é…ç½®å¯èƒ½è·Ÿè¿™ä¸ªæœ‰äº›å·®å¼‚ï¼Œä½†æœ€ç»ˆçš„ç›®çš„æ˜¯å…è®¸æ–° Web æœåŠ¡å™¨ 80 ç«¯å£æ¥æ”¶ HTTPD è¿æ¥ã€‚&lt;/p&gt;
&lt;h4 id=&#34;httpd-é…ç½®&#34;&gt;HTTPD é…ç½®&lt;/h4&gt;
&lt;p&gt;åœ¨ &lt;code&gt;/etc/httpd/conf/httpd.conf&lt;/code&gt; æ–‡ä»¶ä¸­é…ç½® HTTPDã€‚åƒä¸‹é¢ä¸€æ ·åœ¨ &lt;code&gt;Listen&lt;/code&gt; ç‰‡æ®µä¸­è®¾ç½® IP åœ°å€ã€‚æˆ‘çš„æ–° Web æœåŠ¡å™¨ IP åœ°å€æ˜¯ &lt;code&gt;192.168.0.125&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;å¤åˆ¶ï¼ˆå¯¹åº”è¦è¿ç§»çš„ç½‘ç«™çš„ï¼‰ &lt;code&gt;VirtualHost&lt;/code&gt; ç‰‡æ®µï¼Œç²˜è´´åˆ°æ–°æœåŠ¡å™¨ä¸Š &lt;code&gt;httpd.conf&lt;/code&gt; æ–‡ä»¶çš„æœ«å°¾ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è¿ç§»è¿‡ç¨‹&#34;&gt;è¿ç§»è¿‡ç¨‹&lt;/h3&gt;
&lt;p&gt;åªæœ‰ä¸¤ç»„æ•°æ®éœ€è¦è¿ç§»åˆ°æ–°æœåŠ¡å™¨ â€”â€” æ•°æ®åº“æœ¬èº«å’Œç½‘ç«™ç›®å½•ç»“æ„ã€‚æŠŠä¸¤ä¸ªç›®å½•æ‰“åŒ…æˆ &lt;code&gt;tar&lt;/code&gt; æ–‡æ¡£ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;æŠŠä¸¤ä¸ª tar æ–‡ä»¶å¤åˆ¶åˆ°æ–°æœåŠ¡å™¨ã€‚æˆ‘é€šå¸¸ä¼šæŠŠè¿™ç±»æ–‡ä»¶æ”¾åˆ° &lt;code&gt;/tmp&lt;/code&gt; ä¸‹ï¼Œè¿™ä¸ªç›®å½•å°±æ˜¯ç”¨æ¥åšè¿™ç§äº‹çš„ã€‚åœ¨æ–°æœåŠ¡å™¨ä¸Šè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼ŒæŠŠ tar æ–‡æ¡£è§£å‹åˆ°æ­£ç¡®çš„ç›®å½•ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;WordPress çš„æ‰€æœ‰æ–‡ä»¶éƒ½åœ¨ &lt;code&gt;/var/website1&lt;/code&gt; ä¸‹ï¼Œå› æ­¤ä¸éœ€è¦åœ¨æ–°æœåŠ¡å™¨ä¸Šå®‰è£…å®ƒã€‚æ–°æœåŠ¡å™¨ä¸Šä¸éœ€è¦æ‰§è¡Œ WordPress å®‰è£…è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªç›®å½•å°±æ˜¯éœ€è¦è¿ç§»åˆ°æ–°æœåŠ¡å™¨ä¸Šçš„å…¨éƒ¨å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åä¸€æ­¥æ˜¯å¯åŠ¨ï¼ˆæˆ–é‡å¯ï¼‰&lt;code&gt;mysqld&lt;/code&gt; å’Œ &lt;code&gt;httpd&lt;/code&gt; æœåŠ¡å®ˆæŠ¤è¿›ç¨‹ã€‚WrodPress ä¸æ˜¯ä¸€ä¸ªæœåŠ¡ï¼Œå› æ­¤ä¸ä½¿ç”¨å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼æ¥å¯åŠ¨ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;å¯åŠ¨ä¹‹åï¼Œä½ åº”è¯¥æ£€æŸ¥ä¸‹è¿™äº›æœåŠ¡çš„çŠ¶æ€ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;h3 id=&#34;æœ€ç»ˆçš„ä¿®æ”¹&#34;&gt;æœ€ç»ˆçš„ä¿®æ”¹&lt;/h3&gt;
&lt;p&gt;ç°åœ¨æ‰€éœ€çš„æœåŠ¡éƒ½å·²ç»è¿è¡Œäº†ï¼Œä½ å¯ä»¥æŠŠ &lt;code&gt;/etc/sysconfig/iptables&lt;/code&gt; æ–‡ä»¶ä¸­ HTTDP çš„é˜²ç«å¢™è§„åˆ™æ”¹æˆä¸‹é¢çš„æ ·å­ï¼š&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;ç„¶åé‡æ–°åŠ è½½è®¾ç½®çš„ IPTables è§„åˆ™ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;ç”±äºé˜²ç«å¢™è§„åˆ™æ˜¯åœ¨é˜²ç«å¢™ä¸»æœºä¸Šï¼Œå› æ­¤ä¸éœ€è¦æŠŠå¤–éƒ¨ DNS å…¥å£æ”¹æˆæŒ‡å‘æ–°æœåŠ¡å™¨ã€‚å¦‚æœä½ ä½¿ç”¨çš„æ˜¯å†…éƒ¨ DNS æœåŠ¡å™¨ï¼Œé‚£ä¹ˆä½ éœ€è¦æŠŠ IP åœ°å€æ”¹æˆå†…éƒ¨ DNS æ•°æ®åº“é‡Œçš„ A è®°å½•ã€‚å¦‚æœä½ æ²¡æœ‰ç”¨å†…éƒ¨ DNS æœåŠ¡å™¨ï¼Œé‚£ä¹ˆè¯·ç¡®ä¿ä¸»æœº &lt;code&gt;/etc/hosts&lt;/code&gt; æ–‡ä»¶é‡Œæ–°æœåŠ¡å™¨åœ°å€è®¾ç½®å¾—æ²¡æœ‰é—®é¢˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æµ‹è¯•å’Œæ¸…ç†&#34;&gt;æµ‹è¯•å’Œæ¸…ç†&lt;/h3&gt;
&lt;p&gt;è¯·ç¡®ä¿å¯¹æ–°é…ç½®è¿›è¡Œæµ‹è¯•ã€‚é¦–å…ˆï¼Œåœæ­¢æ—§æœåŠ¡å™¨ä¸Šçš„ &lt;code&gt;mysqld&lt;/code&gt; å’Œ &lt;code&gt;httpd&lt;/code&gt; æœåŠ¡ã€‚ç„¶åé€šè¿‡æµè§ˆå™¨è®¿é—®ç½‘ç«™ã€‚å¦‚æœä¸€åˆ‡ç¬¦åˆé¢„æœŸï¼Œé‚£ä¹ˆä½ å¯ä»¥å…³æ‰æ—§æœåŠ¡å™¨ä¸Šçš„ &lt;code&gt;mysqld&lt;/code&gt; å’Œ &lt;code&gt;httpd&lt;/code&gt;ã€‚å¦‚æœæœ‰å¤±è´¥ï¼Œä½ å¯ä»¥æŠŠ IPTables çš„è·¯ç”±è§„åˆ™æ”¹å›å»åˆ°æ—§æœåŠ¡å™¨ä¸Šï¼Œç›´åˆ°é—®é¢˜è§£å†³ã€‚&lt;/p&gt;
&lt;p&gt;ä¹‹åæˆ‘æŠŠ MySQL å’Œ HTTPD ä»æ—§æœåŠ¡å™¨ä¸Šåˆ é™¤äº†ï¼Œè¿™æ ·æ¥ç¡®ä¿å®ƒä»¬ä¸ä¼šæ„å¤–åœ°è¢«å¯åŠ¨ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h3&gt;
&lt;p&gt;å°±æ˜¯è¿™ä¹ˆç®€å•ã€‚ä¸éœ€è¦æ‰§è¡Œæ•°æ®åº“å¯¼å‡ºå’Œå¯¼å…¥çš„è¿‡ç¨‹ï¼Œå› ä¸º &lt;code&gt;mysql&lt;/code&gt; ç›®å½•ä¸‹æ‰€æœ‰éœ€è¦çš„ä¸œè¥¿éƒ½å·²ç»å¤åˆ¶è¿‡å»äº†ã€‚éœ€è¦æ‰§è¡Œå¯¼å‡º/å¯¼å…¥è¿‡ç¨‹çš„åœºæ™¯æ˜¯ï¼šæœ‰ç½‘ç«™è‡ªå·±çš„æ•°æ®åº“ä¹‹å¤–çš„æ•°æ®åº“ï¼›MariaDB å®ä¾‹ä¸Šè¿˜æœ‰å…¶ä»–ç½‘ç«™ï¼Œè€Œä½ ä¸æƒ³æŠŠè¿™äº›ç½‘ç«™å¤åˆ¶åˆ°æ–°æœåŠ¡å™¨ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;è¿ç§»æ—§æœåŠ¡å™¨ä¸Šçš„å…¶ä»–ç½‘ç«™ä¹Ÿå¾ˆå®¹æ˜“ã€‚å…¶ä»–ç½‘ç«™ä¾èµ–çš„æ‰€æœ‰æ•°æ®åº“éƒ½å·²ç»éšç€ MariaDB çš„è¿ç§»è¢«è½¬ç§»åˆ°äº†æ–°æœåŠ¡å™¨ä¸Šã€‚ä½ åªéœ€è¦æŠŠ &lt;code&gt;/var/website&lt;/code&gt; ç›®å½•è¿ç§»åˆ°æ–°æœåŠ¡å™¨ï¼Œæ·»åŠ åˆé€‚çš„è™šæ‹Ÿä¸»æœºç‰‡æ®µï¼Œç„¶åé‡å¯ HTTPDã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘éµå¾ªè¿™ä¸ªè¿‡ç¨‹æŠŠå¾ˆå¤šä¸ªç½‘ç«™ä»ä¸€ä¸ªæœåŠ¡å™¨è¿ç§»åˆ°å¦ä¸€ä¸ªæœåŠ¡å™¨ï¼Œæ¯æ¬¡éƒ½æ²¡æœ‰é—®é¢˜ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://opensource.com/article/21/9/migrate-wordpress&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://opensource.com/article/21/9/migrate-wordpress&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;#&#34; &gt;David Both&lt;/a&gt;
é€‰é¢˜ï¼š&lt;a class=&#34;link&#34; href=&#34;#&#34; &gt;lujun9972&lt;/a&gt;
è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Xiaobin.Liu&lt;/a&gt;
æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/wxy&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;wxy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/LCTT/TranslateProject&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;LCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://linux.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Linuxä¸­å›½&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
&lt;p&gt;[a]    &lt;a class=&#34;link&#34; href=&#34;https://opensource.com/users/dboth&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://opensource.com/users/dboth&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[b]    &lt;a class=&#34;link&#34; href=&#34;https://github.com/lujun9972&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/lujun9972&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[1]    &lt;a class=&#34;link&#34; href=&#34;https://opensource.com/sites/default/files/styles/image-full-size/public/lead-images/browser_blue_text_editor_web.png?itok=lcf-m6N7&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://opensource.com/sites/default/files/styles/image-full-size/public/lead-images/browser_blue_text_editor_web.png?itok=lcf-m6N7&lt;/a&gt; Text editor on a browser, in blue&lt;/p&gt;
&lt;p&gt;[2]    &lt;a class=&#34;link&#34; href=&#34;https://wordpress.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://wordpress.org/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[3]    &lt;a class=&#34;link&#34; href=&#34;https://opensource.com/article/18/2/how-configure-apache-web-server&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://opensource.com/article/18/2/how-configure-apache-web-server&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[4]    &lt;a class=&#34;link&#34; href=&#34;https://mariadb.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://mariadb.org/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[5]    &lt;a class=&#34;link&#34; href=&#34;https://opensource.com/article/16/12/cidr-network-notation-configuration-linux&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://opensource.com/article/16/12/cidr-network-notation-configuration-linux&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[6]    &lt;a class=&#34;link&#34; href=&#34;https://en.wikipedia.org/wiki/Iptables&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://en.wikipedia.org/wiki/Iptables&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[7]    &lt;a class=&#34;link&#34; href=&#34;http://www.website1.org&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://www.website1.org&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[8]    mailto:me@website1.org&lt;/p&gt;
&lt;p&gt;[9]    &lt;a class=&#34;link&#34; href=&#34;https://firewalld.org/documentation/howto/open-a-port-or-service.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://firewalld.org/documentation/howto/open-a-port-or-service.html&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘Goä¸­çš„æ¨¡ç³Šæµ‹è¯•</title>
        <link>https://lxb.wiki/dfd7f257/</link>
        <pubDate>Tue, 19 Apr 2022 21:30:29 +0000</pubDate>
        
        <guid>https://lxb.wiki/dfd7f257/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;blockquote&gt;
&lt;p&gt;Go å›¢é˜Ÿæ¥å—äº†æ–°å¢å¯¹æ¨¡ç³Šæµ‹è¯•çš„æ”¯æŒçš„æè®®ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://go.dev/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go&lt;/a&gt; çš„åº”ç”¨è¶Šæ¥è¶Šå¹¿æ³›ã€‚ç°åœ¨å®ƒæ˜¯äº‘åŸç”Ÿè½¯ä»¶ã€å®¹å™¨è½¯ä»¶ã€å‘½ä»¤è¡Œå·¥å…·å’Œæ•°æ®åº“ç­‰ç­‰çš„é¦–é€‰è¯­è¨€ã€‚Go å¾ˆæ—©ä¹‹å‰å°±å·²ç»æœ‰äº†å†…å»ºçš„ &lt;a class=&#34;link&#34; href=&#34;https://pkg.go.dev/testing&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å¯¹æµ‹è¯•çš„æ”¯æŒ&lt;/a&gt;ã€‚è¿™ä½¿å¾—å†™æµ‹è¯•ä»£ç å’Œè¿è¡Œéƒ½ç›¸å½“ç®€å•ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä»€ä¹ˆæ˜¯æ¨¡ç³Šæµ‹è¯•&#34;&gt;ä»€ä¹ˆæ˜¯æ¨¡ç³Šæµ‹è¯•ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;æ¨¡ç³Šæµ‹è¯•&lt;!-- raw HTML omitted --&gt;fuzz testing&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼ˆfuzzingï¼‰æ˜¯æŒ‡å‘ä½ çš„è½¯ä»¶è¾“å…¥éé¢„æœŸçš„æ•°æ®ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œè¿™ç§æµ‹è¯•ä¼šè®©ä½ çš„åº”ç”¨ç¨‹åºå´©æºƒæˆ–æœ‰éé¢„æœŸçš„è¡¨ç°ã€‚æŠ›å¼€æœ€ç»ˆçš„ç»“æœï¼Œä»ç¨‹åºå¯¹éé¢„æœŸçš„è¾“å…¥æ•°æ®çš„å¤„ç†ç»“æœä¸­ä½ å¯ä»¥å¾—åˆ°å¾ˆå¤šä¿¡æ¯ï¼Œè¿™æ ·ä½ å°±å¯ä»¥å¢åŠ ä¸€äº›åˆé€‚çš„é”™è¯¯å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;ä»»ä½•ä¸€ä¸ªè½¯ä»¶éƒ½æœ‰å¯¹ä¸åŒæ¥æºçš„è¾“å…¥æˆ–æ•°æ®çš„æ¥æ”¶è¯´æ˜ï¼Œè½¯ä»¶ä¼šå¯¹è¿™äº›æ•°æ®è¿›è¡Œå¤„ç†å¹¶è¿”å›é€‚å½“çš„ç»“æœã€‚è½¯ä»¶å¼€å‘åï¼Œæµ‹è¯•å·¥ç¨‹å¸ˆå›¢é˜Ÿå¯¹å…¶è¿›è¡Œæµ‹è¯•ï¼Œæ‰¾å‡ºè½¯ä»¶ä¸­çš„é”™è¯¯ï¼Œç»™å‡ºæµ‹è¯•æŠ¥å‘Šï¼Œå¹¶ï¼ˆç”±å¼€å‘è€…ï¼‰ä¿®å¤ã€‚é€šå¸¸æµ‹è¯•çš„ç›®çš„æ˜¯éªŒè¯è½¯ä»¶çš„è¡Œä¸ºæ˜¯å¦ç¬¦åˆé¢„æœŸã€‚æµ‹è¯•åˆå¯ä»¥ç»†åˆ†ä¸ºä¸åŒçš„ç±»å‹ï¼Œå¦‚åŠŸèƒ½æµ‹è¯•ã€é›†æˆæµ‹è¯•ã€æ€§èƒ½æµ‹è¯•ç­‰ç­‰ã€‚æ¯ç§æµ‹è¯•æ–¹æ³•å…³æ³¨è½¯ä»¶åŠŸèƒ½çš„æŸä¸€ä¸ªæ–¹é¢ï¼Œä»¥ä¾¿å‘ç°é”™è¯¯æˆ–è€…æå‡å¯é æ€§æˆ–æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;æ¨¡ç³Šæµ‹è¯•åœ¨è¿™ä¸€æµ‹è¯•è¿‡ç¨‹ä¸Šæ›´è¿›ä¸€æ­¥ï¼Œå°è¯•å‘è½¯ä»¶ç¨‹åºè¾“å…¥ä¸€äº›â€œæ— æ•ˆâ€æˆ–â€œéšæœºâ€çš„æ•°æ®ã€‚è¿™ç§è¾“å…¥æ˜¯æ•…æ„çš„ï¼ŒæœŸæœ›å¾—åˆ°çš„ç»“æœå°±æ˜¯ç¨‹åºå´©æºƒæˆ–è¾“å‡ºå¼‚å¸¸ï¼Œè¿™æ ·å°±å¯ä»¥æš´éœ²ç¨‹åºä¸­çš„é”™è¯¯ä»¥ä¾¿ç”±å¼€å‘è€…æ¥ä¿®å¤å®ƒä»¬ã€‚ä¸å…¶ä»–æµ‹è¯•ç±»ä¼¼ï¼Œå¾ˆå°‘éœ€è¦æ‰‹åŠ¨è¿›è¡Œæ¨¡ç³Šæµ‹è¯•ï¼Œä¸šç•Œæœ‰å¤§é‡çš„æ¨¡ç³Šæµ‹è¯•å·¥å…·å¯ä»¥å°†è¿™ä¸ªè¿‡ç¨‹è‡ªåŠ¨åŒ–ã€‚&lt;/p&gt;
&lt;h3 id=&#34;go-ä¸­çš„è½¯ä»¶æµ‹è¯•&#34;&gt;Go ä¸­çš„è½¯ä»¶æµ‹è¯•&lt;/h3&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚ä½ æƒ³æµ‹è¯• &lt;code&gt;add.go&lt;/code&gt; ä¸­çš„ &lt;code&gt;Add()&lt;/code&gt; å‡½æ•°ï¼Œä½ å¯ä»¥åœ¨ &lt;code&gt;add_test.go&lt;/code&gt; ä¸­å¯¼å…¥ &lt;code&gt;testing&lt;/code&gt; åŒ…å¹¶æŠŠæµ‹è¯•ä½“å†™åœ¨ä»¥ &lt;code&gt;TestXXX()&lt;/code&gt;  å¼€å¤´çš„å‡½æ•°å†…ã€‚&lt;/p&gt;
&lt;p&gt;è€ƒè™‘å¦‚ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func Add(num1, num2 int) int {
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åœ¨ &lt;code&gt;add_test.go&lt;/code&gt; æ–‡ä»¶ä¸­ï¼Œä½ å¯èƒ½æœ‰å¦‚ä¸‹æµ‹è¯•ä»£ç ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;import &amp;#34;testing&amp;#34;

func TestAdd(t *testing.T) {
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿è¡Œæµ‹è¯•ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ go test
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;æ–°å¢å¯¹æ¨¡ç³Šæµ‹è¯•çš„æ”¯æŒ&#34;&gt;æ–°å¢å¯¹æ¨¡ç³Šæµ‹è¯•çš„æ”¯æŒ&lt;/h3&gt;
&lt;p&gt;Go å›¢é˜Ÿå·²ç»æ¥å—äº† &lt;a class=&#34;link&#34; href=&#34;https://github.com/golang/go/issues/44551&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æ–°å¢å¯¹æ¨¡ç³Šæµ‹è¯•çš„æ”¯æŒçš„æè®®&lt;/a&gt;ï¼Œä»¥è¿›ä¸€æ­¥æ¨åŠ¨è¿™é¡¹å·¥ä½œã€‚è¿™æ¶‰åŠåˆ°æ–°å¢ä¸€ä¸ª &lt;code&gt;testing.F&lt;/code&gt; ç±»å‹ï¼Œåœ¨ &lt;code&gt;_test.go&lt;/code&gt; æ–‡ä»¶ä¸­æ–°å¢ &lt;code&gt;FuzzXXX()&lt;/code&gt; å‡½æ•°ï¼Œåœ¨ Go å·¥å…·ä¸­ä¼šæ–°å¢ä¸€ä¸ª &lt;code&gt;-fuzz&lt;/code&gt; é€‰é¡¹æ¥æ‰§è¡Œè¿™äº›æµ‹è¯•ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ &lt;code&gt;add_test.go&lt;/code&gt; æ–‡ä»¶ä¸­ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func FuzzAdd(f *testing.F) {
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ go test -fuzz
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åœ¨æœ¬æ–‡ç¼–å†™æ—¶ï¼Œè¿™ä¸ª &lt;a class=&#34;link&#34; href=&#34;https://go.dev/blog/fuzz-beta&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;åŠŸèƒ½è¿˜æ˜¯è¯•éªŒæ€§çš„&lt;/a&gt;ï¼Œä½†æ˜¯åº”è¯¥ä¼šåœ¨ 1.18 å‘å¸ƒç‰ˆæœ¬ä¸­åŒ…å«ã€‚ï¼ˆLCTT è¯‘æ³¨ï¼š&lt;a class=&#34;link&#34; href=&#34;https://go.dev/blog/go1.18&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go 1.18&lt;/a&gt; åˆšåˆšå‘å¸ƒï¼Œå·²ç»åŒ…å«äº†å¯¹æ¨¡ç³Šæµ‹è¯•çš„æ”¯æŒï¼‰ç›®å‰å¾ˆå¤šåŠŸèƒ½å¦‚ &lt;code&gt;-keepfuzzing&lt;/code&gt;ã€&lt;code&gt;-race&lt;/code&gt; ç­‰ä¹Ÿè¿˜æ²¡æœ‰æ”¯æŒã€‚Go å›¢é˜Ÿæœ€è¿‘å‘å¸ƒäº†ä¸€ç¯‡ &lt;a class=&#34;link&#34; href=&#34;https://go.dev/doc/tutorial/fuzz&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æ¨¡ç³Šæµ‹è¯•æ•™ç¨‹&lt;/a&gt;ï¼Œå€¼å¾—è¯»ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®‰è£…-gotip-æ¥è·å–æœ€æ–°çš„åŠŸèƒ½&#34;&gt;å®‰è£… gotip æ¥è·å–æœ€æ–°çš„åŠŸèƒ½&lt;/h3&gt;
&lt;p&gt;å¦‚æœä½ æåº¦æ¸´æœ›åœ¨æ­£å¼å‘å¸ƒä¹‹å‰å°è¯•è¿™äº›åŠŸèƒ½ï¼Œä½ å¯ä»¥ä½¿ç”¨ &lt;code&gt;gotip&lt;/code&gt; æ¥æµ‹è¯•å³å°†æ­£å¼å‘å¸ƒçš„ Go åŠŸèƒ½å¹¶åé¦ˆç»™ä»–ä»¬ã€‚ä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥å®‰è£… &lt;code&gt;gotip&lt;/code&gt;ã€‚å®‰è£…ä¹‹åï¼Œä½ å¯ä»¥ç”¨ &lt;code&gt;gotip&lt;/code&gt; ç¨‹åºä»£æ›¿ä»¥å‰çš„ &lt;code&gt;go&lt;/code&gt; ç¨‹åºæ¥ç¼–è¯‘å’Œè¿è¡Œç¨‹åºã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ go install golang.org/dl/gotip@latest
$ gotip download

$ gotip version
go version devel go1.18-f009910 Thu Jan 6 16:22:21 2022 +0000 linux/amd64
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;ç¤¾åŒºå¯¹äºæ¨¡ç³Šæµ‹è¯•çš„è§‚ç‚¹&#34;&gt;ç¤¾åŒºå¯¹äºæ¨¡ç³Šæµ‹è¯•çš„è§‚ç‚¹&lt;/h3&gt;
&lt;p&gt;è½¯ä»¶ç¤¾åŒºä¸­ç»å¸¸ä¼šè®¨è®ºæ¨¡ç³Šæµ‹è¯•ï¼Œä¸åŒçš„äººå¯¹æ¨¡ç³Šæµ‹è¯•æœ‰ä¸åŒçš„çœ‹æ³•ã€‚æœ‰äº›äººè®¤ä¸ºè¿™æ˜¯ä¸€ç§æœ‰ç”¨çš„æŠ€æœ¯ï¼Œå¯ä»¥æ‰¾åˆ°é”™è¯¯ï¼Œå°¤å…¶æ˜¯åœ¨å®‰å…¨æ–¹é¢ã€‚ç„¶è€Œè€ƒè™‘åˆ°æ¨¡ç³Šæµ‹è¯•æ‰€éœ€è¦çš„èµ„æºï¼ˆCPUã€å†…å­˜ï¼‰ï¼Œæœ‰äººå°±è®¤ä¸ºè¿™æ˜¯ä¸€ç§æµªè´¹ï¼Œè€Œä»–ä»¬æ›´æ„¿æ„ç”¨å…¶ä»–çš„æµ‹è¯•æ–¹æ³•ã€‚å³ä½¿åœ¨ Go å›¢é˜Ÿå†…éƒ¨ï¼Œæ„è§ä¹Ÿä¸ç»Ÿä¸€ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ° Go çš„è”åˆåˆ›å§‹äºº Rob Pike å¯¹æ¨¡ç³Šæµ‹è¯•çš„ä½¿ç”¨å’Œåœ¨ Go ä¸­çš„å®ç°æ˜¯æŒè½»å¾®çš„æ€€ç–‘æ€åº¦çš„ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;hellip;&lt;em&gt;è™½ç„¶æ¨¡ç³Šæµ‹è¯•æœ‰åŠ©äºå‘ç°æŸç±»é”™è¯¯ï¼Œä½†æ˜¯å®ƒä¼šå ç”¨å¤§é‡çš„ CPU å’Œå­˜å‚¨èµ„æºï¼Œå¹¶ä¸”æ•ˆç›Šæˆæœ¬æ¯”ç‡ä¹Ÿä¸æ˜ç¡®ã€‚æˆ‘æ‹…å¿ƒä¸ºäº†å†™æ¨¡ç³Šæµ‹è¯•æµªè´¹ç²¾åŠ›ï¼Œæˆ–è€… git ä»“åº“ä¸­å……æ–¥å¤§é‡æ— ç”¨çš„æµ‹è¯•æ•°æ®&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;~&lt;a class=&#34;link&#34; href=&#34;https://github.com/golang/go/issues/44551#issuecomment-784584785&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Rob Pike&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç„¶è€Œï¼ŒGo å®‰å…¨å›¢é˜Ÿçš„å¦ä¸€ä¸ªæˆå‘˜ï¼ŒFilo Sottileï¼Œä¼¼ä¹å¯¹ Go æ–°å¢æ”¯æŒæ¨¡ç³Šæµ‹è¯•å¾ˆä¹è§‚ï¼Œä¸¾äº†å¾ˆå¤šä¾‹å­æ¥æ”¯æŒï¼Œä¹Ÿå¸Œæœ›æ¨¡ç³Šæµ‹è¯•èƒ½æˆä¸ºå¼€å‘è¿‡ç¨‹ä¸­çš„ä¸€éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;æˆ‘æƒ³è¯´æ¨¡ç³Šæµ‹è¯•å¯ä»¥å‘ç°æç«¯æƒ…å†µä¸‹çš„é”™è¯¯ã€‚è¿™æ˜¯æˆ‘ä»¬ä½œä¸ºå®‰å…¨å›¢é˜Ÿå¯¹å…¶æ„Ÿå…´è¶£çš„åŸå› ï¼šåœ¨æç«¯æƒ…å†µä¸‹å‘ç°çš„é”™è¯¯å¯ä»¥é¿å…åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æˆä¸ºå¼±ç‚¹ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;æˆ‘ä»¬å¸Œæœ›æ¨¡ç³Šæµ‹è¯•èƒ½æˆä¸ºå¼€å‘çš„ä¸€éƒ¨åˆ† â€”â€” ä¸åªæ˜¯æ„å»ºæˆ–å®‰å…¨æ–¹é¢ â€”â€” è€Œæ˜¯æ•´ä¸ªå¼€å‘è¿‡ç¨‹ï¼šå®ƒèƒ½æå‡ç›¸å…³ä»£ç çš„è´¨é‡&amp;hellip;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;~&lt;a class=&#34;link&#34; href=&#34;https://github.com/golang/go/issues/44551#issuecomment-784655571&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Filo Sottile&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;ç°å®ä¸­çš„æ¨¡ç³Šæµ‹è¯•&#34;&gt;ç°å®ä¸­çš„æ¨¡ç³Šæµ‹è¯•&lt;/h3&gt;
&lt;p&gt;å¯¹æˆ‘è€Œè¨€ï¼Œæ¨¡ç³Šæµ‹è¯•åœ¨å‘ç°é”™è¯¯ä»¥åŠè®©ç³»ç»Ÿå˜å¾—æ›´å®‰å…¨å’Œæ›´æœ‰å¼¹æ€§æ–¹é¢ä¼¼ä¹éå¸¸æœ‰æ•ˆã€‚ä¸¾ä¸ªä¾‹å­ï¼ŒLinux å†…æ ¸ä¹Ÿä¼šä½¿ç”¨åä¸º &lt;a class=&#34;link&#34; href=&#34;https://github.com/google/syzkaller&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;syzkaller&lt;/a&gt; çš„å·¥å…·è¿›è¡Œæ¨¡ç³Šæµ‹è¯•ï¼Œè¿™ä¸ªå·¥å…·å·²ç»å‘ç°äº† &lt;a class=&#34;link&#34; href=&#34;https://github.com/google/syzkaller/blob/master/docs/linux/found_bugs.md&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å¤§é‡&lt;/a&gt; é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/google/AFL&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;AFL&lt;/a&gt; ä¹Ÿæ˜¯æ¯”è¾ƒæµè¡Œçš„æ¨¡ç³Šæµ‹è¯•å·¥å…·ï¼Œç”¨æ¥æµ‹è¯• C/C++ å†™çš„ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;ä¹‹å‰ä¹Ÿæœ‰å¯¹ Go ç¨‹åºè¿›è¡Œæ¨¡ç³Šæµ‹è¯•çš„è§‚ç‚¹ï¼Œå…¶ä¸­ä¹‹ä¸€å°±æ˜¯ Filo åœ¨ GitHub è¯„è®ºä¸­æåˆ°çš„ &lt;a class=&#34;link&#34; href=&#34;https://github.com/dvyukov/go-fuzz&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;go-fuzz&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;go-fuzz çš„è®°å½•æä¾›äº†ç›¸å½“æƒŠäººçš„è¯æ®ï¼Œè¯æ˜æ¨¡ç³Šå¤„ç†èƒ½å¾ˆå¥½åœ°æ‰¾åˆ°äººç±»æ²¡æœ‰å‘ç°çš„é”™è¯¯ã€‚æ ¹æ®æˆ‘çš„ç»éªŒï¼Œæˆ‘ä»¬åªéœ€è¦æ¶ˆè€—ä¸€ç‚¹ç‚¹ CPU çš„æ—¶é—´å°±å¯ä»¥å¾—åˆ°æç«¯æƒ…å†µä¸‹éå¸¸é«˜æ•ˆçš„æµ‹è¯•ç»“æœã€‚&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;ä¸ºä»€ä¹ˆåœ¨-go-ä¸­æ–°å¢å¯¹æ¨¡ç³Šæµ‹è¯•çš„åŸç”Ÿæ”¯æŒ&#34;&gt;ä¸ºä»€ä¹ˆåœ¨ Go ä¸­æ–°å¢å¯¹æ¨¡ç³Šæµ‹è¯•çš„åŸç”Ÿæ”¯æŒ&lt;/h3&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬çš„éœ€æ±‚æ˜¯å¯¹ Go ç¨‹åºè¿›è¡Œæ¨¡ç³Šæµ‹è¯•ï¼Œä¹‹å‰çš„å·¥å…·åƒ &lt;code&gt;go-fuzz&lt;/code&gt; å°±å¯ä»¥å®Œæˆï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¦åœ¨è¿™ç§è¯­è¨€ä¸­å¢åŠ åŸç”Ÿæ”¯æŒå‘¢ï¼Ÿ&lt;a class=&#34;link&#34; href=&#34;https://go.googlesource.com/proposal/&amp;#43;/master/design/draft-fuzzing.md&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go æ¨¡ç³Šæµ‹è¯•è®¾è®¡è‰æ¡ˆ&lt;/a&gt; ä¸­è¯´æ˜äº†è¿™æ ·åšçš„ä¸€äº›æ ¹æœ¬åŸå› ã€‚è®¾è®¡çš„æ€è·¯æ˜¯è®©å¼€å‘è¿‡ç¨‹æ›´ç®€å•ï¼Œå› ä¸ºå‰é¢è¯´çš„å·¥å…·å¢åŠ äº†å¼€å‘è€…çš„å·¥ä½œé‡ï¼Œè¿˜æœ‰åŠŸèƒ½ç¼ºå¤±ã€‚å¦‚æœä½ æ²¡æœ‰æ¥è§¦è¿‡æ¨¡ç³Šæµ‹è¯•ï¼Œé‚£ä¹ˆæˆ‘å»ºè®®ä½ è¯»ä¸€ä¸‹è®¾è®¡è‰æ¡ˆæ–‡æ¡£ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¼€å‘è€…å¯ä»¥ä½¿ç”¨è¯¸å¦‚ &lt;code&gt;go-fuzz&lt;/code&gt; æˆ– &lt;code&gt;fzgo&lt;/code&gt;ï¼ˆåŸºäº &lt;code&gt;go-fuzz&lt;/code&gt;ï¼‰æ¥è§£å†³æŸäº›éœ€æ±‚ã€‚ç„¶è€Œï¼Œå·²æœ‰çš„æ¯ç§è§£å†³æ–¹æ¡ˆéƒ½éœ€è¦åœ¨å…¸å‹çš„ Go æµ‹è¯•ä¸Šåšæ›´å¤šçš„äº‹ï¼Œè€Œä¸”è¿˜ç¼ºå°‘å…³é”®çš„åŠŸèƒ½ã€‚ç›¸æ¯”äºå…¶ä»–çš„ Go æµ‹è¯•ï¼ˆå¦‚åŸºå‡†æµ‹è¯•å’Œå•å…ƒæµ‹è¯•ï¼‰ï¼Œæ¨¡ç³Šæµ‹è¯•ä¸åº”è¯¥æ¯”å®ƒä»¬å¤æ‚ï¼ŒåŠŸèƒ½ä¹Ÿä¸åº”è¯¥æ¯”å®ƒä»¬å°‘ã€‚å·²æœ‰çš„è§£å†³æ–¹æ¡ˆå¢åŠ äº†é¢å¤–çš„å¼€é”€ï¼Œæ¯”å¦‚è‡ªå®šä¹‰å‘½ä»¤è¡Œå·¥å…·ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;æ¨¡ç³Šæµ‹è¯•å·¥å…·&#34;&gt;æ¨¡ç³Šæµ‹è¯•å·¥å…·&lt;/h3&gt;
&lt;p&gt;åœ¨å¤§å®¶æœŸæœ› Go è¯­è¨€æ–°å¢åŠŸèƒ½çš„åˆ—è¡¨ä¸­ï¼Œæ¨¡ç³Šæµ‹è¯•æ˜¯å…¶ä¸­å¾ˆå—æ¬¢è¿çš„ä¸€é¡¹ã€‚è™½ç„¶ç°åœ¨è¿˜æ˜¯è¯•éªŒæ€§çš„ï¼Œä½†åœ¨å°†è¦åˆ°æ¥çš„å‘å¸ƒç‰ˆæœ¬ä¸­ä¼šå˜å¾—æ›´å¼ºå¤§ã€‚è¿™ç»™äº†æˆ‘ä»¬è¶³å¤Ÿçš„æ—¶é—´å»å°è¯•å®ƒä»¥åŠæ¢ç´¢å®ƒçš„ä½¿ç”¨åœºæ™¯ã€‚æˆ‘ä»¬ä¸åº”è¯¥æŠŠå®ƒè§†ä¸ºä¸€ç§å¼€é”€ï¼Œå¦‚æœä½¿ç”¨å¾—å½“å®ƒä¼šæ˜¯ä¸€ç§å‘ç°é”™è¯¯éå¸¸é«˜æ•ˆçš„æµ‹è¯•å·¥å…·ã€‚ä½¿ç”¨ Go çš„å›¢é˜Ÿåº”è¯¥æ¨åŠ¨å®ƒçš„ä½¿ç”¨ï¼Œå¼€å‘è€…å¯ä»¥å†™ç®€å•çš„æ¨¡ç³Šæµ‹è¯•ï¼Œæµ‹è¯•å›¢é˜Ÿå»æ…¢æ…¢æ‰©å±•ä»¥æ­¤æ¥ä½¿ç”¨å®ƒå…¨éƒ¨çš„èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://opensource.com/article/22/1/native-go-fuzz-testing&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://opensource.com/article/22/1/native-go-fuzz-testing&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://opensource.com/users/gkamathe&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Gaurav Kamathe&lt;/a&gt;
é€‰é¢˜ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lujun9972&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;lujun9972&lt;/a&gt;
è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Xiaobin.Liu&lt;/a&gt;
æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/wxy&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;wxy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/LCTT/TranslateProject&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;LCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://linux.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Linuxä¸­å›½&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è½¬ã€‘Redis åˆ†å¸ƒå¼é”ä½¿ç”¨ä¸å½“äº‹æ•…è®°å½•</title>
        <link>https://lxb.wiki/f17b426c/</link>
        <pubDate>Fri, 01 Apr 2022 21:42:21 +0000</pubDate>
        
        <guid>https://lxb.wiki/f17b426c/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;æŸç”µå•†é¡¹ç›®ä¸­ï¼ŒæŠ¢è´­è®¢å•é‡‡ç”¨çš„æ˜¯åˆ†å¸ƒå¼é”æ¥è§£å†³çš„ã€‚æŸæ¬¡èŒ…å°æŠ¢è´­æ´»åŠ¨ï¼Œåº“å­˜å…± 100 ç“¶ï¼Œåˆ†å¸ƒå¼é”è®¾è®¡ä¸å½“ï¼Œæœ€ç»ˆè¶…å–ã€‚&lt;/p&gt;
&lt;h2 id=&#34;äº‹æ•…ç°åœº&#34;&gt;äº‹æ•…ç°åœº&lt;/h2&gt;
&lt;p&gt;æ ¸å¿ƒä»£ç &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; SeckillActivityRequestVO &lt;span style=&#34;color:#a6e22e&#34;&gt;seckillHandle&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;SeckillActivityRequestVO request&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;SeckillActivityRequestVO response&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    String key &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;key:&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; request&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getSeckillId&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Boolean lockFlag &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; redisTemplate&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;opsForValue&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;().&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;setIfAbsent&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;val&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; TimeUnit&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;SECONDS&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;lockFlag&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// HTTPè¯·æ±‚ç”¨æˆ·æœåŠ¡è¿›è¡Œç”¨æˆ·ç›¸å…³çš„æ ¡éªŒ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// ç”¨æˆ·æ´»åŠ¨æ ¡éªŒ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// åº“å­˜æ ¡éªŒ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            Object stock &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; redisTemplate&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;opsForHash&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;().&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;get&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;:info&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;stock&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;assert&lt;/span&gt; stock &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;Integer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;parseInt&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;stock&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;toString&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;())&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// ä¸šåŠ¡å¼‚å¸¸
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                redisTemplate&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;opsForHash&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;().&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;increment&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;:info&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;stock&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// ç”Ÿæˆè®¢å•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// å‘å¸ƒè®¢å•åˆ›å»ºæˆåŠŸäº‹ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;// æ„å»ºå“åº”VO
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;finally&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// é‡Šæ”¾é”
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        stringRedisTemplate&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;delete&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;key&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æ„å»ºå“åº”VO
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; response&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»¥ä¸Šä»£ç ï¼Œé€šè¿‡åˆ†å¸ƒå¼é”è¿‡æœŸæ—¶é—´æœ‰æ•ˆæœŸ 10s æ¥ä¿éšœä¸šåŠ¡é€»è¾‘æœ‰è¶³å¤Ÿçš„æ‰§è¡Œæ—¶é—´ï¼›é‡‡ç”¨ try-finally è¯­å¥å—ä¿è¯é”ä¸€å®šä¼šåŠæ—¶é‡Šæ”¾ã€‚&lt;/p&gt;
&lt;h2 id=&#34;äº‹æ•…åŸå› &#34;&gt;äº‹æ•…åŸå› &lt;/h2&gt;
&lt;p&gt;é£å¤©èŒ…å°æŠ¢è´­æ´»åŠ¨å¸å¼•äº†å¤§é‡æ–°ç”¨æˆ·ä¸‹è½½æ³¨å†Œæˆ‘ä»¬çš„ APPï¼Œå…¶ä¸­ï¼Œä¸ä¹å¾ˆå¤šç¾Šæ¯›å…šï¼Œé‡‡ç”¨ä¸“ä¸šçš„æ‰‹æ®µæ¥æ³¨å†Œæ–°ç”¨æˆ·æ¥è–…ç¾Šæ¯›å’Œåˆ·å•ã€‚æ­£å› å¦‚æ­¤ï¼Œè®©ç”¨æˆ·æœåŠ¡ä¸€ç›´å¤„äºè¾ƒé«˜çš„è¿è¡Œè´Ÿè½½ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;æŠ¢è´­æ´»åŠ¨å¼€å§‹çš„ä¸€ç¬é—´ï¼Œå¤§é‡çš„ç”¨æˆ·æ ¡éªŒè¯·æ±‚æ‰“åˆ°äº†ç”¨æˆ·æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;å¯¼è‡´ç”¨æˆ·æœåŠ¡ç½‘å…³å‡ºç°äº†çŸ­æš‚çš„å“åº”å»¶è¿Ÿï¼Œæœ‰äº›è¯·æ±‚çš„å“åº”æ—¶é•¿è¶…è¿‡äº† 10sï¼Œä½†ç”±äº HTTP è¯·æ±‚çš„å“åº”è¶…æ—¶æˆ‘ä»¬è®¾ç½®çš„æ˜¯ 30sã€‚&lt;/p&gt;
&lt;p&gt;è¿™å°±å¯¼è‡´æ¥å£ä¸€ç›´é˜»å¡åœ¨ç”¨æˆ·æ ¡éªŒé‚£é‡Œï¼Œ10s åï¼Œåˆ†å¸ƒå¼é”å·²ç»å¤±æ•ˆäº†ï¼Œæ­¤æ—¶æœ‰æ–°çš„è¯·æ±‚è¿›æ¥æ˜¯å¯ä»¥æ‹¿åˆ°é”çš„ï¼Œä¹Ÿå°±æ˜¯è¯´é”è¢«è¦†ç›–äº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™äº›é˜»å¡çš„æ¥å£æ‰§è¡Œå®Œä¹‹åï¼Œåˆä¼šæ‰§è¡Œé‡Šæ”¾é”çš„é€»è¾‘ï¼Œè¿™å°±æŠŠå…¶ä»–çº¿ç¨‹çš„é”é‡Šæ”¾äº†ï¼Œå¯¼è‡´æ–°çš„è¯·æ±‚ä¹Ÿå¯ä»¥ç«äº‰åˆ°é”~è¿™çœŸæ˜¯ä¸€ä¸ªæå…¶æ¶åŠ£çš„å¾ªç¯ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ—¶å€™åªèƒ½ä¾èµ–åº“å­˜æ ¡éªŒï¼Œä½†æ˜¯åååº“å­˜æ ¡éªŒä¸æ˜¯éåŸå­æ€§çš„ï¼Œé‡‡ç”¨çš„æ˜¯ get and compare çš„æ–¹å¼ï¼Œè¶…å–çš„æ‚²å‰§å°±è¿™æ ·å‘ç”Ÿäº†~~~&lt;/p&gt;
&lt;h2 id=&#34;äº‹æ•…åˆ†æ&#34;&gt;äº‹æ•…åˆ†æ&lt;/h2&gt;
&lt;p&gt;ä»”ç»†åˆ†æä¸‹æ¥ï¼Œå¯ä»¥å‘ç°ï¼Œè¿™ä¸ªæŠ¢è´­æ¥å£åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œæ˜¯æœ‰ä¸¥é‡çš„å®‰å…¨éšæ‚£çš„ï¼Œä¸»è¦é›†ä¸­åœ¨ä¸‰ä¸ªåœ°æ–¹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;â‘ æ²¡æœ‰å…¶ä»–ç³»ç»Ÿé£é™©å®¹é”™å¤„ç†&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç”±äºç”¨æˆ·æœåŠ¡åƒç´§ï¼Œç½‘å…³å“åº”å»¶è¿Ÿï¼Œä½†æ²¡æœ‰ä»»ä½•åº”å¯¹æ–¹å¼ï¼Œè¿™æ˜¯è¶…å–çš„å¯¼ç«ç´¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;â‘¡çœ‹ä¼¼å®‰å…¨çš„åˆ†å¸ƒå¼é”å…¶å®ä¸€ç‚¹éƒ½ä¸å®‰å…¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è™½ç„¶é‡‡ç”¨äº† set key value [EX seconds] [PX milliseconds] [NX|XX]çš„æ–¹å¼ï¼Œä½†æ˜¯å¦‚æœçº¿ç¨‹ A æ‰§è¡Œçš„æ—¶é—´è¾ƒé•¿æ²¡æœ‰æ¥å¾—åŠé‡Šæ”¾ï¼Œé”å°±è¿‡æœŸäº†ï¼Œæ­¤æ—¶çº¿ç¨‹ B æ˜¯å¯ä»¥è·å–åˆ°é”çš„ã€‚&lt;/p&gt;
&lt;p&gt;å½“çº¿ç¨‹ A æ‰§è¡Œå®Œæˆä¹‹åï¼Œé‡Šæ”¾é”ï¼Œå®é™…ä¸Šå°±æŠŠçº¿ç¨‹ B çš„é”é‡Šæ”¾æ‰äº†ã€‚è¿™ä¸ªæ—¶å€™ï¼Œçº¿ç¨‹ C åˆæ˜¯å¯ä»¥è·å–åˆ°é”çš„ï¼Œè€Œæ­¤æ—¶å¦‚æœçº¿ç¨‹ B æ‰§è¡Œå®Œé‡Šæ”¾é”å®é™…ä¸Šå°±æ˜¯é‡Šæ”¾çš„çº¿ç¨‹ C è®¾ç½®çš„é”ã€‚è¿™æ˜¯è¶…å–çš„ç›´æ¥åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;â‘¢éåŸå­æ€§çš„åº“å­˜æ ¡éªŒ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;éåŸå­æ€§çš„åº“å­˜æ ¡éªŒå¯¼è‡´åœ¨å¹¶å‘åœºæ™¯ä¸‹ï¼Œåº“å­˜æ ¡éªŒçš„ç»“æœä¸å‡†ç¡®ã€‚è¿™æ˜¯è¶…å–çš„æ ¹æœ¬åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡ä»¥ä¸Šåˆ†æï¼Œé—®é¢˜çš„æ ¹æœ¬åŸå› åœ¨äºåº“å­˜æ ¡éªŒä¸¥é‡ä¾èµ–äº†åˆ†å¸ƒå¼é”ã€‚å› ä¸ºåœ¨åˆ†å¸ƒå¼é”æ­£å¸¸ setã€del çš„æƒ…å†µä¸‹ï¼Œåº“å­˜æ ¡éªŒæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œå½“åˆ†å¸ƒå¼é”ä¸å®‰å…¨å¯é çš„æ—¶å€™ï¼Œåº“å­˜æ ¡éªŒå°±æ²¡æœ‰ç”¨äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è§£å†³æ–¹æ¡ˆ&#34;&gt;è§£å†³æ–¹æ¡ˆ&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;å®ç°ç›¸å¯¹å®‰å…¨çš„åˆ†å¸ƒå¼é”&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç›¸å¯¹å®‰å…¨çš„å®šä¹‰ï¼šsetã€del æ˜¯ä¸€ä¸€æ˜ å°„çš„ï¼Œä¸ä¼šå‡ºç°æŠŠå…¶ä»–ç°æˆçš„é” del çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;ä»å®é™…æƒ…å†µçš„è§’åº¦æ¥çœ‹ï¼Œå³ä½¿èƒ½åšåˆ° setã€delä¸€ä¸€æ˜ å°„ï¼Œä¹Ÿæ— æ³•ä¿éšœä¸šåŠ¡çš„ç»å¯¹å®‰å…¨ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºé”çš„è¿‡æœŸæ—¶é—´å§‹ç»ˆæ˜¯æœ‰ç•Œçš„ï¼Œé™¤éä¸è®¾ç½®è¿‡æœŸæ—¶é—´æˆ–è€…æŠŠè¿‡æœŸæ—¶é—´è®¾ç½®çš„å¾ˆé•¿ï¼Œä½†è¿™æ ·åšä¹Ÿä¼šå¸¦æ¥å…¶ä»–é—®é¢˜ã€‚æ•…æ²¡æœ‰æ„ä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;è¦æƒ³å®ç°ç›¸å¯¹å®‰å…¨çš„åˆ†å¸ƒå¼é”ï¼Œå¿…é¡»ä¾èµ– key çš„ value å€¼ã€‚åœ¨é‡Šæ”¾é”çš„æ—¶å€™ï¼Œé€šè¿‡ value å€¼çš„å”¯ä¸€æ€§æ¥ä¿è¯ä¸ä¼šå‹¿åˆ ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;æˆ‘ä»¬åŸºäº LUA è„šæœ¬å®ç°åŸå­æ€§çš„ get and compare&lt;/em&gt;ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-lua&#34; data-lang=&#34;lua&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;public void safedUnLock(String key, String val) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    String luaScript &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;local in = ARGV[1] local curr=redis.call(&amp;#39;get&amp;#39;, KEYS[1]) if in==curr then redis.call(&amp;#39;del&amp;#39;, KEYS[1]) end return &amp;#39;OK&amp;#39;&amp;#34;&amp;#34;;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    RedisScript&amp;lt;String&amp;gt; redisScript = RedisScript.of(luaScript);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    redisTemplate.execute(redisScript, Collections.singletonList(key), Collections.singleton(val));
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬é€šè¿‡ LUA è„šæœ¬æ¥å®ç°å®‰å…¨åœ°è§£é”ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®ç°å®‰å…¨çš„åº“å­˜æ ¡éªŒ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬å¯¹äºå¹¶å‘æœ‰æ¯”è¾ƒæ·±å…¥çš„äº†è§£çš„è¯ï¼Œä¼šå‘ç°æƒ³ get and compare/ read and save ç­‰æ“ä½œï¼Œéƒ½æ˜¯éåŸå­æ€§çš„ã€‚å¦‚æœè¦å®ç°åŸå­æ€§ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å€ŸåŠ© LUA è„šæœ¬æ¥å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å…¬ä¼—å·äº’è”ç½‘æ¶æ„å¸ˆå›å¤â€œ2Tâ€ï¼Œè·å–æƒŠå–œç¤¼åŒ…ã€‚&lt;/p&gt;
&lt;p&gt;ä½†å°±æˆ‘ä»¬è¿™ä¸ªä¾‹å­ä¸­ï¼Œç”±äºæŠ¢è´­æ´»åŠ¨ä¸€å•åªèƒ½ä¸‹ 1 ç“¶ï¼Œå› æ­¤å¯ä»¥ä¸ç”¨åŸºäº LUA è„šæœ¬å®ç°è€Œæ˜¯åŸºäº Redis æœ¬èº«çš„åŸå­æ€§ã€‚&lt;/p&gt;
&lt;p&gt;åŸå› åœ¨äºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// redisä¼šè¿”å›æ“ä½œä¹‹åçš„ç»“æœï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯åŸå­æ€§çš„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;Long currStock &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; redisTemplate&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;opsForHash&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;().&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;increment&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;key&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;stock&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‘ç°æ²¡æœ‰ï¼Œä»£ç ä¸­çš„åº“å­˜æ ¡éªŒå®Œå…¨æ˜¯â€œç”»è›‡æ·»è¶³â€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ”¹è¿›ä¹‹åçš„ä»£ç &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç»è¿‡ä»¥ä¸Šçš„åˆ†æä¹‹åï¼Œæˆ‘ä»¬å†³å®šæ–°å»ºä¸€ä¸ª DistributedLocker ç±»ä¸“é—¨ç”¨äºå¤„ç†åˆ†å¸ƒå¼é”ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; SeckillActivityRequestVO &lt;span style=&#34;color:#a6e22e&#34;&gt;seckillHandle&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;SeckillActivityRequestVO request&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;SeckillActivityRequestVO response&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    String key &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;key:&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; request&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getSeckillId&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    String val &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; UUID&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;randomUUID&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;().&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;toString&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Boolean lockFlag &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; distributedLocker&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;lock&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; val&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; TimeUnit&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;SECONDS&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(!&lt;/span&gt;lockFlag&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// ä¸šåŠ¡å¼‚å¸¸
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// ç”¨æˆ·æ´»åŠ¨æ ¡éªŒ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// åº“å­˜æ ¡éªŒï¼ŒåŸºäºredisæœ¬èº«çš„åŸå­æ€§æ¥ä¿è¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        Long currStock &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; stringRedisTemplate&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;opsForHash&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;().&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;increment&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;key &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;:info&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;stock&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;currStock &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// è¯´æ˜åº“å­˜å·²ç»æ‰£å‡å®Œäº†ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// ä¸šåŠ¡å¼‚å¸¸ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            log&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;error&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;[æŠ¢è´­ä¸‹å•] æ— åº“å­˜&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// ç”Ÿæˆè®¢å•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// å‘å¸ƒè®¢å•åˆ›å»ºæˆåŠŸäº‹ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// æ„å»ºå“åº”
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;finally&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        distributedLocker&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;safedUnLock&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; val&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// æ„å»ºå“åº”
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; response&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;æ·±åº¦æ€è€ƒ&#34;&gt;æ·±åº¦æ€è€ƒ&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;â‘ åˆ†å¸ƒå¼é”æœ‰å¿…è¦ä¹ˆ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ”¹è¿›ä¹‹åï¼Œå…¶å®å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬å€ŸåŠ©äº Redis æœ¬èº«çš„åŸå­æ€§æ‰£å‡åº“å­˜ï¼Œä¹Ÿæ˜¯å¯ä»¥ä¿è¯ä¸ä¼šè¶…å–çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹çš„ã€‚ä½†æ˜¯å¦‚æœæ²¡æœ‰è¿™ä¸€å±‚é”çš„è¯ï¼Œé‚£ä¹ˆæ‰€æœ‰è¯·æ±‚è¿›æ¥éƒ½ä¼šèµ°ä¸€éä¸šåŠ¡é€»è¾‘ï¼Œç”±äºä¾èµ–äº†å…¶ä»–ç³»ç»Ÿï¼Œæ­¤æ—¶å°±ä¼šé€ æˆå¯¹å…¶ä»–ç³»ç»Ÿçš„å‹åŠ›å¢å¤§ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¼šå¢åŠ çš„æ€§èƒ½æŸè€—å’ŒæœåŠ¡ä¸ç¨³å®šæ€§ï¼Œå¾—ä¸å¿å¤±ã€‚åŸºäºåˆ†å¸ƒå¼é”å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šæ‹¦æˆªä¸€äº›æµé‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;â‘¡åˆ†å¸ƒå¼é”çš„é€‰å‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æœ‰äººæå‡ºç”¨ RedLock æ¥å®ç°åˆ†å¸ƒå¼é”ã€‚RedLock çš„å¯é æ€§æ›´é«˜ï¼Œä½†å…¶ä»£ä»·æ˜¯ç‰ºç‰²ä¸€å®šçš„æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æœ¬åœºæ™¯ï¼Œè¿™ç‚¹å¯é æ€§çš„æå‡è¿œä¸å¦‚æ€§èƒ½çš„æå‡å¸¦æ¥çš„æ€§ä»·æ¯”é«˜ã€‚å¦‚æœå¯¹äºå¯é æ€§æé«˜è¦æ±‚çš„åœºæ™¯ï¼Œåˆ™å¯ä»¥é‡‡ç”¨ RedLock æ¥å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;â‘¢å†æ¬¡æ€è€ƒåˆ†å¸ƒå¼é”æœ‰å¿…è¦ä¹ˆ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç”±äº Bug éœ€è¦ç´§æ€¥ä¿®å¤ä¸Šçº¿ï¼Œå› æ­¤æˆ‘ä»¬å°†å…¶ä¼˜åŒ–å¹¶åœ¨æµ‹è¯•ç¯å¢ƒè¿›è¡Œäº†å‹æµ‹ä¹‹åï¼Œå°±ç«‹é©¬çƒ­éƒ¨ç½²ä¸Šçº¿äº†ã€‚&lt;/p&gt;
&lt;p&gt;å®é™…è¯æ˜ï¼Œè¿™ä¸ªä¼˜åŒ–æ˜¯æˆåŠŸçš„ï¼Œæ€§èƒ½æ–¹é¢ç•¥å¾®æå‡äº†ä¸€äº›ï¼Œå¹¶åœ¨åˆ†å¸ƒå¼é”å¤±æ•ˆçš„æƒ…å†µä¸‹ï¼Œæ²¡æœ‰å‡ºç°è¶…å–çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œè¿˜æœ‰æ²¡æœ‰ä¼˜åŒ–ç©ºé—´å‘¢ï¼Ÿæœ‰çš„ï¼ç”±äºæœåŠ¡æ˜¯é›†ç¾¤éƒ¨ç½²ï¼Œæˆ‘ä»¬å¯ä»¥å°†åº“å­˜å‡æ‘Šåˆ°é›†ç¾¤ä¸­çš„æ¯ä¸ªæœåŠ¡å™¨ä¸Šï¼Œé€šè¿‡å¹¿æ’­é€šçŸ¥åˆ°é›†ç¾¤çš„å„ä¸ªæœåŠ¡å™¨ã€‚&lt;/p&gt;
&lt;p&gt;ç½‘å…³å±‚åŸºäºç”¨æˆ· ID åš hash ç®—æ³•æ¥å†³å®šè¯·æ±‚åˆ°å“ªä¸€å°æœåŠ¡å™¨ã€‚è¿™æ ·å°±å¯ä»¥åŸºäºåº”ç”¨ç¼“å­˜æ¥å®ç°åº“å­˜çš„æ‰£å‡å’Œåˆ¤æ–­ã€‚&lt;/p&gt;
&lt;p&gt;æ€§èƒ½åˆè¿›ä¸€æ­¥æå‡äº†ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// é€šè¿‡æ¶ˆæ¯æå‰åˆå§‹åŒ–å¥½ï¼Œå€ŸåŠ©ConcurrentHashMapå®ç°é«˜æ•ˆçº¿ç¨‹å®‰å…¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; ConcurrentHashMap&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Long&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; Boolean&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; SECKILL_FLAG_MAP &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; ConcurrentHashMap&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// é€šè¿‡æ¶ˆæ¯æå‰è®¾ç½®å¥½ã€‚ç”±äºAtomicIntegeræœ¬èº«å…·å¤‡åŸå­æ€§ï¼Œå› æ­¤è¿™é‡Œå¯ä»¥ç›´æ¥ä½¿ç”¨HashMap
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; Map&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Long&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; AtomicInteger&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; SECKILL_STOCK_MAP &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; HashMap&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; SeckillActivityRequestVO &lt;span style=&#34;color:#a6e22e&#34;&gt;seckillHandle&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;SeckillActivityRequestVO request&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;SeckillActivityRequestVO response&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Long seckillId &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; request&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getSeckillId&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(!&lt;/span&gt;SECKILL_FLAG_MAP&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;get&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;requestseckillId&lt;span style=&#34;color:#f92672&#34;&gt;))&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// ä¸šåŠ¡å¼‚å¸¸
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;// ç”¨æˆ·æ´»åŠ¨æ ¡éªŒ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;// åº“å­˜æ ¡éªŒ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;SECKILL_STOCK_MAP&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;get&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;seckillId&lt;span style=&#34;color:#f92672&#34;&gt;).&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;decrementAndGet&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        SECKILL_FLAG_MAP&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;put&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;seckillId&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// ä¸šåŠ¡å¼‚å¸¸
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ç”Ÿæˆè®¢å•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å‘å¸ƒè®¢å•åˆ›å»ºæˆåŠŸäº‹ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// æ„å»ºå“åº”
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; response&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é€šè¿‡ä»¥ä¸Šçš„æ”¹é€ ï¼Œæˆ‘ä»¬å°±å®Œå…¨ä¸éœ€è¦ä¾èµ– Redis äº†ã€‚æ€§èƒ½å’Œå®‰å…¨æ€§ä¸¤æ–¹é¢éƒ½èƒ½è¿›ä¸€æ­¥å¾—åˆ°æå‡ï¼&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œæ­¤æ–¹æ¡ˆæ²¡æœ‰è€ƒè™‘åˆ°æœºå™¨çš„åŠ¨æ€æ‰©å®¹ã€ç¼©å®¹ç­‰å¤æ‚åœºæ™¯ï¼Œå¦‚æœè¿˜è¦è€ƒè™‘è¿™äº›è¯ï¼Œåˆ™ä¸å¦‚ç›´æ¥è€ƒè™‘åˆ†å¸ƒå¼é”çš„è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘è§£å†³ CI/CD ä¸­çš„ä»“åº“é˜»æŠ—å¤±é…</title>
        <link>https://lxb.wiki/f5fbcabb/</link>
        <pubDate>Sat, 26 Mar 2022 14:32:25 +0000</pubDate>
        
        <guid>https://lxb.wiki/f5fbcabb/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯¹é½éƒ¨ç½²é•œåƒå’Œæè¿°ç¬¦æ˜¯å¾ˆå›°éš¾çš„ï¼Œä½†æ˜¯æŸäº›ç­–ç•¥å¯ä»¥ä½¿æ•´ä¸ªè¿‡ç¨‹æ›´é«˜æ•ˆã€‚
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220326161918.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨è½¯ä»¶æ¶æ„ä¸­ï¼Œå½“ä¸¤ä¸ªç»„ä»¶ä¹‹é—´æœ‰æŸäº›æ¦‚å¿µæ€§æˆ–æŠ€æœ¯ä¸Šçš„å·®å¼‚æ—¶ä¼šå‡ºç° &lt;!-- raw HTML omitted --&gt;é˜»æŠ—å¤±é…&lt;!-- raw HTML omitted --&gt;impedance mismatch&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ã€‚è¿™ä¸ªæœ¯è¯­å…¶å®æ˜¯ä»ç”µå­å·¥ç¨‹ä¸­å€Ÿç”¨çš„ï¼Œè¡¨ç¤ºç”µè·¯ä¸­è¾“å…¥å’Œè¾“å‡ºçš„ç”µå­é˜»æŠ—å¿…é¡»è¦åŒ¹é…ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œå­˜å‚¨åœ¨é•œåƒä»“åº“ä¸­çš„é•œåƒä¸å­˜å‚¨åœ¨æºç æ§åˆ¶ç®¡ç†ç³»ç»Ÿï¼ˆLCTT è¯‘æ³¨ï¼šSCMï¼ŒSource Code Managementï¼‰ä¸­å®ƒçš„&lt;!-- raw HTML omitted --&gt;éƒ¨ç½²æè¿°ç¬¦&lt;!-- raw HTML omitted --&gt;deployment descriptor&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ä¹‹é—´å­˜åœ¨é˜»æŠ—å¤±é…ã€‚ä½ å¦‚ä½•ç¡®å®šå­˜å‚¨åœ¨ SCM ä¸­çš„éƒ¨ç½²æè¿°ç¬¦è¡¨ç¤ºçš„æ˜¯æ­£ç¡®çš„é•œåƒï¼Ÿä¸¤ä¸ªä»“åº“è¿½è¸ªæ•°æ®çš„æ–¹å¼å¹¶ä¸ä¸€è‡´ï¼Œå› æ­¤å°†ä¸€ä¸ªé•œåƒï¼ˆåœ¨é•œåƒä»“åº“ä¸­ç‹¬ç«‹å­˜å‚¨çš„ä¸å¯ä¿®æ”¹çš„äºŒè¿›åˆ¶ï¼‰å’Œå®ƒçš„éƒ¨ç½²æè¿°ç¬¦ï¼ˆGit ä¸­ä»¥æ–‡æœ¬æ–‡ä»¶å½¢å¼å­˜å‚¨çš„ä¸€ç³»åˆ—ä¿®æ”¹è®°å½•ï¼‰ç›¸åŒ¹é…å¹¶ä¸é‚£ä¹ˆç›´è§‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼šæœ¬æ–‡å‡å®šè¯»è€…å·²ç»ç†Ÿæ‚‰ä»¥ä¸‹æ¦‚å¿µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;æºç æ§åˆ¶ç®¡ç†&lt;!-- raw HTML omitted --&gt;Source Control Management&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼ˆSCMï¼‰ç³»ç»Ÿå’Œåˆ†æ”¯&lt;/li&gt;
&lt;li&gt;Docker æˆ–ç¬¦åˆ OCI æ ‡å‡†çš„é•œåƒå’Œå®¹å™¨&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;å®¹å™¨ç¼–æ’ç³»ç»Ÿ&lt;!-- raw HTML omitted --&gt;Container Orchestration Platforms&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼ˆCOPï¼‰ï¼Œå¦‚ Kubernetes&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;æŒç»­é›†æˆ/æŒç»­äº¤ä»˜&lt;!-- raw HTML omitted --&gt;Continuous Integration/Continuous Delivery&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼ˆCI/CDï¼‰&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸ&lt;!-- raw HTML omitted --&gt;Software development lifecycle&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼ˆSDLCï¼‰ç¯å¢ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é˜»æŠ—å¤±é…scm-ä¸é•œåƒä»“åº“&#34;&gt;é˜»æŠ—å¤±é…ï¼šSCM ä¸é•œåƒä»“åº“&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†æ›´å¥½åœ°ç†è§£é˜»æŠ—å¤±é…åœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ä¼šæˆä¸ºé—®é¢˜ï¼Œè¯·è€ƒè™‘ä»»æ„é¡¹ç›®ä¸­çš„è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸç¯å¢ƒï¼ˆSDLCï¼‰ï¼Œå¦‚å¼€å‘ã€æµ‹è¯•æˆ–å‘å¸ƒç¯å¢ƒã€‚&lt;/p&gt;
&lt;p&gt;æµ‹è¯•ç¯å¢ƒä¸ä¼šæœ‰é˜»æŠ—å¤±é…ã€‚ç°åœ¨ä½¿ç”¨ CI/CD çš„æœ€ä½³å®è·µä¸­å¼€å‘åˆ†æ”¯çš„æœ€æ–°æäº¤éƒ½ä¼šå¯¹åº”å¼€å‘ç¯å¢ƒä¸­çš„æœ€æ–°éƒ¨ç½²ã€‚å› æ­¤ï¼Œä¸€ä¸ªå…¸å‹çš„ã€æˆåŠŸçš„ CI/CD å¼€å‘æµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å‘ SCM çš„å¼€å‘åˆ†æ”¯æäº¤æ–°çš„ä¿®æ”¹&lt;/li&gt;
&lt;li&gt;æ–°æäº¤è§¦å‘ä¸€æ¬¡é•œåƒæ„å»º&lt;/li&gt;
&lt;li&gt;æ–°ç”Ÿæˆçš„é•œåƒè¢«æ¨é€åˆ°é•œåƒä»“åº“ï¼Œæ ‡è®°ä¸ºå¼€å‘ä¸­&lt;/li&gt;
&lt;li&gt;é•œåƒè¢«éƒ¨ç½²åˆ°å®¹å™¨ç¼–æ’ç³»ç»Ÿï¼ˆCOPï¼‰ä¸­çš„å¼€å‘ç¯å¢ƒï¼Œè¯¥é•œåƒçš„éƒ¨ç½²æè¿°ç¬¦ä¹Ÿæ›´æ–°ä¸ºä» SCM æ‹‰å–çš„æœ€æ–°æè¿°ç¬¦ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ¢å¥è¯è¯´ï¼Œå¼€å‘ç¯å¢ƒä¸­æœ€æ–°çš„é•œåƒæ°¸è¿œä¸æœ€æ–°çš„éƒ¨ç½²æè¿°ç¬¦åŒ¹é…ã€‚å›æ»šåˆ°å‰ä¸€ä¸ªæ„å»ºçš„ç‰ˆæœ¬ä¹Ÿä¸æ˜¯é—®é¢˜ï¼Œå› ä¸º SCM ä¹Ÿä¼šè·Ÿç€å›æ»šã€‚&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆï¼Œéšç€å¼€å‘æµç¨‹ç»§ç»­æ¨è¿›ï¼Œéœ€è¦è¿›è¡Œæ›´å¤šæ­£å¼çš„æµ‹è¯•ï¼Œå› æ­¤æŸä¸ªé•œåƒ â€”â€” é•œåƒå¯¹åº”ç€ SCM ä¸­çš„æŸæ¬¡æäº¤ â€”â€” è¢«æ¨åˆ°æµ‹è¯•ç¯å¢ƒã€‚å¦‚æœæ˜¯ä¸€æ¬¡æˆåŠŸçš„æ„å»ºï¼Œé‚£ä¹ˆä¸ä¼šæœ‰å¤§é—®é¢˜ï¼Œå› ä¸ºä»å¼€å‘ç¯å¢ƒæ¨è¿‡æ¥çš„é•œåƒåº”è¯¥ä¼šä¸å¼€å‘åˆ†æ”¯çš„æœ€æ–°æäº¤ç›¸å¯¹åº”ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¼€å‘ç¯å¢ƒçš„æœ€æ–°éƒ¨ç½²è¢«å…è®¸å…¥åº“ï¼Œè§¦å‘å…¥åº“è¿‡ç¨‹&lt;/li&gt;
&lt;li&gt;æœ€æ–°éƒ¨ç½²çš„é•œåƒè¢«æ ‡è®°ä¸ºæµ‹è¯•ä¸­&lt;/li&gt;
&lt;li&gt;é•œåƒåœ¨æµ‹è¯•ç¯å¢ƒä¸­è¢«æ‹‰å–å’Œéƒ¨ç½²ï¼Œï¼ˆè¯¥é•œåƒï¼‰å¯¹åº”ä» SCM æ‹‰å–çš„æœ€æ–°éƒ¨ç½²æè¿°ç¬¦&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åˆ°ç›®å‰ä¸ºæ­¢,ä¸€åˆ‡éƒ½æ²¡æœ‰é—®é¢˜ï¼Œå¯¹å—ï¼Ÿå¦‚æœå‡ºç°ä¸‹é¢çš„åœºæ™¯ï¼Œä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœºæ™¯ A&lt;/strong&gt;ï¼šé•œåƒè¢«æ¨åˆ°ä¸‹æ¸¸ç¯å¢ƒï¼Œå¦‚&lt;!-- raw HTML omitted --&gt;ç”¨æˆ·éªŒæ”¶æµ‹è¯•&lt;!-- raw HTML omitted --&gt;user acceptance testing &lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼ˆUATï¼‰ï¼Œæˆ–è€…æ˜¯ç”Ÿäº§ç¯å¢ƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœºæ™¯ B&lt;/strong&gt;ï¼šæµ‹è¯•ç¯å¢ƒä¸­å‘ç°äº†ä¸€ä¸ªç ´åæ€§çš„ bugï¼Œé•œåƒéœ€è¦å›æ»šåˆ°æŸä¸ªç¡®å®šæ­£å¸¸çš„ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä»»ä¸€åœºæ™¯ä¸­ï¼Œå¼€å‘è¿‡ç¨‹å¹¶æ²¡æœ‰åœæ­¢ï¼Œå³å¼€å‘åˆ†æ”¯ä¸Šæ¸¸æœ‰äº†ä¸€æ¬¡æˆ–å¤šæ¬¡æ–°çš„æäº¤ï¼Œè€Œè¿™æ„å‘³ç€æœ€æ–°çš„éƒ¨ç½²æè¿°ç¬¦å·²ç»å‘ç”Ÿäº†å˜åŒ–ï¼Œæœ€æ–°çš„é•œåƒä¸ä¹‹å‰éƒ¨ç½²åœ¨æµ‹è¯•ç¯å¢ƒä¸­çš„é•œåƒä¸ä¸€è‡´ã€‚å¯¹éƒ¨ç½²æè¿°ç¬¦çš„ä¿®æ”¹å¯èƒ½ä¼šä¹Ÿå¯èƒ½ä¸ä¼šå¯¹ä¹‹å‰ç‰ˆæœ¬çš„é•œåƒèµ·ä½œç”¨ï¼Œä½†æ˜¯å®ƒä»¬ä¸€å®šæ˜¯ä¸å¯ä¿¡ä»»çš„ã€‚å¦‚æœå®ƒä»¬æœ‰äº†å˜åŒ–ï¼Œé‚£ä¹ˆå®ƒä»¬å°±ä¸€å®šä¸ç›®å‰ä¸ºæ­¢ä½ æµ‹è¯•è¿‡çš„æƒ³è¦éƒ¨ç½²çš„é•œåƒçš„éƒ¨ç½²æè¿°ç¬¦ä¸ä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;é—®é¢˜çš„å…³é”®æ˜¯ï¼š&lt;strong&gt;å¦‚æœéƒ¨ç½²çš„é•œåƒä¸æ˜¯é•œåƒåº“ä¸­çš„æœ€æ–°ç‰ˆæœ¬ï¼Œä½ æ€ä¹ˆç¡®å®šä¸éƒ¨ç½²çš„é•œåƒç›¸å¯¹åº”çš„æ˜¯ SCM ä¸­çš„å“ªä¸ªéƒ¨ç½²æè¿°ç¬¦ï¼Ÿ&lt;/strong&gt; ä¸€è¨€ä»¥è”½ä¹‹ï¼Œæ— æ³•ç¡®å®šã€‚ä¸¤ä¸ªåº“ç›´æ¥æœ‰é˜»æŠ—å¤±é…ã€‚å¦‚æœè¦è¯¦ç»†é˜è¿°ä¸‹ï¼Œé‚£ä¹ˆæ˜¯æœ‰æ–¹æ³•å¯ä»¥è§£å†³çš„ï¼Œä½†æ˜¯ä½ éœ€è¦åšå¾ˆå¤šå·¥ä½œï¼Œè¿™éƒ¨åˆ†å†…å®¹å°±æ˜¯æ–‡ç« æ¥ä¸‹æ¥çš„ä¸»é¢˜äº†ã€‚è¯·æ³¨æ„ï¼Œä¸‹é¢çš„æ–¹æ¡ˆå¹¶ä¸æ˜¯è§£å†³é—®é¢˜çš„å”¯ä¸€åŠæ³•ï¼Œä½†æ˜¯å·²ç»æŠ•å…¥åˆ°ç”Ÿäº§ç¯å¢ƒå¹¶å·²ç»å¯¹å¾ˆå¤šé¡¹ç›®èµ·äº†ä½œç”¨ï¼Œè€Œä¸”å·²ç»è¢«æ„å»ºå¹¶éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒä¸­è¿è¡Œäº†è¶…è¿‡ä¸€å¹´ã€‚&lt;/p&gt;
&lt;h3 id=&#34;äºŒè¿›åˆ¶ä¸éƒ¨ç½²æè¿°ç¬¦&#34;&gt;äºŒè¿›åˆ¶ä¸éƒ¨ç½²æè¿°ç¬¦&lt;/h3&gt;
&lt;p&gt;æºç é€šå¸¸è¢«æ„å»ºæˆä¸€ä¸ª Docker é•œåƒæˆ–ç¬¦åˆ OCI æ ‡å‡†çš„é•œåƒï¼Œè¯¥é•œåƒé€šå¸¸è¢«éƒ¨ç½²åˆ°ä¸€ä¸ªå®¹å™¨ç¼–æ’å¹³å°ï¼ˆCOPï¼‰ä¸Šï¼Œå¦‚ Kubernetesã€‚éƒ¨ç½²åˆ° COP éœ€è¦éƒ¨ç½²æè¿°ç¬¦æ¥å®šä¹‰é•œåƒè¢«å¦‚ä½•éƒ¨ç½²ä»¥åŠä½œä¸ºå®¹å™¨è¿è¡Œï¼Œå¦‚ &lt;a class=&#34;link&#34; href=&#34;https://kubernetes.io/docs/concepts/workloads/controllers/deployment/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Kubernetes éƒ¨ç½²&lt;/a&gt; æˆ– &lt;a class=&#34;link&#34; href=&#34;https://kubernetes.io/docs/concepts/workloads/controllers/cron-jobs/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;CronJobs&lt;/a&gt;ã€‚è¿™æ˜¯å› ä¸ºåœ¨é•œåƒå’Œå®ƒçš„éƒ¨ç½²æè¿°ç¬¦ä¹‹é—´æœ‰æœ¬è´¨å·®å¼‚ï¼Œåœ¨è¿™é‡Œå¯ä»¥çœ‹åˆ°é˜»æŠ—å¤±é…ã€‚åœ¨è¿™æ¬¡è®¨è®ºä¸­ï¼Œæˆ‘ä»¬è®¤ä¸ºé•œåƒæ˜¯å­˜å‚¨åœ¨é•œåƒä»“åº“ä¸­ä¸å¯ä¿®æ”¹çš„äºŒè¿›åˆ¶ã€‚å¯¹æºç çš„ä»»ä½•ä¿®æ”¹éƒ½ä¸ä¼šä¿®æ”¹é•œåƒï¼Œè€Œæ˜¯ç”¨å¦ä¸€ä¸ªæ–°çš„é•œåƒå»æ›¿æ¢å®ƒã€‚&lt;/p&gt;
&lt;p&gt;ç›¸æ¯”ä¹‹ä¸‹ï¼Œéƒ¨ç½²æè¿°ç¬¦æ˜¯æ–‡æœ¬æ–‡ä»¶ï¼Œå› è€Œå¯ä»¥è¢«è®¤ä¸ºæ˜¯æºç ä¸”å¯ä¿®æ”¹ã€‚å¦‚æœéµå¾ªæœ€ä½³å®è·µï¼Œé‚£ä¹ˆéƒ¨ç½²æè¿°ç¬¦æ˜¯è¢«å­˜å‚¨åœ¨ SCMï¼Œæ‰€æœ‰ä¿®æ”¹éƒ½ä¼šæäº¤ï¼Œè€Œè¿™å¾ˆå®¹æ˜“å›æº¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è§£å†³é˜»æŠ—å¤±é…&#34;&gt;è§£å†³é˜»æŠ—å¤±é…&lt;/h3&gt;
&lt;p&gt;å»ºè®®çš„è§£å†³æ–¹æ¡ˆçš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œå°±æ˜¯æä¾›ä¸€ä¸ªèƒ½åŒ¹é…é•œåƒä»“åº“ä¸­çš„é•œåƒä¸å¯¹ä¿å­˜éƒ¨ç½²æè¿°ç¬¦çš„ SCM åšçš„ä»£ç æäº¤çš„æ–¹æ³•ã€‚æœ€ç›´æ¥çš„è§£å†³æ–¹æ¡ˆæ˜¯ç”¨æºæäº¤çš„å“ˆå¸Œå€¼æ ‡è®°é•œåƒã€‚è¿™ä¸ªæ–¹æ³•å¯ä»¥åŒºåˆ†ä¸åŒç‰ˆæœ¬çš„é•œåƒã€å®¹æ˜“åˆ†è¾¨ï¼Œå¹¶ä¸”æä¾›è¶³å¤Ÿçš„ä¿¡æ¯æ¥æŸ¥æ‰¾æ­£ç¡®çš„éƒ¨ç½²æè¿°ç¬¦ï¼Œä»¥ä¾¿é•œåƒæ›´å¥½åœ°éƒ¨ç½²åˆ° COPã€‚&lt;/p&gt;
&lt;p&gt;å†å›é¡¾ä¸‹ä¸Šé¢çš„åœºæ™¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœºæ™¯ A&lt;/strong&gt; &lt;em&gt;é•œåƒè¢«æ¨åˆ°ä¸‹æ¸¸ç¯å¢ƒ&lt;/em&gt;ï¼š å½“é•œåƒè¢«ä»æµ‹è¯•ç¯å¢ƒæ¨åˆ° UAT ç¯å¢ƒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä»é•œåƒçš„æ ‡ç­¾ä¸­çŸ¥é“åº”è¯¥ä» SCM çš„å“ªä¸€æ¬¡æºç æäº¤æ‹‰å–éƒ¨ç½²æè¿°ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœºæ™¯ B&lt;/strong&gt; &lt;em&gt;å½“ä¸€ä¸ªé•œåƒéœ€è¦åœ¨æŸä¸€ç¯èŠ‚ä¸­å›æ»š&lt;/em&gt;ï¼šæ— è®ºæˆ‘ä»¬é€‰æ‹©å›æ»šåˆ°é‚£ä¸ªé•œåƒç‰ˆæœ¬ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥çŸ¥é“ä» SCM çš„å“ªä¸€æ¬¡æºç æäº¤æ‹‰å–æ­£ç¡®çš„éƒ¨ç½²æè¿°ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ¯ä¸€ç§æƒ…æ™¯ä¸­ï¼Œæ— è®ºåœ¨æŸä¸ªé•œåƒè¢«éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒåå¼€å‘åˆ†æ”¯æœ‰å¤šå°‘æ¬¡æäº¤å’Œæ„å»ºï¼Œå¯¹äºæ¯ä¸€æ¬¡å‡çº§çš„é•œåƒï¼Œæˆ‘ä»¬éƒ½å¯ä»¥æ‰¾åˆ°å®ƒå½“åˆéƒ¨ç½²æ—¶å¯¹åº”çš„éƒ¨ç½²æè¿°ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œè¿™å¹¶ä¸æ˜¯é˜»æŠ—å¤±é…çš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚å†è€ƒè™‘ä¸¤ä¸ªåœºæ™¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœºæ™¯ C&lt;/strong&gt; åœ¨è´Ÿè½½æµ‹è¯•ç¯å¢ƒä¸­ï¼Œä¼šå°è¯•å¯¹ä¸åŒçš„éƒ¨ç½²æè¿°ç¬¦è¿›è¡Œå¤šæ¬¡éƒ¨ç½²ï¼Œä»¥æ­¤æ¥éªŒè¯æŸä¸€æ¬¡æ„å»ºçš„è¡¨ç°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœºæ™¯ D&lt;/strong&gt; ä¸€ä¸ªé•œåƒè¢«æ¨é€åˆ°ä¸‹æ¸¸ç¯å¢ƒï¼Œåœ¨è¯¥ç¯å¢ƒä¸­éƒ¨ç½²æè¿°ç¬¦æœ‰ä¸€ä¸ªé”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¸Šé¢çš„æ‰€æœ‰åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬éƒ½éœ€è¦ä¿®æ”¹éƒ¨ç½²æè¿°ç¬¦ï¼Œä½†æ˜¯ç›®å‰ä¸ºæ­¢æˆ‘ä»¬åªæœ‰ä¸€ä¸ªæºç æäº¤å“ˆå¸Œã€‚è¯·è®°ä½ï¼Œæœ€ä½³å®è·µè¦æ±‚æˆ‘ä»¬æ‰€æœ‰å¯¹æºç çš„ä¿®æ”¹éƒ½è¦å…ˆæäº¤åˆ° SCMã€‚æŸæ¬¡æäº¤çš„å“ˆå¸Œæœ¬èº«æ˜¯æ— æ³•ä¿®æ”¹çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ¯”ä»…ä»…è¿½è¸ªåŸæ¥çš„æºç æäº¤å“ˆå¸Œæ›´å¥½åœ°è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆæ˜¯åŸºäºåŸæ¥çš„æºç æäº¤å“ˆå¸Œæ–°å»ºä¸€ä¸ªåˆ†æ”¯ã€‚æˆ‘ä»¬æŠŠè¿™ä¸ªåˆ†æ”¯ç§°ä¸º&lt;strong&gt;éƒ¨ç½²åˆ†æ”¯&lt;/strong&gt;ã€‚æ¯å½“ä¸€ä¸ªé•œåƒè¢«æ¨åˆ°ä¸‹æ¸¸æµ‹è¯•æˆ–å‘å¸ƒç¯å¢ƒæ—¶ï¼Œä½ åº”è¯¥&lt;strong&gt;åŸºäºå‰ä¸€ä¸ª SDLC ç¯å¢ƒçš„éƒ¨ç½²åˆ†æ”¯çš„æœ€æ–°æäº¤&lt;/strong&gt;åˆ›å»ºä¸€ä¸ªæ–°çš„éƒ¨ç½²åˆ†æ”¯ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·åŒä¸€ä¸ªé•œåƒå¯ä»¥é‡å¤å¤šæ¬¡éƒ¨ç½²åˆ°ä¸åŒçš„ SDLC ç¯å¢ƒï¼Œå¹¶åœ¨åé¢æ¯ä¸ªç¯å¢ƒä¸­å¯ä»¥æ„ŸçŸ¥å‰é¢å‘ç°çš„æ”¹åŠ¨æˆ–å¯¹é•œåƒåšçš„ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„ï¼š&lt;/strong&gt; åœ¨æŸä¸ªç¯å¢ƒä¸­åšçš„ä¿®æ”¹æ˜¯å¦‚ä½•å½±å“ä¸‹ä¸€ä¸ªç¯å¢ƒçš„ï¼Œæ˜¯ç”¨å¯ä»¥å…±äº«æ•°æ®çš„å·¥å…·ï¼ˆå¦‚ Helm Chartsï¼‰è¿˜æ˜¯æ‰‹åŠ¨å‰ªåˆ‡ã€ç²˜è´´åˆ°å…¶ä»–ç›®å½•ï¼Œéƒ½ä¸åœ¨æœ¬æ–‡è®¨è®ºçš„èŒƒå›´å†…ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œå½“ä¸€ä¸ªé•œåƒè¢«ä»ä¸€ä¸ª SDLC ç¯å¢ƒä¸­æ¨åˆ°ä¸‹ä¸€ç¯å¢ƒæ—¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ªéƒ¨ç½²åˆ†æ”¯
&lt;ol&gt;
&lt;li&gt;å¦‚æœé•œåƒæ˜¯ä»å¼€å‘ç¯å¢ƒä¸­æ¨è¿‡æ¥çš„ï¼Œé‚£ä¹ˆéƒ¨ç½²åˆ†æ”¯å°±åŸºäºæ„å»ºè¿™ä¸ªé•œåƒçš„æºç æäº¤å“ˆå¸Œåˆ›å»º&lt;/li&gt;
&lt;li&gt;å¦åˆ™ï¼Œ&lt;em&gt;éƒ¨ç½²åˆ†æ”¯åŸºäºå½“å‰éƒ¨ç½²åˆ†æ”¯çš„æœ€æ–°æäº¤åˆ›å»º&lt;/em&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;é•œåƒè¢«éƒ¨ç½²åˆ°ä¸‹ä¸€ä¸ª SDLC ç¯å¢ƒï¼Œä½¿ç”¨çš„éƒ¨ç½²æè¿°ç¬¦æ˜¯è¯¥ç¯å¢ƒä¸­æ–°åˆ›å»ºçš„éƒ¨ç½²åˆ†æ”¯çš„éƒ¨ç½²æè¿°ç¬¦&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220326162117.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;deployment branching tree&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;å›¾ 1ï¼šéƒ¨ç½²åˆ†æ”¯æ ‘&lt;/em&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;éƒ¨ç½²åˆ†æ”¯&lt;/li&gt;
&lt;li&gt;ä¸‹æ¸¸ç¯å¢ƒçš„ç¬¬ä¸€ä¸ªéƒ¨ç½²åˆ†æ”¯ï¼Œåªæœ‰ä¸€æ¬¡æäº¤&lt;/li&gt;
&lt;li&gt;ä¸‹æ¸¸ç¯å¢ƒçš„ç¬¬äºŒä¸ªéƒ¨ç½²åˆ†æ”¯ï¼Œåªæœ‰ä¸€æ¬¡æäº¤&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æœ‰äº†éƒ¨ç½²åˆ†æ”¯è¿™ä¸ªè§£å†³æ–¹æ¡ˆï¼Œå†å›é¡¾ä¸‹ä¸Šé¢çš„åœºæ™¯ C å’Œåœºæ™¯ Dï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœºæ™¯ C&lt;/strong&gt; ä¿®æ”¹å·²ç»éƒ¨ç½²åˆ°ä¸‹æ¸¸ SDLC ç¯å¢ƒä¸­çš„é•œåƒçš„éƒ¨ç½²æè¿°ç¬¦&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœºæ™¯ D&lt;/strong&gt; ä¿®å¤æŸä¸ª SDLC ç¯å¢ƒä¸­éƒ¨ç½²æè¿°ç¬¦çš„é”™è¯¯&lt;/p&gt;
&lt;p&gt;ä¸¤ä¸ªåœºæ™¯ä¸­ï¼Œå·¥ä½œæµå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŠŠå¯¹éƒ¨ç½²æè¿°ç¬¦åšçš„ä¿®æ”¹æäº¤åˆ° SLDC ç¯å¢ƒå’Œé•œåƒå¯¹åº”çš„éƒ¨ç½²åˆ†æ”¯&lt;/li&gt;
&lt;li&gt;é€šè¿‡éƒ¨ç½²åˆ†æ”¯æœ€æ–°æäº¤å¯¹åº”çš„éƒ¨ç½²æè¿°ç¬¦æŠŠé•œåƒé‡æ–°éƒ¨ç½²åˆ° SLDC ç¯å¢ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™æ ·ï¼Œéƒ¨ç½²åˆ†æ”¯å½»åº•è§£å†³äº†ï¼ˆå­˜å‚¨ç€ä»£è¡¨ä¸€æ¬¡ç‹¬ä¸€æ— äºŒçš„æ„å»ºçš„å•ä¸€çš„ã€ä¸å¯ä¿®æ”¹çš„é•œåƒçš„ï¼‰é•œåƒä»“åº“ä¸ï¼ˆå­˜å‚¨ç€å¯¹åº”ä¸€ä¸ªæˆ–å¤šä¸ª SDLC ç¯å¢ƒçš„å¯ä¿®æ”¹çš„éƒ¨ç½²æè¿°ç¬¦çš„ï¼‰SCM ä»“åº“ä¹‹é—´çš„é˜»æŠ—å¤±é…ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®è·µä¸­çš„æ€è€ƒ&#34;&gt;å®è·µä¸­çš„æ€è€ƒ&lt;/h3&gt;
&lt;p&gt;è¿™çœ‹èµ·æ¥åƒæ˜¯è¡Œå¾—é€šçš„è§£å†³æ–¹æ¡ˆï¼Œä½†åŒæ—¶å®ƒä¹Ÿä¸ºå¼€å‘è€…å’Œè¿ç»´äººå‘˜å¸¦æ¥äº†æ–°çš„å®è·µä¸­çš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;A. ä¸ºäº†æ›´å¥½åœ°ç®¡ç†éƒ¨ç½²åˆ†æ”¯ï¼Œéƒ¨ç½²æè¿°ç¬¦ä½œä¸ºèµ„æºåº”è¯¥ä¿å­˜åœ¨å“ªé‡Œï¼Œæ˜¯å¦è¦ä¸æ„å»ºé•œåƒçš„æºç ä¿å­˜åœ¨åŒä¸€ä¸ª SCM ä»“åº“ï¼Ÿ&lt;/p&gt;
&lt;p&gt;åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬éƒ½åœ¨é¿å…è°ˆè®ºåº”è¯¥æŠŠéƒ¨ç½²æè¿°ç¬¦æ”¾åœ¨å“ªä¸ªä»“åº“é‡Œã€‚åœ¨è¿˜æ²¡æœ‰å¤ªå¤šç»†èŠ‚éœ€è¦å¤„ç†æ—¶ï¼Œæˆ‘ä»¬æ¨èæŠŠæ‰€æœ‰ SDLC ç¯å¢ƒçš„éƒ¨ç½²æè¿°ç¬¦ä¸é•œåƒæºç æ”¾åœ¨åŒä¸€ä¸ª SCM ä»“åº“ã€‚å½“éƒ¨ç½²åˆ†æ”¯åˆ›å»ºåï¼Œé•œåƒçš„æºç å¯ä»¥ä½œä¸ºæ–¹ä¾¿æ‰¾åˆ°éƒ¨ç½²çš„å®¹å™¨ä¸­è¿è¡Œçš„é•œåƒçš„å¼•ç”¨æ¥ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šé¢æåˆ°è¿‡ï¼Œå¯ä»¥é€šè¿‡é•œåƒçš„æ ‡ç­¾æ¥å…³è”é•œåƒä¸åŸå§‹çš„æºç æäº¤ã€‚åœ¨ä¸€ä¸ªå•ç‹¬çš„ä»“åº“ä¸­æŸ¥æ‰¾æŸæ¬¡æäº¤çš„æºç çš„å¼•ç”¨ï¼Œä¼šç»™å¼€å‘è€…å¸¦æ¥æ›´å¤§çš„å›°éš¾ï¼ˆå³ä¾¿å€ŸåŠ©å·¥å…·ï¼‰ï¼Œè¿™å°±æ˜¯æ²¡æœ‰å¿…è¦æŠŠæ‰€æœ‰èµ„æºéƒ½åˆ†å¼€å­˜å‚¨çš„åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;B. åº”è¯¥åœ¨éƒ¨ç½²åˆ†æ”¯ä¸Šä¿®æ”¹æ„å»ºé•œåƒçš„æºç å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç®€ç­”ï¼š&lt;strong&gt;ä¸åº”è¯¥&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¯¦ç»†é˜è¿°ï¼šä¸åº”è¯¥ï¼Œå› ä¸ºæ°¸è¿œä¸è¦åœ¨éƒ¨ç½²åˆ†æ”¯ä¸Šæ„å»ºé•œåƒï¼Œå®ƒä»¬æ˜¯åœ¨å¼€å‘åˆ†æ”¯ä¸Šæ„å»ºçš„ã€‚ä¿®æ”¹éƒ¨ç½²åˆ†æ”¯ä¸Šå®šä¹‰ä¸€ä¸ªé•œåƒçš„æºç ä¼šç ´åè¢«éƒ¨ç½²çš„é•œåƒçš„æ„å»ºè®°å½•ï¼Œè€Œä¸”è¿™äº›ä¿®æ”¹å¹¶ä¸ä¼šå¯¹é•œåƒçš„åŠŸèƒ½ç”Ÿæ•ˆã€‚åœ¨å¯¹æ¯”ä¸¤ä¸ªéƒ¨ç½²åˆ†æ”¯çš„ç‰ˆæœ¬æ—¶è¿™ä¹Ÿä¼šæˆä¸ºé—®é¢˜ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´ä¸¤ä¸ªç‰ˆæœ¬çš„åŠŸèƒ½å·®å¼‚æœ‰é”™è¯¯çš„æµ‹è¯•ç»“æœï¼ˆè¿™æ˜¯ä½¿ç”¨éƒ¨ç½²åˆ†æ”¯çš„ä¸€ä¸ªå¾ˆå°çš„é¢å¤–å¥½å¤„ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;C. ä¸ºä»€ä¹ˆä½¿ç”¨é•œåƒ &lt;!-- raw HTML omitted --&gt;æ ‡ç­¾&lt;!-- raw HTML omitted --&gt;tag&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼Ÿ&lt;!-- raw HTML omitted --&gt;æ ‡è®°&lt;!-- raw HTML omitted --&gt;label&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt; ä¸å¯ä»¥å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;é€šè¿‡ &lt;!-- raw HTML omitted --&gt;æ ‡ç­¾&lt;!-- raw HTML omitted --&gt;tag&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt; å¯ä»¥åœ¨ä»“åº“ä¸­å¾ˆå®¹æ˜“åœ°æŸ¥æ‰¾é•œåƒï¼Œå¯è¯»æ€§ä¹Ÿå¾ˆå¥½ã€‚åœ¨ä¸€ç»„é•œåƒä¸­è¯»å–å’ŒæŸ¥æ‰¾ &lt;!-- raw HTML omitted --&gt;æ ‡è®°&lt;!-- raw HTML omitted --&gt;label&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt; çš„å€¼éœ€è¦æ‹‰å–æ‰€æœ‰é•œåƒçš„&lt;!-- raw HTML omitted --&gt;æ¸…å•æ–‡ä»¶&lt;!-- raw HTML omitted --&gt;manifest&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼Œè€Œè¿™ä¼šå¢åŠ å¤æ‚åº¦ã€é™ä½æ€§èƒ½ã€‚è€Œä¸”ï¼Œè€ƒè™‘åˆ°å†å²è®°å½•çš„è¿½è¸ªå’Œä¸åŒç‰ˆæœ¬çš„æŸ¥æ‰¾ï¼Œå¯¹ä¸åŒç‰ˆæœ¬çš„é•œåƒæ·»åŠ  &lt;!-- raw HTML omitted --&gt;æ ‡ç­¾&lt;!-- raw HTML omitted --&gt;tag&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt; ä¹Ÿå¾ˆæœ‰å¿…è¦ï¼Œå› æ­¤ä½¿ç”¨æºç æäº¤å“ˆå¸Œæ˜¯ä¿è¯å”¯ä¸€æ€§ï¼Œä»¥åŠä¿å­˜èƒ½å³æ—¶ç”Ÿæ•ˆçš„æœ‰ç”¨ä¿¡æ¯çš„æœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;D. åˆ›å»ºéƒ¨ç½²åˆ†æ”¯çš„æœ€ä½³å®è·µæ˜¯æ€æ ·çš„ï¼Ÿ&lt;/p&gt;
&lt;p&gt;DevOps æœ€é‡è¦çš„ä¸‰ä¸ªåŸåˆ™ï¼šè‡ªåŠ¨åŒ–ã€è‡ªåŠ¨åŒ–ã€è‡ªåŠ¨åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;ä¾èµ–èµ„æºæ¥æŒç»­åœ°å¼ºè¿«éµå¾ªæœ€ä½³å®è·µï¼Œå……å…¶é‡åªæ˜¯ç¢°è¿æ°”ï¼Œå› æ­¤åœ¨å®ç°é•œåƒçš„å‡çº§ã€å›æ»šç­‰ CI/CD æµæ°´çº¿æ—¶ï¼ŒæŠŠè‡ªåŠ¨åŒ–éƒ¨ç½²åˆ†æ”¯å†™åˆ°è„šæœ¬é‡Œã€‚&lt;/p&gt;
&lt;p&gt;E. å¯¹éƒ¨ç½²åˆ†æ”¯çš„å‘½åè§„èŒƒæœ‰å»ºè®®å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&amp;lt;&lt;strong&gt;éƒ¨ç½²åˆ†æ”¯æ ‡è¯†&lt;/strong&gt;&amp;gt;-&amp;lt;&lt;strong&gt;ç¯å¢ƒ&lt;/strong&gt;&amp;gt;-&amp;lt;&lt;strong&gt;æºç æäº¤å“ˆå¸Œ&lt;/strong&gt;&amp;gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;éƒ¨ç½²åˆ†æ”¯æ ‡è¯†&lt;/strong&gt;ï¼š æ‰€æœ‰éƒ¨ç½²åˆ†æ”¯èŒƒå›´å†…å”¯ä¸€çš„å­—ç¬¦ä¸²ï¼›å¦‚ â€œdeploymentâ€ æˆ– â€œdeployâ€&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¯å¢ƒ&lt;/strong&gt;ï¼š éƒ¨ç½²åˆ†æ”¯é€‚ç”¨çš„ SDLC ç¯å¢ƒï¼›å¦‚ â€œqaâ€ï¼ˆæµ‹è¯•ç¯å¢ƒï¼‰ã€ â€œstgâ€ï¼ˆé¢„ç”Ÿäº§ç¯å¢ƒï¼‰ã€ æˆ– â€œprodâ€ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æºç æäº¤å“ˆå¸Œ&lt;/strong&gt;ï¼š æºç æäº¤å“ˆå¸Œä¸­åŒ…å«åŸæ¥æ„å»ºè¢«éƒ¨ç½²çš„é•œåƒçš„æºç ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡å®ƒå¾ˆå®¹æ˜“åœ°æŸ¥æ‰¾åˆ°åˆ›å»ºé•œåƒçš„åŸå§‹æäº¤ï¼ŒåŒæ—¶ä¹Ÿèƒ½ä¿è¯åˆ†æ”¯åå”¯ä¸€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œ &lt;code&gt;deployment-qa-asdf78s&lt;/code&gt; è¡¨ç¤ºæ¨åˆ° QA ç¯å¢ƒçš„éƒ¨ç½²åˆ†æ”¯ï¼Œ &lt;code&gt;deployment-stg-asdf78s&lt;/code&gt; è¡¨ç¤ºæ¨åˆ° STG ç¯å¢ƒçš„éƒ¨ç½²åˆ†æ”¯ã€‚&lt;/p&gt;
&lt;p&gt;F. ä½ æ€ä¹ˆè¯†åˆ«ç¯å¢ƒä¸­è¿è¡Œçš„å“ªä¸ªé•œåƒç‰ˆæœ¬ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çš„å»ºè®®æ˜¯æŠŠæœ€æ–°çš„éƒ¨ç½²åˆ†æ”¯æäº¤å“ˆå¸Œå’Œæºç æäº¤å“ˆå¸Œæ·»åŠ åˆ° &lt;a class=&#34;link&#34; href=&#34;https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æ ‡è®°&lt;/a&gt; ä¸­ã€‚å¼€å‘è€…å’Œè¿ç»´äººå‘˜å¯ä»¥é€šè¿‡è¿™ä¸¤ä¸ªç‹¬ä¸€æ— äºŒçš„æ ‡è¯†ç¬¦æŸ¥æ‰¾åˆ°éƒ¨ç½²çš„æ‰€æœ‰ä¸œè¥¿åŠå…¶æ¥æºã€‚åœ¨è¯¸å¦‚æ‰§è¡Œå›æ»šæˆ–å‰æ»šæ“ä½œæ—¶ï¼Œä½¿ç”¨é‚£äº›ä¸åŒç‰ˆæœ¬çš„éƒ¨ç½²çš„é€‰æ‹©å™¨ä¹Ÿèƒ½æ¸…ç†èµ„æºç¢ç‰‡ã€‚&lt;/p&gt;
&lt;p&gt;G. ä»€ä¹ˆæ—¶å€™åº”è¯¥æŠŠéƒ¨ç½²åˆ†æ”¯çš„ä¿®æ”¹åˆå¹¶å›å¼€å‘åˆ†æ”¯ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™å®Œå…¨å–å†³äºå¼€å‘å›¢é˜Ÿã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ ä¿®æ”¹çš„ç›®çš„æ˜¯ä¸ºäº†åšè´Ÿè½½æµ‹è¯•ï¼Œåªæ˜¯æƒ³éªŒè¯ä»€ä¹ˆæƒ…å†µä¼šè®©ç¨‹åºå´©æºƒï¼Œé‚£ä¹ˆè¿™äº›ä¿®æ”¹ä¸åº”è¯¥è¢«åˆå¹¶å›å¼€å‘åˆ†æ”¯ã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœä½ å‘ç°å’Œä¿®å¤äº†ä¸€ä¸ªé”™è¯¯ï¼Œæˆ–è€…å¯¹ä¸‹æ¸¸ç¯å¢ƒçš„éƒ¨ç½²åšäº†è°ƒæ•´ï¼Œé‚£ä¹ˆå°±åº”è¯¥æŠŠéƒ¨ç½²åˆ†æ”¯çš„ä¿®æ”¹åˆå¹¶å›å¼€å‘åˆ†æ”¯ã€‚&lt;/p&gt;
&lt;p&gt;H. æœ‰ç°æˆçš„éƒ¨ç½²åˆ†æ”¯ç¤ºä¾‹è®©æˆ‘ä»¬è¯•æ°´å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/elcicd&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;el-CICD&lt;/a&gt; å·²ç»åœ¨ç”Ÿäº§ä¸Šä½¿ç”¨è¿™ä¸ªç­–ç•¥æŒç»­ä¸€å¹´åŠåº”ç”¨åˆ°è¶…è¿‡ä¸€ç™¾ä¸ªé¡¹ç›®äº†ï¼Œè¦†ç›–æ‰€æœ‰çš„ SDLC ç¯å¢ƒï¼ŒåŒ…æ‹¬ç®¡ç†ç”Ÿäº§ç¯å¢ƒçš„éƒ¨ç½²ã€‚å¦‚æœä½ å¯ä»¥è®¿é—® &lt;a class=&#34;link&#34; href=&#34;https://www.okd.io/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;OKD&lt;/a&gt;ã€Red Hat OpenShift lab cluster æˆ– &lt;a class=&#34;link&#34; href=&#34;https://cloud.redhat.com/openshift/create/local&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Red Hat CodeReady Containers&lt;/a&gt;ï¼Œä½ å¯ä»¥ä¸‹è½½&lt;a class=&#34;link&#34; href=&#34;https://github.com/elcicd/el-CICD-RELEASES&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;el-CICD çš„æœ€æ–°ç‰ˆæœ¬&lt;/a&gt;ï¼Œå‚ç…§ &lt;a class=&#34;link&#34; href=&#34;https://github.com/elcicd/el-CICD-docs/blob/master/tutorial.md&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æ•™ç¨‹&lt;/a&gt; æ¥å­¦ä¹ éƒ¨ç½²åˆ†æ”¯æ˜¯ä½•æ—¶ä»¥æ€æ ·çš„æ–¹å¼åˆ›å»ºå’Œä½¿ç”¨çš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç»“è¯­&#34;&gt;ç»“è¯­&lt;/h3&gt;
&lt;p&gt;é€šè¿‡å®è·µä¸Šé¢çš„ä¾‹å­å¯ä»¥å¸®åŠ©ä½ æ›´å¥½çš„ç†è§£å¼€å‘è¿‡ç¨‹ä¸­é˜»æŠ—å¤±é…ç›¸å…³çš„é—®é¢˜ã€‚å¯¹é½é•œåƒå’Œéƒ¨ç½²æè¿°ç¬¦æ˜¯æˆåŠŸç®¡ç†éƒ¨ç½²çš„å…³é”®éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://opensource.com/article/21/8/impedance-mismatch-cicd&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://opensource.com/article/21/8/impedance-mismatch-cicd&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://opensource.com/users/hippyod&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Evan &amp;ldquo;Hippy&amp;rdquo; Slatis&lt;/a&gt;
é€‰é¢˜ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lujun9972&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;lujun9972&lt;/a&gt;
è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Xiaobin.Liu&lt;/a&gt;
æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/wxy&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;wxy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/LCTT/TranslateProject&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;LCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://linux.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Linuxä¸­å›½&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Postman è‡ªåŠ¨å¡«å…… Header</title>
        <link>https://lxb.wiki/3632d5ff/</link>
        <pubDate>Thu, 10 Mar 2022 22:51:15 +0000</pubDate>
        
        <guid>https://lxb.wiki/3632d5ff/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h3 id=&#34;åŸºæœ¬æµç¨‹&#34;&gt;åŸºæœ¬æµç¨‹&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-mermaid&#34; data-lang=&#34;mermaid&#34;&gt;sequenceDiagram
participant c as Client
participant s as Server

c -&amp;gt;&amp;gt; s: request Headä¸ºç©º
s -&amp;gt;&amp;gt; c: tokenåœ¨responseä¸­

c -&amp;gt;&amp;gt; s: å–å‡ºtokenï¼›è®¾ç½®Head
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;postmanå®ç°&#34;&gt;Postmanå®ç°&lt;/h3&gt;
&lt;h4 id=&#34;æ–°å¢ä¸€ä¸ªç¯å¢ƒ&#34;&gt;æ–°å¢ä¸€ä¸ªç¯å¢ƒ&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20220710185857.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20220710185930.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;è®¾ç½®ç¯å¢ƒå˜é‡&#34;&gt;è®¾ç½®ç¯å¢ƒå˜é‡&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;VARIABLE&lt;/code&gt; åä¸ºä¸º &lt;code&gt;token&lt;/code&gt;, &lt;code&gt;VALUE&lt;/code&gt; ä¸ºç©º&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20220710190008.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;è®¾ç½®-tests&#34;&gt;è®¾ç½® Tests&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20220710190305.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20220710190344.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åç‚¹å‡»å‘é€ã€‚å¦‚æœè¯·æ±‚æ­£å¸¸ï¼Œé‚£å€¼å°±ä¼šå¡«å……åˆ°ä½ çš„ç¯å¢ƒä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20220710190423.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;è®¾ç½®è‡ªå®šä¹‰å›ºå®šå¤´éƒ¨&#34;&gt;è®¾ç½®è‡ªå®šä¹‰å›ºå®šå¤´éƒ¨&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20220710190508.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20220710190527.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20220710190547.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Jopliné…ç½®TeraCloudçš„WebDavè¿›è¡ŒåŒæ­¥</title>
        <link>https://lxb.wiki/f3376d3f/</link>
        <pubDate>Sat, 15 Jan 2022 20:01:15 +0000</pubDate>
        
        <guid>https://lxb.wiki/f3376d3f/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h3 id=&#34;ä¸ºä»€ä¹ˆä¸å†ä½¿ç”¨åšæœäº‘&#34;&gt;ä¸ºä»€ä¹ˆä¸å†ä½¿ç”¨åšæœäº‘&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨åšæœäº‘åŒæ­¥ç¬”è®°ï¼Œå‡ºç°äº†æ— æ³•è§£å†³çš„ç¾éš¾æ€§é—®é¢˜&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç¬¬ä¸‰æ–¹åº”ç”¨è®¿é—®çš„é™åˆ¶
æ–‡ä»¶ä¸Šä¼ å¤§å°é™åˆ¶ï¼š å½“å‰ WebDAV å®¢æˆ·ç«¯å’Œç½‘é¡µç«¯ä¸Šä¼ å¤§å°çš„é™åˆ¶æ˜¯ä¸€è‡´çš„ï¼Œé»˜è®¤ä¸º 500Mï¼ˆç§æœ‰äº‘å¯ä»¥é€šè¿‡ç›¸å…³è®¾ç½®è°ƒæ•´ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è®¿é—®é¢‘ç‡é™åˆ¶ï¼š ç”±äºWebDAVåè®®æ¯”è¾ƒå ç”¨ç³»ç»Ÿèµ„æºï¼Œå…è´¹ç‰ˆç”¨æˆ·é™åˆ¶è®¿é—®é¢‘ç‡ä¸ºæ¯30åˆ†é’Ÿä¸è¶…è¿‡600æ¬¡è¯·æ±‚ã€‚ä»˜è´¹ç”¨æˆ·é™åˆ¶è®¿é—®é¢‘ç‡ä¸ºæ¯30åˆ†é’Ÿä¸è¶…è¿‡1500æ¬¡è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ­¥ç›®å½•æ•°é™åˆ¶ï¼š ç›®å‰åšæœäº‘çš„WebDAVåè®®å•æ¬¡è¯·æ±‚æ–‡ä»¶æ•°ï¼ˆåŒ…å«æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼‰ä¸º750ä¸ªï¼Œæ”¯æŒåˆ†å¤šé¡µå¤šæ¬¡åŠ è½½ã€‚å¦‚æœæ‚¨ä½¿ç”¨WebDAVçš„ä¸‰æ–¹å·¥å…·æœªå®ç°æŒ‰åˆ†é¡µå¤šæ¬¡åŠ è½½ï¼Œå¯èƒ½ä¼šå‡ºç°æ–‡ä»¶åŒæ­¥ä¸å®Œæ•´çš„æƒ…å†µï¼Œå»ºè®®æ‚¨ä½¿ç”¨åšæœäº‘å®¢æˆ·ç«¯è¿›è¡Œç›´æ¥åŒæ­¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç”¨åšæœäº‘åŒæ­¥joplinæ˜¯ä¸ªç³Ÿç³•çš„é€‰æ‹©ï¼Œç›®å‰æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š
ä¸€ä¸ªæ˜¯çŸ­æ—¶é—´å¤§é‡åŒæ­¥æ–‡ä»¶ï¼Œä¼šè§¦å‘åšæœäº‘çš„é™åˆ¶ï¼Œå¯¼è‡´åŒæ­¥å¤±è´¥ï¼Œå½“è§¦å‘è¯¥é™åˆ¶åï¼Œæˆ‘ä»¬èƒ½åšçš„åªæœ‰è€å¿ƒç­‰å¾…6ä¸ªå°æ—¶ï¼Œè¯¥é™åˆ¶ä¸å…è´¹ç‰ˆ/ä¸“ä¸šç‰ˆæ²¡æœ‰å…³ç³»ã€‚
å¦ä¸€ä¸ªæ‰æ˜¯ç¾éš¾ï¼Œåšæœäº‘å¯¹åŒä¸€æ–‡ä»¶å¤¹å†…çš„æ–‡ä»¶é‡‡å–åˆ†é¡µä¼ è¾“çš„æœºåˆ¶ï¼Œå¯¼è‡´Joplinä¸€æ¬¡ä¸èƒ½è·å–å…¨éƒ¨æ–‡ä»¶åˆ—è¡¨ï¼Œå¯¼è‡´Joplinè®¤ä¸ºæœ‰äº›æ–‡ä»¶åœ¨æœåŠ¡å™¨ç«¯ä¸å­˜åœ¨ï¼Œå³è®¤ä¸ºè¯¥æ–‡ä»¶è¦è¢«åˆ é™¤ï¼ŒJoplinå°±ä¼šåˆ é™¤æœ¬åœ°å¯¹åº”çš„å†…å®¹ï¼Œç›´æ¥çš„è¡¨ç°å°±æ˜¯å½“ç¬”è®°è¾¾åˆ°ä¸€å®šæ•°é‡åç”¨åšæœäº‘åŒæ­¥å°±ä¼šå‡ºç°é¢‘ç¹çš„ä¸¢ç¬”è®°ç°è±¡ã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰Joplinå®˜æ–¹ä¹Ÿä¸å»ºè®®ä½¿ç”¨åšæœäº‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://joplinapp.org/faq/#the-following-webdav-hosts-are-not-supported&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;FAQ | Joplin (joplinapp.org)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ 2021 å¹´ 1 æœˆå·²ç»æœ‰ç”¨æˆ·æè¿‡ issue&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/laurent22/joplin/issues/4294&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Data lost when using the webdav to sync data Â· Issue #4294 Â· laurent22/joplin (github.com)&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;joplin-é…ç½®teracloud-çš„webdav&#34;&gt;Joplin é…ç½®teracloud çš„WebDav&lt;/h3&gt;
&lt;h4 id=&#34;teracloudæ³¨å†Œ&#34;&gt;TeraCLOUDæ³¨å†Œ&lt;/h4&gt;
&lt;p&gt;å®˜ç½‘åœ°å€ï¼šhttps://teracloud.jp/en/ã€‚&lt;/p&gt;
&lt;p&gt;è¿›å…¥ä¸Šè¿°å®˜ç½‘åœ°å€ä¹‹åï¼Œç‚¹å‡» &lt;code&gt;Create Account&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;ç™»å½•å¡«å†™æ¨èç &#34;&gt;ç™»å½•&amp;amp;å¡«å†™æ¨èç &lt;/h4&gt;
&lt;p&gt;æ³¨å†Œè´¦å·ä¹‹åï¼Œåœ¨å®˜ç½‘åœ°å€ç‚¹å‡» &lt;code&gt;Login&lt;/code&gt; ç™»å½•ã€‚
ç™»å½•ä¹‹åï¼Œç‚¹å‡» &lt;code&gt;My Page&lt;/code&gt; ï¼Œè¿›å…¥æˆ‘çš„é¡µé¢ã€‚&lt;/p&gt;
&lt;p&gt;å…è´¹ç”¨æˆ·é»˜è®¤åªç»™10Gç©ºé—´ï¼Œå¦‚æœä½¿ç”¨æ¨èç ï¼Œå¯ä»¥å†å¢åŠ 5Gç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ &lt;code&gt;My Page&lt;/code&gt; é¡µé¢ï¼Œ&lt;code&gt;Referral Bonus-&amp;gt;Enter Friends Referral Code&lt;/code&gt;ï¼Œå¡«å†™æ¨èç å³å¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20220710182918.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘çš„æ¨èç ï¼šBQMZ7ã€‚&lt;/p&gt;
&lt;h4 id=&#34;è®¾ç½®teracloud&#34;&gt;è®¾ç½®TeraCLOUD&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;å¼€å¯WebDAV&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿›å…¥ &lt;a class=&#34;link&#34; href=&#34;https://teracloud.jp/en/modules/mypage/usage/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;My Page&lt;/a&gt; é¡µé¢ï¼Œæ‰¾åˆ°&lt;code&gt;Apps Connection&lt;/code&gt;ï¼Œå‹¾é€‰&lt;code&gt;Turn on Apps Connection&lt;/code&gt;ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20220710183145.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åˆ›å»ºJoplinåŒæ­¥æ–‡ä»¶å¤¹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä»é¦–é¡µè¿›å…¥ &lt;a class=&#34;link&#34; href=&#34;https://aki.teracloud.jp/browser/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;File Browser&lt;/a&gt; é¡µé¢ï¼Œåˆ›å»ºç”¨äºJoplinåŒæ­¥çš„æ–‡ä»¶å¤¹ï¼Œå¦‚åˆ›å»ºä¸€ä¸ªåä¸º &lt;code&gt;terajoplin&lt;/code&gt; çš„æ–‡ä»¶ä»¶&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20220710183450.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20220710183642.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é…ç½®Joplin&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ‰“å¼€ Joplin å®¢æˆ·ç«¯çš„ &lt;code&gt;åŒæ­¥&lt;/code&gt; é€‰é¡¹&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lxbwolf/blog_source_image/main/20220710184839.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åŒæ­¥ç›®æ ‡é€‰ &lt;code&gt;Nextcloud&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Nextcloud WebDAV URL&lt;/code&gt; ä¸º &lt;a class=&#34;link&#34; href=&#34;https://teracloud.jp/en/modules/mypage/usage/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;My Page|TeraCLOUD&lt;/a&gt; ä¸­ &lt;code&gt;Apps Connection&lt;/code&gt; é‡Œçš„ &lt;code&gt;WebDAV Connection URL&lt;/code&gt;ååŠ åˆšåˆšåœ¨ &lt;code&gt;File Browser&lt;/code&gt; åˆ›å»ºçš„ç›®å½•å&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Nextcloud username&lt;/code&gt; ä¸º &lt;a class=&#34;link&#34; href=&#34;https://teracloud.jp/en/modules/mypage/usage/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;My Page|TeraCLOUD&lt;/a&gt; ä¸­ &lt;code&gt;Apps Connection&lt;/code&gt; é‡Œçš„ &lt;code&gt;Connection ID&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Nextcloud password&lt;/code&gt; ä¸º &lt;a class=&#34;link&#34; href=&#34;https://teracloud.jp/en/modules/mypage/usage/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;My Page|TeraCLOUD&lt;/a&gt; ä¸­ &lt;code&gt;Apps Connection&lt;/code&gt; é‡Œçš„ &lt;code&gt;Apps Password&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä½¿ç”¨çš„æ’ä»¶&#34;&gt;ä½¿ç”¨çš„æ’ä»¶&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Embed Search&lt;/li&gt;
&lt;li&gt;Event Calendar
&lt;ul&gt;
&lt;li&gt;yaml é…ç½®æ—¥å†äº‹ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Note list and sidebar toggle buttons
&lt;ul&gt;
&lt;li&gt;æ§åˆ¶å·¦ä¾§ notebooks å’Œ note æ çš„æ˜¾ç¤º/éšè—&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;macOS theme&lt;/li&gt;
&lt;li&gt;Enhancement(å¼ƒç”¨)
&lt;ul&gt;
&lt;li&gt;åœ¨ä»£ç å—ä¸­è¯¯è¾“å…¥åï¼Œæ— æ³•æ’¤é”€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Kitty Minder(naotu)(å¼ƒç”¨)&lt;/li&gt;
&lt;li&gt;draw.io(å¼ƒç”¨)&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>SLO å’Œ SLA çš„åŒºåˆ«</title>
        <link>https://lxb.wiki/ee700d45/</link>
        <pubDate>Wed, 15 Dec 2021 21:08:32 +0000</pubDate>
        
        <guid>https://lxb.wiki/ee700d45/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;SLOå’ŒSLAæ˜¯å¤§å®¶å¸¸è§çš„ä¸¤ä¸ªåè¯ï¼šæœåŠ¡ç­‰çº§ç›®æ ‡å’ŒæœåŠ¡ç­‰çº§åè®®ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;äº‘è®¡ç®—æ—¶ä»£ï¼Œå„å¤§äº‘æœåŠ¡æä¾›å•†éƒ½å‘å¸ƒæœ‰è‡ªå·±æœåŠ¡çš„SLAæ¡æ¬¾ï¼Œæ¯”å¦‚Amazonçš„EC2å’ŒS3æœåŠ¡éƒ½æœ‰ç›¸åº”çš„SLAæ¡æ¬¾ã€‚è¿™äº›å¤§å…¬å¸çš„SLAçœ‹ä¸Šå»å¦‚æ­¤çš„é«˜è¾¾ä¸Šï¼Œä¸€èˆ¬æ˜¯æ€ä¹ˆå®šä¹‰å‡ºæ¥çš„å‘¢ï¼Ÿæœ¬æ–‡å°±å°è¯•ä»æŠ€æœ¯è§’åº¦è§£å‰–ä¸€ä¸‹SLAçš„åˆ¶å®šè¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;è¯´SLAä¸èƒ½ä¸æSLOï¼Œè¿™ä¸ªæ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªæ¦‚å¿µçŸ¥é“çš„äººå°±ä¸å¤šäº†ï¼Œé‚£å°±æ˜¯SLIï¼ˆService Level Indicatorï¼‰ï¼Œ&lt;strong&gt;å®šä¹‰ä¸€ä¸ªå¯æ‰§è¡Œçš„SLAï¼Œå¥½çš„SLOå’ŒSLIæ˜¯å¿…ä¸å¯å°‘çš„&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å†æœ‰å°±æ˜¯SLI/SLO/SLAéƒ½æ˜¯å’ŒæœåŠ¡è”ç³»åœ¨ä¸€èµ·çš„ï¼Œè„±ç¦»äº†æœåŠ¡è¿™ä¸‰ä¸ªæ¦‚å¿µå°±æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;service&#34;&gt;Service&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;ä»€ä¹ˆæ˜¯æœåŠ¡ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç®€å•è¯´å°±æ˜¯ä¸€åˆ‡æä¾›ç»™å®¢æˆ·çš„æœ‰ç”¨åŠŸèƒ½éƒ½å¯ä»¥ç§°ä¸ºæœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;æœåŠ¡ä¸€èˆ¬ä¼šç”±æœåŠ¡æä¾›è€…æä¾›ï¼Œæä¾›è¿™ä¸ªæœ‰ç”¨åŠŸèƒ½çš„ç»„ç»‡è¢«ç§°ä¸ºæœåŠ¡æä¾›è€…ï¼Œé€šå¸¸æ˜¯äººåŠ ä¸Šè½¯ä»¶ï¼Œè½¯ä»¶çš„è¿è¡Œéœ€è¦è®¡ç®—èµ„æºï¼Œä¸ºäº†èƒ½å¯¹å¤–æä¾›æœ‰ç”¨çš„åŠŸèƒ½è½¯ä»¶å¯èƒ½ä¼šæœ‰å¯¹å…¶ä»–è½¯ä»¶ç³»ç»Ÿçš„ä¾èµ–ã€‚&lt;/p&gt;
&lt;p&gt;å®¢æˆ·æ˜¯ä½¿ç”¨æœåŠ¡æä¾›è€…æä¾›çš„æœåŠ¡çš„äººæˆ–å…¬å¸ã€‚&lt;/p&gt;
&lt;h2 id=&#34;sli&#34;&gt;SLI&lt;/h2&gt;
&lt;p&gt;SLIæ˜¯ç»è¿‡ä»”ç»†å®šä¹‰çš„æµ‹é‡æŒ‡æ ‡ï¼Œå®ƒæ ¹æ®ä¸åŒç³»ç»Ÿç‰¹ç‚¹ç¡®å®šè¦æµ‹é‡ä»€ä¹ˆï¼ŒSLIçš„ç¡®å®šæ˜¯ä¸€ä¸ªéå¸¸å¤æ‚çš„è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;SLIçš„ç¡®å®šéœ€è¦å›ç­”ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¦æµ‹é‡çš„æŒ‡æ ‡æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/li&gt;
&lt;li&gt;æµ‹é‡æ—¶çš„ç³»ç»ŸçŠ¶æ€ï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚ä½•æ±‡æ€»å¤„ç†æµ‹é‡çš„æŒ‡æ ‡ï¼Ÿ&lt;/li&gt;
&lt;li&gt;æµ‹é‡æŒ‡æ ‡èƒ½å¦å‡†ç¡®æè¿°æœåŠ¡è´¨é‡ï¼Ÿ&lt;/li&gt;
&lt;li&gt;æµ‹é‡æŒ‡æ ‡çš„å¯é åº¦(trustworthy)ï¼Ÿ&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;1-å¸¸è§çš„æµ‹é‡æŒ‡æ ‡æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢&#34;&gt;1. å¸¸è§çš„æµ‹é‡æŒ‡æ ‡æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ€§èƒ½&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;å“åº”æ—¶é—´(latency)
&lt;ul&gt;
&lt;li&gt;ååé‡(throughput)&lt;/li&gt;
&lt;li&gt;è¯·æ±‚é‡(qps)&lt;/li&gt;
&lt;li&gt;å®æ•ˆæ€§(freshness)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯ç”¨æ€§&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;è¿è¡Œæ—¶é—´(uptime)
&lt;ul&gt;
&lt;li&gt;æ•…éšœæ—¶é—´/é¢‘ç‡&lt;/li&gt;
&lt;li&gt;å¯é æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è´¨é‡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;å‡†ç¡®æ€§(accuracy)
&lt;ul&gt;
&lt;li&gt;æ­£ç¡®æ€§(correctness)&lt;/li&gt;
&lt;li&gt;å®Œæ•´æ€§(completeness)&lt;/li&gt;
&lt;li&gt;è¦†ç›–ç‡(coverage)&lt;/li&gt;
&lt;li&gt;ç›¸å…³æ€§(relevance)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å†…éƒ¨æŒ‡æ ‡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;é˜Ÿåˆ—é•¿åº¦(queue length)
&lt;ul&gt;
&lt;li&gt;å†…å­˜å ç”¨(RAM usage)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å› ç´ äºº&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;å“åº”æ—¶é—´(time to response)
&lt;ul&gt;
&lt;li&gt;ä¿®å¤æ—¶é—´(time to fix)&lt;/li&gt;
&lt;li&gt;ä¿®å¤ç‡(fraction fixed)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;**ä¸‹é¢é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜ä¸€ä¸‹ï¼š**hotmailçš„downtime SLI&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é”™è¯¯ç‡(error rate)è®¡ç®—çš„æ˜¯æœåŠ¡è¿”å›ç»™ç”¨æˆ·çš„erroræ€»æ•°&lt;/li&gt;
&lt;li&gt;å¦‚æœé”™è¯¯ç‡å¤§äºX%ï¼Œå°±ç®—æ˜¯æœåŠ¡downäº†ï¼Œå¼€å§‹è®¡ç®—downtime&lt;/li&gt;
&lt;li&gt;å¦‚æœé”™è¯¯ç‡æŒç»­è¶…è¿‡Yåˆ†é’Ÿï¼Œè¿™ä¸ªdowntimeå°±ä¼šè¢«è®¡ç®—åœ¨å†…&lt;/li&gt;
&lt;li&gt;é—´æ–­æ€§çš„å°äºYåˆ†é’Ÿçš„downtimeæ˜¯ä¸è¢«è®¡ç®—åœ¨å†…çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-æµ‹é‡æ—¶çš„ç³»ç»ŸçŠ¶æ€åœ¨ä»€ä¹ˆæƒ…å†µä¸‹æµ‹é‡ä¼šä¸¥é‡å½±å“æµ‹é‡çš„ç»“æœ&#34;&gt;2. æµ‹é‡æ—¶çš„ç³»ç»ŸçŠ¶æ€ï¼Œåœ¨ä»€ä¹ˆæƒ…å†µä¸‹æµ‹é‡ä¼šä¸¥é‡å½±å“æµ‹é‡çš„ç»“æœ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æµ‹é‡å¼‚å¸¸(badly-formed)è¯·æ±‚ï¼Œè¿˜æ˜¯å¤±è´¥(fail)è¯·æ±‚è¿˜æ˜¯è¶…æ—¶è¯·æ±‚(timeout)&lt;/li&gt;
&lt;li&gt;æµ‹é‡æ—¶çš„ç³»ç»Ÿè´Ÿè½½ï¼ˆæ˜¯å¦æœ€å¤§è´Ÿè½½ï¼‰&lt;/li&gt;
&lt;li&gt;æµ‹é‡çš„å‘èµ·ä½ç½®ï¼ŒæœåŠ¡å™¨ç«¯è¿˜æ˜¯å®¢æˆ·ç«¯&lt;/li&gt;
&lt;li&gt;æµ‹é‡çš„æ—¶é—´çª—å£ï¼ˆä»…å·¥ä½œæ—¥ã€è¿˜æ˜¯ä¸€å‘¨7å¤©ã€æ˜¯å¦åŒ…æ‹¬è®¡åˆ’å†…çš„ç»´æŠ¤æ—¶é—´æ®µï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3-å¦‚ä½•æ±‡æ€»å¤„ç†æµ‹é‡çš„æŒ‡æ ‡&#34;&gt;3. å¦‚ä½•æ±‡æ€»å¤„ç†æµ‹é‡çš„æŒ‡æ ‡ï¼Ÿ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è®¡ç®—çš„æ—¶é—´åŒºé—´æ˜¯ä»€ä¹ˆï¼šæ˜¯ä¸€ä¸ªæ»šåŠ¨æ—¶é—´çª—å£ï¼Œè¿˜æ˜¯ç®€å•çš„æŒ‰ç…§æœˆä»½è®¡ç®—&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨å¹³å‡å€¼è¿˜æ˜¯ç™¾åˆ†ä½å€¼ï¼Œæ¯”å¦‚ï¼šæŸæœåŠ¡Xçš„ticketå¤„ç†å“åº”æ—¶é—´SLIçš„&lt;/li&gt;
&lt;li&gt;æµ‹é‡æŒ‡æ ‡ï¼šç»Ÿè®¡æ‰€æœ‰æˆåŠŸè§£å†³è¯·æ±‚ï¼Œä»ç”¨æˆ·åˆ›å»ºticketåˆ°é—®é¢˜è¢«è§£å†³çš„æ—¶é—´&lt;/li&gt;
&lt;li&gt;æ€ä¹ˆæµ‹é‡ï¼šç”¨ticketè‡ªå¸¦çš„æ—¶é—´æˆ³ï¼Œç»Ÿè®¡æ‰€æœ‰ç”¨æˆ·åˆ›å»ºçš„ticket&lt;/li&gt;
&lt;li&gt;ä»€ä¹ˆæƒ…å†µä¸‹çš„æµ‹é‡ï¼šåªåŒ…æ‹¬å·¥ä½œæ—¶é—´ï¼Œä¸åŒ…å«æ³•å®šå‡æ—¥&lt;/li&gt;
&lt;li&gt;ç”¨äºSLIçš„æ•°æ®æŒ‡æ ‡ï¼šä»¥ä¸€å‘¨ä¸ºæ»‘åŠ¨çª—å£ï¼Œ95%åˆ†ä½çš„è§£å†³æ—¶é—´&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;4-æµ‹é‡æŒ‡æ ‡èƒ½å¦å‡†ç¡®æè¿°æœåŠ¡è´¨é‡&#34;&gt;4. æµ‹é‡æŒ‡æ ‡èƒ½å¦å‡†ç¡®æè¿°æœåŠ¡è´¨é‡ï¼Ÿ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æ€§èƒ½ï¼šæ—¶æ•ˆæ€§ã€æ˜¯å¦æœ‰åå·®&lt;/li&gt;
&lt;li&gt;å‡†ç¡®æ€§ï¼šç²¾åº¦ã€è¦†ç›–ç‡ã€æ•°æ®ç¨³å®šæ€§&lt;/li&gt;
&lt;li&gt;å®Œæ•´æ€§ï¼šæ•°æ®ä¸¢å¤±ã€æ— æ•ˆæ•°æ®ã€å¼‚å¸¸(outlier)æ•°æ®&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;5-æµ‹é‡æŒ‡æ ‡çš„å¯é åº¦&#34;&gt;5. æµ‹é‡æŒ‡æ ‡çš„å¯é åº¦&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æ˜¯å¦æœåŠ¡æä¾›è€…å’Œå®¢æˆ·éƒ½è®¤å¯&lt;/li&gt;
&lt;li&gt;æ˜¯å¦å¯è¢«ç‹¬ç«‹éªŒè¯ï¼Œæ¯”å¦‚ä¸‰æ–¹æœºæ„&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯è¿˜æ˜¯æœåŠ¡å™¨ç«¯æµ‹é‡ï¼Œå–æ ·é—´éš”&lt;/li&gt;
&lt;li&gt;é”™è¯¯è¯·æ±‚æ˜¯å¦‚ä½•è®¡ç®—çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;slo&#34;&gt;SLO&lt;/h2&gt;
&lt;p&gt;**SLO(æœåŠ¡ç­‰çº§ç›®æ ‡)**æŒ‡å®šäº†æœåŠ¡æ‰€æä¾›åŠŸèƒ½çš„ä¸€ç§æœŸæœ›çŠ¶æ€ã€‚SLOé‡Œé¢åº”è¯¥åŒ…å«ä»€ä¹ˆå‘¢ï¼Ÿæ‰€æœ‰èƒ½å¤Ÿæè¿°æœåŠ¡åº”è¯¥æä¾›ä»€ä¹ˆæ ·åŠŸèƒ½çš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;æœåŠ¡æä¾›è€…ç”¨å®ƒæ¥æŒ‡å®šç³»ç»Ÿçš„é¢„æœŸçŠ¶æ€ï¼›å¼€å‘äººå‘˜ç¼–å†™ä»£ç æ¥å®ç°ï¼›å®¢æˆ·ä¾èµ–äºSLOè¿›è¡Œå•†ä¸šåˆ¤æ–­ã€‚SLOé‡Œæ²¡æœ‰æåˆ°ï¼Œå¦‚æœç›®æ ‡è¾¾ä¸åˆ°ä¼šæ€ä¹ˆæ ·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;SLOæ˜¯ç”¨SLIæ¥æè¿°çš„ï¼Œä¸€èˆ¬æè¿°ä¸ºï¼š&lt;/strong&gt;
æ¯”å¦‚ä»¥ä¸‹SLOï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯åˆ†é’Ÿå¹³å‡qps &amp;gt; 100k/s&lt;/li&gt;
&lt;li&gt;99% è®¿é—®å»¶è¿Ÿ &amp;lt; 500ms&lt;/li&gt;
&lt;li&gt;99% æ¯åˆ†é’Ÿå¸¦å®½ &amp;gt; 200MB/s&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;è®¾ç½®SLOæ—¶çš„å‡ ä¸ªæœ€ä½³å®è·µï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŒ‡å®šè®¡ç®—çš„æ—¶é—´çª—å£&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ä¸€è‡´çš„æ—¶é—´çª—å£(XXå°æ—¶æ»šåŠ¨çª—å£ã€å­£åº¦æ»šåŠ¨çª—å£)&lt;/li&gt;
&lt;li&gt;è¦æœ‰ä¸€ä¸ªå…è´£æ¡æ¬¾ï¼Œæ¯”å¦‚ï¼š95%çš„æ—¶é—´è¦èƒ½å¤Ÿè¾¾åˆ°SLO&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœServiceæ˜¯ç¬¬ä¸€æ¬¡è®¾ç½®SLOï¼Œå¯ä»¥éµå¾ªä»¥ä¸‹åŸåˆ™&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æµ‹é‡ç³»ç»Ÿå½“å‰çŠ¶æ€&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;è®¾ç½®é¢„æœŸ(expectations)ï¼Œè€Œä¸æ˜¯ä¿è¯(guarantees)
&lt;ul&gt;
&lt;li&gt;åˆæœŸçš„SLOä¸é€‚åˆä½œä¸ºæœåŠ¡è´¨é‡çš„å¼ºåŒ–å·¥å…·&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ”¹è¿›SLO&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;è®¾ç½®æ›´ä½çš„å“åº”æ—¶é—´ã€æ›´æ”¹çš„ååé‡ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¿æŒä¸€å®šçš„å®‰å…¨ç¼“å†²&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;å†…éƒ¨ç”¨çš„SLOè¦é«˜äºå¯¹å¤–å®£ç§°çš„SLO&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸è¦è¶…é¢å®Œæˆ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;å®šæœŸçš„downtimeæ¥ä½¿SLOä¸è¶…é¢å®Œæˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è®¾ç½®SLOæ—¶çš„ç›®æ ‡ä¾èµ–äºç³»ç»Ÿçš„ä¸åŒçŠ¶æ€(conditions)ï¼Œæ ¹æ®ä¸åŒçŠ¶æ€è®¾ç½®ä¸åŒçš„SLOï¼š&lt;strong&gt;æ€»SLO = service1.SLO1 *weight1 service2.SLO2* weight2 â€¦&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¦æœ‰SLOï¼Œè®¾ç½®SLOçš„å¥½å¤„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¯¹äºå®¢æˆ·è€Œè¨€ï¼Œæ˜¯å¯é¢„æœŸçš„æœåŠ¡è´¨é‡ï¼Œå¯ä»¥ç®€åŒ–å®¢æˆ·ç«¯çš„ç³»ç»Ÿè®¾è®¡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹äºæœåŠ¡æä¾›è€…è€Œè¨€&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;å¯é¢„æœŸçš„æœåŠ¡è´¨é‡
&lt;ul&gt;
&lt;li&gt;æ›´å¥½çš„å–èˆæˆæœ¬/æ”¶ç›Š&lt;/li&gt;
&lt;li&gt;æ›´å¥½çš„é£é™©æ§åˆ¶(å½“èµ„æºå—é™çš„æ—¶å€™)&lt;/li&gt;
&lt;li&gt;æ•…éšœæ—¶æ›´å¿«çš„ååº”ï¼Œé‡‡å–æ­£ç¡®æªæ–½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;SLOè®¾å¥½äº†ï¼Œæ€ä¹ˆä¿è¯èƒ½å¤Ÿè¾¾åˆ°ç›®æ ‡å‘¢ï¼Ÿ
éœ€è¦ä¸€ä¸ªæ§åˆ¶ç³»ç»Ÿæ¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç›‘æ§/æµ‹é‡SLIs&lt;/li&gt;
&lt;li&gt;å¯¹æ¯”æ£€æµ‹åˆ°çš„SLIså€¼æ˜¯å¦è¾¾åˆ°ç›®æ ‡&lt;/li&gt;
&lt;li&gt;å¦‚æœéœ€è¦ï¼Œä¿®è¯ç›®æ ‡æˆ–è€…ä¿®æ­£ç³»ç»Ÿä»¥æ»¡è¶³ç›®æ ‡éœ€è¦&lt;/li&gt;
&lt;li&gt;å®æ–½ç›®æ ‡çš„ä¿®æ”¹æˆ–è€…ç³»ç»Ÿçš„ä¿®æ”¹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¯¥æ§åˆ¶ç³»ç»Ÿéœ€è¦é‡å¤çš„æ‰§è¡Œä»¥ä¸ŠåŠ¨ä½œï¼Œä»¥å½¢æˆä¸€ä¸ªæ ‡å‡†çš„åé¦ˆç¯è·¯ï¼Œä¸æ–­çš„è¡¡é‡å’Œæ”¹è¿›SLO/æœåŠ¡æœ¬èº«ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è®¨è®ºäº†ç›®æ ‡ä»¥åŠç›®æ ‡æ˜¯æ€ä¹ˆæµ‹é‡çš„ï¼Œè¿˜è®¨è®ºäº†æ§åˆ¶æœºåˆ¶æ¥è¾¾åˆ°è®¾ç½®çš„ç›®æ ‡ï¼Œä½†æ˜¯å¦‚æœå› ä¸ºæŸäº›åŸå› ï¼Œè®¾ç½®çš„ç›®æ ‡è¾¾ä¸åˆ°è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¹Ÿè®¸æ˜¯å› ä¸ºå¤§é‡çš„æ–°å¢è´Ÿè½½ï¼›ä¹Ÿè®¸æ˜¯å› ä¸ºåº•å±‚ä¾èµ–ä¸èƒ½è¾¾åˆ°æ ‡ç§°çš„SLOè€Œå½±å“ä¸Šæ¬¡æœåŠ¡çš„SLOã€‚è¿™å°±éœ€è¦SLAå‡ºåœºäº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;sla&#34;&gt;SLA&lt;/h2&gt;
&lt;p&gt;SLAæ˜¯ä¸€ä¸ªæ¶‰åŠ2æ–¹çš„åˆçº¦ï¼ŒåŒæ–¹å¿…é¡»éƒ½è¦åŒæ„å¹¶éµå®ˆè¿™ä¸ªåˆçº¦ã€‚å½“éœ€è¦å¯¹å¤–æä¾›æœåŠ¡æ—¶ï¼ŒSLAæ˜¯éå¸¸é‡è¦çš„ä¸€ä¸ªæœåŠ¡è´¨é‡ä¿¡å·ï¼Œéœ€è¦äº§å“å’Œæ³•åŠ¡éƒ¨é—¨çš„åŒæ—¶ä»‹å…¥ã€‚&lt;/p&gt;
&lt;p&gt;SLAç”¨ä¸€ä¸ªç®€å•çš„å…¬å¼æ¥æè¿°å°±æ˜¯ï¼š &lt;strong&gt;SLA = SLO åæœ&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;SLOä¸èƒ½æ»¡è¶³çš„ä¸€ç³»åˆ—åŠ¨ä½œï¼Œå¯ä»¥æ˜¯éƒ¨åˆ†ä¸èƒ½è¾¾åˆ°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;æ¯”å¦‚ï¼šè¾¾åˆ°å“åº”æ—¶é—´SLO æœªè¾¾åˆ°å¯ç”¨æ€§SLO&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹åŠ¨ä½œçš„å…·ä½“å®æ–½&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;éœ€è¦ä¸€ä¸ªé€šç”¨çš„è´§å¸æ¥å¥–åŠ±/æƒ©ç½šï¼Œæ¯”å¦‚ï¼šé’±&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;SLAæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥å¸®åŠ©åˆç†é…ç½®èµ„æºã€‚ä¸€ä¸ªæœ‰æ˜ç¡®SLAçš„æœåŠ¡æœ€ç†æƒ³çš„è¿è¡ŒçŠ¶æ€æ˜¯ï¼š&lt;strong&gt;å¢åŠ é¢å¤–èµ„æºæ¥æ”¹è¿›ç³»ç»Ÿæ‰€å¸¦æ¥çš„æ”¶ç›Šå°äºæŠŠè¯¥èµ„æºæŠ•ç»™å…¶ä»–æœåŠ¡æ‰€å¸¦æ¥çš„æ”¶ç›Šã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªç®€å•çš„ä¾‹å­å°±æ˜¯æŸæœåŠ¡å¯ç”¨æ€§ä»99.9%æé«˜åˆ°99.99%æ‰€éœ€è¦çš„èµ„æºå’Œå¸¦æ¥çš„æ”¶ç›Šä¹‹æ¯”ï¼Œæ˜¯å†³å®šè¯¥æœåŠ¡æ˜¯å¦åº”è¯¥æä¾›4ä¸ª9çš„é‡è¦ä¾æ®ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>å¦‚ä½•å†™å¥½ä¸šåŠ¡ä»£ç </title>
        <link>https://lxb.wiki/4c5cb7f3/</link>
        <pubDate>Wed, 08 Dec 2021 21:51:01 +0000</pubDate>
        
        <guid>https://lxb.wiki/4c5cb7f3/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;åŸºäºé˜¿é‡Œçš„é›¶å”®é€šä¸šåŠ¡ï¼Œæ€»ç»“å‡ºçš„æ–¹æ³•è®ºã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸€ä¸ªå¤æ‚ä¸šåŠ¡çš„å¤„ç†è¿‡ç¨‹&#34;&gt;ä¸€ä¸ªå¤æ‚ä¸šåŠ¡çš„å¤„ç†è¿‡ç¨‹&lt;/h2&gt;
&lt;h3 id=&#34;ä¸šåŠ¡èƒŒæ™¯&#34;&gt;ä¸šåŠ¡èƒŒæ™¯&lt;/h3&gt;
&lt;p&gt;é›¶å”®é€šæ˜¯ç»™çº¿ä¸‹å°åº—ä¾›è´§çš„B2Bæ¨¡å¼ï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡æ•°å­—åŒ–é‡æ„ä¼ ç»Ÿä¾›åº”é“¾æ¸ é“ï¼Œæå‡ä¾›åº”é“¾æ•ˆç‡ï¼Œä¸ºæ–°é›¶å”®åŠ©åŠ›ã€‚é˜¿é‡Œåœ¨ä¸­é—´æ˜¯ä¸€ä¸ªå¹³å°è§’è‰²ï¼Œæä¾›çš„æ˜¯Bsbcä¸­çš„serviceçš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220328105411.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å•†å“åŸŸï¼Œè¿è¥ä¼šæ“ä½œä¸€ä¸ªâ€œä¸Šæ¶â€åŠ¨ä½œï¼Œä¸Šæ¶ä¹‹åï¼Œå•†å“å°±èƒ½åœ¨é›¶å”®é€šä¸Šé¢å¯¹å°åº—è¿›è¡Œé”€å”®äº†ã€‚&lt;strong&gt;æ˜¯é›¶å”®é€šä¸šåŠ¡éå¸¸å…³é”®çš„ä¸šåŠ¡æ“ä½œä¹‹ä¸€ï¼Œå› æ­¤æ¶‰åŠå¾ˆå¤šçš„æ•°æ®æ ¡éªŒå’Œå…³è”æ“ä½œ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é’ˆå¯¹ä¸Šæ¶ï¼Œä¸€ä¸ªç®€åŒ–çš„ä¸šåŠ¡æµç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220328105454.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;è¿‡ç¨‹åˆ†è§£&#34;&gt;è¿‡ç¨‹åˆ†è§£&lt;/h3&gt;
&lt;p&gt;åƒè¿™ä¹ˆå¤æ‚çš„ä¸šåŠ¡ï¼Œæˆ‘æƒ³åº”è¯¥æ²¡æœ‰äººä¼šå†™åœ¨ä¸€ä¸ªserviceæ–¹æ³•ä¸­å§ã€‚ä¸€ä¸ªç±»è§£å†³ä¸äº†ï¼Œé‚£å°±åˆ†æ²»å§ã€‚&lt;/p&gt;
&lt;p&gt;è¯´å®è¯ï¼Œèƒ½æƒ³åˆ°åˆ†è€Œæ²»ä¹‹çš„å·¥ç¨‹å¸ˆï¼Œå·²ç»åšçš„ä¸é”™äº†ï¼Œè‡³å°‘æ¯”æ²¡æœ‰åˆ†æ²»æ€ç»´è¦å¥½å¾ˆå¤šã€‚æˆ‘ä¹Ÿè§è¿‡å¤æ‚ç¨‹åº¦ç›¸å½“çš„ä¸šåŠ¡ï¼Œè¿åˆ†è§£éƒ½æ²¡æœ‰ï¼Œå°±æ˜¯ä¸€å †æ–¹æ³•å’Œç±»çš„å †ç Œã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œè¿™é‡Œå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šå³å¾ˆå¤šåŒå­¦è¿‡åº¦çš„ä¾èµ–å·¥å…·æˆ–æ˜¯è¾…åŠ©æ‰‹æ®µæ¥å®ç°åˆ†è§£ã€‚æ¯”å¦‚åœ¨æˆ‘ä»¬çš„å•†å“åŸŸä¸­ï¼Œç±»ä¼¼çš„åˆ†è§£æ‰‹æ®µè‡³å°‘æœ‰3å¥—ä»¥ä¸Šï¼Œæœ‰è‡ªåˆ¶çš„&lt;a class=&#34;link&#34; href=&#34;%e6%b5%81%e7%a8%8b%e5%bc%95%e6%93%8e&#34; &gt;æµç¨‹å¼•æ“&lt;/a&gt;ï¼Œæœ‰ä¾èµ–äºæ•°æ®åº“é…ç½®çš„æµç¨‹å¤„ç†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220328105631.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æœ¬è´¨ä¸Šæ¥è®²ï¼Œè¿™äº›è¾…åŠ©æ‰‹æ®µåšçš„éƒ½æ˜¯ä¸€ä¸ªpipelineçš„å¤„ç†æµç¨‹ï¼Œæ²¡æœ‰å…¶å®ƒã€‚å› æ­¤ï¼Œæˆ‘å»ºè®®æ­¤å¤„æœ€å¥½ä¿æŒKISSï¼ˆKeep It Simple and Stupidï¼‰ï¼Œå³&lt;strong&gt;æœ€å¥½æ˜¯ä»€ä¹ˆå·¥å…·éƒ½ä¸è¦ç”¨ï¼Œæ¬¡ä¹‹æ˜¯ç”¨ä¸€ä¸ªæç®€çš„Pipelineæ¨¡å¼ï¼Œæœ€å·®æ˜¯ä½¿ç”¨åƒæµç¨‹å¼•æ“è¿™æ ·çš„é‡æ–¹æ³•&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é™¤éä½ çš„åº”ç”¨æœ‰æå¼ºçš„æµç¨‹å¯è§†åŒ–å’Œç¼–æ’çš„è¯‰æ±‚ï¼Œå¦åˆ™æˆ‘éå¸¸ä¸æ¨èä½¿ç”¨æµç¨‹å¼•æ“ç­‰å·¥å…·ã€‚ç¬¬ä¸€ï¼Œå®ƒä¼šå¼•å…¥é¢å¤–çš„å¤æ‚åº¦ï¼Œç‰¹åˆ«æ˜¯é‚£äº›éœ€è¦æŒä¹…åŒ–çŠ¶æ€çš„æµç¨‹å¼•æ“ï¼›ç¬¬äºŒï¼Œå®ƒä¼šå‰²è£‚ä»£ç ï¼Œå¯¼è‡´é˜…è¯»ä»£ç çš„ä¸é¡ºç•…ã€‚&lt;strong&gt;å¤§èƒ†æ–­è¨€ä¸€ä¸‹ï¼Œå…¨å¤©ä¸‹ä¼°è®¡80%å¯¹æµç¨‹å¼•æ“çš„ä½¿ç”¨éƒ½æ˜¯å¾—ä¸å¿å¤±çš„&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å›åˆ°å•†å“ä¸Šæ¶çš„é—®é¢˜ï¼Œè¿™é‡Œé—®é¢˜æ ¸å¿ƒæ˜¯å·¥å…·å—ï¼Ÿæ˜¯è®¾è®¡æ¨¡å¼å¸¦æ¥çš„ä»£ç çµæ´»æ€§å—ï¼Ÿæ˜¾ç„¶ä¸æ˜¯ï¼Œ&lt;strong&gt;é—®é¢˜çš„æ ¸å¿ƒåº”è¯¥æ˜¯å¦‚ä½•åˆ†è§£é—®é¢˜å’ŒæŠ½è±¡é—®é¢˜&lt;/strong&gt;ï¼ŒçŸ¥é“é‡‘&lt;a class=&#34;link&#34; href=&#34;%e9%87%91%e5%ad%97%e5%a1%94%e5%8e%9f%e7%90%86&#34; &gt;å­—å¡”åŸç†&lt;/a&gt;çš„åº”è¯¥çŸ¥é“ï¼Œæ­¤å¤„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç»“æ„åŒ–åˆ†è§£å°†é—®é¢˜è§£æ„æˆä¸€ä¸ªæœ‰å±‚çº§çš„é‡‘å­—å¡”ç»“æ„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220328105756.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æŒ‰ç…§è¿™ç§åˆ†è§£å†™çš„ä»£ç ï¼Œå°±åƒä¸€æœ¬ä¹¦ï¼Œç›®å½•å’Œå†…å®¹æ¸…æ™°æ˜äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥å•†å“ä¸Šæ¶ä¸ºä¾‹ï¼Œç¨‹åºçš„å…¥å£æ˜¯ä¸€ä¸ªä¸Šæ¶å‘½ä»¤ï¼ˆOnSaleCommandï¼‰, å®ƒç”±ä¸‰ä¸ªé˜¶æ®µï¼ˆPhaseï¼‰ç»„æˆã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;@Command&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;OnSaleNormalItemCmdExe&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;@Resource&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; OnSaleContextInitPhase onSaleContextInitPhase&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;@Resource&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; OnSaleDataCheckPhase onSaleDataCheckPhase&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;@Resource&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; OnSaleProcessPhase onSaleProcessPhase&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;@Override&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; Response &lt;span style=&#34;color:#a6e22e&#34;&gt;execute&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;OnSaleNormalItemCmd cmd&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        OnSaleContext onSaleContext &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; init&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;cmd&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        checkData&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;onSaleContext&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        process&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;onSaleContext&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Response&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;buildSuccess&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; OnSaleContext &lt;span style=&#34;color:#a6e22e&#34;&gt;init&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;OnSaleNormalItemCmd cmd&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; onSaleContextInitPhase&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;init&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;cmd&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;checkData&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;OnSaleContext onSaleContext&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        onSaleDataCheckPhase&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;check&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;onSaleContext&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;process&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;OnSaleContext onSaleContext&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        onSaleProcessPhase&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;process&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;onSaleContext&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¯ä¸ªPhaseåˆå¯ä»¥æ‹†è§£æˆå¤šä¸ªæ­¥éª¤ï¼ˆStepï¼‰ï¼Œä»¥&lt;code&gt;OnSaleProcessPhase&lt;/code&gt;ä¸ºä¾‹ï¼Œå®ƒæ˜¯ç”±ä¸€ç³»åˆ—Stepç»„æˆçš„&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;@Phase&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;OnSaleProcessPhase&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;@Resource&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; PublishOfferStep publishOfferStep&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;@Resource&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; BackOfferBindStep backOfferBindStep&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//çœç•¥å…¶å®ƒstep
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;process&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;OnSaleContext onSaleContext&lt;span style=&#34;color:#f92672&#34;&gt;){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        SupplierItem supplierItem &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; onSaleContext&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getSupplierItem&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// ç”ŸæˆOfferGroupNo
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        generateOfferGroupNo&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;supplierItem&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       &lt;span style=&#34;color:#75715e&#34;&gt;// å‘å¸ƒå•†å“
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        publishOffer&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;supplierItem&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å‰åç«¯åº“å­˜ç»‘å®š backofferåŸŸ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        bindBackOfferStock&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;supplierItem&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// åŒæ­¥åº“å­˜è·¯ç”± backofferåŸŸ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        syncStockRoute&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;supplierItem&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// è®¾ç½®è™šæ‹Ÿå•†å“æ‹“å±•å­—æ®µ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        setVirtualProductExtension&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;supplierItem&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å‘è´§ä¿éšœæ‰“æ ‡ offeråŸŸ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        markSendProtection&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;supplierItem&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// è®°å½•å˜æ›´å†…å®¹ChangeDetail
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        recordChangeDetail&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;supplierItem&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// åŒæ­¥ä¾›è´§ä»·åˆ°BackOffer
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        syncSupplyPriceToBackOffer&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;supplierItem&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å¦‚æœæ˜¯ç»„åˆå•†å“æ‰“æ ‡ï¼Œå†™æ‰©å±•ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        setCombineProductExtension&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;supplierItem&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å»å”®ç½„æ ‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        removeSellOutTag&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;offerId&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å‘é€é¢†åŸŸäº‹ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        fireDomainEvent&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;supplierItem&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// å…³é—­å…³è”çš„å¾…åŠäº‹é¡¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        closeIssues&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;supplierItem&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;çœ‹åˆ°äº†å—ï¼Œè¿™å°±æ˜¯å•†å“ä¸Šæ¶è¿™ä¸ªå¤æ‚ä¸šåŠ¡çš„ä¸šåŠ¡æµç¨‹ã€‚éœ€è¦æµç¨‹å¼•æ“å—ï¼Ÿä¸éœ€è¦ï¼Œéœ€è¦è®¾è®¡æ¨¡å¼æ”¯æ’‘å—ï¼Ÿä¹Ÿä¸éœ€è¦ã€‚å¯¹äºè¿™ç§ä¸šåŠ¡æµç¨‹çš„è¡¨è¾¾ï¼Œç®€å•æœ´ç´ çš„ç»„åˆæ–¹æ³•æ¨¡å¼ï¼ˆComposed Methodï¼‰æ˜¯å†åˆé€‚ä¸è¿‡çš„äº†ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œåœ¨åšè¿‡ç¨‹åˆ†è§£çš„æ—¶å€™ï¼Œæˆ‘å»ºè®®å·¥ç¨‹å¸ˆä¸è¦æŠŠå¤ªå¤šç²¾åŠ›æ”¾åœ¨å·¥å…·ä¸Šï¼Œæ”¾åœ¨è®¾è®¡æ¨¡å¼å¸¦æ¥çš„çµæ´»æ€§ä¸Šã€‚è€Œæ˜¯åº”è¯¥å¤šèŠ±æ—¶é—´åœ¨å¯¹é—®é¢˜åˆ†æï¼Œç»“æ„åŒ–åˆ†è§£ï¼Œæœ€åé€šè¿‡åˆç†çš„æŠ½è±¡ï¼Œå½¢æˆåˆé€‚çš„é˜¶æ®µï¼ˆPhaseï¼‰å’Œæ­¥éª¤ï¼ˆStepï¼‰ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220328110024.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;è¿‡ç¨‹åˆ†è§£åçš„ä¸¤ä¸ªé—®é¢˜&#34;&gt;è¿‡ç¨‹åˆ†è§£åçš„ä¸¤ä¸ªé—®é¢˜&lt;/h3&gt;
&lt;h4 id=&#34;1é¢†åŸŸçŸ¥è¯†è¢«å‰²è£‚è‚¢è§£&#34;&gt;1ã€é¢†åŸŸçŸ¥è¯†è¢«å‰²è£‚è‚¢è§£&lt;/h4&gt;
&lt;p&gt;ä»€ä¹ˆå«è¢«è‚¢è§£ï¼Ÿå› ä¸ºæˆ‘ä»¬åˆ°ç›®å‰ä¸ºæ­¢åšçš„éƒ½æ˜¯è¿‡ç¨‹åŒ–æ‹†è§£ï¼Œå¯¼è‡´æ²¡æœ‰ä¸€ä¸ªèšåˆé¢†åŸŸçŸ¥è¯†çš„åœ°æ–¹ã€‚æ¯ä¸ªUse Caseçš„ä»£ç åªå…³å¿ƒè‡ªå·±çš„å¤„ç†æµç¨‹ï¼ŒçŸ¥è¯†æ²¡æœ‰æ²‰æ·€ã€‚&lt;/p&gt;
&lt;p&gt;ç›¸åŒçš„ä¸šåŠ¡é€»è¾‘ä¼šåœ¨å¤šä¸ªUse Caseä¸­è¢«é‡å¤å®ç°ï¼Œå¯¼è‡´ä»£ç é‡å¤åº¦é«˜ï¼Œå³ä½¿æœ‰å¤ç”¨ï¼Œæœ€å¤šä¹Ÿå°±æ˜¯æŠ½å–ä¸€ä¸ªutilï¼Œä»£ç å¯¹ä¸šåŠ¡è¯­ä¹‰çš„è¡¨è¾¾èƒ½åŠ›å¾ˆå¼±ï¼Œä»è€Œå½±å“ä»£ç çš„å¯è¯»æ€§å’Œå¯ç†è§£æ€§ã€‚&lt;/p&gt;
&lt;h4 id=&#34;2ä»£ç çš„ä¸šåŠ¡è¡¨è¾¾èƒ½åŠ›ç¼ºå¤±&#34;&gt;2ã€ä»£ç çš„ä¸šåŠ¡è¡¨è¾¾èƒ½åŠ›ç¼ºå¤±&lt;/h4&gt;
&lt;p&gt;è¯•æƒ³ä¸‹ï¼Œåœ¨è¿‡ç¨‹å¼çš„ä»£ç ä¸­ï¼Œæ‰€åšçš„äº‹æƒ…æ— å¤–ä¹å°±æ˜¯å–æ•°æ®&amp;ndash;åšè®¡ç®—&amp;ndash;å­˜æ•°æ®ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¦å¦‚ä½•é€šè¿‡ä»£ç æ˜¾æ€§åŒ–çš„è¡¨è¾¾æˆ‘ä»¬çš„ä¸šåŠ¡å‘¢ï¼Ÿ è¯´å®è¯ï¼Œå¾ˆéš¾åšåˆ°ï¼Œå› ä¸ºæˆ‘ä»¬ç¼ºå¤±äº†æ¨¡å‹ï¼Œä»¥åŠæ¨¡å‹ä¹‹é—´çš„å…³ç³»ã€‚è„±ç¦»æ¨¡å‹çš„ä¸šåŠ¡è¡¨è¾¾ï¼Œæ˜¯ç¼ºå°‘éŸµå¾‹å’Œçµé­‚çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨ä¸Šæ¶è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€ä¸ªæ ¡éªŒæ˜¯æ£€æŸ¥åº“å­˜çš„ï¼Œå…¶ä¸­å¯¹äºç»„åˆå“ï¼ˆCombineBackOfferï¼‰å…¶åº“å­˜çš„å¤„ç†ä¼šå’Œæ™®é€šå“ä¸ä¸€æ ·ã€‚åŸæ¥çš„ä»£ç æ˜¯è¿™ä¹ˆå†™çš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;boolean&lt;/span&gt; isCombineProduct &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; supplierItem&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getSign&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;().&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;isCombProductQuote&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// supplier.usc warehouse needn&amp;#39;t check
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;WarehouseTypeEnum&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;isAliWarehouse&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;supplierItem&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getWarehouseType&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()))&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// quote warehosue check
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;CollectionUtil&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;isEmpty&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;supplierItem&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getWarehouseIdList&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;())&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;isCombineProduct&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;throw&lt;/span&gt; ExceptionFactory&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;makeFault&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;ServiceExceptionCode&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;SYSTEM_ERROR&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;äº²ï¼Œä¸èƒ½å‘å¸ƒOfferï¼Œè¯·è”ç³»ä»“é…è¿è¥äººå‘˜ï¼Œå»ºç«‹å“ä»“å…³ç³»ï¼&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// inventory amount check
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;Long sellableAmount &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;L&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(!&lt;/span&gt;isCombineProduct&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    sellableAmount &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; normalBiz&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;acquireSellableAmount&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;supplierItem&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getBackOfferId&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(),&lt;/span&gt; supplierItem&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getWarehouseIdList&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;());&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//ç»„å¥—å•†å“
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    OfferModel backOffer &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; backOfferQueryService&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getBackOffer&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;supplierItem&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getBackOfferId&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;());&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;backOffer &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        sellableAmount &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; backOffer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getOffer&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;().&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getTradeModel&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;().&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getTradeCondition&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;().&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getAmountOnSale&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;sellableAmount &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;throw&lt;/span&gt; ExceptionFactory&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;makeFault&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;ServiceExceptionCode&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;SYSTEM_ERROR&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;äº²ï¼Œå®ä»“åº“å­˜å¿…é¡»å¤§äº0æ‰èƒ½å‘å¸ƒï¼Œè¯·ç¡®è®¤å·²è¡¥è´§.\r[id:&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; supplierItem&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getId&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;]&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬åœ¨ç³»ç»Ÿä¸­å¼•å…¥é¢†åŸŸæ¨¡å‹ä¹‹åï¼Œå…¶ä»£ç ä¼šç®€åŒ–ä¸ºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;backOffer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;isCloudWarehouse&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;backOffer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;isNonInWarehouse&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;throw&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; BizException&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;äº²ï¼Œä¸èƒ½å‘å¸ƒOfferï¼Œè¯·è”ç³»ä»“é…è¿è¥äººå‘˜ï¼Œå»ºç«‹å“ä»“å…³ç³»ï¼&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;backOffer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getStockAmount&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;throw&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; BizException&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;äº²ï¼Œå®ä»“åº“å­˜å¿…é¡»å¤§äº0æ‰èƒ½å‘å¸ƒï¼Œè¯·ç¡®è®¤å·²è¡¥è´§.\r[id:&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; backOffer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getSupplierItem&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;().&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getCspuCode&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;]&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ‰æ²¡æœ‰å‘ç°ï¼Œä½¿ç”¨æ¨¡å‹çš„è¡¨è¾¾è¦æ¸…æ™°æ˜“æ‡‚å¾ˆå¤šï¼Œè€Œä¸”ä¹Ÿä¸éœ€è¦åšå…³äºç»„åˆå“çš„åˆ¤æ–­äº†ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ç³»ç»Ÿä¸­å¼•å…¥äº†æ›´åŠ è´´è¿‘ç°å®çš„å¯¹è±¡æ¨¡å‹ï¼ˆCombineBackOfferç»§æ‰¿BackOfferï¼‰ï¼Œé€šè¿‡å¯¹è±¡çš„å¤šæ€å¯ä»¥æ¶ˆé™¤æˆ‘ä»¬ä»£ç ä¸­çš„å¤§éƒ¨åˆ†çš„ if-elseã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220328110230.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;è¿‡ç¨‹åˆ†è§£å¯¹è±¡æ¨¡å‹&#34;&gt;è¿‡ç¨‹åˆ†è§£+å¯¹è±¡æ¨¡å‹&lt;/h3&gt;
&lt;p&gt;é€šè¿‡ä¸Šé¢çš„æ¡ˆä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°&lt;strong&gt;æœ‰è¿‡ç¨‹åˆ†è§£è¦å¥½äºæ²¡æœ‰åˆ†è§£&lt;/strong&gt;ï¼Œ&lt;strong&gt;è¿‡ç¨‹åˆ†è§£+å¯¹è±¡æ¨¡å‹è¦å¥½äºä»…ä»…æ˜¯è¿‡ç¨‹åˆ†è§£&lt;/strong&gt;ã€‚å¯¹äºå•†å“ä¸Šæ¶è¿™ä¸ªcaseï¼Œå¦‚æœé‡‡ç”¨è¿‡ç¨‹åˆ†è§£+å¯¹è±¡æ¨¡å‹çš„æ–¹å¼ï¼Œæœ€ç»ˆæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªå¦‚ä¸‹çš„ç³»ç»Ÿç»“æ„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220328110335.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;å†™å¤æ‚ä¸šåŠ¡çš„æ–¹æ³•è®º&#34;&gt;å†™å¤æ‚ä¸šåŠ¡çš„æ–¹æ³•è®º&lt;/h2&gt;
&lt;p&gt;é€šè¿‡ä¸Šé¢æ¡ˆä¾‹çš„è®²è§£ï¼Œæˆ‘æƒ³è¯´ï¼Œæˆ‘å·²ç»äº¤ä»£äº†å¤æ‚ä¸šåŠ¡ä»£ç è¦æ€ä¹ˆå†™ï¼š&lt;strong&gt;å³è‡ªä¸Šè€Œä¸‹çš„ç»“æ„åŒ–åˆ†è§£+è‡ªä¸‹è€Œä¸Šçš„&lt;a class=&#34;link&#34; href=&#34;%e9%9d%a2%e5%90%91%e5%af%b9%e8%b1%a1%e5%88%86%e6%9e%90&#34; &gt;é¢å‘å¯¹è±¡åˆ†æ&lt;/a&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æŠŠä¸Šé¢çš„æ¡ˆä¾‹è¿›è¡Œè¿›ä¸€æ­¥çš„æç‚¼ï¼Œå½¢æˆä¸€ä¸ªå¯è½åœ°çš„æ–¹æ³•è®ºï¼Œä»è€Œå¯ä»¥æ³›åŒ–åˆ°æ›´å¤šçš„å¤æ‚ä¸šåŠ¡åœºæ™¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸Šä¸‹ç»“åˆ&#34;&gt;ä¸Šä¸‹ç»“åˆ&lt;/h3&gt;
&lt;p&gt;æ‰€è°“ä¸Šä¸‹ç»“åˆï¼Œæ˜¯æŒ‡æˆ‘ä»¬è¦&lt;strong&gt;ç»“åˆè‡ªä¸Šè€Œä¸‹çš„è¿‡ç¨‹åˆ†è§£å’Œè‡ªä¸‹è€Œä¸Šçš„å¯¹è±¡å»ºæ¨¡&lt;/strong&gt;ï¼Œèºæ—‹å¼çš„æ„å»ºæˆ‘ä»¬çš„åº”ç”¨ç³»ç»Ÿã€‚è¿™æ˜¯ä¸€ä¸ªåŠ¨æ€çš„è¿‡ç¨‹ï¼Œä¸¤ä¸ªæ­¥éª¤å¯ä»¥äº¤æ›¿è¿›è¡Œã€ä¹Ÿå¯ä»¥åŒæ—¶è¿›è¡Œã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªæ­¥éª¤æ˜¯ç›¸è¾…ç›¸æˆçš„ï¼Œ&lt;strong&gt;ä¸Šé¢çš„åˆ†æå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„ç†æ¸…æ¨¡å‹ä¹‹é—´çš„å…³ç³»ï¼Œè€Œä¸‹é¢çš„æ¨¡å‹è¡¨è¾¾å¯ä»¥æå‡æˆ‘ä»¬ä»£ç çš„å¤ç”¨åº¦å’Œä¸šåŠ¡è¯­ä¹‰è¡¨è¾¾èƒ½åŠ›&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å…¶è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220328110449.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨è¿™ç§ä¸Šä¸‹ç»“åˆçš„æ–¹å¼ï¼Œæˆ‘ä»¬å°±æœ‰å¯èƒ½åœ¨é¢å¯¹ä»»ä½•å¤æ‚çš„ä¸šåŠ¡åœºæ™¯ï¼Œéƒ½èƒ½å†™å‡ºå¹²å‡€æ•´æ´ã€æ˜“ç»´æŠ¤çš„ä»£ç ã€‚&lt;/p&gt;
&lt;h3 id=&#34;èƒ½åŠ›ä¸‹æ²‰&#34;&gt;èƒ½åŠ›ä¸‹æ²‰&lt;/h3&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´å®è·µDDDæœ‰ä¸¤ä¸ªè¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;h4 id=&#34;å¥—æ¦‚å¿µé˜¶æ®µ&#34;&gt;å¥—æ¦‚å¿µé˜¶æ®µ&lt;/h4&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;äº†è§£äº†ä¸€äº›DDDçš„æ¦‚å¿µï¼Œç„¶ååœ¨ä»£ç ä¸­â€œä½¿ç”¨â€Aggregation Rootï¼ŒBonded Contextï¼ŒRepositoryç­‰ç­‰è¿™äº›æ¦‚å¿µã€‚æ›´è¿›ä¸€æ­¥ï¼Œä¹Ÿä¼šä½¿ç”¨ä¸€å®šçš„åˆ†å±‚ç­–ç•¥ã€‚ç„¶è€Œè¿™ç§åšæ³•ä¸€èˆ¬å¯¹&lt;a class=&#34;link&#34; href=&#34;https://www.zhihu.com/search?q=%e5%a4%8d%e6%9d%82%e5%ba%a6&amp;amp;search_source=Entity&amp;amp;hybrid_search_source=Entity&amp;amp;hybrid_search_extra=%7b%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A874296743%7d&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å¤æ‚åº¦&lt;/a&gt;çš„æ²»ç†å¹¶æ²¡æœ‰å¤šå¤§ä½œç”¨ã€‚&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;
&lt;h4 id=&#34;èä¼šè´¯é€šé˜¶æ®µ&#34;&gt;èä¼šè´¯é€šé˜¶æ®µ&lt;/h4&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æœ¯è¯­å·²ç»ä¸å†é‡è¦ï¼Œç†è§£DDDçš„æœ¬è´¨æ˜¯ç»Ÿä¸€è¯­è¨€ã€è¾¹ç•Œåˆ’åˆ†å’Œé¢å‘å¯¹è±¡åˆ†æçš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;å¤§ä½“ä¸Šè€Œè¨€ï¼Œæˆ‘å¤§æ¦‚æ˜¯åœ¨1.7çš„é˜¶æ®µï¼Œå› ä¸ºæœ‰ä¸€ä¸ªé—®é¢˜ä¸€ç›´åœ¨å›°æ‰°æˆ‘ï¼Œå°±æ˜¯å“ªäº›èƒ½åŠ›åº”è¯¥æ”¾åœ¨Domainå±‚ï¼Œæ˜¯ä¸æ˜¯æŒ‰ç…§ä¼ ç»Ÿçš„åšæ³•ï¼Œå°†æ‰€æœ‰çš„ä¸šåŠ¡éƒ½æ”¶æ‹¢åˆ°Domainä¸Šï¼Œè¿™æ ·åšåˆç†å—ï¼Ÿè¯´å®è¯ï¼Œè¿™ä¸ªé—®é¢˜æˆ‘ä¸€ç›´æ²¡æœ‰æƒ³æ¸…æ¥šã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºåœ¨ç°å®ä¸šåŠ¡ä¸­ï¼Œå¾ˆå¤šçš„åŠŸèƒ½éƒ½æ˜¯ç”¨ä¾‹ç‰¹æœ‰çš„ï¼ˆUse case specificï¼‰çš„ï¼Œå¦‚æœâ€œç›²ç›®â€çš„ä½¿ç”¨Domainæ”¶æ‹¢ä¸šåŠ¡å¹¶ä¸è§å¾—èƒ½å¸¦æ¥å¤šå¤§çš„ç›Šå¤„ã€‚ç›¸åï¼Œè¿™ç§æ”¶æ‹¢ä¼šå¯¼è‡´Domainå±‚çš„è†¨èƒ€è¿‡åšï¼Œä¸å¤Ÿçº¯ç²¹ï¼Œåè€Œä¼šå½±å“å¤ç”¨æ€§å’Œè¡¨è¾¾èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;é‰´äºæ­¤ï¼Œæˆ‘æœ€è¿‘çš„æ€è€ƒæ˜¯æˆ‘ä»¬åº”è¯¥é‡‡ç”¨&lt;strong&gt;èƒ½åŠ›ä¸‹æ²‰&lt;/strong&gt;çš„ç­–ç•¥ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€è°“çš„èƒ½åŠ›ä¸‹æ²‰ï¼Œæ˜¯æŒ‡æˆ‘ä»¬ä¸å¼ºæ±‚ä¸€æ¬¡å°±èƒ½è®¾è®¡å‡ºDomainçš„èƒ½åŠ›ï¼Œä¹Ÿä¸éœ€è¦å¼ºåˆ¶è¦æ±‚æŠŠæ‰€æœ‰çš„ä¸šåŠ¡åŠŸèƒ½éƒ½æ”¾åˆ°Domainå±‚ï¼Œè€Œæ˜¯é‡‡ç”¨å®ç”¨ä¸»ä¹‰çš„æ€åº¦ï¼Œå³åªå¯¹é‚£äº›éœ€è¦åœ¨å¤šä¸ªåœºæ™¯ä¸­éœ€è¦è¢«å¤ç”¨çš„èƒ½åŠ›è¿›è¡ŒæŠ½è±¡ä¸‹æ²‰ï¼Œè€Œä¸éœ€è¦å¤ç”¨çš„ï¼Œå°±æš‚æ—¶æ”¾åœ¨Appå±‚çš„Use Caseé‡Œå°±å¥½äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨ï¼šUse Caseæ˜¯ã€Šæ¶æ„æ•´æ´ä¹‹é“ã€‹é‡Œé¢çš„æœ¯è¯­ï¼Œç®€å•ç†è§£å°±æ˜¯å“åº”ä¸€ä¸ªRequestçš„å¤„ç†è¿‡ç¨‹&lt;/p&gt;
&lt;p&gt;é€šè¿‡å®è·µï¼Œ&lt;strong&gt;æˆ‘å‘ç°è¿™ç§å¾ªåºæ¸è¿›çš„èƒ½åŠ›ä¸‹æ²‰ç­–ç•¥ï¼Œåº”è¯¥æ˜¯ä¸€ç§æ›´ç¬¦åˆå®é™…ã€æ›´æ•æ·çš„æ–¹æ³•ã€‚å› ä¸ºæˆ‘ä»¬æ‰¿è®¤æ¨¡å‹ä¸æ˜¯ä¸€æ¬¡æ€§è®¾è®¡å‡ºæ¥çš„ï¼Œè€Œæ˜¯è¿­ä»£æ¼”åŒ–å‡ºæ¥çš„ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹æ²‰çš„è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå‡è®¾ä¸¤ä¸ªuse caseä¸­ï¼Œæˆ‘ä»¬å‘ç°uc1çš„step3å’Œuc2çš„step1æœ‰ç±»ä¼¼çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘è®©å…¶ä¸‹æ²‰åˆ°Domainå±‚ï¼Œä»è€Œå¢åŠ ä»£ç çš„å¤ç”¨æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220328110552.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æŒ‡å¯¼ä¸‹æ²‰æœ‰ä¸¤ä¸ªå…³é”®æŒ‡æ ‡ï¼šä»£ç çš„å¤ç”¨æ€§å’Œå†…èšæ€§&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¤ç”¨æ€§æ˜¯å‘Šè¯‰æˆ‘ä»¬Whenï¼ˆä»€ä¹ˆæ—¶å€™è¯¥ä¸‹æ²‰äº†ï¼‰ï¼Œå³æœ‰é‡å¤ä»£ç çš„æ—¶å€™ã€‚å†…èšæ€§æ˜¯å‘Šè¯‰æˆ‘ä»¬Howï¼ˆè¦ä¸‹æ²‰åˆ°å“ªé‡Œï¼‰ï¼ŒåŠŸèƒ½æœ‰æ²¡æœ‰å†…èšåˆ°æ°å½“çš„å®ä½“ä¸Šï¼Œæœ‰æ²¡æœ‰æ”¾åˆ°åˆé€‚çš„å±‚æ¬¡ä¸Šï¼ˆå› ä¸ºDomainå±‚çš„èƒ½åŠ›ä¹Ÿæ˜¯æœ‰ä¸¤ä¸ªå±‚æ¬¡çš„ï¼Œä¸€ä¸ªæ˜¯Domain Serviceè¿™æ˜¯ç›¸å¯¹æ¯”è¾ƒç²—çš„ç²’åº¦ï¼Œå¦ä¸€ä¸ªæ˜¯Domainçš„Modelè¿™ä¸ªæ˜¯æœ€ç»†ç²’åº¦çš„å¤ç”¨ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œåœ¨æˆ‘ä»¬çš„å•†å“åŸŸï¼Œç»å¸¸éœ€è¦åˆ¤æ–­ä¸€ä¸ªå•†å“æ˜¯ä¸æ˜¯æœ€å°å•ä½ï¼Œæ˜¯ä¸æ˜¯ä¸­åŒ…å•†å“ã€‚åƒè¿™ç§èƒ½åŠ›å°±éå¸¸æœ‰å¿…è¦ç›´æ¥æŒ‚è½½åœ¨Modelä¸Šã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;CSPU&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; String code&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; String baseCode&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//çœç•¥å…¶å®ƒå±æ€§
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     * å•å“æ˜¯å¦ä¸ºæœ€å°å•ä½ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     *
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;boolean&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;isMinimumUnit&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; StringUtils&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;equals&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;code&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; baseCode&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     * é’ˆå¯¹ä¸­åŒ…çš„ç‰¹æ®Šå¤„ç†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     *
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;boolean&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;isMidPackage&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; StringUtils&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;equals&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;code&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; midPackageCode&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹‹å‰ï¼Œå› ä¸ºè€ç³»ç»Ÿä¸­æ²¡æœ‰é¢†åŸŸæ¨¡å‹ï¼Œæ²¡æœ‰CSPUè¿™ä¸ªå®ä½“ã€‚ä½ ä¼šå‘ç°åƒåˆ¤æ–­å•å“æ˜¯å¦ä¸ºæœ€å°å•ä½çš„é€»è¾‘æ˜¯ä»¥&lt;code&gt;StringUtils.equals(code, baseCode)&lt;/code&gt;çš„å½¢å¼æ•£è½åœ¨ä»£ç çš„å„ä¸ªè§’è½ã€‚è¿™ç§ä»£ç çš„å¯ç†è§£æ€§æ˜¯å¯æƒ³è€ŒçŸ¥çš„ï¼Œè‡³å°‘æˆ‘åœ¨ç¬¬ä¸€çœ¼çœ‹åˆ°è¿™ä¸ªä»£ç çš„æ—¶å€™ï¼Œæ˜¯å®Œå…¨ä¸çŸ¥é“ä»€ä¹ˆæ„æ€ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸šåŠ¡æŠ€æœ¯è¦æ€ä¹ˆåš&#34;&gt;ä¸šåŠ¡æŠ€æœ¯è¦æ€ä¹ˆåš&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;ä¸šåŠ¡æŠ€æœ¯åˆ°åº•æ˜¯åœ¨åšä¸šåŠ¡ï¼Œè¿˜æ˜¯åšæŠ€æœ¯ï¼Ÿä¸šåŠ¡æŠ€æœ¯çš„æŠ€æœ¯æ€§ä½“ç°åœ¨å“ªé‡Œï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡ä¸Šé¢çš„æ¡ˆä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸šåŠ¡æ‰€é¢ä¸´çš„å¤æ‚æ€§å¹¶ä¸äºšäºåº•å±‚æŠ€æœ¯ï¼Œè¦æƒ³å†™å¥½ä¸šåŠ¡ä»£ç ä¹Ÿä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹æƒ…ã€‚ä¸šåŠ¡æŠ€æœ¯å’Œåº•å±‚æŠ€æœ¯äººå‘˜å”¯ä¸€çš„åŒºåˆ«æ˜¯ä»–ä»¬æ‰€é¢ä¸´çš„é—®é¢˜åŸŸä¸ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;ä¸šåŠ¡æŠ€æœ¯é¢å¯¹çš„é—®é¢˜åŸŸå˜åŒ–æ›´å¤šã€é¢å¯¹çš„äººæ›´åŠ åºæ‚ã€‚è€Œåº•å±‚æŠ€æœ¯é¢å¯¹çš„é—®é¢˜åŸŸæ›´åŠ ç¨³å®šã€ä½†å¯¹æŠ€æœ¯çš„è¦æ±‚æ›´åŠ æ·±ã€‚æ¯”å¦‚ï¼Œå¦‚æœä½ éœ€è¦å»å¼€å‘Pandoraï¼Œä½ å°±è¦å¯¹Classloaderæœ‰æ›´åŠ æ·±å…¥çš„äº†è§£æ‰è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œä¸ç®¡æ˜¯ä¸šåŠ¡æŠ€æœ¯è¿˜æ˜¯åº•å±‚æŠ€æœ¯äººå‘˜ï¼Œæœ‰ä¸€äº›æ€ç»´å’Œèƒ½åŠ›éƒ½æ˜¯å…±é€šçš„ã€‚æ¯”å¦‚ï¼Œ&lt;strong&gt;åˆ†è§£é—®é¢˜çš„èƒ½åŠ›ï¼ŒæŠ½è±¡æ€ç»´ï¼Œç»“æ„åŒ–æ€ç»´&lt;/strong&gt;ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220328110806.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Go è¯­è¨€å†…å­˜åˆ†é…</title>
        <link>https://lxb.wiki/57be14fe/</link>
        <pubDate>Sat, 20 Nov 2021 22:39:07 +0000</pubDate>
        
        <guid>https://lxb.wiki/57be14fe/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;Goè¯­è¨€å†…ç½®è¿è¡Œæ—¶ï¼ˆå°±æ˜¯runtimeï¼‰ï¼ŒæŠ›å¼ƒäº†ä¼ ç»Ÿçš„å†…å­˜åˆ†é…æ–¹å¼ï¼Œæ”¹ä¸ºè‡ªä¸»ç®¡ç†ã€‚è¿™æ ·å¯ä»¥è‡ªä¸»åœ°å®ç°æ›´å¥½çš„å†…å­˜ä½¿ç”¨æ¨¡å¼ï¼Œæ¯”å¦‚å†…å­˜æ± ã€é¢„åˆ†é…ç­‰ç­‰ã€‚è¿™æ ·ï¼Œä¸ä¼šæ¯æ¬¡å†…å­˜åˆ†é…éƒ½éœ€è¦è¿›è¡Œç³»ç»Ÿè°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;Golangè¿è¡Œæ—¶çš„å†…å­˜åˆ†é…ç®—æ³•ä¸»è¦æºè‡ª Google ä¸º C è¯­è¨€å¼€å‘çš„ TCMallocç®—æ³•ï¼Œå…¨ç§° Thread-CachingMallocã€‚æ ¸å¿ƒæ€æƒ³å°±æ˜¯æŠŠå†…å­˜åˆ†ä¸ºå¤šçº§ç®¡ç†ï¼Œä»è€Œé™ä½é”çš„ç²’åº¦ã€‚å®ƒå°†å¯ç”¨çš„å †å†…å­˜é‡‡ç”¨äºŒçº§åˆ†é…çš„æ–¹å¼è¿›è¡Œç®¡ç†ï¼šæ¯ä¸ªçº¿ç¨‹éƒ½ä¼šè‡ªè¡Œç»´æŠ¤ä¸€ä¸ªç‹¬ç«‹çš„å†…å­˜æ± ï¼Œè¿›è¡Œå†…å­˜åˆ†é…æ—¶ä¼˜å…ˆä»è¯¥å†…å­˜æ± ä¸­åˆ†é…ï¼Œå½“å†…å­˜æ± ä¸è¶³æ—¶æ‰ä¼šå‘å…¨å±€å†…å­˜æ± ç”³è¯·ï¼Œä»¥é¿å…ä¸åŒçº¿ç¨‹å¯¹å…¨å±€å†…å­˜æ± çš„é¢‘ç¹ç«äº‰ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åŸºç¡€æ¦‚å¿µ&#34;&gt;åŸºç¡€æ¦‚å¿µ&lt;/h2&gt;
&lt;p&gt;Goåœ¨ç¨‹åºå¯åŠ¨çš„æ—¶å€™ï¼Œä¼šå…ˆå‘æ“ä½œç³»ç»Ÿç”³è¯·ä¸€å—å†…å­˜ï¼ˆæ³¨æ„è¿™æ—¶è¿˜åªæ˜¯ä¸€æ®µè™šæ‹Ÿçš„åœ°å€ç©ºé—´ï¼Œå¹¶ä¸ä¼šçœŸæ­£åœ°åˆ†é…å†…å­˜ï¼‰ï¼Œåˆ‡æˆå°å—åè‡ªå·±è¿›è¡Œç®¡ç†ã€‚&lt;/p&gt;
&lt;p&gt;ç”³è¯·åˆ°çš„å†…å­˜å—è¢«åˆ†é…äº†ä¸‰ä¸ªåŒºåŸŸï¼Œåœ¨X64ä¸Šåˆ†åˆ«æ˜¯512MBï¼Œ16GBï¼Œ512GBå¤§å°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312204105.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;arenaåŒºåŸŸ&lt;/code&gt;å°±æ˜¯æˆ‘ä»¬æ‰€è°“çš„å †åŒºï¼ŒGoåŠ¨æ€åˆ†é…çš„å†…å­˜éƒ½æ˜¯åœ¨è¿™ä¸ªåŒºåŸŸï¼Œå®ƒæŠŠå†…å­˜åˆ†å‰²æˆ&lt;code&gt;8KB&lt;/code&gt;å¤§å°çš„é¡µï¼Œä¸€äº›é¡µç»„åˆèµ·æ¥ç§°ä¸º&lt;code&gt;mspan&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;bitmapåŒºåŸŸ&lt;/code&gt;æ ‡è¯†&lt;code&gt;arena&lt;/code&gt;åŒºåŸŸå“ªäº›åœ°å€ä¿å­˜äº†å¯¹è±¡ï¼Œå¹¶ä¸”ç”¨&lt;code&gt;4bit&lt;/code&gt;æ ‡å¿—ä½è¡¨ç¤ºå¯¹è±¡æ˜¯å¦åŒ…å«æŒ‡é’ˆã€&lt;code&gt;GC&lt;/code&gt;æ ‡è®°ä¿¡æ¯ã€‚&lt;code&gt;bitmap&lt;/code&gt;ä¸­ä¸€ä¸ª&lt;code&gt;byte&lt;/code&gt;å¤§å°çš„å†…å­˜å¯¹åº”&lt;code&gt;arena&lt;/code&gt;åŒºåŸŸä¸­4ä¸ªæŒ‡é’ˆå¤§å°ï¼ˆæŒ‡é’ˆå¤§å°ä¸º 8B ï¼‰çš„å†…å­˜ï¼Œæ‰€ä»¥&lt;code&gt;bitmap&lt;/code&gt;åŒºåŸŸçš„å¤§å°æ˜¯&lt;code&gt;512GB/(4*8B)=16GB&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312204132.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä»ä¸Šå›¾å…¶å®è¿˜å¯ä»¥çœ‹åˆ°bitmapçš„é«˜åœ°å€éƒ¨åˆ†æŒ‡å‘arenaåŒºåŸŸçš„ä½åœ°å€éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯è¯´bitmapçš„åœ°å€æ˜¯ç”±é«˜åœ°å€å‘ä½åœ°å€å¢é•¿çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;spansåŒºåŸŸ&lt;/code&gt;å­˜æ”¾&lt;code&gt;mspan&lt;/code&gt;ï¼ˆä¹Ÿå°±æ˜¯ä¸€äº›&lt;code&gt;arena&lt;/code&gt;åˆ†å‰²çš„é¡µç»„åˆèµ·æ¥çš„å†…å­˜ç®¡ç†åŸºæœ¬å•å…ƒï¼Œåæ–‡ä¼šå†è®²ï¼‰çš„æŒ‡é’ˆï¼Œæ¯ä¸ªæŒ‡é’ˆå¯¹åº”ä¸€é¡µï¼Œæ‰€ä»¥&lt;code&gt;spans&lt;/code&gt;åŒºåŸŸçš„å¤§å°å°±æ˜¯&lt;code&gt;512GB/8KB*8B=512MB&lt;/code&gt;ã€‚é™¤ä»¥8KBæ˜¯è®¡ç®—&lt;code&gt;arena&lt;/code&gt;åŒºåŸŸçš„é¡µæ•°ï¼Œè€Œæœ€åä¹˜ä»¥8æ˜¯è®¡ç®—&lt;code&gt;spans&lt;/code&gt;åŒºåŸŸæ‰€æœ‰æŒ‡é’ˆçš„å¤§å°ã€‚åˆ›å»º&lt;code&gt;mspan&lt;/code&gt;çš„æ—¶å€™ï¼ŒæŒ‰é¡µå¡«å……å¯¹åº”çš„&lt;code&gt;spans&lt;/code&gt;åŒºåŸŸï¼Œåœ¨å›æ”¶&lt;code&gt;object&lt;/code&gt;æ—¶ï¼Œæ ¹æ®åœ°å€å¾ˆå®¹æ˜“å°±èƒ½æ‰¾åˆ°å®ƒæ‰€å±çš„&lt;code&gt;mspan&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å†…å­˜ç®¡ç†å•å…ƒ&#34;&gt;å†…å­˜ç®¡ç†å•å…ƒ&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;mspan&lt;/code&gt;ï¼šGoä¸­å†…å­˜ç®¡ç†çš„åŸºæœ¬å•å…ƒï¼Œæ˜¯ç”±ä¸€ç‰‡è¿ç»­çš„&lt;code&gt;8KB&lt;/code&gt;çš„é¡µç»„æˆçš„å¤§å—å†…å­˜ã€‚æ³¨æ„ï¼Œè¿™é‡Œçš„é¡µå’Œæ“ä½œç³»ç»Ÿæœ¬èº«çš„é¡µå¹¶ä¸æ˜¯ä¸€å›äº‹ï¼Œå®ƒä¸€èˆ¬æ˜¯æ“ä½œç³»ç»Ÿé¡µå¤§å°çš„å‡ å€ã€‚ä¸€å¥è¯æ¦‚æ‹¬ï¼š&lt;code&gt;mspan&lt;/code&gt;æ˜¯ä¸€ä¸ªåŒ…å«èµ·å§‹åœ°å€ã€&lt;code&gt;mspan&lt;/code&gt;è§„æ ¼ã€é¡µçš„æ•°é‡ç­‰å†…å®¹çš„åŒç«¯é“¾è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸ª&lt;code&gt;mspan&lt;/code&gt;æŒ‰ç…§å®ƒè‡ªèº«çš„å±æ€§&lt;code&gt;Size Class&lt;/code&gt;çš„å¤§å°åˆ†å‰²æˆè‹¥å¹²ä¸ª&lt;code&gt;object&lt;/code&gt;ï¼Œæ¯ä¸ª&lt;code&gt;object&lt;/code&gt;å¯å­˜å‚¨ä¸€ä¸ªå¯¹è±¡ã€‚å¹¶ä¸”ä¼šä½¿ç”¨ä¸€ä¸ªä½å›¾æ¥æ ‡è®°å…¶å°šæœªä½¿ç”¨çš„&lt;code&gt;object&lt;/code&gt;ã€‚å±æ€§&lt;code&gt;Size Class&lt;/code&gt;å†³å®š&lt;code&gt;object&lt;/code&gt;å¤§å°ï¼Œè€Œ&lt;code&gt;mspan&lt;/code&gt;åªä¼šåˆ†é…ç»™å’Œ&lt;code&gt;object&lt;/code&gt;å°ºå¯¸å¤§å°æ¥è¿‘çš„å¯¹è±¡ï¼Œå½“ç„¶ï¼Œå¯¹è±¡çš„å¤§å°è¦å°äº&lt;code&gt;object&lt;/code&gt;å¤§å°ã€‚è¿˜æœ‰ä¸€ä¸ªæ¦‚å¿µï¼š&lt;code&gt;Span Class&lt;/code&gt;ï¼Œå®ƒå’Œ&lt;code&gt;Size Class&lt;/code&gt;çš„å«ä¹‰å·®ä¸å¤šï¼Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Size_Class &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Span_Class &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ˜¯å› ä¸ºå…¶å®æ¯ä¸ª &lt;code&gt;Size Class&lt;/code&gt;æœ‰ä¸¤ä¸ª&lt;code&gt;mspan&lt;/code&gt;ï¼Œä¹Ÿå°±æ˜¯æœ‰ä¸¤ä¸ª&lt;code&gt;Span Class&lt;/code&gt;ã€‚å…¶ä¸­ä¸€ä¸ªåˆ†é…ç»™å«æœ‰æŒ‡é’ˆçš„å¯¹è±¡ï¼Œå¦ä¸€ä¸ªåˆ†é…ç»™ä¸å«æœ‰æŒ‡é’ˆçš„å¯¹è±¡ã€‚è¿™ä¼šç»™åƒåœ¾å›æ”¶æœºåˆ¶å¸¦æ¥åˆ©å¥½ï¼Œä¹‹åçš„æ–‡ç« å†è°ˆã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹å›¾ï¼Œ&lt;code&gt;mspan&lt;/code&gt;ç”±ä¸€ç»„è¿ç»­çš„é¡µç»„æˆï¼ŒæŒ‰ç…§ä¸€å®šå¤§å°åˆ’åˆ†æˆ&lt;code&gt;object&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312204238.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Go1.9.2é‡Œ&lt;code&gt;mspan&lt;/code&gt;çš„&lt;code&gt;Size Class&lt;/code&gt;å…±æœ‰67ç§ï¼Œæ¯ç§&lt;code&gt;mspan&lt;/code&gt;åˆ†å‰²çš„objectå¤§å°æ˜¯8*2nçš„å€æ•°ï¼Œè¿™ä¸ªæ˜¯å†™æ­»åœ¨ä»£ç é‡Œçš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// path: /usr/local/go/src/runtime/sizeclasses.go
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;_NumSizeClasses&lt;/span&gt; = &lt;span style=&#34;color:#ae81ff&#34;&gt;67&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;class_to_size&lt;/span&gt; = [&lt;span style=&#34;color:#a6e22e&#34;&gt;_NumSizeClasses&lt;/span&gt;]&lt;span style=&#34;color:#66d9ef&#34;&gt;uint16&lt;/span&gt;{&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;32&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;48&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;64&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;80&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;96&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;112&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;128&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;144&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;160&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;176&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;192&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;208&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;224&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;240&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;256&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;288&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;320&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;352&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;384&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;416&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;448&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;480&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;512&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;576&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;640&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;704&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;768&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;896&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1024&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1152&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1280&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1408&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1536&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;1792&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2048&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2304&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2688&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3072&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3200&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3456&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;4864&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;5376&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;6144&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;6528&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;6784&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;6912&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;8192&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;9472&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;9728&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;10240&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;10880&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;12288&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;13568&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;14336&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;16384&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;18432&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;19072&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;20480&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;21760&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;24576&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;27264&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;28672&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;32768&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ ¹æ®&lt;code&gt;mspan&lt;/code&gt;çš„&lt;code&gt;Size Class&lt;/code&gt;å¯ä»¥å¾—åˆ°å®ƒåˆ’åˆ†çš„&lt;code&gt;object&lt;/code&gt;å¤§å°ã€‚ æ¯”å¦‚&lt;code&gt;Size Class&lt;/code&gt;ç­‰äº3ï¼Œ&lt;code&gt;object&lt;/code&gt;å¤§å°å°±æ˜¯32Bã€‚ 32Bå¤§å°çš„objectå¯ä»¥å­˜å‚¨å¯¹è±¡å¤§å°èŒƒå›´åœ¨17B~32Bçš„å¯¹è±¡ã€‚è€Œå¯¹äºå¾®å°å¯¹è±¡ï¼ˆå°äº16Bï¼‰ï¼Œåˆ†é…å™¨ä¼šå°†å…¶è¿›è¡Œåˆå¹¶ï¼Œå°†å‡ ä¸ªå¯¹è±¡åˆ†é…åˆ°åŒä¸€ä¸ª&lt;code&gt;object&lt;/code&gt;ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;æ•°ç»„é‡Œæœ€å¤§çš„æ•°æ˜¯32768ï¼Œä¹Ÿå°±æ˜¯32KBï¼Œè¶…è¿‡æ­¤å¤§å°å°±æ˜¯å¤§å¯¹è±¡äº†ï¼Œå®ƒä¼šè¢«ç‰¹åˆ«å¯¹å¾…ï¼Œè¿™ä¸ªç¨åä¼šå†ä»‹ç»ã€‚é¡ºä¾¿æä¸€å¥ï¼Œç±»å‹&lt;code&gt;Size Class&lt;/code&gt;ä¸º0è¡¨ç¤ºå¤§å¯¹è±¡ï¼Œå®ƒå®é™…ä¸Šç›´æ¥ç”±å †å†…å­˜åˆ†é…ï¼Œè€Œå°å¯¹è±¡éƒ½è¦é€šè¿‡&lt;code&gt;mspan&lt;/code&gt;æ¥åˆ†é…ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºmspanæ¥è¯´ï¼Œå®ƒçš„&lt;code&gt;Size Class&lt;/code&gt;ä¼šå†³å®šå®ƒæ‰€èƒ½åˆ†åˆ°çš„é¡µæ•°ï¼Œè¿™ä¹Ÿæ˜¯å†™æ­»åœ¨ä»£ç é‡Œçš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// path: /usr/local/go/src/runtime/sizeclasses.go
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;_NumSizeClasses&lt;/span&gt; = &lt;span style=&#34;color:#ae81ff&#34;&gt;67&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;class_to_allocnpages&lt;/span&gt; = [&lt;span style=&#34;color:#a6e22e&#34;&gt;_NumSizeClasses&lt;/span&gt;]&lt;span style=&#34;color:#66d9ef&#34;&gt;uint8&lt;/span&gt;{&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¯”å¦‚å½“æˆ‘ä»¬è¦ç”³è¯·ä¸€ä¸ª&lt;code&gt;object&lt;/code&gt;å¤§å°ä¸º&lt;code&gt;32B&lt;/code&gt;çš„&lt;code&gt;mspan&lt;/code&gt;çš„æ—¶å€™ï¼Œåœ¨class_to_sizeé‡Œå¯¹åº”çš„ç´¢å¼•æ˜¯3ï¼Œè€Œç´¢å¼•3åœ¨&lt;code&gt;class_to_allocnpages&lt;/code&gt;æ•°ç»„é‡Œå¯¹åº”çš„é¡µæ•°å°±æ˜¯1ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mspan&lt;/code&gt;ç»“æ„ä½“å®šä¹‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// path: /usr/local/go/src/runtime/mheap.go
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mspan&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//é“¾è¡¨å‰å‘æŒ‡é’ˆï¼Œç”¨äºå°†spané“¾æ¥èµ·æ¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mspan&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//é“¾è¡¨å‰å‘æŒ‡é’ˆï¼Œç”¨äºå°†spané“¾æ¥èµ·æ¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;prev&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mspan&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// èµ·å§‹åœ°å€ï¼Œä¹Ÿå³æ‰€ç®¡ç†é¡µçš„åœ°å€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;startAddr&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;uintptr&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ç®¡ç†çš„é¡µæ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;npages&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;uintptr&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å—ä¸ªæ•°ï¼Œè¡¨ç¤ºæœ‰å¤šå°‘ä¸ªå—å¯ä¾›åˆ†é…
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;nelems&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;uintptr&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//åˆ†é…ä½å›¾ï¼Œæ¯ä¸€ä½ä»£è¡¨ä¸€ä¸ªå—æ˜¯å¦å·²åˆ†é…
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;allocBits&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;gcBits&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å·²åˆ†é…å—çš„ä¸ªæ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;allocCount&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;uint16&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// classè¡¨ä¸­çš„class IDï¼Œå’ŒSize Classsç›¸å…³
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;spanclass&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;spanClass&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// classè¡¨ä¸­çš„å¯¹è±¡å¤§å°ï¼Œä¹Ÿå³å—å¤§å°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;elemsize&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;uintptr&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬å°†&lt;code&gt;mspan&lt;/code&gt;æ”¾åˆ°æ›´å¤§çš„è§†è§’æ¥çœ‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312204350.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾å¯ä»¥çœ‹åˆ°æœ‰ä¸¤ä¸ª&lt;code&gt;S&lt;/code&gt;æŒ‡å‘äº†åŒä¸€ä¸ª&lt;code&gt;mspan&lt;/code&gt;ï¼Œå› ä¸ºè¿™ä¸¤ä¸ª&lt;code&gt;S&lt;/code&gt;æŒ‡å‘çš„&lt;code&gt;P&lt;/code&gt;æ˜¯åŒå±ä¸€ä¸ª&lt;code&gt;mspan&lt;/code&gt;çš„ã€‚æ‰€ä»¥ï¼Œé€šè¿‡&lt;code&gt;arena&lt;/code&gt;ä¸Šçš„åœ°å€å¯ä»¥å¿«é€Ÿæ‰¾åˆ°æŒ‡å‘å®ƒçš„&lt;code&gt;S&lt;/code&gt;ï¼Œé€šè¿‡&lt;code&gt;S&lt;/code&gt;å°±èƒ½æ‰¾åˆ°&lt;code&gt;mspan&lt;/code&gt;ï¼Œå›å¿†ä¸€ä¸‹å‰é¢æˆ‘ä»¬è¯´çš„&lt;code&gt;mspan&lt;/code&gt;åŒºåŸŸçš„æ¯ä¸ªæŒ‡é’ˆå¯¹åº”ä¸€é¡µã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾æœ€å·¦è¾¹ç¬¬ä¸€ä¸ª&lt;code&gt;mspan&lt;/code&gt;çš„&lt;code&gt;Size Class&lt;/code&gt;ç­‰äº10ï¼Œæ ¹æ®å‰é¢çš„&lt;code&gt;class_to_size&lt;/code&gt;æ•°ç»„ï¼Œå¾—å‡ºè¿™ä¸ª&lt;code&gt;msapn&lt;/code&gt;åˆ†å‰²çš„&lt;code&gt;object&lt;/code&gt;å¤§å°æ˜¯144Bï¼Œç®—å‡ºå¯åˆ†é…çš„å¯¹è±¡ä¸ªæ•°æ˜¯&lt;code&gt;8KB/144B=56.89&lt;/code&gt;ä¸ªï¼Œå–æ•´56ä¸ªï¼Œæ‰€ä»¥ä¼šæœ‰ä¸€äº›å†…å­˜æµªè´¹æ‰äº†ï¼ŒGoçš„æºç é‡Œæœ‰æ‰€æœ‰&lt;code&gt;Size Class&lt;/code&gt;çš„&lt;code&gt;mspan&lt;/code&gt;æµªè´¹çš„å†…å­˜çš„å¤§å°ï¼›å†æ ¹æ®&lt;code&gt;class_to_allocnpages&lt;/code&gt;æ•°ç»„ï¼Œå¾—åˆ°è¿™ä¸ª&lt;code&gt;mspan&lt;/code&gt;åªç”±1ä¸ª&lt;code&gt;page&lt;/code&gt;ç»„æˆï¼›å‡è®¾è¿™ä¸ª&lt;code&gt;mspan&lt;/code&gt;æ˜¯åˆ†é…ç»™æ— æŒ‡é’ˆå¯¹è±¡çš„ï¼Œé‚£ä¹ˆ&lt;code&gt;spanClass&lt;/code&gt;ç­‰äº20ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;startAddr&lt;/code&gt;ç›´æ¥æŒ‡å‘&lt;code&gt;arena&lt;/code&gt;åŒºåŸŸçš„æŸä¸ªä½ç½®ï¼Œè¡¨ç¤ºè¿™ä¸ª&lt;code&gt;mspan&lt;/code&gt;çš„èµ·å§‹åœ°å€ï¼Œ&lt;code&gt;allocBits&lt;/code&gt;æŒ‡å‘ä¸€ä¸ªä½å›¾ï¼Œæ¯ä½ä»£è¡¨ä¸€ä¸ªå—æ˜¯å¦è¢«åˆ†é…äº†å¯¹è±¡ï¼›&lt;code&gt;allocCount&lt;/code&gt;åˆ™è¡¨ç¤ºæ€»å…±å·²åˆ†é…çš„å¯¹è±¡ä¸ªæ•°ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·ï¼Œå·¦èµ·ç¬¬ä¸€ä¸ª&lt;code&gt;mspan&lt;/code&gt;çš„å„ä¸ªå­—æ®µå‚æ•°å°±å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312204458.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;å†…å­˜ç®¡ç†ç»„ä»¶&#34;&gt;å†…å­˜ç®¡ç†ç»„ä»¶&lt;/h2&gt;
&lt;p&gt;å†…å­˜åˆ†é…ç”±å†…å­˜åˆ†é…å™¨å®Œæˆã€‚åˆ†é…å™¨ç”±3ç§ç»„ä»¶æ„æˆï¼š&lt;code&gt;mcache&lt;/code&gt;, &lt;code&gt;mcentral&lt;/code&gt;, &lt;code&gt;mheap&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;mcache&#34;&gt;mcache&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;mcache&lt;/code&gt;ï¼šæ¯ä¸ªå·¥ä½œçº¿ç¨‹éƒ½ä¼šç»‘å®šä¸€ä¸ªmcacheï¼Œæœ¬åœ°ç¼“å­˜å¯ç”¨çš„&lt;code&gt;mspan&lt;/code&gt;èµ„æºï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥ç»™Goroutineåˆ†é…ï¼Œå› ä¸ºä¸å­˜åœ¨å¤šä¸ªGoroutineç«äº‰çš„æƒ…å†µï¼Œæ‰€ä»¥ä¸ä¼šæ¶ˆè€—é”èµ„æºã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mcache&lt;/code&gt;çš„ç»“æ„ä½“å®šä¹‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//path: /usr/local/go/src/runtime/mcache.go
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mcache&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;alloc&lt;/span&gt; [&lt;span style=&#34;color:#a6e22e&#34;&gt;numSpanClasses&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mspan&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;numSpanClasses&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;_NumSizeClasses&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;mcache&lt;/code&gt;ç”¨&lt;code&gt;Span Classes&lt;/code&gt;ä½œä¸ºç´¢å¼•ç®¡ç†å¤šä¸ªç”¨äºåˆ†é…çš„&lt;code&gt;mspan&lt;/code&gt;ï¼Œå®ƒåŒ…å«æ‰€æœ‰è§„æ ¼çš„&lt;code&gt;mspan&lt;/code&gt;ã€‚å®ƒæ˜¯&lt;code&gt;_NumSizeClasses&lt;/code&gt;çš„2å€ï¼Œä¹Ÿå°±æ˜¯&lt;code&gt;67*2=134&lt;/code&gt;ï¼Œä¸ºä»€ä¹ˆæœ‰ä¸€ä¸ªä¸¤å€çš„å…³ç³»ï¼Œå‰é¢æˆ‘ä»¬æåˆ°è¿‡ï¼šä¸ºäº†åŠ é€Ÿä¹‹åå†…å­˜å›æ”¶çš„é€Ÿåº¦ï¼Œæ•°ç»„é‡Œä¸€åŠçš„&lt;code&gt;mspan&lt;/code&gt;ä¸­åˆ†é…çš„å¯¹è±¡ä¸åŒ…å«æŒ‡é’ˆï¼Œå¦ä¸€åŠåˆ™åŒ…å«æŒ‡é’ˆã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæ— æŒ‡é’ˆå¯¹è±¡çš„&lt;code&gt;mspan&lt;/code&gt;åœ¨è¿›è¡Œåƒåœ¾å›æ”¶çš„æ—¶å€™æ— éœ€è¿›ä¸€æ­¥æ‰«æå®ƒæ˜¯å¦å¼•ç”¨äº†å…¶ä»–æ´»è·ƒçš„å¯¹è±¡ã€‚ åé¢çš„åƒåœ¾å›æ”¶æ–‡ç« ä¼šå†è®²åˆ°ï¼Œè¿™æ¬¡å…ˆåˆ°è¿™é‡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312204550.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mcache&lt;/code&gt;åœ¨åˆå§‹åŒ–çš„æ—¶å€™æ˜¯æ²¡æœ‰ä»»ä½•&lt;code&gt;mspan&lt;/code&gt;èµ„æºçš„ï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šåŠ¨æ€åœ°ä»&lt;code&gt;mcentral&lt;/code&gt;ç”³è¯·ï¼Œä¹‹åä¼šç¼“å­˜ä¸‹æ¥ã€‚å½“å¯¹è±¡å°äºç­‰äº32KBå¤§å°æ—¶ï¼Œä½¿ç”¨&lt;code&gt;mcache&lt;/code&gt;çš„ç›¸åº”è§„æ ¼çš„&lt;code&gt;mspan&lt;/code&gt;è¿›è¡Œåˆ†é…ã€‚&lt;/p&gt;
&lt;h2 id=&#34;mcentral&#34;&gt;mcentral&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;mcentral&lt;/code&gt;ï¼šä¸ºæ‰€æœ‰&lt;code&gt;mcache&lt;/code&gt;æä¾›åˆ‡åˆ†å¥½çš„&lt;code&gt;mspan&lt;/code&gt;èµ„æºã€‚æ¯ä¸ª&lt;code&gt;central&lt;/code&gt;ä¿å­˜ä¸€ç§ç‰¹å®šå¤§å°çš„å…¨å±€&lt;code&gt;mspan&lt;/code&gt;åˆ—è¡¨ï¼ŒåŒ…æ‹¬å·²åˆ†é…å‡ºå»çš„å’Œæœªåˆ†é…å‡ºå»çš„ã€‚ æ¯ä¸ª&lt;code&gt;mcentral&lt;/code&gt;å¯¹åº”ä¸€ç§&lt;code&gt;mspan&lt;/code&gt;ï¼Œè€Œ&lt;code&gt;mspan&lt;/code&gt;çš„ç§ç±»å¯¼è‡´å®ƒåˆ†å‰²çš„&lt;code&gt;object&lt;/code&gt;å¤§å°ä¸åŒã€‚å½“å·¥ä½œçº¿ç¨‹çš„&lt;code&gt;mcache&lt;/code&gt;ä¸­æ²¡æœ‰åˆé€‚ï¼ˆä¹Ÿå°±æ˜¯ç‰¹å®šå¤§å°çš„ï¼‰çš„&lt;code&gt;mspan&lt;/code&gt;æ—¶å°±ä¼šä»&lt;code&gt;mcentral&lt;/code&gt;è·å–ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mcentral&lt;/code&gt;è¢«æ‰€æœ‰çš„å·¥ä½œçº¿ç¨‹å…±åŒäº«æœ‰ï¼Œå­˜åœ¨å¤šä¸ªGoroutineç«äº‰çš„æƒ…å†µï¼Œå› æ­¤ä¼šæ¶ˆè€—é”èµ„æºã€‚ç»“æ„ä½“å®šä¹‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//path: /usr/local/go/src/runtime/mcentral.go
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mcentral&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// äº’æ–¥é”
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;lock&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mutex&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// è§„æ ¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;sizeclass&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int32&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å°šæœ‰ç©ºé—²objectçš„mspané“¾è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;nonempty&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mSpanList&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// æ²¡æœ‰ç©ºé—²objectçš„mspané“¾è¡¨ï¼Œæˆ–è€…æ˜¯å·²è¢«mcacheå–èµ°çš„msapné“¾è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;empty&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mSpanList&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å·²ç´¯è®¡åˆ†é…çš„å¯¹è±¡ä¸ªæ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;nmalloc&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;uint64&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312204644.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;empty&lt;/code&gt;è¡¨ç¤ºè¿™æ¡é“¾è¡¨é‡Œçš„&lt;code&gt;mspan&lt;/code&gt;éƒ½è¢«åˆ†é…äº†&lt;code&gt;object&lt;/code&gt;ï¼Œæˆ–è€…æ˜¯å·²ç»è¢«&lt;code&gt;cache&lt;/code&gt;å–èµ°äº†çš„&lt;code&gt;mspan&lt;/code&gt;ï¼Œè¿™ä¸ª&lt;code&gt;mspan&lt;/code&gt;å°±è¢«é‚£ä¸ªå·¥ä½œçº¿ç¨‹ç‹¬å äº†ã€‚è€Œ&lt;code&gt;nonempty&lt;/code&gt;åˆ™è¡¨ç¤ºæœ‰ç©ºé—²å¯¹è±¡çš„&lt;code&gt;mspan&lt;/code&gt;åˆ—è¡¨ã€‚æ¯ä¸ª&lt;code&gt;central&lt;/code&gt;ç»“æ„ä½“éƒ½åœ¨&lt;code&gt;mheap&lt;/code&gt;ä¸­ç»´æŠ¤ã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•è¯´ä¸‹&lt;code&gt;mcache&lt;/code&gt;ä»&lt;code&gt;mcentral&lt;/code&gt;è·å–å’Œå½’è¿˜&lt;code&gt;mspan&lt;/code&gt;çš„æµç¨‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è·å– åŠ é”ï¼›ä»&lt;code&gt;nonempty&lt;/code&gt;é“¾è¡¨æ‰¾åˆ°ä¸€ä¸ªå¯ç”¨çš„&lt;code&gt;mspan&lt;/code&gt;ï¼›å¹¶å°†å…¶ä»&lt;code&gt;nonempty&lt;/code&gt;é“¾è¡¨åˆ é™¤ï¼›å°†å–å‡ºçš„&lt;code&gt;mspan&lt;/code&gt;åŠ å…¥åˆ°&lt;code&gt;empty&lt;/code&gt;é“¾è¡¨ï¼›å°†&lt;code&gt;mspan&lt;/code&gt;è¿”å›ç»™å·¥ä½œçº¿ç¨‹ï¼›è§£é”ã€‚&lt;/li&gt;
&lt;li&gt;å½’è¿˜ åŠ é”ï¼›å°†&lt;code&gt;mspan&lt;/code&gt;ä»&lt;code&gt;empty&lt;/code&gt;é“¾è¡¨åˆ é™¤ï¼›å°†&lt;code&gt;mspan&lt;/code&gt;åŠ å…¥åˆ°&lt;code&gt;nonempty&lt;/code&gt;é“¾è¡¨ï¼›è§£é”ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;mheap&#34;&gt;mheap&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;mheap&lt;/code&gt;ï¼šä»£è¡¨Goç¨‹åºæŒæœ‰çš„æ‰€æœ‰å †ç©ºé—´ï¼ŒGoç¨‹åºä½¿ç”¨ä¸€ä¸ª&lt;code&gt;mheap&lt;/code&gt;çš„å…¨å±€å¯¹è±¡&lt;code&gt;_mheap&lt;/code&gt;æ¥ç®¡ç†å †å†…å­˜ã€‚&lt;/p&gt;
&lt;p&gt;å½“&lt;code&gt;mcentral&lt;/code&gt;æ²¡æœ‰ç©ºé—²çš„&lt;code&gt;mspan&lt;/code&gt;æ—¶ï¼Œä¼šå‘&lt;code&gt;mheap&lt;/code&gt;ç”³è¯·ã€‚è€Œ&lt;code&gt;mheap&lt;/code&gt;æ²¡æœ‰èµ„æºæ—¶ï¼Œä¼šå‘æ“ä½œç³»ç»Ÿç”³è¯·æ–°å†…å­˜ã€‚&lt;code&gt;mheap&lt;/code&gt;ä¸»è¦ç”¨äºå¤§å¯¹è±¡çš„å†…å­˜åˆ†é…ï¼Œä»¥åŠç®¡ç†æœªåˆ‡å‰²çš„&lt;code&gt;mspan&lt;/code&gt;ï¼Œç”¨äºç»™&lt;code&gt;mcentral&lt;/code&gt;åˆ‡å‰²æˆå°å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ—¶æˆ‘ä»¬ä¹Ÿçœ‹åˆ°ï¼Œ&lt;code&gt;mheap&lt;/code&gt;ä¸­å«æœ‰æ‰€æœ‰è§„æ ¼çš„&lt;code&gt;mcentral&lt;/code&gt;ï¼Œæ‰€ä»¥ï¼Œå½“ä¸€ä¸ª&lt;code&gt;mcache&lt;/code&gt;ä»&lt;code&gt;mcentral&lt;/code&gt;ç”³è¯·&lt;code&gt;mspan&lt;/code&gt;æ—¶ï¼Œåªéœ€è¦åœ¨ç‹¬ç«‹çš„&lt;code&gt;mcentral&lt;/code&gt;ä¸­ä½¿ç”¨é”ï¼Œå¹¶ä¸ä¼šå½±å“ç”³è¯·å…¶ä»–è§„æ ¼çš„&lt;code&gt;mspan&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mheap&lt;/code&gt;ç»“æ„ä½“å®šä¹‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//path: /usr/local/go/src/runtime/mheap.go
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mheap&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;lock&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mutex&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// spans: æŒ‡å‘mspansåŒºåŸŸï¼Œç”¨äºæ˜ å°„mspanå’Œpageçš„å…³ç³»
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;spans&lt;/span&gt; []&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mspan&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// æŒ‡å‘bitmapé¦–åœ°å€ï¼Œbitmapæ˜¯ä»é«˜åœ°å€å‘ä½åœ°å€å¢é•¿çš„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;bitmap&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;uintptr&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// æŒ‡ç¤ºarenaåŒºé¦–åœ°å€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;arena_start&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;uintptr&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// æŒ‡ç¤ºarenaåŒºå·²ä½¿ç”¨åœ°å€ä½ç½®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;arena_used&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;uintptr&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// æŒ‡ç¤ºarenaåŒºæœ«åœ°å€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;arena_end&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;uintptr&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;central&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;67&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;]&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;mcentral&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mcentral&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;pad&lt;/span&gt; [&lt;span style=&#34;color:#a6e22e&#34;&gt;sys&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;CacheLineSize&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Sizeof&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;mcentral&lt;/span&gt;{})&lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;sys&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;CacheLineSize&lt;/span&gt;]&lt;span style=&#34;color:#66d9ef&#34;&gt;byte&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312204738.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾æˆ‘ä»¬çœ‹åˆ°ï¼Œbitmapå’Œarena_startæŒ‡å‘äº†åŒä¸€ä¸ªåœ°å€ï¼Œè¿™æ˜¯å› ä¸ºbitmapçš„åœ°å€æ˜¯ä»é«˜åˆ°ä½å¢é•¿çš„ï¼Œæ‰€ä»¥ä»–ä»¬æŒ‡å‘çš„å†…å­˜ä½ç½®ç›¸åŒã€‚&lt;/p&gt;
&lt;h2 id=&#34;åˆ†é…æµç¨‹&#34;&gt;åˆ†é…æµç¨‹&lt;/h2&gt;
&lt;p&gt;å˜é‡æ˜¯åœ¨æ ˆä¸Šåˆ†é…è¿˜æ˜¯åœ¨å †ä¸Šåˆ†é…ï¼Œæ˜¯ç”±é€ƒé€¸åˆ†æçš„ç»“æœå†³å®šçš„ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨æ˜¯å€¾å‘äºå°†å˜é‡åˆ†é…åˆ°æ ˆä¸Šçš„ï¼Œå› ä¸ºå®ƒçš„å¼€é”€å°ï¼Œæœ€æç«¯çš„å°±æ˜¯&amp;quot;zero garbage&amp;quot;ï¼Œæ‰€æœ‰çš„å˜é‡éƒ½ä¼šåœ¨æ ˆä¸Šåˆ†é…ï¼Œè¿™æ ·å°±ä¸ä¼šå­˜åœ¨å†…å­˜ç¢ç‰‡ï¼Œåƒåœ¾å›æ”¶ä¹‹ç±»çš„ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;p&gt;Goçš„å†…å­˜åˆ†é…å™¨åœ¨åˆ†é…å¯¹è±¡æ—¶ï¼Œæ ¹æ®å¯¹è±¡çš„å¤§å°ï¼Œåˆ†æˆä¸‰ç±»ï¼šå°å¯¹è±¡ï¼ˆå°äºç­‰äº16Bï¼‰ã€ä¸€èˆ¬å¯¹è±¡ï¼ˆå¤§äº16Bï¼Œå°äºç­‰äº32KBï¼‰ã€å¤§å¯¹è±¡ï¼ˆå¤§äº32KBï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¤§ä½“ä¸Šçš„åˆ†é…æµç¨‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;32KB çš„å¯¹è±¡ï¼Œç›´æ¥ä»mheapä¸Šåˆ†é…ï¼›&lt;/li&gt;
&lt;li&gt;&amp;lt;=16B çš„å¯¹è±¡ä½¿ç”¨mcacheçš„tinyåˆ†é…å™¨åˆ†é…ï¼›&lt;/li&gt;
&lt;li&gt;(16B,32KB] çš„å¯¹è±¡ï¼Œé¦–å…ˆè®¡ç®—å¯¹è±¡çš„è§„æ ¼å¤§å°ï¼Œç„¶åä½¿ç”¨mcacheä¸­ç›¸åº”è§„æ ¼å¤§å°çš„mspanåˆ†é…ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœmcacheæ²¡æœ‰ç›¸åº”è§„æ ¼å¤§å°çš„mspanï¼Œåˆ™å‘mcentralç”³è¯·&lt;/li&gt;
&lt;li&gt;å¦‚æœmcentralæ²¡æœ‰ç›¸åº”è§„æ ¼å¤§å°çš„mspanï¼Œåˆ™å‘mheapç”³è¯·&lt;/li&gt;
&lt;li&gt;å¦‚æœmheapä¸­ä¹Ÿæ²¡æœ‰åˆé€‚å¤§å°çš„mspanï¼Œåˆ™å‘æ“ä½œç³»ç»Ÿç”³è¯·&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Goåœ¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œä¼šå‘æ“ä½œç³»ç»Ÿç”³è¯·ä¸€å¤§å—å†…å­˜ï¼Œä¹‹åè‡ªè¡Œç®¡ç†ã€‚&lt;/li&gt;
&lt;li&gt;Goå†…å­˜ç®¡ç†çš„åŸºæœ¬å•å…ƒæ˜¯mspanï¼Œå®ƒç”±è‹¥å¹²ä¸ªé¡µç»„æˆï¼Œæ¯ç§mspanå¯ä»¥åˆ†é…ç‰¹å®šå¤§å°çš„objectã€‚&lt;/li&gt;
&lt;li&gt;mcache, mcentral, mheapæ˜¯Goå†…å­˜ç®¡ç†çš„ä¸‰å¤§ç»„ä»¶ï¼Œå±‚å±‚é€’è¿›ã€‚mcacheç®¡ç†çº¿ç¨‹åœ¨æœ¬åœ°ç¼“å­˜çš„mspanï¼›mcentralç®¡ç†å…¨å±€çš„mspanä¾›æ‰€æœ‰çº¿ç¨‹ä½¿ç”¨ï¼›mheapç®¡ç†Goçš„æ‰€æœ‰åŠ¨æ€åˆ†é…å†…å­˜ã€‚&lt;/li&gt;
&lt;li&gt;æå°å¯¹è±¡ä¼šåˆ†é…åœ¨ä¸€ä¸ªobjectä¸­ï¼Œä»¥èŠ‚çœèµ„æºï¼Œä½¿ç”¨tinyåˆ†é…å™¨åˆ†é…å†…å­˜ï¼›ä¸€èˆ¬å°å¯¹è±¡é€šè¿‡mspanåˆ†é…å†…å­˜ï¼›å¤§å¯¹è±¡åˆ™ç›´æ¥ç”±mheapåˆ†é…å†…å­˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Go channel åŸç†</title>
        <link>https://lxb.wiki/7b2461e3/</link>
        <pubDate>Wed, 10 Nov 2021 21:56:56 +0000</pubDate>
        
        <guid>https://lxb.wiki/7b2461e3/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h1 id=&#34;section1-channel-ä½¿ç”¨&#34;&gt;Section1 channel ä½¿ç”¨&lt;/h1&gt;
&lt;h2 id=&#34;11-make-channel&#34;&gt;1.1 make channel&lt;/h2&gt;
&lt;p&gt;ä¸€ç§æ˜¯å¸¦ç¼“å†²çš„channelä¸€ç§æ˜¯ä¸å¸¦ç¼“å†²çš„channelã€‚åˆ›å»ºæ–¹å¼åˆ†åˆ«å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// buffered
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; make(&lt;span style=&#34;color:#66d9ef&#34;&gt;chan&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Task&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// unbuffered
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; make(&lt;span style=&#34;color:#66d9ef&#34;&gt;chan&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;buffered channel&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå¸¦bufferçš„channelï¼Œåº•å±‚çš„æ•°æ®æ¨¡å‹å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312170000.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å½“æˆ‘ä»¬å‘channelé‡Œé¢å†™å…¥æ•°æ®æ—¶å€™ï¼Œä¼šç›´æ¥æŠŠæ•°æ®å­˜å…¥circular queue(send)ã€‚å½“Queueå­˜æ»¡äº†ä¹‹åå°±ä¼šæ˜¯å¦‚ä¸‹çš„çŠ¶æ€ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312170039.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å½“dequeueä¸€ä¸ªå…ƒç´ æ—¶å€™ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312170108.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä»ä¸Šå›¾å¯çŸ¥ï¼Œrecvxè‡ªå¢åŠ ä¸€ï¼Œè¡¨ç¤ºå‡ºé˜Ÿäº†ä¸€ä¸ªå…ƒç´ ï¼Œå…¶å®ä¹Ÿå°±æ˜¯å¾ªç¯æ•°ç»„å®ç°FIFOè¯­ä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå½“æˆ‘ä»¬æ–°å»ºchannelçš„æ—¶å€™ï¼Œåº•å±‚åˆ›å»ºçš„hchanæ•°æ®ç»“æ„æ˜¯åœ¨å“ªé‡Œåˆ†é…å†…å­˜çš„å‘¢ï¼Ÿå…¶å®Section2é‡Œé¢æºç åˆ†ææ—¶å€™å·²ç»åšäº†åˆ†æï¼Œhchanæ˜¯åœ¨heapé‡Œé¢åˆ†é…çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312170236.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å½“æˆ‘ä»¬ä½¿ç”¨makeå»åˆ›å»ºä¸€ä¸ªchannelçš„æ—¶å€™ï¼Œå®é™…ä¸Šè¿”å›çš„æ˜¯ä¸€ä¸ªæŒ‡å‘channelçš„pointerï¼Œæ‰€ä»¥æˆ‘ä»¬èƒ½å¤Ÿåœ¨ä¸åŒçš„functionä¹‹é—´ç›´æ¥ä¼ é€’channelå¯¹è±¡ï¼Œè€Œä¸ç”¨é€šè¿‡æŒ‡å‘channelçš„æŒ‡é’ˆã€‚&lt;/p&gt;
&lt;h2 id=&#34;12-sends-and-receives&#34;&gt;1.2 sends and receives&lt;/h2&gt;
&lt;p&gt;ä¸åŒgoroutineåœ¨channelä¸Šé¢è¿›è¡Œè¯»å†™æ—¶ï¼Œæ¶‰åŠåˆ°çš„è¿‡ç¨‹æ¯”è¾ƒå¤æ‚ï¼Œæ¯”å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312170342.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾ä¸­G1ä¼šå¾€channelé‡Œé¢å†™å…¥æ•°æ®ï¼ŒG2ä¼šä»channelé‡Œé¢è¯»å–æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;G1ä½œç”¨äºåº•å±‚hchançš„æµç¨‹å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312170423.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆè·å–å…¨å±€é”ï¼›&lt;/li&gt;
&lt;li&gt;ç„¶åenqueueå…ƒç´ (é€šè¿‡ç§»åŠ¨æ‹·è´çš„æ–¹å¼)ï¼›&lt;/li&gt;
&lt;li&gt;é‡Šæ”¾é”ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;G2è¯»å–æ—¶å€™ä½œç”¨äºåº•å±‚æ•°æ®ç»“æ„æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312170525.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆè·å–å…¨å±€é”ï¼›&lt;/li&gt;
&lt;li&gt;ç„¶ådequeueå…ƒç´ (é€šè¿‡ç§»åŠ¨æ‹·è´çš„æ–¹å¼)ï¼›&lt;/li&gt;
&lt;li&gt;é‡Šæ”¾é”ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸Šé¢çš„è¯»å†™æ€è·¯å…¶å®å¾ˆç®€å•ï¼Œé™¤äº†hchanæ•°æ®ç»“æ„å¤–ï¼Œä¸è¦é€šè¿‡å…±äº«å†…å­˜å»é€šä¿¡ï¼›è€Œæ˜¯é€šè¿‡é€šä¿¡(å¤åˆ¶)å®ç°å…±äº«å†…å­˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å†™å…¥æ»¡channelçš„åœºæ™¯&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šchannelå†™å…¥3ä¸ªtaskä¹‹åé˜Ÿåˆ—å·²ç»æ»¡äº†ï¼Œè¿™æ—¶å€™G1å†å†™å…¥ç¬¬å››ä¸ªtaskçš„æ—¶å€™ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312170644.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;G1è¿™æ—¶å€™ä¼šæš‚åœç›´åˆ°å‡ºç°ä¸€ä¸ªreceiverã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªåœ°æ–¹éœ€è¦ä»‹ç»ä¸€ä¸‹Golangçš„schedulerçš„ã€‚æˆ‘ä»¬çŸ¥é“goroutineæ˜¯ç”¨æˆ·ç©ºé—´çš„çº¿ç¨‹ï¼Œåˆ›å»ºå’Œç®¡ç†åç¨‹éƒ½æ˜¯é€šè¿‡Goçš„runtimeï¼Œè€Œä¸æ˜¯é€šè¿‡OSçš„threadã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯Goçš„runtimeè°ƒåº¦æ‰§è¡Œgoroutineå´æ˜¯åŸºäºOS threadçš„ã€‚å¦‚ä¸‹å›¾ï¼š
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312173326.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å½“å‘å·²ç»æ»¡çš„channelé‡Œé¢å†™å…¥æ•°æ®æ—¶å€™ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312173420.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾æµç¨‹å¤§æ¦‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;å½“å‰goroutineï¼ˆG1ï¼‰ä¼šè°ƒç”¨goparkå‡½æ•°ï¼Œå°†å½“å‰åç¨‹ç½®ä¸ºwaitingçŠ¶æ€ï¼›
å°†Må’ŒG1ç»‘å®šå…³ç³»æ–­å¼€ï¼›
schedulerä¼šè°ƒåº¦å¦å¤–ä¸€ä¸ªå°±ç»ªæ€çš„goroutineä¸Må»ºç«‹ç»‘å®šå…³ç³»ï¼Œç„¶åM ä¼šè¿è¡Œå¦å¤–ä¸€ä¸ªGã€‚
æ‰€ä»¥æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼ŒOS threadä¼šä¸€ç›´å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œä¸ä¼šå› ä¸ºåç¨‹G1çš„é˜»å¡è€Œé˜»å¡ã€‚æœ€åå½“å‰çš„G1çš„å¼•ç”¨ä¼šå­˜å…¥channelçš„senderé˜Ÿåˆ—(é˜Ÿåˆ—å…ƒç´ æ˜¯æŒæœ‰G1çš„sudog)ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆblockedçš„G1æ€ä¹ˆæ¢å¤å‘¢ï¼Ÿ&lt;strong&gt;å½“æœ‰ä¸€ä¸ªreceiveræ¥æ”¶channelæ•°æ®çš„æ—¶å€™ï¼Œä¼šæ¢å¤ G1ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å®é™…ä¸Šhchanæ•°æ®ç»“æ„ä¹Ÿå­˜å‚¨äº†channelçš„senderå’Œreceiverçš„ç­‰å¾…é˜Ÿåˆ—ã€‚æ•°æ®åŸå‹å¦‚ä¸‹ï¼š
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312173537.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç­‰å¾…é˜Ÿåˆ—é‡Œé¢æ˜¯sudogçš„å•é“¾è¡¨ï¼ŒsudogæŒæœ‰ä¸€ä¸ªGä»£è¡¨goroutineå¯¹è±¡å¼•ç”¨ï¼Œelemä»£è¡¨channelé‡Œé¢ä¿å­˜çš„å…ƒç´ ã€‚å½“G1æ‰§è¡Œ&lt;code&gt;ch&amp;lt;-task4&lt;/code&gt;çš„æ—¶å€™ï¼ŒG1ä¼šåˆ›å»ºä¸€ä¸ªsudogç„¶åä¿å­˜è¿›å…¥sendqé˜Ÿåˆ—ï¼Œå®é™…ä¸Šhchanç»“æ„å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312173614.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ—¶å€™ï¼Œå¦‚æœG2è¿›è¡Œä¸€ä¸ªè¯»å–channelæ“ä½œï¼Œè¯»å–å‰å’Œè¯»å–åçš„å˜åŒ–å›¾å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312173709.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ•´ä¸ªè¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;G2è°ƒç”¨ t:=&amp;lt;-ch è·å–ä¸€ä¸ªå…ƒç´ ï¼›&lt;/li&gt;
&lt;li&gt;ä»channelçš„bufferé‡Œé¢å–å‡ºä¸€ä¸ªå…ƒç´ task1ï¼›&lt;/li&gt;
&lt;li&gt;ä»senderç­‰å¾…é˜Ÿåˆ—é‡Œé¢popä¸€ä¸ªsudogï¼›&lt;/li&gt;
&lt;li&gt;å°†task4å¤åˆ¶bufferä¸­task1çš„ä½ç½®ï¼Œç„¶åæ›´æ–°bufferçš„sendxå’Œrecvxç´¢å¼•å€¼ï¼›&lt;/li&gt;
&lt;li&gt;è¿™æ—¶å€™éœ€è¦å°†G1ç½®ä¸ºRunableçŠ¶æ€ï¼Œè¡¨ç¤ºG1å¯ä»¥æ¢å¤è¿è¡Œï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ä¸ªæ—¶å€™å°†G1æ¢å¤åˆ°å¯è¿è¡ŒçŠ¶æ€éœ€è¦schedulerçš„å‚ä¸ã€‚G2ä¼šè°ƒç”¨goready(G1)æ¥å”¤é†’G1ã€‚æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312173855.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é¦–å…ˆG2ä¼šè°ƒç”¨goready(G1)ï¼Œå”¤èµ·schedulerçš„è°ƒåº¦ï¼›&lt;/li&gt;
&lt;li&gt;å°†G1è®¾ç½®æˆRunableçŠ¶æ€ï¼›&lt;/li&gt;
&lt;li&gt;G1ä¼šåŠ å…¥åˆ°å±€éƒ¨è°ƒåº¦å™¨Pçš„local queueé˜Ÿåˆ—ï¼Œç­‰å¾…è¿è¡Œã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;è¯»å–ç©ºchannelçš„åœºæ™¯&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å½“channelçš„bufferé‡Œé¢ä¸ºç©ºæ—¶ï¼Œè¿™æ—¶å€™å¦‚æœG2é¦–å…ˆå‘èµ·äº†è¯»å–æ“ä½œã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312173959.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¼šåˆ›å»ºä¸€ä¸ªsudogï¼Œå°†ä»£è¡¨G2çš„sudogå­˜å…¥recvqç­‰å¾…é˜Ÿåˆ—ã€‚ç„¶åG2ä¼šè°ƒç”¨goparkå‡½æ•°è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œè®©å‡ºOS threadï¼Œç„¶åG2è¿›å…¥é˜»å¡æ€ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ—¶å€™ï¼Œå¦‚æœæœ‰ä¸€ä¸ªG1æ‰§è¡Œå†™å…¥æ“ä½œï¼Œæœ€ç›´è§‚çš„æµç¨‹å°±æ˜¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å°†recvqä¸­çš„taskå­˜å…¥bufferï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;goready(G2) å”¤é†’G2ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä½†æ˜¯&lt;/strong&gt;æˆ‘ä»¬æœ‰æ›´åŠ æ™ºèƒ½çš„æ–¹æ³•ï¼šdirect send; å…¶å®ä¹Ÿå°±æ˜¯G1ç›´æ¥æŠŠæ•°æ®å†™å…¥åˆ°G2ä¸­çš„elemä¸­ï¼Œè¿™æ ·å°±ä¸ç”¨èµ°G2ä¸­çš„elemå¤åˆ¶åˆ°bufferä¸­ï¼Œå†ä»bufferå¤åˆ¶ç»™G1ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312174123.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å…·ä½“è¿‡ç¨‹å°±æ˜¯G1ç›´æ¥æŠŠæ•°æ®å†™å…¥åˆ°G2çš„æ ˆä¸­ã€‚è¿™æ · G2 ä¸éœ€è¦å»è·å–channelçš„å…¨å±€é”å’Œæ“ä½œç¼“å†²ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;section2-channelæºç &#34;&gt;Section2 channelæºç &lt;/h1&gt;
&lt;h2 id=&#34;21-channelæ•°æ®å­˜å‚¨ç»“æ„&#34;&gt;2.1 channelæ•°æ®å­˜å‚¨ç»“æ„&lt;/h2&gt;
&lt;p&gt;åœ¨æºç &lt;code&gt;runtime/chan.go&lt;/code&gt; é‡Œé¢å®šä¹‰äº†channelçš„æ•°æ®æ¨¡å‹ï¼Œchannelå¯ä»¥ç†è§£æˆä¸€ä¸ªç¼“å†²é˜Ÿåˆ—ï¼Œè¿™ä¸ªç¼“å†²é˜Ÿåˆ—ç”¨æ¥å­˜å‚¨å…ƒç´ ï¼Œå¹¶ä¸”æä¾›FIFOçš„è¯­ä¹‰ã€‚æºç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;hchan&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;//channelé˜Ÿåˆ—é‡Œé¢æ€»çš„æ•°æ®é‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;qcount&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;uint&lt;/span&gt;           &lt;span style=&#34;color:#75715e&#34;&gt;// total data in the queue
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// å¾ªç¯é˜Ÿåˆ—çš„å®¹é‡ï¼Œå¦‚æœæ˜¯éç¼“å†²çš„channelå°±æ˜¯0
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;dataqsiz&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;uint&lt;/span&gt;           &lt;span style=&#34;color:#75715e&#34;&gt;// size of the circular queue
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// ç¼“å†²é˜Ÿåˆ—ï¼Œæ•°ç»„ç±»å‹ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;buf&lt;/span&gt;      &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// points to an array of dataqsiz elements
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// å…ƒç´ å ç”¨å­—èŠ‚çš„size
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;elemsize&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;uint16&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// å½“å‰é˜Ÿåˆ—å…³é—­æ ‡å¿—ä½ï¼Œéé›¶è¡¨ç¤ºå…³é—­
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;closed&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;uint32&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// é˜Ÿåˆ—é‡Œé¢å…ƒç´ ç±»å‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;elemtype&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;_type&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// element type
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// é˜Ÿåˆ—sendç´¢å¼•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;sendx&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;uint&lt;/span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;// send index
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// é˜Ÿåˆ—ç´¢å¼•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;recvx&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;uint&lt;/span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;// receive index
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// ç­‰å¾…channelçš„Gé˜Ÿåˆ—ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;recvq&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;waitq&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// list of recv waiters
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// å‘channelå‘é€æ•°æ®çš„Gé˜Ÿåˆ—ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;sendq&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;waitq&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// list of send waiters
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// lock protects all fields in hchan, as well as several
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// fields in sudogs blocked on this channel.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;//
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// Do not change another G&amp;#39;s status while holding this lock
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// (in particular, do not ready a G), as this can deadlock
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// with stack shrinking.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// å…¨å±€é”
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;lock&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mutex&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;channelçš„æ•°æ®ç»“æ„ç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œä¸»è¦æ˜¯ä¸¤ä¸ªç»“æ„ï¼š
1ï¼‰ä¸€ä¸ªæ•°ç»„å®ç°çš„ç¯å½¢é˜Ÿåˆ—ï¼Œæ•°ç»„æœ‰ä¸¤ä¸ªä¸‹æ ‡ç´¢å¼•åˆ†åˆ«è¡¨ç¤ºè¯»å†™çš„ç´¢å¼•ï¼Œç”¨äºä¿å­˜channelç¼“å†²åŒºæ•°æ®ã€‚
2ï¼‰channelçš„sendå’Œrecvé˜Ÿåˆ—ï¼Œé˜Ÿåˆ—é‡Œé¢éƒ½æ˜¯æŒæœ‰goroutineçš„sudogå…ƒç´ ï¼Œé˜Ÿåˆ—éƒ½æ˜¯åŒé“¾è¡¨å®ç°çš„ã€‚
3ï¼‰channelçš„å…¨å±€é”ã€‚&lt;/p&gt;
&lt;h2 id=&#34;22-ç¯å½¢é˜Ÿåˆ—&#34;&gt;2.2 ç¯å½¢é˜Ÿåˆ—&lt;/h2&gt;
&lt;p&gt;chanå†…éƒ¨å®ç°äº†ä¸€ä¸ªç¯å½¢é˜Ÿåˆ—ä½œä¸ºå…¶ç¼“å†²åŒºï¼Œé˜Ÿåˆ—çš„é•¿åº¦æ˜¯åˆ›å»ºchanæ—¶æŒ‡å®šçš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹å›¾å±•ç¤ºäº†ä¸€ä¸ªå¯ç¼“å­˜6ä¸ªå…ƒç´ çš„channelç¤ºæ„å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312174357.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;dataqsizæŒ‡ç¤ºäº†é˜Ÿåˆ—é•¿åº¦ä¸º6ï¼Œå³å¯ç¼“å­˜6ä¸ªå…ƒç´ ï¼›&lt;/li&gt;
&lt;li&gt;bufæŒ‡å‘é˜Ÿåˆ—çš„å†…å­˜ï¼Œé˜Ÿåˆ—ä¸­è¿˜å‰©ä½™ä¸¤ä¸ªå…ƒç´ ï¼›&lt;/li&gt;
&lt;li&gt;qcountè¡¨ç¤ºé˜Ÿåˆ—ä¸­è¿˜æœ‰ä¸¤ä¸ªå…ƒç´ ï¼›&lt;/li&gt;
&lt;li&gt;sendxæŒ‡ç¤ºåç»­å†™å…¥çš„æ•°æ®å­˜å‚¨çš„ä½ç½®ï¼Œå–å€¼[0, 6)ï¼›&lt;/li&gt;
&lt;li&gt;recvxæŒ‡ç¤ºä»è¯¥ä½ç½®è¯»å–æ•°æ®, å–å€¼[0, 6)ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;23-ç­‰å¾…é˜Ÿåˆ—&#34;&gt;2.3 ç­‰å¾…é˜Ÿåˆ—&lt;/h2&gt;
&lt;p&gt;ä»channelè¯»æ•°æ®ï¼Œå¦‚æœchannelç¼“å†²åŒºä¸ºç©ºæˆ–è€…æ²¡æœ‰ç¼“å†²åŒºï¼Œå½“å‰goroutineä¼šè¢«é˜»å¡ã€‚
å‘channelå†™æ•°æ®ï¼Œå¦‚æœchannelç¼“å†²åŒºå·²æ»¡æˆ–è€…æ²¡æœ‰ç¼“å†²åŒºï¼Œå½“å‰goroutineä¼šè¢«é˜»å¡ã€‚&lt;/p&gt;
&lt;p&gt;è¢«é˜»å¡çš„goroutineå°†ä¼šæŒ‚åœ¨channelçš„ç­‰å¾…é˜Ÿåˆ—ä¸­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å› è¯»é˜»å¡çš„goroutineä¼šè¢«å‘channelå†™å…¥æ•°æ®çš„goroutineå”¤é†’ï¼›&lt;/li&gt;
&lt;li&gt;å› å†™é˜»å¡çš„goroutineä¼šè¢«ä»channelè¯»æ•°æ®çš„goroutineå”¤é†’ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹å›¾å±•ç¤ºäº†ä¸€ä¸ªæ²¡æœ‰ç¼“å†²åŒºçš„channelï¼Œæœ‰å‡ ä¸ªgoroutineé˜»å¡ç­‰å¾…è¯»æ•°æ®ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312174513.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹recvqå’Œsendqè‡³å°‘æœ‰ä¸€ä¸ªä¸ºç©ºã€‚åªæœ‰ä¸€ä¸ªä¾‹å¤–ï¼Œé‚£å°±æ˜¯åŒä¸€ä¸ªgoroutineä½¿ç”¨selectè¯­å¥å‘channelä¸€è¾¹å†™æ•°æ®ï¼Œä¸€è¾¹è¯»æ•°æ®ã€‚&lt;/p&gt;
&lt;h2 id=&#34;24-ç±»å‹ä¿¡æ¯&#34;&gt;2.4 ç±»å‹ä¿¡æ¯&lt;/h2&gt;
&lt;p&gt;ä¸€ä¸ªchannelåªèƒ½ä¼ é€’ä¸€ç§ç±»å‹çš„å€¼ï¼Œç±»å‹ä¿¡æ¯å­˜å‚¨åœ¨hchanæ•°æ®ç»“æ„ä¸­ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;elemtypeä»£è¡¨ç±»å‹ï¼Œç”¨äºæ•°æ®ä¼ é€’è¿‡ç¨‹ä¸­çš„èµ‹å€¼ï¼›&lt;/li&gt;
&lt;li&gt;elemsizeä»£è¡¨ç±»å‹å¤§å°ï¼Œç”¨äºåœ¨bufä¸­å®šä½å…ƒç´ ä½ç½®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;25-é”&#34;&gt;2.5 é”&lt;/h2&gt;
&lt;p&gt;ä¸€ä¸ªchannelåŒæ—¶ä»…å…è®¸è¢«ä¸€ä¸ªgoroutineè¯»å†™ï¼Œä¸ºç®€å•èµ·è§ï¼Œæœ¬ç« åç»­éƒ¨åˆ†è¯´æ˜è¯»å†™è¿‡ç¨‹æ—¶ä¸å†æ¶‰åŠåŠ é”å’Œè§£é”ã€‚&lt;/p&gt;
&lt;h1 id=&#34;section3-channelè¯»å†™&#34;&gt;Section3 channelè¯»å†™&lt;/h1&gt;
&lt;h2 id=&#34;31-åˆ›å»ºchannel&#34;&gt;3.1 åˆ›å»ºchannel&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬æ–°å»ºä¸€ä¸ªchannelçš„æ—¶å€™ä¸€èˆ¬ä½¿ç”¨ &lt;code&gt;make(chan, n)&lt;/code&gt; è¯­å¥ï¼Œè¿™ä¸ªè¯­å¥çš„æ‰§è¡Œç¼–è¯‘å™¨ä¼šé‡å†™ç„¶åæ‰§è¡Œ chan.goé‡Œé¢çš„ makechanå‡½æ•°ã€‚å‡½æ•°æºç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;makechan&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;chantype&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hchan&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;elem&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;elem&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// compiler checks this but be safe.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;elem&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;throw&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;makechan: invalid channel element type&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;hchanSize&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;maxAlign&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;elem&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;align&lt;/span&gt; &amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;maxAlign&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;throw&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;makechan: bad alignment&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt; &amp;lt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; uintptr(&lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt;) &amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;maxSliceCap&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;elem&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; uintptr(&lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;elem&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt; &amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;maxAlloc&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hchanSize&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		panic(&lt;span style=&#34;color:#a6e22e&#34;&gt;plainError&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;makechan: size out of range&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// Hchan does not contain pointers interesting for GC when elements stored in buf do not contain pointers.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// buf points into the same allocation, elemtype is persistent.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// SudoG&amp;#39;s are referenced from their owning thread so they can&amp;#39;t be collected.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// TODO(dvyukov,rlh): Rethink when collector can move allocated objects.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hchan&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;switch&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;elem&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#75715e&#34;&gt;// Queue or element size is zero.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; = (&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hchan&lt;/span&gt;)(&lt;span style=&#34;color:#a6e22e&#34;&gt;mallocgc&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;hchanSize&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#75715e&#34;&gt;// Race detector uses this location for synchronization.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;buf&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;elem&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;kind&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;kindNoPointers&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#75715e&#34;&gt;// Elements do not contain pointers.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		&lt;span style=&#34;color:#75715e&#34;&gt;// Allocate hchan and buf in one call.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; = (&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hchan&lt;/span&gt;)(&lt;span style=&#34;color:#a6e22e&#34;&gt;mallocgc&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;hchanSize&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;uintptr(&lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;elem&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;buf&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;), &lt;span style=&#34;color:#a6e22e&#34;&gt;hchanSize&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;default&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#75715e&#34;&gt;// Elements contain pointers.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; = new(&lt;span style=&#34;color:#a6e22e&#34;&gt;hchan&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;buf&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;mallocgc&lt;/span&gt;(uintptr(&lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;elem&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;elem&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;elemsize&lt;/span&gt; = uint16(&lt;span style=&#34;color:#a6e22e&#34;&gt;elem&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;elemtype&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;elem&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;dataqsiz&lt;/span&gt; = uint(&lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;debugChan&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		print(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;makechan: chan=&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;; elemsize=&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;elem&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;; elemalg=&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;elem&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;alg&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;; dataqsiz=&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\n&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯channelé‡Œé¢ä¿å­˜çš„å…ƒç´ çš„æ•°æ®ç±»å‹ï¼Œä¸€ä¸ªæ˜¯ç¼“å†²çš„å®¹é‡(å¦‚æœä¸º0è¡¨ç¤ºæ˜¯éç¼“å†²buffer)ï¼Œåˆ›å»ºæµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ ¹æ®ä¼ é€’çš„ç¼“å†²å¤§å°sizeæ˜¯å¦ä¸ºé›¶ï¼Œåˆ†åˆ«åˆ›å»ºä¸å¸¦bufferçš„channelæˆ–åˆ™å¸¦sizeå¤§å°çš„ç¼“å†²channelï¼š
&lt;ul&gt;
&lt;li&gt;å¯¹äºä¸å¸¦ç¼“å†²channelï¼Œç”³è¯·ä¸€ä¸ªhchanæ•°æ®ç»“æ„çš„å†…å­˜å¤§å°ï¼›&lt;/li&gt;
&lt;li&gt;å¯¹äºå¸¦ç¼“å†²channelï¼Œnewä¸€ä¸ªhchanå¯¹è±¡ï¼Œå¹¶åˆå§‹åŒ–bufferå†…å­˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ›´æ–° chanä¸­å¾ªç¯é˜Ÿåˆ—çš„å…³é”®å±æ€§ï¼šelemsizeã€elemtypeã€dataqsizã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åˆ›å»ºchannelçš„è¿‡ç¨‹å®é™…ä¸Šæ˜¯åˆå§‹åŒ–hchanç»“æ„ã€‚å…¶ä¸­ç±»å‹ä¿¡æ¯å’Œç¼“å†²åŒºé•¿åº¦ç”±makeè¯­å¥ä¼ å…¥ï¼Œbufçš„å¤§å°åˆ™ä¸å…ƒç´ å¤§å°å’Œç¼“å†²åŒºé•¿åº¦å…±åŒå†³å®šã€‚&lt;/p&gt;
&lt;p&gt;åˆ›å»ºchannelçš„ä¼ªä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;makechan&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;chantype&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hchan&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hchan&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; = new(&lt;span style=&#34;color:#a6e22e&#34;&gt;hchan&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;buf&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;malloc&lt;/span&gt;(&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å…ƒç´ ç±»å‹å¤§å°&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;elemsize&lt;/span&gt; = &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å…ƒç´ ç±»å‹å¤§å°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;elemtype&lt;/span&gt; = &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å…ƒç´ ç±»å‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;dataqsiz&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;32-åç¨‹å‘channelå†™å…¥æ•°æ®goroutine-sender-data&#34;&gt;3.2 åç¨‹å‘channelå†™å…¥æ•°æ®(goroutine sender data)&lt;/h2&gt;
&lt;p&gt;æ‰€æœ‰æ‰§è¡Œ c &amp;lt; ep å°†epå‘é€åˆ°channelçš„ä»£ç ï¼Œæœ€åéƒ½ä¼šè°ƒç”¨åˆ°chan.goé‡Œé¢çš„ chansendå‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;å‡½æ•°çš„å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;chansend&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hchan&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;ep&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;block&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;callerpc&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;uintptr&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;......&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‡½æ•°æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªä»£è¡¨channelçš„æ•°æ®ç»“æ„ï¼Œç¬¬äºŒä¸ªæ˜¯è¦æŒ‡å‘å†™å…¥çš„æ•°æ®çš„æŒ‡é’ˆï¼Œç¬¬ä¸‰ä¸ªblockä»£è¡¨å†™å…¥æ“ä½œæ˜¯å¦é˜»å¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312175238.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å‘ä¸€ä¸ªchannelä¸­å†™æ•°æ®ç®€å•è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœç­‰å¾…æ¥æ”¶é˜Ÿåˆ—recvqä¸ä¸ºç©ºï¼Œè¯´æ˜ç¼“å†²åŒºä¸­æ²¡æœ‰æ•°æ®æˆ–è€…æ²¡æœ‰ç¼“å†²åŒºï¼Œæ­¤æ—¶ç›´æ¥ä»recvqå–å‡ºG,å¹¶æŠŠæ•°æ®å†™å…¥ï¼Œæœ€åæŠŠè¯¥Gå”¤é†’ï¼Œç»“æŸå‘é€è¿‡ç¨‹ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœç¼“å†²åŒºä¸­æœ‰ç©ºä½™ä½ç½®ï¼Œå°†æ•°æ®å†™å…¥ç¼“å†²åŒºï¼Œç»“æŸå‘é€è¿‡ç¨‹ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœç¼“å†²åŒºä¸­æ²¡æœ‰ç©ºä½™ä½ç½®ï¼Œå°†å¾…å‘é€æ•°æ®å†™å…¥Gï¼Œå°†å½“å‰GåŠ å…¥sendqï¼Œè¿›å…¥ç¡çœ ï¼Œç­‰å¾…è¢«è¯»goroutineå”¤é†’ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æµç¨‹å›¾å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312175356.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;33-åç¨‹ä»channelæ¥æ”¶æ•°æ®goroutine-receive-data&#34;&gt;3.3 åç¨‹ä»channelæ¥æ”¶æ•°æ®(goroutine receive data)&lt;/h2&gt;
&lt;p&gt;æ‰€æœ‰æ‰§è¡Œ &lt;code&gt;ep &amp;lt; c&lt;/code&gt; ä½¿ç”¨epæ¥æ”¶channelæ•°æ®çš„ä»£ç ï¼Œæœ€åéƒ½ä¼šè°ƒç”¨åˆ°chan.goé‡Œé¢çš„ &lt;code&gt;chanrecvå‡½æ•°&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å‡½æ•°çš„å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;chanrecv&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hchan&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;ep&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;block&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;) (&lt;span style=&#34;color:#a6e22e&#34;&gt;selected&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;received&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;......&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»æºç æ³¨é‡Šå°±å¯ä»¥çŸ¥é“ï¼Œè¯¥å‡½æ•°ä»channelé‡Œé¢æ¥æ”¶æ•°æ®ï¼Œç„¶åå°†æ¥æ”¶åˆ°çš„æ•°æ®å†™å…¥åˆ°epæŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡é‡Œé¢ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ä¸ªå‚æ•°blockï¼Œè¡¨ç¤ºå½“channelæ— æ³•è¿”å›æ•°æ®æ—¶æ˜¯å¦é˜»å¡ç­‰å¾…ã€‚å½“block=falseå¹¶ä¸”channelé‡Œé¢æ²¡æœ‰æ•°æ®æ—¶å€™ï¼Œå‡½æ•°ç›´æ¥è¿”å›(false,false)ã€‚
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312175531.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä»ä¸€ä¸ªchannelè¯»æ•°æ®ç®€å•è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœç­‰å¾…å‘é€é˜Ÿåˆ—sendqä¸ä¸ºç©ºï¼Œä¸”æ²¡æœ‰ç¼“å†²åŒºï¼Œç›´æ¥ä»sendqä¸­å–å‡ºGï¼ŒæŠŠGä¸­æ•°æ®è¯»å‡ºï¼Œæœ€åæŠŠGå”¤é†’ï¼Œç»“æŸè¯»å–è¿‡ç¨‹ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœç­‰å¾…å‘é€é˜Ÿåˆ—sendqä¸ä¸ºç©ºï¼Œæ­¤æ—¶è¯´æ˜ç¼“å†²åŒºå·²æ»¡ï¼Œä»ç¼“å†²åŒºä¸­é¦–éƒ¨è¯»å‡ºæ•°æ®ï¼ŒæŠŠGä¸­æ•°æ®å†™å…¥ç¼“å†²åŒºå°¾éƒ¨ï¼ŒæŠŠGå”¤é†’ï¼Œç»“æŸè¯»å–è¿‡ç¨‹ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœç¼“å†²åŒºä¸­æœ‰æ•°æ®ï¼Œåˆ™ä»ç¼“å†²åŒºå–å‡ºæ•°æ®ï¼Œç»“æŸè¯»å–è¿‡ç¨‹ï¼›&lt;/li&gt;
&lt;li&gt;å°†å½“å‰goroutineåŠ å…¥recvqï¼Œè¿›å…¥ç¡çœ ï¼Œç­‰å¾…è¢«å†™goroutineå”¤é†’ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç®€å•æµç¨‹å›¾å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312175628.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;34-å…³é—­channel&#34;&gt;3.4 å…³é—­channel&lt;/h2&gt;
&lt;p&gt;å½“æˆ‘ä»¬æ‰§è¡Œchannelçš„closeæ“ä½œçš„æ—¶å€™ä¼šå…³é—­channelã€‚&lt;/p&gt;
&lt;p&gt;å…³é—­çš„ä¸»è¦æµç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è·å–å…¨å±€é”ï¼›&lt;/li&gt;
&lt;li&gt;è®¾ç½®channelæ•°æ®ç»“æ„chançš„å…³é—­æ ‡å¿—ä½ï¼›&lt;/li&gt;
&lt;li&gt;è·å–å½“å‰channelä¸Šé¢çš„è¯»goroutineå¹¶é“¾æ¥æˆé“¾è¡¨ï¼›&lt;/li&gt;
&lt;li&gt;è·å–å½“å‰channelä¸Šé¢çš„å†™goroutineç„¶åæ‹¼æ¥åˆ°å‰é¢çš„è¯»é“¾è¡¨åé¢ï¼›&lt;/li&gt;
&lt;li&gt;é‡Šæ”¾å…¨å±€é”ï¼›&lt;/li&gt;
&lt;li&gt;å”¤é†’æ‰€æœ‰çš„è¯»å†™goroutineã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å…³é—­channelæ—¶ä¼šæŠŠrecvqä¸­çš„Gå…¨éƒ¨å”¤é†’ï¼Œæœ¬è¯¥å†™å…¥Gçš„æ•°æ®ä½ç½®ä¸ºnilã€‚æŠŠsendqä¸­çš„Gå…¨éƒ¨å”¤é†’ï¼Œä½†è¿™äº›Gä¼španicã€‚&lt;/p&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œpanicå‡ºç°çš„å¸¸è§åœºæ™¯è¿˜æœ‰ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…³é—­å€¼ä¸ºnilçš„channel&lt;/li&gt;
&lt;li&gt;å…³é—­å·²ç»è¢«å…³é—­çš„channel&lt;/li&gt;
&lt;li&gt;å‘å·²ç»å…³é—­çš„channelå†™æ•°æ®&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;section4-å¸¸è§ç”¨æ³•&#34;&gt;Section4 å¸¸è§ç”¨æ³•&lt;/h1&gt;
&lt;h2 id=&#34;41-å•å‘channel&#34;&gt;4.1 å•å‘channel&lt;/h2&gt;
&lt;p&gt;å•å‘channelæŒ‡åªèƒ½ç”¨äºå‘é€æˆ–æ¥æ”¶æ•°æ®ï¼Œå®é™…ä¸Šå¹¶æ²¡æœ‰å•å‘channelã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“channelå¯ä»¥é€šè¿‡å‚æ•°ä¼ é€’ï¼Œæ‰€è°“å•å‘channelåªæ˜¯å¯¹channelçš„ä¸€ç§ä½¿ç”¨é™åˆ¶ï¼Œè¿™è·ŸCè¯­è¨€ä½¿ç”¨constä¿®é¥°å‡½æ•°å‚æ•°ä¸ºåªè¯»æ˜¯ä¸€ä¸ªé“ç†ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;func readChan(chanName &amp;lt;-chan int)ï¼š é€šè¿‡å½¢å‚é™å®šå‡½æ•°å†…éƒ¨åªèƒ½ä»channelä¸­è¯»å–æ•°æ®&lt;/li&gt;
&lt;li&gt;func writeChan(chanName chan&amp;lt;- int)ï¼š é€šè¿‡å½¢å‚é™å®šå‡½æ•°å†…éƒ¨åªèƒ½å‘channelä¸­å†™å…¥æ•°æ®&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ç¨‹åºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;readChan&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;chanName&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;chan&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;chanName&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;writeChan&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;chanName&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;chan&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;chanName&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mychan&lt;/span&gt; = make(&lt;span style=&#34;color:#66d9ef&#34;&gt;chan&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;writeChan&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;mychan&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;readChan&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;mychan&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;mychanæ˜¯ä¸ªæ­£å¸¸çš„channelï¼Œè€ŒreadChan()å‚æ•°é™åˆ¶äº†ä¼ å…¥çš„channelåªèƒ½ç”¨æ¥è¯»ï¼ŒwriteChan()å‚æ•°é™åˆ¶äº†ä¼ å…¥çš„channelåªèƒ½ç”¨æ¥å†™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;42-select&#34;&gt;4.2 select&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨selectå¯ä»¥ç›‘æ§å¤šchannelï¼Œæ¯”å¦‚ç›‘æ§å¤šä¸ªchannelï¼Œå½“å…¶ä¸­æŸä¸€ä¸ªchannelæœ‰æ•°æ®æ—¶ï¼Œå°±ä»å…¶è¯»å‡ºæ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ç¨‹åºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;package&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; (
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;time&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;addNumberToChan&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;chanName&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;chan&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;chanName&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;time&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Sleep&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;time&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Second&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;chan1&lt;/span&gt; = make(&lt;span style=&#34;color:#66d9ef&#34;&gt;chan&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;chan2&lt;/span&gt; = make(&lt;span style=&#34;color:#66d9ef&#34;&gt;chan&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;addNumberToChan&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;chan1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;addNumberToChan&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;chan2&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;select&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;e&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;chan1&lt;/span&gt; :
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Get element from chan1: %d\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;e&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;e&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;chan2&lt;/span&gt; :
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Get element from chan2: %d\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;e&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;default&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;No element in chan1 and chan2.\n&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;time&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Sleep&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;time&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Second&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¨‹åºä¸­åˆ›å»ºä¸¤ä¸ªchannelï¼š chan1å’Œchan2ã€‚å‡½æ•°addNumberToChan()å‡½æ•°ä¼šå‘ä¸¤ä¸ªchannelä¸­å‘¨æœŸæ€§å†™å…¥æ•°æ®ã€‚é€šè¿‡selectå¯ä»¥ç›‘æ§ä¸¤ä¸ªchannelï¼Œä»»æ„ä¸€ä¸ªå¯è¯»æ—¶å°±ä»å…¶ä¸­è¯»å‡ºæ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;ç¨‹åºè¾“å‡ºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;D:&lt;span style=&#34;color:#ae81ff&#34;&gt;\S&lt;/span&gt;ourceCode&lt;span style=&#34;color:#ae81ff&#34;&gt;\G&lt;/span&gt;oExpert&lt;span style=&#34;color:#ae81ff&#34;&gt;\s&lt;/span&gt;rc&amp;gt;go run main.go
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Get element from chan1: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Get element from chan2: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;No element in chan1 and chan2.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Get element from chan2: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Get element from chan1: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;No element in chan1 and chan2.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Get element from chan2: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Get element from chan1: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;No element in chan1 and chan2.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»è¾“å‡ºå¯è§ï¼Œä»channelä¸­è¯»å‡ºæ•°æ®çš„é¡ºåºæ˜¯éšæœºçš„ï¼Œäº‹å®ä¸Šselectè¯­å¥çš„å¤šä¸ªcaseæ‰§è¡Œé¡ºåºæ˜¯éšæœºçš„ï¼Œå…³äºselectçš„å®ç°åŸç†ä¼šæœ‰ä¸“é—¨ç« èŠ‚åˆ†æã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡è¿™ä¸ªç¤ºä¾‹æƒ³è¯´çš„æ˜¯ï¼š&lt;strong&gt;selectçš„caseè¯­å¥è¯»channelä¸ä¼šé˜»å¡&lt;/strong&gt;ï¼Œå°½ç®¡channelä¸­æ²¡æœ‰æ•°æ®ã€‚è¿™æ˜¯ç”±äºcaseè¯­å¥ç¼–è¯‘åè°ƒç”¨è¯»channelæ—¶ä¼š&lt;strong&gt;æ˜ç¡®ä¼ å…¥ä¸é˜»å¡çš„å‚æ•°&lt;/strong&gt;ï¼Œæ­¤æ—¶è¯»ä¸åˆ°æ•°æ®æ—¶ä¸ä¼šå°†å½“å‰goroutineåŠ å…¥åˆ°ç­‰å¾…é˜Ÿåˆ—ï¼Œè€Œæ˜¯ç›´æ¥è¿”å›ã€‚&lt;/p&gt;
&lt;h2 id=&#34;43-range&#34;&gt;4.3 range&lt;/h2&gt;
&lt;p&gt;é€šè¿‡rangeå¯ä»¥æŒç»­ä»channelä¸­è¯»å‡ºæ•°æ®ï¼Œå¥½åƒåœ¨éå†ä¸€ä¸ªæ•°ç»„ä¸€æ ·ï¼Œå½“channelä¸­æ²¡æœ‰æ•°æ®æ—¶ä¼šé˜»å¡å½“å‰goroutineï¼Œä¸è¯»channelæ—¶é˜»å¡å¤„ç†æœºåˆ¶ä¸€æ ·ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;chanRange&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;chanName&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;chan&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;e&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;range&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;chanName&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Get element from chan: %d\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;e&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼šå¦‚æœå‘æ­¤channelå†™æ•°æ®çš„goroutineé€€å‡ºæ—¶ï¼Œç³»ç»Ÿæ£€æµ‹åˆ°è¿™ç§æƒ…å†µåä¼španicï¼Œå¦åˆ™rangeå°†ä¼šæ°¸ä¹…é˜»å¡ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Redisçš„åº•å±‚æ•°æ®ç»“æ„ </title>
        <link>https://lxb.wiki/abddb7fd/</link>
        <pubDate>Tue, 02 Nov 2021 21:21:18 +0000</pubDate>
        
        <guid>https://lxb.wiki/abddb7fd/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h3 id=&#34;1æ¼”ç¤ºæ•°æ®ç±»å‹çš„å®ç°&#34;&gt;1ã€æ¼”ç¤ºæ•°æ®ç±»å‹çš„å®ç°&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;OBJECT ENCODING    key&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¯¥å‘½ä»¤æ˜¯ç”¨æ¥æ˜¾ç¤ºäº”å¤§æ•°æ®ç±»å‹çš„åº•å±‚æ•°æ®ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚å¯¹äº string æ•°æ®ç±»å‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312142322.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°å®ç°stringæ•°æ®ç±»å‹çš„æ•°æ®ç»“æ„æœ‰ embstr ä»¥åŠ intã€‚&lt;/p&gt;
&lt;p&gt;å†æ¯”å¦‚ list æ•°æ®ç±»å‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312142349.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;2ç®€å•åŠ¨æ€å­—ç¬¦ä¸²&#34;&gt;2ã€ç®€å•åŠ¨æ€å­—ç¬¦ä¸²&lt;/h3&gt;
&lt;p&gt;Redis æ˜¯ç”¨ C è¯­è¨€å†™çš„ï¼Œä½†æ˜¯å¯¹äºRedisçš„å­—ç¬¦ä¸²ï¼Œå´ä¸æ˜¯ C è¯­è¨€ä¸­çš„å­—ç¬¦ä¸²ï¼ˆå³ä»¥ç©ºå­—ç¬¦â€™\0â€™ç»“å°¾çš„å­—ç¬¦æ•°ç»„ï¼‰ï¼Œå®ƒæ˜¯è‡ªå·±æ„å»ºäº†ä¸€ç§åä¸º ç®€å•åŠ¨æ€å­—ç¬¦ä¸²ï¼ˆsimple dynamic string,SDSï¼‰çš„æŠ½è±¡ç±»å‹ï¼Œå¹¶å°† SDS ä½œä¸º Redisçš„é»˜è®¤å­—ç¬¦ä¸²è¡¨ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;SDS å®šä¹‰ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; sdshdr{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//è®°å½•bufæ•°ç»„ä¸­å·²ä½¿ç”¨å­—èŠ‚çš„æ•°é‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//ç­‰äº SDS ä¿å­˜å­—ç¬¦ä¸²çš„é•¿åº¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; len;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//è®°å½• buf æ•°ç»„ä¸­æœªä½¿ç”¨å­—èŠ‚çš„æ•°é‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; free;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//å­—èŠ‚æ•°ç»„ï¼Œç”¨äºä¿å­˜å­—ç¬¦ä¸²
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; buf[];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç”¨SDSä¿å­˜å­—ç¬¦ä¸² â€œRedisâ€å…·ä½“å›¾ç¤ºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312142538.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çœ‹ä¸Šé¢å¯¹äº SDS æ•°æ®ç±»å‹çš„å®šä¹‰ï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€1ã€len ä¿å­˜äº†SDSä¿å­˜å­—ç¬¦ä¸²çš„é•¿åº¦&lt;/p&gt;
&lt;p&gt;ã€€ã€€2ã€buf[] æ•°ç»„ç”¨æ¥ä¿å­˜å­—ç¬¦ä¸²çš„æ¯ä¸ªå…ƒç´ &lt;/p&gt;
&lt;p&gt;ã€€ã€€3ã€free jè®°å½•äº† buf æ•°ç»„ä¸­æœªä½¿ç”¨çš„å­—èŠ‚æ•°é‡&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä¸Šé¢çš„å®šä¹‰ç›¸å¯¹äº C è¯­è¨€å¯¹äºå­—ç¬¦ä¸²çš„å®šä¹‰ï¼Œå¤šå‡ºäº† len å±æ€§ä»¥åŠ free å±æ€§ã€‚ä¸ºä»€ä¹ˆä¸ä½¿ç”¨Cè¯­è¨€å­—ç¬¦ä¸²å®ç°ï¼Œè€Œæ˜¯ä½¿ç”¨ SDSå‘¢ï¼Ÿè¿™æ ·å®ç°æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;strong&gt;â‘ ã€å¸¸æ•°å¤æ‚åº¦è·å–å­—ç¬¦ä¸²é•¿åº¦&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€ç”±äº len å±æ€§çš„å­˜åœ¨ï¼Œæˆ‘ä»¬è·å– SDS å­—ç¬¦ä¸²çš„é•¿åº¦åªéœ€è¦è¯»å– len å±æ€§ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚è€Œå¯¹äº C è¯­è¨€ï¼Œè·å–å­—ç¬¦ä¸²çš„é•¿åº¦é€šå¸¸æ˜¯ç»è¿‡éå†è®¡æ•°æ¥å®ç°çš„ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚é€šè¿‡ strlen key å‘½ä»¤å¯ä»¥è·å– key çš„å­—ç¬¦ä¸²é•¿åº¦ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;strong&gt;â‘¡ã€æœç»ç¼“å†²åŒºæº¢å‡º&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€æˆ‘ä»¬çŸ¥é“åœ¨ C è¯­è¨€ä¸­ä½¿ç”¨ strcat å‡½æ•°æ¥è¿›è¡Œä¸¤ä¸ªå­—ç¬¦ä¸²çš„æ‹¼æ¥ï¼Œä¸€æ—¦æ²¡æœ‰åˆ†é…è¶³å¤Ÿé•¿åº¦çš„å†…å­˜ç©ºé—´ï¼Œå°±ä¼šé€ æˆç¼“å†²åŒºæº¢å‡ºã€‚è€Œå¯¹äº SDS æ•°æ®ç±»å‹ï¼Œåœ¨è¿›è¡Œå­—ç¬¦ä¿®æ”¹çš„æ—¶å€™ï¼Œä¼šé¦–å…ˆæ ¹æ®è®°å½•çš„ len å±æ€§æ£€æŸ¥å†…å­˜ç©ºé—´æ˜¯å¦æ»¡è¶³éœ€æ±‚ï¼Œå¦‚æœä¸æ»¡è¶³ï¼Œä¼šè¿›è¡Œç›¸åº”çš„ç©ºé—´æ‰©å±•ï¼Œç„¶ååœ¨è¿›è¡Œä¿®æ”¹æ“ä½œï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°ç¼“å†²åŒºæº¢å‡ºã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;strong&gt;â‘¢ã€å‡å°‘ä¿®æ”¹å­—ç¬¦ä¸²çš„å†…å­˜é‡æ–°åˆ†é…æ¬¡æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€Cè¯­è¨€ç”±äºä¸è®°å½•å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œæ‰€ä»¥å¦‚æœè¦ä¿®æ”¹å­—ç¬¦ä¸²ï¼Œå¿…é¡»è¦é‡æ–°åˆ†é…å†…å­˜ï¼ˆå…ˆé‡Šæ”¾å†ç”³è¯·ï¼‰ï¼Œå› ä¸ºå¦‚æœæ²¡æœ‰é‡æ–°åˆ†é…ï¼Œå­—ç¬¦ä¸²é•¿åº¦å¢å¤§æ—¶ä¼šé€ æˆå†…å­˜ç¼“å†²åŒºæº¢å‡ºï¼Œå­—ç¬¦ä¸²é•¿åº¦å‡å°æ—¶ä¼šé€ æˆå†…å­˜æ³„éœ²ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€è€Œå¯¹äºSDSï¼Œç”±äºlenå±æ€§å’Œfreeå±æ€§çš„å­˜åœ¨ï¼Œå¯¹äºä¿®æ”¹å­—ç¬¦ä¸²SDSå®ç°äº†ç©ºé—´é¢„åˆ†é…å’Œæƒ°æ€§ç©ºé—´é‡Šæ”¾ä¸¤ç§ç­–ç•¥ï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€1ã€ç©ºé—´é¢„åˆ†é…ï¼šå¯¹å­—ç¬¦ä¸²è¿›è¡Œç©ºé—´æ‰©å±•çš„æ—¶å€™ï¼Œæ‰©å±•çš„å†…å­˜æ¯”å®é™…éœ€è¦çš„å¤šï¼Œè¿™æ ·å¯ä»¥å‡å°‘è¿ç»­æ‰§è¡Œå­—ç¬¦ä¸²å¢é•¿æ“ä½œæ‰€éœ€çš„å†…å­˜é‡åˆ†é…æ¬¡æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€2ã€æƒ°æ€§ç©ºé—´é‡Šæ”¾ï¼šå¯¹å­—ç¬¦ä¸²è¿›è¡Œç¼©çŸ­æ“ä½œæ—¶ï¼Œç¨‹åºä¸ç«‹å³ä½¿ç”¨å†…å­˜é‡æ–°åˆ†é…æ¥å›æ”¶ç¼©çŸ­åå¤šä½™çš„å­—èŠ‚ï¼Œè€Œæ˜¯ä½¿ç”¨ free å±æ€§å°†è¿™äº›å­—èŠ‚çš„æ•°é‡è®°å½•ä¸‹æ¥ï¼Œç­‰å¾…åç»­ä½¿ç”¨ã€‚ï¼ˆå½“ç„¶SDSä¹Ÿæä¾›äº†ç›¸åº”çš„APIï¼Œå½“æˆ‘ä»¬æœ‰éœ€è¦æ—¶ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨é‡Šæ”¾è¿™äº›æœªä½¿ç”¨çš„ç©ºé—´ã€‚ï¼‰&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;strong&gt;â‘£ã€äºŒè¿›åˆ¶å®‰å…¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€å› ä¸ºCå­—ç¬¦ä¸²ä»¥ç©ºå­—ç¬¦ä½œä¸ºå­—ç¬¦ä¸²ç»“æŸçš„æ ‡è¯†ï¼Œè€Œå¯¹äºä¸€äº›äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå¦‚å›¾ç‰‡ç­‰ï¼‰ï¼Œå†…å®¹å¯èƒ½åŒ…æ‹¬ç©ºå­—ç¬¦ä¸²ï¼Œå› æ­¤Cå­—ç¬¦ä¸²æ— æ³•æ­£ç¡®å­˜å–ï¼›è€Œæ‰€æœ‰ SDS çš„API éƒ½æ˜¯ä»¥å¤„ç†äºŒè¿›åˆ¶çš„æ–¹å¼æ¥å¤„ç† buf é‡Œé¢çš„å…ƒç´ ï¼Œå¹¶ä¸” SDS ä¸æ˜¯ä»¥ç©ºå­—ç¬¦ä¸²æ¥åˆ¤æ–­æ˜¯å¦ç»“æŸï¼Œè€Œæ˜¯ä»¥ len å±æ€§è¡¨ç¤ºçš„é•¿åº¦æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ç»“æŸã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;strong&gt;â‘¤ã€å…¼å®¹éƒ¨åˆ† C å­—ç¬¦ä¸²å‡½æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€è™½ç„¶ SDS æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„ï¼Œä½†æ˜¯ä¸€æ ·éµä»æ¯ä¸ªå­—ç¬¦ä¸²éƒ½æ˜¯ä»¥ç©ºå­—ç¬¦ä¸²ç»“å°¾çš„æƒ¯ä¾‹ï¼Œè¿™æ ·å¯ä»¥é‡ç”¨ C è¯­è¨€åº“&amp;lt;string.h&amp;gt; ä¸­çš„ä¸€éƒ¨åˆ†å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;strong&gt;â‘¥ã€æ€»ç»“&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312142712.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼ŒSDS é™¤äº†ä¿å­˜æ•°æ®åº“ä¸­çš„å­—ç¬¦ä¸²å€¼ä»¥å¤–ï¼ŒSDS è¿˜å¯ä»¥ä½œä¸ºç¼“å†²åŒºï¼ˆbufferï¼‰ï¼šåŒ…æ‹¬ AOF æ¨¡å—ä¸­çš„AOFç¼“å†²åŒºä»¥åŠå®¢æˆ·ç«¯çŠ¶æ€ä¸­çš„è¾“å…¥ç¼“å†²åŒºã€‚åé¢åœ¨ä»‹ç»Redisçš„æŒä¹…åŒ–æ—¶ä¼šè¿›è¡Œä»‹ç»ã€‚&lt;/p&gt;
&lt;h3 id=&#34;3é“¾è¡¨&#34;&gt;3ã€é“¾è¡¨&lt;/h3&gt;
&lt;p&gt;é“¾è¡¨æ˜¯ä¸€ç§å¸¸ç”¨çš„æ•°æ®ç»“æ„ï¼ŒC è¯­è¨€å†…éƒ¨æ˜¯æ²¡æœ‰å†…ç½®è¿™ç§æ•°æ®ç»“æ„çš„å®ç°ï¼Œæ‰€ä»¥Redisè‡ªå·±æ„å»ºäº†é“¾è¡¨çš„å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€é“¾è¡¨å®šä¹‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; listNode{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       &lt;span style=&#34;color:#75715e&#34;&gt;//å‰ç½®èŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; listNode &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;prev;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       &lt;span style=&#34;color:#75715e&#34;&gt;//åç½®èŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; listNode &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;next;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       &lt;span style=&#34;color:#75715e&#34;&gt;//èŠ‚ç‚¹çš„å€¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;value;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}listNode
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é€šè¿‡å¤šä¸ª listNode ç»“æ„å°±å¯ä»¥ç»„æˆé“¾è¡¨ï¼Œè¿™æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼ŒRedisè¿˜æä¾›äº†æ“ä½œé“¾è¡¨çš„æ•°æ®ç»“æ„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; list{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//è¡¨å¤´èŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     listNode &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;head;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//è¡¨å°¾èŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     listNode &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;tail;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//é“¾è¡¨æ‰€åŒ…å«çš„èŠ‚ç‚¹æ•°é‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; len;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//èŠ‚ç‚¹å€¼å¤åˆ¶å‡½æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; (&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;free) (&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;ptr);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//èŠ‚ç‚¹å€¼é‡Šæ”¾å‡½æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; (&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;free) (&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;ptr);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//èŠ‚ç‚¹å€¼å¯¹æ¯”å‡½æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; (&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;match) (&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;ptr,&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;key);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}list;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312143157.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Redisé“¾è¡¨ç‰¹æ€§ï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€â‘ ã€åŒç«¯ï¼šé“¾è¡¨å…·æœ‰å‰ç½®èŠ‚ç‚¹å’Œåç½®èŠ‚ç‚¹çš„å¼•ç”¨ï¼Œè·å–è¿™ä¸¤ä¸ªèŠ‚ç‚¹æ—¶é—´å¤æ‚åº¦éƒ½ä¸ºO(1)ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€â‘¡ã€æ— ç¯ï¼šè¡¨å¤´èŠ‚ç‚¹çš„ prev æŒ‡é’ˆå’Œè¡¨å°¾èŠ‚ç‚¹çš„ next æŒ‡é’ˆéƒ½æŒ‡å‘ NULL,å¯¹é“¾è¡¨çš„è®¿é—®éƒ½æ˜¯ä»¥ NULL ç»“æŸã€‚ã€€ã€€&lt;/p&gt;
&lt;p&gt;ã€€ã€€â‘¢ã€å¸¦é“¾è¡¨é•¿åº¦è®¡æ•°å™¨ï¼šé€šè¿‡ len å±æ€§è·å–é“¾è¡¨é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€â‘£ã€å¤šæ€ï¼šé“¾è¡¨èŠ‚ç‚¹ä½¿ç”¨ void* æŒ‡é’ˆæ¥ä¿å­˜èŠ‚ç‚¹å€¼ï¼Œå¯ä»¥ä¿å­˜å„ç§ä¸åŒç±»å‹çš„å€¼ã€‚&lt;/p&gt;
&lt;h3 id=&#34;4å­—å…¸&#34;&gt;4ã€å­—å…¸&lt;/h3&gt;
&lt;p&gt;å­—å…¸åˆç§°ä¸ºç¬¦å·è¡¨æˆ–è€…å…³è”æ•°ç»„ã€æˆ–æ˜ å°„ï¼ˆmapï¼‰ï¼Œæ˜¯ä¸€ç§ç”¨äºä¿å­˜é”®å€¼å¯¹çš„æŠ½è±¡æ•°æ®ç»“æ„ã€‚å­—å…¸ä¸­çš„æ¯ä¸€ä¸ªé”® key éƒ½æ˜¯å”¯ä¸€çš„ï¼Œé€šè¿‡ key å¯ä»¥å¯¹å€¼æ¥è¿›è¡ŒæŸ¥æ‰¾æˆ–ä¿®æ”¹ã€‚C è¯­è¨€ä¸­æ²¡æœ‰å†…ç½®è¿™ç§æ•°æ®ç»“æ„çš„å®ç°ï¼Œæ‰€ä»¥å­—å…¸ä¾ç„¶æ˜¯ Redisè‡ªå·±æ„å»ºçš„ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€Redis çš„å­—å…¸ä½¿ç”¨å“ˆå¸Œè¡¨ä½œä¸ºåº•å±‚å®ç°&lt;/p&gt;
&lt;p&gt;ã€€ã€€å“ˆå¸Œè¡¨ç»“æ„å®šä¹‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; dictht{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//å“ˆå¸Œè¡¨æ•°ç»„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     dictEntry &lt;span style=&#34;color:#f92672&#34;&gt;**&lt;/span&gt;table;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//å“ˆå¸Œè¡¨å¤§å°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; size;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//å“ˆå¸Œè¡¨å¤§å°æ©ç ï¼Œç”¨äºè®¡ç®—ç´¢å¼•å€¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//æ€»æ˜¯ç­‰äº size-1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; sizemask;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//è¯¥å“ˆå¸Œè¡¨å·²æœ‰èŠ‚ç‚¹çš„æ•°é‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; used;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}dictht
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å“ˆå¸Œè¡¨æ˜¯ç”±æ•°ç»„ table ç»„æˆï¼Œtable ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯æŒ‡å‘ dict.h/dictEntry ç»“æ„ï¼ŒdictEntry ç»“æ„å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; dictEntry{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//é”®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;key;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//å€¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;union&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;val;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          uint64_tu64;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          int64_ts64;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     }v;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//æŒ‡å‘ä¸‹ä¸€ä¸ªå“ˆå¸Œè¡¨èŠ‚ç‚¹ï¼Œå½¢æˆé“¾è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; dictEntry &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;next;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}dictEntry
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;key ç”¨æ¥ä¿å­˜é”®ï¼Œval å±æ€§ç”¨æ¥ä¿å­˜å€¼ï¼Œå€¼å¯ä»¥æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä¹Ÿå¯ä»¥æ˜¯uint64_tæ•´æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯int64_tæ•´æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€æ³¨æ„è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªå“ˆå¸Œè¡¨èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œæˆ‘ä»¬çŸ¥é“å“ˆå¸Œè¡¨æœ€å¤§çš„é—®é¢˜æ˜¯å­˜åœ¨å“ˆå¸Œå†²çªï¼Œå¦‚ä½•è§£å†³å“ˆå¸Œå†²çªï¼Œæœ‰å¼€æ”¾åœ°å€æ³•å’Œé“¾åœ°å€æ³•ã€‚è¿™é‡Œé‡‡ç”¨çš„ä¾¿æ˜¯é“¾åœ°å€æ³•ï¼Œé€šè¿‡nextè¿™ä¸ªæŒ‡é’ˆå¯ä»¥å°†å¤šä¸ªå“ˆå¸Œå€¼ç›¸åŒçš„é”®å€¼å¯¹è¿æ¥åœ¨ä¸€èµ·ï¼Œç”¨æ¥è§£å†³&lt;strong&gt;å“ˆå¸Œå†²çª&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312143330.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;**â‘ ã€å“ˆå¸Œç®—æ³•ï¼š**Redisè®¡ç®—å“ˆå¸Œå€¼å’Œç´¢å¼•å€¼æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#1ã€ä½¿ç”¨å­—å…¸è®¾ç½®çš„å“ˆå¸Œå‡½æ•°ï¼Œè®¡ç®—é”® key çš„å“ˆå¸Œå€¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;hash &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; dict&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;type&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hashFunction&lt;/span&gt;(key);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#2ã€ä½¿ç”¨å“ˆå¸Œè¡¨çš„sizemaskå±æ€§å’Œç¬¬ä¸€æ­¥å¾—åˆ°çš„å“ˆå¸Œå€¼ï¼Œè®¡ç®—ç´¢å¼•å€¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;index &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; hash &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; dict&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;ht[x].sizemask;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;**â‘¡ã€è§£å†³å“ˆå¸Œå†²çªï¼š**è¿™ä¸ªé—®é¢˜ä¸Šé¢æˆ‘ä»¬ä»‹ç»äº†ï¼Œæ–¹æ³•æ˜¯é“¾åœ°å€æ³•ã€‚é€šè¿‡å­—å…¸é‡Œé¢çš„ *next æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…·æœ‰ç›¸åŒç´¢å¼•å€¼çš„å“ˆå¸Œè¡¨èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€**â‘¢ã€æ‰©å®¹å’Œæ”¶ç¼©ï¼š**å½“å“ˆå¸Œè¡¨ä¿å­˜çš„é”®å€¼å¯¹å¤ªå¤šæˆ–è€…å¤ªå°‘æ—¶ï¼Œå°±è¦é€šè¿‡ rerehash(é‡æ–°æ•£åˆ—ï¼‰æ¥å¯¹å“ˆå¸Œè¡¨è¿›è¡Œç›¸åº”çš„æ‰©å±•æˆ–è€…æ”¶ç¼©ã€‚å…·ä½“æ­¥éª¤ï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€ã€€ã€€ã€€ã€€1ã€å¦‚æœæ‰§è¡Œæ‰©å±•æ“ä½œï¼Œä¼šåŸºäºåŸå“ˆå¸Œè¡¨åˆ›å»ºä¸€ä¸ªå¤§å°ç­‰äº ht[0].used*2n çš„å“ˆå¸Œè¡¨ï¼ˆä¹Ÿå°±æ˜¯æ¯æ¬¡æ‰©å±•éƒ½æ˜¯æ ¹æ®åŸå“ˆå¸Œè¡¨å·²ä½¿ç”¨çš„ç©ºé—´æ‰©å¤§ä¸€å€åˆ›å»ºå¦ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼‰ã€‚ç›¸åå¦‚æœæ‰§è¡Œçš„æ˜¯æ”¶ç¼©æ“ä½œï¼Œæ¯æ¬¡æ”¶ç¼©æ˜¯æ ¹æ®å·²ä½¿ç”¨ç©ºé—´ç¼©å°ä¸€å€åˆ›å»ºä¸€ä¸ªæ–°çš„å“ˆå¸Œè¡¨ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ã€€ã€€ã€€ã€€2ã€é‡æ–°åˆ©ç”¨ä¸Šé¢çš„å“ˆå¸Œç®—æ³•ï¼Œè®¡ç®—ç´¢å¼•å€¼ï¼Œç„¶åå°†é”®å€¼å¯¹æ”¾åˆ°æ–°çš„å“ˆå¸Œè¡¨ä½ç½®ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ã€€ã€€ã€€ã€€3ã€æ‰€æœ‰é”®å€¼å¯¹éƒ½è¿å¾™å®Œæ¯•åï¼Œé‡Šæ”¾åŸå“ˆå¸Œè¡¨çš„å†…å­˜ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;strong&gt;â‘£ã€è§¦å‘æ‰©å®¹çš„æ¡ä»¶ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€ã€€ã€€ã€€ã€€1ã€æœåŠ¡å™¨ç›®å‰æ²¡æœ‰æ‰§è¡Œ BGSAVE å‘½ä»¤æˆ–è€… BGREWRITEAOF å‘½ä»¤ï¼Œå¹¶ä¸”è´Ÿè½½å› å­å¤§äºç­‰äº1ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ã€€ã€€ã€€ã€€2ã€æœåŠ¡å™¨ç›®å‰æ­£åœ¨æ‰§è¡Œ BGSAVE å‘½ä»¤æˆ–è€… BGREWRITEAOF å‘½ä»¤ï¼Œå¹¶ä¸”è´Ÿè½½å› å­å¤§äºç­‰äº5ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ã€€ã€€psï¼šè´Ÿè½½å› å­ = å“ˆå¸Œè¡¨å·²ä¿å­˜èŠ‚ç‚¹æ•°é‡ / å“ˆå¸Œè¡¨å¤§å°ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;strong&gt;â‘¤ã€æ¸è¿‘å¼ rehash&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€ã€€ã€€ä»€ä¹ˆå«æ¸è¿›å¼ rehashï¼Ÿä¹Ÿå°±æ˜¯è¯´æ‰©å®¹å’Œæ”¶ç¼©æ“ä½œä¸æ˜¯ä¸€æ¬¡æ€§ã€é›†ä¸­å¼å®Œæˆçš„ï¼Œè€Œæ˜¯åˆ†å¤šæ¬¡ã€æ¸è¿›å¼å®Œæˆçš„ã€‚å¦‚æœä¿å­˜åœ¨Redisä¸­çš„é”®å€¼å¯¹åªæœ‰å‡ ä¸ªå‡ åä¸ªï¼Œé‚£ä¹ˆ rehash æ“ä½œå¯ä»¥ç¬é—´å®Œæˆï¼Œä½†æ˜¯å¦‚æœé”®å€¼å¯¹æœ‰å‡ ç™¾ä¸‡ï¼Œå‡ åƒä¸‡ç”šè‡³å‡ äº¿ï¼Œé‚£ä¹ˆè¦ä¸€æ¬¡æ€§çš„è¿›è¡Œ rehashï¼ŒåŠ¿å¿…ä¼šé€ æˆRedisä¸€æ®µæ—¶é—´å†…ä¸èƒ½è¿›è¡Œåˆ«çš„æ“ä½œã€‚æ‰€ä»¥Redisé‡‡ç”¨æ¸è¿›å¼ rehash,è¿™æ ·åœ¨è¿›è¡Œæ¸è¿›å¼rehashæœŸé—´ï¼Œå­—å…¸çš„åˆ é™¤æŸ¥æ‰¾æ›´æ–°ç­‰æ“ä½œå¯èƒ½ä¼šåœ¨ä¸¤ä¸ªå“ˆå¸Œè¡¨ä¸Šè¿›è¡Œï¼Œç¬¬ä¸€ä¸ªå“ˆå¸Œè¡¨æ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ä¼šå»ç¬¬äºŒä¸ªå“ˆå¸Œè¡¨ä¸Šè¿›è¡ŒæŸ¥æ‰¾ã€‚ä½†æ˜¯è¿›è¡Œ å¢åŠ æ“ä½œï¼Œä¸€å®šæ˜¯åœ¨æ–°çš„å“ˆå¸Œè¡¨ä¸Šè¿›è¡Œçš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;5è·³è·ƒè¡¨&#34;&gt;5ã€è·³è·ƒè¡¨&lt;/h3&gt;
&lt;p&gt;è·³è·ƒè¡¨ï¼ˆskiplistï¼‰æ˜¯ä¸€ç§æœ‰åºæ•°æ®ç»“æ„ï¼Œå®ƒé€šè¿‡åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸­ç»´æŒå¤šä¸ªæŒ‡å‘å…¶å®ƒèŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œä»è€Œè¾¾åˆ°å¿«é€Ÿè®¿é—®èŠ‚ç‚¹çš„ç›®çš„ã€‚å…·æœ‰å¦‚ä¸‹æ€§è´¨ï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€1ã€ç”±å¾ˆå¤šå±‚ç»“æ„ç»„æˆï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€2ã€æ¯ä¸€å±‚éƒ½æ˜¯ä¸€ä¸ªæœ‰åºçš„é“¾è¡¨ï¼Œæ’åˆ—é¡ºåºä¸ºç”±é«˜å±‚åˆ°åº•å±‚ï¼Œéƒ½è‡³å°‘åŒ…å«ä¸¤ä¸ªé“¾è¡¨èŠ‚ç‚¹ï¼Œåˆ†åˆ«æ˜¯å‰é¢çš„headèŠ‚ç‚¹å’Œåé¢çš„nilèŠ‚ç‚¹ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€3ã€æœ€åº•å±‚çš„é“¾è¡¨åŒ…å«äº†æ‰€æœ‰çš„å…ƒç´ ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€4ã€å¦‚æœä¸€ä¸ªå…ƒç´ å‡ºç°åœ¨æŸä¸€å±‚çš„é“¾è¡¨ä¸­ï¼Œé‚£ä¹ˆåœ¨è¯¥å±‚ä¹‹ä¸‹çš„é“¾è¡¨ä¹Ÿå…¨éƒ½ä¼šå‡ºç°ï¼ˆä¸Šä¸€å±‚çš„å…ƒç´ æ˜¯å½“å‰å±‚çš„å…ƒç´ çš„å­é›†ï¼‰ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€5ã€é“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½åŒ…å«ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘åŒä¸€å±‚çš„ä¸‹ä¸€ä¸ªé“¾è¡¨èŠ‚ç‚¹ï¼Œå¦ä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€å±‚çš„åŒä¸€ä¸ªé“¾è¡¨èŠ‚ç‚¹ï¼›&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312143603.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Redisä¸­è·³è·ƒè¡¨èŠ‚ç‚¹å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; zskiplistNode {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//å±‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; zskiplistLevel{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;           &lt;span style=&#34;color:#75715e&#34;&gt;//å‰è¿›æŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;           &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; zskiplistNode &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;forward;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;           &lt;span style=&#34;color:#75715e&#34;&gt;//è·¨åº¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;           &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; span;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     }level[];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//åé€€æŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; zskiplistNode &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;backward;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//åˆ†å€¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;double&lt;/span&gt; score;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//æˆå‘˜å¯¹è±¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     robj &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;obj;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} zskiplistNode
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¤šä¸ªè·³è·ƒè¡¨èŠ‚ç‚¹æ„æˆä¸€ä¸ªè·³è·ƒè¡¨ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; zskiplist{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//è¡¨å¤´èŠ‚ç‚¹å’Œè¡¨å°¾èŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     structz skiplistNode &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;header, &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;tail;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//è¡¨ä¸­èŠ‚ç‚¹çš„æ•°é‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; length;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//è¡¨ä¸­å±‚æ•°æœ€å¤§çš„èŠ‚ç‚¹çš„å±‚æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; level;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}zskiplist;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312143819.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;â‘ ã€æœç´¢ï¼šä»æœ€é«˜å±‚çš„é“¾è¡¨èŠ‚ç‚¹å¼€å§‹ï¼Œå¦‚æœæ¯”å½“å‰èŠ‚ç‚¹è¦å¤§å’Œæ¯”å½“å‰å±‚çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹è¦å°ï¼Œé‚£ä¹ˆåˆ™å¾€ä¸‹æ‰¾ï¼Œä¹Ÿå°±æ˜¯å’Œå½“å‰å±‚çš„ä¸‹ä¸€å±‚çš„èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œä»¥æ­¤ç±»æ¨ï¼Œä¸€ç›´æ‰¾åˆ°æœ€åº•å±‚çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœæ‰¾åˆ°åˆ™è¿”å›ï¼Œåä¹‹åˆ™è¿”å›ç©ºã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€â‘¡ã€æ’å…¥ï¼šé¦–å…ˆç¡®å®šæ’å…¥çš„å±‚æ•°ï¼Œæœ‰ä¸€ç§æ–¹æ³•æ˜¯å‡è®¾æŠ›ä¸€æšç¡¬å¸ï¼Œå¦‚æœæ˜¯æ­£é¢å°±ç´¯åŠ ï¼Œç›´åˆ°é‡è§åé¢ä¸ºæ­¢ï¼Œæœ€åè®°å½•æ­£é¢çš„æ¬¡æ•°ä½œä¸ºæ’å…¥çš„å±‚æ•°ã€‚å½“ç¡®å®šæ’å…¥çš„å±‚æ•°kåï¼Œåˆ™éœ€è¦å°†æ–°å…ƒç´ æ’å…¥åˆ°ä»åº•å±‚åˆ°kå±‚ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€â‘¢ã€åˆ é™¤ï¼šåœ¨å„ä¸ªå±‚ä¸­æ‰¾åˆ°åŒ…å«æŒ‡å®šå€¼çš„èŠ‚ç‚¹ï¼Œç„¶åå°†èŠ‚ç‚¹ä»é“¾è¡¨ä¸­åˆ é™¤å³å¯ï¼Œå¦‚æœåˆ é™¤ä»¥ååªå‰©ä¸‹å¤´å°¾ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œåˆ™åˆ é™¤è¿™ä¸€å±‚ã€‚&lt;/p&gt;
&lt;h3 id=&#34;6æ•´æ•°é›†åˆ&#34;&gt;6ã€æ•´æ•°é›†åˆ&lt;/h3&gt;
&lt;p&gt;æ•´æ•°é›†åˆï¼ˆintsetï¼‰æ˜¯Redisç”¨äºä¿å­˜æ•´æ•°å€¼çš„é›†åˆæŠ½è±¡æ•°æ®ç±»å‹ï¼Œå®ƒå¯ä»¥ä¿å­˜ç±»å‹ä¸ºint16_tã€int32_t æˆ–è€…int64_t çš„æ•´æ•°å€¼ï¼Œå¹¶ä¸”ä¿è¯é›†åˆä¸­ä¸ä¼šå‡ºç°é‡å¤å…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; intset{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//ç¼–ç æ–¹å¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;uint32_t&lt;/span&gt; encoding;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//é›†åˆåŒ…å«çš„å…ƒç´ æ•°é‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;uint32_t&lt;/span&gt; length;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;//ä¿å­˜å…ƒç´ çš„æ•°ç»„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;int8_t&lt;/span&gt; contents[];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}intset;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ•´æ•°é›†åˆçš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ contents æ•°ç»„çš„ä¸€ä¸ªæ•°æ®é¡¹ï¼Œå®ƒä»¬æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºæ’åˆ—ï¼Œå¹¶ä¸”ä¸åŒ…å«ä»»ä½•é‡å¤é¡¹ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€length å±æ€§è®°å½•äº† contents æ•°ç»„çš„å¤§å°ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€éœ€è¦æ³¨æ„çš„æ˜¯è™½ç„¶ contents æ•°ç»„å£°æ˜ä¸º int8_t ç±»å‹ï¼Œä½†æ˜¯å®é™…ä¸Šcontents æ•°ç»„å¹¶ä¸ä¿å­˜ä»»ä½• int8_t ç±»å‹çš„å€¼ï¼Œå…¶çœŸæ­£ç±»å‹æœ‰ encoding æ¥å†³å®šã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;strong&gt;â‘ ã€å‡çº§&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€å½“æˆ‘ä»¬æ–°å¢çš„å…ƒç´ ç±»å‹æ¯”åŸé›†åˆå…ƒç´ ç±»å‹çš„é•¿åº¦è¦å¤§æ—¶ï¼Œéœ€è¦å¯¹æ•´æ•°é›†åˆè¿›è¡Œå‡çº§ï¼Œæ‰èƒ½å°†æ–°å…ƒç´ æ”¾å…¥æ•´æ•°é›†åˆä¸­ã€‚å…·ä½“æ­¥éª¤ï¼š&lt;/p&gt;
&lt;p&gt;ã€€ã€€1ã€æ ¹æ®æ–°å…ƒç´ ç±»å‹ï¼Œæ‰©å±•æ•´æ•°é›†åˆåº•å±‚æ•°ç»„çš„å¤§å°ï¼Œå¹¶ä¸ºæ–°å…ƒç´ åˆ†é…ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€2ã€å°†åº•å±‚æ•°ç»„ç°æœ‰çš„æ‰€æœ‰å…ƒç´ éƒ½è½¬æˆä¸æ–°å…ƒç´ ç›¸åŒç±»å‹çš„å…ƒç´ ï¼Œå¹¶å°†è½¬æ¢åçš„å…ƒç´ æ”¾åˆ°æ­£ç¡®çš„ä½ç½®ï¼Œæ”¾ç½®è¿‡ç¨‹ä¸­ï¼Œç»´æŒæ•´ä¸ªå…ƒç´ é¡ºåºéƒ½æ˜¯æœ‰åºçš„ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€3ã€å°†æ–°å…ƒç´ æ·»åŠ åˆ°æ•´æ•°é›†åˆä¸­ï¼ˆä¿è¯æœ‰åºï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€å‡çº§èƒ½æå¤§åœ°èŠ‚çœå†…å­˜ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;strong&gt;â‘¡ã€é™çº§&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€æ•´æ•°é›†åˆä¸æ”¯æŒé™çº§æ“ä½œï¼Œä¸€æ—¦å¯¹æ•°ç»„è¿›è¡Œäº†å‡çº§ï¼Œç¼–ç å°±ä¼šä¸€ç›´ä¿æŒå‡çº§åçš„çŠ¶æ€ã€‚&lt;/p&gt;
&lt;h3 id=&#34;7å‹ç¼©åˆ—è¡¨&#34;&gt;7ã€å‹ç¼©åˆ—è¡¨&lt;/h3&gt;
&lt;p&gt;å‹ç¼©åˆ—è¡¨ï¼ˆziplistï¼‰æ˜¯Redisä¸ºäº†èŠ‚çœå†…å­˜è€Œå¼€å‘çš„ï¼Œæ˜¯ç”±ä¸€ç³»åˆ—ç‰¹æ®Šç¼–ç çš„è¿ç»­å†…å­˜å—ç»„æˆçš„é¡ºåºå‹æ•°æ®ç»“æ„ï¼Œä¸€ä¸ªå‹ç¼©åˆ—è¡¨å¯ä»¥åŒ…å«ä»»æ„å¤šä¸ªèŠ‚ç‚¹ï¼ˆentryï¼‰ï¼Œæ¯ä¸ªèŠ‚ç‚¹å¯ä»¥ä¿å­˜ä¸€ä¸ªå­—èŠ‚æ•°ç»„æˆ–è€…ä¸€ä¸ªæ•´æ•°å€¼ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;strong&gt;å‹ç¼©åˆ—è¡¨çš„åŸç†ï¼šå‹ç¼©åˆ—è¡¨å¹¶ä¸æ˜¯å¯¹æ•°æ®åˆ©ç”¨æŸç§ç®—æ³•è¿›è¡Œå‹ç¼©ï¼Œè€Œæ˜¯å°†æ•°æ®æŒ‰ç…§ä¸€å®šè§„åˆ™ç¼–ç åœ¨ä¸€å—è¿ç»­çš„å†…å­˜åŒºåŸŸï¼Œç›®çš„æ˜¯èŠ‚çœå†…å­˜ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312144033.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ã€€å‹ç¼©åˆ—è¡¨çš„æ¯ä¸ªèŠ‚ç‚¹æ„æˆå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220312144116.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;â‘ ã€previous_entry_engthï¼šè®°å½•å‹ç¼©åˆ—è¡¨å‰ä¸€ä¸ªå­—èŠ‚çš„é•¿åº¦ã€‚previous_entry_engthçš„é•¿åº¦å¯èƒ½æ˜¯1ä¸ªå­—èŠ‚æˆ–è€…æ˜¯5ä¸ªå­—èŠ‚ï¼Œå¦‚æœä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„é•¿åº¦å°äº254ï¼Œåˆ™è¯¥èŠ‚ç‚¹åªéœ€è¦ä¸€ä¸ªå­—èŠ‚å°±å¯ä»¥è¡¨ç¤ºå‰ä¸€ä¸ªèŠ‚ç‚¹çš„é•¿åº¦äº†ï¼Œå¦‚æœå‰ä¸€ä¸ªèŠ‚ç‚¹çš„é•¿åº¦å¤§äºç­‰äº254ï¼Œåˆ™previous lengthçš„ç¬¬ä¸€ä¸ªå­—èŠ‚ä¸º254ï¼Œåé¢ç”¨å››ä¸ªå­—èŠ‚è¡¨ç¤ºå½“å‰èŠ‚ç‚¹å‰ä¸€ä¸ªèŠ‚ç‚¹çš„é•¿åº¦ã€‚åˆ©ç”¨æ­¤åŸç†å³å½“å‰èŠ‚ç‚¹ä½ç½®å‡å»ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„é•¿åº¦å³å¾—åˆ°ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„èµ·å§‹ä½ç½®ï¼Œå‹ç¼©åˆ—è¡¨å¯ä»¥ä»å°¾éƒ¨å‘å¤´éƒ¨éå†ã€‚è¿™ä¹ˆåšå¾ˆæœ‰æ•ˆåœ°å‡å°‘äº†å†…å­˜çš„æµªè´¹ã€‚&lt;/p&gt;
&lt;p&gt;â‘¡ã€encodingï¼šèŠ‚ç‚¹çš„encodingä¿å­˜çš„æ˜¯èŠ‚ç‚¹çš„contentçš„å†…å®¹ç±»å‹ä»¥åŠé•¿åº¦ï¼Œencodingç±»å‹ä¸€å…±æœ‰ä¸¤ç§ï¼Œä¸€ç§å­—èŠ‚æ•°ç»„ä¸€ç§æ˜¯æ•´æ•°ï¼ŒencodingåŒºåŸŸé•¿åº¦ä¸º1å­—èŠ‚ã€2å­—èŠ‚æˆ–è€…5å­—èŠ‚é•¿ã€‚&lt;/p&gt;
&lt;p&gt;â‘¢ã€contentï¼šcontentåŒºåŸŸç”¨äºä¿å­˜èŠ‚ç‚¹çš„å†…å®¹ï¼ŒèŠ‚ç‚¹å†…å®¹ç±»å‹å’Œé•¿åº¦ç”±encodingå†³å®šã€‚&lt;/p&gt;
&lt;h3 id=&#34;8æ€»ç»“&#34;&gt;8ã€æ€»ç»“&lt;/h3&gt;
&lt;p&gt;â€‹		å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒRedisä½¿ç”¨ç®€å•å­—ç¬¦ä¸²SDSä½œä¸ºå­—ç¬¦ä¸²çš„è¡¨ç¤ºï¼Œç›¸å¯¹äºCè¯­è¨€å­—ç¬¦ä¸²ï¼ŒSDSå…·æœ‰å¸¸æ•°å¤æ‚åº¦è·å–å­—ç¬¦ä¸²é•¿åº¦ï¼Œæœç»äº†ç¼“å­˜åŒºçš„æº¢å‡ºï¼Œå‡å°‘äº†ä¿®æ”¹å­—ç¬¦ä¸²é•¿åº¦æ—¶æ‰€éœ€çš„å†…å­˜é‡åˆ†é…æ¬¡æ•°ï¼Œä»¥åŠäºŒè¿›åˆ¶å®‰å…¨èƒ½å­˜å‚¨å„ç§ç±»å‹çš„æ–‡ä»¶ï¼Œå¹¶ä¸”è¿˜å…¼å®¹éƒ¨åˆ†Cå‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€é€šè¿‡ä¸ºé“¾è¡¨è®¾ç½®ä¸åŒç±»å‹çš„ç‰¹å®šå‡½æ•°ï¼ŒRedisé“¾è¡¨å¯ä»¥ä¿å­˜å„ç§ä¸åŒç±»å‹çš„å€¼ï¼Œé™¤äº†ç”¨ä½œåˆ—è¡¨é”®ï¼Œè¿˜åœ¨å‘å¸ƒä¸è®¢é˜…ã€æ…¢æŸ¥è¯¢ã€ç›‘è§†å™¨ç­‰æ–¹é¢å‘æŒ¥ä½œç”¨ï¼ˆåé¢ä¼šä»‹ç»ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€Redisçš„å­—å…¸åº•å±‚ä½¿ç”¨å“ˆå¸Œè¡¨å®ç°ï¼Œæ¯ä¸ªå­—å…¸é€šå¸¸æœ‰ä¸¤ä¸ªå“ˆå¸Œè¡¨ï¼Œä¸€ä¸ªå¹³æ—¶ä½¿ç”¨ï¼Œå¦ä¸€ä¸ªç”¨äºrehashæ—¶ä½¿ç”¨ï¼Œä½¿ç”¨é“¾åœ°å€æ³•è§£å†³å“ˆå¸Œå†²çªã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€è·³è·ƒè¡¨é€šå¸¸æ˜¯æœ‰åºé›†åˆçš„åº•å±‚å®ç°ä¹‹ä¸€ï¼Œè¡¨ä¸­çš„èŠ‚ç‚¹æŒ‰ç…§åˆ†å€¼å¤§å°è¿›è¡Œæ’åºã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€æ•´æ•°é›†åˆæ˜¯é›†åˆé”®çš„åº•å±‚å®ç°ä¹‹ä¸€ï¼Œåº•å±‚ç”±æ•°ç»„æ„æˆï¼Œå‡çº§ç‰¹æ€§èƒ½å°½å¯èƒ½çš„èŠ‚çœå†…å­˜ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€å‹ç¼©åˆ—è¡¨æ˜¯Redisä¸ºèŠ‚çœå†…å­˜è€Œå¼€å‘çš„é¡ºåºå‹æ•°æ®ç»“æ„ï¼Œé€šå¸¸ä½œä¸ºåˆ—è¡¨é”®å’Œå“ˆå¸Œé”®çš„åº•å±‚å®ç°ä¹‹ä¸€ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;å‚è€ƒèµ„æ–™&lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.cnblogs.com/ysocean/p/9080940.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Redisè¯¦è§£ï¼ˆä¸‰ï¼‰&amp;mdash;&amp;mdash; redisçš„å…­å¤§æ•°æ®ç±»å‹è¯¦ç»†ç”¨æ³• - YSOcean - åšå®¢å›­ (cnblogs.com)&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>TCPåè®®ä¸­çš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹</title>
        <link>https://lxb.wiki/5fa4c221/</link>
        <pubDate>Thu, 21 Oct 2021 22:54:29 +0000</pubDate>
        
        <guid>https://lxb.wiki/5fa4c221/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h1 id=&#34;1-å‡†å¤‡&#34;&gt;1. å‡†å¤‡&lt;/h1&gt;
&lt;p&gt;TCPæ˜¯å±äºç½‘ç»œåˆ†å±‚ä¸­çš„è¿è¾“å±‚(æœ‰çš„ä¹¦ä¹Ÿç¿»è¯‘ä¸ºä¼ è¾“å±‚)ï¼Œ
åˆ†å±‚ä»¥åŠæ¯å±‚çš„åè®®ï¼ŒTCPæ˜¯å±äºè¿è¾“å±‚(æœ‰çš„ä¹¦ä¹Ÿç¿»è¯‘ä¸ºä¼ è¾“å±‚)ï¼Œå¦‚ä¸‹ä¸¤å¼ å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311145804.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311145821.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;TCP&lt;a class=&#34;link&#34; href=&#34;https://so.csdn.net/so/search?q=%e4%b8%89%e6%ac%a1%e6%8f%a1%e6%89%8b&amp;amp;spm=1001.2101.3001.7020&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ä¸‰æ¬¡æ¡æ‰‹&lt;/a&gt;ä¼šæ¶‰åŠåˆ°çŠ¶æ€è½¬æ¢æ‰€ä»¥è¿™é‡Œè´´å‡ºTCPçš„çŠ¶æ€è½¬æ¢å›¾å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311145910.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h1 id=&#34;2tcpä¸‰æ¬¡æ¡æ‰‹ç®€è¿°&#34;&gt;2.TCPä¸‰æ¬¡æ¡æ‰‹ç®€è¿°&lt;/h1&gt;
&lt;p&gt;è¦æƒ³ç®€å•äº†è§£TCPä¸‰æ¬¡æ¡æ‰‹ï¼Œæˆ‘ä»¬é¦–å…ˆè¦äº†è§£TCPå¤´éƒ¨ç»“æ„ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311145957.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;TCPä¼ é€’ç»™IPå±‚çš„ä¿¡æ¯å•ä½ç§°ä¸º&lt;strong&gt;æŠ¥æ–‡æ®µæˆ–æ®µ&lt;/strong&gt;ï¼Œä¸‹é¢éƒ½ç”¨&lt;strong&gt;æ®µ&lt;/strong&gt;åšå•ä½ã€‚&lt;/p&gt;
&lt;p&gt;TCPä¸‰æ¬¡æ¡æ‰‹å¦‚å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311150026.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;21-ç¬¬ä¸€æ¬¡æ¡æ‰‹&#34;&gt;2.1 ç¬¬ä¸€æ¬¡æ¡æ‰‹&lt;/h2&gt;
&lt;p&gt;å®¢æˆ·ç«¯ç»™æœåŠ¡å™¨å‘é€ä¸€ä¸ªSYNæ®µ(åœ¨ TCP æ ‡å¤´ä¸­ SYN ä½å­—æ®µä¸º &lt;strong&gt;1&lt;/strong&gt; çš„ TCP/IP æ•°æ®åŒ…), è¯¥æ®µä¸­ä¹ŸåŒ…å«å®¢æˆ·ç«¯çš„åˆå§‹åºåˆ—å·(Sequence number = J)ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;SYNæ˜¯åŒæ­¥çš„ç¼©å†™ï¼ŒSYN æ®µæ˜¯å‘é€åˆ°å¦ä¸€å°è®¡ç®—æœºçš„ TCP æ•°æ®åŒ…ï¼Œè¯·æ±‚åœ¨å®ƒä»¬ä¹‹é—´å»ºç«‹è¿æ¥&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;2.2 ç¬¬äºŒæ¬¡æ¡æ‰‹
æœåŠ¡å™¨è¿”å›å®¢æˆ·ç«¯ SYN +ACK æ®µ(åœ¨ TCP æ ‡å¤´ä¸­SYNå’ŒACKä½å­—æ®µéƒ½ä¸º 1 çš„ TCP/IP æ•°æ®åŒ…)ï¼Œ è¯¥æ®µä¸­åŒ…å«æœåŠ¡å™¨çš„åˆå§‹åºåˆ—å·(Sequence number = K)ï¼›åŒæ—¶ä½¿ Acknowledgment number = J + 1æ¥è¡¨ç¤ºç¡®è®¤å·²æ”¶åˆ°å®¢æˆ·ç«¯çš„ SYNæ®µ(Sequence number = J)ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ACK æ˜¯â€œç¡®è®¤â€çš„ç¼©å†™ã€‚ ACK æ•°æ®åŒ…æ˜¯ä»»ä½•ç¡®è®¤æ”¶åˆ°ä¸€æ¡æ¶ˆæ¯æˆ–ä¸€ç³»åˆ—æ•°æ®åŒ…çš„ TCP æ•°æ®åŒ…&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;23-ç¬¬ä¸‰æ¬¡æ¡æ‰‹&#34;&gt;2.3 ç¬¬ä¸‰æ¬¡æ¡æ‰‹&lt;/h2&gt;
&lt;p&gt;å®¢æˆ·ç«¯ç»™æœåŠ¡å™¨å“åº”ä¸€ä¸ªACKæ®µ(åœ¨ TCP æ ‡å¤´ä¸­ ACK ä½å­—æ®µä¸º &lt;strong&gt;1&lt;/strong&gt; çš„ TCP/IP æ•°æ®åŒ…), è¯¥æ®µä¸­ä½¿ Acknowledgment number = K + 1æ¥è¡¨ç¤ºç¡®è®¤å·²æ”¶åˆ°æœåŠ¡å™¨çš„ SYNæ®µ(Sequence number = K)ã€‚&lt;/p&gt;
&lt;h2 id=&#34;24-å®ä¾‹è§‚å¯Ÿ&#34;&gt;2.4 å®ä¾‹è§‚å¯Ÿ&lt;/h2&gt;
&lt;h3 id=&#34;241-tcpdump&#34;&gt;2.4.1 tcpdump&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨tcpdumpè§‚å¯Ÿå¦‚ä¸‹ï¼šå› ä¸ºéƒ½æ˜¯åœ¨æœ¬æœºåŒæ—¶è¿è¡Œclientå’Œserveræ‰€ä»¥å‘½ä»¤ä¸ºï¼š&lt;code&gt;tcpdump -i lo port 5555&lt;/code&gt;, åªèƒ½ç›‘å¬å›è·¯loæ¥å£ï¼Œç»“æœå¦‚ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311150222.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¦‚å›¾ç”¨çº¢è‰²åœˆèµ·æ¥çš„å°±æ˜¯3æ¬¡æ¡æ‰‹ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆæœ€åä¸€æ¬¡æ¡æ‰‹ï¼Œä¸ºä»€ä¹ˆack = 1,è€Œä¸æ˜¯369535922 å‘¢ï¼Œ
è¿™æ˜¯å› ä¸ºè¿™é‡Œçš„ç¬¬ä¸‰æ¬¡æ¡æ‰‹tcpdumpæ˜¾ç¤ºçš„æ˜¯ç›¸å¯¹çš„é¡ºåºå·ã€‚ä½†æ˜¯ä¸ºäº†ä¾¿äºè§‚å¯Ÿæˆ‘ä»¬éœ€è¦æŠŠtcpdumpçš„
é¡ºåºå·å˜ä¸ºç»å¯¹çš„é¡ºåºå·ã€‚&lt;/p&gt;
&lt;p&gt;å‘½ä»¤åªéœ€è¦åŠ -S(å¤§å†™)ä¾¿å¯ï¼Œå³ï¼š&lt;code&gt;tcpdump -i lo port 5555 -S&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åŠ ä¸Šä¹‹åç»“æœå°±æ­£å¸¸äº†å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311150312.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä»tcpdumpçš„æ•°æ®ï¼Œå¯ä»¥æ˜æ˜¾çš„çœ‹åˆ°ä¸‰æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹æ˜¯ï¼š
ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šclient SYN=1, Sequence number=2322326583 â€”&amp;gt; server
ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šserver SYN=1,Sequence number=3573692787; ACK=1, Acknowledgment number=2322326583 + 1 â€”&amp;gt; client
ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šclient ACK=1, Acknowledgment number=3573692787 + 1 &amp;ndash;&amp;gt;server&lt;/p&gt;
&lt;p&gt;æƒ³ç®€å•äº†è§£ä¸€ä¸‹TCPä¸‰æ¬¡æ¡æ‰‹çš„è¯, çœ‹åˆ°è¿™é‡Œå°±å¯ä»¥äº†.&lt;/p&gt;
&lt;h1 id=&#34;3tcpä¸‰æ¬¡æ¡æ‰‹è¯¦ç»†è§£æè¿‡ç¨‹&#34;&gt;3.TCPä¸‰æ¬¡æ¡æ‰‹è¯¦ç»†è§£æè¿‡ç¨‹ï¼š&lt;/h1&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311151642.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;31-ç¬¬ä¸€æ¬¡æ¡æ‰‹&#34;&gt;3.1 ç¬¬ä¸€æ¬¡æ¡æ‰‹&lt;/h2&gt;
&lt;p&gt;å®¢æˆ·åœ¨socket() connect()åä¸»åŠ¨(active open)è¿æ¥ä¸ŠæœåŠ¡å™¨, å‘é€SYN ï¼Œè¿™æ—¶å®¢æˆ·ç«¯çš„çŠ¶æ€æ˜¯SYN_SENT
æœåŠ¡å™¨åœ¨è¿›è¡Œsocket(),bind(),listen()åç­‰å¾…å®¢æˆ·çš„è¿æ¥ï¼Œæ”¶åˆ°å®¢æˆ·ç«¯çš„ SYN åï¼Œ&lt;/p&gt;
&lt;h3 id=&#34;311-åŠè¿æ¥é˜Ÿåˆ—syn-queueæœªæ»¡&#34;&gt;3.1.1 åŠè¿æ¥é˜Ÿåˆ—(syn queue)æœªæ»¡&lt;/h3&gt;
&lt;p&gt;æœåŠ¡å™¨å°†è¯¥è¿æ¥çš„çŠ¶æ€å˜ä¸ºSYN_RCVD, æœåŠ¡å™¨æŠŠè¿æ¥ä¿¡æ¯æ”¾åˆ°åŠè¿æ¥é˜Ÿåˆ—(syn queue)é‡Œé¢ã€‚&lt;/p&gt;
&lt;h3 id=&#34;312-åŠè¿æ¥é˜Ÿåˆ—syn-queueå·²æ»¡&#34;&gt;3.1.2 åŠè¿æ¥é˜Ÿåˆ—(syn queue)å·²æ»¡&lt;/h3&gt;
&lt;p&gt;æœåŠ¡å™¨ä¸ä¼šå°†è¯¥è¿æ¥çš„çŠ¶æ€å˜ä¸ºSYN_RCVDï¼Œä¸”å°†è¯¥è¿æ¥ä¸¢å¼ƒ(SYN floodæ”»å‡»å°±æ˜¯åˆ©ç”¨è¿™ä¸ªåŸç†ï¼Œ
å¯¹äºSYN fooldæ”»å‡»ï¼Œåº”å¯¹æ–¹æ³•ä¹‹ä¸€æ˜¯ä½¿syncookiesç”Ÿæ•ˆï¼Œå°†å…¶å€¼ç½®1å³å¯ï¼Œè·¯å¾„/proc/sys/net/ipv4/tcp_syncookiesï¼Œ
å³ä½¿æ˜¯åŠè¿æ¥é˜Ÿåˆ—syn queueå·²ç»æ»¡äº†ï¼Œä¹Ÿå¯ä»¥æ¥æ”¶æ­£å¸¸çš„éæ¶æ„æ”»å‡»çš„å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œ
ä½†æ˜¯è¿™ç§æ–¹æ³•åªåœ¨æ— è®¡å¯æ–½çš„æƒ…å†µä¸‹ä½¿ç”¨ï¼Œman tcpé‡Œé¢çš„è§£ææ˜¯è¿™æ ·è¯´çš„ï¼Œ
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311151743.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Centos6.9é»˜è®¤æ˜¯ç½®ä¸º1&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311151840.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;åŠè¿æ¥é˜Ÿåˆ—(syn queue)æœ€å¤§å€¼ &lt;code&gt;/proc/sys/net/ipv4/tcp_max_syn_backlog&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311151858.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;SYN floodæ”»å‡»&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ”»å‡»æ–¹çš„å®¢æˆ·ç«¯åªå‘é€SYNåˆ†èŠ‚ç»™æœåŠ¡å™¨ï¼Œç„¶åå¯¹æœåŠ¡å™¨å‘å›æ¥çš„SYN+ACKä»€ä¹ˆä¹Ÿä¸åšï¼Œç›´æ¥å¿½ç•¥æ‰ï¼Œ
ä¸å‘é€ACKç»™æœåŠ¡å™¨ï¼›è¿™æ ·å°±å¯ä»¥å æ®ç€æœåŠ¡å™¨çš„åŠè¿æ¥é˜Ÿåˆ—çš„èµ„æºï¼Œå¯¼è‡´æ­£å¸¸çš„å®¢æˆ·ç«¯è¿æ¥æ— æ³•è¿æ¥ä¸ŠæœåŠ¡å™¨ã€‚&lt;a class=&#34;link&#34; href=&#34;https://zh.wikipedia.org/wiki/SYN_flood&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ç»´åŸºç™¾ç§‘&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;(SYN floodæ”»å‡»çš„æ–¹å¼å…¶å®ä¹Ÿåˆ†ä¸¤ç§ï¼Œç¬¬ä¸€ç§ï¼Œæ”»å‡»æ–¹çš„å®¢æˆ·ç«¯ä¸€ç›´å‘é€SYNï¼Œå¯¹äºæœåŠ¡å™¨å›åº”çš„SYN+ACKä»€ä¹ˆä¹Ÿä¸åšï¼Œä¸å›åº”ACK, ç¬¬äºŒç§ï¼Œæ”»å‡»æ–¹çš„å®¢æˆ·ç«¯å‘é€SYNæ—¶ï¼Œå°†æºIPæ”¹ä¸ºä¸€ä¸ªè™šå‡çš„IP, ç„¶åæœåŠ¡å™¨å°†SYN+ACKå‘é€åˆ°è™šå‡çš„IP, è¿™æ ·å½“ç„¶æ°¸è¿œä¹Ÿå¾—ä¸åˆ°ACKçš„å›åº”ã€‚)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;32-ç¬¬äºŒæ¬¡æ¡æ‰‹&#34;&gt;3.2 ç¬¬äºŒæ¬¡æ¡æ‰‹&lt;/h2&gt;
&lt;p&gt;æœåŠ¡å™¨è¿”å›SYN+ACKæ®µç»™åˆ°å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°SYN+ACKæ®µåï¼Œå®¢æˆ·ç«¯çš„çŠ¶æ€ä»SYN_SENTå˜ä¸ºESTABLISHEDï¼Œ
ä¹Ÿå³æ˜¯connect()å‡½æ•°çš„è¿”å›ã€‚&lt;/p&gt;
&lt;h2 id=&#34;33-ç¬¬ä¸‰æ¬¡æ¡æ‰‹&#34;&gt;3.3 ç¬¬ä¸‰æ¬¡æ¡æ‰‹&lt;/h2&gt;
&lt;p&gt;å…¨è¿æ¥é˜Ÿåˆ—(accept queue)çš„æœ€å¤§å€¼ /proc/sys/net/core/somaxconn (é»˜è®¤128)&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311152107.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å…¨è¿æ¥é˜Ÿåˆ—å€¼ = min(backlog, somaxconn)
è¿™é‡Œçš„backlogæ˜¯listen(int sockfd, int backlog)å‡½æ•°é‡Œé¢çš„é‚£ä¸ªå‚æ•°backlog&lt;/p&gt;
&lt;h3 id=&#34;331-å…¨è¿æ¥é˜Ÿåˆ—accept-queueæœªæ»¡&#34;&gt;3.3.1 å…¨è¿æ¥é˜Ÿåˆ—(accept queue)æœªæ»¡&lt;/h3&gt;
&lt;p&gt;æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯å‘æ¥çš„ACK, æœåŠ¡ç«¯è¯¥è¿æ¥çš„çŠ¶æ€ä»SYN_RCVDå˜ä¸ºESTABLISHED,
ç„¶åæœåŠ¡å™¨å°†è¯¥è¿æ¥ä»åŠè¿æ¥é˜Ÿåˆ—(syn queue)é‡Œé¢ç§»é™¤ï¼Œä¸”å°†è¯¥è¿æ¥çš„ä¿¡æ¯æ”¾åˆ°å…¨è¿æ¥é˜Ÿåˆ—(accept queue)é‡Œé¢ã€‚&lt;/p&gt;
&lt;h3 id=&#34;332-å…¨è¿æ¥é˜Ÿåˆ—accept-queueå·²æ»¡&#34;&gt;3.3.2 å…¨è¿æ¥é˜Ÿåˆ—(accept queue)å·²æ»¡&lt;/h3&gt;
&lt;p&gt;æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯å‘æ¥çš„ACK, ä¸ä¼šå°†è¯¥è¿æ¥çš„çŠ¶æ€ä»SYN_RCVDå˜ä¸ºESTABLISHEDã€‚
å½“ç„¶å…¨è¿æ¥é˜Ÿåˆ—(accept queue)å·²æ»¡æ—¶ï¼Œåˆ™æ ¹æ® tcp_abort_on_overflow çš„å€¼æ¥æ‰§è¡Œç›¸åº”åŠ¨ä½œ
/proc/sys/net/ipv4/tcp_abort_on_overflow æŸ¥çœ‹å‚æ•°å€¼
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311152138.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;3321-tcp_abort_on_overflow--0&#34;&gt;3.3.2.1 tcp_abort_on_overflow = 0&lt;/h4&gt;
&lt;p&gt;åˆ™æœåŠ¡å™¨å»ºç«‹è¯¥è¿æ¥çš„å®šæ—¶å™¨ï¼Œ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™ä¸ªå®šæ—¶å™¨æ˜¯ä¸€ä¸ªæœåŠ¡å™¨çš„è§„åˆ™æ˜¯ä»æ–°å‘é€syn+ackçš„æ—¶é—´é—´éš”æˆå€çš„å¢åŠ ï¼Œ
æ¯”å¦‚ä»æ–°äº†ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼Œè¿›è¡Œäº†5æ¬¡ï¼Œè¿™äº”æ¬¡çš„æ—¶é—´åˆ†åˆ«æ˜¯ 1s, 2s,4s,8s,16s,
è¿™ç§å€æ•°è§„åˆ™å«â€œäºŒè¿›åˆ¶æŒ‡æ•°é€€è®©â€(binary exponential backoff)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç»™å®¢æˆ·ç«¯å®šæ—¶ä»æ–°å‘å›SYN+ACKå³ä»æ–°è¿›è¡Œç¬¬äºŒæ¬¡æ¡æ‰‹ï¼Œ(å¦‚æœå®¢æˆ·ç«¯è®¾å®šçš„è¶…æ—¶æ—¶é—´æ¯”è¾ƒçŸ­å°±å¾ˆå®¹æ˜“å‡ºç°å¼‚å¸¸)
&lt;code&gt;æœåŠ¡å™¨ä»æ–°è¿›è¡Œç¬¬äºŒæ¬¡æ¡æ‰‹çš„æ¬¡æ•°/proc/sys/net/ipv4/tcp_synack_retries&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311152221.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;3322-tcp_abort_on_overflow--1&#34;&gt;3.3.2.2 tcp_abort_on_overflow = 1&lt;/h4&gt;
&lt;p&gt;å…³äºtcp_abort_on_overflowçš„è§£æå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311152247.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ„æ€åº”è¯¥æ˜¯ï¼Œå½“ tcp_abort_on_overflow ç­‰äº1 æ—¶,é‡ç½®è¿æ¥(ä¸€èˆ¬æ˜¯å‘é€RSTç»™å®¢æˆ·ç«¯)ï¼Œ
è‡³äºæ€ä¹ˆé‡ç½®è¿æ¥æ˜¯ç³»ç»Ÿçš„äº‹æƒ…äº†ã€‚
ä¸è¿‡æˆ‘åœ¨æŸ¥èµ„æ–™çš„è¿‡ç¨‹å‘ç°ï¼Œé˜¿é‡Œä¸­é—´ä»¶å›¢é˜Ÿåšå®¢è¯´å¹¶ä¸æ˜¯å‘é€RSTï¼Œ â€”[é˜¿é‡Œä¸­é—´ä»¶å›¢é˜Ÿåšå®¢]&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªåšå®¢è·‘çš„å®ä¾‹è§‚å¯Ÿåˆ°çš„æ˜¯æœåŠ¡å™¨ä¼šå¿½ç•¥clientä¼ è¿‡æ¥çš„åŒ…ï¼Œç„¶åclienté‡ä¼ ï¼Œä¸€å®šæ¬¡æ•°åclientè®¤ä¸ºå¼‚å¸¸ï¼Œç„¶åæ–­å¼€è¿æ¥ã€‚
å½“ç„¶ï¼Œæˆ‘ä»¬å†™ä»£ç çš„éƒ½çŸ¥é“ä»£ç æ˜¯ç¬¬ä¸€æ‰‹çš„æ³¨é‡Šï¼Œå®è·µæ˜¯æ£€éªŒçœŸç†çš„å”¯ä¸€æ ‡å‡†ï¼Œ
æœ€å¥½è¿˜æ˜¯è‡ªå·±ä»¥è‡ªå·±å®è·µä¸ºå‡†ï¼Œå› ä¸ºå¯èƒ½ä½ çš„ç¯å¢ƒè·Ÿåˆ«äººçš„ä¸ä¸€æ ·ã€‚)&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹å…¨è¿æ¥é˜Ÿåˆ—(accept queue)çš„ä½¿ç”¨æƒ…å†µ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311152314.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šå›¾ï¼Œç¬¬äºŒåˆ—Recv-Qæ˜¯ï¼Œå…¨è¿æ¥é˜Ÿåˆ—æ¥æ”¶åˆ°è¾¾çš„è¿æ¥ï¼Œç¬¬ä¸‰åˆ—æ˜¯Send-Qå…¨è¿æ¥é˜Ÿåˆ—çš„æ‰€èƒ½å®¹çº³æœ€å¤§å€¼ï¼Œ
å¦‚æœï¼ŒRecv-Q å¤§äº Send-Q é‚£ä¹ˆå¤§äºçš„é‚£éƒ¨åˆ†ï¼Œæ˜¯è¦æº¢å‡ºçš„å³è¦è¢«ä¸¢å¼ƒoverflowæ‰çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¸Œæœ›çƒ­å¿ƒçš„ç½‘å‹å¸®å¿™ææ”¹è¿›æ„è§æ—¶å¯ä»¥ç›´æ¥æŒ‡å‡ºå“ªä¸€æ®µç¬¬å‡ å¥(æ¯”å¦‚ 2.4.1 tcpdump ç¬¬ä¸€æ®µç¬¬ä¸€å¥, å‘½ä»¤tcpdump -i lo port 5555 é‡Œå‚æ•° i ç”¨é”™äº†ï¼Œåº”è¯¥ç”¨ I)ï¼Œè¿™æ ·æ¯”è¾ƒå¿«é€Ÿæ‰¾åˆ°å¥½æ”¹æ­£ã€‚&lt;/p&gt;
&lt;h1 id=&#34;4-å››æ¬¡æŒ¥æ‰‹&#34;&gt;4 å››æ¬¡æŒ¥æ‰‹&lt;/h1&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311152407.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311152602.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ã€æ³¨æ„ã€‘ä¸­æ–­è¿æ¥ç«¯å¯ä»¥æ˜¯Clientç«¯ï¼Œä¹Ÿå¯ä»¥æ˜¯Serverç«¯ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å‡è®¾Clientç«¯å‘èµ·ä¸­æ–­è¿æ¥è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯å‘é€FINæŠ¥æ–‡ã€‚Serverç«¯æ¥åˆ°FINæŠ¥æ–‡åï¼Œæ„æ€æ˜¯è¯´&amp;quot;æˆ‘Clientç«¯æ²¡æœ‰æ•°æ®è¦å‘ç»™ä½ äº†&amp;quot;ï¼Œä½†æ˜¯å¦‚æœä½ è¿˜æœ‰æ•°æ®æ²¡æœ‰å‘é€å®Œæˆï¼Œåˆ™ä¸å¿…æ€¥ç€å…³é—­Socketï¼Œå¯ä»¥ç»§ç»­å‘é€æ•°æ®ã€‚æ‰€ä»¥ä½ å…ˆå‘é€ACKï¼Œ&amp;ldquo;å‘Šè¯‰Clientç«¯ï¼Œä½ çš„è¯·æ±‚æˆ‘æ”¶åˆ°äº†ï¼Œä½†æ˜¯æˆ‘è¿˜æ²¡å‡†å¤‡å¥½ï¼Œè¯·ç»§ç»­ä½ ç­‰æˆ‘çš„æ¶ˆæ¯&amp;rdquo;ã€‚è¿™ä¸ªæ—¶å€™Clientç«¯å°±è¿›å…¥FIN_WAITçŠ¶æ€ï¼Œç»§ç»­ç­‰å¾…Serverç«¯çš„FINæŠ¥æ–‡ã€‚å½“Serverç«¯ç¡®å®šæ•°æ®å·²å‘é€å®Œæˆï¼Œåˆ™å‘Clientç«¯å‘é€FINæŠ¥æ–‡ï¼Œ&amp;ldquo;å‘Šè¯‰Clientç«¯ï¼Œå¥½äº†ï¼Œæˆ‘è¿™è¾¹æ•°æ®å‘å®Œäº†ï¼Œå‡†å¤‡å¥½å…³é—­è¿æ¥äº†&amp;rdquo;ã€‚Clientç«¯æ”¶åˆ°FINæŠ¥æ–‡åï¼Œ&amp;ldquo;å°±çŸ¥é“å¯ä»¥å…³é—­è¿æ¥äº†ï¼Œä½†æ˜¯ä»–è¿˜æ˜¯ä¸ç›¸ä¿¡ç½‘ç»œï¼Œæ€•Serverç«¯ä¸çŸ¥é“è¦å…³é—­ï¼Œæ‰€ä»¥å‘é€ACKåè¿›å…¥TIME_WAITçŠ¶æ€ï¼Œå¦‚æœServerç«¯æ²¡æœ‰æ”¶åˆ°ACKåˆ™å¯ä»¥é‡ä¼ ã€‚â€œï¼ŒServerç«¯æ”¶åˆ°ACKåï¼Œ&amp;ldquo;å°±çŸ¥é“å¯ä»¥æ–­å¼€è¿æ¥äº†&amp;rdquo;ã€‚Clientç«¯ç­‰å¾…äº†2MSLåä¾ç„¶æ²¡æœ‰æ”¶åˆ°å›å¤ï¼Œåˆ™è¯æ˜Serverç«¯å·²æ­£å¸¸å…³é—­ï¼Œé‚£å¥½ï¼Œæˆ‘Clientç«¯ä¹Ÿå¯ä»¥å…³é—­è¿æ¥äº†ã€‚Okï¼ŒTCPè¿æ¥å°±è¿™æ ·å…³é—­äº†ï¼&lt;/p&gt;
&lt;p&gt;æ•´ä¸ªè¿‡ç¨‹Clientç«¯æ‰€ç»å†çš„çŠ¶æ€å¦‚ä¸‹ï¼š
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311152636.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;è€ŒServerç«¯æ‰€ç»å†çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311152709.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ã€æ³¨æ„ã€‘&lt;/strong&gt; åœ¨TIME_WAITçŠ¶æ€ä¸­ï¼Œå¦‚æœTCP clientç«¯æœ€åä¸€æ¬¡å‘é€çš„ACKä¸¢å¤±äº†ï¼Œå®ƒå°†é‡æ–°å‘é€ã€‚TIME_WAITçŠ¶æ€ä¸­æ‰€éœ€è¦çš„æ—¶é—´æ˜¯ä¾èµ–äºå®ç°æ–¹æ³•çš„ã€‚å…¸å‹çš„å€¼ä¸º30ç§’ã€1åˆ†é’Ÿå’Œ2åˆ†é’Ÿã€‚ç­‰å¾…ä¹‹åè¿æ¥æ­£å¼å…³é—­ï¼Œå¹¶ä¸”æ‰€æœ‰çš„èµ„æº(åŒ…æ‹¬ç«¯å£å·)éƒ½è¢«é‡Šæ”¾ã€‚&lt;/p&gt;
&lt;p&gt;ã€é—®é¢˜1ã€‘ä¸ºä»€ä¹ˆè¿æ¥çš„æ—¶å€™æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œå…³é—­çš„æ—¶å€™å´æ˜¯å››æ¬¡æ¡æ‰‹ï¼Ÿ
ç­”ï¼šå› ä¸ºå½“Serverç«¯æ”¶åˆ°Clientç«¯çš„SYNè¿æ¥è¯·æ±‚æŠ¥æ–‡åï¼Œå¯ä»¥ç›´æ¥å‘é€SYN+ACKæŠ¥æ–‡ã€‚å…¶ä¸­ACKæŠ¥æ–‡æ˜¯ç”¨æ¥åº”ç­”çš„ï¼ŒSYNæŠ¥æ–‡æ˜¯ç”¨æ¥åŒæ­¥çš„ã€‚ä½†æ˜¯å…³é—­è¿æ¥æ—¶ï¼Œå½“Serverç«¯æ”¶åˆ°FINæŠ¥æ–‡æ—¶ï¼Œå¾ˆå¯èƒ½å¹¶ä¸ä¼šç«‹å³å…³é—­SOCKETï¼Œæ‰€ä»¥åªèƒ½å…ˆå›å¤ä¸€ä¸ªACKæŠ¥æ–‡ï¼Œå‘Šè¯‰Clientç«¯ï¼Œ&amp;ldquo;ä½ å‘çš„FINæŠ¥æ–‡æˆ‘æ”¶åˆ°äº†&amp;rdquo;ã€‚åªæœ‰ç­‰åˆ°æˆ‘Serverç«¯æ‰€æœ‰çš„æŠ¥æ–‡éƒ½å‘é€å®Œäº†ï¼Œæˆ‘æ‰èƒ½å‘é€FINæŠ¥æ–‡ï¼Œå› æ­¤ä¸èƒ½ä¸€èµ·å‘é€ã€‚æ•…éœ€è¦å››æ­¥æ¡æ‰‹ã€‚&lt;/p&gt;
&lt;p&gt;ã€é—®é¢˜2ã€‘ä¸ºä»€ä¹ˆTIME_WAITçŠ¶æ€éœ€è¦ç»è¿‡2MSL(æœ€å¤§æŠ¥æ–‡æ®µç”Ÿå­˜æ—¶é—´)æ‰èƒ½è¿”å›åˆ°CLOSEçŠ¶æ€ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç­”ï¼šè™½ç„¶æŒ‰é“ç†ï¼Œå››ä¸ªæŠ¥æ–‡éƒ½å‘é€å®Œæ¯•ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿›å…¥CLOSEçŠ¶æ€äº†ï¼Œä½†æ˜¯æˆ‘ä»¬å¿…é¡»å‡è±¡ç½‘ç»œæ˜¯ä¸å¯é çš„ï¼Œæœ‰å¯ä»¥æœ€åä¸€ä¸ªACKä¸¢å¤±ã€‚æ‰€ä»¥TIME_WAITçŠ¶æ€å°±æ˜¯ç”¨æ¥é‡å‘å¯èƒ½ä¸¢å¤±çš„ACKæŠ¥æ–‡ã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®ç¬¬ä¸‰ç‰ˆã€ŠUNIXç½‘ç»œç¼–ç¨‹ å·1ã€‹2.7èŠ‚ï¼ŒTIME_WAITçŠ¶æ€çš„ä¸»è¦ç›®çš„æœ‰ä¸¤ä¸ªï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¼˜é›…çš„å…³é—­TCPè¿æ¥ï¼Œä¹Ÿå°±æ˜¯å°½é‡ä¿è¯è¢«åŠ¨å…³é—­çš„ä¸€ç«¯æ”¶åˆ°å®ƒè‡ªå·±å‘å‡ºå»çš„FINæŠ¥æ–‡çš„ACKç¡®è®¤æŠ¥æ–‡ï¼›&lt;/li&gt;
&lt;li&gt;å¤„ç†å»¶è¿Ÿçš„é‡å¤æŠ¥æ–‡ï¼Œè¿™ä¸»è¦æ˜¯ä¸ºäº†é¿å…å‰åä¸¤ä¸ªä½¿ç”¨ç›¸åŒå››å…ƒç»„çš„è¿æ¥ä¸­çš„å‰ä¸€ä¸ªè¿æ¥çš„æŠ¥æ–‡å¹²æ‰°åä¸€ä¸ªè¿æ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ã€€ã€€å¾ˆæ˜æ˜¾ï¼Œè¦å®ç°ä¸Šè¿°ä¸¤ä¸ªç›®æ ‡ï¼ŒTIME_WAITçŠ¶æ€éœ€è¦æŒç»­ä¸€æ®µæ—¶é—´ï¼Œä½†è¿™æ®µæ—¶é—´åº”è¯¥æ˜¯å¤šé•¿å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ã€€ã€€å¦‚æœåªè€ƒè™‘ä¸Šè¿°ç¬¬ä¸€ä¸ªç›®æ ‡ï¼Œåˆ™TIME_WAITçŠ¶æ€éœ€è¦æŒç»­çš„æ—¶é—´åº”è¯¥å‚è€ƒå¯¹ç«¯çš„RTOï¼ˆé‡ä¼ è¶…æ—¶æ—¶é—´ï¼‰ä»¥åŠMSLï¼ˆæŠ¥æ–‡åœ¨ç½‘ç»œä¸­çš„æœ€å¤§ç”Ÿå­˜æ—¶é—´ï¼‰æ¥è®¡ç®—è€Œä¸æ˜¯ä»…ä»…æŒ‰MSLæ¥è®¡ç®—ï¼Œå› ä¸ºåªè¦å¯¹ç«¯æ²¡æœ‰æ”¶åˆ°é’ˆå¯¹FINæŠ¥æ–‡çš„ACKï¼Œå°±ä¼šä¸€ç›´æŒç»­é‡ä¼ FINæŠ¥æ–‡ç›´åˆ°é‡ä¼ è¶…æ—¶ï¼Œæ‰€ä»¥æœ€èƒ½å®ç°å®Œç¾å…³é—­è¿æ¥çš„æ—¶é•¿è®¡ç®—æ–¹å¼åº”è¯¥æ˜¯ä»å¯¹ç«¯å‘é€ç¬¬ä¸€ä¸ªFINæŠ¥æ–‡å¼€å§‹è®¡æ—¶åˆ°å®ƒæœ€åä¸€æ¬¡é‡ä¼ FINæŠ¥æ–‡è¿™æ®µæ—¶é•¿åŠ ä¸ŠMSLï¼Œä½†è¿™ä¸ªè®¡ç®—æ–¹å¼è¿‡äºä¿å®ˆï¼Œåªæœ‰åœ¨æ‰€æœ‰çš„ACKæŠ¥æ–‡éƒ½ä¸¢å¤±çš„æƒ…å†µä¸‹æ‰éœ€è¦è¿™ä¹ˆé•¿çš„æ—¶é—´ï¼›å¦å¤–ï¼Œç¬¬ä¸€ä¸ªç›®æ ‡è™½ç„¶é‡è¦ï¼Œä½†å¹¶ä¸ååˆ†å…³é”®ï¼Œå› ä¸ºæ—¢ç„¶å·²ç»åˆ°äº†å…³é—­è¿æ¥çš„æœ€åä¸€æ­¥ï¼Œè¯´æ˜åœ¨è¿™ä¸ªTCPè¿æ¥ä¸Šçš„æ‰€æœ‰ç”¨æˆ·æ•°æ®å·²ç»å®Œæˆå¯é ä¼ è¾“ï¼Œæ‰€ä»¥è¦ä¸è¦å®Œç¾çš„å…³é—­è¿™ä¸ªè¿æ¥å…¶å®å·²ç»ä¸æ˜¯é‚£ä¹ˆå…³é”®äº†ã€‚å› æ­¤ï¼Œï¼ˆæˆ‘çŒœï¼‰RFCæ ‡å‡†çš„åˆ¶å®šè€…æ‰å†³å®šä»¥ç½‘ç»œä¸¢åŒ…ä¸å¤ªä¸¥é‡ä¸ºå‰ææ¡ä»¶ï¼Œç„¶åæ ¹æ®ç¬¬äºŒä¸ªç›®æ ‡æ¥è®¡ç®—TIME_WAITçŠ¶æ€åº”è¯¥æŒç»­çš„æ—¶é•¿ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºåˆšæ‰è¯´çš„ç¬¬äºŒç‚¹ï¼Œå¦‚ä½•ç†è§£TIME_WAITçŠ¶æ€æŒç»­2MSLçš„æ—¶é—´å°±å¯ä»¥é¿å…å‰åä¸¤ä¸ªä½¿ç”¨ç›¸åŒå››å…ƒç»„çš„è¿æ¥ä¸­çš„å‰ä¸€ä¸ªè¿æ¥çš„æŠ¥æ–‡å¹²æ‰°åä¸€ä¸ªè¿æ¥å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬éœ€è¦äº†è§£å¦‚ä¸‹è¦ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;TCPè¿æ¥ä¸­çš„ä¸€ç«¯å‘é€äº†FINæŠ¥æ–‡ä¹‹åå¦‚æœæ”¶ä¸åˆ°å¯¹ç«¯é’ˆå¯¹è¯¥FINçš„ACKï¼Œåˆ™ä¼šåå¤å¤šæ¬¡é‡ä¼ FINæŠ¥æ–‡ï¼Œå¤§çº¦æŒç»­å‡ åˆ†é’Ÿï¼›&lt;/li&gt;
&lt;li&gt;è¢«åŠ¨å…³é—­å¤„äºLAST_ACKçŠ¶æ€çš„ä¸€ç«¯åœ¨æ”¶åˆ°æœ€åä¸€ä¸ªACKä¹‹åä¸ä¼šå‘é€ä»»ä½•æŠ¥æ–‡ï¼Œç«‹å³è¿›å…¥CLOSEDçŠ¶æ€ï¼›&lt;/li&gt;
&lt;li&gt;ä¸»åŠ¨å…³é—­çš„ä¸€ç«¯åœ¨æ”¶åˆ°è¢«åŠ¨å…³é—­ç«¯å‘é€è¿‡æ¥çš„FINæŠ¥æ–‡å¹¶å›å¤ACKä¹‹åè¿›å…¥TIME_WAITçŠ¶æ€ï¼›&lt;/li&gt;
&lt;li&gt;ä¹‹æ‰€ä»¥TIME_WAITçŠ¶æ€éœ€è¦ç»´æŒä¸€æ®µæ—¶é—´è€Œä¸æ˜¯è¿›å…¥CLOSEDçŠ¶æ€ï¼Œæ˜¯å› ä¸ºéœ€è¦å¤„ç†å¯¹ç«¯å¯èƒ½é‡ä¼ çš„FINæŠ¥æ–‡æˆ–å…¶å®ƒä¸€äº›å› ç½‘ç»œåŸå› è€Œå»¶è¿Ÿçš„æ•°æ®æŠ¥æ–‡ï¼Œä¸å¤„ç†è¿™äº›æŠ¥æ–‡å¯èƒ½å¯¼è‡´å‰åä¸¤ä¸ªä½¿ç”¨ç›¸åŒå››å…ƒç»„çš„è¿æ¥ä¸­çš„åä¸€ä¸ªè¿æ¥å‡ºç°å¼‚å¸¸(è¯¦è§UNIXç½‘ç»œç¼–ç¨‹å·1çš„2.7èŠ‚ ç¬¬ä¸‰ç‰ˆ)ï¼›&lt;/li&gt;
&lt;li&gt;å¤„äºTIME_WAITçŠ¶æ€çš„ä¸€ç«¯åœ¨æ”¶åˆ°é‡ä¼ çš„FINæ—¶ä¼šé‡æ–°è®¡æ—¶(rfc793 ä»¥åŠ linux kernelæºä»£ç tcp_timewait_state_processå‡½æ•°)ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ã€€ã€€ä¸‹é¢æˆ‘ä»¬å¼€å§‹åˆ†æä¸ºä»€ä¹ˆåœ¨å‘é€äº†æœ€åä¸€ä¸ªACKæŠ¥æ–‡ä¹‹åéœ€è¦ç­‰å¾…2MSLæ—¶é•¿æ¥ç¡®ä¿æ²¡æœ‰ä»»ä½•å±äºå½“å‰è¿æ¥çš„æŠ¥æ–‡è¿˜å­˜æ´»äºç½‘ç»œä¹‹ä¸­ï¼ˆå‰ææ˜¯åœ¨è¿™2MSLæ—¶é—´å†…ä¸å†æ”¶åˆ°å¯¹æ–¹çš„FINæŠ¥æ–‡ï¼Œä½†å³ä½¿æ”¶åˆ°äº†å¯¹ç«¯çš„FINæŠ¥æ–‡ä¹Ÿå¹¶ä¸å½±å“æˆ‘ä»¬çš„è®¨è®ºï¼Œå› ä¸ºå¦‚æœæ”¶åˆ°FINåˆ™ä¼šå›å¤ACKå¹¶é‡æ–°è®¡æ—¶ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä¸ºäº†ä¾¿äºæè¿°ï¼Œæˆ‘ä»¬è®¾æƒ³æœ‰ä¸€ä¸ªå¤„äºæ‹†é“¾è¿‡ç¨‹ä¸­çš„TCPè¿æ¥ï¼Œè¿™ä¸ªè¿æ¥çš„ä¸¤ç«¯åˆ†åˆ«æ˜¯Aå’ŒBï¼Œå…¶ä¸­Aæ˜¯ä¸»åŠ¨å…³é—­è¿æ¥çš„ä¸€ç«¯ï¼Œå› ä¸ºåˆšåˆšå‘å¯¹ç«¯å‘é€äº†é’ˆå¯¹å¯¹ç«¯å‘é€è¿‡æ¥çš„FINæŠ¥æ–‡çš„ACKï¼Œæ­¤æ—¶æ­£å¤„äºTIME_WAITçŠ¶æ€ï¼›è€ŒBæ˜¯è¢«åŠ¨å…³é—­çš„ä¸€ç«¯ï¼Œæ­¤æ—¶æ­£å¤„äºLAST_ACKçŠ¶æ€ï¼Œåœ¨æ”¶åˆ°æœ€åä¸€ä¸ªACKä¹‹å‰å®ƒä¼šä¸€ç›´é‡ä¼ FINæŠ¥æ–‡ç›´è‡³è¶…æ—¶ã€‚éšç€æ—¶é—´çš„æµé€ï¼ŒAå‘é€ç»™Bçš„ACKæŠ¥æ–‡å°†ä¼šæœ‰ä¸¤ç§ç»“å±€ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ACKæŠ¥æ–‡åœ¨ç½‘ç»œä¸­ä¸¢å¤±ï¼›å¦‚å‰æ‰€è¿°ï¼Œè¿™ç§æƒ…å†µæˆ‘ä»¬ä¸éœ€è¦è€ƒè™‘ï¼Œå› ä¸ºé™¤éå¤šæ¬¡é‡ä¼ å¤±è´¥ï¼Œå¦åˆ™ABä¸¤ç«¯çš„çŠ¶æ€ä¸ä¼šå‘ç”Ÿå˜åŒ–ç›´è‡³æŸä¸€ä¸ªACKä¸å†ä¸¢å¤±ã€‚&lt;/li&gt;
&lt;li&gt;ACKæŠ¥æ–‡è¢«Bæ¥æ”¶åˆ°ã€‚æˆ‘ä»¬å‡è®¾Aå‘é€äº†ACKæŠ¥æ–‡åè¿‡äº†ä¸€æ®µæ—¶é—´tä¹‹åBæ‰æ”¶åˆ°è¯¥ACKï¼Œåˆ™æœ‰ 0 &amp;lt; t &amp;lt;= MSLã€‚å› ä¸ºAå¹¶ä¸çŸ¥é“å®ƒå‘é€å‡ºå»çš„ACKè¦å¤šä¹…å¯¹æ–¹æ‰èƒ½æ”¶åˆ°ï¼Œæ‰€ä»¥Aè‡³å°‘è¦ç»´æŒMSLæ—¶é•¿çš„TIME_WAITçŠ¶æ€æ‰èƒ½ä¿è¯å®ƒçš„ACKä»ç½‘ç»œä¸­æ¶ˆå¤±ã€‚åŒæ—¶å¤„äºLAST_ACKçŠ¶æ€çš„Bå› ä¸ºæ”¶åˆ°äº†ACKï¼Œæ‰€ä»¥å®ƒç›´æ¥å°±è¿›å…¥äº†CLOSEDçŠ¶æ€ï¼Œè€Œä¸ä¼šå‘ç½‘ç»œå‘é€ä»»ä½•æŠ¥æ–‡ã€‚æ‰€ä»¥æ™ƒçœ¼ä¸€çœ‹ï¼ŒAåªéœ€è¦ç­‰å¾…1ä¸ªMSLå°±å¤Ÿäº†ï¼Œä½†ä»”ç»†æƒ³ä¸€ä¸‹å…¶å®1ä¸ªMSLæ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºåœ¨Bæ”¶åˆ°ACKå‰çš„ä¸€åˆ¹é‚£ï¼ŒBå¯èƒ½å› ä¸ºæ²¡æ”¶åˆ°ACKè€Œé‡ä¼ äº†ä¸€ä¸ªFINæŠ¥æ–‡ï¼Œè¿™ä¸ªFINæŠ¥æ–‡è¦ä»ç½‘ç»œä¸­æ¶ˆå¤±æœ€å¤šè¿˜éœ€è¦ä¸€ä¸ªMSLæ—¶é•¿ï¼Œæ‰€ä»¥Aè¿˜éœ€è¦å¤šç­‰ä¸€ä¸ªMSLã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ã€€ã€€ç»¼ä¸Šæ‰€è¿°ï¼ŒTIME_WAITè‡³å°‘éœ€è¦æŒç»­2MSLæ—¶é•¿ï¼Œè¿™2ä¸ªMSLä¸­çš„ç¬¬ä¸€ä¸ªMSLæ˜¯ä¸ºäº†ç­‰è‡ªå·±å‘å‡ºå»çš„æœ€åä¸€ä¸ªACKä»ç½‘ç»œä¸­æ¶ˆå¤±ï¼Œè€Œç¬¬äºŒMSLæ˜¯ä¸ºäº†ç­‰åœ¨å¯¹ç«¯æ”¶åˆ°ACKä¹‹å‰çš„ä¸€åˆ¹é‚£å¯èƒ½é‡ä¼ çš„FINæŠ¥æ–‡ä»ç½‘ç»œä¸­æ¶ˆå¤±ã€‚å¦å¤–ï¼Œè™½ç„¶è¯´ç»´æŒTIME_WAITçŠ¶æ€ä¸€æ®µæ—¶é—´æœ‰2ä¸ªç›®çš„ï¼Œä½†è¿™æ®µæ—¶é—´å…·ä½“åº”è¯¥å¤šé•¿ä¸»è¦æ˜¯ä¸ºäº†è¾¾æˆä¸Šè¿°ç¬¬äºŒä¸ªç›®çš„è€Œè®¾è®¡çš„ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>åŸºäºzookeeperå®ç°ç»Ÿä¸€é…ç½®ç®¡ç†</title>
        <link>https://lxb.wiki/15475898/</link>
        <pubDate>Fri, 15 Oct 2021 22:17:32 +0000</pubDate>
        
        <guid>https://lxb.wiki/15475898/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆè¦ç”¨ç»Ÿä¸€é…ç½®ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åšé¡¹ç›®æ—¶ç”¨åˆ°çš„é…ç½®æ¯”å¦‚æ•°æ®åº“é…ç½®ç­‰&amp;hellip;æˆ‘ä»¬éƒ½æ˜¯å†™æ­»åœ¨é¡¹ç›®é‡Œé¢ï¼Œå¦‚æœéœ€è¦æ›´æ”¹ï¼Œé‚£ä¹ˆä¹Ÿæ˜¯çš„ä¿®æ”¹é…ç½®æ–‡ä»¶ç„¶åå†æŠ•äº§ä¸Šå»ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚æœåšé›†ç¾¤çš„å‘¢ï¼Œæœ‰100å°æœºå™¨ï¼Œè¿™æ—¶å€™åšä¿®æ”¹é‚£å°±å¤ªä¸åˆ‡å®é™…äº†ï¼›é‚£ä¹ˆå°±éœ€è¦ç”¨åˆ°ç»Ÿä¸€é…ç½®ç®¡ç†å•¦ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³æ€è·¯&lt;/p&gt;
&lt;p&gt;1.æŠŠå…¬å…±é…ç½®æŠ½å–å‡ºæ¥&lt;/p&gt;
&lt;p&gt;2.å¯¹å…¬å…±é…ç½®è¿›è¡Œç»´æŠ¤&lt;/p&gt;
&lt;p&gt;3.ä¿®æ”¹å…¬å…±é…ç½®ååº”ç”¨ä¸éœ€è¦é‡æ–°éƒ¨ç½²&lt;/p&gt;
&lt;p&gt;é‡‡ç”¨æ–¹æ¡ˆ&lt;/p&gt;
&lt;p&gt;1.å…¬å…±é…ç½®æŠ½å–å­˜æ”¾äºzookeeperä¸­å¹¶è½åœ°æ•°æ®åº“&lt;/p&gt;
&lt;p&gt;2.å¯¹å…¬å…±é…ç½®ä¿®æ”¹åå‘å¸ƒåˆ°zookeeperä¸­å¹¶è½åœ°æ•°æ®åº“&lt;/p&gt;
&lt;p&gt;3.å¯¹åº”ç”¨å¼€å¯é…ç½®å®æ—¶ç›‘å¬ï¼Œzookeeperé…ç½®æ–‡ä»¶ä¸€æ—¦è¢«ä¿®æ”¹ï¼Œåº”ç”¨å¯å®æ—¶ç›‘å¬åˆ°å¹¶è·å–&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220310112242.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸‹é¢åŸºäºzookeeperç²—ç•¥å®ç°äº†ä¸€ä¸ªç»Ÿä¸€é…ç½®ç®¡ç†&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;éœ€è¦ç”¨åˆ°çš„jaræ˜¯zkclient&lt;/p&gt;
&lt;p&gt;é…ç½®æ–‡ä»¶Config&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;package&lt;/span&gt; com.cwh.zk.util&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; java.io.Serializable&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Config&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;implements&lt;/span&gt; Serializable&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;	 * 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;	 */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; serialVersionUID &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1L&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; String userNm&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; String userPw&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Config&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Config&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;String userNm&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; String userPw&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;userNm&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; userNm&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;userPw&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; userPw&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; String &lt;span style=&#34;color:#a6e22e&#34;&gt;getUserNm&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; userNm&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;setUserNm&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;String userNm&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;userNm&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; userNm&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; String &lt;span style=&#34;color:#a6e22e&#34;&gt;getUserPw&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; userPw&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;setUserPw&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;String userPw&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;userPw&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; userPw&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;@Override&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; String &lt;span style=&#34;color:#a6e22e&#34;&gt;toString&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Config [userNm=&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; userNm &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;, userPw=&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; userPw &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;]&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é…ç½®ç®¡ç†ä¸­å¿ƒZkConfigMag&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;package&lt;/span&gt; com.cwh.zk.util&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; org.I0Itec.zkclient.ZkClient&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ZkConfigMag&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; Config config&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;	 * ä»æ•°æ®åº“åŠ è½½é…ç½®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;	 */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; Config &lt;span style=&#34;color:#a6e22e&#34;&gt;downLoadConfigFromDB&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#75715e&#34;&gt;//getDB
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		config &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; Config&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;nm&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;pw&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; config&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;	 * é…ç½®æ–‡ä»¶ä¸Šä¼ åˆ°æ•°æ®åº“
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;	 */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;upLoadConfigToDB&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;String nm&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; String pw&lt;span style=&#34;color:#f92672&#34;&gt;){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;config&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;config &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; Config&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		config&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;setUserNm&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;nm&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		config&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;setUserPw&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;pw&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#75715e&#34;&gt;//updateDB
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;	 * é…ç½®æ–‡ä»¶åŒæ­¥åˆ°zookeeper
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;	 */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;syncConfigToZk&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		ZkClient zk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; ZkClient&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;localhost:2181&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(!&lt;/span&gt;zk&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;exists&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/zkConfig&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			zk&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;createPersistent&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/zkConfig&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		zk&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;writeData&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/zkConfig&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; config&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		zk&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;close&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åº”ç”¨ç›‘å¬å®ç°ZkGetConfigClient&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;package&lt;/span&gt; com.cwh.zk.util&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; org.I0Itec.zkclient.IZkDataListener&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; org.I0Itec.zkclient.ZkClient&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ZkGetConfigClient&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; Config config&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; Config &lt;span style=&#34;color:#a6e22e&#34;&gt;getConfig&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		ZkClient zk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; ZkClient&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;localhost:2181&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		config &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;Config&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;zk&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;readData&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/zkConfig&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;åŠ è½½åˆ°é…ç½®ï¼š&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;config&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;toString&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;());&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#75715e&#34;&gt;//ç›‘å¬é…ç½®æ–‡ä»¶ä¿®æ”¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		zk&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;subscribeDataChanges&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/zkConfig&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; IZkDataListener&lt;span style=&#34;color:#f92672&#34;&gt;(){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#a6e22e&#34;&gt;@Override&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;handleDataChange&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;String arg0&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; Object arg1&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;					&lt;span style=&#34;color:#66d9ef&#34;&gt;throws&lt;/span&gt; Exception &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				config &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;Config&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; arg1&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ç›‘å¬åˆ°é…ç½®æ–‡ä»¶è¢«ä¿®æ”¹ï¼š&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;config&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;toString&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;());&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#a6e22e&#34;&gt;@Override&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;handleDataDeleted&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;String arg0&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;throws&lt;/span&gt; Exception &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				config &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ç›‘å¬åˆ°é…ç½®æ–‡ä»¶è¢«åˆ é™¤&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#f92672&#34;&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; config&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;String&lt;span style=&#34;color:#f92672&#34;&gt;[]&lt;/span&gt; args&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		ZkGetConfigClient client &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; ZkGetConfigClient&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		client&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getConfig&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;client&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;config&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;toString&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;());&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;i&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;i&lt;span style=&#34;color:#f92672&#34;&gt;++){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;client&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;config&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;toString&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;());&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				Thread&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;sleep&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;catch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;InterruptedException e&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#75715e&#34;&gt;// TODO Auto-generated catch block
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;				e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printStackTrace&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æµ‹è¯•ï¼Œå¯åŠ¨é…ç½®ç®¡ç†ä¸­å¿ƒ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;package&lt;/span&gt; com.cwh.zkConfig.test&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; com.cwh.zk.util.Config&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; com.cwh.zk.util.ZkConfigMag&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ZkConfigTest&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;String&lt;span style=&#34;color:#f92672&#34;&gt;[]&lt;/span&gt; args&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		ZkConfigMag mag &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; ZkConfigMag&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		Config config &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mag&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;downLoadConfigFromDB&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;....åŠ è½½æ•°æ®åº“é…ç½®....&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;config&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;toString&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;());&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		mag&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;syncConfigToZk&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;....åŒæ­¥é…ç½®æ–‡ä»¶åˆ°zookeeper....&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#75715e&#34;&gt;//æ­‡ä¼šï¼Œè¿™æ ·çœ‹æ¯”è¾ƒæ¸…æ™°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			Thread&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;sleep&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10000&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;catch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;InterruptedException e&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#75715e&#34;&gt;// TODO Auto-generated catch block
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;			e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printStackTrace&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		mag&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;upLoadConfigToDB&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cwhcc&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;passwordcc&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;....ä¿®æ”¹é…ç½®æ–‡ä»¶....&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;config&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;toString&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;());&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		mag&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;syncConfigToZk&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;....åŒæ­¥é…ç½®æ–‡ä»¶åˆ°zookeeper....&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æµ‹è¯•ç»“æœï¼š&lt;/p&gt;
&lt;p&gt;é…ç½®ç®¡ç†ä¸­å¿ƒæ‰“å°ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220310113057.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;åº”ç”¨ç›‘å¬ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220310113139.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ZooKeeperæ€»ç»“</title>
        <link>https://lxb.wiki/f07e16f1/</link>
        <pubDate>Fri, 15 Oct 2021 21:51:29 +0000</pubDate>
        
        <guid>https://lxb.wiki/f07e16f1/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;ZooKeeper å¯ä»¥ä½œä¸º&lt;strong&gt;æ³¨å†Œä¸­å¿ƒ&lt;/strong&gt;ï¼Œä¹Ÿå¯ä»¥ä½œä¸º&lt;strong&gt;åˆ†å¸ƒå¼é”&lt;/strong&gt;çš„ä¸€ç§å®ç°ã€‚Kafka ä½¿ç”¨ ZooKeeper &lt;strong&gt;ç®¡ç†è‡ªå·±çš„å…ƒæ•°æ®é…ç½®&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸€ä»€ä¹ˆæ˜¯zookeeper&#34;&gt;ä¸€ã€ä»€ä¹ˆæ˜¯ZooKeeper&lt;/h2&gt;
&lt;p&gt;å®˜ç½‘ä»‹ç»&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220310105425.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å®˜ç½‘è¿˜æœ‰å¦ä¸€æ®µè¯ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ZooKeeper: A Distributed Coordination Service for Distributed Applications&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Wiki&lt;/strong&gt;ä¸­å¯¹ZooKeeperçš„ä»‹ç»ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220310105519.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ¦‚æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ZooKeeperä¸»è¦&lt;strong&gt;æœåŠ¡äºåˆ†å¸ƒå¼ç³»ç»Ÿ&lt;/strong&gt;ï¼Œå¯ä»¥ç”¨ZooKeeperæ¥åšï¼šç»Ÿä¸€é…ç½®ç®¡ç†ã€ç»Ÿä¸€å‘½åæœåŠ¡ã€åˆ†å¸ƒå¼é”ã€é›†ç¾¤ç®¡ç†ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨åˆ†å¸ƒå¼ç³»ç»Ÿå°±æ— æ³•é¿å…å¯¹èŠ‚ç‚¹ç®¡ç†çš„é—®é¢˜(éœ€è¦å®æ—¶æ„ŸçŸ¥èŠ‚ç‚¹çš„çŠ¶æ€ã€å¯¹èŠ‚ç‚¹è¿›è¡Œç»Ÿä¸€ç®¡ç†ç­‰ç­‰)ï¼Œè€Œç”±äºè¿™äº›é—®é¢˜å¤„ç†èµ·æ¥å¯èƒ½ç›¸å¯¹éº»çƒ¦å’Œæé«˜äº†ç³»ç»Ÿçš„å¤æ‚æ€§ï¼ŒZooKeeperä½œä¸ºä¸€ä¸ªèƒ½å¤Ÿ&lt;strong&gt;é€šç”¨&lt;/strong&gt;è§£å†³è¿™äº›é—®é¢˜çš„ä¸­é—´ä»¶å°±åº”è¿è€Œç”Ÿäº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;äºŒä¸ºä»€ä¹ˆzookeeperèƒ½å¹²è¿™ä¹ˆå¤š&#34;&gt;äºŒã€ä¸ºä»€ä¹ˆZooKeeperèƒ½å¹²è¿™ä¹ˆå¤šï¼Ÿ&lt;/h2&gt;
&lt;p&gt;Wiki ä¸­æåˆ°ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ZooKeeper nodes store their data in a hierarchical name space, much like a file system or a &lt;a class=&#34;link&#34; href=&#34;https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Tree_%28data_structure%29&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;tree&lt;/a&gt; data structure&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ZooKeeperçš„æ•°æ®ç»“æ„ï¼Œè·ŸUnixæ–‡ä»¶ç³»ç»Ÿéå¸¸ç±»ä¼¼ï¼Œå¯ä»¥çœ‹åšæ˜¯ä¸€é¢—&lt;strong&gt;æ ‘&lt;/strong&gt;ï¼Œæ¯ä¸ªèŠ‚ç‚¹å«åš&lt;strong&gt;ZNode&lt;/strong&gt;ã€‚æ¯ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥é€šè¿‡&lt;strong&gt;è·¯å¾„&lt;/strong&gt;æ¥æ ‡è¯†ï¼Œç»“æ„å›¾å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220310105632.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;é‚£ZooKeeperè¿™é¢—&amp;quot;æ ‘&amp;quot;æœ‰ä»€ä¹ˆç‰¹ç‚¹å‘¢ï¼Ÿï¼ŸZooKeeperçš„èŠ‚ç‚¹æˆ‘ä»¬ç§°ä¹‹ä¸º&lt;strong&gt;Znode&lt;/strong&gt;ï¼ŒZnodeåˆ†ä¸º&lt;strong&gt;ä¸¤ç§&lt;/strong&gt;ç±»å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;çŸ­æš‚/ä¸´æ—¶(Ephemeral)&lt;/strong&gt;ï¼šå½“å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ–­å¼€è¿æ¥åï¼Œæ‰€åˆ›å»ºçš„Znode(èŠ‚ç‚¹)&lt;strong&gt;ä¼šè‡ªåŠ¨åˆ é™¤&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æŒä¹…(Persistent)&lt;/strong&gt;ï¼šå½“å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ–­å¼€è¿æ¥åï¼Œæ‰€åˆ›å»ºçš„Znode(èŠ‚ç‚¹)&lt;strong&gt;ä¸ä¼šåˆ é™¤&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;ZooKeeperå’ŒRedisä¸€æ ·ï¼Œä¹Ÿæ˜¯C/Sç»“æ„(åˆ†æˆå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220310105707.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;21-ç›‘å¬å™¨&#34;&gt;2.1 ç›‘å¬å™¨&lt;/h3&gt;
&lt;p&gt;åœ¨ä¸Šé¢æˆ‘ä»¬å·²ç»ç®€å•çŸ¥é“äº†ZooKeeperçš„æ•°æ®ç»“æ„äº†ï¼ŒZooKeeperè¿˜é…åˆäº†&lt;strong&gt;ç›‘å¬å™¨&lt;/strong&gt;æ‰èƒ½å¤Ÿåšé‚£ä¹ˆå¤šäº‹çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¸¸è§&lt;/strong&gt;çš„ç›‘å¬åœºæ™¯æœ‰ä»¥ä¸‹ä¸¤é¡¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç›‘å¬ZnodeèŠ‚ç‚¹çš„&lt;strong&gt;æ•°æ®å˜åŒ–&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ç›‘å¬å­èŠ‚ç‚¹çš„&lt;strong&gt;å¢å‡å˜åŒ–&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220310105734.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220310105749.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ²¡é”™ï¼Œé€šè¿‡&lt;strong&gt;ç›‘å¬+ZnodeèŠ‚ç‚¹(æŒä¹…/çŸ­æš‚[ä¸´æ—¶])&lt;/strong&gt;ï¼ŒZooKeeperå°±å¯ä»¥ç©å‡ºè¿™ä¹ˆå¤šèŠ±æ ·äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;31-ç»Ÿä¸€é…ç½®ç®¡ç†&#34;&gt;3.1 ç»Ÿä¸€é…ç½®ç®¡ç†&lt;/h3&gt;
&lt;p&gt;æ¯”å¦‚æˆ‘ä»¬ç°åœ¨æœ‰ä¸‰ä¸ªç³»ç»ŸAã€Bã€Cï¼Œä»–ä»¬æœ‰ä¸‰ä»½é…ç½®ï¼Œåˆ†åˆ«æ˜¯&lt;code&gt;ASystem.ymlã€BSystem.ymlã€CSystem.yml&lt;/code&gt;ï¼Œç„¶åï¼Œè¿™ä¸‰ä»½é…ç½®åˆéå¸¸ç±»ä¼¼ï¼Œå¾ˆå¤šçš„é…ç½®é¡¹å‡ ä¹éƒ½ä¸€æ ·ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ­¤æ—¶ï¼Œå¦‚æœæˆ‘ä»¬è¦æ”¹å˜å…¶ä¸­ä¸€ä»½é…ç½®é¡¹çš„ä¿¡æ¯ï¼Œå¾ˆå¯èƒ½å…¶ä»–ä¸¤ä»½éƒ½è¦æ”¹ã€‚å¹¶ä¸”ï¼Œæ”¹å˜äº†é…ç½®é¡¹çš„ä¿¡æ¯&lt;strong&gt;å¾ˆå¯èƒ½å°±è¦é‡å¯ç³»ç»Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;äºæ˜¯ï¼Œæˆ‘ä»¬å¸Œæœ›æŠŠ&lt;code&gt;ASystem.ymlã€BSystem.ymlã€CSystem.yml&lt;/code&gt;ç›¸åŒçš„é…ç½®é¡¹æŠ½å–å‡ºæ¥æˆä¸€ä»½&lt;strong&gt;å…¬ç”¨&lt;/strong&gt;çš„é…ç½®&lt;code&gt;common.yml&lt;/code&gt;ï¼Œå¹¶ä¸”å³ä¾¿&lt;code&gt;common.yml&lt;/code&gt;æ”¹äº†ï¼Œä¹Ÿä¸éœ€è¦ç³»ç»ŸAã€Bã€Cé‡å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220310105843.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;åšæ³•ï¼šæˆ‘ä»¬å¯ä»¥å°†&lt;code&gt;common.yml&lt;/code&gt;è¿™ä»½é…ç½®æ”¾åœ¨ZooKeeperçš„ZnodeèŠ‚ç‚¹ä¸­ï¼Œç³»ç»ŸAã€Bã€Cç›‘å¬ç€è¿™ä¸ªZnodeèŠ‚ç‚¹æœ‰æ— å˜æ›´ï¼Œå¦‚æœå˜æ›´äº†ï¼Œ&lt;strong&gt;åŠæ—¶&lt;/strong&gt;å“åº”ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220310105910.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å‚è€ƒèµ„æ–™ï¼š&lt;a class=&#34;link&#34; href=&#34;https://lxb.wiki/15475898/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;åŸºäºzookeeperå®ç°ç»Ÿä¸€é…ç½®ç®¡ç†&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;32-ç»Ÿä¸€å‘½åæœåŠ¡&#34;&gt;3.2 ç»Ÿä¸€å‘½åæœåŠ¡&lt;/h3&gt;
&lt;p&gt;ç»Ÿä¸€å‘½åæœåŠ¡çš„ç†è§£å…¶å®è·Ÿ&lt;strong&gt;åŸŸå&lt;/strong&gt;ä¸€æ ·ï¼Œæ˜¯æˆ‘ä»¬ä¸ºè¿™æŸä¸€éƒ¨åˆ†çš„èµ„æºç»™å®ƒ&lt;strong&gt;å–ä¸€ä¸ªåå­—&lt;/strong&gt;ï¼Œåˆ«äººé€šè¿‡è¿™ä¸ªåå­—å°±å¯ä»¥æ‹¿åˆ°å¯¹åº”çš„èµ„æºã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚è¯´ï¼Œç°åœ¨æˆ‘æœ‰ä¸€ä¸ªåŸŸå&lt;code&gt;www.java3y.com&lt;/code&gt;ï¼Œä½†æˆ‘è¿™ä¸ªåŸŸåä¸‹æœ‰å¤šå°æœºå™¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;192.168.1.1&lt;/li&gt;
&lt;li&gt;192.168.1.2&lt;/li&gt;
&lt;li&gt;192.168.1.3&lt;/li&gt;
&lt;li&gt;192.168.1.4&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åˆ«äººè®¿é—®&lt;code&gt;www.java3y.com&lt;/code&gt;å³å¯è®¿é—®åˆ°æˆ‘çš„æœºå™¨ï¼Œè€Œä¸æ˜¯é€šè¿‡IPå»è®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220310110058.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;33-åˆ†å¸ƒå¼é”&#34;&gt;3.3 åˆ†å¸ƒå¼é”&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ZooKeeperæ¥å®ç°åˆ†å¸ƒå¼é”ï¼Œé‚£æ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Ÿï¼Ÿä¸‹é¢æ¥çœ‹çœ‹ï¼š&lt;/p&gt;
&lt;p&gt;ç³»ç»ŸAã€Bã€Céƒ½å»è®¿é—®&lt;code&gt;/locks&lt;/code&gt;èŠ‚ç‚¹&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220310110143.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;è®¿é—®çš„æ—¶å€™ä¼šåˆ›å»º&lt;strong&gt;å¸¦é¡ºåºå·çš„ä¸´æ—¶/çŸ­æš‚&lt;/strong&gt;(&lt;code&gt;EPHEMERAL_SEQUENTIAL&lt;/code&gt;)èŠ‚ç‚¹ï¼Œæ¯”å¦‚ï¼Œç³»ç»ŸAåˆ›å»ºäº†&lt;code&gt;id_000000&lt;/code&gt;èŠ‚ç‚¹ï¼Œç³»ç»ŸBåˆ›å»ºäº†&lt;code&gt;id_000002&lt;/code&gt;èŠ‚ç‚¹ï¼Œç³»ç»ŸCåˆ›å»ºäº†&lt;code&gt;id_000001&lt;/code&gt;èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220310111211.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ¥ç€ï¼Œæ‹¿åˆ°&lt;code&gt;/locks&lt;/code&gt;èŠ‚ç‚¹ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹(id_000000,id_000001,id_000002)ï¼Œ&lt;strong&gt;åˆ¤æ–­è‡ªå·±åˆ›å»ºçš„æ˜¯ä¸æ˜¯æœ€å°çš„é‚£ä¸ªèŠ‚ç‚¹&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœæ˜¯ï¼Œåˆ™æ‹¿åˆ°é”ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;é‡Šæ”¾é”ï¼šæ‰§è¡Œå®Œæ“ä½œåï¼ŒæŠŠåˆ›å»ºçš„èŠ‚ç‚¹ç»™åˆ æ‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœä¸æ˜¯ï¼Œåˆ™ç›‘å¬æ¯”è‡ªå·±è¦å°1çš„èŠ‚ç‚¹å˜åŒ–&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç³»ç»ŸAæ‹¿åˆ°&lt;code&gt;/locks&lt;/code&gt;èŠ‚ç‚¹ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œç»è¿‡æ¯”è¾ƒï¼Œå‘ç°è‡ªå·±(&lt;code&gt;id_000000&lt;/code&gt;)ï¼Œæ˜¯æ‰€æœ‰å­èŠ‚ç‚¹æœ€å°çš„ã€‚æ‰€ä»¥å¾—åˆ°é”&lt;/li&gt;
&lt;li&gt;ç³»ç»ŸBæ‹¿åˆ°&lt;code&gt;/locks&lt;/code&gt;èŠ‚ç‚¹ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œç»è¿‡æ¯”è¾ƒï¼Œå‘ç°è‡ªå·±(&lt;code&gt;id_000002&lt;/code&gt;)ï¼Œä¸æ˜¯æ‰€æœ‰å­èŠ‚ç‚¹æœ€å°çš„ã€‚æ‰€ä»¥ç›‘å¬æ¯”è‡ªå·±å°1çš„èŠ‚ç‚¹&lt;code&gt;id_000001&lt;/code&gt;çš„çŠ¶æ€&lt;/li&gt;
&lt;li&gt;ç³»ç»ŸCæ‹¿åˆ°&lt;code&gt;/locks&lt;/code&gt;èŠ‚ç‚¹ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œç»è¿‡æ¯”è¾ƒï¼Œå‘ç°è‡ªå·±(&lt;code&gt;id_000001&lt;/code&gt;)ï¼Œä¸æ˜¯æ‰€æœ‰å­èŠ‚ç‚¹æœ€å°çš„ã€‚æ‰€ä»¥ç›‘å¬æ¯”è‡ªå·±å°1çš„èŠ‚ç‚¹&lt;code&gt;id_000000&lt;/code&gt;çš„çŠ¶æ€&lt;/li&gt;
&lt;li&gt;â€¦&amp;hellip;&lt;/li&gt;
&lt;li&gt;ç­‰åˆ°ç³»ç»ŸAæ‰§è¡Œå®Œæ“ä½œä»¥åï¼Œå°†è‡ªå·±åˆ›å»ºçš„èŠ‚ç‚¹åˆ é™¤(&lt;code&gt;id_000000&lt;/code&gt;)ã€‚é€šè¿‡ç›‘å¬ï¼Œç³»ç»ŸCå‘ç°&lt;code&gt;id_000000&lt;/code&gt;èŠ‚ç‚¹å·²ç»åˆ é™¤äº†ï¼Œå‘ç°è‡ªå·±å·²ç»æ˜¯æœ€å°çš„èŠ‚ç‚¹äº†ï¼Œäºæ˜¯é¡ºåˆ©æ‹¿åˆ°é”&lt;/li&gt;
&lt;li&gt;â€¦.ç³»ç»ŸBå¦‚ä¸Š&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;34é›†ç¾¤çŠ¶æ€&#34;&gt;3.4é›†ç¾¤çŠ¶æ€&lt;/h3&gt;
&lt;p&gt;ZooKeeperæ˜¯æ€ä¹ˆ&amp;quot;&lt;strong&gt;æ„ŸçŸ¥&lt;/strong&gt;&amp;ldquo;èŠ‚ç‚¹çš„åŠ¨æ€æ–°å¢æˆ–è€…åˆ é™¤çš„&lt;/p&gt;
&lt;p&gt;è¿˜æ˜¯ä»¥ä¸‰ä¸ªç³»ç»ŸAã€Bã€Cä¸ºä¾‹ï¼Œåœ¨ZooKeeperä¸­åˆ›å»º&lt;strong&gt;ä¸´æ—¶èŠ‚ç‚¹&lt;/strong&gt;å³å¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220310111532.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;åªè¦ç³»ç»ŸAæŒ‚äº†ï¼Œé‚£&lt;code&gt;/groupMember/A&lt;/code&gt;è¿™ä¸ªèŠ‚ç‚¹å°±ä¼šåˆ é™¤ï¼Œé€šè¿‡&lt;strong&gt;ç›‘å¬&lt;/strong&gt;&lt;code&gt;groupMember&lt;/code&gt;ä¸‹çš„å­èŠ‚ç‚¹ï¼Œç³»ç»ŸBå’ŒCå°±èƒ½å¤Ÿæ„ŸçŸ¥åˆ°ç³»ç»ŸAå·²ç»æŒ‚äº†ã€‚(æ–°å¢ä¹Ÿæ˜¯åŒç†)&lt;/p&gt;
&lt;p&gt;é™¤äº†èƒ½å¤Ÿæ„ŸçŸ¥èŠ‚ç‚¹çš„ä¸Šä¸‹çº¿å˜åŒ–ï¼ŒZooKeeperè¿˜å¯ä»¥å®ç°&lt;strong&gt;åŠ¨æ€é€‰ä¸¾Master&lt;/strong&gt;çš„åŠŸèƒ½ã€‚(å¦‚æœé›†ç¾¤æ˜¯ä¸»ä»æ¶æ„æ¨¡å¼ä¸‹)&lt;/p&gt;
&lt;p&gt;åŸç†ä¹Ÿå¾ˆç®€å•ï¼Œå¦‚æœæƒ³è¦å®ç°åŠ¨æ€é€‰ä¸¾Masterçš„åŠŸèƒ½ï¼ŒZnodeèŠ‚ç‚¹çš„ç±»å‹æ˜¯å¸¦&lt;strong&gt;é¡ºåºå·çš„ä¸´æ—¶èŠ‚ç‚¹&lt;/strong&gt;(&lt;code&gt;EPHEMERAL_SEQUENTIAL&lt;/code&gt;)å°±å¥½äº†ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Zookeeperä¼šæ¯æ¬¡é€‰ä¸¾æœ€å°ç¼–å·çš„ä½œä¸ºMasterï¼Œå¦‚æœMasteræŒ‚äº†ï¼Œè‡ªç„¶å¯¹åº”çš„ZnodeèŠ‚ç‚¹å°±ä¼šåˆ é™¤ã€‚ç„¶åè®©&lt;strong&gt;æ–°çš„æœ€å°ç¼–å·ä½œä¸ºMaster&lt;/strong&gt;ï¼Œè¿™æ ·å°±å¯ä»¥å®ç°åŠ¨æ€é€‰ä¸¾çš„åŠŸèƒ½äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Go å…«è‚¡</title>
        <link>https://lxb.wiki/30fc3293/</link>
        <pubDate>Sun, 10 Oct 2021 21:18:51 +0000</pubDate>
        
        <guid>https://lxb.wiki/30fc3293/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;1-ç›¸æ¯”è¾ƒäºå…¶ä»–è¯­è¨€-go-æœ‰ä»€ä¹ˆä¼˜åŠ¿æˆ–è€…ç‰¹ç‚¹&#34;&gt;&lt;strong&gt;1. ç›¸æ¯”è¾ƒäºå…¶ä»–è¯­è¨€, Go æœ‰ä»€ä¹ˆä¼˜åŠ¿æˆ–è€…ç‰¹ç‚¹ï¼Ÿ&lt;/strong&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Go å…è®¸è·¨å¹³å°ç¼–è¯‘ï¼Œç¼–è¯‘å‡ºæ¥çš„æ˜¯äºŒè¿›åˆ¶çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œç›´æ¥éƒ¨ç½²åœ¨å¯¹åº”ç³»ç»Ÿä¸Šå³å¯è¿è¡Œã€‚&lt;/li&gt;
&lt;li&gt;Go åœ¨è¯­è¨€å±‚æ¬¡ä¸Šå¤©ç”Ÿæ”¯æŒé«˜å¹¶å‘ï¼Œé€šè¿‡ goroutine å’Œ channel å®ç°ã€‚channel çš„ç†è®ºä¾æ®æ˜¯ CSP å¹¶å‘æ¨¡å‹ï¼Œ å³æ‰€è°“çš„&lt;code&gt;é€šè¿‡é€šä¿¡æ¥å…±äº«å†…å­˜&lt;/code&gt;ï¼›Go åœ¨ runtime è¿è¡Œæ—¶é‡Œå®ç°äº†å±äºè‡ªå·±çš„è°ƒåº¦æœºåˆ¶ï¼šGMPï¼Œé™ä½äº†å†…æ ¸æ€å’Œç”¨æˆ·æ€çš„åˆ‡æ¢æˆæœ¬ã€‚&lt;/li&gt;
&lt;li&gt;Go çš„ä»£ç é£æ ¼æ˜¯å¼ºåˆ¶æ€§çš„ç»Ÿä¸€ï¼Œå¦‚æœæ²¡æœ‰æŒ‰ç…§è§„å®šæ¥ï¼Œä¼šç¼–è¯‘ä¸é€šè¿‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;2-golang-é‡Œçš„-gmp-æ¨¡å‹&#34;&gt;&lt;strong&gt;2. Golang é‡Œçš„ GMP æ¨¡å‹ï¼Ÿ&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;GMP æ¨¡å‹æ˜¯ golang è‡ªå·±çš„ä¸€ä¸ªè°ƒåº¦æ¨¡å‹ï¼Œå®ƒæŠ½è±¡å‡ºäº†ä¸‹é¢ä¸‰ä¸ªç»“æ„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Gï¼š&lt;/code&gt; ä¹Ÿå°±æ˜¯åç¨‹ goroutineï¼Œç”± Go runtime ç®¡ç†ã€‚æˆ‘ä»¬å¯ä»¥è®¤ä¸ºå®ƒæ˜¯ç”¨æˆ·çº§åˆ«çš„çº¿ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Pï¼š&lt;/code&gt; processor å¤„ç†å™¨ã€‚æ¯å½“æœ‰ goroutine è¦åˆ›å»ºæ—¶ï¼Œä¼šè¢«æ·»åŠ åˆ° P ä¸Šçš„ goroutine æœ¬åœ°é˜Ÿåˆ—ä¸Šï¼Œå¦‚æœ P çš„æœ¬åœ°é˜Ÿåˆ—å·²æ»¡ï¼Œåˆ™ä¼šç»´æŠ¤åˆ°å…¨å±€é˜Ÿåˆ—é‡Œã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mï¼š&lt;/code&gt; ç³»ç»Ÿçº¿ç¨‹ã€‚åœ¨ M ä¸Šæœ‰è°ƒåº¦å‡½æ•°ï¼Œå®ƒæ˜¯çœŸæ­£çš„è°ƒåº¦æ‰§è¡Œè€…ï¼ŒM éœ€è¦è·Ÿ P ç»‘å®šï¼Œå¹¶ä¸”ä¼šè®© P æŒ‰ä¸‹é¢çš„åŸåˆ™æŒ‘å‡ºä¸ª goroutine æ¥æ‰§è¡Œï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¼˜å…ˆä» P çš„æœ¬åœ°é˜Ÿåˆ—è·å– goroutine æ¥æ‰§è¡Œï¼›å¦‚æœæœ¬åœ°é˜Ÿåˆ—æ²¡æœ‰ï¼Œä»å…¨å±€é˜Ÿåˆ—è·å–ï¼Œå¦‚æœå…¨å±€é˜Ÿåˆ—ä¹Ÿæ²¡æœ‰ï¼Œä¼šä»å…¶ä»–çš„ P ä¸Šå·å– goroutineã€‚&lt;/p&gt;
&lt;h2 id=&#34;3-goroutine-çš„åç¨‹æœ‰ä»€ä¹ˆç‰¹ç‚¹å’Œçº¿ç¨‹ç›¸æ¯”&#34;&gt;&lt;strong&gt;3. goroutine çš„åç¨‹æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Œå’Œçº¿ç¨‹ç›¸æ¯”ï¼Ÿ&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;goroutine éå¸¸çš„&lt;strong&gt;è½»é‡&lt;/strong&gt;ï¼Œåˆå§‹åˆ†é…åªæœ‰ 2KBï¼Œå½“æ ˆç©ºé—´ä¸å¤Ÿç”¨æ—¶ï¼Œä¼šè‡ªåŠ¨æ‰©å®¹ã€‚åŒæ—¶ï¼Œè‡ªèº«å­˜å‚¨äº†æ‰§è¡Œ stack ä¿¡æ¯ï¼Œç”¨äºåœ¨è°ƒåº¦æ—¶èƒ½æ¢å¤ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;è€Œçº¿ç¨‹æ¯”è¾ƒé‡ï¼Œä¸€èˆ¬åˆå§‹å¤§å°æœ‰å‡  MB(ä¸åŒç³»ç»Ÿåˆ†é…ä¸åŒ)ï¼Œçº¿ç¨‹æ˜¯ç”±æ“ä½œç³»ç»Ÿè°ƒåº¦ï¼Œæ˜¯æ“ä½œç³»ç»Ÿçš„è°ƒåº¦åŸºæœ¬å•ä½ã€‚è€Œ golang å®ç°äº†è‡ªå·±çš„è°ƒåº¦æœºåˆ¶ï¼Œgoroutine æ˜¯å®ƒçš„è°ƒåº¦åŸºæœ¬å•ä½ã€‚&lt;/p&gt;
&lt;h2 id=&#34;4-go-çš„åƒåœ¾å›æ”¶æœºåˆ¶&#34;&gt;&lt;strong&gt;4. Go çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Ÿ&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;Go é‡‡ç”¨çš„æ˜¯ä¸‰è‰²æ ‡è®°æ³•ï¼Œå°†å†…å­˜é‡Œçš„å¯¹è±¡åˆ†ä¸ºäº†ä¸‰ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç™½è‰²å¯¹è±¡ï¼šæœªè¢«ä½¿ç”¨çš„å¯¹è±¡ï¼›&lt;/li&gt;
&lt;li&gt;ç°è‰²å¯¹è±¡ï¼šå½“å‰å¯¹è±¡æœ‰å¼•ç”¨å¯¹è±¡ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å¯¹å¼•ç”¨å¯¹è±¡ç»§ç»­æ‰«æè¿‡ï¼›&lt;/li&gt;
&lt;li&gt;é»‘è‰²å¯¹è±¡ï¼Œå¯¹ä¸Šé¢æåˆ°çš„ç°è‰²å¯¹è±¡çš„å¼•ç”¨å¯¹è±¡å·²ç»å…¨éƒ¨æ‰«æè¿‡äº†ï¼Œä¸‹æ¬¡ä¸ç”¨å†æ‰«æå®ƒäº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å½“åƒåœ¾å›æ”¶å¼€å§‹æ—¶ï¼ŒGo ä¼šæŠŠæ ¹å¯¹è±¡æ ‡è®°ä¸ºç°è‰²ï¼Œå…¶ä»–å¯¹è±¡æ ‡è®°ä¸ºç™½è‰²ï¼Œç„¶åä»æ ¹å¯¹è±¡éå†æœç´¢ï¼ŒæŒ‰ç…§ä¸Šé¢çš„å®šä¹‰å»ä¸æ–­çš„å¯¹ç°è‰²å¯¹è±¡è¿›è¡Œæ‰«ææ ‡è®°ã€‚å½“æ²¡æœ‰ç°è‰²å¯¹è±¡æ—¶ï¼Œè¡¨ç¤ºæ‰€æœ‰å¯¹è±¡å·²æ‰«æè¿‡ï¼Œç„¶åå°±å¯ä»¥å¼€å§‹æ¸…é™¤ç™½è‰²å¯¹è±¡äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;5-go-çš„å†…å­˜åˆ†é…æ˜¯æ€ä¹ˆæ ·çš„&#34;&gt;&lt;strong&gt;5. go çš„å†…å­˜åˆ†é…æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;Go çš„å†…å­˜åˆ†é…å€Ÿé‰´äº† Google çš„ TCMalloc åˆ†é…ç®—æ³•ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯å†…å­˜æ±  + å¤šçº§å¯¹è±¡ç®¡ç†ã€‚å†…å­˜æ± ä¸»è¦æ˜¯é¢„å…ˆåˆ†é…å†…å­˜ï¼Œå‡å°‘å‘ç³»ç»Ÿç”³è¯·çš„é¢‘ç‡ï¼›å¤šçº§å¯¹è±¡æœ‰ï¼šmheapã€mspanã€arenasã€mcentralã€mcacheã€‚å®ƒä»¬ä»¥ mspan ä½œä¸ºåŸºæœ¬åˆ†é…å•ä½ã€‚å…·ä½“çš„åˆ†é…é€»è¾‘å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“è¦åˆ†é…å¤§äº 32K çš„å¯¹è±¡æ—¶ï¼Œä» mheap åˆ†é…ã€‚&lt;/li&gt;
&lt;li&gt;å½“è¦åˆ†é…çš„å¯¹è±¡å°äºç­‰äº 32K å¤§äº 16B æ—¶ï¼Œä» P ä¸Šçš„ mcache åˆ†é…ï¼Œå¦‚æœ mcache æ²¡æœ‰å†…å­˜ï¼Œåˆ™ä» mcentral è·å–ï¼Œå¦‚æœ mcentral ä¹Ÿæ²¡æœ‰ï¼Œåˆ™å‘ mheap ç”³è¯·ï¼Œå¦‚æœ mheap ä¹Ÿæ²¡æœ‰ï¼Œåˆ™ä»æ“ä½œç³»ç»Ÿç”³è¯·å†…å­˜ã€‚&lt;/li&gt;
&lt;li&gt;å½“è¦åˆ†é…çš„å¯¹è±¡å°äºç­‰äº 16B æ—¶ï¼Œä» mcache ä¸Šçš„å¾®å‹åˆ†é…å™¨ä¸Šåˆ†é…ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;6-channel-çš„å†…éƒ¨å®ç°æ˜¯æ€ä¹ˆæ ·çš„&#34;&gt;&lt;strong&gt;6. channel çš„å†…éƒ¨å®ç°æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;channel å†…éƒ¨ç»´æŠ¤äº†ä¸¤ä¸ª goroutine é˜Ÿåˆ—ï¼Œä¸€ä¸ªæ˜¯å¾…å‘é€æ•°æ®çš„ goroutine é˜Ÿåˆ—ï¼Œå¦ä¸€ä¸ªæ˜¯å¾…è¯»å–æ•°æ®çš„ goroutine é˜Ÿåˆ—ã€‚&lt;/p&gt;
&lt;p&gt;æ¯å½“å¯¹ channel çš„è¯»å†™æ“ä½œè¶…è¿‡äº†å¯ç¼“å†²çš„ goroutine æ•°é‡ï¼Œé‚£ä¹ˆå½“å‰çš„ goroutine å°±ä¼šè¢«æŒ‚åˆ°å¯¹åº”çš„é˜Ÿåˆ—ä¸Šï¼Œç›´åˆ°æœ‰å…¶ä»– goroutine æ‰§è¡Œäº†ä¸ä¹‹ç›¸åçš„è¯»å†™æ“ä½œï¼Œå°†å®ƒé‡æ–°å”¤èµ·ã€‚&lt;/p&gt;
&lt;h2 id=&#34;7-å¯¹å·²ç»å…³é—­çš„-channel-è¿›è¡Œè¯»å†™ä¼šæ€ä¹ˆæ ·&#34;&gt;&lt;strong&gt;7. å¯¹å·²ç»å…³é—­çš„ channel è¿›è¡Œè¯»å†™ï¼Œä¼šæ€ä¹ˆæ ·ï¼Ÿ&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;å½“ channel è¢«å…³é—­åï¼Œå¦‚æœç»§ç»­å¾€é‡Œé¢å†™æ•°æ®ï¼Œç¨‹åºä¼šç›´æ¥ &lt;strong&gt;panic&lt;/strong&gt; é€€å‡ºã€‚å¦‚æœæ˜¯è¯»å–å…³é—­åçš„ channelï¼Œä¸ä¼šäº§ç”Ÿ pannicï¼Œè¿˜å¯ä»¥è¯»åˆ°æ•°æ®ã€‚ä½†å…³é—­åçš„ channel æ²¡æœ‰æ•°æ®å¯è¯»å–æ—¶ï¼Œå°†å¾—åˆ°é›¶å€¼ï¼Œå³å¯¹åº”ç±»å‹çš„é»˜è®¤å€¼ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†èƒ½çŸ¥é“å½“å‰ channel æ˜¯å¦è¢«å…³é—­ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å†™æ³•æ¥åˆ¤æ–­ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; if v, ok := &amp;lt;-ch; !ok {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  fmt.Println(&amp;#34;channel å·²å…³é—­ï¼Œè¯»å–ä¸åˆ°æ•°æ®&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿˜å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å†™æ³•ä¸æ–­çš„è·å– channel é‡Œçš„æ•°æ®ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; for data := range ch {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  // get data dosomething
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ç§ç”¨æ³•ä¼šåœ¨è¯»å–å®Œ channel é‡Œçš„æ•°æ®åå°±ç»“æŸ for å¾ªç¯ï¼Œæ‰§è¡Œåé¢çš„ä»£ç ã€‚&lt;/p&gt;
&lt;h2 id=&#34;8-map-ä¸ºä»€ä¹ˆä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„&#34;&gt;&lt;strong&gt;8. map ä¸ºä»€ä¹ˆä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Ÿ&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;map åœ¨æ‰©ç¼©å®¹æ—¶ï¼Œéœ€è¦è¿›è¡Œæ•°æ®è¿ç§»ï¼Œè¿ç§»çš„è¿‡ç¨‹å¹¶æ²¡æœ‰é‡‡ç”¨é”æœºåˆ¶é˜²æ­¢å¹¶å‘æ“ä½œï¼Œè€Œæ˜¯ä¼šå¯¹æŸä¸ªæ ‡è¯†ä½æ ‡è®°ä¸º 1ï¼Œè¡¨ç¤ºæ­¤æ—¶æ­£åœ¨è¿ç§»æ•°æ®ã€‚å¦‚æœæœ‰å…¶ä»– goroutine å¯¹ map ä¹Ÿè¿›è¡Œå†™æ“ä½œï¼Œå½“å®ƒæ£€æµ‹åˆ°æ ‡è¯†ä½ä¸º 1 æ—¶ï¼Œå°†ä¼šç›´æ¥ panicã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬æƒ³è¦å¹¶å‘å®‰å…¨çš„ mapï¼Œåˆ™éœ€è¦ä½¿ç”¨ sync.mapã€‚&lt;/p&gt;
&lt;h2 id=&#34;9-map-çš„-key-ä¸ºä»€ä¹ˆå¾—æ˜¯å¯æ¯”è¾ƒç±»å‹çš„&#34;&gt;&lt;strong&gt;9. map çš„ key ä¸ºä»€ä¹ˆå¾—æ˜¯å¯æ¯”è¾ƒç±»å‹çš„ï¼Ÿ&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;map çš„ keyã€value æ˜¯å­˜åœ¨ buckets æ•°ç»„é‡Œçš„ï¼Œæ¯ä¸ª bucket åˆå¯ä»¥å®¹çº³ 8 ä¸ª key å’Œ 8 ä¸ª valueã€‚å½“è¦æ’å…¥ä¸€ä¸ªæ–°çš„ key - value æ—¶ï¼Œä¼šå¯¹ key è¿›è¡Œ hash è¿ç®—å¾—åˆ°ä¸€ä¸ª hash å€¼ï¼Œç„¶åæ ¹æ® hash å€¼ çš„ä½å‡ ä½(å–å‡ ä½å–å†³äºæ¡¶çš„æ•°é‡ï¼Œæ¯”å¦‚ä¸€å¼€å§‹æ¡¶çš„æ•°é‡æ˜¯ 5ï¼Œåˆ™å–ä½ 5 ä½)æ¥å†³å®šå‘½ä¸­å“ªä¸ª bucketã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å‘½ä¸­æŸä¸ª bucket åï¼Œåˆä¼šæ ¹æ® hash å€¼çš„é«˜ 8 ä½æ¥å†³å®šæ˜¯ 8 ä¸ª key é‡Œçš„å“ªä¸ªä½ç½®ã€‚å¦‚æœä¸å·§ï¼Œå‘ç”Ÿäº† hash å†²çªï¼Œå³è¯¥ä½ç½®ä¸Šå·²ç»æœ‰&lt;strong&gt;å…¶ä»– key&lt;/strong&gt; å­˜åœ¨äº†ï¼Œåˆ™ä¼šå»å…¶ä»–ç©ºä½ç½®å¯»æ‰¾æ’å…¥ã€‚å¦‚æœå…¨éƒ½æ»¡äº†ï¼Œåˆ™ä½¿ç”¨ overflow æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªæ–°çš„ bucketï¼Œé‡å¤åˆšåˆšçš„å¯»æ‰¾æ­¥éª¤ã€‚&lt;/p&gt;
&lt;p&gt;ä»ä¸Šé¢çš„æµç¨‹å¯ä»¥çœ‹å‡ºï¼Œåœ¨åˆ¤æ–­ hash å†²çªï¼Œå³è¯¥ä½ç½®æ˜¯å¦å·²æœ‰&lt;strong&gt;å…¶ä»– key&lt;/strong&gt; æ—¶ï¼Œè‚¯å®šæ˜¯è¦è¿›è¡Œæ¯”è¾ƒçš„ï¼Œæ‰€ä»¥ key å¿…é¡»å¾—æ˜¯å¯æ¯”è¾ƒç±»å‹çš„ã€‚åƒ sliceã€mapã€function å°±ä¸èƒ½ä½œä¸º keyã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Kafka ä¸»ä»åŒæ­¥</title>
        <link>https://lxb.wiki/4c6cb38f/</link>
        <pubDate>Sun, 26 Sep 2021 22:01:43 +0000</pubDate>
        
        <guid>https://lxb.wiki/4c6cb38f/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;Kafkaå…è®¸topicçš„åˆ†åŒºæ‹¥æœ‰è‹¥å¹²å‰¯æœ¬ï¼Œè¿™ä¸ªæ•°é‡æ˜¯å¯ä»¥é…ç½®çš„ï¼Œä½ å¯ä»¥ä¸ºæ¯ä¸ªtopcié…ç½®å‰¯æœ¬çš„æ•°é‡ã€‚Kafkaä¼šè‡ªåŠ¨åœ¨æ¯ä¸ªä¸ªå‰¯æœ¬ä¸Šå¤‡ä»½æ•°æ®ï¼Œæ‰€ä»¥å½“ä¸€ä¸ªèŠ‚ç‚¹downæ‰æ—¶æ•°æ®ä¾ç„¶æ˜¯å¯ç”¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;Kafkaçš„å‰¯æœ¬åŠŸèƒ½ä¸æ˜¯å¿…é¡»çš„ï¼Œä½ å¯ä»¥é…ç½®åªæœ‰ä¸€ä¸ªå‰¯æœ¬ï¼Œè¿™æ ·å…¶å®å°±ç›¸å½“äºåªæœ‰ä¸€ä»½æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;åˆ›å»ºå‰¯æœ¬çš„å•ä½æ˜¯topicçš„åˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºéƒ½æœ‰ä¸€ä¸ªleaderå’Œé›¶æˆ–å¤šä¸ªfollowers.æ‰€æœ‰çš„è¯»å†™æ“ä½œéƒ½ç”±leaderå¤„ç†ï¼Œä¸€èˆ¬åˆ†åŒºçš„æ•°é‡éƒ½æ¯”brokerçš„æ•°é‡å¤šçš„å¤šï¼Œå„åˆ†åŒºçš„leaderå‡åŒ€çš„åˆ†å¸ƒåœ¨brokersä¸­ã€‚æ‰€æœ‰çš„followerséƒ½å¤åˆ¶leaderçš„æ—¥å¿—ï¼Œæ—¥å¿—ä¸­çš„æ¶ˆæ¯å’Œé¡ºåºéƒ½å’Œleaderä¸­çš„ä¸€è‡´ã€‚flowerså‘æ™®é€šçš„consumeré‚£æ ·ä»leaderé‚£é‡Œæ‹‰å–æ¶ˆæ¯å¹¶ä¿å­˜åœ¨è‡ªå·±çš„æ—¥å¿—æ–‡ä»¶ä¸­ã€‚
è®¸å¤šåˆ†å¸ƒå¼çš„æ¶ˆæ¯ç³»ç»Ÿè‡ªåŠ¨çš„å¤„ç†å¤±è´¥çš„è¯·æ±‚ï¼Œå®ƒä»¬å¯¹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦
ç€ï¼ˆaliveï¼‰â€æœ‰ç€æ¸…æ™°çš„å®šä¹‰ã€‚Kafkaåˆ¤æ–­ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦æ´»ç€æœ‰ä¸¤ä¸ªæ¡ä»¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;èŠ‚ç‚¹å¿…é¡»å¯ä»¥ç»´æŠ¤å’ŒZooKeeperçš„è¿æ¥ï¼ŒZookeeperé€šè¿‡å¿ƒè·³æœºåˆ¶æ£€æŸ¥æ¯ä¸ªèŠ‚ç‚¹çš„è¿æ¥ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœèŠ‚ç‚¹æ˜¯ä¸ªfollower,ä»–å¿…é¡»èƒ½åŠæ—¶çš„åŒæ­¥leaderçš„å†™æ“ä½œï¼Œå»¶æ—¶ä¸èƒ½å¤ªä¹…ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç¬¦åˆä»¥ä¸Šæ¡ä»¶çš„èŠ‚ç‚¹å‡†ç¡®çš„è¯´åº”è¯¥æ˜¯â€œåŒæ­¥ä¸­çš„ï¼ˆin syncï¼‰â€ï¼Œè€Œä¸æ˜¯æ¨¡ç³Šçš„è¯´æ˜¯â€œæ´»ç€çš„â€æˆ–æ˜¯â€œå¤±è´¥çš„â€ã€‚Leaderä¼šè¿½è¸ªæ‰€æœ‰â€œåŒæ­¥ä¸­â€çš„èŠ‚ç‚¹ï¼Œä¸€æ—¦ä¸€ä¸ªdownæ‰äº†ï¼Œæˆ–æ˜¯å¡ä½äº†ï¼Œæˆ–æ˜¯å»¶æ—¶å¤ªä¹…ï¼Œleaderå°±ä¼šæŠŠå®ƒç§»é™¤ã€‚è‡³äºå»¶æ—¶å¤šä¹…ç®—æ˜¯â€œå¤ªä¹…â€ï¼Œæ˜¯ç”±å‚æ•°replica.lag.max.messageså†³å®šçš„ï¼Œæ€æ ·ç®—æ˜¯å¡ä½äº†ï¼Œæ€æ˜¯ç”±å‚æ•°replica.lag.time.max.mså†³å®šçš„ã€‚
åªæœ‰å½“æ¶ˆæ¯è¢«æ‰€æœ‰çš„å‰¯æœ¬åŠ å…¥åˆ°æ—¥å¿—ä¸­æ—¶ï¼Œæ‰ç®—æ˜¯â€œcommittedâ€ï¼Œåªæœ‰committedçš„æ¶ˆæ¯æ‰ä¼šå‘é€ç»™consumerï¼Œè¿™æ ·å°±ä¸ç”¨æ‹…å¿ƒä¸€æ—¦leader downæ‰äº†æ¶ˆæ¯ä¼šä¸¢å¤±ã€‚Producerä¹Ÿå¯ä»¥é€‰æ‹©æ˜¯å¦ç­‰å¾…æ¶ˆæ¯è¢«æäº¤çš„é€šçŸ¥ï¼Œè¿™ä¸ªæ˜¯ç”±å‚æ•°request.required.ackså†³å®šçš„ã€‚&lt;/p&gt;
&lt;p&gt;Kafkaä¿è¯åªè¦æœ‰ä¸€ä¸ªâ€œåŒæ­¥ä¸­â€çš„èŠ‚ç‚¹ï¼Œâ€œcommittedâ€çš„æ¶ˆæ¯å°±ä¸ä¼šä¸¢å¤±ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Leaderçš„é€‰æ‹©&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Kafkaçš„æ ¸å¿ƒæ˜¯æ—¥å¿—æ–‡ä»¶ï¼Œæ—¥å¿—æ–‡ä»¶åœ¨é›†ç¾¤ä¸­çš„åŒæ­¥æ˜¯åˆ†å¸ƒå¼æ•°æ®ç³»ç»Ÿæœ€åŸºç¡€çš„è¦ç´ ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœleadersæ°¸è¿œä¸ä¼šdownçš„è¯æˆ‘ä»¬å°±ä¸éœ€è¦followersäº†ï¼ä¸€æ—¦leader downæ‰äº†ï¼Œéœ€è¦åœ¨followersä¸­é€‰æ‹©ä¸€ä¸ªæ–°çš„leader.ä½†æ˜¯followersæœ¬èº«æœ‰å¯èƒ½å»¶æ—¶å¤ªä¹…æˆ–è€…crashï¼Œæ‰€ä»¥å¿…é¡»é€‰æ‹©é«˜è´¨é‡çš„followerä½œä¸ºleader.å¿…é¡»ä¿è¯ï¼Œä¸€æ—¦ä¸€ä¸ªæ¶ˆæ¯è¢«æäº¤äº†ï¼Œä½†æ˜¯leader downæ‰äº†ï¼Œæ–°é€‰å‡ºçš„leaderå¿…é¡»å¯ä»¥æä¾›è¿™æ¡æ¶ˆæ¯ã€‚å¤§éƒ¨åˆ†çš„åˆ†å¸ƒå¼ç³»ç»Ÿé‡‡ç”¨äº†å¤šæ•°æŠ•ç¥¨æ³•åˆ™é€‰æ‹©æ–°çš„leader,å¯¹äºå¤šæ•°æŠ•ç¥¨æ³•åˆ™ï¼Œå°±æ˜¯æ ¹æ®æ‰€æœ‰å‰¯æœ¬èŠ‚ç‚¹çš„çŠ¶å†µåŠ¨æ€çš„é€‰æ‹©æœ€é€‚åˆçš„ä½œä¸ºleader.Kafkaå¹¶ä¸æ˜¯ä½¿ç”¨è¿™ç§æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;KafakaåŠ¨æ€ç»´æŠ¤äº†ä¸€ä¸ªåŒæ­¥çŠ¶æ€çš„å‰¯æœ¬çš„é›†åˆï¼ˆa set of in-sync replicasï¼‰ï¼Œç®€ç§°ISRï¼Œåœ¨è¿™ä¸ªé›†åˆä¸­çš„èŠ‚ç‚¹éƒ½æ˜¯å’Œleaderä¿æŒé«˜åº¦ä¸€è‡´çš„ï¼Œä»»ä½•ä¸€æ¡æ¶ˆæ¯å¿…é¡»è¢«è¿™ä¸ªé›†åˆä¸­çš„æ¯ä¸ªèŠ‚ç‚¹è¯»å–å¹¶è¿½åŠ åˆ°æ—¥å¿—ä¸­äº†ï¼Œæ‰å›é€šçŸ¥å¤–éƒ¨è¿™ä¸ªæ¶ˆæ¯å·²ç»è¢«æäº¤äº†ã€‚å› æ­¤è¿™ä¸ªé›†åˆä¸­çš„ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹éšæ—¶éƒ½å¯ä»¥è¢«é€‰ä¸ºleader.ISRåœ¨ZooKeeperä¸­ç»´æŠ¤ã€‚ISRä¸­æœ‰f+1ä¸ªèŠ‚ç‚¹ï¼Œå°±å¯ä»¥å…è®¸åœ¨fä¸ªèŠ‚ç‚¹downæ‰çš„æƒ…å†µä¸‹ä¸ä¼šä¸¢å¤±æ¶ˆæ¯å¹¶æ­£å¸¸æä¾›æœã€‚ISRçš„æˆå‘˜æ˜¯åŠ¨æ€çš„ï¼Œå¦‚æœä¸€ä¸ªèŠ‚ç‚¹è¢«æ·˜æ±°äº†ï¼Œå½“å®ƒé‡æ–°è¾¾åˆ°â€œåŒæ­¥ä¸­â€çš„çŠ¶æ€æ—¶ï¼Œä»–å¯ä»¥é‡æ–°åŠ å…¥ISR.è¿™ç§leaderçš„é€‰æ‹©æ–¹å¼æ˜¯éå¸¸å¿«é€Ÿçš„ï¼Œé€‚åˆkafkaçš„åº”ç”¨åœºæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªé‚ªæ¶çš„æƒ³æ³•ï¼šå¦‚æœæ‰€æœ‰èŠ‚ç‚¹éƒ½downæ‰äº†æ€ä¹ˆåŠï¼ŸKafkaå¯¹äºæ•°æ®ä¸ä¼šä¸¢å¤±çš„ä¿è¯ï¼Œæ˜¯åŸºäºè‡³å°‘ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å­˜æ´»çš„ï¼Œä¸€æ—¦æ‰€æœ‰èŠ‚ç‚¹éƒ½downäº†ï¼Œè¿™ä¸ªå°±ä¸èƒ½ä¿è¯äº†ã€‚
å®é™…åº”ç”¨ä¸­ï¼Œå½“æ‰€æœ‰çš„å‰¯æœ¬éƒ½downæ‰æ—¶ï¼Œå¿…é¡»åŠæ—¶ä½œå‡ºååº”ã€‚å¯ä»¥æœ‰ä»¥ä¸‹ä¸¤ç§é€‰æ‹©:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç­‰å¾…ISRä¸­çš„ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹æ¢å¤å¹¶æ‹…ä»»leaderã€‚&lt;/li&gt;
&lt;li&gt;é€‰æ‹©æ‰€æœ‰èŠ‚ç‚¹ä¸­ï¼ˆä¸åªæ˜¯ISRï¼‰ç¬¬ä¸€ä¸ªæ¢å¤çš„èŠ‚ç‚¹ä½œä¸ºleader.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªåœ¨å¯ç”¨æ€§å’Œè¿ç»­æ€§ä¹‹é—´çš„æƒè¡¡ã€‚å¦‚æœç­‰å¾…ISRä¸­çš„èŠ‚ç‚¹æ¢å¤ï¼Œä¸€æ—¦ISRä¸­çš„èŠ‚ç‚¹èµ·ä¸èµ·æ¥æˆ–è€…æ•°æ®éƒ½æ˜¯äº†ï¼Œé‚£é›†ç¾¤å°±æ°¸è¿œæ¢å¤ä¸äº†äº†ã€‚å¦‚æœç­‰å¾…ISRæ„å¤–çš„èŠ‚ç‚¹æ¢å¤ï¼Œè¿™ä¸ªèŠ‚ç‚¹çš„æ•°æ®å°±ä¼šè¢«ä½œä¸ºçº¿ä¸Šæ•°æ®ï¼Œæœ‰å¯èƒ½å’ŒçœŸå®çš„æ•°æ®æœ‰æ‰€å‡ºå…¥ï¼Œå› ä¸ºæœ‰äº›æ•°æ®å®ƒå¯èƒ½è¿˜æ²¡åŒæ­¥åˆ°ã€‚Kafkaç›®å‰é€‰æ‹©äº†ç¬¬äºŒç§ç­–ç•¥ï¼Œåœ¨æœªæ¥çš„ç‰ˆæœ¬ä¸­å°†ä½¿è¿™ä¸ªç­–ç•¥çš„é€‰æ‹©å¯é…ç½®ï¼Œå¯ä»¥æ ¹æ®åœºæ™¯çµæ´»çš„é€‰æ‹©ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§çª˜å¢ƒä¸åªKafkaä¼šé‡åˆ°ï¼Œå‡ ä¹æ‰€æœ‰çš„åˆ†å¸ƒå¼æ•°æ®ç³»ç»Ÿéƒ½ä¼šé‡åˆ°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‰¯æœ¬ç®¡ç†&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šä»…ä»…ä»¥ä¸€ä¸ªtopicä¸€ä¸ªåˆ†åŒºä¸ºä¾‹å­è¿›è¡Œäº†è®¨è®ºï¼Œä½†å®é™…ä¸Šä¸€ä¸ªKafkaå°†ä¼šç®¡ç†æˆåƒä¸Šä¸‡çš„topicåˆ†åŒº.Kafkaå°½é‡çš„ä½¿æ‰€æœ‰åˆ†åŒºå‡åŒ€çš„åˆ†å¸ƒåˆ°é›†ç¾¤æ‰€æœ‰çš„èŠ‚ç‚¹ä¸Šè€Œä¸æ˜¯é›†ä¸­åœ¨æŸäº›èŠ‚ç‚¹ä¸Šï¼Œå¦å¤–ä¸»ä»å…³ç³»ä¹Ÿå°½é‡å‡è¡¡è¿™æ ·æ¯ä¸ªå‡ ç‚¹éƒ½ä¼šæ‹…ä»»ä¸€å®šæ¯”ä¾‹çš„åˆ†åŒºçš„leader.&lt;/p&gt;
&lt;p&gt;ä¼˜åŒ–leaderçš„é€‰æ‹©è¿‡ç¨‹ä¹Ÿæ˜¯å¾ˆé‡è¦çš„ï¼Œå®ƒå†³å®šäº†ç³»ç»Ÿå‘ç”Ÿæ•…éšœæ—¶çš„ç©ºçª—æœŸæœ‰å¤šä¹…ã€‚Kafkaé€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºâ€œcontrollerâ€,å½“å‘ç°æœ‰èŠ‚ç‚¹downæ‰çš„æ—¶å€™å®ƒè´Ÿè´£åœ¨æ¸¸æ³³åˆ†åŒºçš„æ‰€æœ‰èŠ‚ç‚¹ä¸­é€‰æ‹©æ–°çš„leader,è¿™ä½¿å¾—Kafkaå¯ä»¥æ‰¹é‡çš„é«˜æ•ˆçš„ç®¡ç†æ‰€æœ‰åˆ†åŒºèŠ‚ç‚¹çš„ä¸»ä»å…³ç³»ã€‚å¦‚æœcontroller downæ‰äº†ï¼Œæ´»ç€çš„èŠ‚ç‚¹ä¸­çš„ä¸€ä¸ªä¼šå¤‡åˆ‡æ¢ä¸ºæ–°çš„controller.&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Kafka æ¶æ„</title>
        <link>https://lxb.wiki/44075289/</link>
        <pubDate>Sat, 25 Sep 2021 21:55:19 +0000</pubDate>
        
        <guid>https://lxb.wiki/44075289/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;ä¸€ç®€ä»‹&#34;&gt;ä¸€ã€ç®€ä»‹&lt;/h2&gt;
&lt;h3 id=&#34;11-æ¦‚è¿°&#34;&gt;1.1 æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;Kafkaä¸»è¦è®¾è®¡ç›®æ ‡å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»¥æ—¶é—´å¤æ‚åº¦ä¸ºO(1)çš„æ–¹å¼æä¾›æ¶ˆæ¯æŒä¹…åŒ–èƒ½åŠ›ï¼Œå³ä½¿å¯¹TBçº§ä»¥ä¸Šæ•°æ®ä¹Ÿèƒ½ä¿è¯å¸¸æ•°æ—¶é—´çš„è®¿é—®æ€§èƒ½ã€‚&lt;/li&gt;
&lt;li&gt;é«˜ååç‡ã€‚å³ä½¿åœ¨éå¸¸å»‰ä»·çš„å•†ç”¨æœºå™¨ä¸Šä¹Ÿèƒ½åšåˆ°å•æœºæ”¯æŒæ¯ç§’100Kæ¡æ¶ˆæ¯çš„ä¼ è¾“ã€‚&lt;/li&gt;
&lt;li&gt;æ”¯æŒKafka Serveré—´çš„æ¶ˆæ¯åˆ†åŒºï¼ŒåŠåˆ†å¸ƒå¼æ¶ˆè´¹ï¼ŒåŒæ—¶ä¿è¯æ¯ä¸ªpartitionå†…çš„æ¶ˆæ¯é¡ºåºä¼ è¾“ã€‚&lt;/li&gt;
&lt;li&gt;åŒæ—¶æ”¯æŒç¦»çº¿æ•°æ®å¤„ç†å’Œå®æ—¶æ•°æ®å¤„ç†ã€‚&lt;/li&gt;
&lt;li&gt;æ”¯æŒåœ¨çº¿æ°´å¹³æ‰©å±•&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;12-æ¶ˆæ¯ç³»ç»Ÿä»‹ç»&#34;&gt;1.2 æ¶ˆæ¯ç³»ç»Ÿä»‹ç»&lt;/h3&gt;
&lt;p&gt;ä¸€ä¸ªæ¶ˆæ¯ç³»ç»Ÿè´Ÿè´£å°†æ•°æ®ä»ä¸€ä¸ªåº”ç”¨ä¼ é€’åˆ°å¦å¤–ä¸€ä¸ªåº”ç”¨ï¼Œåº”ç”¨åªéœ€å…³æ³¨äºæ•°æ®ï¼Œæ— éœ€å…³æ³¨æ•°æ®åœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªåº”ç”¨é—´æ˜¯å¦‚ä½•ä¼ é€’çš„ã€‚åˆ†å¸ƒå¼æ¶ˆæ¯ä¼ é€’åŸºäºå¯é çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œåœ¨å®¢æˆ·ç«¯åº”ç”¨å’Œæ¶ˆæ¯ç³»ç»Ÿä¹‹é—´å¼‚æ­¥ä¼ é€’æ¶ˆæ¯ã€‚æœ‰ä¸¤ç§ä¸»è¦çš„æ¶ˆæ¯ä¼ é€’æ¨¡å¼ï¼š&lt;strong&gt;ç‚¹å¯¹ç‚¹ä¼ é€’æ¨¡å¼ã€å‘å¸ƒ-è®¢é˜…æ¨¡å¼&lt;/strong&gt;ã€‚å¤§éƒ¨åˆ†çš„æ¶ˆæ¯ç³»ç»Ÿé€‰ç”¨å‘å¸ƒ-è®¢é˜…æ¨¡å¼ã€‚&lt;strong&gt;Kafkaå°±æ˜¯ä¸€ç§å‘å¸ƒ-è®¢é˜…æ¨¡å¼&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;13-ç‚¹å¯¹ç‚¹æ¶ˆæ¯ä¼ é€’&#34;&gt;1.3 ç‚¹å¯¹ç‚¹æ¶ˆæ¯ä¼ é€’&lt;/h3&gt;
&lt;p&gt;åœ¨ç‚¹å¯¹ç‚¹æ¶ˆæ¯ç³»ç»Ÿä¸­ï¼Œæ¶ˆæ¯æŒä¹…åŒ–åˆ°ä¸€ä¸ªé˜Ÿåˆ—ä¸­ã€‚æ­¤æ—¶ï¼Œå°†æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹é˜Ÿåˆ—ä¸­çš„æ•°æ®ã€‚ä½†æ˜¯ä¸€æ¡æ¶ˆæ¯åªèƒ½è¢«æ¶ˆè´¹ä¸€æ¬¡ã€‚å½“ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹äº†é˜Ÿåˆ—ä¸­çš„æŸæ¡æ•°æ®ä¹‹åï¼Œè¯¥æ¡æ•°æ®åˆ™ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­åˆ é™¤ã€‚è¯¥æ¨¡å¼å³ä½¿æœ‰å¤šä¸ªæ¶ˆè´¹è€…åŒæ—¶æ¶ˆè´¹æ•°æ®ï¼Œä¹Ÿèƒ½ä¿è¯æ•°æ®å¤„ç†çš„é¡ºåºã€‚è¿™ç§æ¶æ„æè¿°ç¤ºæ„å›¾å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220305215705.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç”Ÿäº§è€…å‘é€ä¸€æ¡æ¶ˆæ¯åˆ°queueï¼Œåªæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…èƒ½æ”¶åˆ°&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;14-å‘å¸ƒ-è®¢é˜…æ¶ˆæ¯ä¼ é€’&#34;&gt;1.4 å‘å¸ƒ-è®¢é˜…æ¶ˆæ¯ä¼ é€’&lt;/h3&gt;
&lt;p&gt;åœ¨å‘å¸ƒ-è®¢é˜…æ¶ˆæ¯ç³»ç»Ÿä¸­ï¼Œæ¶ˆæ¯è¢«æŒä¹…åŒ–åˆ°ä¸€ä¸ªtopicä¸­ã€‚ä¸ç‚¹å¯¹ç‚¹æ¶ˆæ¯ç³»ç»Ÿä¸åŒçš„æ˜¯ï¼Œæ¶ˆè´¹è€…å¯ä»¥è®¢é˜…ä¸€ä¸ªæˆ–å¤šä¸ªtopicï¼Œæ¶ˆè´¹è€…å¯ä»¥æ¶ˆè´¹è¯¥topicä¸­æ‰€æœ‰çš„æ•°æ®ï¼ŒåŒä¸€æ¡æ•°æ®å¯ä»¥è¢«å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œæ•°æ®è¢«æ¶ˆè´¹åä¸ä¼šç«‹é©¬åˆ é™¤ã€‚åœ¨å‘å¸ƒ-è®¢é˜…æ¶ˆæ¯ç³»ç»Ÿä¸­ï¼Œæ¶ˆæ¯çš„ç”Ÿäº§è€…ç§°ä¸ºå‘å¸ƒè€…ï¼Œæ¶ˆè´¹è€…ç§°ä¸ºè®¢é˜…è€…ã€‚è¯¥æ¨¡å¼çš„ç¤ºä¾‹å›¾å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220305215731.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‘å¸ƒè€…å‘é€åˆ°topicçš„æ¶ˆæ¯ï¼Œåªæœ‰è®¢é˜…äº†topicçš„è®¢é˜…è€…æ‰ä¼šæ”¶åˆ°æ¶ˆæ¯&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;15-kafkaçš„ä¼˜ç‚¹&#34;&gt;1.5 Kafkaçš„ä¼˜ç‚¹&lt;/h3&gt;
&lt;p&gt;1ï¼‰è§£è€¦ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨é¡¹ç›®å¯åŠ¨ä¹‹åˆæ¥é¢„æµ‹å°†æ¥é¡¹ç›®ä¼šç¢°åˆ°ä»€ä¹ˆéœ€æ±‚ï¼Œæ˜¯æå…¶å›°éš¾çš„ã€‚æ¶ˆæ¯ç³»ç»Ÿåœ¨å¤„ç†è¿‡ç¨‹ä¸­é—´æ’å…¥äº†ä¸€ä¸ªéšå«çš„ã€åŸºäºæ•°æ®çš„æ¥å£å±‚ï¼Œä¸¤è¾¹çš„å¤„ç†è¿‡ç¨‹éƒ½è¦å®ç°è¿™ä¸€æ¥å£ã€‚è¿™å…è®¸ä½ ç‹¬ç«‹çš„æ‰©å±•æˆ–ä¿®æ”¹ä¸¤è¾¹çš„å¤„ç†è¿‡ç¨‹ï¼Œåªè¦ç¡®ä¿å®ƒä»¬éµå®ˆåŒæ ·çš„æ¥å£çº¦æŸã€‚&lt;/p&gt;
&lt;p&gt;2ï¼‰å†—ä½™ï¼šï¼ˆå‰¯æœ¬ï¼‰&lt;/p&gt;
&lt;p&gt;æœ‰äº›æƒ…å†µä¸‹ï¼Œå¤„ç†æ•°æ®çš„è¿‡ç¨‹ä¼šå¤±è´¥ã€‚é™¤éæ•°æ®è¢«æŒä¹…åŒ–ï¼Œå¦åˆ™å°†é€ æˆä¸¢å¤±ã€‚æ¶ˆæ¯é˜Ÿåˆ—æŠŠæ•°æ®è¿›è¡ŒæŒä¹…åŒ–ç›´åˆ°å®ƒä»¬å·²ç»è¢«å®Œå…¨å¤„ç†ï¼Œé€šè¿‡è¿™ä¸€æ–¹å¼è§„é¿äº†æ•°æ®ä¸¢å¤±é£é™©ã€‚è®¸å¤šæ¶ˆæ¯é˜Ÿåˆ—æ‰€é‡‡ç”¨çš„&amp;quot;æ’å…¥-è·å–-åˆ é™¤&amp;quot;èŒƒå¼ä¸­ï¼Œåœ¨æŠŠä¸€ä¸ªæ¶ˆæ¯ä»é˜Ÿåˆ—ä¸­åˆ é™¤ä¹‹å‰ï¼Œéœ€è¦ä½ çš„å¤„ç†ç³»ç»Ÿæ˜ç¡®çš„æŒ‡å‡ºè¯¥æ¶ˆæ¯å·²ç»è¢«å¤„ç†å®Œæ¯•ï¼Œä»è€Œç¡®ä¿ä½ çš„æ•°æ®è¢«å®‰å…¨çš„ä¿å­˜ç›´åˆ°ä½ ä½¿ç”¨å®Œæ¯•ã€‚&lt;/p&gt;
&lt;p&gt;3ï¼‰æ‰©å±•æ€§&lt;/p&gt;
&lt;p&gt;å› ä¸ºæ¶ˆæ¯é˜Ÿåˆ—è§£è€¦äº†ä½ çš„å¤„ç†è¿‡ç¨‹ï¼Œæ‰€ä»¥å¢å¤§æ¶ˆæ¯å…¥é˜Ÿå’Œå¤„ç†çš„é¢‘ç‡æ˜¯å¾ˆå®¹æ˜“çš„ï¼Œåªè¦å¦å¤–å¢åŠ å¤„ç†è¿‡ç¨‹å³å¯ã€‚ä¸éœ€è¦æ”¹å˜ä»£ç ã€ä¸éœ€è¦è°ƒèŠ‚å‚æ•°ã€‚æ‰©å±•å°±åƒè°ƒå¤§ç”µåŠ›æŒ‰é’®ä¸€æ ·ç®€å•ã€‚&lt;/p&gt;
&lt;p&gt;4ï¼‰çµæ´»æ€§&amp;amp;å³°å€¼å¤„ç†èƒ½åŠ›&lt;/p&gt;
&lt;p&gt;åœ¨è®¿é—®é‡å‰§å¢çš„æƒ…å†µä¸‹ï¼Œåº”ç”¨ä»ç„¶éœ€è¦ç»§ç»­å‘æŒ¥ä½œç”¨ï¼Œä½†æ˜¯è¿™æ ·çš„çªå‘æµé‡å¹¶ä¸å¸¸è§ï¼›å¦‚æœä¸ºä»¥èƒ½å¤„ç†è¿™ç±»å³°å€¼è®¿é—®ä¸ºæ ‡å‡†æ¥æŠ•å…¥èµ„æºéšæ—¶å¾…å‘½æ— ç–‘æ˜¯å·¨å¤§çš„æµªè´¹ã€‚ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—èƒ½å¤Ÿä½¿å…³é”®ç»„ä»¶é¡¶ä½çªå‘çš„è®¿é—®å‹åŠ›ï¼Œè€Œä¸ä¼šå› ä¸ºçªå‘çš„è¶…è´Ÿè·çš„è¯·æ±‚è€Œå®Œå…¨å´©æºƒã€‚&lt;/p&gt;
&lt;p&gt;5ï¼‰å¯æ¢å¤æ€§&lt;/p&gt;
&lt;p&gt;ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ç»„ä»¶å¤±æ•ˆæ—¶ï¼Œä¸ä¼šå½±å“åˆ°æ•´ä¸ªç³»ç»Ÿã€‚æ¶ˆæ¯é˜Ÿåˆ—é™ä½äº†è¿›ç¨‹é—´çš„è€¦åˆåº¦ï¼Œæ‰€ä»¥å³ä½¿ä¸€ä¸ªå¤„ç†æ¶ˆæ¯çš„è¿›ç¨‹æŒ‚æ‰ï¼ŒåŠ å…¥é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ä»ç„¶å¯ä»¥åœ¨ç³»ç»Ÿæ¢å¤åè¢«å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;6ï¼‰é¡ºåºä¿è¯&lt;/p&gt;
&lt;p&gt;åœ¨å¤§å¤šä½¿ç”¨åœºæ™¯ä¸‹ï¼Œæ•°æ®å¤„ç†çš„é¡ºåºéƒ½å¾ˆé‡è¦ã€‚å¤§éƒ¨åˆ†æ¶ˆæ¯é˜Ÿåˆ—æœ¬æ¥å°±æ˜¯æ’åºçš„ï¼Œå¹¶ä¸”èƒ½ä¿è¯æ•°æ®ä¼šæŒ‰ç…§ç‰¹å®šçš„é¡ºåºæ¥å¤„ç†ã€‚Kafkaä¿è¯ä¸€ä¸ªPartitionå†…çš„æ¶ˆæ¯çš„æœ‰åºæ€§ã€‚&lt;/p&gt;
&lt;p&gt;7ï¼‰ç¼“å†²&lt;/p&gt;
&lt;p&gt;åœ¨ä»»ä½•é‡è¦çš„ç³»ç»Ÿä¸­ï¼Œéƒ½ä¼šæœ‰éœ€è¦ä¸åŒçš„å¤„ç†æ—¶é—´çš„å…ƒç´ ã€‚ä¾‹å¦‚ï¼ŒåŠ è½½ä¸€å¼ å›¾ç‰‡æ¯”åº”ç”¨è¿‡æ»¤å™¨èŠ±è´¹æ›´å°‘çš„æ—¶é—´ã€‚æ¶ˆæ¯é˜Ÿåˆ—é€šè¿‡ä¸€ä¸ªç¼“å†²å±‚æ¥å¸®åŠ©ä»»åŠ¡æœ€é«˜æ•ˆç‡çš„æ‰§è¡Œâ€”â€”â€”å†™å…¥é˜Ÿåˆ—çš„å¤„ç†ä¼šå°½å¯èƒ½çš„å¿«é€Ÿã€‚è¯¥ç¼“å†²æœ‰åŠ©äºæ§åˆ¶å’Œä¼˜åŒ–æ•°æ®æµç»è¿‡ç³»ç»Ÿçš„é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;p&gt;8ï¼‰å¼‚æ­¥é€šä¿¡&lt;/p&gt;
&lt;p&gt;å¾ˆå¤šæ—¶å€™ï¼Œç”¨æˆ·ä¸æƒ³ä¹Ÿä¸éœ€è¦ç«‹å³å¤„ç†æ¶ˆæ¯ã€‚æ¶ˆæ¯é˜Ÿåˆ—æä¾›äº†å¼‚æ­¥å¤„ç†æœºåˆ¶ï¼Œå…è®¸ç”¨æˆ·æŠŠä¸€ä¸ªæ¶ˆæ¯æ”¾å…¥é˜Ÿåˆ—ï¼Œä½†å¹¶ä¸ç«‹å³å¤„ç†å®ƒã€‚æƒ³å‘é˜Ÿåˆ—ä¸­æ”¾å…¥å¤šå°‘æ¶ˆæ¯å°±æ”¾å¤šå°‘ï¼Œç„¶ååœ¨éœ€è¦çš„æ—¶å€™å†å»å¤„ç†å®ƒä»¬ã€‚&lt;/p&gt;
&lt;h3 id=&#34;16-å¸¸ç”¨mqå¯¹æ¯”&#34;&gt;1.6 å¸¸ç”¨MQå¯¹æ¯”&lt;/h3&gt;
&lt;p&gt;1ï¼‰RabbitMQ&lt;/p&gt;
&lt;p&gt;RabbitMQæ˜¯ä½¿ç”¨Erlangç¼–å†™çš„ä¸€ä¸ªå¼€æºçš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæœ¬èº«æ”¯æŒå¾ˆå¤šçš„åè®®ï¼šAMQPï¼ŒXMPP, SMTP, STOMPï¼Œä¹Ÿæ­£å› å¦‚æ­¤ï¼Œå®ƒéå¸¸é‡é‡çº§ï¼Œæ›´é€‚åˆäºä¼ä¸šçº§çš„å¼€å‘ã€‚åŒæ—¶å®ç°äº†Brokeræ„æ¶ï¼Œè¿™æ„å‘³ç€æ¶ˆæ¯åœ¨å‘é€ç»™å®¢æˆ·ç«¯æ—¶å…ˆåœ¨ä¸­å¿ƒé˜Ÿåˆ—æ’é˜Ÿã€‚å¯¹è·¯ç”±ï¼Œè´Ÿè½½å‡è¡¡æˆ–è€…æ•°æ®æŒä¹…åŒ–éƒ½æœ‰å¾ˆå¥½çš„æ”¯æŒã€‚&lt;/p&gt;
&lt;p&gt;2ï¼‰Redis&lt;/p&gt;
&lt;p&gt;Redisæ˜¯ä¸€ä¸ªåŸºäºKey-Valueå¯¹çš„NoSQLæ•°æ®åº“ï¼Œå¼€å‘ç»´æŠ¤å¾ˆæ´»è·ƒã€‚è™½ç„¶å®ƒæ˜¯ä¸€ä¸ªKey-Valueæ•°æ®åº“å­˜å‚¨ç³»ç»Ÿï¼Œä½†å®ƒæœ¬èº«æ”¯æŒMQåŠŸèƒ½ï¼Œæ‰€ä»¥å®Œå…¨å¯ä»¥å½“åšä¸€ä¸ªè½»é‡çº§çš„é˜Ÿåˆ—æœåŠ¡æ¥ä½¿ç”¨ã€‚å¯¹äºRabbitMQå’ŒRedisçš„å…¥é˜Ÿå’Œå‡ºé˜Ÿæ“ä½œï¼Œå„æ‰§è¡Œ100ä¸‡æ¬¡ï¼Œæ¯10ä¸‡æ¬¡è®°å½•ä¸€æ¬¡æ‰§è¡Œæ—¶é—´ã€‚æµ‹è¯•æ•°æ®åˆ†ä¸º128Bytesã€512Bytesã€1Kå’Œ10Kå››ä¸ªä¸åŒå¤§å°çš„æ•°æ®ã€‚å®éªŒè¡¨æ˜ï¼šå…¥é˜Ÿæ—¶ï¼Œå½“æ•°æ®æ¯”è¾ƒå°æ—¶Redisçš„æ€§èƒ½è¦é«˜äºRabbitMQï¼Œè€Œå¦‚æœæ•°æ®å¤§å°è¶…è¿‡äº†10Kï¼ŒRedisåˆ™æ…¢çš„æ— æ³•å¿å—ï¼›å‡ºé˜Ÿæ—¶ï¼Œæ— è®ºæ•°æ®å¤§å°ï¼ŒRediséƒ½è¡¨ç°å‡ºéå¸¸å¥½çš„æ€§èƒ½ï¼Œè€ŒRabbitMQçš„å‡ºé˜Ÿæ€§èƒ½åˆ™è¿œä½äºRedisã€‚&lt;/p&gt;
&lt;p&gt;3ï¼‰ZeroMQ&lt;/p&gt;
&lt;p&gt;ZeroMQå·ç§°æœ€å¿«çš„æ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼Œå°¤å…¶é’ˆå¯¹å¤§ååé‡çš„éœ€æ±‚åœºæ™¯ã€‚ZeroMQèƒ½å¤Ÿå®ç°RabbitMQä¸æ“…é•¿çš„é«˜çº§/å¤æ‚çš„é˜Ÿåˆ—ï¼Œä½†æ˜¯å¼€å‘äººå‘˜éœ€è¦è‡ªå·±ç»„åˆå¤šç§æŠ€æœ¯æ¡†æ¶ï¼ŒæŠ€æœ¯ä¸Šçš„å¤æ‚åº¦æ˜¯å¯¹è¿™MQèƒ½å¤Ÿåº”ç”¨æˆåŠŸçš„æŒ‘æˆ˜ã€‚ZeroMQå…·æœ‰ä¸€ä¸ªç‹¬ç‰¹çš„éä¸­é—´ä»¶çš„æ¨¡å¼ï¼Œä½ ä¸éœ€è¦å®‰è£…å’Œè¿è¡Œä¸€ä¸ªæ¶ˆæ¯æœåŠ¡å™¨æˆ–ä¸­é—´ä»¶ï¼Œå› ä¸ºä½ çš„åº”ç”¨ç¨‹åºå°†æ‰®æ¼”è¿™ä¸ªæœåŠ¡å™¨è§’è‰²ã€‚ä½ åªéœ€è¦ç®€å•çš„å¼•ç”¨ZeroMQç¨‹åºåº“ï¼Œå¯ä»¥ä½¿ç”¨NuGetå®‰è£…ï¼Œç„¶åä½ å°±å¯ä»¥æ„‰å¿«çš„åœ¨åº”ç”¨ç¨‹åºä¹‹é—´å‘é€æ¶ˆæ¯äº†ã€‚ä½†æ˜¯ZeroMQä»…æä¾›éæŒä¹…æ€§çš„é˜Ÿåˆ—ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœå®•æœºï¼Œæ•°æ®å°†ä¼šä¸¢å¤±ã€‚å…¶ä¸­ï¼ŒTwitterçš„Storm 0.9.0ä»¥å‰çš„ç‰ˆæœ¬ä¸­é»˜è®¤ä½¿ç”¨ZeroMQä½œä¸ºæ•°æ®æµçš„ä¼ è¾“ï¼ˆStormä»0.9ç‰ˆæœ¬å¼€å§‹åŒæ—¶æ”¯æŒZeroMQå’ŒNettyä½œä¸ºä¼ è¾“æ¨¡å—ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;4ï¼‰ActiveMQ&lt;/p&gt;
&lt;p&gt;ActiveMQæ˜¯Apacheä¸‹çš„ä¸€ä¸ªå­é¡¹ç›®ã€‚ ç±»ä¼¼äºZeroMQï¼Œå®ƒèƒ½å¤Ÿä»¥ä»£ç†äººå’Œç‚¹å¯¹ç‚¹çš„æŠ€æœ¯å®ç°é˜Ÿåˆ—ã€‚åŒæ—¶ç±»ä¼¼äºRabbitMQï¼Œå®ƒå°‘é‡ä»£ç å°±å¯ä»¥é«˜æ•ˆåœ°å®ç°é«˜çº§åº”ç”¨åœºæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;5ï¼‰Kafka/Jafka&lt;/p&gt;
&lt;p&gt;Kafkaæ˜¯Apacheä¸‹çš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½è·¨è¯­è¨€åˆ†å¸ƒå¼å‘å¸ƒ/è®¢é˜…æ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼Œè€ŒJafkaæ˜¯åœ¨Kafkaä¹‹ä¸Šå­µåŒ–è€Œæ¥çš„ï¼Œå³Kafkaçš„ä¸€ä¸ªå‡çº§ç‰ˆã€‚å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼šå¿«é€ŸæŒä¹…åŒ–ï¼Œå¯ä»¥åœ¨O(1)çš„ç³»ç»Ÿå¼€é”€ä¸‹è¿›è¡Œæ¶ˆæ¯æŒä¹…åŒ–ï¼›é«˜ååï¼Œåœ¨ä¸€å°æ™®é€šçš„æœåŠ¡å™¨ä¸Šæ—¢å¯ä»¥è¾¾åˆ°10W/sçš„ååé€Ÿç‡ï¼›å®Œå…¨çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼ŒBrokerã€Producerã€Consumeréƒ½åŸç”Ÿè‡ªåŠ¨æ”¯æŒåˆ†å¸ƒå¼ï¼Œè‡ªåŠ¨å®ç°è´Ÿè½½å‡è¡¡ï¼›æ”¯æŒHadoopæ•°æ®å¹¶è¡ŒåŠ è½½ï¼Œå¯¹äºåƒHadoopçš„ä¸€æ ·çš„æ—¥å¿—æ•°æ®å’Œç¦»çº¿åˆ†æç³»ç»Ÿï¼Œä½†åˆè¦æ±‚å®æ—¶å¤„ç†çš„é™åˆ¶ï¼Œè¿™æ˜¯ä¸€ä¸ªå¯è¡Œçš„è§£å†³æ–¹æ¡ˆã€‚Kafkaé€šè¿‡Hadoopçš„å¹¶è¡ŒåŠ è½½æœºåˆ¶ç»Ÿä¸€äº†åœ¨çº¿å’Œç¦»çº¿çš„æ¶ˆæ¯å¤„ç†ã€‚Apache Kafkaç›¸å¯¹äºActiveMQæ˜¯ä¸€ä¸ªéå¸¸è½»é‡çº§çš„æ¶ˆæ¯ç³»ç»Ÿï¼Œé™¤äº†æ€§èƒ½éå¸¸å¥½ä¹‹å¤–ï¼Œè¿˜æ˜¯ä¸€ä¸ªå·¥ä½œè‰¯å¥½çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;h3 id=&#34;17-kafkaä¸­çš„æœ¯è¯­è§£é‡Š&#34;&gt;1.7 Kafkaä¸­çš„æœ¯è¯­è§£é‡Š&lt;/h3&gt;
&lt;h4 id=&#34;æ¦‚è¿°&#34;&gt;æ¦‚è¿°&lt;/h4&gt;
&lt;p&gt;åœ¨æ·±å…¥ç†è§£Kafkaä¹‹å‰ï¼Œå…ˆä»‹ç»ä¸€ä¸‹Kafkaä¸­çš„æœ¯è¯­ã€‚ä¸‹å›¾å±•ç¤ºäº†Kafkaçš„ç›¸å…³æœ¯è¯­ä»¥åŠä¹‹é—´çš„å…³ç³»ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220305215821.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾ä¸­ä¸€ä¸ªtopicé…ç½®äº†3ä¸ªpartitionã€‚Partition1æœ‰ä¸¤ä¸ªoffsetï¼š0å’Œ1ã€‚Partition2æœ‰4ä¸ªoffsetã€‚Partition3æœ‰1ä¸ªoffsetã€‚å‰¯æœ¬çš„idå’Œå‰¯æœ¬æ‰€åœ¨çš„æœºå™¨çš„idæ°å¥½ç›¸åŒã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸€ä¸ªtopicçš„å‰¯æœ¬æ•°ä¸º3ï¼Œé‚£ä¹ˆKafkaå°†åœ¨é›†ç¾¤ä¸­ä¸ºæ¯ä¸ªpartitionåˆ›å»º3ä¸ªç›¸åŒçš„å‰¯æœ¬ã€‚é›†ç¾¤ä¸­çš„æ¯ä¸ªbrokerå­˜å‚¨ä¸€ä¸ªæˆ–å¤šä¸ªpartitionã€‚å¤šä¸ªproducerå’Œconsumerå¯åŒæ—¶ç”Ÿäº§å’Œæ¶ˆè´¹æ•°æ®ã€‚&lt;/p&gt;
&lt;h4 id=&#34;1-broker&#34;&gt;1 broker&lt;/h4&gt;
&lt;p&gt;Kafka é›†ç¾¤åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨èŠ‚ç‚¹ç§°ä¸ºbrokerã€‚&lt;/p&gt;
&lt;p&gt;brokerå­˜å‚¨topicçš„æ•°æ®ã€‚å¦‚æœæŸtopicæœ‰Nä¸ªpartitionï¼Œé›†ç¾¤æœ‰Nä¸ªbrokerï¼Œé‚£ä¹ˆæ¯ä¸ªbrokerå­˜å‚¨è¯¥topicçš„ä¸€ä¸ªpartitionã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæŸtopicæœ‰Nä¸ªpartitionï¼Œé›†ç¾¤æœ‰(N+M)ä¸ªbrokerï¼Œé‚£ä¹ˆå…¶ä¸­æœ‰Nä¸ªbrokerå­˜å‚¨è¯¥topicçš„ä¸€ä¸ªpartitionï¼Œå‰©ä¸‹çš„Mä¸ªbrokerä¸å­˜å‚¨è¯¥topicçš„partitionæ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæŸtopicæœ‰Nä¸ªpartitionï¼Œé›†ç¾¤ä¸­brokeræ•°ç›®å°‘äºNä¸ªï¼Œé‚£ä¹ˆä¸€ä¸ªbrokerå­˜å‚¨è¯¥topicçš„ä¸€ä¸ªæˆ–å¤šä¸ªpartitionã€‚åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå°½é‡é¿å…è¿™ç§æƒ…å†µçš„å‘ç”Ÿï¼Œè¿™ç§æƒ…å†µå®¹æ˜“å¯¼è‡´Kafkaé›†ç¾¤æ•°æ®ä¸å‡è¡¡ã€‚&lt;/p&gt;
&lt;h4 id=&#34;2-topic&#34;&gt;2 Topic&lt;/h4&gt;
&lt;p&gt;æ¯æ¡å‘å¸ƒåˆ°Kafkaé›†ç¾¤çš„æ¶ˆæ¯éƒ½æœ‰ä¸€ä¸ªç±»åˆ«ï¼Œè¿™ä¸ªç±»åˆ«è¢«ç§°ä¸ºTopicã€‚ï¼ˆç‰©ç†ä¸Šä¸åŒTopicçš„æ¶ˆæ¯åˆ†å¼€å­˜å‚¨ï¼Œé€»è¾‘ä¸Šä¸€ä¸ªTopicçš„æ¶ˆæ¯è™½ç„¶ä¿å­˜äºä¸€ä¸ªæˆ–å¤šä¸ªbrokerä¸Šä½†ç”¨æˆ·åªéœ€æŒ‡å®šæ¶ˆæ¯çš„Topicå³å¯ç”Ÿäº§æˆ–æ¶ˆè´¹æ•°æ®è€Œä¸å¿…å…³å¿ƒæ•°æ®å­˜äºä½•å¤„ï¼‰&lt;/p&gt;
&lt;p&gt;ç±»ä¼¼äºæ•°æ®åº“çš„è¡¨å&lt;/p&gt;
&lt;h4 id=&#34;3-partition&#34;&gt;3 &lt;strong&gt;Partition&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;topicä¸­çš„æ•°æ®åˆ†å‰²ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªpartitionã€‚æ¯ä¸ªtopicè‡³å°‘æœ‰ä¸€ä¸ªpartitionã€‚æ¯ä¸ªpartitionä¸­çš„æ•°æ®ä½¿ç”¨å¤šä¸ªsegmentæ–‡ä»¶å­˜å‚¨ã€‚partitionä¸­çš„æ•°æ®æ˜¯æœ‰åºçš„ï¼Œä¸åŒpartitioné—´çš„æ•°æ®ä¸¢å¤±äº†æ•°æ®çš„é¡ºåºã€‚å¦‚æœtopicæœ‰å¤šä¸ªpartitionï¼Œæ¶ˆè´¹æ•°æ®æ—¶å°±ä¸èƒ½ä¿è¯æ•°æ®çš„é¡ºåºã€‚åœ¨éœ€è¦ä¸¥æ ¼ä¿è¯æ¶ˆæ¯çš„æ¶ˆè´¹é¡ºåºçš„åœºæ™¯ä¸‹ï¼Œéœ€è¦å°†partitionæ•°ç›®è®¾ä¸º1ã€‚&lt;/p&gt;
&lt;h4 id=&#34;4-producer&#34;&gt;4 Producer&lt;/h4&gt;
&lt;p&gt;ç”Ÿäº§è€…å³æ•°æ®çš„å‘å¸ƒè€…ï¼Œè¯¥è§’è‰²å°†æ¶ˆæ¯å‘å¸ƒåˆ°Kafkaçš„topicä¸­ã€‚brokeræ¥æ”¶åˆ°ç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯åï¼Œbrokerå°†è¯¥æ¶ˆæ¯&lt;strong&gt;è¿½åŠ &lt;/strong&gt;åˆ°å½“å‰ç”¨äºè¿½åŠ æ•°æ®çš„segmentæ–‡ä»¶ä¸­ã€‚ç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯ï¼Œå­˜å‚¨åˆ°ä¸€ä¸ªpartitionä¸­ï¼Œç”Ÿäº§è€…ä¹Ÿå¯ä»¥æŒ‡å®šæ•°æ®å­˜å‚¨çš„partitionã€‚&lt;/p&gt;
&lt;h4 id=&#34;5-consumer&#34;&gt;5 Consumer&lt;/h4&gt;
&lt;p&gt;æ¶ˆè´¹è€…å¯ä»¥ä»brokerä¸­è¯»å–æ•°æ®ã€‚æ¶ˆè´¹è€…å¯ä»¥æ¶ˆè´¹å¤šä¸ªtopicä¸­çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;h4 id=&#34;6-consumer-group&#34;&gt;6 Consumer Group&lt;/h4&gt;
&lt;p&gt;æ¯ä¸ªConsumerå±äºä¸€ä¸ªç‰¹å®šçš„Consumer Groupï¼ˆå¯ä¸ºæ¯ä¸ªConsumeræŒ‡å®šgroup nameï¼Œè‹¥ä¸æŒ‡å®šgroup nameåˆ™å±äºé»˜è®¤çš„groupï¼‰ã€‚è¿™æ˜¯kafkaç”¨æ¥å®ç°ä¸€ä¸ªtopicæ¶ˆæ¯çš„å¹¿æ’­ï¼ˆå‘ç»™æ‰€æœ‰çš„consumerï¼‰å’Œå•æ’­ï¼ˆå‘ç»™ä»»æ„ä¸€ä¸ªconsumerï¼‰çš„æ‰‹æ®µã€‚ä¸€ä¸ªtopicå¯ä»¥æœ‰å¤šä¸ªCGã€‚topicçš„æ¶ˆæ¯ä¼šå¤åˆ¶-ç»™consumerã€‚å¦‚æœéœ€è¦å®ç°å¹¿æ’­ï¼Œåªè¦æ¯ä¸ªconsumeræœ‰ä¸€ä¸ªç‹¬ç«‹çš„CGå°±å¯ä»¥äº†ã€‚è¦å®ç°å•æ’­åªè¦æ‰€æœ‰çš„consumeråœ¨åŒä¸€ä¸ªCGã€‚ç”¨CGè¿˜å¯ä»¥å°†consumerè¿›è¡Œè‡ªç”±çš„åˆ†ç»„è€Œä¸éœ€è¦å¤šæ¬¡å‘é€æ¶ˆæ¯åˆ°ä¸åŒçš„topicã€‚&lt;/p&gt;
&lt;h4 id=&#34;7-leader&#34;&gt;7 Leader&lt;/h4&gt;
&lt;p&gt;æ¯ä¸ªpartitionæœ‰å¤šä¸ªå‰¯æœ¬ï¼Œå…¶ä¸­æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªä½œä¸ºLeaderï¼ŒLeaderæ˜¯å½“å‰è´Ÿè´£æ•°æ®çš„è¯»å†™çš„partitionã€‚&lt;/p&gt;
&lt;h4 id=&#34;8-follower&#34;&gt;8 Follower&lt;/h4&gt;
&lt;p&gt;Followerè·ŸéšLeaderï¼Œæ‰€æœ‰å†™è¯·æ±‚éƒ½é€šè¿‡Leaderè·¯ç”±ï¼Œæ•°æ®å˜æ›´ä¼šå¹¿æ’­ç»™æ‰€æœ‰Followerï¼ŒFollowerä¸Leaderä¿æŒæ•°æ®åŒæ­¥ã€‚å¦‚æœLeaderå¤±æ•ˆï¼Œåˆ™ä»Followerä¸­é€‰ä¸¾å‡ºä¸€ä¸ªæ–°çš„Leaderã€‚å½“Followerä¸LeaderæŒ‚æ‰ã€å¡ä½æˆ–è€…åŒæ­¥å¤ªæ…¢ï¼Œleaderä¼šæŠŠè¿™ä¸ªfollowerä»â€œin sync replicasâ€ï¼ˆISRï¼‰åˆ—è¡¨ä¸­åˆ é™¤ï¼Œé‡æ–°åˆ›å»ºä¸€ä¸ªFollowerã€‚&lt;/p&gt;
&lt;h4 id=&#34;9-offset&#34;&gt;9 Offset&lt;/h4&gt;
&lt;p&gt;kafkaçš„å­˜å‚¨æ–‡ä»¶éƒ½æ˜¯æŒ‰ç…§offset.kafkaæ¥å‘½åï¼Œç”¨offsetåšåå­—çš„å¥½å¤„æ˜¯æ–¹ä¾¿æŸ¥æ‰¾ã€‚ä¾‹å¦‚ä½ æƒ³æ‰¾ä½äº2049çš„ä½ç½®ï¼Œåªè¦æ‰¾åˆ°2048.kafkaçš„æ–‡ä»¶å³å¯ã€‚å½“ç„¶the first offsetå°±æ˜¯00000000000.kafka&lt;/p&gt;
&lt;h2 id=&#34;ä¸€kafkaçš„æ¶æ„&#34;&gt;ä¸€ã€Kafkaçš„æ¶æ„&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220305215857.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä¸€ä¸ªå…¸å‹çš„Kafkaé›†ç¾¤ä¸­åŒ…å«è‹¥å¹²Producerï¼ˆå¯ä»¥æ˜¯webå‰ç«¯äº§ç”Ÿçš„Page Viewï¼Œæˆ–è€…æ˜¯æœåŠ¡å™¨æ—¥å¿—ï¼Œç³»ç»ŸCPUã€Memoryç­‰ï¼‰ï¼Œè‹¥å¹²brokerï¼ˆKafkaæ”¯æŒæ°´å¹³æ‰©å±•ï¼Œä¸€èˆ¬brokeræ•°é‡è¶Šå¤šï¼Œé›†ç¾¤ååç‡è¶Šé«˜ï¼‰ï¼Œè‹¥å¹²Consumer Groupï¼Œä»¥åŠä¸€ä¸ªZookeeperé›†ç¾¤ã€‚Kafkaé€šè¿‡Zookeeperç®¡ç†é›†ç¾¤é…ç½®ï¼Œé€‰ä¸¾leaderï¼Œä»¥åŠåœ¨Consumer Groupå‘ç”Ÿå˜åŒ–æ—¶è¿›è¡Œrebalanceã€‚Producerä½¿ç”¨pushæ¨¡å¼å°†æ¶ˆæ¯å‘å¸ƒåˆ°brokerï¼ŒConsumerä½¿ç”¨pullæ¨¡å¼ä»brokerè®¢é˜…å¹¶æ¶ˆè´¹æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;21-åˆ†å¸ƒå¼æ¨¡å‹&#34;&gt;2.1 åˆ†å¸ƒå¼æ¨¡å‹&lt;/h3&gt;
&lt;p&gt;Kafkaæ¯ä¸ªä¸»é¢˜çš„å¤šä¸ªåˆ†åŒºæ—¥å¿—åˆ†å¸ƒå¼åœ°å­˜å‚¨åœ¨Kafkaé›†ç¾¤ä¸Šï¼ŒåŒæ—¶ä¸ºäº†æ•…éšœå®¹é”™ï¼Œæ¯ä¸ªåˆ†åŒºéƒ½ä¼šä»¥å‰¯æœ¬çš„æ–¹å¼å¤åˆ¶åˆ°å¤šä¸ªæ¶ˆæ¯ä»£ç†èŠ‚ç‚¹ä¸Šã€‚å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹ä¼šä½œä¸ºä¸»å‰¯æœ¬ï¼ˆLeaderï¼‰ï¼Œå…¶ä»–èŠ‚ç‚¹ä½œä¸ºå¤‡ä»½å‰¯æœ¬ï¼ˆFollowerï¼Œä¹Ÿå«ä½œä»å‰¯æœ¬ï¼‰ã€‚ä¸»å‰¯æœ¬ä¼šè´Ÿè´£æ‰€æœ‰çš„å®¢æˆ·ç«¯è¯»å†™æ“ä½œï¼Œå¤‡ä»½å‰¯æœ¬ä»…ä»…ä»ä¸»å‰¯æœ¬åŒæ­¥æ•°æ®ã€‚å½“ä¸»å‰¯æœ¬å‡ºç°æ•…éšœæ—¶ï¼Œå¤‡ä»½å‰¯æœ¬ä¸­çš„ä¸€ä¸ªå‰¯æœ¬ä¼šè¢«é€‰æ‹©ä¸ºæ–°çš„ä¸»å‰¯æœ¬ã€‚å› ä¸ºæ¯ä¸ªåˆ†åŒºçš„å‰¯æœ¬ä¸­åªæœ‰ä¸»å‰¯æœ¬æ¥å—è¯»å†™ï¼Œæ‰€ä»¥æ¯ä¸ªæœåŠ¡å™¨ç«¯éƒ½ä¼šä½œä¸ºæŸäº›åˆ†åŒºçš„ä¸»å‰¯æœ¬ï¼Œä»¥åŠå¦å¤–ä¸€äº›åˆ†åŒºçš„å¤‡ä»½å‰¯æœ¬ï¼Œè¿™æ ·Kafkaé›†ç¾¤çš„æ‰€æœ‰æœåŠ¡ç«¯æ•´ä½“ä¸Šå¯¹å®¢æˆ·ç«¯æ˜¯è´Ÿè½½å‡è¡¡çš„ã€‚&lt;/p&gt;
&lt;p&gt;Kafkaçš„ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ç›¸å¯¹äºæœåŠ¡å™¨ç«¯è€Œè¨€éƒ½æ˜¯å®¢æˆ·ç«¯ã€‚&lt;/p&gt;
&lt;p&gt;Kafkaç”Ÿäº§è€…å®¢æˆ·ç«¯å‘å¸ƒæ¶ˆæ¯åˆ°æœåŠ¡ç«¯çš„æŒ‡å®šä¸»é¢˜ï¼Œä¼šæŒ‡å®šæ¶ˆæ¯æ‰€å±çš„åˆ†åŒºã€‚ç”Ÿäº§è€…å‘å¸ƒæ¶ˆæ¯æ—¶æ ¹æ®æ¶ˆæ¯æ˜¯å¦æœ‰é”®ï¼Œé‡‡ç”¨ä¸åŒçš„åˆ†åŒºç­–ç•¥ã€‚æ¶ˆæ¯æ²¡æœ‰é”®æ—¶ï¼Œé€šè¿‡è½®è¯¢æ–¹å¼è¿›è¡Œå®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ï¼›æ¶ˆæ¯æœ‰é”®æ—¶ï¼Œæ ¹æ®åˆ†åŒºè¯­ä¹‰ï¼ˆä¾‹å¦‚hashï¼‰ç¡®ä¿ç›¸åŒé”®çš„æ¶ˆæ¯æ€»æ˜¯å‘é€åˆ°åŒä¸€åˆ†åŒºã€‚&lt;/p&gt;
&lt;p&gt;Kafkaçš„æ¶ˆè´¹è€…é€šè¿‡è®¢é˜…ä¸»é¢˜æ¥æ¶ˆè´¹æ¶ˆæ¯ï¼Œå¹¶ä¸”æ¯ä¸ªæ¶ˆè´¹è€…éƒ½ä¼šè®¾ç½®ä¸€ä¸ªæ¶ˆè´¹ç»„åç§°ã€‚å› ä¸ºç”Ÿäº§è€…å‘å¸ƒåˆ°ä¸»é¢˜çš„æ¯ä¸€æ¡æ¶ˆæ¯éƒ½åªä¼šå‘é€ç»™æ¶ˆè´¹è€…ç»„çš„ä¸€ä¸ªæ¶ˆè´¹è€…ã€‚æ‰€ä»¥ï¼Œå¦‚æœè¦å®ç°ä¼ ç»Ÿæ¶ˆæ¯ç³»ç»Ÿçš„â€œé˜Ÿåˆ—â€æ¨¡å‹ï¼Œå¯ä»¥è®©æ¯ä¸ªæ¶ˆè´¹è€…éƒ½æ‹¥æœ‰ç›¸åŒçš„æ¶ˆè´¹ç»„åç§°ï¼Œè¿™æ ·æ¶ˆæ¯å°±ä¼šè´Ÿè´£å‡è¡¡åˆ°æ‰€æœ‰çš„æ¶ˆè´¹è€…ï¼›å¦‚æœè¦å®ç°â€œå‘å¸ƒ-è®¢é˜…â€æ¨¡å‹ï¼Œåˆ™æ¯ä¸ªæ¶ˆè´¹è€…çš„æ¶ˆè´¹è€…ç»„åç§°éƒ½ä¸ç›¸åŒï¼Œè¿™æ ·æ¯æ¡æ¶ˆæ¯å°±ä¼šå¹¿æ’­ç»™æ‰€æœ‰çš„æ¶ˆè´¹è€…ã€‚&lt;/p&gt;
&lt;p&gt;åˆ†åŒºæ˜¯æ¶ˆè´¹è€…ç°åœºæ¨¡å‹çš„æœ€å°å¹¶è¡Œå•ä½ã€‚å¦‚ä¸‹å›¾ï¼ˆå›¾1ï¼‰æ‰€ç¤ºï¼Œç”Ÿäº§è€…å‘å¸ƒæ¶ˆæ¯åˆ°ä¸€å°æœåŠ¡å™¨çš„3ä¸ªåˆ†åŒºæ—¶ï¼Œåªæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹æ‰€æœ‰çš„3ä¸ªåˆ†åŒºã€‚åœ¨ä¸‹å›¾ï¼ˆå›¾2ï¼‰ä¸­ï¼Œ3ä¸ªåˆ†åŒºåˆ†å¸ƒåœ¨3å°æœåŠ¡å™¨ä¸Šï¼ŒåŒæ—¶æœ‰3ä¸ªæ¶ˆè´¹è€…åˆ†åˆ«æ¶ˆè´¹ä¸åŒçš„åˆ†åŒºã€‚å‡è®¾æ¯ä¸ªæœåŠ¡å™¨çš„ååé‡æ—¶300MBï¼Œåœ¨ä¸‹å›¾ï¼ˆå›¾1ï¼‰ä¸­åˆ†æ‘Šåˆ°æ¯ä¸ªåˆ†åŒºåªæœ‰100MBï¼Œè€Œåœ¨ä¸‹å›¾ï¼ˆå›¾2ï¼‰ä¸­ï¼Œé›†ç¾¤æ•´ä½“çš„ååé‡æœ‰900MBã€‚å¯ä»¥çœ‹åˆ°ï¼Œå¢åŠ æœåŠ¡å™¨èŠ‚ç‚¹ä¼šæå‡é›†ç¾¤çš„æ€§èƒ½ï¼Œå¢åŠ æ¶ˆè´¹è€…æ•°é‡ä¼šæå‡å¤„ç†æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;åŒä¸€ä¸ªæ¶ˆè´¹ç»„ä¸‹å¤šä¸ªæ¶ˆè´¹è€…äº’ç›¸åè°ƒæ¶ˆè´¹å·¥ä½œï¼ŒKafkaä¼šå°†æ‰€æœ‰çš„åˆ†åŒºå¹³å‡åœ°åˆ†é…ç»™æ‰€æœ‰çš„æ¶ˆè´¹è€…å®ä¾‹ï¼Œè¿™æ ·æ¯ä¸ªæ¶ˆè´¹è€…éƒ½å¯ä»¥åˆ†é…åˆ°æ•°é‡å‡ç­‰çš„åˆ†åŒºã€‚Kafkaçš„æ¶ˆè´¹ç»„ç®¡ç†åè®®ä¼šåŠ¨æ€åœ°ç»´æŠ¤æ¶ˆè´¹ç»„çš„æˆå‘˜åˆ—è¡¨ï¼Œå½“ä¸€ä¸ªæ–°æ¶ˆè´¹è€…åŠ å…¥æ¶ˆè´¹è€…ç»„ï¼Œæˆ–è€…æœ‰æ¶ˆè´¹è€…ç¦»å¼€æ¶ˆè´¹ç»„ï¼Œéƒ½ä¼šè§¦å‘å†å¹³è¡¡æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220305215916.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Kafkaçš„æ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯æ—¶ï¼Œåªä¿è¯åœ¨ä¸€ä¸ªåˆ†åŒºå†…çš„æ¶ˆæ¯çš„å®Œå…¨æœ‰åºæ€§ï¼Œå¹¶ä¸ä¿è¯åŒä¸€ä¸ªä¸»é¢˜æ±‡ä¸­å¤šä¸ªåˆ†åŒºçš„æ¶ˆæ¯é¡ºåºã€‚è€Œä¸”ï¼Œæ¶ˆè´¹è€…è¯»å–ä¸€ä¸ªåˆ†åŒºæ¶ˆæ¯çš„é¡ºåºå’Œç”Ÿäº§è€…å†™å…¥åˆ°è¿™ä¸ªåˆ†åŒºçš„é¡ºåºæ˜¯ä¸€è‡´çš„ã€‚æ¯”å¦‚ï¼Œç”Ÿäº§è€…å†™å…¥â€œhelloâ€å’Œâ€œKafkaâ€ä¸¤æ¡æ¶ˆæ¯åˆ°åˆ†åŒºP1ï¼Œåˆ™æ¶ˆè´¹è€…è¯»å–åˆ°çš„é¡ºåºä¹Ÿä¸€å®šæ˜¯â€œhelloâ€å’Œâ€œKafkaâ€ã€‚å¦‚æœä¸šåŠ¡ä¸Šéœ€è¦ä¿è¯æ‰€æœ‰æ¶ˆæ¯å®Œå…¨ä¸€è‡´ï¼Œåªèƒ½é€šè¿‡è®¾ç½®ä¸€ä¸ªåˆ†åŒºå®Œæˆï¼Œä½†è¿™ç§åšæ³•çš„ç¼ºç‚¹æ˜¯æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªæ¶ˆè´¹è€…è¿›è¡Œæ¶ˆè´¹ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåªéœ€è¦ä¿è¯æ¯ä¸ªåˆ†åŒºçš„æœ‰åºæ€§ï¼Œå†å¯¹æ¶ˆæ¯å‡è®¾é”®æ¥ä¿è¯ç›¸åŒé”®çš„æ‰€æœ‰æ¶ˆæ¯è½å…¥åŒä¸€åˆ†åŒºï¼Œå°±å¯ä»¥æ»¡è¶³ç»å¤§å¤šæ•°çš„åº”ç”¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;äºŒtopicså’Œpartition&#34;&gt;äºŒã€Topicså’ŒPartition&lt;/h2&gt;
&lt;p&gt;Topicåœ¨é€»è¾‘ä¸Šå¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªqueueï¼Œæ¯æ¡æ¶ˆè´¹éƒ½å¿…é¡»æŒ‡å®šå®ƒçš„Topicï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºå¿…é¡»æŒ‡æ˜æŠŠè¿™æ¡æ¶ˆæ¯æ”¾è¿›å“ªä¸ªqueueé‡Œã€‚ä¸ºäº†ä½¿å¾—Kafkaçš„ååç‡å¯ä»¥çº¿æ€§æé«˜ï¼Œç‰©ç†ä¸ŠæŠŠTopicåˆ†æˆä¸€ä¸ªæˆ–å¤šä¸ªPartitionï¼Œæ¯ä¸ªPartitionåœ¨ç‰©ç†ä¸Šå¯¹åº”ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè¯¥æ–‡ä»¶å¤¹ä¸‹å­˜å‚¨è¿™ä¸ªPartitionçš„æ‰€æœ‰æ¶ˆæ¯å’Œç´¢å¼•æ–‡ä»¶ã€‚åˆ›å»ºä¸€ä¸ªtopicæ—¶ï¼ŒåŒæ—¶å¯ä»¥æŒ‡å®šåˆ†åŒºæ•°ç›®ï¼Œåˆ†åŒºæ•°è¶Šå¤šï¼Œå…¶ååé‡ä¹Ÿè¶Šå¤§ï¼Œä½†æ˜¯éœ€è¦çš„èµ„æºä¹Ÿè¶Šå¤šï¼ŒåŒæ—¶ä¹Ÿä¼šå¯¼è‡´æ›´é«˜çš„ä¸å¯ç”¨æ€§ï¼Œkafkaåœ¨æ¥æ”¶åˆ°ç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯ä¹‹åï¼Œä¼šæ ¹æ®å‡è¡¡ç­–ç•¥å°†æ¶ˆæ¯å­˜å‚¨åˆ°ä¸åŒçš„åˆ†åŒºä¸­ã€‚å› ä¸ºæ¯æ¡æ¶ˆæ¯éƒ½è¢«appendåˆ°è¯¥Partitionä¸­ï¼Œå±äºé¡ºåºå†™ç£ç›˜ï¼Œå› æ­¤æ•ˆç‡éå¸¸é«˜ï¼ˆç»éªŒè¯ï¼Œé¡ºåºå†™ç£ç›˜æ•ˆç‡æ¯”éšæœºå†™å†…å­˜è¿˜è¦é«˜ï¼Œè¿™æ˜¯Kafkaé«˜ååç‡çš„ä¸€ä¸ªå¾ˆé‡è¦çš„ä¿è¯ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220305215934.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºä¼ ç»Ÿçš„message queueè€Œè¨€ï¼Œä¸€èˆ¬ä¼šåˆ é™¤å·²ç»è¢«æ¶ˆè´¹çš„æ¶ˆæ¯ï¼Œè€ŒKafkaé›†ç¾¤ä¼šä¿ç•™æ‰€æœ‰çš„æ¶ˆæ¯ï¼Œæ— è®ºå…¶è¢«æ¶ˆè´¹ä¸å¦ã€‚å½“ç„¶ï¼Œå› ä¸ºç£ç›˜é™åˆ¶ï¼Œä¸å¯èƒ½æ°¸ä¹…ä¿ç•™æ‰€æœ‰æ•°æ®ï¼ˆå®é™…ä¸Šä¹Ÿæ²¡å¿…è¦ï¼‰ï¼Œå› æ­¤Kafkaæä¾›ä¸¤ç§ç­–ç•¥åˆ é™¤æ—§æ•°æ®ã€‚ä¸€æ˜¯åŸºäºæ—¶é—´ï¼ŒäºŒæ˜¯åŸºäºPartitionæ–‡ä»¶å¤§å°ã€‚ä¾‹å¦‚å¯ä»¥é€šè¿‡é…ç½®$KAFKA_HOME/config/server.propertiesï¼Œè®©Kafkaåˆ é™¤ä¸€å‘¨å‰çš„æ•°æ®ï¼Œä¹Ÿå¯åœ¨Partitionæ–‡ä»¶è¶…è¿‡1GBæ—¶åˆ é™¤æ—§æ•°æ®ï¼Œé…ç½®å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# The minimum age of a log file to be eligible for deletion&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;log.retention.hours&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;168&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# The maximum size of a log segment file. When this size is reached a new log segment will be created.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;log.segment.bytes&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1073741824&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# The interval at which log segments are checked to see if they can be deleted according to the retention policies&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;log.retention.check.interval.ms&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;300000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# If log.cleaner.enable=true is set the cleaner will be enabled and individual logs can then be marked for log compaction.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;log.cleaner.enable&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;false
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å› ä¸ºKafkaè¯»å–ç‰¹å®šæ¶ˆæ¯çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œå³ä¸æ–‡ä»¶å¤§å°æ— å…³ï¼Œæ‰€ä»¥è¿™é‡Œåˆ é™¤è¿‡æœŸæ–‡ä»¶ä¸æé«˜Kafkaæ€§èƒ½æ— å…³ã€‚é€‰æ‹©æ€æ ·çš„åˆ é™¤ç­–ç•¥åªä¸ç£ç›˜ä»¥åŠå…·ä½“çš„éœ€æ±‚æœ‰å…³ã€‚å¦å¤–ï¼ŒKafkaä¼šä¸ºæ¯ä¸€ä¸ªConsumer Groupä¿ç•™ä¸€äº›metadataä¿¡æ¯â€”â€”å½“å‰æ¶ˆè´¹çš„æ¶ˆæ¯çš„positionï¼Œä¹Ÿå³offsetã€‚è¿™ä¸ªoffsetç”±Consumeræ§åˆ¶ã€‚æ­£å¸¸æƒ…å†µä¸‹Consumerä¼šåœ¨æ¶ˆè´¹å®Œä¸€æ¡æ¶ˆæ¯åé€’å¢è¯¥offsetã€‚å½“ç„¶ï¼ŒConsumerä¹Ÿå¯å°†offsetè®¾æˆä¸€ä¸ªè¾ƒå°çš„å€¼ï¼Œé‡æ–°æ¶ˆè´¹ä¸€äº›æ¶ˆæ¯ã€‚å› ä¸ºoffetç”±Consumeræ§åˆ¶ï¼Œæ‰€ä»¥Kafka brokeræ˜¯æ— çŠ¶æ€çš„ï¼Œå®ƒä¸éœ€è¦æ ‡è®°å“ªäº›æ¶ˆæ¯è¢«å“ªäº›æ¶ˆè´¹è¿‡ï¼Œä¹Ÿä¸éœ€è¦é€šè¿‡brokerå»ä¿è¯åŒä¸€ä¸ªConsumer Groupåªæœ‰ä¸€ä¸ªConsumerèƒ½æ¶ˆè´¹æŸä¸€æ¡æ¶ˆæ¯ï¼Œå› æ­¤ä¹Ÿå°±ä¸éœ€è¦é”æœºåˆ¶ï¼Œè¿™ä¹Ÿä¸ºKafkaçš„é«˜ååç‡æä¾›äº†æœ‰åŠ›ä¿éšœã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰produceræ¶ˆæ¯è·¯ç”±&#34;&gt;ä¸‰ã€Produceræ¶ˆæ¯è·¯ç”±&lt;/h2&gt;
&lt;p&gt;Producerå‘é€æ¶ˆæ¯åˆ°brokeræ—¶ï¼Œä¼šæ ¹æ®Parititionæœºåˆ¶é€‰æ‹©å°†å…¶å­˜å‚¨åˆ°å“ªä¸€ä¸ªPartitionã€‚å¦‚æœPartitionæœºåˆ¶è®¾ç½®åˆç†ï¼Œæ‰€æœ‰æ¶ˆæ¯å¯ä»¥å‡åŒ€åˆ†å¸ƒåˆ°ä¸åŒçš„Partitioné‡Œï¼Œè¿™æ ·å°±å®ç°äº†è´Ÿè½½å‡è¡¡ã€‚å¦‚æœä¸€ä¸ªTopicå¯¹åº”ä¸€ä¸ªæ–‡ä»¶ï¼Œé‚£è¿™ä¸ªæ–‡ä»¶æ‰€åœ¨çš„æœºå™¨I/Oå°†ä¼šæˆä¸ºè¿™ä¸ªTopicçš„æ€§èƒ½ç“¶é¢ˆï¼Œè€Œæœ‰äº†Partitionåï¼Œä¸åŒçš„æ¶ˆæ¯å¯ä»¥å¹¶è¡Œå†™å…¥ä¸åŒbrokerçš„ä¸åŒPartitioné‡Œï¼Œæå¤§çš„æé«˜äº†ååç‡ã€‚å¯ä»¥åœ¨$KAFKA_HOME/config/server.propertiesä¸­é€šè¿‡é…ç½®é¡¹num.partitionsæ¥æŒ‡å®šæ–°å»ºTopicçš„é»˜è®¤Partitionæ•°é‡ï¼Œä¹Ÿå¯åœ¨åˆ›å»ºTopicæ—¶é€šè¿‡å‚æ•°æŒ‡å®šï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥åœ¨Topicåˆ›å»ºä¹‹åé€šè¿‡Kafkaæä¾›çš„å·¥å…·ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å‘é€ä¸€æ¡æ¶ˆæ¯æ—¶ï¼Œå¯ä»¥æŒ‡å®šè¿™æ¡æ¶ˆæ¯çš„keyï¼ŒProduceræ ¹æ®è¿™ä¸ªkeyå’ŒPartitionæœºåˆ¶æ¥åˆ¤æ–­åº”è¯¥å°†è¿™æ¡æ¶ˆæ¯å‘é€åˆ°å“ªä¸ªParitionã€‚Parititionæœºåˆ¶å¯ä»¥é€šè¿‡æŒ‡å®šProducerçš„paritition. classè¿™ä¸€å‚æ•°æ¥æŒ‡å®šï¼Œè¯¥classå¿…é¡»å®ç°kafka.producer.Partitioneræ¥å£ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å››consumer-group&#34;&gt;å››ã€Consumer Group&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨Consumer high level APIæ—¶ï¼ŒåŒä¸€Topicçš„ä¸€æ¡æ¶ˆæ¯åªèƒ½è¢«åŒä¸€ä¸ªConsumer Groupå†…çš„ä¸€ä¸ªConsumeræ¶ˆè´¹ï¼Œä½†å¤šä¸ªConsumer Groupå¯åŒæ—¶æ¶ˆè´¹è¿™ä¸€æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220305220015.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯Kafkaç”¨æ¥å®ç°ä¸€ä¸ªTopicæ¶ˆæ¯çš„å¹¿æ’­ï¼ˆå‘ç»™æ‰€æœ‰çš„Consumerï¼‰å’Œå•æ’­ï¼ˆå‘ç»™æŸä¸€ä¸ªConsumerï¼‰çš„æ‰‹æ®µã€‚ä¸€ä¸ªTopicå¯ä»¥å¯¹åº”å¤šä¸ªConsumer Groupã€‚å¦‚æœéœ€è¦å®ç°å¹¿æ’­ï¼Œåªè¦æ¯ä¸ªConsumeræœ‰ä¸€ä¸ªç‹¬ç«‹çš„Groupå°±å¯ä»¥äº†ã€‚è¦å®ç°å•æ’­åªè¦æ‰€æœ‰çš„Consumeråœ¨åŒä¸€ä¸ªGroupé‡Œã€‚ç”¨Consumer Groupè¿˜å¯ä»¥å°†Consumerè¿›è¡Œè‡ªç”±çš„åˆ†ç»„è€Œä¸éœ€è¦å¤šæ¬¡å‘é€æ¶ˆæ¯åˆ°ä¸åŒçš„Topicã€‚&lt;/p&gt;
&lt;p&gt;å®é™…ä¸Šï¼ŒKafkaçš„è®¾è®¡ç†å¿µä¹‹ä¸€å°±æ˜¯åŒæ—¶æä¾›ç¦»çº¿å¤„ç†å’Œå®æ—¶å¤„ç†ã€‚æ ¹æ®è¿™ä¸€ç‰¹æ€§ï¼Œå¯ä»¥ä½¿ç”¨Stormè¿™ç§å®æ—¶æµå¤„ç†ç³»ç»Ÿå¯¹æ¶ˆæ¯è¿›è¡Œå®æ—¶åœ¨çº¿å¤„ç†ï¼ŒåŒæ—¶ä½¿ç”¨Hadoopè¿™ç§æ‰¹å¤„ç†ç³»ç»Ÿè¿›è¡Œç¦»çº¿å¤„ç†ï¼Œè¿˜å¯ä»¥åŒæ—¶å°†æ•°æ®å®æ—¶å¤‡ä»½åˆ°å¦ä¸€ä¸ªæ•°æ®ä¸­å¿ƒï¼Œåªéœ€è¦ä¿è¯è¿™ä¸‰ä¸ªæ“ä½œæ‰€ä½¿ç”¨çš„Consumerå±äºä¸åŒçš„Consumer Groupå³å¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;äº”push-vs-pull&#34;&gt;äº”ã€Push vs. Pull&lt;/h2&gt;
&lt;p&gt;ä½œä¸ºä¸€ä¸ªæ¶ˆæ¯ç³»ç»Ÿï¼ŒKafkaéµå¾ªäº†ä¼ ç»Ÿçš„æ–¹å¼ï¼Œé€‰æ‹©ç”±Producerå‘broker pushæ¶ˆæ¯å¹¶ç”±Consumerä»broker pullæ¶ˆæ¯ã€‚ä¸€äº›logging-centric systemï¼Œæ¯”å¦‚Facebookçš„Scribeå’ŒClouderaçš„Flumeï¼Œé‡‡ç”¨pushæ¨¡å¼ã€‚äº‹å®ä¸Šï¼Œpushæ¨¡å¼å’Œpullæ¨¡å¼å„æœ‰ä¼˜åŠ£ã€‚&lt;/p&gt;
&lt;p&gt;pushæ¨¡å¼å¾ˆéš¾é€‚åº”æ¶ˆè´¹é€Ÿç‡ä¸åŒçš„æ¶ˆè´¹è€…ï¼Œå› ä¸ºæ¶ˆæ¯å‘é€é€Ÿç‡æ˜¯ç”±brokerå†³å®šçš„ã€‚pushæ¨¡å¼çš„ç›®æ ‡æ˜¯å°½å¯èƒ½ä»¥æœ€å¿«é€Ÿåº¦ä¼ é€’æ¶ˆæ¯ï¼Œä½†æ˜¯è¿™æ ·å¾ˆå®¹æ˜“é€ æˆConsumeræ¥ä¸åŠå¤„ç†æ¶ˆæ¯ï¼Œå…¸å‹çš„è¡¨ç°å°±æ˜¯æ‹’ç»æœåŠ¡ä»¥åŠç½‘ç»œæ‹¥å¡ã€‚è€Œpullæ¨¡å¼åˆ™å¯ä»¥æ ¹æ®Consumerçš„æ¶ˆè´¹èƒ½åŠ›ä»¥é€‚å½“çš„é€Ÿç‡æ¶ˆè´¹æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºKafkaè€Œè¨€ï¼Œpullæ¨¡å¼æ›´åˆé€‚ã€‚pullæ¨¡å¼å¯ç®€åŒ–brokerçš„è®¾è®¡ï¼ŒConsumerå¯è‡ªä¸»æ§åˆ¶æ¶ˆè´¹æ¶ˆæ¯çš„é€Ÿç‡ï¼ŒåŒæ—¶Consumerå¯ä»¥è‡ªå·±æ§åˆ¶æ¶ˆè´¹æ–¹å¼â€”â€”å³å¯æ‰¹é‡æ¶ˆè´¹ä¹Ÿå¯é€æ¡æ¶ˆè´¹ï¼ŒåŒæ—¶è¿˜èƒ½é€‰æ‹©ä¸åŒçš„æäº¤æ–¹å¼ä»è€Œå®ç°ä¸åŒçš„ä¼ è¾“è¯­ä¹‰ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å…­kafka-delivery-guarantee&#34;&gt;å…­ã€Kafka delivery guarantee&lt;/h2&gt;
&lt;p&gt;æœ‰è¿™ä¹ˆå‡ ç§å¯èƒ½çš„delivery guaranteeï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;At most once ã€€ã€€æ¶ˆæ¯å¯èƒ½ä¼šä¸¢ï¼Œä½†ç»ä¸ä¼šé‡å¤ä¼ è¾“&lt;/p&gt;
&lt;p&gt;At least one ã€€ã€€ æ¶ˆæ¯ç»ä¸ä¼šä¸¢ï¼Œä½†å¯èƒ½ä¼šé‡å¤ä¼ è¾“&lt;/p&gt;
&lt;p&gt;Exactly once ã€€ã€€ æ¯æ¡æ¶ˆæ¯è‚¯å®šä¼šè¢«ä¼ è¾“ä¸€æ¬¡ä¸”ä»…ä¼ è¾“ä¸€æ¬¡ï¼Œå¾ˆå¤šæ—¶å€™è¿™æ˜¯ç”¨æˆ·æ‰€æƒ³è¦çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å½“Producerå‘brokerå‘é€æ¶ˆæ¯æ—¶ï¼Œä¸€æ—¦è¿™æ¡æ¶ˆæ¯è¢«commitï¼Œå› æ•°replicationçš„å­˜åœ¨ï¼Œå®ƒå°±ä¸ä¼šä¸¢ã€‚ä½†æ˜¯å¦‚æœProducerå‘é€æ•°æ®ç»™brokeråï¼Œé‡åˆ°ç½‘ç»œé—®é¢˜è€Œé€ æˆé€šä¿¡ä¸­æ–­ï¼Œé‚£Producerå°±æ— æ³•åˆ¤æ–­è¯¥æ¡æ¶ˆæ¯æ˜¯å¦å·²ç»commitã€‚è™½ç„¶Kafkaæ— æ³•ç¡®å®šç½‘ç»œæ•…éšœæœŸé—´å‘ç”Ÿäº†ä»€ä¹ˆï¼Œä½†æ˜¯Producerå¯ä»¥ç”Ÿæˆä¸€ç§ç±»ä¼¼äºä¸»é”®çš„ä¸œè¥¿ï¼Œå‘ç”Ÿæ•…éšœæ—¶å¹‚ç­‰æ€§çš„é‡è¯•å¤šæ¬¡ï¼Œè¿™æ ·å°±åšåˆ°äº†Exactly onceã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥è®¨è®ºçš„æ˜¯æ¶ˆæ¯ä»brokeråˆ°Consumerçš„delivery guaranteeè¯­ä¹‰ã€‚ï¼ˆä»…é’ˆå¯¹Kafka consumer high level APIï¼‰ã€‚Consumeråœ¨ä»brokerè¯»å–æ¶ˆæ¯åï¼Œå¯ä»¥é€‰æ‹©commitï¼Œè¯¥æ“ä½œä¼šåœ¨Zookeeperä¸­ä¿å­˜è¯¥Consumeråœ¨è¯¥Partitionä¸­è¯»å–çš„æ¶ˆæ¯çš„offsetã€‚è¯¥Consumerä¸‹ä¸€æ¬¡å†è¯»è¯¥Partitionæ—¶ä¼šä»ä¸‹ä¸€æ¡å¼€å§‹è¯»å–ã€‚å¦‚æœªcommitï¼Œä¸‹ä¸€æ¬¡è¯»å–çš„å¼€å§‹ä½ç½®ä¼šè·Ÿä¸Šä¸€æ¬¡commitä¹‹åçš„å¼€å§‹ä½ç½®ç›¸åŒã€‚å½“ç„¶å¯ä»¥å°†Consumerè®¾ç½®ä¸ºautocommitï¼Œå³Consumerä¸€æ—¦è¯»åˆ°æ•°æ®ç«‹å³è‡ªåŠ¨commitã€‚å¦‚æœåªè®¨è®ºè¿™ä¸€è¯»å–æ¶ˆæ¯çš„è¿‡ç¨‹ï¼Œé‚£Kafkaæ˜¯ç¡®ä¿äº†Exactly onceã€‚ä½†å®é™…ä½¿ç”¨ä¸­åº”ç”¨ç¨‹åºå¹¶éåœ¨Consumerè¯»å–å®Œæ•°æ®å°±ç»“æŸäº†ï¼Œè€Œæ˜¯è¦è¿›è¡Œè¿›ä¸€æ­¥å¤„ç†ï¼Œè€Œæ•°æ®å¤„ç†ä¸commitçš„é¡ºåºåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå†³å®šäº†æ¶ˆæ¯ä»brokerå’Œconsumerçš„delivery guarantee semanticã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Kafkaé»˜è®¤ä¿è¯At least once&lt;/strong&gt;ï¼Œå¹¶ä¸”å…è®¸é€šè¿‡è®¾ç½®Producerå¼‚æ­¥æäº¤æ¥å®ç°At most onceã€‚è€ŒExactly onceè¦æ±‚ä¸å¤–éƒ¨å­˜å‚¨ç³»ç»Ÿåä½œï¼Œå¹¸è¿çš„æ˜¯Kafkaæä¾›çš„offsetå¯ä»¥éå¸¸ç›´æ¥éå¸¸å®¹æ˜“å¾—ä½¿ç”¨è¿™ç§æ–¹å¼ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>hexoæ”¯æŒmermaid</title>
        <link>https://lxb.wiki/6541b31d/</link>
        <pubDate>Wed, 15 Sep 2021 21:34:12 +0000</pubDate>
        
        <guid>https://lxb.wiki/6541b31d/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;ä¸€å®šè¦å‚è€ƒ[å®˜ç½‘](&lt;a class=&#34;link&#34; href=&#34;https://mermaid-js.github.io/mermaid/#/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;mermaid - Markdownish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs. (mermaid-js.github.io)&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;ä¸è¦ç›¸ä¿¡åƒåœ¾ CSDN&lt;/p&gt;
&lt;h2 id=&#34;å®‰è£…æ’ä»¶&#34;&gt;å®‰è£…æ’ä»¶&lt;/h2&gt;
&lt;p&gt;npm å®‰è£…&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;npm install hexo-filter-mermaid-diagrams
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;é¡¹ç›® [GitHub ä¸»é¡µ]&lt;a class=&#34;link&#34; href=&#34;https://github.com/webappdevelp/hexo-filter-mermaid-diagrams&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;webappdevelp/hexo-filter-mermaid-diagrams: mermaid diagrams for hexo (github.com)&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç¼–è¾‘é…ç½®æ–‡ä»¶&#34;&gt;ç¼–è¾‘é…ç½®æ–‡ä»¶&lt;/h2&gt;
&lt;p&gt;ä¿®æ”¹æ–‡ä»¶ &lt;code&gt;themes/pure/_config.yml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æ–‡ä»¶æœ€å¥½æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# mermaid chart&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;mermaid&lt;/span&gt;: &lt;span style=&#34;color:#75715e&#34;&gt;## mermaid url https://github.com/knsv/mermaid&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;enable&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# default true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;version&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;7.1.2&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# default v7.1.2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;options&lt;/span&gt;:  &lt;span style=&#34;color:#75715e&#34;&gt;# find more api options from https://github.com/knsv/mermaid/blob/master/src/mermaidAPI.js&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#startOnload: true  // default true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;åœ¨-ejs-ä¸­å¼•å…¥-mermaidjs&#34;&gt;åœ¨ ejs ä¸­å¼•å…¥ mermaid.js&lt;/h2&gt;
&lt;p&gt;ä¿®æ”¹ &lt;code&gt;themes/pure/layout/_common/footer.ejs&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æ·»åŠ ä»¥ä¸‹å†…å®¹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;%&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;theme&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;mermaid&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;enable&lt;/span&gt;) { &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;script&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;src&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;/script&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;script&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (window.&lt;span style=&#34;color:#a6e22e&#34;&gt;mermaid&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#a6e22e&#34;&gt;mermaid&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;initialize&lt;/span&gt;({&lt;span style=&#34;color:#a6e22e&#34;&gt;theme&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;forest&amp;#39;&lt;/span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;/script&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;%&lt;/span&gt; } &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;qa&#34;&gt;Q&amp;amp;A&lt;/h2&gt;
&lt;p&gt;å¦‚æœåŠ è½½å®Œåï¼Œæ˜¾ç¤ºçš„å›¾ä¸æ­£ç¡®ï¼Œé‚£ä¹ˆå¾ˆæœ‰å¯èƒ½æ˜¯å› ä¸ºå¼•å…¥ &lt;code&gt;mermaid.min.js&lt;/code&gt; çš„é“¾æ¥ä¸æ­£ç¡®&lt;/p&gt;
</description>
        </item>
        <item>
        <title>åˆ†å¸ƒå¼ç³»ç»Ÿçš„CAPç†è®º</title>
        <link>https://lxb.wiki/3bdd21ca/</link>
        <pubDate>Fri, 10 Sep 2021 21:54:27 +0000</pubDate>
        
        <guid>https://lxb.wiki/3bdd21ca/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;capç†è®ºæ¦‚è¿°&#34;&gt;CAPç†è®ºæ¦‚è¿°&lt;/h2&gt;
&lt;p&gt;CAPç†è®ºï¼šä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿæœ€å¤šåªèƒ½åŒæ—¶æ»¡è¶³ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ã€å¯ç”¨æ€§ï¼ˆAvailabilityï¼‰å’Œåˆ†åŒºå®¹é”™æ€§ï¼ˆPartition toleranceï¼‰è¿™ä¸‰é¡¹ä¸­çš„ä¸¤é¡¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226145516.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;CAPç†è®ºä¸­çš„CAå’Œæ•°æ®åº“äº‹åŠ¡ä¸­ACIDçš„CAå¹¶ä¸æ˜¯åŒä¸€å›äº‹å„¿ã€‚ä¸¤è€…ä¹‹ä¸­çš„Céƒ½æ˜¯éƒ½æ˜¯ä¸€è‡´æ€§(Consistency)ã€‚CAPä¸­çš„AæŒ‡çš„æ˜¯å¯ç”¨æ€§ï¼ˆAvailabilityï¼‰ï¼Œè€ŒACIDä¸­çš„AæŒ‡çš„æ˜¯åŸå­æ€§ï¼ˆAtomicity)ï¼Œåˆ‡å‹¿æ··ä¸ºä¸€è°ˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;capçš„å®šä¹‰&#34;&gt;CAPçš„å®šä¹‰&lt;/h2&gt;
&lt;h3 id=&#34;consistency-ä¸€è‡´æ€§&#34;&gt;Consistency ä¸€è‡´æ€§&lt;/h3&gt;
&lt;p&gt;ä¸€è‡´æ€§æŒ‡â€œ&lt;code&gt;all nodes see the same data at the same time&lt;/code&gt;â€ï¼Œå³æ›´æ–°æ“ä½œæˆåŠŸå¹¶è¿”å›å®¢æˆ·ç«¯å®Œæˆåï¼Œæ‰€æœ‰èŠ‚ç‚¹åœ¨åŒä¸€æ—¶é—´çš„æ•°æ®å®Œå…¨ä¸€è‡´ï¼Œæ‰€ä»¥ï¼Œä¸€è‡´æ€§ï¼Œè¯´çš„å°±æ˜¯æ•°æ®ä¸€è‡´æ€§ã€‚&lt;a class=&#34;link&#34; href=&#34;http://www.hollischuang.com/archives/663&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;åˆ†å¸ƒå¼çš„ä¸€è‡´æ€§&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºä¸€è‡´æ€§ï¼Œå¯ä»¥åˆ†ä¸ºä»å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¸¤ä¸ªä¸åŒçš„è§†è§’ã€‚ä»å®¢æˆ·ç«¯æ¥çœ‹ï¼Œä¸€è‡´æ€§ä¸»è¦æŒ‡çš„æ˜¯å¤šå¹¶å‘è®¿é—®æ—¶æ›´æ–°è¿‡çš„æ•°æ®å¦‚ä½•è·å–çš„é—®é¢˜ã€‚ä»æœåŠ¡ç«¯æ¥çœ‹ï¼Œåˆ™æ˜¯æ›´æ–°å¦‚ä½•å¤åˆ¶åˆ†å¸ƒåˆ°æ•´ä¸ªç³»ç»Ÿï¼Œä»¥ä¿è¯æ•°æ®æœ€ç»ˆä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€è‡´æ€§æ˜¯å› ä¸ºæœ‰å¹¶å‘è¯»å†™æ‰æœ‰çš„é—®é¢˜ï¼Œå› æ­¤åœ¨ç†è§£ä¸€è‡´æ€§çš„é—®é¢˜æ—¶ï¼Œä¸€å®šè¦æ³¨æ„ç»“åˆè€ƒè™‘å¹¶å‘è¯»å†™çš„åœºæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;ä»å®¢æˆ·ç«¯è§’åº¦ï¼Œå¤šè¿›ç¨‹å¹¶å‘è®¿é—®æ—¶ï¼Œæ›´æ–°è¿‡çš„æ•°æ®åœ¨ä¸åŒè¿›ç¨‹å¦‚ä½•è·å–çš„ä¸åŒç­–ç•¥ï¼Œå†³å®šäº†ä¸åŒçš„ä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸‰ç§ä¸€è‡´æ€§ç­–ç•¥&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºå…³ç³»å‹æ•°æ®åº“ï¼Œè¦æ±‚æ›´æ–°è¿‡çš„æ•°æ®èƒ½è¢«åç»­çš„è®¿é—®éƒ½èƒ½çœ‹åˆ°ï¼Œè¿™æ˜¯å¼ºä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœèƒ½å®¹å¿åç»­çš„éƒ¨åˆ†æˆ–è€…å…¨éƒ¨è®¿é—®ä¸åˆ°ï¼Œåˆ™æ˜¯å¼±ä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœç»è¿‡ä¸€æ®µæ—¶é—´åè¦æ±‚èƒ½è®¿é—®åˆ°æ›´æ–°åçš„æ•°æ®ï¼Œåˆ™æ˜¯æœ€ç»ˆä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;p&gt;CAPä¸­è¯´ï¼Œä¸å¯èƒ½åŒæ—¶æ»¡è¶³çš„è¿™ä¸ªä¸€è‡´æ€§æŒ‡çš„æ˜¯å¼ºä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;h3 id=&#34;availability-å¯ç”¨æ€§&#34;&gt;Availability å¯ç”¨æ€§&lt;/h3&gt;
&lt;p&gt;å¯ç”¨æ€§æŒ‡â€œ&lt;code&gt;Reads and writes always succeed&lt;/code&gt;â€ï¼Œå³æœåŠ¡ä¸€ç›´å¯ç”¨ï¼Œè€Œä¸”æ˜¯æ­£å¸¸å“åº”æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºä¸€ä¸ªå¯ç”¨æ€§çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæ¯ä¸€ä¸ªéæ•…éšœçš„èŠ‚ç‚¹å¿…é¡»å¯¹æ¯ä¸€ä¸ªè¯·æ±‚ä½œå‡ºå“åº”ã€‚æ‰€ä»¥ï¼Œä¸€èˆ¬æˆ‘ä»¬åœ¨è¡¡é‡ä¸€ä¸ªç³»ç»Ÿçš„å¯ç”¨æ€§çš„æ—¶å€™ï¼Œéƒ½æ˜¯é€šè¿‡åœæœºæ—¶é—´æ¥è®¡ç®—çš„ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;å¯ç”¨æ€§åˆ†ç±»&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;å¯ç”¨æ°´å¹³ï¼ˆ%ï¼‰&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;å¹´å¯å®¹å¿åœæœºæ—¶é—´&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;å®¹é”™å¯ç”¨æ€§&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;99.9999&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&amp;lt;1 min&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æé«˜å¯ç”¨æ€§&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;99.999&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&amp;lt;5 min&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;å…·æœ‰æ•…éšœè‡ªåŠ¨æ¢å¤èƒ½åŠ›çš„å¯ç”¨æ€§&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;99.99&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&amp;lt;53 min&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;é«˜å¯ç”¨æ€§&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;99.9&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&amp;lt;8.8h&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;å•†å“å¯ç”¨æ€§&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;99&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&amp;lt;43.8 min&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;é€šå¸¸æˆ‘ä»¬æè¿°ä¸€ä¸ªç³»ç»Ÿçš„å¯ç”¨æ€§æ—¶ï¼Œæˆ‘ä»¬è¯´æ·˜å®çš„ç³»ç»Ÿå¯ç”¨æ€§å¯ä»¥è¾¾åˆ°5ä¸ª9ï¼Œæ„æ€å°±æ˜¯è¯´ä»–çš„å¯ç”¨æ°´å¹³æ˜¯99.999%ï¼Œå³å…¨å¹´åœæœºæ—¶é—´ä¸è¶…è¿‡ &lt;code&gt;(1-0.99999)*365*24*60 = 5.256 min&lt;/code&gt;ï¼Œè¿™æ˜¯ä¸€ä¸ªæé«˜çš„è¦æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;å¥½çš„å¯ç”¨æ€§ä¸»è¦æ˜¯æŒ‡ç³»ç»Ÿèƒ½å¤Ÿå¾ˆå¥½çš„ä¸ºç”¨æˆ·æœåŠ¡ï¼Œä¸å‡ºç°ç”¨æˆ·æ“ä½œå¤±è´¥æˆ–è€…è®¿é—®è¶…æ—¶ç­‰ç”¨æˆ·ä½“éªŒä¸å¥½çš„æƒ…å†µã€‚ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œä¸Šä¸‹æ¸¸è®¾è®¡å¾ˆå¤šç³»ç»Ÿå¦‚è´Ÿè½½å‡è¡¡ã€WEBæœåŠ¡å™¨ã€åº”ç”¨ä»£ç ã€æ•°æ®åº“æœåŠ¡å™¨ç­‰ï¼Œä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹çš„ä¸ç¨³å®šéƒ½å¯ä»¥å½±å“å¯ç”¨æ€§ã€‚&lt;/p&gt;
&lt;h3 id=&#34;partition-toleranceåˆ†åŒºå®¹é”™æ€§&#34;&gt;Partition Toleranceåˆ†åŒºå®¹é”™æ€§&lt;/h3&gt;
&lt;p&gt;åˆ†åŒºå®¹é”™æ€§æŒ‡â€œ&lt;code&gt;the system continues to operate despite arbitrary message loss or failure of part of the system&lt;/code&gt;â€ï¼Œå³åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨é‡åˆ°æŸèŠ‚ç‚¹æˆ–ç½‘ç»œåˆ†åŒºæ•…éšœçš„æ—¶å€™ï¼Œä»ç„¶èƒ½å¤Ÿå¯¹å¤–æä¾›æ»¡è¶³ä¸€è‡´æ€§å’Œå¯ç”¨æ€§çš„æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;åˆ†åŒºå®¹é”™æ€§å’Œæ‰©å±•æ€§ç´§å¯†ç›¸å…³ã€‚åœ¨åˆ†å¸ƒå¼åº”ç”¨ä¸­ï¼Œå¯èƒ½å› ä¸ºä¸€äº›åˆ†å¸ƒå¼çš„åŸå› å¯¼è‡´ç³»ç»Ÿæ— æ³•æ­£å¸¸è¿è½¬ã€‚å¥½çš„åˆ†åŒºå®¹é”™æ€§è¦æ±‚èƒ½å¤Ÿä½¿åº”ç”¨è™½ç„¶æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œè€Œçœ‹ä¸Šå»å´å¥½åƒæ˜¯åœ¨ä¸€ä¸ªå¯ä»¥è¿è½¬æ­£å¸¸çš„æ•´ä½“ã€‚æ¯”å¦‚ç°åœ¨çš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸­æœ‰æŸä¸€ä¸ªæˆ–è€…å‡ ä¸ªæœºå™¨å®•æ‰äº†ï¼Œå…¶ä»–å‰©ä¸‹çš„æœºå™¨è¿˜èƒ½å¤Ÿæ­£å¸¸è¿è½¬æ»¡è¶³ç³»ç»Ÿéœ€æ±‚ï¼Œæˆ–è€…æ˜¯æœºå™¨ä¹‹é—´æœ‰ç½‘ç»œå¼‚å¸¸ï¼Œå°†åˆ†å¸ƒå¼ç³»ç»Ÿåˆ†éš”æœªç‹¬ç«‹çš„å‡ ä¸ªéƒ¨åˆ†ï¼Œå„ä¸ªéƒ¨åˆ†è¿˜èƒ½ç»´æŒåˆ†å¸ƒå¼ç³»ç»Ÿçš„è¿ä½œï¼Œè¿™æ ·å°±å…·æœ‰å¥½çš„åˆ†åŒºå®¹é”™æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•ç‚¹è¯´ï¼Œå°±æ˜¯åœ¨ç½‘ç»œä¸­æ–­ï¼Œæ¶ˆæ¯ä¸¢å¤±çš„æƒ…å†µä¸‹ï¼Œç³»ç»Ÿå¦‚æœè¿˜èƒ½æ­£å¸¸å·¥ä½œï¼Œå°±æ˜¯æœ‰æ¯”è¾ƒå¥½çš„åˆ†åŒºå®¹é”™æ€§ã€‚&lt;/p&gt;
&lt;h2 id=&#34;capçš„è¯æ˜&#34;&gt;CAPçš„è¯æ˜&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226154057.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šå›¾ï¼Œæ˜¯æˆ‘ä»¬è¯æ˜CAPçš„åŸºæœ¬åœºæ™¯ï¼Œç½‘ç»œä¸­æœ‰ä¸¤ä¸ªèŠ‚ç‚¹N1å’ŒN2ï¼Œå¯ä»¥ç®€å•çš„ç†è§£N1å’ŒN2åˆ†åˆ«æ˜¯ä¸¤å°è®¡ç®—æœºï¼Œä»–ä»¬ä¹‹é—´ç½‘ç»œå¯ä»¥è¿é€šï¼ŒN1ä¸­æœ‰ä¸€ä¸ªåº”ç”¨ç¨‹åºAï¼Œå’Œä¸€ä¸ªæ•°æ®åº“Vï¼ŒN2ä¹Ÿæœ‰ä¸€ä¸ªåº”ç”¨ç¨‹åºB2å’Œä¸€ä¸ªæ•°æ®åº“Vã€‚ç°åœ¨ï¼ŒAå’ŒBæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸¤ä¸ªéƒ¨åˆ†ï¼ŒVæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ•°æ®å­˜å‚¨çš„ä¸¤ä¸ªå­æ•°æ®åº“ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ»¡è¶³ä¸€è‡´æ€§çš„æ—¶å€™ï¼ŒN1å’ŒN2ä¸­çš„æ•°æ®æ˜¯ä¸€æ ·çš„ï¼ŒV0=V0ã€‚åœ¨æ»¡è¶³å¯ç”¨æ€§çš„æ—¶å€™ï¼Œç”¨æˆ·ä¸ç®¡æ˜¯è¯·æ±‚N1æˆ–è€…N2ï¼Œéƒ½ä¼šå¾—åˆ°ç«‹å³å“åº”ã€‚åœ¨æ»¡è¶³åˆ†åŒºå®¹é”™æ€§çš„æƒ…å†µä¸‹ï¼ŒN1å’ŒN2æœ‰ä»»ä½•ä¸€æ–¹å®•æœºï¼Œæˆ–è€…ç½‘ç»œä¸é€šçš„æ—¶å€™ï¼Œéƒ½ä¸ä¼šå½±å“N1å’ŒN2å½¼æ­¤ä¹‹é—´çš„æ­£å¸¸è¿ä½œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226154153.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šå›¾ï¼Œæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿæ­£å¸¸è¿è½¬çš„æµç¨‹ï¼Œç”¨æˆ·å‘N1æœºå™¨è¯·æ±‚æ•°æ®æ›´æ–°ï¼Œç¨‹åºAæ›´æ–°æ•°æ®åº“Voä¸ºV1ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿå°†æ•°æ®è¿›è¡ŒåŒæ­¥æ“ä½œMï¼Œå°†V1åŒæ­¥çš„N2ä¸­V0ï¼Œä½¿å¾—N2ä¸­çš„æ•°æ®V0ä¹Ÿæ›´æ–°ä¸ºV1ï¼ŒN2ä¸­çš„æ•°æ®å†å“åº”N2çš„è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œï¼Œå¯ä»¥å®šä¹‰N1å’ŒN2çš„æ•°æ®åº“Vä¹‹é—´çš„æ•°æ®æ˜¯å¦ä¸€æ ·ä¸ºä¸€è‡´æ€§ï¼›å¤–éƒ¨å¯¹N1å’ŒN2çš„è¯·æ±‚å“åº”ä¸ºå¯ç”¨è¡Œï¼›N1å’ŒN2ä¹‹é—´çš„ç½‘ç»œç¯å¢ƒä¸ºåˆ†åŒºå®¹é”™æ€§ã€‚è¿™æ˜¯æ­£å¸¸è¿ä½œçš„åœºæ™¯ï¼Œä¹Ÿæ˜¯ç†æƒ³çš„åœºæ™¯ï¼Œç„¶è€Œç°å®æ˜¯æ®‹é…·çš„ï¼Œå½“é”™è¯¯å‘ç”Ÿçš„æ—¶å€™ï¼Œä¸€è‡´æ€§å’Œå¯ç”¨æ€§è¿˜æœ‰åˆ†åŒºå®¹é”™æ€§ï¼Œæ˜¯å¦èƒ½åŒæ—¶æ»¡è¶³ï¼Œè¿˜æ˜¯è¯´è¦è¿›è¡Œå–èˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä½œä¸ºä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå®ƒå’Œå•æœºç³»ç»Ÿçš„æœ€å¤§åŒºåˆ«ï¼Œå°±åœ¨äºç½‘ç»œï¼Œç°åœ¨å‡è®¾ä¸€ç§æç«¯æƒ…å†µï¼ŒN1å’ŒN2ä¹‹é—´çš„ç½‘ç»œæ–­å¼€äº†ï¼Œæˆ‘ä»¬è¦æ”¯æŒè¿™ç§ç½‘ç»œå¼‚å¸¸ï¼Œç›¸å½“äºè¦æ»¡è¶³åˆ†åŒºå®¹é”™æ€§ï¼Œèƒ½ä¸èƒ½åŒæ—¶æ»¡è¶³ä¸€è‡´æ€§å’Œå“åº”æ€§å‘¢ï¼Ÿè¿˜æ˜¯è¯´è¦å¯¹ä»–ä»¬è¿›è¡Œå–èˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226154349.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å‡è®¾åœ¨N1å’ŒN2ä¹‹é—´ç½‘ç»œæ–­å¼€çš„æ—¶å€™ï¼Œæœ‰ç”¨æˆ·å‘N1å‘é€æ•°æ®æ›´æ–°è¯·æ±‚ï¼Œé‚£N1ä¸­çš„æ•°æ®V0å°†è¢«æ›´æ–°ä¸ºV1ï¼Œç”±äºç½‘ç»œæ˜¯æ–­å¼€çš„ï¼Œæ‰€ä»¥åˆ†å¸ƒå¼ç³»ç»ŸåŒæ­¥æ“ä½œMï¼Œæ‰€ä»¥N2ä¸­çš„æ•°æ®ä¾æ—§æ˜¯V0ï¼›è¿™ä¸ªæ—¶å€™ï¼Œæœ‰ç”¨æˆ·å‘N2å‘é€æ•°æ®è¯»å–è¯·æ±‚ï¼Œç”±äºæ•°æ®è¿˜æ²¡æœ‰è¿›è¡ŒåŒæ­¥ï¼Œåº”ç”¨ç¨‹åºæ²¡åŠæ³•ç«‹å³ç»™ç”¨æˆ·è¿”å›æœ€æ–°çš„æ•°æ®V1ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æœ‰äºŒç§é€‰æ‹©ï¼Œç¬¬ä¸€ï¼Œç‰ºç‰²æ•°æ®ä¸€è‡´æ€§ï¼Œä¿è¯å¯ç”¨æ€§ã€‚å“åº”æ—§çš„æ•°æ®V0ç»™ç”¨æˆ·ï¼›&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒï¼Œç‰ºç‰²å¯ç”¨æ€§ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§ã€‚é˜»å¡ç­‰å¾…ï¼Œç›´åˆ°ç½‘ç»œè¿æ¥æ¢å¤ï¼Œæ•°æ®æ›´æ–°æ“ä½œMå®Œæˆä¹‹åï¼Œå†ç»™ç”¨æˆ·å“åº”æœ€æ–°çš„æ•°æ®V1ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªè¿‡ç¨‹ï¼Œè¯æ˜äº†è¦æ»¡è¶³åˆ†åŒºå®¹é”™æ€§çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œåªèƒ½åœ¨ä¸€è‡´æ€§å’Œå¯ç”¨æ€§ä¸¤è€…ä¸­ï¼Œé€‰æ‹©å…¶ä¸­ä¸€ä¸ªã€‚&lt;/p&gt;
&lt;h2 id=&#34;capæƒè¡¡&#34;&gt;CAPæƒè¡¡&lt;/h2&gt;
&lt;p&gt;é€šè¿‡CAPç†è®ºåŠå‰é¢çš„è¯æ˜ï¼Œæˆ‘ä»¬çŸ¥é“æ— æ³•åŒæ—¶æ»¡è¶³ä¸€è‡´æ€§ã€å¯ç”¨æ€§å’Œåˆ†åŒºå®¹é”™æ€§è¿™ä¸‰ä¸ªç‰¹æ€§ï¼Œé‚£è¦èˆå¼ƒå“ªä¸ªå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åˆ†ä¸‰ç§æƒ…å†µæ¥é˜è¿°ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ca-without-p&#34;&gt;CA without P&lt;/h3&gt;
&lt;p&gt;è¿™ç§æƒ…å†µåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å‡ ä¹æ˜¯ä¸å­˜åœ¨çš„ã€‚é¦–å…ˆåœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ï¼Œç½‘ç»œåˆ†åŒºæ˜¯ä¸€ä¸ªè‡ªç„¶çš„äº‹å®ã€‚å› ä¸ºåˆ†åŒºæ˜¯å¿…ç„¶çš„ï¼Œæ‰€ä»¥å¦‚æœèˆå¼ƒPï¼Œæ„å‘³ç€è¦èˆå¼ƒåˆ†å¸ƒå¼ç³»ç»Ÿã€‚é‚£ä¹Ÿå°±æ²¡æœ‰å¿…è¦å†è®¨è®ºCAPç†è®ºäº†ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåœ¨å‰é¢çš„CAPè¯æ˜ä¸­ï¼Œæˆ‘ä»¬ä»¥ç³»ç»Ÿæ»¡è¶³Pä¸ºå‰æè®ºè¿°äº†æ— æ³•åŒæ—¶æ»¡è¶³Cå’ŒAã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚æˆ‘ä»¬ç†ŸçŸ¥çš„å…³ç³»å‹æ•°æ®åº“ï¼Œå¦‚My Sqlå’ŒOracleå°±æ˜¯ä¿è¯äº†å¯ç”¨æ€§å’Œæ•°æ®ä¸€è‡´æ€§ï¼Œä½†æ˜¯ä»–å¹¶ä¸æ˜¯ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿã€‚ä¸€æ—¦å…³ç³»å‹æ•°æ®åº“è¦è€ƒè™‘ä¸»å¤‡åŒæ­¥ã€é›†ç¾¤éƒ¨ç½²ç­‰å°±å¿…é¡»è¦æŠŠPä¹Ÿè€ƒè™‘è¿›æ¥ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®ï¼Œåœ¨CAPç†è®ºä¸­ã€‚Cï¼ŒAï¼ŒPä¸‰è€…å¹¶ä¸æ˜¯å¹³ç­‰çš„ï¼ŒCAPä¹‹çˆ¶åœ¨ã€ŠSpannerï¼ŒçœŸæ—¶ï¼ŒCAPç†è®ºã€‹ä¸€æ–‡ä¸­å†™åˆ°ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœè¯´SpannerçœŸæœ‰ä»€ä¹ˆç‰¹åˆ«ä¹‹å¤„ï¼Œé‚£å°±æ˜¯è°·æ­Œçš„å¹¿åŸŸç½‘ã€‚Googleé€šè¿‡å»ºç«‹ç§æœ‰ç½‘ç»œä»¥åŠå¼ºå¤§çš„ç½‘ç»œå·¥ç¨‹èƒ½åŠ›æ¥ä¿è¯Pï¼Œåœ¨å¤šå¹´è¿è¥æ”¹è¿›çš„åŸºç¡€ä¸Šï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯ä»¥æœ€å¤§ç¨‹åº¦çš„å‡å°‘åˆ†åŒºå‘ç”Ÿï¼Œä»è€Œå®ç°é«˜å¯ç”¨æ€§ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä»Googleçš„ç»éªŒä¸­å¯ä»¥å¾—åˆ°çš„ç»“è®ºæ˜¯ï¼Œæ— æ³•é€šè¿‡é™ä½CAæ¥æå‡Pã€‚è¦æƒ³æå‡ç³»ç»Ÿçš„åˆ†åŒºå®¹é”™æ€§ï¼Œéœ€è¦é€šè¿‡æå‡åŸºç¡€è®¾æ–½çš„ç¨³å®šæ€§æ¥ä¿éšœã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œå¯¹äºä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿæ¥è¯´ã€‚Pæ˜¯ä¸€ä¸ªåŸºæœ¬è¦æ±‚ï¼ŒCAPä¸‰è€…ä¸­ï¼Œåªèƒ½åœ¨CAä¸¤è€…ä¹‹é—´åšæƒè¡¡ï¼Œå¹¶ä¸”è¦æƒ³å°½åŠæ³•æå‡Pã€‚&lt;/p&gt;
&lt;h3 id=&#34;cp-without-a&#34;&gt;CP without A&lt;/h3&gt;
&lt;p&gt;å¦‚æœä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸è¦æ±‚å¼ºçš„å¯ç”¨æ€§ï¼Œå³å®¹è®¸ç³»ç»Ÿåœæœºæˆ–è€…é•¿æ—¶é—´æ— å“åº”çš„è¯ï¼Œå°±å¯ä»¥åœ¨CAPä¸‰è€…ä¸­ä¿éšœCPè€Œèˆå¼ƒAã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªä¿è¯äº†CPè€Œä¸€ä¸ªèˆå¼ƒäº†Açš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œä¸€æ—¦å‘ç”Ÿç½‘ç»œæ•…éšœæˆ–è€…æ¶ˆæ¯ä¸¢å¤±ç­‰æƒ…å†µï¼Œå°±è¦ç‰ºç‰²ç”¨æˆ·çš„ä½“éªŒï¼Œç­‰å¾…æ‰€æœ‰æ•°æ®å…¨éƒ¨ä¸€è‡´äº†ä¹‹åå†è®©ç”¨æˆ·è®¿é—®ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;è®¾è®¡æˆCPçš„ç³»ç»Ÿå…¶å®ä¹Ÿä¸å°‘ï¼Œå…¶ä¸­æœ€å…¸å‹çš„å°±æ˜¯å¾ˆå¤šåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œä»–ä»¬éƒ½æ˜¯è®¾è®¡æˆCPçš„ã€‚åœ¨å‘ç”Ÿæç«¯æƒ…å†µæ—¶ï¼Œä¼˜å…ˆä¿è¯æ•°æ®çš„å¼ºä¸€è‡´æ€§ï¼Œä»£ä»·å°±æ˜¯èˆå¼ƒç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚å¦‚Redisã€HBaseç­‰ï¼Œè¿˜æœ‰åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¸¸ç”¨çš„Zookeeperä¹Ÿæ˜¯åœ¨CAPä¸‰è€…ä¹‹ä¸­é€‰æ‹©ä¼˜å…ˆä¿è¯CPçš„ã€‚&lt;/p&gt;
&lt;p&gt;æ— è®ºæ˜¯åƒRedisã€HBaseè¿™ç§åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿï¼Œè¿˜æ˜¯åƒZookeeperè¿™ç§åˆ†å¸ƒå¼åè°ƒç»„ä»¶ã€‚æ•°æ®çš„ä¸€è‡´æ€§æ˜¯ä»–ä»¬æœ€æœ€åŸºæœ¬çš„è¦æ±‚ã€‚ä¸€ä¸ªè¿æ•°æ®ä¸€è‡´æ€§éƒ½ä¿è¯ä¸äº†çš„åˆ†å¸ƒå¼å­˜å‚¨è¦ä»–æœ‰ä½•ç”¨ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ZooKeeperæ˜¯ä¸ªCPï¼ˆä¸€è‡´æ€§+åˆ†åŒºå®¹é”™æ€§ï¼‰çš„ï¼Œå³ä»»ä½•æ—¶åˆ»å¯¹ZooKeeperçš„è®¿é—®è¯·æ±‚èƒ½å¾—åˆ°ä¸€è‡´çš„æ•°æ®ç»“æœï¼ŒåŒæ—¶ç³»ç»Ÿå¯¹ç½‘ç»œåˆ†å‰²å…·å¤‡å®¹é”™æ€§ã€‚ä½†æ˜¯å®ƒä¸èƒ½ä¿è¯æ¯æ¬¡æœåŠ¡è¯·æ±‚çš„å¯ç”¨æ€§ï¼Œä¹Ÿå°±æ˜¯åœ¨æç«¯ç¯å¢ƒä¸‹ï¼ŒZooKeeperå¯èƒ½ä¼šä¸¢å¼ƒä¸€äº›è¯·æ±‚ï¼Œæ¶ˆè´¹è€…ç¨‹åºéœ€è¦é‡æ–°è¯·æ±‚æ‰èƒ½è·å¾—ç»“æœã€‚ZooKeeperæ˜¯åˆ†å¸ƒå¼åè°ƒæœåŠ¡ï¼Œå®ƒçš„èŒè´£æ˜¯ä¿è¯æ•°æ®åœ¨å…¶ç®¡è¾–ä¸‹çš„æ‰€æœ‰æœåŠ¡ä¹‹é—´ä¿æŒåŒæ­¥ã€ä¸€è‡´ã€‚æ‰€ä»¥å°±ä¸éš¾ç†è§£ä¸ºä»€ä¹ˆZooKeeperè¢«è®¾è®¡æˆCPè€Œä¸æ˜¯APç‰¹æ€§çš„äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ap-wihtout-c&#34;&gt;AP wihtout C&lt;/h3&gt;
&lt;p&gt;è¦é«˜å¯ç”¨å¹¶å…è®¸åˆ†åŒºï¼Œåˆ™éœ€æ”¾å¼ƒä¸€è‡´æ€§ã€‚ä¸€æ—¦ç½‘ç»œé—®é¢˜å‘ç”Ÿï¼ŒèŠ‚ç‚¹ä¹‹é—´å¯èƒ½ä¼šå¤±å»è”ç³»ã€‚ä¸ºäº†ä¿è¯é«˜å¯ç”¨ï¼Œéœ€è¦åœ¨ç”¨æˆ·è®¿é—®æ—¶å¯ä»¥é©¬ä¸Šå¾—åˆ°è¿”å›ï¼Œåˆ™æ¯ä¸ªèŠ‚ç‚¹åªèƒ½ç”¨æœ¬åœ°æ•°æ®æä¾›æœåŠ¡ï¼Œè€Œè¿™æ ·ä¼šå¯¼è‡´å…¨å±€æ•°æ®çš„ä¸ä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§èˆå¼ƒå¼ºä¸€è‡´æ€§è€Œä¿è¯ç³»ç»Ÿçš„åˆ†åŒºå®¹é”™æ€§å’Œå¯ç”¨æ€§çš„åœºæ™¯å’Œæ¡ˆä¾‹éå¸¸å¤šã€‚å‰é¢æˆ‘ä»¬ä»‹ç»å¯ç”¨æ€§çš„æ—¶å€™è¯´åˆ°è¿‡ï¼Œå¾ˆå¤šç³»ç»Ÿåœ¨å¯ç”¨æ€§æ–¹é¢ä¼šåšå¾ˆå¤šäº‹æƒ…æ¥ä¿è¯ç³»ç»Ÿçš„å…¨å¹´å¯ç”¨æ€§å¯ä»¥è¾¾åˆ°Nä¸ª9ï¼Œæ‰€ä»¥ï¼Œå¯¹äºå¾ˆå¤šä¸šåŠ¡ç³»ç»Ÿæ¥è¯´ï¼Œæ¯”å¦‚æ·˜å®çš„è´­ç‰©ï¼Œ12306çš„ä¹°ç¥¨ã€‚éƒ½æ˜¯åœ¨å¯ç”¨æ€§å’Œä¸€è‡´æ€§ä¹‹é—´èˆå¼ƒäº†ä¸€è‡´æ€§è€Œé€‰æ‹©å¯ç”¨æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ä½ åœ¨12306ä¹°ç¥¨çš„æ—¶å€™è‚¯å®šé‡åˆ°è¿‡è¿™ç§åœºæ™¯ï¼Œå½“ä½ è´­ä¹°çš„æ—¶å€™æç¤ºä½ æ˜¯æœ‰ç¥¨çš„ï¼ˆä½†æ˜¯å¯èƒ½å®é™…å·²ç»æ²¡ç¥¨äº†ï¼‰ï¼Œä½ ä¹Ÿæ­£å¸¸çš„å»è¾“å…¥éªŒè¯ç ï¼Œä¸‹å•äº†ã€‚ä½†æ˜¯è¿‡äº†ä¸€ä¼šç³»ç»Ÿæç¤ºä½ ä¸‹å•å¤±è´¥ï¼Œä½™ç¥¨ä¸è¶³ã€‚è¿™å…¶å®å°±æ˜¯å…ˆåœ¨å¯ç”¨æ€§æ–¹é¢ä¿è¯ç³»ç»Ÿå¯ä»¥æ­£å¸¸çš„æœåŠ¡ï¼Œç„¶ååœ¨æ•°æ®çš„ä¸€è‡´æ€§æ–¹é¢åšäº†äº›ç‰ºç‰²ï¼Œä¼šå½±å“ä¸€äº›ç”¨æˆ·ä½“éªŒï¼Œä½†æ˜¯ä¹Ÿä¸è‡³äºé€ æˆç”¨æˆ·æµç¨‹çš„ä¸¥é‡é˜»å¡ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œæˆ‘ä»¬è¯´å¾ˆå¤šç½‘ç«™ç‰ºç‰²äº†ä¸€è‡´æ€§ï¼Œé€‰æ‹©äº†å¯ç”¨æ€§ï¼Œè¿™å…¶å®ä¹Ÿä¸å‡†ç¡®çš„ã€‚å°±æ¯”å¦‚ä¸Šé¢çš„ä¹°ç¥¨çš„ä¾‹å­ï¼Œå…¶å®èˆå¼ƒçš„åªæ˜¯å¼ºä¸€è‡´æ€§ã€‚é€€è€Œæ±‚å…¶æ¬¡ä¿è¯äº†æœ€ç»ˆä¸€è‡´æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè™½ç„¶ä¸‹å•çš„ç¬é—´ï¼Œå…³äºè½¦ç¥¨çš„åº“å­˜å¯èƒ½å­˜åœ¨æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µï¼Œä½†æ˜¯è¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œè¿˜æ˜¯è¦ä¿è¯æœ€ç»ˆä¸€è‡´æ€§çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå¤šæ•°å¤§å‹äº’è”ç½‘åº”ç”¨çš„åœºæ™¯ï¼Œä¸»æœºä¼—å¤šã€éƒ¨ç½²åˆ†æ•£ï¼Œè€Œä¸”ç°åœ¨çš„é›†ç¾¤è§„æ¨¡è¶Šæ¥è¶Šå¤§ï¼Œæ‰€ä»¥èŠ‚ç‚¹æ•…éšœã€ç½‘ç»œæ•…éšœæ˜¯å¸¸æ€ï¼Œè€Œä¸”è¦ä¿è¯æœåŠ¡å¯ç”¨æ€§è¾¾åˆ°Nä¸ª9ï¼Œå³ä¿è¯På’ŒAï¼Œèˆå¼ƒCï¼ˆé€€è€Œæ±‚å…¶æ¬¡ä¿è¯æœ€ç»ˆä¸€è‡´æ€§ï¼‰ã€‚è™½ç„¶æŸäº›åœ°æ–¹ä¼šå½±å“å®¢æˆ·ä½“éªŒï¼Œä½†æ²¡è¾¾åˆ°é€ æˆç”¨æˆ·æµç¨‹çš„ä¸¥é‡ç¨‹åº¦ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>go mapæ•°æ®ç»“æ„</title>
        <link>https://lxb.wiki/aaf3975f/</link>
        <pubDate>Sat, 28 Aug 2021 22:30:18 +0000</pubDate>
        
        <guid>https://lxb.wiki/aaf3975f/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h1 id=&#34;1-å‰è¨€&#34;&gt;1. å‰è¨€&lt;/h1&gt;
&lt;p&gt;goçš„mapåº•å±‚å®ç°æ–¹å¼æ˜¯hashè¡¨ï¼ˆC++çš„mapæ˜¯çº¢é»‘æ ‘å®ç°ï¼Œè€ŒC++ 11æ–°å¢çš„unordered_mapåˆ™ä¸goçš„mapç±»ä¼¼ï¼Œéƒ½æ˜¯hashå®ç°ï¼‰ã€‚go mapçš„æ•°æ®è¢«ç½®å…¥ä¸€ä¸ªç”±æ¡¶ç»„æˆçš„æœ‰åºæ•°ç»„ä¸­ï¼Œæ¯ä¸ªæ¡¶æœ€å¤šå¯ä»¥å­˜æ”¾8ä¸ªkey/valueå¯¹ã€‚keyçš„hashå€¼(32ä½)çš„ä½é˜¶ä½ç”¨äºåœ¨è¯¥æ•°ç»„ä¸­å®šä½åˆ°æ¡¶ï¼Œè€Œé«˜8ä½åˆ™ç”¨äºåœ¨æ¡¶ä¸­åŒºåˆ†key/valueå¯¹ã€‚
go mapçš„hashè¡¨ä¸­çš„åŸºæœ¬å•ä½æ˜¯æ¡¶ï¼Œæ¯ä¸ªæ¡¶æœ€å¤šå­˜8ä¸ªé”®å€¼å¯¹ï¼Œè¶…äº†ï¼Œåˆ™ä¼šé“¾æ¥åˆ°é¢å¤–çš„æº¢å‡ºæ¡¶ã€‚æ‰€ä»¥go mapæ˜¯åŸºæœ¬æ•°æ®ç»“æ„æ˜¯hashæ•°ç»„+æ¡¶å†…çš„key-valueæ•°ç»„+æº¢å‡ºçš„æ¡¶é“¾è¡¨
å½“hashè¡¨è¶…è¿‡é˜ˆå€¼éœ€è¦æ‰©å®¹å¢é•¿æ—¶ï¼Œä¼šåˆ†é…ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œæ–°æ•°ç»„çš„å¤§å°ä¸€èˆ¬æ˜¯æ—§æ•°ç»„çš„2å€ã€‚è¿™é‡Œä»æ—§æ•°ç»„å°†æ•°æ®è¿ç§»åˆ°æ–°æ•°ç»„ï¼Œä¸ä¼šä¸€æ¬¡å…¨é‡æ‹·è´ï¼Œgoä¼šåœ¨æ¯æ¬¡è¯»å†™Mapæ—¶ä»¥æ¡¶ä¸ºå•ä½åšåŠ¨æ€æ¬è¿ç–æ•£ã€‚&lt;/p&gt;
&lt;h1 id=&#34;2-go-mapçš„æ•°æ®ç»“æ„&#34;&gt;2. go mapçš„æ•°æ®ç»“æ„&lt;/h1&gt;
&lt;h2 id=&#34;21-æ ¸å¿ƒç»“ä½“ä½“&#34;&gt;2.1 æ ¸å¿ƒç»“ä½“ä½“&lt;/h2&gt;
&lt;p&gt;mapä¸»è¦ç”±ä¸¤ä¸ªæ ¸å¿ƒçš„ç»“æ„ï¼Œå³åŸºç¡€ç»“æ„å’Œæ¡¶å®ç°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;hmapï¼šmapçš„åŸºç¡€ç»“æ„&lt;/li&gt;
&lt;li&gt;bmapï¼šä¸¥æ ¼æ¥è¯´hmap.bucketsæŒ‡å‘æ¡¶ç»„æˆçš„æ•°ç»„ï¼Œæ¯ä¸ªæ¡¶çš„å¤´éƒ¨æ˜¯bmapï¼Œä¹‹åæ˜¯8ä¸ªkeyï¼Œå†æ˜¯8ä¸ªvalueï¼Œæœ€åæ˜¯1ä¸ªæº¢å‡ºæŒ‡é’ˆã€‚æº¢å‡ºæŒ‡é’ˆæŒ‡å‘é¢å¤–çš„æ¡¶é“¾è¡¨ï¼Œç”¨äºå­˜å‚¨æº¢å‡ºçš„æ•°æ®&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-golang&#34; data-lang=&#34;golang&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; ( &lt;span style=&#34;color:#75715e&#34;&gt;// å…³é”®çš„å˜é‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;bucketCntBits&lt;/span&gt; = &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;bucketCnt&lt;/span&gt;     = &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;bucketCntBits&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// ä¸€ä¸ªæ¡¶æœ€å¤šå­˜å‚¨8ä¸ªkey-valueå¯¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;loadFactorNum&lt;/span&gt; = &lt;span style=&#34;color:#ae81ff&#34;&gt;13&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// æ‰©æ•£å› å­ï¼šloadFactorNum / loadFactorDen = 6.5ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;loadFactorDen&lt;/span&gt; = &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// å³å…ƒç´ æ•°é‡ &amp;gt;= (hashæ¡¶æ•°é‡(2^hmp.B) * 6.5 / 8) æ—¶ï¼Œè§¦å‘æ‰©å®¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// mapçš„åŸºç¡€æ•°æ®ç»“æ„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;hmap&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;count&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;	 &lt;span style=&#34;color:#75715e&#34;&gt;// mapå­˜å‚¨çš„å…ƒç´ å¯¹è®¡æ•°ï¼Œlen()å‡½æ•°è¿”å›æ­¤å€¼ï¼Œæ‰€ä»¥mapçš„len()æ—¶é—´å¤æ‚åº¦æ˜¯O(1)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;flags&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;uint8&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// è®°å½•å‡ ä¸ªç‰¹æ®Šçš„ä½æ ‡è®°ï¼Œå¦‚å½“å‰æ˜¯å¦æœ‰åˆ«çš„çº¿ç¨‹æ­£åœ¨å†™mapã€å½“å‰æ˜¯å¦ä¸ºç›¸åŒå¤§å°çš„å¢é•¿ï¼ˆæ‰©å®¹/ç¼©å®¹ï¼Ÿï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;         &lt;span style=&#34;color:#66d9ef&#34;&gt;uint8&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// hashæ¡¶bucketsçš„æ•°é‡ä¸º2^Bä¸ª
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;noverflow&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;uint16&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// æº¢å‡ºçš„æ¡¶çš„æ•°é‡çš„è¿‘ä¼¼å€¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;hash0&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;uint32&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// hashç§å­
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;buckets&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// æŒ‡å‘2^Bä¸ªæ¡¶ç»„æˆçš„æ•°ç»„çš„æŒ‡é’ˆï¼Œæ•°æ®å­˜åœ¨è¿™é‡Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;oldbuckets&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// æŒ‡å‘æ‰©å®¹å‰çš„æ—§bucketsæ•°ç»„ï¼Œåªåœ¨mapå¢é•¿æ—¶æœ‰æ•ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;nevacuate&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;uintptr&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// è®¡æ•°å™¨ï¼Œæ ‡ç¤ºæ‰©å®¹åæ¬è¿çš„è¿›åº¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;extra&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mapextra&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// ä¿å­˜æº¢å‡ºæ¡¶çš„é“¾è¡¨å’Œæœªä½¿ç”¨çš„æº¢å‡ºæ¡¶æ•°ç»„çš„é¦–åœ°å€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æ¡¶çš„å®ç°ç»“æ„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;bmap&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// tophashå­˜å‚¨æ¡¶å†…æ¯ä¸ªkeyçš„hashå€¼çš„é«˜å­—èŠ‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// tophash[0] &amp;lt; minTopHashè¡¨ç¤ºæ¡¶çš„ç–æ•£çŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// å½“å‰ç‰ˆæœ¬bucketCntçš„å€¼æ˜¯8ï¼Œä¸€ä¸ªæ¡¶æœ€å¤šå­˜å‚¨8ä¸ªkey-valueå¯¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;tophash&lt;/span&gt; [&lt;span style=&#34;color:#a6e22e&#34;&gt;bucketCnt&lt;/span&gt;]&lt;span style=&#34;color:#66d9ef&#34;&gt;uint8&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// ç‰¹åˆ«æ³¨æ„ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// å®é™…åˆ†é…å†…å­˜æ—¶ä¼šç”³è¯·ä¸€ä¸ªæ›´å¤§çš„å†…å­˜ç©ºé—´Aï¼ŒAçš„å‰8å­—èŠ‚ä¸ºbmap
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// åé¢ä¾æ¬¡è·Ÿ8ä¸ªkeyã€8ä¸ªvalueã€1ä¸ªæº¢å‡ºæŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// mapçš„æ¡¶ç»“æ„å®é™…æŒ‡çš„æ˜¯å†…å­˜ç©ºé—´A
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// map.goé‡Œå¾ˆå¤šå‡½æ•°çš„ç¬¬1ä¸ªå…¥å‚æ˜¯è¿™ä¸ªç»“æ„ï¼Œä»æˆå‘˜æ¥çœ‹å¾ˆæ˜æ˜¾ï¼Œæ­¤ç»“æ„æ ‡ç¤ºäº†é”®å€¼å¯¹å’Œæ¡¶çš„å¤§å°ç­‰å¿…è¦ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æœ‰äº†è¿™ä¸ªç»“æ„çš„ä¿¡æ¯ï¼Œmap.goçš„ä»£ç å°±å¯ä»¥ä¸é”®å€¼å¯¹çš„å…·ä½“æ•°æ®ç±»å‹è§£è€¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æ‰€ä»¥map.goç”¨å†…å­˜åç§»é‡å’Œunsafe.PointeræŒ‡é’ˆæ¥ç›´æ¥å¯¹å†…å­˜è¿›è¡Œå­˜å–ï¼Œè€Œæ— éœ€å…³å¿ƒkeyæˆ–valueçš„å…·ä½“ç±»å‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;maptype&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;typ&lt;/span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;_type&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;_type&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;elem&lt;/span&gt;       &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;_type&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;bucket&lt;/span&gt;     &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;_type&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// internal type representing a hash bucket
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;keysize&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;uint8&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// size of key slot
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;valuesize&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;uint8&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// size of value slot
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;bucketsize&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;uint16&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// size of bucket
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;flags&lt;/span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;uint32&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;C++ä½¿ç”¨æ¨¡æ¿å¯ä»¥æ ¹æ®ä¸åŒçš„ç±»å‹ç”Ÿæˆmapçš„ä»£ç ã€‚
golangåˆ™é€šè¿‡ä¸Šè¿°maptypeç»“æ„ä½“ä¼ é€’é”®å€¼å¯¹çš„ç±»å‹å¤§å°ç­‰ä¿¡æ¯ï¼Œä»è€Œmap.goç›´æ¥ç”¨æŒ‡é’ˆæ“ä½œå¯¹åº”å¤§å°çš„å†…å­˜æ¥å®ç°å…¨å±€ä¸€ä»½mapä»£ç åŒæ—¶é€‚ç”¨äºä¸åŒç±»å‹çš„é”®å€¼å¯¹ã€‚è¿™ç‚¹ä¸Šå¯ä»¥è®¤ä¸ºç›¸æ¯”C++ç”¨æ¨¡æ¿å®ç°mapçš„æ–¹å¼ï¼Œgo mapçš„ç›®æ ‡æ–‡ä»¶çš„ä»£ç é‡ä¼šæ›´å°ã€‚&lt;/p&gt;
&lt;h2 id=&#34;22-æ•°æ®ç»“æ„å›¾&#34;&gt;2.2 æ•°æ®ç»“æ„å›¾&lt;/h2&gt;
&lt;p&gt;mapåº•å±‚åˆ›å»ºæ—¶ï¼Œä¼šåˆå§‹åŒ–ä¸€ä¸ªhmapç»“æ„ä½“ï¼ŒåŒæ—¶åˆ†é…ä¸€ä¸ªè¶³å¤Ÿå¤§çš„å†…å­˜ç©ºé—´Aã€‚å…¶ä¸­Açš„å‰æ®µç”¨äºhashæ•°ç»„ï¼ŒAçš„åæ®µé¢„ç•™ç»™æº¢å‡ºçš„æ¡¶ã€‚äºæ˜¯hmap.bucketsæŒ‡å‘hashæ•°ç»„ï¼Œå³Açš„é¦–åœ°å€ï¼›hmap.extra.nextOverflowåˆå§‹æ—¶æŒ‡å‘å†…å­˜Aä¸­çš„åæ®µï¼Œå³hashæ•°ç»„ç»“å°¾çš„ä¸‹ä¸€ä¸ªæ¡¶ï¼Œä¹Ÿå³ç¬¬1ä¸ªé¢„ç•™çš„æº¢å‡ºæ¡¶ã€‚æ‰€ä»¥å½“hashå†²çªéœ€è¦ä½¿ç”¨åˆ°æ–°çš„æº¢å‡ºæ¡¶æ—¶ï¼Œä¼šä¼˜å…ˆä½¿ç”¨ä¸Šè¿°é¢„ç•™çš„æº¢å‡ºæ¡¶ï¼Œhmap.extra.nextOverflowä¾æ¬¡å¾€ååç§»ç›´åˆ°ç”¨å®Œæ‰€æœ‰çš„æº¢å‡ºæ¡¶ï¼Œæ‰æœ‰å¯èƒ½ä¼šç”³è¯·æ–°çš„æº¢å‡ºæ¡¶ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226143452.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾ä¸­ï¼Œå½“éœ€è¦åˆ†é…ä¸€ä¸ªæº¢å‡ºæ¡¶æ—¶ï¼Œä¼šä¼˜å…ˆä»é¢„ç•™çš„æº¢å‡ºæ¡¶æ•°ç»„é‡Œå–ä¸€ä¸ªå‡ºæ¥é“¾æ¥åˆ°é“¾è¡¨åé¢ï¼Œè¿™æ—¶ä¸éœ€è¦å†æ¬¡ç”³è¯·å†…å­˜ã€‚ä½†å½“é¢„ç•™çš„æ¡¶è¢«ç”¨å®Œäº†ï¼Œåˆ™éœ€è¦ç”³è¯·æ–°çš„å†…å­˜ç»™æº¢å‡ºæ¡¶ã€‚&lt;/p&gt;
&lt;h1 id=&#34;3-go-mapçš„å¸¸ç”¨æ“ä½œ&#34;&gt;3. go mapçš„å¸¸ç”¨æ“ä½œ&lt;/h1&gt;
&lt;h2 id=&#34;31-åˆ›å»º&#34;&gt;3.1 åˆ›å»º&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨make(map[k]v, hint)åˆ›å»ºmapæ—¶ä¼šè°ƒç”¨makemap()å‡½æ•°ï¼Œä»£ç é€»è¾‘æ¯”è¾ƒç®€å•ã€‚
å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œmakemap()åˆ›å»ºçš„hashæ•°ç»„ï¼Œæ•°ç»„çš„å‰é¢æ˜¯hashè¡¨çš„ç©ºé—´ï¼Œå½“hint &amp;gt;= 4æ—¶åé¢ä¼šè¿½åŠ 2^(hint-4)ä¸ªæ¡¶ï¼Œä¹‹åå†å†…å­˜é¡µå¸§å¯¹é½åˆè¿½åŠ äº†è‹¥å¹²ä¸ªæ¡¶ï¼ˆå‚è§2.2ç« èŠ‚ç»“æ„å›¾çš„hashæ•°ç»„éƒ¨åˆ†ï¼‰
æ‰€ä»¥åˆ›å»ºmapæ—¶ä¸€æ¬¡å†…å­˜åˆ†é…æ—¢åˆ†é…äº†ç”¨æˆ·é¢„æœŸå¤§å°çš„hashæ•°ç»„ï¼Œåˆè¿½åŠ äº†ä¸€å®šé‡çš„é¢„ç•™çš„æº¢å‡ºæ¡¶ï¼Œè¿˜åšäº†å†…å­˜å¯¹é½ï¼Œä¸€ä¸¾å¤šå¾—ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// make(map[k]v, hint), hintå³é¢„åˆ†é…å¤§å°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ä¸ä¼ hintæ—¶ï¼Œå¦‚ç”¨newåˆ›å»ºä¸ªé¢„è®¾å®¹é‡ä¸º0çš„mapæ—¶ï¼Œmakemapåªåˆå§‹åŒ–hmapç»“æ„ï¼Œä¸åˆ†é…hashæ•°ç»„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;makemap&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;maptype&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;hint&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hmap&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hmap&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// çœç•¥éƒ¨åˆ†ä»£ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// éšæœºhashç§å­
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;hash0&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;fastrand&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// 2^h.B ä¸ºå¤§äºhint*6.5(æ‰©å®¹å› å­)çš„æœ€å°çš„2çš„å¹‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; uint8(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// overLoadFactor(hint, B)åªæœ‰ä¸€è¡Œä»£ç ï¼šreturn hint &amp;gt; bucketCnt &amp;amp;&amp;amp; uintptr(hint) &amp;gt; loadFactorNum*(bucketShift(B)/loadFactorDen)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// å³Bçš„å¤§å°åº”æ»¡è¶³ hint &amp;lt;= (2^B) * 6.5
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// ä¸€ä¸ªæ¡¶èƒ½å­˜8å¯¹key-valueï¼Œæ‰€ä»¥è¿™å°±è¡¨ç¤ºBçš„åˆå§‹å€¼æ˜¯ä¿è¯è¿™ä¸ªmapä¸éœ€è¦æ‰©å®¹å³å¯å­˜ä¸‹hintä¸ªå…ƒç´ å¯¹çš„æœ€å°çš„Bå€¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;overLoadFactor&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;hint&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// è¿™é‡Œåˆ†é…hashæ•°ç»„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;nextOverflow&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;bmap&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;buckets&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;nextOverflow&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;makeBucketArray&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#75715e&#34;&gt;// makeBucketArray()ä¼šåœ¨hashæ•°ç»„åé¢é¢„åˆ†é…ä¸€äº›æº¢å‡ºæ¡¶ï¼Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		&lt;span style=&#34;color:#75715e&#34;&gt;// h.extra.nextOverflowç”¨æ¥ä¿å­˜ä¸Šè¿°æº¢å‡ºæ¡¶çš„é¦–åœ°å€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;nextOverflow&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;extra&lt;/span&gt; = new(&lt;span style=&#34;color:#a6e22e&#34;&gt;mapextra&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;extra&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;nextOverflow&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;nextOverflow&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// åˆ†é…hashæ•°ç»„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;makeBucketArray&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;maptype&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;uint8&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;dirtyalloc&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;) (&lt;span style=&#34;color:#a6e22e&#34;&gt;buckets&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;nextOverflow&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;bmap&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;base&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;bucketShift&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;// baseä»£è¡¨ç”¨æˆ·é¢„æœŸçš„æ¡¶çš„æ•°é‡ï¼Œå³hashæ•°ç»„çš„çœŸå®å¤§å°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;nbuckets&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;base&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// nbucketsè¡¨ç¤ºå®é™…åˆ†é…çš„æ¡¶çš„æ•°é‡ï¼Œ&amp;gt;= baseï¼Œè¿™å°±å¯èƒ½ä¼šè¿½åŠ ä¸€äº›æº¢å‡ºæ¡¶ä½œä¸ºæº¢å‡ºçš„é¢„ç•™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#75715e&#34;&gt;// è¿™é‡Œè¿½åŠ ä¸€å®šæ•°é‡çš„æ¡¶ï¼Œå¹¶åšå†…å­˜å¯¹é½
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;nbuckets&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;bucketShift&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;sz&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;bucket&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;nbuckets&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;up&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;roundupsize&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;sz&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;up&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sz&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#a6e22e&#34;&gt;nbuckets&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;up&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;bucket&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// åé¢çš„ä»£ç å°±æ˜¯ç”³è¯·å†…å­˜ç©ºé—´äº†ï¼Œæ­¤å¤„çœç•¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// è¿™é‡Œå¤§å®¶å¯ä»¥æ€è€ƒä¸‹è¿™ä¸ªæ•°ç»„ç©ºé—´è¦æ€ä¹ˆåˆ†é…ï¼Œå…¶å®å°±æ˜¯n*sizeof(æ¡¶)ï¼Œæ‰€ä»¥ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		&lt;span style=&#34;color:#75715e&#34;&gt;// æ¯ä¸ªæ¡¶å‰é¢æ˜¯8å­—èŠ‚çš„tophashæ•°ç»„ï¼Œç„¶åæ˜¯8ä¸ªkeyï¼Œå†æ˜¯8ä¸ªvalueï¼Œæœ€åæ”¾ä¸€ä¸ªæº¢å‡ºæŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		&lt;span style=&#34;color:#75715e&#34;&gt;// sizeof(æ¡¶) = 8 + 8*sizeof(key) + 8*sizeof(value) + 8
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;buckets&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;nextOverflow&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;32-æ’å…¥æˆ–æ›´æ–°&#34;&gt;3.2 æ’å…¥æˆ–æ›´æ–°&lt;/h2&gt;
&lt;p&gt;go mapçš„æ’å…¥æ“ä½œï¼Œè°ƒç”¨mapassign()å‡½æ•°ã€‚
åŒå­¦ä»¬æˆ–è®¸åœ¨æŸäº›èµ„æ–™ä¸Šäº†è§£è¿‡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;go mapéœ€è¦åˆå§‹åŒ–æ‰èƒ½ä½¿ç”¨ï¼Œå¯¹ç©ºmapæ’å…¥ä¼španicã€‚hmapæŒ‡é’ˆä¼ é€’çš„æ–¹å¼ï¼Œå†³å®šäº†mapåœ¨ä½¿ç”¨å‰å¿…é¡»åˆå§‹åŒ–&lt;/li&gt;
&lt;li&gt;go mapä¸æ”¯æŒå¹¶å‘è¯»å†™ï¼Œä¼španicã€‚å¦‚æœä¸€å®šè¦å¹¶å‘ï¼Œè¯·ç”¨sync.Mapæˆ–è‡ªå·±è§£å†³å†²çª&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸Šè¿°ä¸¤ä¸ªé™åˆ¶ï¼Œåœ¨mapassign()å‡½æ•°å¼€å¤´èƒ½æ‰¾åˆ°ç­”æ¡ˆï¼š&lt;/p&gt;
&lt;p&gt;1 å‚æ•°åˆæ³•æ€§æ£€æµ‹ï¼Œè®¡ç®—hashå€¼&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mapassign&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;maptype&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hmap&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;) &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ä¸ç†Ÿæ‚‰æŒ‡é’ˆæ“ä½œçš„åŒå­¦ï¼Œç”¨æŒ‡é’ˆä¼ å‚å¾€å¾€ä¼šè¸©ç©ºæŒ‡é’ˆçš„å‘
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// è¿™é‡Œå¤§å®¶å¯ä»¥æ€è€ƒä¸‹ï¼Œä¸ºä»€ä¹ˆhè¦éç©ºåˆ¤æ–­ï¼Ÿ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å¦‚æœä¸€å®šè¦åœ¨è¿™é‡Œæ”¯æŒç©ºmapå¹¶æ£€æµ‹åˆ°mapä¸ºç©ºæ—¶è‡ªåŠ¨åˆå§‹åŒ–ï¼Œåº”è¯¥æ€ä¹ˆå†™ï¼Ÿ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// æç¤ºï¼šæŒ‡é’ˆçš„æŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		panic(&lt;span style=&#34;color:#a6e22e&#34;&gt;plainError&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;assignment to entry in nil map&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// åœ¨è¿™é‡Œåšå¹¶å‘åˆ¤æ–­ï¼Œæ£€æµ‹åˆ°å¹¶å‘å†™æ—¶ï¼ŒæŠ›å¼‚å¸¸
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// æ³¨æ„ï¼šgo mapçš„å¹¶å‘æ£€æµ‹æ˜¯ä¼ªæ£€æµ‹ï¼Œå¹¶ä¸ä¿è¯æ‰€æœ‰çš„å¹¶å‘éƒ½ä¼šè¢«æ£€æµ‹å‡ºæ¥ã€‚è€Œä¸”è¿™ç©æ„æ˜¯åœ¨è¿è¡ŒæœŸæ£€æµ‹ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// æ‰€ä»¥å¯¹mapæœ‰å¹¶å‘è¦æ±‚æ—¶ï¼Œåº”ä½¿ç”¨sync.mapæ¥ä»£æ›¿æ™®é€šmapï¼Œé€šè¿‡åŠ é”æ¥é˜»æ–­å¹¶å‘å†²çª
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;flags&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hashWriting&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;throw&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;concurrent map writes&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;hash&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;alg&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;hash&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;, uintptr(&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;hash0&lt;/span&gt;)) &lt;span style=&#34;color:#75715e&#34;&gt;// è¿™é‡Œå¾—åˆ°uint32çš„hashå€¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;flags&lt;/span&gt; ^= &lt;span style=&#34;color:#a6e22e&#34;&gt;hashWriting&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// ç½®Writingæ ‡å¿—ï¼Œkeyå†™å…¥bucketsåæ‰ä¼šæ¸…é™¤æ ‡å¿—
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;buckets&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; { &lt;span style=&#34;color:#75715e&#34;&gt;// mapä¸èƒ½ä¸ºç©ºï¼Œä½†hashæ•°ç»„å¯ä»¥åˆå§‹æ˜¯ç©ºçš„ï¼Œè¿™é‡Œä¼šåˆå§‹åŒ–
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;buckets&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;newobject&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;bucket&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;// newarray(t.bucket, 1)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;2 å®šä½keyåœ¨hashè¡¨ä¸­çš„ä½ç½®&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mapassign&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;maptype&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hmap&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;) &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;again&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;bucket&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;hash&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;bucketMask&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;// è¿™é‡Œç”¨hashå€¼çš„ä½é˜¶ä½å®šä½hashæ•°ç»„çš„ä¸‹æ ‡åç§»é‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;growing&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;growWork&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;bucket&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;// è¿™é‡Œæ˜¯mapçš„æ‰©å®¹ç¼©å®¹æ“ä½œï¼Œæˆ‘ä»¬åœ¨ç¬¬4ç« å•ç‹¬è®²
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// é€šè¿‡ä¸‹æ ‡bucketï¼Œåç§»å®šä½åˆ°å…·ä½“çš„æ¡¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; (&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;bmap&lt;/span&gt;)(&lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;(uintptr(&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;buckets&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;bucket&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;uintptr(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;bucketsize&lt;/span&gt;)))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;top&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tophash&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;hash&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;// è¿™é‡Œå–é«˜8ä½ç”¨äºåœ¨æ¡¶å†…å®šä½é”®å€¼å¯¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;3 è¿›ä¸€æ­¥å®šä½keyå¯ä»¥æ’å…¥çš„æ¡¶åŠæ¡¶ä¸­çš„ä½ç½®&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸¤è½®å¾ªç¯ï¼Œå¤–å±‚å¾ªç¯éå†hashæ¡¶åŠå…¶æŒ‡å‘çš„æº¢å‡ºé“¾è¡¨ï¼Œå†…å±‚å¾ªç¯åˆ™åœ¨æ¡¶å†…éå†ï¼ˆä¸€ä¸ªæ¡¶æœ€å¤š8ä¸ªkey-valueå¯¹ï¼‰&lt;/li&gt;
&lt;li&gt;æœ‰å¯èƒ½æ­£å¥½é“¾è¡¨ä¸Šçš„æ¡¶éƒ½æ»¡äº†ï¼Œè¿™æ—¶insertiä¸ºnilï¼Œç¬¬4æ­¥ä¼šé“¾æ¥ä¸€ä¸ªæ–°çš„æº¢å‡ºæ¡¶è¿›æ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mapassign&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;maptype&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hmap&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;) &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;inserti&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;uint8&lt;/span&gt;          &lt;span style=&#34;color:#75715e&#34;&gt;// tophashæ’å…¥ä½ç½®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;insertk&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// keyæ’å…¥ä½ç½®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;val&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;      &lt;span style=&#34;color:#75715e&#34;&gt;// valueæ’å…¥ä½ç½®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;bucketloop&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; uintptr(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;); &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &amp;lt; &lt;span style=&#34;color:#a6e22e&#34;&gt;bucketCnt&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;tophash&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;top&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;isEmpty&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;tophash&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;]) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;inserti&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				    &lt;span style=&#34;color:#75715e&#34;&gt;// æ‰¾åˆ°ä¸ªç©ºä½ï¼Œå…ˆè®°å½•ä¸‹tophashã€keyã€valueçš„æ’å…¥ä½ç½®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;				    &lt;span style=&#34;color:#75715e&#34;&gt;// ä½†è¦éå†å®Œæ‰èƒ½ç¡®å®šè¦ä¸è¦æ’å…¥åˆ°è¿™ä¸ªä½ç½®ï¼Œå› ä¸ºåé¢æœ‰å¯èƒ½æœ‰é‡å¤çš„å…ƒç´ 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;					&lt;span style=&#34;color:#a6e22e&#34;&gt;inserti&lt;/span&gt; = &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;tophash&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;					&lt;span style=&#34;color:#a6e22e&#34;&gt;insertk&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;), &lt;span style=&#34;color:#a6e22e&#34;&gt;dataOffset&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;uintptr(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;keysize&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;					&lt;span style=&#34;color:#a6e22e&#34;&gt;val&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;), &lt;span style=&#34;color:#a6e22e&#34;&gt;dataOffset&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;bucketCnt&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;uintptr(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;keysize&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;uintptr(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;valuesize&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;tophash&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;emptyRest&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;					&lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;bucketloop&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// éå†å®Œæ•´ä¸ªæº¢å‡ºé“¾è¡¨ï¼Œé€€å‡ºå¾ªç¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;				}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#66d9ef&#34;&gt;continue&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#a6e22e&#34;&gt;k&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;), &lt;span style=&#34;color:#a6e22e&#34;&gt;dataOffset&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;uintptr(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;keysize&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;indirectkey&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#a6e22e&#34;&gt;k&lt;/span&gt; = &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;((&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;)(&lt;span style=&#34;color:#a6e22e&#34;&gt;k&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; !&lt;span style=&#34;color:#a6e22e&#34;&gt;alg&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;equal&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;k&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#66d9ef&#34;&gt;continue&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#75715e&#34;&gt;// èµ°åˆ°è¿™é‡Œè¯´æ˜mapé‡Œæ‰¾åˆ°ä¸€ä¸ªé‡å¤çš„keyï¼Œæ›´æ–°key-valueï¼Œè·³åˆ°ç¬¬5æ­¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;			&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;needkeyupdate&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#a6e22e&#34;&gt;typedmemmove&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;k&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#a6e22e&#34;&gt;val&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;), &lt;span style=&#34;color:#a6e22e&#34;&gt;dataOffset&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;bucketCnt&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;uintptr(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;keysize&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;uintptr(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;valuesize&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#66d9ef&#34;&gt;goto&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;done&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// æ›´æ–°Keyåè·³åˆ°ç¬¬5æ­¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;ovf&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;overflow&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ovf&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// éå†å®Œæ•´ä¸ªæº¢å‡ºé“¾è¡¨ï¼Œæ²¡æ‰¾åˆ°èƒ½æ’å…¥çš„ç©ºä½ï¼Œç»“æŸå¾ªç¯ï¼Œä¸‹ä¸€æ­¥å†è¿½åŠ ä¸€ä¸ªæº¢å‡ºæ¡¶è¿›æ¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;ovf&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// ç»§ç»­éå†ä¸‹ä¸€ä¸ªæº¢å‡ºæ¡¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;4 æ’å…¥ key&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mapassign&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;maptype&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hmap&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;) &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// è¿™é‡Œåˆ¤æ–­è¦ä¸è¦æ‰©å®¹ï¼Œæˆ‘ä»¬ç¬¬4ç« å†è®²
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; !&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;growing&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;overLoadFactor&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;count&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tooManyOverflowBuckets&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;noverflow&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;hashGrow&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;goto&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;again&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// Growing the table invalidates everything, so try again
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;inserti&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; { &lt;span style=&#34;color:#75715e&#34;&gt;// inserti == nilè¯´æ˜ä¸Š1æ­¥æ²¡æ‰¾åˆ°ç©ºä½ï¼Œæ•´ä¸ªé“¾è¡¨æ˜¯æ»¡çš„ï¼Œè¿™é‡Œæ·»åŠ ä¸€ä¸ªæ–°çš„æº¢å‡ºæ¡¶ä¸Šå»
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;newb&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;newoverflow&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;// åˆ†é…æ–°æº¢å‡ºæ¡¶ï¼Œä¼˜å…ˆç”¨3.1ç« èŠ‚é¢„ç•™çš„æº¢å‡ºæ¡¶ï¼Œç”¨å®Œäº†åˆ™åˆ†é…ä¸€ä¸ªæ–°æ¡¶å†…å­˜
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;inserti&lt;/span&gt; = &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;newb&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;tophash&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;insertk&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;newb&lt;/span&gt;), &lt;span style=&#34;color:#a6e22e&#34;&gt;dataOffset&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;val&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;insertk&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;bucketCnt&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;uintptr(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;keysize&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// å½“keyæˆ–valueçš„ç±»å‹å¤§å°è¶…è¿‡ä¸€å®šå€¼æ—¶ï¼Œæ¡¶åªå­˜å‚¨keyæˆ–valueçš„æŒ‡é’ˆã€‚è¿™é‡Œåˆ†é…ç©ºé—´å¹¶å–æŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;indirectkey&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;kmem&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;newobject&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;)(&lt;span style=&#34;color:#a6e22e&#34;&gt;insertk&lt;/span&gt;) = &lt;span style=&#34;color:#a6e22e&#34;&gt;kmem&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;insertk&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;kmem&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;indirectvalue&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;vmem&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;newobject&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;elem&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;)(&lt;span style=&#34;color:#a6e22e&#34;&gt;val&lt;/span&gt;) = &lt;span style=&#34;color:#a6e22e&#34;&gt;vmem&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;typedmemmove&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;insertk&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;// åœ¨æ¡¶ä¸­å¯¹åº”ä½ç½®æ’å…¥key
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;inserti&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;top&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// æ’å…¥tophashï¼Œhashå€¼é«˜8ä½
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;count&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// æ’å…¥äº†æ–°çš„é”®å€¼å¯¹ï¼Œh.countæ•°é‡+1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;5 ç»“æŸæ’å…¥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mapassign&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;maptype&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hmap&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;) &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;done&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;flags&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hashWriting&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;throw&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;concurrent map writes&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;flags&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;^=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;hashWriting&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// é‡Šæ”¾hashWritingæ ‡å¿—ä½
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;indirectvalue&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;val&lt;/span&gt; = &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;((&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;)(&lt;span style=&#34;color:#a6e22e&#34;&gt;val&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;val&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// è¿”å›valueå¯æ’å…¥ä½ç½®çš„æŒ‡é’ˆï¼Œæ³¨æ„ï¼Œvalueè¿˜æ²¡æ’å…¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;åªæ’å…¥äº†tophashå’Œkeyï¼Œå°±ç»“æŸäº†å—ï¼Ÿvalueè¿˜æ²¡æ’å…¥å‘¢&lt;/li&gt;
&lt;li&gt;æ˜¯çš„ï¼Œmapassign()åªæ’å…¥tophashå’Œkeyï¼Œå¹¶è¿”å›valæŒ‡é’ˆï¼Œç¼–è¯‘å™¨ä¼šåœ¨è°ƒç”¨mapassign()åç”¨æ±‡ç¼–å¾€valæ’å…¥value&lt;/li&gt;
&lt;li&gt;googleå¤§ä½¬è¿™ä¹ˆéªšæ°”çš„æ“ä½œï¼Œæ˜¯ä¸ºäº†å‡å°‘valueå€¼ä¼ é€’çš„æ¬¡æ•°å—ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;33-åˆ é™¤&#34;&gt;3.3 åˆ é™¤&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åˆ é™¤ä¸æ’å…¥ç±»ä¼¼ï¼Œå‰é¢çš„æ­¥éª¤éƒ½æ˜¯å‚æ•°å’ŒçŠ¶æ€åˆ¤æ–­ã€å®šä½key-valueä½ç½®ï¼Œç„¶åclearå¯¹åº”çš„å†…å­˜ã€‚ä¸å±•å¼€è¯´ã€‚ä»¥ä¸‹æ˜¯å‡ ä¸ªå…³é”®ç‚¹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;åˆ é™¤è¿‡ç¨‹ä¸­ä¹Ÿä¼šç½®hashWritingæ ‡å¿—&lt;/li&gt;
&lt;li&gt;å½“key/valueè¿‡å¤§æ—¶ï¼Œhashè¡¨é‡Œå­˜å‚¨çš„æ˜¯æŒ‡é’ˆï¼Œè¿™æ—¶å€™ç”¨è½¯åˆ é™¤ï¼Œç½®æŒ‡é’ˆä¸ºnilï¼Œæ•°æ®äº¤ç»™gcå»åˆ ã€‚å½“ç„¶ï¼Œè¿™æ˜¯mapçš„å†…éƒ¨å¤„ç†ï¼Œå¤–å±‚æ˜¯æ— æ„ŸçŸ¥çš„ï¼Œæ‹¿åˆ°çš„éƒ½æ˜¯å€¼æ‹·è´&lt;/li&gt;
&lt;li&gt;æ— è®ºKey/valueæ˜¯å€¼ç±»å‹è¿˜æ˜¯æŒ‡é’ˆç±»å‹ï¼Œåˆ é™¤æ“ä½œéƒ½åªå½±å“hashè¡¨ï¼Œå¤–å±‚å·²ç»æ‹¿åˆ°çš„æ•°æ®ä¸å—å½±å“ã€‚å°¤å…¶æ˜¯æŒ‡é’ˆç±»å‹ï¼Œå¤–å±‚çš„æŒ‡é’ˆè¿˜èƒ½ç»§ç»­ä½¿ç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;ç”±äºå®šä½keyä½ç½®çš„æ–¹å¼æ˜¯æŸ¥æ‰¾tophashï¼Œæ‰€ä»¥åˆ é™¤æ“ä½œå¯¹tophashçš„å¤„ç†æ˜¯å…³é”®ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;mapé¦–å…ˆå°†å¯¹åº”ä½ç½®çš„tophash[i]ç½®ä¸ºemptyOneï¼Œè¡¨ç¤ºè¯¥ä½ç½®å·²è¢«åˆ é™¤&lt;/li&gt;
&lt;li&gt;å¦‚æœtophash[i]ä¸æ˜¯æ•´ä¸ªé“¾è¡¨çš„æœ€åä¸€ä¸ªï¼Œåˆ™åªç½®emptyOneæ ‡å¿—ï¼Œè¯¥ä½ç½®è¢«åˆ é™¤ä½†æœªé‡Šæ”¾ï¼Œåç»­æ’å…¥æ“ä½œä¸èƒ½ä½¿ç”¨æ­¤ä½ç½®&lt;/li&gt;
&lt;li&gt;å¦‚æœtophash[i]æ˜¯é“¾è¡¨æœ€åä¸€ä¸ªæœ‰æ•ˆèŠ‚ç‚¹äº†ï¼Œåˆ™æŠŠé“¾è¡¨æœ€åé¢çš„æ‰€æœ‰æ ‡å¿—ä¸ºemptyOneçš„ä½ç½®ï¼Œéƒ½ç½®ä¸ºemptyRestã€‚ç½®ä¸ºemptyRestçš„ä½ç½®å¯ä»¥åœ¨åç»­çš„æ’å…¥æ“ä½œä¸­è¢«ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;è¿™ç§åˆ é™¤æ–¹å¼ï¼Œä»¥å°‘é‡ç©ºé—´æ¥é¿å…æ¡¶é“¾è¡¨å’Œæ¡¶å†…çš„æ•°æ®ç§»åŠ¨ã€‚äº‹å®ä¸Šï¼Œgo æ•°æ®ä¸€æ—¦è¢«æ’å…¥åˆ°æ¡¶çš„ç¡®åˆ‡ä½ç½®ï¼Œmapæ˜¯ä¸ä¼šå†ç§»åŠ¨è¯¥æ•°æ®åœ¨æ¡¶ä¸­çš„ä½ç½®äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mapdelete&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;maptype&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hmap&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;tophash&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;] = &lt;span style=&#34;color:#a6e22e&#34;&gt;emptyOne&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// å…ˆæ ‡è®°åˆ é™¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;			&lt;span style=&#34;color:#75715e&#34;&gt;// å¦‚æœb.tophash[i]ä¸æ˜¯æœ€åä¸€ä¸ªå…ƒç´ ï¼Œåˆ™æš‚æ—¶å…ˆå ç€å‘ã€‚emptyOneæ ‡è®°çš„ä½ç½®æš‚æ—¶ä¸èƒ½è¢«æ’å…¥æ–°å…ƒç´ (è§3.2ç« èŠ‚æ’å…¥å‡½æ•°)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;			&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;bucketCnt&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;overflow&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;overflow&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;tophash&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;emptyRest&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;					&lt;span style=&#34;color:#66d9ef&#34;&gt;goto&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;notLast&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			} &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;tophash&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;emptyRest&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;					&lt;span style=&#34;color:#66d9ef&#34;&gt;goto&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;notLast&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; { &lt;span style=&#34;color:#75715e&#34;&gt;// å¦‚æœb.tophash[i]æ˜¯æœ€åä¸€ä¸ªå…ƒç´ ï¼Œåˆ™æŠŠæœ«å°¾çš„emptyOneå…¨éƒ¨æ¸…é™¤ç½®ä¸ºemptyRest
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;				&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;tophash&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;] = &lt;span style=&#34;color:#a6e22e&#34;&gt;emptyRest&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;					&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;bOrig&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;						&lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// beginning of initial bucket, we&amp;#39;re done.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;					}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;					&lt;span style=&#34;color:#75715e&#34;&gt;// Find previous bucket, continue at its last entry.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;					&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;					&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;bOrig&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;overflow&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;overflow&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;					}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;					&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;bucketCnt&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				} &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;					&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;--&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;tophash&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;emptyOne&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;					&lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;34-æŸ¥æ‰¾&#34;&gt;3.4 æŸ¥æ‰¾&lt;/h2&gt;
&lt;p&gt;æŸ¥æ‰¾æ“ä½œç”±mapaccesså¼€å¤´çš„ä¸€ç»„å‡½æ•°å®ç°ã€‚å‰é¢çš„ç« èŠ‚åœ¨æ’å…¥å’Œåˆ é™¤ä¹‹å‰éƒ½å¾—å…ˆå®šä½æŸ¥æ‰¾åˆ°å…ƒç´ ï¼Œé€»è¾‘æ˜¯ç±»ä¼¼çš„ï¼Œä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå°±ä¸ç»†è¯´äº†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;mapaccess1()ï¼šé€šè¿‡KeyæŸ¥æ‰¾ï¼Œè¿”å›valueæŒ‡é’ˆï¼Œç”¨äºval := map[key]ã€‚æœªæ‰¾åˆ°æ—¶è¿”å›valueç±»å‹çš„0å€¼ã€‚&lt;/li&gt;
&lt;li&gt;mapaccess2()ï¼šé€šè¿‡keyæŸ¥æ‰¾ï¼Œè¿”å›valueæŒ‡é’ˆï¼Œä»¥åŠboolç±»å‹çš„æ˜¯å¦æŸ¥æ‰¾æˆåŠŸçš„æ ‡å¿—ï¼Œç”¨äºval, ok := map[key]ã€‚æœªæ‰¾åˆ°æ—¶è¿”å›valueç±»å‹çš„0å€¼ã€‚&lt;/li&gt;
&lt;li&gt;mapaccessK()ï¼šé€šè¿‡keyæŸ¥æ‰¾ï¼Œè¿”å›keyå’ŒvalueæŒ‡é’ˆï¼Œç”¨äºè¿­ä»£å™¨(range)ã€‚æœªæ‰¾åˆ°æ—¶è¿”å›ç©ºæŒ‡é’ˆ&lt;/li&gt;
&lt;li&gt;mapaccess1_fat()ï¼Œå¯¹mapaccess1()çš„å°è£…ï¼ŒåŒºåˆ«æ˜¯mapaccess1_fat()å¤šäº†ä¸ªzeroå‚æ•°ï¼Œæœªæ‰¾åˆ°æ—¶è¿”å›zero&lt;/li&gt;
&lt;li&gt;mapaccess2_fat()ï¼Œä¹Ÿæ˜¯å¯¹mapaccess1()çš„å°è£…ã€‚ç›¸æ¯”mapaccess1_fat()ï¼Œæœ¬å‡½æ•°å¢åŠ ä¸€ä¸ªæ˜¯å¦æŸ¥æ‰¾æˆåŠŸçš„æ ‡å¿—&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;35-rangeè¿­ä»£&#34;&gt;3.5 rangeè¿­ä»£&lt;/h2&gt;
&lt;p&gt;mapçš„è¿­ä»£æ˜¯é€šè¿‡hiterç»“æ„å’Œå¯¹åº”çš„ä¸¤ä¸ªè¾…åŠ©å‡½æ•°å®ç°çš„ã€‚hiterç»“æ„ç”±ç¼–è¯‘å™¨åœ¨è°ƒç”¨è¾…åŠ©å‡½æ•°ä¹‹å‰åˆ›å»ºå¹¶ä¼ å…¥ï¼Œæ¯æ¬¡è¿­ä»£ç»“æœä¹Ÿç”±hiterç»“æ„ä¼ å›ã€‚ä¸‹æ–¹çš„itå³æ˜¯hiterç»“æ„ä½“çš„æŒ‡é’ˆå˜é‡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;351-åˆå§‹åŒ–è¿­ä»£å™¨mapiterinit&#34;&gt;3.5.1 åˆå§‹åŒ–è¿­ä»£å™¨mapiterinit()&lt;/h3&gt;
&lt;p&gt;mapiterinit()å‡½æ•°ä¸»è¦æ˜¯å†³å®šæˆ‘ä»¬ä»å“ªä¸ªä½ç½®å¼€å§‹è¿­ä»£ï¼Œä¸ºä»€ä¹ˆæ˜¯ä»å“ªä¸ªä½ç½®ï¼Œè€Œä¸æ˜¯ç›´æ¥ä»hashæ•°ç»„å¤´éƒ¨å¼€å§‹å‘¢ï¼Ÿã€Šgoç¨‹åºè®¾è®¡è¯­è¨€ã€‹å¥½åƒæåˆ°è¿‡ï¼Œhashè¡¨ä¸­æ•°æ®æ¯æ¬¡æ’å…¥çš„ä½ç½®æ˜¯å˜åŒ–çš„ï¼ˆå…¶å®æ˜¯å› ä¸ºå®ç°çš„åŸå› ï¼Œä¸€æ–¹é¢hashç§å­æ˜¯éšæœºçš„ï¼Œè¿™å¯¼è‡´ç›¸åŒçš„æ•°æ®åœ¨ä¸åŒçš„mapå˜é‡å†…çš„hashå€¼ä¸åŒï¼›å¦ä¸€æ–¹é¢å³ä½¿åŒä¸€ä¸ªmapå˜é‡å†…ï¼Œæ•°æ®åˆ é™¤å†æ·»åŠ çš„ä½ç½®ä¹Ÿæœ‰å¯èƒ½å˜åŒ–ï¼Œå› ä¸ºåœ¨åŒä¸€ä¸ªæ¡¶åŠæº¢å‡ºé“¾è¡¨ä¸­æ•°æ®çš„ä½ç½®ä¸åˆ†å…ˆåï¼‰ï¼Œæ‰€ä»¥ä¸ºäº†é˜²æ­¢ç”¨æˆ·é”™è¯¯çš„ä¾èµ–äºæ¯æ¬¡è¿­ä»£çš„é¡ºåºï¼Œmapä½œè€…å¹²è„†è®©ç›¸åŒçš„mapæ¯æ¬¡è¿­ä»£çš„é¡ºåºä¹Ÿæ˜¯éšæœºçš„ã€‚
è¿­ä»£é¡ºåºéšæœºçš„å®ç°æ–¹å¼ä¹Ÿç®€å•ï¼Œç›´æ¥ä»éšæœºçš„ä¸€ä¸ªä½ç½®å¼€å§‹å°±è¡Œäº†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;it.startBucketï¼šè¿™ä¸ªæ˜¯hashæ•°ç»„çš„åç§»é‡ï¼Œè¡¨ç¤ºéå†ä»è¿™ä¸ªæ¡¶å¼€å§‹&lt;/li&gt;
&lt;li&gt;it.offsetï¼šè¿™ä¸ªæ˜¯æ¡¶å†…çš„åç§»é‡ï¼Œè¡¨ç¤ºæ¯ä¸ªæ¡¶çš„éå†éƒ½ä»è¿™ä¸ªåç§»é‡å¼€å§‹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;äºæ˜¯ï¼Œmapçš„éå†è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»hashæ•°ç»„ä¸­ç¬¬it.startBucketä¸ªæ¡¶å¼€å§‹ï¼Œå…ˆéå†hashæ¡¶ï¼Œç„¶åæ˜¯è¿™ä¸ªæ¡¶çš„æº¢å‡ºé“¾è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;ä¹‹åhashæ•°ç»„åç§»é‡+1ï¼Œç»§ç»­å‰ä¸€æ­¥åŠ¨ä½œã€‚&lt;/li&gt;
&lt;li&gt;éå†æ¯ä¸€ä¸ªæ¡¶ï¼Œæ— è®ºæ˜¯hashæ¡¶è¿˜æ˜¯æº¢å‡ºæ¡¶ï¼Œéƒ½ä»it.offsetåç§»é‡å¼€å§‹ã€‚ï¼ˆå¦‚æœåªæ˜¯éšæœºä¸€ä¸ªå¼€å§‹çš„æ¡¶ï¼Œrangeç»“æœè¿˜æ˜¯æœ‰åºçš„ï¼›ä½†æ¯ä¸ªæ¡¶éƒ½åŠ it.offsetåç§»ï¼Œè¿™ä¸ªè¾“å‡ºç»“æœå°±æœ‰ç‚¹æ‰‘æœ”è¿·ç¦»ï¼Œå¤§å®¶å¯ä»¥äº²æ‰‹è¯•ä¸‹ï¼Œå¯¹åŒä¸€ä¸ªmapå¤šæ¬¡rangeï¼‰&lt;/li&gt;
&lt;li&gt;å½“è¿­ä»£å™¨ç»è¿‡ä¸€è½®å¾ªç¯å›åˆ°it.startBucketçš„ä½ç½®ï¼Œç»“æŸéå†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mapiterinit&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;maptype&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hmap&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;it&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hiter&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// éšæœºä¸€ä¸ªåç§»é‡æ¥å¼€å§‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; uintptr(&lt;span style=&#34;color:#a6e22e&#34;&gt;fastrand&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt; &amp;gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;31&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;bucketCntBits&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; uintptr(&lt;span style=&#34;color:#a6e22e&#34;&gt;fastrand&lt;/span&gt;()) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;31&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;it&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;startBucket&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;bucketMask&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;it&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;offset&lt;/span&gt; = uint8(&lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;bucketCnt&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;mapiternext&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;it&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;// åˆå§‹åŒ–è¿­ä»£å™¨çš„åŒæ—¶ä¹Ÿè¿”å›ç¬¬1å¯¹key/value
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;352-è¿­ä»£è¿‡ç¨‹mapiternext&#34;&gt;3.5.2 è¿­ä»£è¿‡ç¨‹mapiternext()&lt;/h3&gt;
&lt;p&gt;ä¸Šä¸€èŠ‚è¿­ä»£å¾ªç¯çš„è¿‡ç¨‹å¾ˆæ¸…æ™°äº†ï¼Œè¿™é‡Œæˆ‘ä»¬è¯´æ˜å‡ ä¸ªé‡è¦çš„å‚æ•°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;it.startBucketï¼šå¼€å§‹çš„æ¡¶&lt;/li&gt;
&lt;li&gt;it.offsetï¼šæ¯ä¸ªæ¡¶å¼€å§‹çš„åç§»é‡&lt;/li&gt;
&lt;li&gt;it.bptrï¼šå½“å‰éå†çš„æ¡¶&lt;/li&gt;
&lt;li&gt;it.iï¼šit.bptrå·²ç»éå†çš„é”®å€¼å¯¹æ•°é‡ï¼Œiåˆå§‹ä¸º0ï¼Œå½“i=8æ—¶è¡¨ç¤ºè¿™ä¸ªæ¡¶éå†å®Œäº†ï¼Œå°†it.bptrç§»å‘ä¸‹ä¸€ä¸ªæ¡¶&lt;/li&gt;
&lt;li&gt;it.keyï¼šæ¯æ¬¡è¿­ä»£çš„ç»“æœ&lt;/li&gt;
&lt;li&gt;it.valueï¼šæ¯æ¬¡è¿­ä»£çš„ç»“æœ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ­¤å¤–ï¼Œè¿­ä»£è¿˜éœ€è¦å…³æ³¨æ‰©å®¹ç¼©å®¹çš„æƒ…å†µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœæ˜¯åœ¨è¿­ä»£å¼€å§‹åæ‰growingï¼Œè¿™ç§æƒ…å†µå½“å‰çš„é€»è¾‘æ²¡å¤„ç†ï¼Œè¿­ä»£æœ‰å¯èƒ½å¼‚å¸¸ã€‚å‘ƒï¼Œgo mapä¸æ”¯æŒå¹¶å‘ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæ˜¯å…ˆgrowingï¼Œå†å¼€å§‹è¿­ä»£ï¼Œè¿™æ˜¯æœ‰å¯èƒ½çš„ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä¼šå…ˆåˆ°æ—§hashè¡¨ä¸­æ£€æŸ¥keyå¯¹åº”çš„æ¡¶æœ‰æ²¡æœ‰è¢«ç–æ•£ï¼Œæœªç–æ•£åˆ™éå†æ—§æ¡¶ï¼Œå·²ç–æ•£åˆ™éå†æ–°hashè¡¨é‡Œå¯¹åº”çš„æ¡¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;4-go-mapçš„æ‰©å®¹ç¼©å®¹&#34;&gt;4. go mapçš„æ‰©å®¹ç¼©å®¹&lt;/h1&gt;
&lt;h2 id=&#34;41-æ‰©å®¹ç¼©å®¹çš„åŸºæœ¬åŸç†&#34;&gt;4.1 æ‰©å®¹ç¼©å®¹çš„åŸºæœ¬åŸç†&lt;/h2&gt;
&lt;p&gt;go mapçš„æ‰©å®¹ç¼©å®¹éƒ½æ˜¯growç›¸å…³çš„å‡½æ•°ï¼Œè¿™é‡Œæ‰©å®¹æ˜¯çœŸçš„ï¼Œç¼©å®¹æ˜¯ä¼ªç¼©å®¹ï¼Œåé¢æˆ‘ä¼šè§£é‡Šã€‚æˆ‘ä»¬å…ˆçœ‹ä¸‹è§¦å‘æ¡ä»¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mapassign&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;maptype&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hmap&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;) &lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; !&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;growing&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;overLoadFactor&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;count&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tooManyOverflowBuckets&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;noverflow&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;hashGrow&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;goto&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;again&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// Growing the table invalidates everything, so try again
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// overLoadFactor()è¿”å›trueåˆ™è§¦å‘æ‰©å®¹ï¼Œå³mapçš„countå¤§äºhashæ¡¶æ•°é‡(2^B)*6.5
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;overLoadFactor&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;count&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;uint8&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;count&lt;/span&gt; &amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;bucketCnt&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; uintptr(&lt;span style=&#34;color:#a6e22e&#34;&gt;count&lt;/span&gt;) &amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;loadFactorNum&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;bucketShift&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;loadFactorDen&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// tooManyOverflowBuckets()ï¼Œé¡¾åæ€ä¹‰ï¼Œæº¢å‡ºæ¡¶å¤ªå¤šäº†è§¦å‘ç¼©å®¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tooManyOverflowBuckets&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;noverflow&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;uint16&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;uint8&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt; &amp;gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt; = &lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;noverflow&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; uint16(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;mapåªåœ¨æ’å…¥å…ƒç´ å³mapassign()å‡½æ•°ä¸­å¯¹æ˜¯å¦æ‰©å®¹ç¼©å®¹è¿›è¡Œè§¦å‘ï¼Œæ¡ä»¶å³æ˜¯ä¸Šé¢è¿™æ®µä»£ç ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¡ä»¶1ï¼šå½“å‰ä¸å¤„åœ¨growingçŠ¶æ€&lt;/li&gt;
&lt;li&gt;æ¡ä»¶2-1ï¼šè§¦å‘æ‰©å®¹ï¼šmapçš„æ•°æ®é‡countå¤§äºhashæ¡¶æ•°é‡(2B)*6.5ã€‚æ³¨æ„è¿™é‡Œçš„(2B)åªæ˜¯hashæ•°ç»„å¤§å°ï¼Œä¸åŒ…æ‹¬æº¢å‡ºçš„æ¡¶&lt;/li&gt;
&lt;li&gt;æ¡ä»¶2-2ï¼šè§¦å‘ç¼©å®¹ï¼šæº¢å‡ºçš„æ¡¶æ•°é‡noverflow&amp;gt;=32768(1&amp;laquo;15)æˆ–è€…&amp;gt;=hashæ•°ç»„å¤§å°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»”ç»†è§‚å¯Ÿè§¦å‘çš„ä»£ç ï¼Œæ‰©å®¹å’Œç¼©å®¹æ˜¯åŒä¸€ä¸ªå‡½æ•°ï¼Œè¿™æ˜¯æ€ä¹ˆåšåˆ°çš„å‘¢ï¼Ÿåœ¨hashGrow()å¼€å§‹ï¼Œä¼šå…ˆåˆ¤æ–­æ˜¯å¦æ»¡è¶³æ‰©å®¹æ¡ä»¶ï¼Œå¦‚æœæ»¡è¶³å°±è¡¨æ˜è¿™æ¬¡æ˜¯æ‰©å®¹ï¼Œä¸æ»¡è¶³å°±ä¸€å®šæ˜¯ç¼©å®¹æ¡ä»¶è§¦å‘äº†ã€‚æ‰©å®¹å’Œç¼©å®¹å‰©ä¸‹çš„é€»è¾‘ï¼Œä¸»è¦åŒºåˆ«å°±åœ¨äºå®¹é‡å˜åŒ–ï¼Œå°±æ˜¯hmap.Bå‚æ•°ï¼Œæ‰©å®¹æ—¶B+1åˆ™hashè¡¨å®¹é‡æ‰©å¤§1å€ï¼Œç¼©å®¹æ—¶hashè¡¨å®¹é‡ä¸å˜ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;h.oldbucketsï¼šæŒ‡å‘æ—§çš„hashæ•°ç»„ï¼Œå³å½“å‰çš„h.buckets&lt;/li&gt;
&lt;li&gt;h.bucketsï¼šæŒ‡å‘æ–°åˆ›å»ºçš„hashæ•°ç»„&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åˆ°è¿™é‡Œè§¦å‘çš„ä¸»è¦å·¥ä½œå·²ç»å®Œæˆï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ€ä¹ˆæŠŠå…ƒç´ æ¬è¿åˆ°æ–°hashè¡¨é‡Œäº†ã€‚å¦‚æœç°åœ¨å°±ä¸€æ¬¡å…¨é‡æ¬è¿è¿‡å»ï¼Œæ˜¾ç„¶æ¥ä¸‹æ¥ä¼šæœ‰æ¯”è¾ƒé•¿çš„ä¸€æ®µæ—¶é—´mapè¢«å ç”¨ï¼ˆä¸æ”¯æŒå¹¶å‘ï¼‰ã€‚æ‰€ä»¥æ¬è¿çš„å·¥ä½œæ˜¯å¼‚æ­¥å¢é‡æ¬è¿çš„ã€‚
åœ¨æ’å…¥å’Œåˆ é™¤çš„å‡½æ•°å†…éƒ½æœ‰ä¸‹é¢ä¸€æ®µä»£ç ç”¨äºåœ¨æ¯æ¬¡æ’å…¥å’Œåˆ é™¤æ“ä½œæ—¶ï¼Œæ‰§è¡Œä¸€æ¬¡æ¬è¿å·¥ä½œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;growing&lt;/span&gt;() { &lt;span style=&#34;color:#75715e&#34;&gt;// å½“å‰å¤„äºæ¬è¿çŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;growWork&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;bucket&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;// è°ƒç”¨æ¬è¿å‡½æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;growWork&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;maptype&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;hmap&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;bucket&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;uintptr&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// å°†å½“å‰éœ€è¦å¤„ç†çš„æ¡¶æ¬è¿
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;evacuate&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;bucket&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;oldbucketmask&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;growing&lt;/span&gt;() { &lt;span style=&#34;color:#75715e&#34;&gt;// å†å¤šæ¬è¿ä¸€ä¸ªæ¡¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;evacuate&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;nevacuate&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;æ¯æ‰§è¡Œä¸€æ¬¡æ’å…¥æˆ–åˆ é™¤ï¼Œéƒ½ä¼šè°ƒç”¨growWorkæ¬è¿0~2ä¸ªhashæ¡¶ï¼ˆæœ‰å¯èƒ½è¿™æ¬¡éœ€è¦æ¬è¿çš„2ä¸ªæ¡¶åœ¨æ­¤ä¹‹å‰éƒ½è¢«æ¬è¿‡äº†ï¼‰&lt;/li&gt;
&lt;li&gt;æ¬è¿æ˜¯ä»¥hashæ¡¶ä¸ºå•ä½çš„ï¼ŒåŒ…å«å¯¹åº”çš„hashæ¡¶å’Œè¿™ä¸ªæ¡¶çš„æº¢å‡ºé“¾è¡¨&lt;/li&gt;
&lt;li&gt;è¢«deleteæ‰çš„å…ƒç´ (emptyoneæ ‡å¿—)ä¼šè¢«èˆå¼ƒï¼ˆè¿™æ˜¯ç¼©å®¹çš„å…³é”®ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;42-ä¸ºä»€ä¹ˆå«ä¼ªç¼©å®¹å¦‚ä½•å®ç°çœŸç¼©å®¹&#34;&gt;4.2 ä¸ºä»€ä¹ˆå«â€œä¼ªç¼©å®¹â€ï¼Ÿå¦‚ä½•å®ç°â€œçœŸç¼©å®¹â€ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;ç°åœ¨å¯ä»¥è§£é‡Šä¸ºä»€ä¹ˆæˆ‘æŠŠmapçš„ç¼©å®¹å«åšä¼ªç¼©å®¹äº†ï¼šå› ä¸ºç¼©å®¹ä»…ä»…é’ˆå¯¹æº¢å‡ºæ¡¶å¤ªå¤šçš„æƒ…å†µï¼Œè§¦å‘ç¼©å®¹æ—¶hashæ•°ç»„çš„å¤§å°ä¸å˜ï¼Œå³hashæ•°ç»„æ‰€å ç”¨çš„ç©ºé—´åªå¢ä¸å‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬æŠŠä¸€ä¸ªå·²ç»å¢é•¿åˆ°å¾ˆå¤§çš„mapçš„å…ƒç´ æŒ¨ä¸ªå…¨éƒ¨åˆ é™¤æ‰ï¼Œhashè¡¨æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ä¹Ÿä¸ä¼šè¢«é‡Šæ”¾ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥å¦‚æœè¦å®ç°â€œçœŸç¼©å®¹â€ï¼Œéœ€è‡ªå·±å®ç°ç¼©å®¹æ¬è¿ï¼Œå³åˆ›å»ºä¸€ä¸ªè¾ƒå°çš„mapï¼Œå°†éœ€è¦ç¼©å®¹çš„mapçš„å…ƒç´ æŒ¨ä¸ªæ¬è¿è¿‡æ¥ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// go mapç¼©å®¹ä»£ç ç¤ºä¾‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;myMap&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; make(&lt;span style=&#34;color:#66d9ef&#34;&gt;map&lt;/span&gt;[&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;]&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1000000&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// å‡è®¾è¿™é‡Œæˆ‘ä»¬å¯¹bigMapåšäº†å¾ˆå¤šæ¬¡æ’å…¥ï¼Œä¹‹ååˆåšäº†å¾ˆå¤šæ¬¡åˆ é™¤ï¼Œæ­¤æ—¶bigMapçš„å…ƒç´ æ•°é‡è¿œå°äºhashè¡¨å¤§å°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹ç¼©å®¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;smallMap&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; make(&lt;span style=&#34;color:#66d9ef&#34;&gt;map&lt;/span&gt;[&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;]&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;, len(&lt;span style=&#34;color:#a6e22e&#34;&gt;myMap&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;k&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;v&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;range&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;myMap&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;smallMap&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;k&lt;/span&gt;] = &lt;span style=&#34;color:#a6e22e&#34;&gt;v&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;myMap&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;smallMap&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// ç¼©å®¹å®Œæˆï¼ŒåŸæ¥çš„mapè¢«æˆ‘ä»¬ä¸¢å¼ƒï¼Œäº¤ç»™gcå»æ¸…ç†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;5-qaå…³é”®çŸ¥è¯†ç‚¹&#34;&gt;5 Q&amp;amp;Aå…³é”®çŸ¥è¯†ç‚¹&lt;/h1&gt;
&lt;h2 id=&#34;51-åŸºæœ¬åŸç†&#34;&gt;5.1 åŸºæœ¬åŸç†&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;åº•å±‚æ˜¯hashå®ç°ï¼Œæ•°æ®ç»“æ„ä¸ºhashæ•°ç»„ + æ¡¶ + æº¢å‡ºçš„æ¡¶é“¾è¡¨ï¼Œæ¯ä¸ªæ¡¶å­˜å‚¨æœ€å¤š8ä¸ªkey-valueå¯¹&lt;/li&gt;
&lt;li&gt;æŸ¥æ‰¾å’Œæ’å…¥çš„åŸç†ï¼škeyçš„hashå€¼ï¼ˆä½é˜¶ä½ï¼‰ä¸æ¡¶æ•°é‡ç›¸ä¸ï¼Œå¾—åˆ°keyæ‰€åœ¨çš„hashæ¡¶ï¼Œå†ç”¨keyçš„é«˜8ä½ä¸æ¡¶ä¸­çš„tophash[i]å¯¹æ¯”ï¼Œç›¸åŒåˆ™è¿›ä¸€æ­¥å¯¹æ¯”keyå€¼ï¼Œkeyå€¼ç›¸ç­‰åˆ™æ‰¾åˆ°&lt;/li&gt;
&lt;li&gt;go mapä¸æ”¯æŒå¹¶å‘ã€‚æ’å…¥ã€åˆ é™¤ã€æ¬è¿ç­‰æ“ä½œä¼šç½®writingæ ‡å¿—ï¼Œæ£€æµ‹åˆ°å¹¶å‘ç›´æ¥panic&lt;/li&gt;
&lt;li&gt;æ¯æ¬¡æ‰©å®¹hashè¡¨å¢å¤§1å€ï¼Œhashè¡¨åªå¢ä¸å‡&lt;/li&gt;
&lt;li&gt;æ”¯æŒæœ‰é™ç¼©å®¹ï¼Œdeleteæ“ä½œåªç½®åˆ é™¤æ ‡å¿—ä½ï¼Œé‡Šæ”¾æº¢å‡ºæ¡¶çš„ç©ºé—´ä¾é è§¦å‘ç¼©å®¹æ¥å®ç°ã€‚&lt;/li&gt;
&lt;li&gt;mapåœ¨ä½¿ç”¨å‰å¿…é¡»åˆå§‹åŒ–ï¼Œå¦åˆ™panicï¼šå·²åˆå§‹åŒ–çš„mapæ˜¯make(map[key]value)æˆ–make(map[key]value, hint)è¿™ä¸¤ç§å½¢å¼ã€‚è€Œnewæˆ–var xxx map[key]valueè¿™ä¸¤ç§å½¢å¼æ˜¯æœªåˆå§‹åŒ–çš„ï¼Œç›´æ¥ä½¿ç”¨ä¼španicã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;52-æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦åˆ†æ&#34;&gt;5.2 æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦åˆ†æ&lt;/h2&gt;
&lt;p&gt;æ—¶é—´å¤æ‚åº¦ï¼Œgo mapæ˜¯hashå®ç°ï¼Œæˆ‘ä»¬å…ˆä¸ç®¡å…·ä½“åŸç†ï¼Œæ±Ÿæ¹–å¥—è·¯hashå®ç°çš„å°±å«å®ƒO(1)çš„æ—¶é—´å¤æ‚åº¦ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ­£å¸¸æƒ…å†µï¼Œä¸”ä¸è€ƒè™‘æ‰©å®¹çŠ¶æ€ï¼Œå¤æ‚åº¦O(1)ï¼šé€šè¿‡hashå€¼å®šä½æ¡¶æ˜¯O(1)ï¼Œä¸€ä¸ªæ¡¶æœ€å¤š8ä¸ªå…ƒç´ ï¼Œåˆç†çš„hashç®—æ³•åº”è¯¥èƒ½æŠŠå…ƒç´ ç›¸å¯¹å‡åŒ€æ•£åˆ—ï¼Œæ‰€ä»¥æº¢å‡ºé“¾è¡¨ï¼ˆå¦‚æœæœ‰ï¼‰ä¹Ÿä¸ä¼šå¤ªé•¿ï¼Œæ‰€ä»¥è™½ç„¶åœ¨æ¡¶å’Œæº¢å‡ºé“¾è¡¨ä¸Šå®šä½keyæ˜¯éå†ï¼Œè€ƒè™‘åˆ°æ•°é‡å°ä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯O(1)&lt;/li&gt;
&lt;li&gt;æ­£å¸¸æƒ…å†µï¼Œå¤„äºæ‰©å®¹çŠ¶æ€æ—¶ï¼Œå¤æ‚åº¦ä¹Ÿæ˜¯O(1)ï¼šç›¸æ¯”äºä¸Šä¸€ç§çŠ¶æ€ï¼Œæ‰©å®¹ä¼šå¢åŠ æ¬è¿æœ€å¤š2ä¸ªæ¡¶å’Œæº¢å‡ºé“¾è¡¨çš„æ—¶é—´æ¶ˆè€—ï¼Œå½“æº¢å‡ºé“¾è¡¨ä¸å¤ªé•¿æ—¶ï¼Œå¤æ‚åº¦ä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯O(1)&lt;/li&gt;
&lt;li&gt;æç«¯æƒ…å†µï¼Œæ•£åˆ—æä¸å‡åŒ€ï¼Œå¤§éƒ¨åˆ†æ•°æ®è¢«é›†ä¸­åœ¨ä¸€æ¡æ•£åˆ—é“¾è¡¨ä¸Šï¼Œå¤æ‚åº¦é€€åŒ–ä¸ºO(n)ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;goé‡‡ç”¨çš„hashç®—æ³•åº”æ˜¯å¾ˆæˆç†Ÿçš„ç®—æ³•ï¼Œæç«¯æƒ…å†µæš‚ä¸è€ƒè™‘ã€‚æ‰€ä»¥ç»¼åˆæƒ…å†µä¸‹go mapçš„æ—¶é—´å¤æ‚åº¦åº”ä¸ºO(1)&lt;/p&gt;
&lt;p&gt;ç©ºé—´å¤æ‚åº¦åˆ†æï¼š
é¦–å…ˆæˆ‘ä»¬ä¸è€ƒè™‘å› åˆ é™¤å¤§é‡å…ƒç´ å¯¼è‡´çš„ç©ºé—´æµªè´¹æƒ…å†µï¼ˆè¿™ç§æƒ…å†µç°åœ¨goæ˜¯ç•™ç»™ç¨‹åºå‘˜è‡ªå·±è§£å†³ï¼‰ï¼Œåªè€ƒè™‘ä¸€ä¸ªæŒç»­å¢é•¿çŠ¶æ€çš„mapçš„ä¸€ä¸ªç©ºé—´ä½¿ç”¨ç‡ï¼š
ç”±äºæº¢å‡ºæ¡¶æ•°é‡è¶…è¿‡hashæ¡¶æ•°é‡æ—¶ä¼šè§¦å‘ç¼©å®¹ï¼Œæ‰€ä»¥æœ€åçš„æƒ…å†µæ˜¯æ•°æ®è¢«é›†ä¸­åœ¨ä¸€æ¡é“¾ä¸Šï¼Œhashè¡¨åŸºæœ¬æ˜¯ç©ºçš„ï¼Œè¿™æ—¶ç©ºé—´æµªè´¹O(n)ã€‚
æœ€å¥½çš„æƒ…å†µä¸‹ï¼Œæ•°æ®å‡åŒ€æ•£åˆ—åœ¨hashè¡¨ä¸Šï¼Œæ²¡æœ‰å…ƒç´ æº¢å‡ºï¼Œè¿™æ—¶æœ€å¥½çš„ç©ºé—´å¤æ‚åº¦å°±æ˜¯æ‰©æ•£å› å­å†³å®šäº†ï¼Œå½“å‰goçš„æ‰©æ•£å› å­ç”±å…¨å±€å˜é‡å†³å®šï¼Œå³loadFactorNum/loadFactorDen = 6.5ã€‚å³å¹³å‡æ¯ä¸ªhashæ¡¶è¢«åˆ†é…åˆ°6.5ä¸ªå…ƒç´ ä»¥ä¸Šæ—¶ï¼Œå¼€å§‹æ‰©å®¹ã€‚æ‰€ä»¥æœ€å°çš„ç©ºé—´æµªè´¹æ˜¯(8-6.5)/8 = 0.1875ï¼Œå³O(0.1875n)&lt;/p&gt;
&lt;p&gt;ç»“è®ºï¼šgo mapçš„ç©ºé—´å¤æ‚åº¦ï¼ˆæŒ‡é™¤å»æ­£å¸¸å­˜å‚¨å…ƒç´ æ‰€éœ€ç©ºé—´ä¹‹å¤–çš„ç©ºé—´æµªè´¹ï¼‰æ˜¯O(0.1875n) ~ O(n)ä¹‹é—´ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ç½‘ç»œ IO æ¨¡å‹</title>
        <link>https://lxb.wiki/3af5472b/</link>
        <pubDate>Mon, 16 Aug 2021 22:52:32 +0000</pubDate>
        
        <guid>https://lxb.wiki/3af5472b/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;äº’è”ç½‘æœåŠ¡ç«¯å¤„ç†ç½‘ç»œè¯·æ±‚çš„åŸç†&#34;&gt;äº’è”ç½‘æœåŠ¡ç«¯å¤„ç†ç½‘ç»œè¯·æ±‚çš„åŸç†&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;ä¸€ä¸ªå…¸å‹äº’è”ç½‘æœåŠ¡ç«¯å¤„ç†ç½‘ç»œè¯·æ±‚çš„å…¸å‹è¿‡ç¨‹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226140211.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç”±ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œä¸»è¦å¤„ç†æ­¥éª¤åŒ…æ‹¬ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1ï¼‰è·å–è¯·æ±‚æ•°æ®ï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥å‘å‡ºè¯·æ±‚ï¼ŒæœåŠ¡å™¨æ¥å—è¯·æ±‚ï¼ˆ1-3ï¼‰ï¼›&lt;/p&gt;
&lt;p&gt;2ï¼‰æ„å»ºå“åº”ï¼Œå½“æœåŠ¡å™¨æ¥æ”¶å®Œè¯·æ±‚ï¼Œå¹¶åœ¨ç”¨æˆ·ç©ºé—´å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œç›´åˆ°æ„å»ºå“åº”å®Œæˆï¼ˆ4ï¼‰ï¼›&lt;/p&gt;
&lt;p&gt;3ï¼‰è¿”å›æ•°æ®ï¼ŒæœåŠ¡å™¨å°†å·²æ„å»ºå¥½çš„å“åº”å†é€šè¿‡å†…æ ¸ç©ºé—´çš„ç½‘ç»œ I/O å‘è¿˜ç»™å®¢æˆ·ç«¯ï¼ˆ5-7ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è®¾è®¡æœåŠ¡ç«¯å¹¶å‘æ¨¡å‹æ—¶ï¼Œä¸»è¦æœ‰å¦‚ä¸‹ä¸¤ä¸ªå…³é”®ç‚¹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1ï¼‰æœåŠ¡å™¨å¦‚ä½•ç®¡ç†è¿æ¥ï¼Œè·å–è¾“å…¥æ•°æ®ï¼›&lt;/p&gt;
&lt;p&gt;2ï¼‰æœåŠ¡å™¨å¦‚ä½•å¤„ç†è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šä¸¤ä¸ªå…³é”®ç‚¹æœ€ç»ˆéƒ½ä¸æ“ä½œç³»ç»Ÿçš„ I/O æ¨¡å‹ä»¥åŠçº¿ç¨‹(è¿›ç¨‹)æ¨¡å‹ç›¸å…³ï¼Œè¿™ä¹Ÿæ˜¯æœ¬æ–‡å’Œä¸‹ç¯‡ã€Šé«˜æ€§èƒ½ç½‘ç»œç¼–ç¨‹(å…­)ï¼šä¸€æ–‡è¯»æ‡‚é«˜æ€§èƒ½ç½‘ç»œç¼–ç¨‹ä¸­çš„çº¿ç¨‹æ¨¡å‹ã€‹å°†è¦ä»‹ç»çš„å†…å®¹ã€‚ä¸‹é¢å…ˆè¯¦ç»†ä»‹ç»è¿™I/Oæ¨¡å‹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;io-æ¨¡å‹çš„åŸºæœ¬è®¤è¯†&#34;&gt;â€œI/O æ¨¡å‹â€çš„åŸºæœ¬è®¤è¯†&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;ä»‹ç»æ“ä½œç³»ç»Ÿçš„ I/O æ¨¡å‹ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸€ä¸‹å‡ ä¸ªæ¦‚å¿µï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1ï¼‰é˜»å¡è°ƒç”¨ä¸éé˜»å¡è°ƒç”¨ï¼›&lt;/p&gt;
&lt;p&gt;2ï¼‰é˜»å¡è°ƒç”¨æ˜¯æŒ‡è°ƒç”¨ç»“æœè¿”å›ä¹‹å‰ï¼Œå½“å‰çº¿ç¨‹ä¼šè¢«æŒ‚èµ·ï¼Œè°ƒç”¨çº¿ç¨‹åªæœ‰åœ¨å¾—åˆ°ç»“æœä¹‹åæ‰ä¼šè¿”å›ï¼›&lt;/p&gt;
&lt;p&gt;3ï¼‰éé˜»å¡è°ƒç”¨æŒ‡åœ¨ä¸èƒ½ç«‹åˆ»å¾—åˆ°ç»“æœä¹‹å‰ï¼Œè¯¥è°ƒç”¨ä¸ä¼šé˜»å¡å½“å‰çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¤è€…çš„æœ€å¤§åŒºåˆ«åœ¨äºè¢«è°ƒç”¨æ–¹åœ¨æ”¶åˆ°è¯·æ±‚åˆ°è¿”å›ç»“æœä¹‹å‰çš„è¿™æ®µæ—¶é—´å†…ï¼Œè°ƒç”¨æ–¹æ˜¯å¦ä¸€ç›´åœ¨ç­‰å¾…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é˜»å¡&lt;/strong&gt;æ˜¯æŒ‡è°ƒç”¨æ–¹ä¸€ç›´åœ¨ç­‰å¾…è€Œä¸”åˆ«çš„äº‹æƒ…ä»€ä¹ˆéƒ½ä¸åšï¼›&lt;strong&gt;éé˜»å¡&lt;/strong&gt;æ˜¯æŒ‡è°ƒç”¨æ–¹å…ˆå»å¿™åˆ«çš„äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;**åŒæ­¥å¤„ç†ä¸å¼‚æ­¥å¤„ç†ï¼š**åŒæ­¥å¤„ç†æ˜¯æŒ‡è¢«è°ƒç”¨æ–¹å¾—åˆ°æœ€ç»ˆç»“æœä¹‹åæ‰è¿”å›ç»™è°ƒç”¨æ–¹ï¼›å¼‚æ­¥å¤„ç†æ˜¯æŒ‡è¢«è°ƒç”¨æ–¹å…ˆè¿”å›åº”ç­”ï¼Œç„¶åå†è®¡ç®—è°ƒç”¨ç»“æœï¼Œè®¡ç®—å®Œæœ€ç»ˆç»“æœåå†é€šçŸ¥å¹¶è¿”å›ç»™è°ƒç”¨æ–¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é˜»å¡ã€éé˜»å¡å’ŒåŒæ­¥ã€å¼‚æ­¥çš„åŒºåˆ«ï¼ˆ&lt;strong&gt;é˜»å¡ã€éé˜»å¡å’ŒåŒæ­¥ã€å¼‚æ­¥å…¶å®é’ˆå¯¹çš„å¯¹è±¡æ˜¯ä¸ä¸€æ ·çš„ï¼‰&lt;/strong&gt;ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1ï¼‰é˜»å¡ã€éé˜»å¡çš„è®¨è®ºå¯¹è±¡æ˜¯è°ƒç”¨è€…ï¼›&lt;/p&gt;
&lt;p&gt;2ï¼‰åŒæ­¥ã€å¼‚æ­¥çš„è®¨è®ºå¯¹è±¡æ˜¯è¢«è°ƒç”¨è€…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;recvfrom å‡½æ•°ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;recvfrom å‡½æ•°(ç» Socket æ¥æ”¶æ•°æ®)ï¼Œè¿™é‡ŒæŠŠå®ƒè§†ä¸ºç³»ç»Ÿè°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸€ä¸ªè¾“å…¥æ“ä½œé€šå¸¸åŒ…æ‹¬ä¸¤ä¸ªä¸åŒçš„é˜¶æ®µï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1ï¼‰ç­‰å¾…æ•°æ®å‡†å¤‡å¥½ï¼›&lt;/p&gt;
&lt;p&gt;2ï¼‰ä»å†…æ ¸å‘è¿›ç¨‹å¤åˆ¶æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºä¸€ä¸ªå¥—æ¥å­—ä¸Šçš„è¾“å…¥æ“ä½œï¼Œç¬¬ä¸€æ­¥é€šå¸¸æ¶‰åŠç­‰å¾…æ•°æ®ä»ç½‘ç»œä¸­åˆ°è¾¾ã€‚å½“æ‰€ç­‰å¾…åˆ†ç»„åˆ°è¾¾æ—¶ï¼Œå®ƒè¢«å¤åˆ¶åˆ°å†…æ ¸ä¸­çš„æŸä¸ªç¼“å†²åŒºã€‚ç¬¬äºŒæ­¥å°±æ˜¯æŠŠæ•°æ®ä»å†…æ ¸ç¼“å†²åŒºå¤åˆ¶åˆ°åº”ç”¨è¿›ç¨‹ç¼“å†²åŒºã€‚&lt;/p&gt;
&lt;p&gt;å®é™…åº”ç”¨ç¨‹åºåœ¨ç³»ç»Ÿè°ƒç”¨å®Œæˆä¸Šé¢çš„ 2 æ­¥æ“ä½œæ—¶ï¼Œè°ƒç”¨æ–¹å¼çš„é˜»å¡ã€éé˜»å¡ï¼Œæ“ä½œç³»ç»Ÿåœ¨å¤„ç†åº”ç”¨ç¨‹åºè¯·æ±‚æ—¶ï¼Œå¤„ç†æ–¹å¼çš„åŒæ­¥ã€å¼‚æ­¥å¤„ç†çš„ä¸åŒï¼Œå¯ä»¥åˆ†ä¸º 5 ç§ I/O æ¨¡å‹&lt;/p&gt;
&lt;h2 id=&#34;ç½‘ç»œioæ¨¡å‹&#34;&gt;ç½‘ç»œIOæ¨¡å‹&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;ç½‘ç»œIOçš„æœ¬è´¨æ˜¯socketçš„è¯»å–ï¼Œsocketåœ¨linuxç³»ç»Ÿè¢«æŠ½è±¡ä¸ºæµï¼ŒIOå¯ä»¥ç†è§£ä¸ºå¯¹æµçš„æ“ä½œ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;IOå…¶å®æˆ‘ä»¬å¹¶ä¸é™Œç”Ÿï¼Œç«™åœ¨æ“ä½œç³»ç»Ÿçš„è§’åº¦ä¸Šè¯´ï¼Œioä¸€èˆ¬æŒ‡è®¿é—®ç£ç›˜æ•°æ®ï¼Œå¯ä»¥åˆ†ä¸ºä¸¤æ­¥ï¼Œä»¥readæ“ä½œä¸¾ä¾‹çš„è¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¬¬ä¸€é˜¶æ®µï¼šç­‰å¾…æ•°æ®å‡†å¤‡ (Waiting for the data to be ready)ã€‚&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒé˜¶æ®µï¼šå°†æ•°æ®ä»å†…æ ¸æ‹·è´åˆ°è¿›ç¨‹ä¸­ (Copying the data from the kernel to the process)ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è€Œç½‘ç»œIOä¹Ÿæ˜¯å¦‚æ­¤ï¼Œåªä¸è¿‡å®ƒæ˜¯è¯»å–çš„ä¸æ˜¯ç£ç›˜ï¼Œè€Œæ˜¯socketï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¬¬ä¸€æ­¥ï¼šé€šå¸¸æ¶‰åŠç­‰å¾…ç½‘ç»œä¸Šçš„æ•°æ®åˆ†ç»„åˆ°è¾¾ï¼Œç„¶åè¢«å¤åˆ¶åˆ°å†…æ ¸çš„æŸä¸ªç¼“å†²åŒºã€‚&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒæ­¥ï¼šæŠŠæ•°æ®ä»å†…æ ¸ç¼“å†²åŒºå¤åˆ¶åˆ°åº”ç”¨è¿›ç¨‹ç¼“å†²åŒºã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨ç†è§£ç½‘ç»œIOæ¨¡å‹ä¹‹å‰ï¼Œæˆ‘ä»¬å¾—å…ˆå‡†å¤‡äº›IOæ¨¡å‹çš„åŸºç¡€çŸ¥è¯†&lt;/p&gt;
&lt;h3 id=&#34;ioæ¨¡å‹&#34;&gt;IOæ¨¡å‹&lt;/h3&gt;
&lt;p&gt;Unix æœ‰äº”ç§ I/O æ¨¡å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é˜»å¡IOï¼ˆbloking IOï¼‰&lt;/li&gt;
&lt;li&gt;éé˜»å¡IOï¼ˆnon-blocking IOï¼‰&lt;/li&gt;
&lt;li&gt;å¤šè·¯å¤ç”¨IOï¼ˆmultiplexing IOï¼‰&lt;/li&gt;
&lt;li&gt;ä¿¡å·é©±åŠ¨å¼IOï¼ˆsignal-driven IOï¼‰&lt;/li&gt;
&lt;li&gt;å¼‚æ­¥IOï¼ˆasynchronous IOï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¯ä¸ª IO æ¨¡å‹éƒ½æœ‰è‡ªå·±çš„ä½¿ç”¨æ¨¡å¼ï¼Œå®ƒä»¬å¯¹äºç‰¹å®šçš„åº”ç”¨ç¨‹åºéƒ½æœ‰è‡ªå·±çš„ä¼˜ç‚¹ã€‚ä¸‹é¢æä¾›ä¸€ä¸ªç®€å•çš„å›¾ç‰‡ä»¥ä¾›äº†è§£ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226140555.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;é˜»å¡å¼-io&#34;&gt;é˜»å¡å¼ IO&lt;/h4&gt;
&lt;p&gt;åº”ç”¨è¿›ç¨‹è¢«é˜»å¡ï¼Œç›´åˆ°æ•°æ®å¤åˆ¶åˆ°åº”ç”¨è¿›ç¨‹ç¼“å†²åŒºä¸­æ‰è¿”å›ã€‚&lt;/p&gt;
&lt;p&gt;åº”è¯¥æ³¨æ„åˆ°ï¼Œåœ¨é˜»å¡çš„è¿‡ç¨‹ä¸­ï¼Œå…¶å®ƒç¨‹åºè¿˜å¯ä»¥æ‰§è¡Œï¼Œå› æ­¤é˜»å¡ä¸æ„å‘³ç€æ•´ä¸ªæ“ä½œç³»ç»Ÿéƒ½è¢«é˜»å¡ã€‚å› ä¸ºå…¶ä»–ç¨‹åºè¿˜å¯ä»¥æ‰§è¡Œï¼Œå› æ­¤ä¸æ¶ˆè€— CPU æ—¶é—´ï¼Œè¿™ç§æ¨¡å‹çš„ CPU åˆ©ç”¨ç‡æ•ˆç‡ä¼šæ¯”è¾ƒé«˜ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹å›¾ä¸­ï¼Œrecvfrom ç”¨äºæ¥æ”¶ Socket ä¼ æ¥çš„æ•°æ®ï¼Œå¹¶å¤åˆ¶åˆ°åº”ç”¨è¿›ç¨‹çš„ç¼“å†²åŒº buf ä¸­ã€‚è¿™é‡ŒæŠŠ recvfrom() å½“æˆç³»ç»Ÿè°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226140921.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://upload-images.jianshu.io/upload_images/16533261-a71605af7a6d472c?imageMogr2/auto-orient/strip%7cimageView2/2/w/640/format/webp&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;img&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;éé˜»å¡å¼-io&#34;&gt;éé˜»å¡å¼ IO&lt;/h4&gt;
&lt;p&gt;åº”ç”¨è¿›ç¨‹æ‰§è¡Œç³»ç»Ÿè°ƒç”¨ä¹‹åï¼Œå†…æ ¸è¿”å›ä¸€ä¸ªé”™è¯¯ç ã€‚åº”ç”¨è¿›ç¨‹å¯ä»¥ç»§ç»­æ‰§è¡Œï¼Œä½†æ˜¯éœ€è¦ä¸æ–­çš„æ‰§è¡Œç³»ç»Ÿè°ƒç”¨æ¥è·çŸ¥ I/O æ˜¯å¦å®Œæˆï¼Œè¿™ç§æ–¹å¼ç§°ä¸ºè½®è¯¢ï¼ˆpollingï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äº CPU è¦å¤„ç†æ›´å¤šçš„ç³»ç»Ÿè°ƒç”¨ï¼Œå› æ­¤è¿™ç§æ¨¡å‹çš„ CPU åˆ©ç”¨ç‡æ˜¯æ¯”è¾ƒä½çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226141038.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226141052.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;å¤šè·¯å¤ç”¨io&#34;&gt;å¤šè·¯å¤ç”¨IO&lt;/h4&gt;
&lt;p&gt;ç”±äºé˜»å¡å¼IOé€šè¿‡è½®è¯¢å¾—åˆ°çš„åªæ˜¯ä¸€ä¸ªIOä»»åŠ¡æ˜¯å¦å®Œæˆï¼Œè€Œå¯èƒ½æœ‰å¤šä¸ªä»»åŠ¡åœ¨åŒæ—¶è¿›è¡Œï¼Œå› æ­¤å°±æƒ³åˆ°äº†èƒ½å¦è½®è¯¢å¤šä¸ªIOä»»åŠ¡çš„çŠ¶æ€ï¼Œåªè¦æœ‰ä»»ä½•ä¸€ä¸ªä»»åŠ¡å®Œæˆï¼Œå°±å»å¤„ç†å®ƒã€‚è¿™å°±æ˜¯æ‰€è°“çš„IOå¤šè·¯å¤ç”¨ã€‚LINUXä¸‹å…·ä½“çš„å®ç°æ–¹å¼å°±æ˜¯selectã€pollã€epollã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§æœºåˆ¶å¯ä»¥è®©å•ä¸ªè¿›ç¨‹å…·æœ‰å¤„ç†å¤šä¸ª IO äº‹ä»¶çš„èƒ½åŠ›ã€‚åˆè¢«ç§°ä¸º Event Driven IOï¼Œå³äº‹ä»¶é©±åŠ¨ IOã€‚&lt;/p&gt;
&lt;p&gt;æœ€å®é™…çš„åº”ç”¨åœºæ™¯å°±æ˜¯webæœåŠ¡å™¨å“åº”è¿æ¥çš„æ–¹å¼ï¼ŒIO å¤ç”¨å¯æ”¯æŒ&lt;strong&gt;æ›´å¤šçš„è¿æ¥&lt;/strong&gt;ï¼ŒåŒæ—¶ä¸éœ€è¦è¿›ç¨‹çº¿ç¨‹åˆ›å»ºå’Œåˆ‡æ¢çš„å¼€é”€ï¼Œç³»ç»Ÿå¼€é”€æ›´å°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226141126.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226141140.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¤šè·¯å¤ç”¨çš„ç‰¹ç‚¹æ˜¯é€šè¿‡ä¸€ç§æœºåˆ¶ä¸€ä¸ªè¿›ç¨‹èƒ½åŒæ—¶ç­‰å¾…å¤šä¸ªIOæ–‡ä»¶æè¿°ç¬¦ï¼Œå†…æ ¸ç›‘è§†è¿™äº›æ–‡ä»¶æè¿°ç¬¦ï¼ˆå¥—æ¥å­—æè¿°ç¬¦ï¼‰ï¼Œå…¶ä¸­çš„ä»»æ„ä¸€ä¸ªè¿›å…¥è¯»å°±ç»ªçŠ¶æ€ï¼Œselectï¼Œ pollï¼Œepollå‡½æ•°å°±å¯ä»¥è¿”å›ã€‚å¯¹äºç›‘è§†çš„æ–¹å¼ï¼Œåˆå¯ä»¥åˆ†ä¸º selectï¼Œ pollï¼Œ epollä¸‰ç§æ–¹å¼ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨IOå¤šè·¯å¤ç”¨ä¸­ï¼Œå®é™…ä¸­ï¼Œå¯¹äºæ¯ä¸€ä¸ªsocketï¼Œä¸€èˆ¬éƒ½è®¾ç½®æˆä¸ºnon-blockingï¼Œä½†æ˜¯ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ•´ä¸ªç”¨æˆ·çš„è¿›ç¨‹å…¶å®æ˜¯ä¸€ç›´è¢«blockçš„ã€‚åªä¸è¿‡è¿›ç¨‹æ˜¯è¢«selectè¿™ä¸ªå‡½æ•°blockï¼Œè€Œä¸æ˜¯è¢«socket IOç»™blockã€‚æ‰€ä»¥IOå¤šè·¯å¤ç”¨æ˜¯é˜»å¡åœ¨selectï¼Œepollè¿™æ ·çš„ç³»ç»Ÿè°ƒç”¨ä¹‹ä¸Šï¼Œè€Œæ²¡æœ‰é˜»å¡åœ¨çœŸæ­£çš„I/Oç³»ç»Ÿè°ƒç”¨å¦‚recvfromä¹‹ä¸Šã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä¿¡å·é©±åŠ¨-io&#34;&gt;ä¿¡å·é©±åŠ¨ IO&lt;/h4&gt;
&lt;p&gt;åº”ç”¨è¿›ç¨‹ä½¿ç”¨ sigaction ç³»ç»Ÿè°ƒç”¨ï¼Œå†…æ ¸ç«‹å³è¿”å›ï¼Œåº”ç”¨è¿›ç¨‹å¯ä»¥ç»§ç»­æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ç­‰å¾…æ•°æ®é˜¶æ®µåº”ç”¨è¿›ç¨‹æ˜¯éé˜»å¡çš„ã€‚å†…æ ¸åœ¨æ•°æ®åˆ°è¾¾æ—¶å‘åº”ç”¨è¿›ç¨‹å‘é€ SIGIO ä¿¡å·ï¼Œåº”ç”¨è¿›ç¨‹æ”¶åˆ°ä¹‹ååœ¨ä¿¡å·å¤„ç†ç¨‹åºä¸­è°ƒç”¨ recvfrom å°†æ•°æ®ä»å†…æ ¸å¤åˆ¶åˆ°åº”ç”¨è¿›ç¨‹ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ç›¸æ¯”äºéé˜»å¡å¼ I/O çš„è½®è¯¢æ–¹å¼ï¼Œä¿¡å·é©±åŠ¨ I/O çš„ CPU åˆ©ç”¨ç‡æ›´é«˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226141353.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;å¼‚æ­¥-io&#34;&gt;å¼‚æ­¥ IO&lt;/h4&gt;
&lt;p&gt;åº”ç”¨è¿›ç¨‹æ‰§è¡Œ aio_read ç³»ç»Ÿè°ƒç”¨ä¼šç«‹å³è¿”å›ï¼Œåº”ç”¨è¿›ç¨‹å¯ä»¥ç»§ç»­æ‰§è¡Œï¼Œä¸ä¼šè¢«é˜»å¡ï¼Œå†…æ ¸ä¼šåœ¨æ‰€æœ‰æ“ä½œå®Œæˆä¹‹åå‘åº”ç”¨è¿›ç¨‹å‘é€ä¿¡å·ã€‚&lt;/p&gt;
&lt;p&gt;å¼‚æ­¥ IO ä¸ä¿¡å·é©±åŠ¨ IO çš„åŒºåˆ«åœ¨äºï¼Œå¼‚æ­¥ IO çš„ä¿¡å·æ˜¯é€šçŸ¥åº”ç”¨è¿›ç¨‹ IO å®Œæˆï¼Œè€Œä¿¡å·é©±åŠ¨ IO çš„ä¿¡å·æ˜¯é€šçŸ¥åº”ç”¨è¿›ç¨‹å¯ä»¥å¼€å§‹ IOã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226141447.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226141502.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;äº”å¤§-io-æ¨¡å‹æ¯”è¾ƒ&#34;&gt;äº”å¤§ IO æ¨¡å‹æ¯”è¾ƒ&lt;/h3&gt;
&lt;p&gt;å‰å››ç§ I/O æ¨¡å‹çš„ä¸»è¦åŒºåˆ«åœ¨äºç¬¬ä¸€ä¸ªé˜¶æ®µï¼Œè€Œç¬¬äºŒä¸ªé˜¶æ®µæ˜¯ä¸€æ ·çš„ï¼šå°†æ•°æ®ä»å†…æ ¸å¤åˆ¶åˆ°åº”ç”¨è¿›ç¨‹è¿‡ç¨‹ä¸­ï¼Œåº”ç”¨è¿›ç¨‹ä¼šè¢«é˜»å¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226141649.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226141702.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä»ä¸Šå›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œè¶Šå¾€åï¼Œé˜»å¡è¶Šå°‘ï¼Œç†è®ºä¸Šæ•ˆç‡ä¹Ÿæ˜¯æœ€ä¼˜ã€‚&lt;/p&gt;
&lt;p&gt;è¿™äº”ç§ I/O æ¨¡å‹ä¸­ï¼Œå‰å››ç§å±äºåŒæ­¥ I/Oï¼Œå› ä¸ºå…¶ä¸­çœŸæ­£çš„ I/O æ“ä½œ(recvfrom)å°†é˜»å¡è¿›ç¨‹/çº¿ç¨‹ï¼Œåªæœ‰å¼‚æ­¥ I/O æ¨¡å‹æ‰ä¸ POSIX å®šä¹‰çš„å¼‚æ­¥ I/O ç›¸åŒ¹é…ã€‚&lt;/p&gt;
&lt;h4 id=&#34;blockingå’Œnon-blockingåŒºåˆ«&#34;&gt;blockingå’Œnon-blockingåŒºåˆ«&lt;/h4&gt;
&lt;p&gt;è°ƒç”¨blocking IOä¼šä¸€ç›´blockä½å¯¹åº”çš„è¿›ç¨‹ç›´åˆ°æ“ä½œå®Œæˆï¼Œè€Œnon-blocking IOåœ¨kernelè¿˜å‡†å¤‡æ•°æ®çš„æƒ…å†µä¸‹ä¼šç«‹åˆ»è¿”å›ã€‚&lt;/p&gt;
&lt;h4 id=&#34;synchronous-ioå’Œasynchronous-ioåŒºåˆ«&#34;&gt;synchronous IOå’Œasynchronous IOåŒºåˆ«&lt;/h4&gt;
&lt;p&gt;åœ¨è¯´æ˜synchronous IOå’Œasynchronous IOçš„åŒºåˆ«ä¹‹å‰ï¼Œéœ€è¦å…ˆç»™å‡ºä¸¤è€…çš„å®šä¹‰ã€‚POSIXçš„å®šä¹‰æ˜¯è¿™æ ·å­çš„ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A synchronous I/O operation causes the requesting process to be blocked until that I/O operation completes;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;An asynchronous I/O operation does not cause the requesting process to be blocked;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;åŒæ­¥ I/Oï¼šåº”ç”¨è¿›ç¨‹åœ¨è°ƒç”¨ recvfrom æ“ä½œæ—¶ä¼šé˜»å¡ã€‚&lt;/li&gt;
&lt;li&gt;å¼‚æ­¥ I/Oï¼šä¸ä¼šé˜»å¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é˜»å¡å¼ I/Oã€éé˜»å¡å¼ I/Oã€I/O å¤ç”¨å’Œä¿¡å·é©±åŠ¨ I/O éƒ½æ˜¯åŒæ­¥ I/Oï¼Œè™½ç„¶éé˜»å¡å¼ I/O å’Œä¿¡å·é©±åŠ¨ I/O åœ¨ç­‰å¾…æ•°æ®é˜¶æ®µä¸ä¼šé˜»å¡ï¼Œä½†æ˜¯åœ¨ä¹‹åçš„å°†æ•°æ®ä»å†…æ ¸å¤åˆ¶åˆ°åº”ç”¨è¿›ç¨‹è¿™ä¸ªæ“ä½œä¼šé˜»å¡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;selectpollepollæ¯”è¾ƒ&#34;&gt;selectï¼Œpollï¼Œepollæ¯”è¾ƒ&lt;/h3&gt;
&lt;p&gt;selectï¼Œpollï¼Œepolléƒ½æ˜¯IOå¤šè·¯å¤ç”¨çš„æœºåˆ¶ã€‚I/Oå¤šè·¯å¤ç”¨å°±é€šè¿‡ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥ç›‘è§†å¤šä¸ªæè¿°ç¬¦ï¼Œä¸€æ—¦æŸä¸ªæè¿°ç¬¦å°±ç»ªï¼ˆä¸€èˆ¬æ˜¯è¯»å°±ç»ªæˆ–è€…å†™å°±ç»ªï¼‰ï¼Œèƒ½å¤Ÿé€šçŸ¥ç¨‹åºè¿›è¡Œç›¸åº”çš„è¯»å†™æ“ä½œã€‚&lt;/p&gt;
&lt;h4 id=&#34;select&#34;&gt;select&lt;/h4&gt;
&lt;p&gt;selectçš„è°ƒç”¨è¿‡ç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226141946.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰ä½¿ç”¨copy_from_userä»ç”¨æˆ·ç©ºé—´æ‹·è´fd_setåˆ°å†…æ ¸ç©ºé—´&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰æ³¨å†Œå›è°ƒå‡½æ•°__pollwait&lt;/p&gt;
&lt;p&gt;ï¼ˆ3ï¼‰éå†æ‰€æœ‰fdï¼Œè°ƒç”¨å…¶å¯¹åº”çš„pollæ–¹æ³•ï¼ˆå¯¹äºsocketï¼Œè¿™ä¸ªpollæ–¹æ³•æ˜¯sock_pollï¼Œsock_pollæ ¹æ®æƒ…å†µä¼šè°ƒç”¨åˆ°tcp_poll,udp_pollæˆ–è€…datagram_pollï¼‰&lt;/p&gt;
&lt;p&gt;ï¼ˆ4ï¼‰ä»¥tcp_pollä¸ºä¾‹ï¼Œå…¶æ ¸å¿ƒå®ç°å°±æ˜¯__pollwaitï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢æ³¨å†Œçš„å›è°ƒå‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ5ï¼‰__pollwaitçš„ä¸»è¦å·¥ä½œå°±æ˜¯æŠŠcurrentï¼ˆå½“å‰è¿›ç¨‹ï¼‰æŒ‚åˆ°è®¾å¤‡çš„ç­‰å¾…é˜Ÿåˆ—ä¸­ï¼Œä¸åŒçš„è®¾å¤‡æœ‰ä¸åŒçš„ç­‰å¾…é˜Ÿåˆ—ï¼Œå¯¹äºtcp_pollæ¥è¯´ï¼Œå…¶ç­‰å¾…é˜Ÿåˆ—æ˜¯sk-&amp;gt;sk_sleepï¼ˆæ³¨æ„æŠŠè¿›ç¨‹æŒ‚åˆ°ç­‰å¾…é˜Ÿåˆ—ä¸­å¹¶ä¸ä»£è¡¨è¿›ç¨‹å·²ç»ç¡çœ äº†ï¼‰ã€‚åœ¨è®¾å¤‡æ”¶åˆ°ä¸€æ¡æ¶ˆæ¯ï¼ˆç½‘ç»œè®¾å¤‡ï¼‰æˆ–å¡«å†™å®Œæ–‡ä»¶æ•°æ®ï¼ˆç£ç›˜è®¾å¤‡ï¼‰åï¼Œä¼šå”¤é†’è®¾å¤‡ç­‰å¾…é˜Ÿåˆ—ä¸Šç¡çœ çš„è¿›ç¨‹ï¼Œè¿™æ—¶currentä¾¿è¢«å”¤é†’äº†ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ6ï¼‰pollæ–¹æ³•è¿”å›æ—¶ä¼šè¿”å›ä¸€ä¸ªæè¿°è¯»å†™æ“ä½œæ˜¯å¦å°±ç»ªçš„maskæ©ç ï¼Œæ ¹æ®è¿™ä¸ªmaskæ©ç ç»™fd_setèµ‹å€¼ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ7ï¼‰å¦‚æœéå†å®Œæ‰€æœ‰çš„fdï¼Œè¿˜æ²¡æœ‰è¿”å›ä¸€ä¸ªå¯è¯»å†™çš„maskæ©ç ï¼Œåˆ™ä¼šè°ƒç”¨schedule_timeoutæ˜¯è°ƒç”¨selectçš„è¿›ç¨‹ï¼ˆä¹Ÿå°±æ˜¯currentï¼‰è¿›å…¥ç¡çœ ã€‚å½“è®¾å¤‡é©±åŠ¨å‘ç”Ÿè‡ªèº«èµ„æºå¯è¯»å†™åï¼Œä¼šå”¤é†’å…¶ç­‰å¾…é˜Ÿåˆ—ä¸Šç¡çœ çš„è¿›ç¨‹ã€‚å¦‚æœè¶…è¿‡ä¸€å®šçš„è¶…æ—¶æ—¶é—´ï¼ˆschedule_timeoutæŒ‡å®šï¼‰ï¼Œè¿˜æ˜¯æ²¡äººå”¤é†’ï¼Œåˆ™è°ƒç”¨selectçš„è¿›ç¨‹ä¼šé‡æ–°è¢«å”¤é†’è·å¾—CPUï¼Œè¿›è€Œé‡æ–°éå†fdï¼Œåˆ¤æ–­æœ‰æ²¡æœ‰å°±ç»ªçš„fdã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ8ï¼‰æŠŠfd_setä»å†…æ ¸ç©ºé—´æ‹·è´åˆ°ç”¨æˆ·ç©ºé—´ã€‚&lt;/p&gt;
&lt;h5 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“ï¼š&lt;/h5&gt;
&lt;p&gt;selectçš„å‡ å¤§ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰æ¯æ¬¡è°ƒç”¨selectï¼Œéƒ½éœ€è¦æŠŠfdé›†åˆä»ç”¨æˆ·æ€æ‹·è´åˆ°å†…æ ¸æ€ï¼Œè¿™ä¸ªå¼€é”€åœ¨fdå¾ˆå¤šæ—¶ä¼šå¾ˆå¤§&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰åŒæ—¶æ¯æ¬¡è°ƒç”¨selectéƒ½éœ€è¦åœ¨å†…æ ¸éå†ä¼ é€’è¿›æ¥çš„æ‰€æœ‰fdï¼Œè¿™ä¸ªå¼€é”€åœ¨fdå¾ˆå¤šæ—¶ä¹Ÿå¾ˆå¤§&lt;/p&gt;
&lt;p&gt;ï¼ˆ3ï¼‰selectæ”¯æŒçš„æ–‡ä»¶æè¿°ç¬¦æ•°é‡å¤ªå°äº†ï¼Œé»˜è®¤æ˜¯1024&lt;/p&gt;
&lt;h4 id=&#34;poll&#34;&gt;poll&lt;/h4&gt;
&lt;p&gt;pollçš„å®ç°å’Œselectéå¸¸ç›¸ä¼¼ï¼Œåªæ˜¯æè¿°fdé›†åˆçš„æ–¹å¼ä¸åŒï¼Œpollä½¿ç”¨pollfdç»“æ„è€Œä¸æ˜¯selectçš„fd_setç»“æ„ï¼Œå…¶ä»–çš„éƒ½å·®ä¸å¤šã€‚&lt;/p&gt;
&lt;h4 id=&#34;epoll&#34;&gt;epoll&lt;/h4&gt;
&lt;p&gt;epollæ—¢ç„¶æ˜¯å¯¹selectå’Œpollçš„æ”¹è¿›ï¼Œå°±åº”è¯¥èƒ½é¿å…ä¸Šè¿°çš„ä¸‰ä¸ªç¼ºç‚¹ã€‚é‚£epolléƒ½æ˜¯æ€ä¹ˆè§£å†³çš„å‘¢ï¼Ÿåœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹epollå’Œselectå’Œpollçš„è°ƒç”¨æ¥å£ä¸Šçš„ä¸åŒï¼Œselectå’Œpolléƒ½åªæä¾›äº†ä¸€ä¸ªå‡½æ•°â€”â€”selectæˆ–è€…pollå‡½æ•°ã€‚è€Œepollæä¾›äº†ä¸‰ä¸ªå‡½æ•°ï¼Œepoll_create,epoll_ctlå’Œepoll_waitï¼Œepoll_createæ˜¯åˆ›å»ºä¸€ä¸ªepollå¥æŸ„ï¼›epoll_ctlæ˜¯æ³¨å†Œè¦ç›‘å¬çš„äº‹ä»¶ç±»å‹ï¼›epoll_waitåˆ™æ˜¯ç­‰å¾…äº‹ä»¶çš„äº§ç”Ÿã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºç¬¬ä¸€ä¸ªç¼ºç‚¹ï¼Œepollçš„è§£å†³æ–¹æ¡ˆåœ¨epoll_ctlå‡½æ•°ä¸­ã€‚æ¯æ¬¡æ³¨å†Œæ–°çš„äº‹ä»¶åˆ°epollå¥æŸ„ä¸­æ—¶ï¼ˆåœ¨epoll_ctlä¸­æŒ‡å®šEPOLL_CTL_ADDï¼‰ï¼Œä¼šæŠŠæ‰€æœ‰çš„fdæ‹·è´è¿›å†…æ ¸ï¼Œè€Œä¸æ˜¯åœ¨epoll_waitçš„æ—¶å€™é‡å¤æ‹·è´ã€‚epollä¿è¯äº†æ¯ä¸ªfdåœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­åªä¼šæ‹·è´ä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºç¬¬äºŒä¸ªç¼ºç‚¹ï¼Œepollçš„è§£å†³æ–¹æ¡ˆä¸åƒselectæˆ–pollä¸€æ ·æ¯æ¬¡éƒ½æŠŠcurrentè½®æµåŠ å…¥fdå¯¹åº”çš„è®¾å¤‡ç­‰å¾…é˜Ÿåˆ—ä¸­ï¼Œè€Œåªåœ¨epoll_ctlæ—¶æŠŠcurrentæŒ‚ä¸€éï¼ˆè¿™ä¸€éå¿…ä¸å¯å°‘ï¼‰å¹¶ä¸ºæ¯ä¸ªfdæŒ‡å®šä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå½“è®¾å¤‡å°±ç»ªï¼Œå”¤é†’ç­‰å¾…é˜Ÿåˆ—ä¸Šçš„ç­‰å¾…è€…æ—¶ï¼Œå°±ä¼šè°ƒç”¨è¿™ä¸ªå›è°ƒå‡½æ•°ï¼Œè€Œè¿™ä¸ªå›è°ƒå‡½æ•°ä¼šæŠŠå°±ç»ªçš„fdåŠ å…¥ä¸€ä¸ªå°±ç»ªé“¾è¡¨ï¼‰ã€‚epoll_waitçš„å·¥ä½œå®é™…ä¸Šå°±æ˜¯åœ¨è¿™ä¸ªå°±ç»ªé“¾è¡¨ä¸­æŸ¥çœ‹æœ‰æ²¡æœ‰å°±ç»ªçš„fdï¼ˆåˆ©ç”¨schedule_timeout()å®ç°ç¡ä¸€ä¼šï¼Œåˆ¤æ–­ä¸€ä¼šçš„æ•ˆæœï¼Œå’Œselectå®ç°ä¸­çš„ç¬¬7æ­¥æ˜¯ç±»ä¼¼çš„ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºç¬¬ä¸‰ä¸ªç¼ºç‚¹ï¼Œepollæ²¡æœ‰è¿™ä¸ªé™åˆ¶ï¼Œå®ƒæ‰€æ”¯æŒçš„FDä¸Šé™æ˜¯æœ€å¤§å¯ä»¥æ‰“å¼€æ–‡ä»¶çš„æ•°ç›®ï¼Œè¿™ä¸ªæ•°å­—ä¸€èˆ¬è¿œå¤§äº2048,ä¸¾ä¸ªä¾‹å­,åœ¨1GBå†…å­˜çš„æœºå™¨ä¸Šå¤§çº¦æ˜¯10ä¸‡å·¦å³ï¼Œå…·ä½“æ•°ç›®å¯ä»¥cat /proc/sys/fs/file-maxå¯Ÿçœ‹,ä¸€èˆ¬æ¥è¯´è¿™ä¸ªæ•°ç›®å’Œç³»ç»Ÿå†…å­˜å…³ç³»å¾ˆå¤§ã€‚&lt;/p&gt;
&lt;h5 id=&#34;æ€»ç»“-1&#34;&gt;æ€»ç»“&lt;/h5&gt;
&lt;p&gt;ï¼ˆ1ï¼‰selectï¼Œpollå®ç°éœ€è¦è‡ªå·±ä¸æ–­è½®è¯¢æ‰€æœ‰fdé›†åˆï¼Œç›´åˆ°è®¾å¤‡å°±ç»ªï¼ŒæœŸé—´å¯èƒ½è¦ç¡çœ å’Œå”¤é†’å¤šæ¬¡äº¤æ›¿ã€‚è€Œepollå…¶å®ä¹Ÿéœ€è¦è°ƒç”¨epoll_waitä¸æ–­è½®è¯¢å°±ç»ªé“¾è¡¨ï¼ŒæœŸé—´ä¹Ÿå¯èƒ½å¤šæ¬¡ç¡çœ å’Œå”¤é†’äº¤æ›¿ï¼Œä½†æ˜¯å®ƒæ˜¯è®¾å¤‡å°±ç»ªæ—¶ï¼Œè°ƒç”¨å›è°ƒå‡½æ•°ï¼ŒæŠŠå°±ç»ªfdæ”¾å…¥å°±ç»ªé“¾è¡¨ä¸­ï¼Œå¹¶å”¤é†’åœ¨epoll_waitä¸­è¿›å…¥ç¡çœ çš„è¿›ç¨‹ã€‚è™½ç„¶éƒ½è¦ç¡çœ å’Œäº¤æ›¿ï¼Œä½†æ˜¯selectå’Œpollåœ¨â€œé†’ç€â€çš„æ—¶å€™è¦éå†æ•´ä¸ªfdé›†åˆï¼Œè€Œepollåœ¨â€œé†’ç€â€çš„æ—¶å€™åªè¦åˆ¤æ–­ä¸€ä¸‹å°±ç»ªé“¾è¡¨æ˜¯å¦ä¸ºç©ºå°±è¡Œäº†ï¼Œè¿™èŠ‚çœäº†å¤§é‡çš„CPUæ—¶é—´ã€‚è¿™å°±æ˜¯å›è°ƒæœºåˆ¶å¸¦æ¥çš„æ€§èƒ½æå‡ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰selectï¼Œpollæ¯æ¬¡è°ƒç”¨éƒ½è¦æŠŠfdé›†åˆä»ç”¨æˆ·æ€å¾€å†…æ ¸æ€æ‹·è´ä¸€æ¬¡ï¼Œå¹¶ä¸”è¦æŠŠcurrentå¾€è®¾å¤‡ç­‰å¾…é˜Ÿåˆ—ä¸­æŒ‚ä¸€æ¬¡ï¼Œè€Œepollåªè¦ä¸€æ¬¡æ‹·è´ï¼Œè€Œä¸”æŠŠcurrentå¾€ç­‰å¾…é˜Ÿåˆ—ä¸ŠæŒ‚ä¹ŸåªæŒ‚ä¸€æ¬¡ï¼ˆåœ¨epoll_waitçš„å¼€å§‹ï¼Œæ³¨æ„è¿™é‡Œçš„ç­‰å¾…é˜Ÿåˆ—å¹¶ä¸æ˜¯è®¾å¤‡ç­‰å¾…é˜Ÿåˆ—ï¼Œåªæ˜¯ä¸€ä¸ªepollå†…éƒ¨å®šä¹‰çš„ç­‰å¾…é˜Ÿåˆ—ï¼‰ã€‚è¿™ä¹Ÿèƒ½èŠ‚çœä¸å°‘çš„å¼€é”€ã€‚&lt;/p&gt;
&lt;h4 id=&#34;åº”ç”¨åœºæ™¯&#34;&gt;åº”ç”¨åœºæ™¯&lt;/h4&gt;
&lt;p&gt;å¾ˆå®¹æ˜“äº§ç”Ÿä¸€ç§é”™è§‰è®¤ä¸ºåªè¦ç”¨ epoll å°±å¯ä»¥äº†ï¼Œselect å’Œ poll éƒ½å·²ç»è¿‡æ—¶äº†ï¼Œå…¶å®å®ƒä»¬éƒ½æœ‰å„è‡ªçš„ä½¿ç”¨åœºæ™¯ã€‚&lt;/p&gt;
&lt;h5 id=&#34;1-select-åº”ç”¨åœºæ™¯&#34;&gt;1. select åº”ç”¨åœºæ™¯&lt;/h5&gt;
&lt;p&gt;select çš„ timeout å‚æ•°ç²¾åº¦ä¸º 1nsï¼Œè€Œ poll å’Œ epoll ä¸º 1msï¼Œå› æ­¤ select æ›´åŠ é€‚ç”¨äºå®æ—¶è¦æ±‚æ›´é«˜çš„åœºæ™¯ï¼Œæ¯”å¦‚æ ¸ååº”å †çš„æ§åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;select å¯ç§»æ¤æ€§æ›´å¥½ï¼Œå‡ ä¹è¢«æ‰€æœ‰ä¸»æµå¹³å°æ‰€æ”¯æŒã€‚&lt;/p&gt;
&lt;h5 id=&#34;2-poll-åº”ç”¨åœºæ™¯&#34;&gt;2. poll åº”ç”¨åœºæ™¯&lt;/h5&gt;
&lt;p&gt;poll æ²¡æœ‰æœ€å¤§æè¿°ç¬¦æ•°é‡çš„é™åˆ¶ï¼Œå¦‚æœå¹³å°æ”¯æŒå¹¶ä¸”å¯¹å®æ—¶æ€§è¦æ±‚ä¸é«˜ï¼Œåº”è¯¥ä½¿ç”¨ poll è€Œä¸æ˜¯ selectã€‚&lt;/p&gt;
&lt;p&gt;éœ€è¦åŒæ—¶ç›‘æ§å°äº 1000 ä¸ªæè¿°ç¬¦ï¼Œå°±æ²¡æœ‰å¿…è¦ä½¿ç”¨ epollï¼Œå› ä¸ºè¿™ä¸ªåº”ç”¨åœºæ™¯ä¸‹å¹¶ä¸èƒ½ä½“ç° epoll çš„ä¼˜åŠ¿ã€‚&lt;/p&gt;
&lt;p&gt;éœ€è¦ç›‘æ§çš„æè¿°ç¬¦çŠ¶æ€å˜åŒ–å¤šï¼Œè€Œä¸”éƒ½æ˜¯éå¸¸çŸ­æš‚çš„ï¼Œä¹Ÿæ²¡æœ‰å¿…è¦ä½¿ç”¨ epollã€‚å› ä¸º epoll ä¸­çš„æ‰€æœ‰æè¿°ç¬¦éƒ½å­˜å‚¨åœ¨å†…æ ¸ä¸­ï¼Œé€ æˆæ¯æ¬¡éœ€è¦å¯¹æè¿°ç¬¦çš„çŠ¶æ€æ”¹å˜éƒ½éœ€è¦é€šè¿‡ epoll_ctl() è¿›è¡Œç³»ç»Ÿè°ƒç”¨ï¼Œé¢‘ç¹ç³»ç»Ÿè°ƒç”¨é™ä½æ•ˆç‡ã€‚å¹¶ä¸”epoll çš„æè¿°ç¬¦å­˜å‚¨åœ¨å†…æ ¸ï¼Œä¸å®¹æ˜“è°ƒè¯•ã€‚&lt;/p&gt;
&lt;h5 id=&#34;3-epoll-åº”ç”¨åœºæ™¯&#34;&gt;3. epoll åº”ç”¨åœºæ™¯&lt;/h5&gt;
&lt;p&gt;åªéœ€è¦è¿è¡Œåœ¨ Linux å¹³å°ä¸Šï¼Œå¹¶ä¸”æœ‰éå¸¸å¤§é‡çš„æè¿°ç¬¦éœ€è¦åŒæ—¶è½®è¯¢ï¼Œè€Œä¸”è¿™äº›è¿æ¥æœ€å¥½æ˜¯é•¿è¿æ¥ã€‚&lt;/p&gt;
&lt;h3 id=&#34;webæœåŠ¡å™¨è®¾è®¡æ¨¡å‹&#34;&gt;webæœåŠ¡å™¨è®¾è®¡æ¨¡å‹&lt;/h3&gt;
&lt;h4 id=&#34;å¹¶å‘å¹¶è¡Œ&#34;&gt;å¹¶å‘&amp;amp;å¹¶è¡Œ&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;å¹¶å‘æ˜¯æŒ‡å®è§‚ä¸Šåœ¨ä¸€æ®µæ—¶é—´å†…èƒ½åŒæ—¶è¿è¡Œå¤šä¸ªç¨‹åºï¼Œè€Œå¹¶è¡Œåˆ™æŒ‡åŒä¸€æ—¶åˆ»èƒ½è¿è¡Œå¤šä¸ªæŒ‡ä»¤ã€‚
å¹¶è¡Œéœ€è¦ç¡¬ä»¶æ”¯æŒï¼Œå¦‚å¤šæµæ°´çº¿æˆ–è€…å¤šå¤„ç†å™¨ã€‚
æ“ä½œç³»ç»Ÿé€šè¿‡å¼•å…¥è¿›ç¨‹å’Œçº¿ç¨‹ï¼Œä½¿å¾—ç¨‹åºèƒ½å¤Ÿå¹¶å‘è¿è¡Œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¯¹äºwebæœåŠ¡è€Œè¨€ï¼Œå¹¶å‘æ˜¯æŒ‡åŒæ—¶è¿›è¡Œçš„ä»»åŠ¡æ•°ï¼ˆå¦‚åŒæ—¶æœåŠ¡çš„ HTTP è¯·æ±‚ï¼‰ï¼Œè€Œå¹¶è¡Œæ˜¯å¯ä»¥åŒæ—¶å·¥ä½œçš„ç‰©ç†èµ„æºæ•°é‡ï¼ˆå¦‚ CPU æ ¸æ•°ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è€Œé’ˆå¯¹å¹¶å‘IOè€Œè¨€ï¼ŒReactoræ¨¡å‹æ˜¯ä¸€ç§å¸¸è§çš„å¤„ç†æ–¹å¼&lt;/p&gt;
&lt;h4 id=&#34;reactoræ¨¡å‹&#34;&gt;Reactoræ¨¡å‹&lt;/h4&gt;
&lt;p&gt;Reactorçš„ä¸­å¿ƒæ€æƒ³æ˜¯å°†æ‰€æœ‰è¦å¤„ç†çš„I/Oäº‹ä»¶æ³¨å†Œåˆ°ä¸€ä¸ªä¸­å¿ƒI/Oå¤šè·¯å¤ç”¨å™¨ä¸Šï¼ŒåŒæ—¶ä¸»çº¿ç¨‹/è¿›ç¨‹é˜»å¡åœ¨å¤šè·¯å¤ç”¨å™¨ä¸Šï¼›ä¸€æ—¦æœ‰I/Oäº‹ä»¶åˆ°æ¥æˆ–æ˜¯å‡†å¤‡å°±ç»ª(æ–‡ä»¶æè¿°ç¬¦æˆ–socketå¯è¯»ã€å†™)ï¼Œå¤šè·¯å¤ç”¨å™¨è¿”å›å¹¶å°†äº‹å…ˆæ³¨å†Œçš„ç›¸åº”I/Oäº‹ä»¶åˆ†å‘åˆ°å¯¹åº”çš„å¤„ç†å™¨ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;Reactoræ˜¯ä¸€ç§äº‹ä»¶é©±åŠ¨æœºåˆ¶ï¼Œç”¨â€œå¥½è±ååŸåˆ™â€æ¥å½¢å®¹Reactorå†åˆé€‚ä¸è¿‡äº†ï¼šä¸è¦æ‰“ç”µè¯ç»™æˆ‘ä»¬ï¼Œæˆ‘ä»¬ä¼šæ‰“ç”µè¯é€šçŸ¥ä½ ã€‚
Reactoræ¨¡å¼ä¸Observeræ¨¡å¼åœ¨æŸäº›æ–¹é¢æä¸ºç›¸ä¼¼ï¼šå½“ä¸€ä¸ªä¸»ä½“å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾å±ä½“éƒ½å¾—åˆ°é€šçŸ¥ã€‚ä¸è¿‡ï¼Œè§‚å¯Ÿè€…æ¨¡å¼ä¸å•ä¸ªäº‹ä»¶æºå…³è”ï¼Œè€Œååº”å™¨æ¨¡å¼åˆ™ä¸å¤šä¸ªäº‹ä»¶æºå…³è” ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Reactoræ¨¡å¼ä¸­ï¼Œæœ‰5ä¸ªå…³é”®çš„å‚ä¸è€…ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æè¿°ç¬¦ï¼ˆhandleï¼‰&lt;/strong&gt;ï¼šç”±æ“ä½œç³»ç»Ÿæä¾›çš„èµ„æºï¼Œç”¨äºè¯†åˆ«æ¯ä¸€ä¸ªäº‹ä»¶ï¼Œå¦‚Socketæè¿°ç¬¦ã€æ–‡ä»¶æè¿°ç¬¦ã€ä¿¡å·çš„å€¼ç­‰ã€‚åœ¨Linuxä¸­ï¼Œå®ƒç”¨ä¸€ä¸ªæ•´æ•°æ¥è¡¨ç¤ºã€‚äº‹ä»¶å¯ä»¥æ¥è‡ªå¤–éƒ¨ï¼Œå¦‚æ¥è‡ªå®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚ã€æ•°æ®ç­‰ã€‚äº‹ä»¶ä¹Ÿå¯ä»¥æ¥è‡ªå†…éƒ¨ï¼Œå¦‚ä¿¡å·ã€å®šæ—¶å™¨äº‹ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŒæ­¥äº‹ä»¶å¤šè·¯åˆ†ç¦»å™¨ï¼ˆevent demultiplexerï¼‰&lt;/strong&gt;ï¼šäº‹ä»¶çš„åˆ°æ¥æ˜¯éšæœºçš„ã€å¼‚æ­¥çš„ï¼Œæ— æ³•é¢„çŸ¥ç¨‹åºä½•æ—¶æ”¶åˆ°ä¸€ä¸ªå®¢æˆ·è¿æ¥è¯·æ±‚æˆ–æ”¶åˆ°ä¸€ä¸ªä¿¡å·ã€‚æ‰€ä»¥ç¨‹åºè¦å¾ªç¯ç­‰å¾…å¹¶å¤„ç†äº‹ä»¶ï¼Œè¿™å°±æ˜¯äº‹ä»¶å¾ªç¯ã€‚åœ¨äº‹ä»¶å¾ªç¯ä¸­ï¼Œç­‰å¾…äº‹ä»¶ä¸€èˆ¬ä½¿ç”¨I/Oå¤ç”¨æŠ€æœ¯å®ç°ã€‚åœ¨linuxç³»ç»Ÿä¸Šä¸€èˆ¬æ˜¯selectã€pollã€epol_waitlç­‰ç³»ç»Ÿè°ƒç”¨ï¼Œç”¨æ¥ç­‰å¾…ä¸€ä¸ªæˆ–å¤šä¸ªäº‹ä»¶çš„å‘ç”Ÿã€‚I/Oæ¡†æ¶åº“ä¸€èˆ¬å°†å„ç§I/Oå¤ç”¨ç³»ç»Ÿè°ƒç”¨å°è£…æˆç»Ÿä¸€çš„æ¥å£ï¼Œç§°ä¸ºäº‹ä»¶å¤šè·¯åˆ†ç¦»å™¨ã€‚è°ƒç”¨è€…ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°åˆ†ç¦»å™¨åˆ†ç¦»çš„æè¿°ç¬¦é›†ä¸Šæœ‰äº‹ä»¶å‘ç”Ÿã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;äº‹ä»¶å¤„ç†å™¨ï¼ˆevent handlerï¼‰&lt;/strong&gt;ï¼šI/Oæ¡†æ¶åº“æä¾›çš„äº‹ä»¶å¤„ç†å™¨é€šå¸¸æ˜¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ªæ¨¡æ¿å‡½æ•°ç»„æˆçš„æ¥å£ã€‚è¿™äº›æ¨¡æ¿å‡½æ•°æè¿°äº†å’Œåº”ç”¨ç¨‹åºç›¸å…³çš„å¯¹æŸä¸ªäº‹ä»¶çš„æ“ä½œï¼Œç”¨æˆ·éœ€è¦ç»§æ‰¿å®ƒæ¥å®ç°è‡ªå·±çš„äº‹ä»¶å¤„ç†å™¨ï¼Œå³å…·ä½“äº‹ä»¶å¤„ç†å™¨ã€‚å› æ­¤ï¼Œäº‹ä»¶å¤„ç†å™¨ä¸­çš„å›è°ƒå‡½æ•°ä¸€èˆ¬å£°æ˜ä¸ºè™šå‡½æ•°ï¼Œä»¥æ”¯æŒç”¨æˆ·æ‹“å±•ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…·ä½“çš„äº‹ä»¶å¤„ç†å™¨ï¼ˆconcrete event handlerï¼‰&lt;/strong&gt;ï¼šæ˜¯äº‹ä»¶å¤„ç†å™¨æ¥å£çš„å®ç°ã€‚å®ƒå®ç°äº†åº”ç”¨ç¨‹åºæä¾›çš„æŸä¸ªæœåŠ¡ã€‚æ¯ä¸ªå…·ä½“çš„äº‹ä»¶å¤„ç†å™¨æ€»å’Œä¸€ä¸ªæè¿°ç¬¦ç›¸å…³ã€‚å®ƒä½¿ç”¨æè¿°ç¬¦æ¥è¯†åˆ«äº‹ä»¶ã€è¯†åˆ«åº”ç”¨ç¨‹åºæä¾›çš„æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Reactor ç®¡ç†å™¨ï¼ˆreactorï¼‰&lt;/strong&gt;ï¼šå®šä¹‰äº†ä¸€äº›æ¥å£ï¼Œç”¨äºåº”ç”¨ç¨‹åºæ§åˆ¶äº‹ä»¶è°ƒåº¦ï¼Œä»¥åŠåº”ç”¨ç¨‹åºæ³¨å†Œã€åˆ é™¤äº‹ä»¶å¤„ç†å™¨å’Œç›¸å…³çš„æè¿°ç¬¦ã€‚å®ƒæ˜¯äº‹ä»¶å¤„ç†å™¨çš„è°ƒåº¦æ ¸å¿ƒã€‚ Reactorç®¡ç†å™¨ä½¿ç”¨åŒæ­¥äº‹ä»¶åˆ†ç¦»å™¨æ¥ç­‰å¾…äº‹ä»¶çš„å‘ç”Ÿã€‚ä¸€æ—¦äº‹ä»¶å‘ç”Ÿï¼ŒReactorç®¡ç†å™¨å…ˆæ˜¯åˆ†ç¦»æ¯ä¸ªäº‹ä»¶ï¼Œç„¶åè°ƒåº¦äº‹ä»¶å¤„ç†å™¨ï¼Œæœ€åè°ƒç”¨ç›¸å…³çš„æ¨¡ æ¿å‡½æ•°æ¥å¤„ç†è¿™ä¸ªäº‹ä»¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226142433.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹å‡ºï¼Œæ˜¯Reactorç®¡ç†å™¨å¹¶ä¸æ˜¯åº”ç”¨ç¨‹åºè´Ÿè´£ç­‰å¾…äº‹ä»¶ã€åˆ†ç¦»äº‹ä»¶å’Œè°ƒåº¦äº‹ä»¶ã€‚Reactorå¹¶æ²¡æœ‰è¢«å…·ä½“çš„äº‹ä»¶å¤„ç†å™¨è°ƒåº¦ï¼Œè€Œæ˜¯ç®¡ç†å™¨è°ƒåº¦å…·ä½“çš„äº‹ä»¶å¤„ç†å™¨ï¼Œç”±äº‹ä»¶å¤„ç†å™¨å¯¹å‘ç”Ÿçš„äº‹ä»¶ä½œå‡ºå¤„ç†ï¼Œè¿™å°±æ˜¯HollywoodåŸåˆ™ã€‚åº”ç”¨ç¨‹åºè¦åšçš„ä»…ä»…æ˜¯å®ç°ä¸€ä¸ªå…·ä½“çš„äº‹ä»¶å¤„ç†å™¨ï¼Œç„¶åæŠŠå®ƒæ³¨å†Œåˆ°Reactorç®¡ç†å™¨ä¸­ã€‚æ¥ä¸‹æ¥çš„å·¥ä½œç”±ç®¡ç†å™¨æ¥å®Œæˆï¼šå¦‚æœæœ‰ç›¸åº”çš„äº‹ä»¶å‘ç”Ÿï¼ŒReactorä¼šä¸»åŠ¨è°ƒç”¨å…·ä½“çš„äº‹ä»¶å¤„ç†å™¨ï¼Œç”±äº‹ä»¶å¤„ç†å™¨å¯¹å‘ç”Ÿçš„äº‹ä»¶ä½œå‡ºå¤„ç†ã€‚&lt;/p&gt;
&lt;h5 id=&#34;ä¸ºä»€ä¹ˆä½¿ç”¨reactor&#34;&gt;ä¸ºä»€ä¹ˆä½¿ç”¨Reactor&lt;/h5&gt;
&lt;p&gt;æœ‰äº†I/Oå¤ç”¨ï¼Œæœ‰äº†epollå·²ç»å¯ä»¥ä½¿æœåŠ¡å™¨å¹¶å‘å‡ åä¸‡è¿æ¥çš„åŒæ—¶ï¼Œç»´æŒé«˜TPSäº†ï¼Œéš¾é“è¿™è¿˜ä¸å¤Ÿå—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç­”æ¡ˆæ˜¯ï¼ŒæŠ€æœ¯å±‚é¢è¶³å¤Ÿäº†ï¼Œä½†åœ¨è½¯ä»¶å·¥ç¨‹å±‚é¢å´æ˜¯ä¸å¤Ÿçš„ã€‚&lt;/p&gt;
&lt;p&gt;ç¨‹åºä½¿ç”¨IOå¤ç”¨çš„éš¾ç‚¹åœ¨å“ªé‡Œå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;1ä¸ªè¯·æ±‚å¯èƒ½ç”±å¤šæ¬¡IOå¤„ç†å®Œæˆï¼Œä½†ç›¸æ¯”ä¼ ç»Ÿçš„å•çº¿ç¨‹å®Œæ•´å¤„ç†è¯·æ±‚ç”Ÿå‘½æœŸçš„æ–¹æ³•ï¼ŒIOå¤ç”¨åœ¨äººçš„å¤§è„‘æ€ç»´ä¸­å¹¶ä¸è‡ªç„¶ï¼Œå› ä¸ºï¼Œç¨‹åºå‘˜ç¼–ç¨‹ä¸­ï¼Œå¤„ç†è¯·æ±‚Açš„æ—¶å€™ï¼Œå‡å®šAè¯·æ±‚å¿…é¡»ç»è¿‡å¤šä¸ªIOæ“ä½œA1-Anï¼ˆä¸¤æ¬¡IOé—´å¯èƒ½é—´éš”å¾ˆé•¿æ—¶é—´ï¼‰ï¼Œæ¯ç»è¿‡ä¸€æ¬¡IOæ“ä½œï¼Œå†è°ƒç”¨IOå¤ç”¨æ—¶ï¼ŒIOå¤ç”¨çš„è°ƒç”¨è¿”å›é‡Œï¼Œéå¸¸å¯èƒ½ä¸å†æœ‰Aï¼Œè€Œæ˜¯è¿”å›äº†è¯·æ±‚Bã€‚å³è¯·æ±‚Aä¼šç»å¸¸è¢«è¯·æ±‚Bæ‰“æ–­ï¼Œå¤„ç†è¯·æ±‚Bæ—¶ï¼Œåˆè¢«Cæ‰“æ–­ã€‚è¿™ç§æ€ç»´ä¸‹ï¼Œç¼–ç¨‹å®¹æ˜“å‡ºé”™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœ¨ç¨‹åºä¸­ï¼š&lt;/strong&gt;
æŸä¸€ç¬é—´ï¼ŒæœåŠ¡å™¨å…±æœ‰10ä¸‡ä¸ªå¹¶å‘è¿æ¥ï¼Œæ­¤æ—¶ï¼Œä¸€æ¬¡IOå¤ç”¨æ¥å£çš„è°ƒç”¨è¿”å›äº†100ä¸ªæ´»è·ƒçš„è¿æ¥ç­‰å¾…å¤„ç†ã€‚å…ˆæ ¹æ®è¿™100ä¸ªè¿æ¥æ‰¾å‡ºå…¶å¯¹åº”çš„å¯¹è±¡ï¼Œè¿™å¹¶ä¸éš¾ï¼Œepollçš„è¿”å›è¿æ¥æ•°æ®ç»“æ„é‡Œå°±æœ‰è¿™æ ·çš„æŒ‡é’ˆå¯ä»¥ç”¨ã€‚æ¥ç€ï¼Œå¾ªç¯çš„å¤„ç†æ¯ä¸€ä¸ªè¿æ¥ï¼Œæ‰¾å‡ºè¿™ä¸ªå¯¹è±¡æ­¤åˆ»çš„ä¸Šä¸‹æ–‡çŠ¶æ€ï¼Œå†ä½¿ç”¨readã€writeè¿™æ ·çš„ç½‘ç»œIOè·å–æ­¤æ¬¡çš„æ“ä½œå†…å®¹ï¼Œç»“åˆä¸Šä¸‹æ–‡çŠ¶æ€æŸ¥è¯¢æ­¤æ—¶åº”å½“é€‰æ‹©å“ªä¸ªä¸šåŠ¡æ–¹æ³•å¤„ç†ï¼Œè°ƒç”¨ç›¸åº”æ–¹æ³•å®Œæˆæ“ä½œåï¼Œè‹¥è¯·æ±‚ç»“æŸï¼Œåˆ™åˆ é™¤å¯¹è±¡åŠå…¶ä¸Šä¸‹æ–‡ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·ï¼Œæˆ‘ä»¬å°±é™·å…¥äº†&lt;strong&gt;é¢å‘è¿‡ç¨‹ç¼–ç¨‹&lt;/strong&gt;æ–¹æ³•ä¹‹ä¸­äº†ï¼Œåœ¨é¢å‘åº”ç”¨ã€å¿«é€Ÿå“åº”ä¸ºç‹çš„ç§»åŠ¨äº’è”ç½‘æ—¶ä»£ï¼Œè¿™æ ·åšæ—©æ™šå¾—æŠŠè‡ªå·±ç©æ­»ã€‚æˆ‘ä»¬çš„ä¸»ç¨‹åºéœ€è¦å…³æ³¨å„ç§ä¸åŒç±»å‹çš„è¯·æ±‚ï¼Œåœ¨ä¸åŒçŠ¶æ€ä¸‹ï¼Œå¯¹äºä¸åŒçš„è¯·æ±‚å‘½ä»¤é€‰æ‹©ä¸åŒçš„ä¸šåŠ¡å¤„ç†æ–¹æ³•ã€‚è¿™ä¼šå¯¼è‡´éšç€è¯·æ±‚ç±»å‹çš„å¢åŠ ï¼Œè¯·æ±‚çŠ¶æ€çš„å¢åŠ ï¼Œè¯·æ±‚å‘½ä»¤çš„å¢åŠ ï¼Œ&lt;strong&gt;ä¸»ç¨‹åºå¤æ‚åº¦å¿«é€Ÿè†¨èƒ€&lt;/strong&gt;ï¼Œå¯¼è‡´ç»´æŠ¤è¶Šæ¥è¶Šå›°éš¾ï¼Œè‹¦é€¼çš„ç¨‹åºå‘˜å†ä¹Ÿä¸æ•¢è½»æ˜“æ¥æ–°éœ€æ±‚ã€é‡æ„ã€‚&lt;/p&gt;
&lt;p&gt;ååº”å †æ˜¯è§£å†³ä¸Šè¿°è½¯ä»¶å·¥ç¨‹é—®é¢˜çš„ä¸€ç§é€”å¾„ï¼Œå®ƒä¹Ÿè®¸å¹¶ä¸ä¼˜é›…ï¼Œå¼€å‘æ•ˆç‡ä¸Šä¹Ÿä¸æ˜¯æœ€é«˜çš„ï¼Œä½†å…¶æ‰§è¡Œæ•ˆç‡ä¸é¢å‘è¿‡ç¨‹çš„ä½¿ç”¨IOå¤ç”¨å´å‡ ä¹æ˜¯ç­‰ä»·çš„ï¼Œæ‰€ä»¥ï¼Œæ— è®ºæ˜¯nginxã€memcachedã€redisç­‰ç­‰è¿™äº›é«˜æ€§èƒ½ç»„ä»¶çš„ä»£åè¯ï¼Œéƒ½ä¹‰æ— åé¡¾çš„ä¸€å¤´æ‰è¿›äº†ååº”å †çš„æ€€æŠ±ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ååº”å †æ¨¡å¼å¯ä»¥åœ¨è½¯ä»¶å·¥ç¨‹å±‚é¢ï¼Œå°†äº‹ä»¶é©±åŠ¨æ¡†æ¶åˆ†ç¦»å‡ºå…·ä½“ä¸šåŠ¡ï¼Œå°†ä¸åŒç±»å‹è¯·æ±‚ä¹‹é—´ç”¨OOçš„æ€æƒ³åˆ†ç¦»ã€‚é€šå¸¸ï¼Œååº”å †ä¸ä»…ä½¿ç”¨IOå¤ç”¨å¤„ç†ç½‘ç»œäº‹ä»¶é©±åŠ¨ï¼Œè¿˜ä¼šå®ç°å®šæ—¶å™¨æ¥å¤„ç†æ—¶é—´äº‹ä»¶çš„é©±åŠ¨ï¼ˆè¯·æ±‚çš„è¶…æ—¶å¤„ç†æˆ–è€…å®šæ—¶ä»»åŠ¡çš„å¤„ç†ï¼‰&lt;/p&gt;
&lt;h5 id=&#34;reactorçš„å‡ ç§æ¨¡å¼&#34;&gt;Reactorçš„å‡ ç§æ¨¡å¼&lt;/h5&gt;
&lt;h6 id=&#34;1-å•çº¿ç¨‹æ¨¡å¼&#34;&gt;1 å•çº¿ç¨‹æ¨¡å¼&lt;/h6&gt;
&lt;p&gt;è¿™æ˜¯æœ€ç®€å•çš„å•Reactorå•çº¿ç¨‹æ¨¡å‹ã€‚Reactorçº¿ç¨‹æ˜¯ä¸ªå¤šé¢æ‰‹ï¼Œè´Ÿè´£å¤šè·¯åˆ†ç¦»å¥—æ¥å­—ï¼ŒAcceptæ–°è¿æ¥ï¼Œå¹¶åˆ†æ´¾è¯·æ±‚åˆ°å¤„ç†å™¨é“¾ä¸­ã€‚è¯¥æ¨¡å‹é€‚ç”¨äºå¤„ç†å™¨é“¾ä¸­ä¸šåŠ¡å¤„ç†ç»„ä»¶èƒ½å¿«é€Ÿå®Œæˆçš„åœºæ™¯ã€‚ä¸è¿‡è¿™ç§å•çº¿ç¨‹æ¨¡å‹ä¸èƒ½å……åˆ†åˆ©ç”¨å¤šæ ¸èµ„æºï¼Œæ‰€ä»¥å®é™…ä½¿ç”¨çš„ä¸å¤šã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226142550.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h6 id=&#34;2-å¤šçº¿ç¨‹æ¨¡å¼å•reactor&#34;&gt;2 å¤šçº¿ç¨‹æ¨¡å¼ï¼ˆå•Reactorï¼‰&lt;/h6&gt;
&lt;p&gt;è¯¥æ¨¡å‹åœ¨äº‹ä»¶å¤„ç†å™¨ï¼ˆHandlerï¼‰é“¾éƒ¨åˆ†é‡‡ç”¨äº†å¤šçº¿ç¨‹ï¼ˆçº¿ç¨‹æ± ï¼‰ï¼Œä¹Ÿæ˜¯åç«¯ç¨‹åºå¸¸ç”¨çš„æ¨¡å‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226142614.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h6 id=&#34;3-å¤šçº¿ç¨‹æ¨¡å¼å¤šä¸ªreactor&#34;&gt;3 å¤šçº¿ç¨‹æ¨¡å¼ï¼ˆå¤šä¸ªReactorï¼‰&lt;/h6&gt;
&lt;p&gt;æ¯”èµ·ç¬¬äºŒç§æ¨¡å‹ï¼Œå®ƒæ˜¯å°†Reactoråˆ†æˆä¸¤éƒ¨åˆ†ï¼ŒmainReactorè´Ÿè´£ç›‘å¬å¹¶acceptæ–°è¿æ¥ï¼Œç„¶åå°†å»ºç«‹çš„socketé€šè¿‡å¤šè·¯å¤ç”¨å™¨ï¼ˆAcceptorï¼‰åˆ†æ´¾ç»™subReactorã€‚subReactorè´Ÿè´£å¤šè·¯åˆ†ç¦»å·²è¿æ¥çš„socketï¼Œè¯»å†™ç½‘ç»œæ•°æ®ï¼›ä¸šåŠ¡å¤„ç†åŠŸèƒ½ï¼Œå…¶äº¤ç»™workerçº¿ç¨‹æ± å®Œæˆã€‚é€šå¸¸ï¼ŒsubReactorä¸ªæ•°ä¸Šå¯ä¸CPUä¸ªæ•°ç­‰åŒã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226142645.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;proacotræ¨¡å‹&#34;&gt;Proacotræ¨¡å‹&lt;/h4&gt;
&lt;p&gt;Proactoræ˜¯å’Œå¼‚æ­¥I/Oç›¸å…³çš„ã€‚&lt;/p&gt;
&lt;h5 id=&#34;æ¯”è¾ƒ&#34;&gt;æ¯”è¾ƒ&lt;/h5&gt;
&lt;p&gt;ä»¥è¯»æ“ä½œä¸ºä¾‹ï¼š
åœ¨Reactorï¼ˆåŒæ­¥ï¼‰ä¸­å®ç°è¯»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ³¨å†Œè¯»å°±ç»ªäº‹ä»¶å’Œç›¸åº”çš„äº‹ä»¶å¤„ç†å™¨&lt;/li&gt;
&lt;li&gt;äº‹ä»¶åˆ†ç¦»å™¨ç­‰å¾…äº‹ä»¶&lt;/li&gt;
&lt;li&gt;äº‹ä»¶åˆ°æ¥ï¼Œæ¿€æ´»åˆ†ç¦»å™¨ï¼Œåˆ†ç¦»å™¨è°ƒç”¨äº‹ä»¶å¯¹åº”çš„å¤„ç†å™¨ã€‚&lt;/li&gt;
&lt;li&gt;äº‹ä»¶å¤„ç†å™¨å®Œæˆå®é™…çš„è¯»æ“ä½œï¼Œå¤„ç†è¯»åˆ°çš„æ•°æ®ï¼Œæ³¨å†Œæ–°çš„äº‹ä»¶ï¼Œç„¶åè¿”è¿˜æ§åˆ¶æƒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Proactorï¼ˆå¼‚æ­¥ï¼‰ä¸­çš„è¯»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤„ç†å™¨å‘èµ·å¼‚æ­¥è¯»æ“ä½œï¼ˆæ³¨æ„ï¼šæ“ä½œç³»ç»Ÿå¿…é¡»æ”¯æŒå¼‚æ­¥IOï¼‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¤„ç†å™¨æ— è§†IOå°±ç»ªäº‹ä»¶ï¼Œå®ƒå…³æ³¨çš„æ˜¯å®Œæˆäº‹ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;äº‹ä»¶åˆ†ç¦»å™¨ç­‰å¾…æ“ä½œå®Œæˆäº‹ä»¶&lt;/li&gt;
&lt;li&gt;åœ¨åˆ†ç¦»å™¨ç­‰å¾…è¿‡ç¨‹ä¸­ï¼Œæ“ä½œç³»ç»Ÿåˆ©ç”¨å¹¶è¡Œçš„å†…æ ¸çº¿ç¨‹æ‰§è¡Œå®é™…çš„è¯»æ“ä½œï¼Œå¹¶å°†ç»“æœæ•°æ®å­˜å…¥ç”¨æˆ·è‡ªå®šä¹‰ç¼“å†²åŒºï¼Œæœ€åé€šçŸ¥äº‹ä»¶åˆ†ç¦»å™¨è¯»æ“ä½œå®Œæˆã€‚&lt;/li&gt;
&lt;li&gt;äº‹ä»¶åˆ†ç¦»å™¨å‘¼å”¤å¤„ç†å™¨ã€‚&lt;/li&gt;
&lt;li&gt;äº‹ä»¶å¤„ç†å™¨å¤„ç†ç”¨æˆ·è‡ªå®šä¹‰ç¼“å†²åŒºä¸­çš„æ•°æ®ï¼Œç„¶åå¯åŠ¨ä¸€ä¸ªæ–°çš„å¼‚æ­¥æ“ä½œï¼Œå¹¶å°†æ§åˆ¶æƒè¿”å›äº‹ä»¶åˆ†ç¦»å™¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;å‚è€ƒèµ„æ–™&lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://zhuanlan.zhihu.com/p/43933717&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ä¸€æ–‡è¯»æ‡‚é«˜æ€§èƒ½ç½‘ç»œç¼–ç¨‹ä¸­çš„I/Oæ¨¡å‹ - çŸ¥ä¹ (zhihu.com)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.cnblogs.com/Zhangyq-yard/p/10114785.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ç½‘ç»œI/Oæ¨¡å‹&amp;ndash;5ç§å¸¸è§çš„ç½‘ç»œI/Oæ¨¡å‹ - QiangAnan - åšå®¢å›­ (cnblogs.com)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.jianshu.com/p/ad548bb816ec&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å¦‚ä½•ç†è§£é«˜æ€§èƒ½ç½‘ç»œæ¨¡å‹&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>MySQLçš„å››ç§äº‹åŠ¡éš”ç¦»çº§åˆ«</title>
        <link>https://lxb.wiki/689978a2/</link>
        <pubDate>Mon, 02 Aug 2021 23:20:12 +0000</pubDate>
        
        <guid>https://lxb.wiki/689978a2/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h1 id=&#34;ä¸€äº‹åŠ¡çš„åŸºæœ¬è¦ç´ acid&#34;&gt;ä¸€ã€äº‹åŠ¡çš„åŸºæœ¬è¦ç´ ï¼ˆACIDï¼‰&lt;/h1&gt;
&lt;p&gt;ã€€ã€€1ã€åŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šäº‹åŠ¡å¼€å§‹åæ‰€æœ‰æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨åšå®Œï¼Œè¦ä¹ˆå…¨éƒ¨ä¸åšï¼Œä¸å¯èƒ½åœæ»åœ¨ä¸­é—´ç¯èŠ‚ã€‚äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºé”™ï¼Œä¼šå›æ»šåˆ°äº‹åŠ¡å¼€å§‹å‰çš„çŠ¶æ€ï¼Œæ‰€æœ‰çš„æ“ä½œå°±åƒæ²¡æœ‰å‘ç”Ÿä¸€æ ·ã€‚ä¹Ÿå°±æ˜¯è¯´äº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„æ•´ä½“ï¼Œå°±åƒåŒ–å­¦ä¸­å­¦è¿‡çš„åŸå­ï¼Œæ˜¯ç‰©è´¨æ„æˆçš„åŸºæœ¬å•ä½ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ 2ã€ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šäº‹åŠ¡å¼€å§‹å‰å’Œç»“æŸåï¼Œæ•°æ®åº“çš„å®Œæ•´æ€§çº¦æŸæ²¡æœ‰è¢«ç ´å ã€‚æ¯”å¦‚Aå‘Bè½¬è´¦ï¼Œä¸å¯èƒ½Aæ‰£äº†é’±ï¼ŒBå´æ²¡æ”¶åˆ°ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ 3ã€éš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼šåŒä¸€æ—¶é—´ï¼Œåªå…è®¸ä¸€ä¸ªäº‹åŠ¡è¯·æ±‚åŒä¸€æ•°æ®ï¼Œä¸åŒçš„äº‹åŠ¡ä¹‹é—´å½¼æ­¤æ²¡æœ‰ä»»ä½•å¹²æ‰°ã€‚æ¯”å¦‚Aæ­£åœ¨ä»ä¸€å¼ é“¶è¡Œå¡ä¸­å–é’±ï¼Œåœ¨Aå–é’±çš„è¿‡ç¨‹ç»“æŸå‰ï¼ŒBä¸èƒ½å‘è¿™å¼ å¡è½¬è´¦ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ 4ã€æŒä¹…æ€§ï¼ˆDurabilityï¼‰ï¼šäº‹åŠ¡å®Œæˆåï¼Œäº‹åŠ¡å¯¹æ•°æ®åº“çš„æ‰€æœ‰æ›´æ–°å°†è¢«ä¿å­˜åˆ°æ•°æ®åº“ï¼Œä¸èƒ½å›æ»šã€‚&lt;/p&gt;
&lt;h1 id=&#34;äºŒäº‹åŠ¡çš„å¹¶å‘é—®é¢˜&#34;&gt;äºŒã€äº‹åŠ¡çš„å¹¶å‘é—®é¢˜&lt;/h1&gt;
&lt;p&gt;ã€€ã€€1ã€è„è¯»ï¼šäº‹åŠ¡Aè¯»å–äº†äº‹åŠ¡Bæ›´æ–°çš„æ•°æ®ï¼Œç„¶åBå›æ»šæ“ä½œï¼Œé‚£ä¹ˆAè¯»å–åˆ°çš„æ•°æ®æ˜¯è„æ•°æ®&lt;/p&gt;
&lt;p&gt;ã€€ã€€2ã€ä¸å¯é‡å¤è¯»ï¼šäº‹åŠ¡ A å¤šæ¬¡è¯»å–åŒä¸€æ•°æ®ï¼Œäº‹åŠ¡ B åœ¨äº‹åŠ¡Aå¤šæ¬¡è¯»å–çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹æ•°æ®ä½œäº†æ›´æ–°å¹¶æäº¤ï¼Œå¯¼è‡´äº‹åŠ¡Aå¤šæ¬¡è¯»å–åŒä¸€æ•°æ®æ—¶ï¼Œç»“æœ ä¸ä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€3ã€å¹»è¯»ï¼šç³»ç»Ÿç®¡ç†å‘˜Aå°†æ•°æ®åº“ä¸­æ‰€æœ‰å­¦ç”Ÿçš„æˆç»©ä»å…·ä½“åˆ†æ•°æ”¹ä¸ºABCDEç­‰çº§ï¼Œä½†æ˜¯ç³»ç»Ÿç®¡ç†å‘˜Bå°±åœ¨è¿™ä¸ªæ—¶å€™æ’å…¥äº†ä¸€æ¡å…·ä½“åˆ†æ•°çš„è®°å½•ï¼Œå½“ç³»ç»Ÿç®¡ç†å‘˜Aæ”¹ç»“æŸåå‘ç°è¿˜æœ‰ä¸€æ¡è®°å½•æ²¡æœ‰æ”¹è¿‡æ¥ï¼Œå°±å¥½åƒå‘ç”Ÿäº†å¹»è§‰ä¸€æ ·ï¼Œè¿™å°±å«å¹»è¯»ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€å°ç»“ï¼šä¸å¯é‡å¤è¯»çš„å’Œå¹»è¯»å¾ˆå®¹æ˜“æ··æ·†ï¼Œä¸å¯é‡å¤è¯»ä¾§é‡äºä¿®æ”¹ï¼Œå¹»è¯»ä¾§é‡äºæ–°å¢æˆ–åˆ é™¤ã€‚è§£å†³ä¸å¯é‡å¤è¯»çš„é—®é¢˜åªéœ€é”ä½æ»¡è¶³æ¡ä»¶çš„è¡Œï¼Œè§£å†³å¹»è¯»éœ€è¦é”è¡¨&lt;/p&gt;
&lt;h1 id=&#34;ä¸‰mysqläº‹åŠ¡éš”ç¦»çº§åˆ«&#34;&gt;ä¸‰ã€MySQLäº‹åŠ¡éš”ç¦»çº§åˆ«&lt;/h1&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;äº‹åŠ¡éš”ç¦»çº§åˆ«&lt;/th&gt;
&lt;th&gt;è„è¯»&lt;/th&gt;
&lt;th&gt;ä¸å¯é‡å¤è¯»&lt;/th&gt;
&lt;th&gt;å¹»è¯»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;è¯»æœªæäº¤ï¼ˆread-uncommittedï¼‰&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¸å¯é‡å¤è¯»ï¼ˆread-committedï¼‰&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å¯é‡å¤è¯»ï¼ˆrepeatable-readï¼‰&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¸²è¡ŒåŒ–ï¼ˆserializableï¼‰&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;mysqlé»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ä¸ºrepeatable-read&lt;/p&gt;
&lt;h1 id=&#34;å››ç”¨ä¾‹å­è¯´æ˜å„ä¸ªéš”ç¦»çº§åˆ«çš„æƒ…å†µ&#34;&gt;å››ã€ç”¨ä¾‹å­è¯´æ˜å„ä¸ªéš”ç¦»çº§åˆ«çš„æƒ…å†µ&lt;/h1&gt;
&lt;h2 id=&#34;1è¯»æœªæäº¤&#34;&gt;1ã€è¯»æœªæäº¤ï¼š&lt;/h2&gt;
&lt;p&gt;ã€€ã€€ã€€ã€€ï¼ˆ1ï¼‰æ‰“å¼€ä¸€ä¸ªå®¢æˆ·ç«¯Aï¼Œå¹¶è®¾ç½®å½“å‰äº‹åŠ¡æ¨¡å¼ä¸ºread uncommittedï¼ˆæœªæäº¤è¯»ï¼‰ï¼ŒæŸ¥è¯¢è¡¨accountçš„åˆå§‹å€¼ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226132329.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰åœ¨å®¢æˆ·ç«¯Açš„äº‹åŠ¡æäº¤ä¹‹å‰ï¼Œæ‰“å¼€å¦ä¸€ä¸ªå®¢æˆ·ç«¯Bï¼Œæ›´æ–°è¡¨accountï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226132440.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ3ï¼‰è¿™æ—¶ï¼Œè™½ç„¶å®¢æˆ·ç«¯Bçš„äº‹åŠ¡è¿˜æ²¡æäº¤ï¼Œä½†æ˜¯å®¢æˆ·ç«¯Aå°±å¯ä»¥æŸ¥è¯¢åˆ°Bå·²ç»æ›´æ–°çš„æ•°æ®ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226132511.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ4ï¼‰ä¸€æ—¦å®¢æˆ·ç«¯Bçš„äº‹åŠ¡å› ä¸ºæŸç§åŸå› å›æ»šï¼Œæ‰€æœ‰çš„æ“ä½œéƒ½å°†ä¼šè¢«æ’¤é”€ï¼Œé‚£å®¢æˆ·ç«¯AæŸ¥è¯¢åˆ°çš„æ•°æ®å…¶å®å°±æ˜¯è„æ•°æ®ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226132642.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ5ï¼‰åœ¨å®¢æˆ·ç«¯Aæ‰§è¡Œæ›´æ–°è¯­å¥update account set balance = balance - 50 where id =1ï¼Œlileiçš„balanceæ²¡æœ‰å˜æˆ350ï¼Œå±…ç„¶æ˜¯400ï¼Œæ˜¯ä¸æ˜¯å¾ˆå¥‡æ€ªï¼Œæ•°æ®ä¸ä¸€è‡´å•Šï¼Œå¦‚æœä½ è¿™ä¹ˆæƒ³å°±å¤ªå¤©çœŸ äº†ï¼Œåœ¨åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬ä¼šç”¨400-50=350ï¼Œå¹¶ä¸çŸ¥é“å…¶ä»–ä¼šè¯å›æ»šäº†ï¼Œè¦æƒ³è§£å†³è¿™ä¸ªé—®é¢˜å¯ä»¥é‡‡ç”¨è¯»å·²æäº¤çš„éš”ç¦»çº§åˆ«&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226132722.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;2è¯»å·²æäº¤&#34;&gt;2ã€è¯»å·²æäº¤&lt;/h2&gt;
&lt;p&gt;ï¼ˆ1ï¼‰æ‰“å¼€ä¸€ä¸ªå®¢æˆ·ç«¯Aï¼Œå¹¶è®¾ç½®å½“å‰äº‹åŠ¡æ¨¡å¼ä¸ºread committedï¼ˆè¯»å·²æäº¤ï¼‰ï¼ŒæŸ¥è¯¢è¡¨accountçš„æ‰€æœ‰è®°å½•ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226132916.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰åœ¨å®¢æˆ·ç«¯Açš„äº‹åŠ¡æäº¤ä¹‹å‰ï¼Œæ‰“å¼€å¦ä¸€ä¸ªå®¢æˆ·ç«¯Bï¼Œæ›´æ–°è¡¨accountï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226133127.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ3ï¼‰è¿™æ—¶ï¼Œå®¢æˆ·ç«¯Bçš„äº‹åŠ¡è¿˜æ²¡æäº¤ï¼Œå®¢æˆ·ç«¯Aä¸èƒ½æŸ¥è¯¢åˆ°Bå·²ç»æ›´æ–°çš„æ•°æ®ï¼Œè§£å†³äº†è„è¯»é—®é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226133227.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ4ï¼‰å®¢æˆ·ç«¯Bçš„äº‹åŠ¡æäº¤&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226133253.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ5ï¼‰å®¢æˆ·ç«¯Aæ‰§è¡Œä¸ä¸Šä¸€æ­¥ç›¸åŒçš„æŸ¥è¯¢ï¼Œç»“æœ ä¸ä¸Šä¸€æ­¥ä¸ä¸€è‡´ï¼Œå³äº§ç”Ÿäº†ä¸å¯é‡å¤è¯»çš„é—®é¢˜&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226133509.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;3å¯é‡å¤è¯»&#34;&gt;3ã€å¯é‡å¤è¯»&lt;/h2&gt;
&lt;p&gt;ï¼ˆ1ï¼‰æ‰“å¼€ä¸€ä¸ªå®¢æˆ·ç«¯Aï¼Œå¹¶è®¾ç½®å½“å‰äº‹åŠ¡æ¨¡å¼ä¸ºrepeatable readï¼ŒæŸ¥è¯¢è¡¨accountçš„æ‰€æœ‰è®°å½•&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226133541.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰åœ¨å®¢æˆ·ç«¯Açš„äº‹åŠ¡æäº¤ä¹‹å‰ï¼Œæ‰“å¼€å¦ä¸€ä¸ªå®¢æˆ·ç«¯Bï¼Œæ›´æ–°è¡¨accountå¹¶æäº¤&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226133617.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ3ï¼‰åœ¨å®¢æˆ·ç«¯AæŸ¥è¯¢è¡¨accountçš„æ‰€æœ‰è®°å½•ï¼Œä¸æ­¥éª¤ï¼ˆ1ï¼‰æŸ¥è¯¢ç»“æœä¸€è‡´ï¼Œæ²¡æœ‰å‡ºç°ä¸å¯é‡å¤è¯»çš„é—®é¢˜&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226133720.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ4ï¼‰åœ¨å®¢æˆ·ç«¯Aï¼Œæ¥ç€æ‰§è¡Œupdate balance = balance - 50 where id = 1ï¼Œbalanceæ²¡æœ‰å˜æˆ400-50=350ï¼Œlileiçš„balanceå€¼ç”¨çš„æ˜¯æ­¥éª¤ï¼ˆ2ï¼‰ä¸­çš„350æ¥ç®—çš„ï¼Œæ‰€ä»¥æ˜¯300ï¼Œæ•°æ®çš„ä¸€è‡´æ€§å€’æ˜¯æ²¡æœ‰è¢«ç ´åã€‚å¯é‡å¤è¯»çš„éš”ç¦»çº§åˆ«ä¸‹ä½¿ç”¨äº†MVCCæœºåˆ¶ï¼Œselectæ“ä½œä¸ä¼šæ›´æ–°ç‰ˆæœ¬å·ï¼Œæ˜¯å¿«ç…§è¯»ï¼ˆå†å²ç‰ˆæœ¬ï¼‰ï¼›insertã€updateå’Œdeleteä¼šæ›´æ–°ç‰ˆæœ¬å·ï¼Œæ˜¯å½“å‰è¯»ï¼ˆå½“å‰ç‰ˆæœ¬ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226133747.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ5ï¼‰é‡æ–°æ‰“å¼€å®¢æˆ·ç«¯Bï¼Œæ’å…¥ä¸€æ¡æ–°æ•°æ®åæäº¤&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226133806.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;ï¼ˆ6ï¼‰åœ¨å®¢æˆ·ç«¯AæŸ¥è¯¢è¡¨accountçš„æ‰€æœ‰è®°å½•ï¼Œæ²¡æœ‰ æŸ¥å‡º æ–°å¢æ•°æ®ï¼Œæ‰€ä»¥æ²¡æœ‰å‡ºç°å¹»è¯»&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220226133936.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;4ä¸²è¡ŒåŒ–&#34;&gt;4.ä¸²è¡ŒåŒ–&lt;/h2&gt;
&lt;p&gt;ï¼ˆ1ï¼‰æ‰“å¼€ä¸€ä¸ªå®¢æˆ·ç«¯Aï¼Œå¹¶è®¾ç½®å½“å‰äº‹åŠ¡æ¨¡å¼ä¸ºserializableï¼ŒæŸ¥è¯¢è¡¨accountçš„åˆå§‹å€¼ï¼š&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰æ‰“å¼€ä¸€ä¸ªå®¢æˆ·ç«¯Bï¼Œå¹¶è®¾ç½®å½“å‰äº‹åŠ¡æ¨¡å¼ä¸ºserializableï¼Œæ’å…¥ä¸€æ¡è®°å½•æŠ¥é”™ï¼Œè¡¨è¢«é”äº†æ’å…¥å¤±è´¥ï¼Œmysqlä¸­äº‹åŠ¡éš”ç¦»çº§åˆ«ä¸ºserializableæ—¶ä¼šé”è¡¨ï¼Œå› æ­¤ä¸ä¼šå‡ºç°å¹»è¯»çš„æƒ…å†µï¼Œè¿™ç§éš”ç¦»çº§åˆ«å¹¶å‘æ€§æä½ï¼Œå¼€å‘ä¸­å¾ˆå°‘ä¼šç”¨åˆ°ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;strong&gt;è¡¥å……ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€1ã€äº‹åŠ¡éš”ç¦»çº§åˆ«ä¸ºè¯»æäº¤æ—¶ï¼Œå†™æ•°æ®åªä¼šé”ä½ç›¸åº”çš„è¡Œ&lt;/p&gt;
&lt;p&gt;ã€€ã€€2ã€äº‹åŠ¡éš”ç¦»çº§åˆ«ä¸ºå¯é‡å¤è¯»æ—¶ï¼Œå¦‚æœæ£€ç´¢æ¡ä»¶æœ‰ç´¢å¼•ï¼ˆåŒ…æ‹¬ä¸»é”®ç´¢å¼•ï¼‰çš„æ—¶å€™ï¼Œé»˜è®¤åŠ é”æ–¹å¼æ˜¯next-key é”ï¼›å¦‚æœ****æ£€ç´¢æ¡ä»¶****æ²¡æœ‰ç´¢å¼•ï¼Œæ›´æ–°æ•°æ®æ—¶ä¼šé”ä½æ•´å¼ è¡¨ã€‚ä¸€ä¸ªé—´éš™è¢«äº‹åŠ¡åŠ äº†é”ï¼Œå…¶ä»–äº‹åŠ¡æ˜¯ä¸èƒ½åœ¨è¿™ä¸ªé—´éš™æ’å…¥è®°å½•çš„ï¼Œè¿™æ ·å¯ä»¥é˜²æ­¢å¹»è¯»ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€3ã€äº‹åŠ¡éš”ç¦»çº§åˆ«ä¸ºä¸²è¡ŒåŒ–æ—¶ï¼Œè¯»å†™æ•°æ®éƒ½ä¼šé”ä½æ•´å¼ è¡¨&lt;/p&gt;
&lt;p&gt;ã€€ã€€4ã€éš”ç¦»çº§åˆ«è¶Šé«˜ï¼Œè¶Šèƒ½ä¿è¯æ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§ï¼Œä½†æ˜¯å¯¹å¹¶å‘æ€§èƒ½çš„å½±å“ä¹Ÿè¶Šå¤§ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€5ã€MYSQL MVCCå®ç°æœºåˆ¶å‚è€ƒé“¾æ¥ï¼šhttps://blog.csdn.net/whoamiyang/article/details/51901888&lt;/p&gt;
&lt;p&gt;ã€€ã€€ 6ã€å…³äºnext-key é”å¯ä»¥å‚è€ƒé“¾æ¥ï¼šhttps://blog.csdn.net/bigtree_3721/article/details/73731377&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åæ³¨ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å…³äº &lt;a class=&#34;link&#34; href=&#34;#%e5%be%85%e9%aa%8c%e8%af%81&#34; &gt;å››ã€3ã€å¯é‡å¤çš„çš„ç¬¬(6)æ­¥&lt;/a&gt;ï¼Œ å¾…éªŒè¯&lt;/p&gt;
</description>
        </item>
        <item>
        <title>æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„é—®é¢˜| ä¸¢æ¶ˆæ¯| é‡å¤æ¶ˆè´¹| æ¶ˆæ¯ç§¯å‹</title>
        <link>https://lxb.wiki/ff873094/</link>
        <pubDate>Sat, 24 Jul 2021 23:05:09 +0000</pubDate>
        
        <guid>https://lxb.wiki/ff873094/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h1 id=&#34;1-ä¸¢æ¶ˆæ¯&#34;&gt;1. ä¸¢æ¶ˆæ¯&lt;/h1&gt;
&lt;h2 id=&#34;æ£€æµ‹æ¶ˆæ¯ä¸¢å¤±çš„æ–¹æ³•&#34;&gt;æ£€æµ‹æ¶ˆæ¯ä¸¢å¤±çš„æ–¹æ³•&lt;/h2&gt;
&lt;p&gt;ä¸€èˆ¬è€Œè¨€ï¼Œä¸€ä¸ªæ–°çš„ç³»ç»Ÿåˆšåˆšä¸Šçº¿ï¼Œå„æ–¹é¢éƒ½ä¸å¤ªç¨³å®šï¼Œéœ€è¦ä¸€ä¸ªç£¨åˆæœŸï¼Œè¿™ä¸ªæ—¶å€™ï¼Œç‰¹åˆ«éœ€è¦ç›‘æ§åˆ°ä½ çš„ç³»ç»Ÿä¸­æ˜¯å¦æœ‰æ¶ˆæ¯ä¸¢å¤±çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯ IT åŸºç¡€è®¾æ–½æ¯”è¾ƒå®Œå–„çš„å…¬å¸ï¼Œä¸€èˆ¬éƒ½æœ‰åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªç³»ç»Ÿï¼Œä½¿ç”¨ç±»ä¼¼çš„è¿½è¸ªç³»ç»Ÿå¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿½è¸ªæ¯ä¸€æ¡æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥åˆ©ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„æœ‰åºæ€§æ¥éªŒè¯æ˜¯å¦æœ‰æ¶ˆæ¯ä¸¢å¤±ã€‚åŸç†éå¸¸ç®€å•ï¼Œåœ¨ Producer ç«¯ï¼Œæˆ‘ä»¬ç»™æ¯ä¸ªå‘å‡ºçš„æ¶ˆæ¯é™„åŠ ä¸€ä¸ªè¿ç»­é€’å¢çš„åºå·ï¼Œç„¶ååœ¨ Consumer ç«¯æ¥æ£€æŸ¥è¿™ä¸ªåºå·çš„è¿ç»­æ€§ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ²¡æœ‰æ¶ˆæ¯ä¸¢å¤±ï¼ŒConsumer æ”¶åˆ°æ¶ˆæ¯çš„åºå·å¿…ç„¶æ˜¯è¿ç»­é€’å¢çš„ï¼Œæˆ–è€…è¯´æ”¶åˆ°çš„æ¶ˆæ¯ï¼Œå…¶ä¸­çš„åºå·å¿…ç„¶æ˜¯ä¸Šä¸€æ¡æ¶ˆæ¯çš„åºå· +1ã€‚å¦‚æœæ£€æµ‹åˆ°åºå·ä¸è¿ç»­ï¼Œé‚£å°±æ˜¯ä¸¢æ¶ˆæ¯äº†ã€‚è¿˜å¯ä»¥é€šè¿‡ç¼ºå¤±çš„åºå·æ¥ç¡®å®šä¸¢å¤±çš„æ˜¯å“ªæ¡æ¶ˆæ¯ï¼Œæ–¹ä¾¿è¿›ä¸€æ­¥æ’æŸ¥åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;å¤§å¤šæ•°æ¶ˆæ¯é˜Ÿåˆ—çš„å®¢æˆ·ç«¯éƒ½æ”¯æŒæ‹¦æˆªå™¨æœºåˆ¶ï¼Œä½ å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ‹¦æˆªå™¨æœºåˆ¶ï¼Œåœ¨ Producer å‘é€æ¶ˆæ¯ä¹‹å‰çš„æ‹¦æˆªå™¨ä¸­å°†åºå·æ³¨å…¥åˆ°æ¶ˆæ¯ä¸­ï¼Œåœ¨ Consumer æ”¶åˆ°æ¶ˆæ¯çš„æ‹¦æˆªå™¨ä¸­æ£€æµ‹åºå·çš„è¿ç»­æ€§ï¼Œè¿™æ ·å®ç°çš„å¥½å¤„æ˜¯æ¶ˆæ¯æ£€æµ‹çš„ä»£ç ä¸ä¼šä¾µå…¥åˆ°ä½ çš„ä¸šåŠ¡ä»£ç ä¸­ï¼Œå¾…ä½ çš„ç³»ç»Ÿç¨³å®šåï¼Œä¹Ÿæ–¹ä¾¿å°†è¿™éƒ¨åˆ†æ£€æµ‹çš„é€»è¾‘å…³é—­æˆ–è€…åˆ é™¤ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯åœ¨ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­å®ç°è¿™ä¸ªæ£€æµ‹æ–¹æ³•ï¼Œæœ‰å‡ ä¸ªé—®é¢˜éœ€è¦ä½ æ³¨æ„ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œåƒ Kafka å’Œ RocketMQ è¿™æ ·çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå®ƒæ˜¯ä¸ä¿è¯åœ¨ Topic ä¸Šçš„ä¸¥æ ¼é¡ºåºçš„ï¼Œåªèƒ½ä¿è¯åˆ†åŒºä¸Šçš„æ¶ˆæ¯æ˜¯æœ‰åºçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å‘æ¶ˆæ¯çš„æ—¶å€™å¿…é¡»è¦æŒ‡å®šåˆ†åŒºï¼Œå¹¶ä¸”ï¼Œåœ¨æ¯ä¸ªåˆ†åŒºå•ç‹¬æ£€æµ‹æ¶ˆæ¯åºå·çš„è¿ç»­æ€§ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ çš„ç³»ç»Ÿä¸­ Producer æ˜¯å¤šå®ä¾‹çš„ï¼Œç”±äºå¹¶ä¸å¥½åè°ƒå¤šä¸ª Producer ä¹‹é—´çš„å‘é€é¡ºåºï¼Œæ‰€ä»¥ä¹Ÿéœ€è¦æ¯ä¸ª Producer åˆ†åˆ«ç”Ÿæˆå„è‡ªçš„æ¶ˆæ¯åºå·ï¼Œå¹¶ä¸”éœ€è¦é™„åŠ ä¸Š Producer çš„æ ‡è¯†ï¼Œåœ¨ Consumer ç«¯æŒ‰ç…§æ¯ä¸ª Producer åˆ†åˆ«æ¥æ£€æµ‹åºå·çš„è¿ç»­æ€§ã€‚&lt;/p&gt;
&lt;p&gt;Consumer å®ä¾‹çš„æ•°é‡æœ€å¥½å’Œåˆ†åŒºæ•°é‡ä¸€è‡´ï¼Œåšåˆ° Consumer å’Œåˆ†åŒºä¸€ä¸€å¯¹åº”ï¼Œè¿™æ ·ä¼šæ¯”è¾ƒæ–¹ä¾¿åœ°åœ¨ Consumer å†…æ£€æµ‹æ¶ˆæ¯åºå·çš„è¿ç»­æ€§ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç¡®ä¿æ¶ˆæ¯å¯é ä¼ é€’&#34;&gt;ç¡®ä¿æ¶ˆæ¯å¯é ä¼ é€’&lt;/h2&gt;
&lt;p&gt;æ•´ä¸ªæ¶ˆæ¯ä»ç”Ÿäº§åˆ°æ¶ˆè´¹çš„è¿‡ç¨‹ä¸­ï¼Œå“ªäº›åœ°æ–¹å¯èƒ½ä¼šå¯¼è‡´ä¸¢æ¶ˆæ¯ï¼Œä»¥åŠåº”è¯¥å¦‚ä½•é¿å…æ¶ˆæ¯ä¸¢å¤±ã€‚ä¸€æ¡æ¶ˆæ¯ä»ç”Ÿäº§åˆ°æ¶ˆè´¹å®Œæˆè¿™ä¸ªè¿‡ç¨‹ï¼Œå¯ä»¥åˆ’åˆ†ä¸‰ä¸ªé˜¶æ®µ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220224160823.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”Ÿäº§é˜¶æ®µ: åœ¨è¿™ä¸ªé˜¶æ®µï¼Œä»æ¶ˆæ¯åœ¨ Producer åˆ›å»ºå‡ºæ¥ï¼Œç»è¿‡ç½‘ç»œä¼ è¾“å‘é€åˆ° Broker ç«¯ã€‚&lt;/li&gt;
&lt;li&gt;å­˜å‚¨é˜¶æ®µ: åœ¨è¿™ä¸ªé˜¶æ®µï¼Œæ¶ˆæ¯åœ¨ Broker ç«¯å­˜å‚¨ï¼Œå¦‚æœæ˜¯é›†ç¾¤ï¼Œæ¶ˆæ¯ä¼šåœ¨è¿™ä¸ªé˜¶æ®µè¢«å¤åˆ¶åˆ°å…¶ä»–çš„å‰¯æœ¬ä¸Šã€‚&lt;/li&gt;
&lt;li&gt;æ¶ˆè´¹é˜¶æ®µ: åœ¨è¿™ä¸ªé˜¶æ®µï¼ŒConsumer ä» Broker ä¸Šæ‹‰å–æ¶ˆæ¯ï¼Œç»è¿‡ç½‘ç»œä¼ è¾“å‘é€åˆ° Consumer ä¸Šã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;1-ç”Ÿäº§é˜¶æ®µ&#34;&gt;1. ç”Ÿäº§é˜¶æ®µ&lt;/h3&gt;
&lt;p&gt;åœ¨ç”Ÿäº§é˜¶æ®µï¼Œæ¶ˆæ¯é˜Ÿåˆ—é€šè¿‡æœ€å¸¸ç”¨çš„è¯·æ±‚ç¡®è®¤æœºåˆ¶ï¼Œæ¥ä¿è¯æ¶ˆæ¯çš„å¯é ä¼ é€’ï¼šå½“ä½ çš„ä»£ç è°ƒç”¨å‘æ¶ˆæ¯æ–¹æ³•æ—¶ï¼Œæ¶ˆæ¯é˜Ÿåˆ—çš„å®¢æˆ·ç«¯ä¼šæŠŠæ¶ˆæ¯å‘é€åˆ° Brokerï¼ŒBroker æ”¶åˆ°æ¶ˆæ¯åï¼Œä¼šç»™å®¢æˆ·ç«¯è¿”å›ä¸€ä¸ªç¡®è®¤å“åº”ï¼Œè¡¨æ˜æ¶ˆæ¯å·²ç»æ”¶åˆ°äº†ã€‚å®¢æˆ·ç«¯æ”¶åˆ°å“åº”åï¼Œå®Œæˆäº†ä¸€æ¬¡æ­£å¸¸æ¶ˆæ¯çš„å‘é€ã€‚&lt;/p&gt;
&lt;p&gt;åªè¦ Producer æ”¶åˆ°äº† Broker çš„ç¡®è®¤å“åº”ï¼Œå°±å¯ä»¥ä¿è¯æ¶ˆæ¯åœ¨ç”Ÿäº§é˜¶æ®µä¸ä¼šä¸¢å¤±ã€‚æœ‰äº›æ¶ˆæ¯é˜Ÿåˆ—åœ¨é•¿æ—¶é—´æ²¡æ”¶åˆ°å‘é€ç¡®è®¤å“åº”åï¼Œä¼šè‡ªåŠ¨é‡è¯•ï¼Œå¦‚æœé‡è¯•å†å¤±è´¥ï¼Œå°±ä¼šä»¥è¿”å›å€¼æˆ–è€…å¼‚å¸¸çš„æ–¹å¼å‘ŠçŸ¥ç”¨æˆ·ã€‚&lt;/p&gt;
&lt;p&gt;ä½ åœ¨ç¼–å†™å‘é€æ¶ˆæ¯ä»£ç æ—¶ï¼Œéœ€è¦æ³¨æ„ï¼Œæ­£ç¡®å¤„ç†è¿”å›å€¼æˆ–è€…æ•è·å¼‚å¸¸ï¼Œå°±å¯ä»¥ä¿è¯è¿™ä¸ªé˜¶æ®µçš„æ¶ˆæ¯ä¸ä¼šä¸¢å¤±ã€‚ä»¥ Kafka ä¸ºä¾‹ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹å¦‚ä½•å¯é åœ°å‘é€æ¶ˆæ¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åŒæ­¥å‘é€æ—¶ï¼Œåªè¦æ³¨æ„æ•è·å¼‚å¸¸å³å¯&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    RecordMetadata metadata &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; producer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;send(record)&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;get();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;out&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;println(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34; æ¶ˆæ¯å‘é€æˆåŠŸã€‚&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} catch (Throwable e) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;out&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;println(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34; æ¶ˆæ¯å‘é€å¤±è´¥ï¼&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;out&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;println(e);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;å¼‚æ­¥å‘é€æ—¶ï¼Œåˆ™éœ€è¦åœ¨å›è°ƒæ–¹æ³•é‡Œè¿›è¡Œæ£€æŸ¥ã€‚è¿™ä¸ªåœ°æ–¹æ˜¯éœ€è¦ç‰¹åˆ«æ³¨æ„çš„ï¼Œå¾ˆå¤šä¸¢æ¶ˆæ¯çš„åŸå› å°±æ˜¯ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†å¼‚æ­¥å‘é€ï¼Œå´æ²¡æœ‰åœ¨å›è°ƒä¸­æ£€æŸ¥å‘é€ç»“æœã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;producer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;send(record, (metadata, exception) &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (metadata &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; null) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;out&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;println(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34; æ¶ˆæ¯å‘é€æˆåŠŸã€‚&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;out&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;println(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34; æ¶ˆæ¯å‘é€å¤±è´¥ï¼&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;out&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;println(exception);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;2-å­˜å‚¨é˜¶æ®µ&#34;&gt;2. å­˜å‚¨é˜¶æ®µ&lt;/h3&gt;
&lt;p&gt;åœ¨å­˜å‚¨é˜¶æ®µæ­£å¸¸æƒ…å†µä¸‹ï¼Œåªè¦ Broker åœ¨æ­£å¸¸è¿è¡Œï¼Œå°±ä¸ä¼šå‡ºç°ä¸¢å¤±æ¶ˆæ¯çš„é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœ Broker å‡ºç°äº†æ•…éšœï¼Œæ¯”å¦‚è¿›ç¨‹æ­»æ‰äº†æˆ–è€…æœåŠ¡å™¨å®•æœºäº†ï¼Œè¿˜æ˜¯å¯èƒ½ä¼šä¸¢å¤±æ¶ˆæ¯çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœå¯¹æ¶ˆæ¯çš„å¯é æ€§è¦æ±‚éå¸¸é«˜ï¼Œå¯ä»¥é€šè¿‡é…ç½® Broker å‚æ•°æ¥é¿å…å› ä¸ºå®•æœºä¸¢æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå•ä¸ªèŠ‚ç‚¹çš„ Brokerï¼Œéœ€è¦é…ç½® Broker å‚æ•°ï¼Œåœ¨æ”¶åˆ°æ¶ˆæ¯åï¼Œ&lt;strong&gt;å°†æ¶ˆæ¯å†™å…¥ç£ç›˜åå†ç»™ Producer è¿”å›ç¡®è®¤å“åº”ï¼Œè¿™æ ·å³ä½¿å‘ç”Ÿå®•æœºï¼Œç”±äºæ¶ˆæ¯å·²ç»è¢«å†™å…¥ç£ç›˜ï¼Œå°±ä¸ä¼šä¸¢å¤±æ¶ˆæ¯&lt;/strong&gt;ï¼Œæ¢å¤åè¿˜å¯ä»¥ç»§ç»­æ¶ˆè´¹ã€‚ä¾‹å¦‚ï¼Œåœ¨ RocketMQ ä¸­ï¼Œéœ€è¦å°†åˆ·ç›˜æ–¹å¼ flushDiskType é…ç½®ä¸º SYNC_FLUSH åŒæ­¥åˆ·ç›˜ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯ Broker æ˜¯ç”±å¤šä¸ªèŠ‚ç‚¹ç»„æˆçš„é›†ç¾¤ï¼Œéœ€è¦å°† Broker é›†ç¾¤é…ç½®æˆï¼š&lt;strong&gt;è‡³å°‘å°†æ¶ˆæ¯å‘é€åˆ° 2 ä¸ªä»¥ä¸Šçš„èŠ‚ç‚¹ï¼Œå†ç»™å®¢æˆ·ç«¯å›å¤å‘é€ç¡®è®¤å“åº”&lt;/strong&gt;ã€‚è¿™æ ·å½“æŸä¸ª Broker å®•æœºæ—¶ï¼Œå…¶ä»–çš„ Broker å¯ä»¥æ›¿ä»£å®•æœºçš„ Brokerï¼Œä¹Ÿä¸ä¼šå‘ç”Ÿæ¶ˆæ¯ä¸¢å¤±ã€‚æ¶ˆæ¯é˜Ÿåˆ—&lt;strong&gt;é€šè¿‡æ¶ˆæ¯å¤åˆ¶æ¥ç¡®ä¿æ¶ˆæ¯çš„å¯é æ€§çš„&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;3-æ¶ˆè´¹é˜¶æ®µ&#34;&gt;3. æ¶ˆè´¹é˜¶æ®µ&lt;/h3&gt;
&lt;p&gt;æ¶ˆè´¹é˜¶æ®µé‡‡ç”¨å’Œç”Ÿäº§é˜¶æ®µç±»ä¼¼çš„ç¡®è®¤æœºåˆ¶æ¥ä¿è¯æ¶ˆæ¯çš„å¯é ä¼ é€’ï¼Œå®¢æˆ·ç«¯ä» Broker æ‹‰å–æ¶ˆæ¯åï¼Œæ‰§è¡Œç”¨æˆ·çš„æ¶ˆè´¹ä¸šåŠ¡é€»è¾‘ï¼ŒæˆåŠŸåï¼Œæ‰ä¼šç»™ Broker å‘é€æ¶ˆè´¹ç¡®è®¤å“åº”ã€‚å¦‚æœ Broker æ²¡æœ‰æ”¶åˆ°æ¶ˆè´¹ç¡®è®¤å“åº”ï¼Œä¸‹&lt;/p&gt;
&lt;p&gt;æ¬¡æ‹‰æ¶ˆæ¯çš„æ—¶å€™è¿˜ä¼šè¿”å›åŒä¸€æ¡æ¶ˆæ¯ï¼Œç¡®ä¿æ¶ˆæ¯ä¸ä¼šåœ¨ç½‘ç»œä¼ è¾“è¿‡ç¨‹ä¸­ä¸¢å¤±ï¼Œä¹Ÿä¸ä¼šå› ä¸ºå®¢æˆ·ç«¯åœ¨æ‰§è¡Œæ¶ˆè´¹é€»è¾‘ä¸­å‡ºé”™å¯¼è‡´ä¸¢å¤±ã€‚&lt;/p&gt;
&lt;p&gt;ä½ åœ¨ç¼–å†™æ¶ˆè´¹ä»£ç æ—¶éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸è¦åœ¨æ”¶åˆ°æ¶ˆæ¯åå°±ç«‹å³å‘é€æ¶ˆè´¹ç¡®è®¤ï¼Œè€Œæ˜¯åº”è¯¥&lt;strong&gt;åœ¨æ‰§è¡Œå®Œæ‰€æœ‰æ¶ˆè´¹ä¸šåŠ¡é€»è¾‘ä¹‹åï¼Œå†å‘é€æ¶ˆè´¹ç¡®è®¤&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ ·ï¼Œæˆ‘ä»¬ä»¥ç”¨ Python è¯­è¨€æ¶ˆè´¹ RabbitMQ æ¶ˆæ¯ä¸ºä¾‹ï¼Œæ¥çœ‹ä¸€ä¸‹å¦‚ä½•å®ç°ä¸€æ®µå¯é çš„æ¶ˆè´¹ä»£ç ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;callback&lt;/span&gt;(ch, method, properties, body):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    print(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34; [x] æ”¶åˆ°æ¶ˆæ¯ &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; body)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# åœ¨è¿™å„¿å¤„ç†æ”¶åˆ°çš„æ¶ˆæ¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    database&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;save(body)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    print(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34; [x] æ¶ˆè´¹å®Œæˆ &amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# å®Œæˆæ¶ˆè´¹ä¸šåŠ¡é€»è¾‘åå‘é€æ¶ˆè´¹ç¡®è®¤å“åº”&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ch&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;basic_ack(delivery_tag &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; method&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;delivery_tag)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;channel&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;basic_consume(queue&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;hello&amp;#39;&lt;/span&gt;, on_message_callback&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;callback)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨æ¶ˆè´¹çš„å›è°ƒæ–¹æ³• callback ä¸­ï¼Œæ­£ç¡®çš„é¡ºåºå…ˆæ˜¯æŠŠæ¶ˆæ¯ä¿å­˜åˆ°æ•°æ®åº“ï¼Œç„¶åå†å‘é€æ¶ˆè´¹ç¡®è®¤å“åº”ã€‚è¿™æ ·å¦‚æœä¿å­˜æ¶ˆæ¯åˆ°æ•°æ®åº“å¤±è´¥äº†ï¼Œå°±ä¸ä¼šæ‰§è¡Œæ¶ˆè´¹ç¡®è®¤çš„ä»£ç ï¼Œä¸‹æ¬¡æ‹‰åˆ°çš„è¿˜æ˜¯è¿™æ¡æ¶ˆæ¯ï¼Œç›´åˆ°æ¶ˆè´¹æˆåŠŸã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸¤ä¸ªæ¶ˆè´¹è€…å…ˆåå»æ‹‰æ¶ˆæ¯æ˜¯å¦èƒ½æ‹‰åˆ°åŒä¸€æ¡æ¶ˆæ¯ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œæ¶ˆæ¯é˜Ÿåˆ—ä¸€èˆ¬éƒ½ä¼šæœ‰&lt;strong&gt;åè°ƒæœºåˆ¶&lt;/strong&gt;ï¼Œä¸ä¼šè®©è¿™ç§æƒ…å†µå‡ºç°ï¼Œä½†æ˜¯ç”±äºç½‘ç»œä¸ç¡®å®šæ€§ï¼Œè¿™ç§æƒ…å†µè¿˜æ˜¯åœ¨æå°æ¦‚ç‡ä¸‹ä¼šå‡ºç°çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨åŒä¸€ä¸ªæ¶ˆè´¹ç»„å†…ï¼ŒAæ¶ˆè´¹è€…æ‹‰èµ°äº†index=10çš„è¿™æ¡æ¶ˆæ¯ï¼Œè¿˜æ²¡è¿”å›ç¡®è®¤ï¼Œè¿™æ—¶å€™è¿™ä¸ªåˆ†åŒºçš„æ¶ˆè´¹ä½ç½®è¿˜æ˜¯10ï¼ŒBæ¶ˆè´¹è€…æ¥æ‹‰æ¶ˆæ¯ï¼Œå¯èƒ½æœ‰2ç§æƒ…å†µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;\1. è¶…æ—¶å‰ï¼ŒBrokerè®¤ä¸ºè¿™ä¸ªåˆ†åŒºè¿˜è¢«Aå ç”¨ç€ï¼Œä¼šæ‹’ç»Bçš„è¯·æ±‚ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;\2. è¶…æ—¶åï¼ŒBrokerè®¤ä¸ºAå·²ç»è¶…æ—¶æ²¡è¿”å›ï¼Œè¿™æ¬¡æ¶ˆè´¹å¤±è´¥ï¼Œå½“å‰æ¶ˆè´¹ä½ç½®è¿˜æ˜¯10ï¼ŒBå†æ¥æ‹‰æ¶ˆæ¯ï¼Œä¼šç»™å®ƒè¿”å›10è¿™æ¡æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ç”Ÿäº§é˜¶æ®µï¼Œä½ éœ€è¦æ•è·æ¶ˆæ¯å‘é€çš„é”™è¯¯ï¼Œå¹¶é‡å‘æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨å­˜å‚¨é˜¶æ®µï¼Œä½ å¯ä»¥é€šè¿‡é…ç½®åˆ·ç›˜å’Œå¤åˆ¶ç›¸å…³çš„å‚æ•°ï¼Œè®©æ¶ˆæ¯å†™å…¥åˆ°å¤šä¸ªå‰¯æœ¬çš„ç£ç›˜ä¸Šï¼Œæ¥ç¡®ä¿æ¶ˆæ¯ä¸ä¼šå› ä¸ºæŸä¸ª Broker å®•æœºæˆ–è€…ç£ç›˜æŸåè€Œä¸¢å¤±ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨æ¶ˆè´¹é˜¶æ®µï¼Œä½ éœ€è¦åœ¨å¤„ç†å®Œå…¨éƒ¨æ¶ˆè´¹ä¸šåŠ¡é€»è¾‘ä¹‹åï¼Œå†å‘é€æ¶ˆè´¹ç¡®è®¤ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½ åœ¨ç†è§£äº†è¿™å‡ ä¸ªé˜¶æ®µçš„åŸç†åï¼Œå¦‚æœå†å‡ºç°ä¸¢æ¶ˆæ¯çš„æƒ…å†µï¼Œåº”è¯¥å¯ä»¥é€šè¿‡åœ¨ä»£ç ä¸­åŠ ä¸€äº›æ—¥å¿—çš„æ–¹å¼ï¼Œå¾ˆå¿«å®šä½åˆ°æ˜¯å“ªä¸ªé˜¶æ®µå‡ºäº†é—®é¢˜ï¼Œç„¶åå†è¿›ä¸€æ­¥æ·±å…¥åˆ†æï¼Œå¿«é€Ÿæ‰¾åˆ°é—®é¢˜åŸå› ã€‚&lt;/p&gt;
&lt;h1 id=&#34;2-é‡å¤æ¶ˆæ¯&#34;&gt;2. é‡å¤æ¶ˆæ¯&lt;/h1&gt;
&lt;p&gt;åœ¨æ¶ˆæ¯ä¼ é€’è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå‡ºç°ä¼ é€’å¤±è´¥çš„æƒ…å†µï¼Œå‘é€æ–¹ä¼šæ‰§è¡Œé‡è¯•ï¼Œé‡è¯•çš„è¿‡ç¨‹ä¸­å°±æœ‰å¯èƒ½ä¼šäº§ç”Ÿé‡å¤çš„æ¶ˆæ¯ã€‚å¯¹ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„ä¸šåŠ¡ç³»ç»Ÿæ¥è¯´ï¼Œå¦‚æœæ²¡æœ‰å¯¹é‡å¤æ¶ˆæ¯è¿›è¡Œå¤„ç†ï¼Œå°±æœ‰å¯èƒ½ä¼šå¯¼è‡´ç³»ç»Ÿçš„æ•°æ®å‡ºç°é”™è¯¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ¶ˆæ¯é‡å¤çš„æƒ…å†µå¿…ç„¶å­˜åœ¨&#34;&gt;æ¶ˆæ¯é‡å¤çš„æƒ…å†µå¿…ç„¶å­˜åœ¨&lt;/h2&gt;
&lt;p&gt;åœ¨ &lt;strong&gt;MQTT åè®®&lt;/strong&gt;ä¸­ï¼Œç»™å‡ºäº†ä¸‰ç§ä¼ é€’æ¶ˆæ¯æ—¶èƒ½å¤Ÿæä¾›çš„æœåŠ¡è´¨é‡æ ‡å‡†ï¼Œè¿™ä¸‰ç§æœåŠ¡è´¨é‡ä»ä½åˆ°é«˜ä¾æ¬¡æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;At most once: è‡³å¤šä¸€æ¬¡ã€‚æ¶ˆæ¯åœ¨ä¼ é€’æ—¶ï¼Œæœ€å¤šä¼šè¢«é€è¾¾ä¸€æ¬¡ã€‚æ¢ä¸€ä¸ªè¯´æ³•å°±æ˜¯ï¼Œæ²¡ä»€ä¹ˆæ¶ˆæ¯å¯é æ€§ä¿è¯ï¼Œå…è®¸ä¸¢æ¶ˆæ¯ã€‚ä¸€èˆ¬éƒ½æ˜¯ä¸€äº›å¯¹æ¶ˆæ¯å¯é æ€§è¦æ±‚ä¸å¤ªé«˜çš„ç›‘æ§åœºæ™¯ä½¿ç”¨ï¼Œæ¯”å¦‚æ¯åˆ†é’Ÿä¸ŠæŠ¥ä¸€æ¬¡æœºæˆ¿æ¸©åº¦æ•°æ®ï¼Œå¯ä»¥æ¥å—æ•°æ®å°‘é‡ä¸¢å¤±ã€‚&lt;/li&gt;
&lt;li&gt;At least once: è‡³å°‘ä¸€æ¬¡ã€‚æ¶ˆæ¯åœ¨ä¼ é€’æ—¶ï¼Œè‡³å°‘ä¼šè¢«é€è¾¾ä¸€æ¬¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å…è®¸ä¸¢æ¶ˆæ¯ï¼Œä½†æ˜¯å…è®¸æœ‰å°‘é‡é‡å¤æ¶ˆæ¯å‡ºç°ã€‚&lt;/li&gt;
&lt;li&gt;Exactly onceï¼šæ°å¥½ä¸€æ¬¡ã€‚æ¶ˆæ¯åœ¨ä¼ é€’æ—¶ï¼Œåªä¼šè¢«é€è¾¾ä¸€æ¬¡ï¼Œä¸å…è®¸ä¸¢å¤±ä¹Ÿä¸å…è®¸é‡å¤ï¼Œè¿™ä¸ªæ˜¯æœ€é«˜çš„ç­‰çº§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ä¸ªæœåŠ¡è´¨é‡æ ‡å‡†ä¸ä»…é€‚ç”¨äº MQTTï¼Œå¯¹æ‰€æœ‰çš„æ¶ˆæ¯é˜Ÿåˆ—éƒ½æ˜¯é€‚ç”¨çš„ã€‚æˆ‘ä»¬&lt;strong&gt;ç°åœ¨å¸¸ç”¨çš„ç»å¤§éƒ¨åˆ†æ¶ˆæ¯é˜Ÿåˆ—æä¾›çš„æœåŠ¡è´¨é‡éƒ½æ˜¯ At least onceï¼ŒåŒ…æ‹¬ RocketMQã€RabbitMQ å’Œ Kafka éƒ½æ˜¯è¿™æ ·ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¶ˆæ¯&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é˜Ÿ****åˆ—å¾ˆéš¾ä¿è¯æ¶ˆæ¯ä¸é‡å¤ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Kafka æ”¯æŒçš„â€œExactly onceâ€å’Œæˆ‘ä»¬åˆšåˆšæåˆ°çš„æ¶ˆæ¯ä¼ é€’çš„æœåŠ¡è´¨é‡æ ‡å‡†â€œExactly onceâ€æ˜¯ä¸ä¸€æ ·çš„ï¼Œå®ƒæ˜¯ Kafka æä¾›çš„å¦å¤–ä¸€ä¸ªç‰¹æ€§ï¼ŒKafka ä¸­æ”¯æŒçš„äº‹åŠ¡ä¹Ÿå’Œæˆ‘ä»¬é€šå¸¸æ„ä¹‰ç†è§£çš„äº‹åŠ¡æœ‰ä¸€å®šçš„å·®å¼‚ã€‚åœ¨ Kafka&lt;/p&gt;
&lt;p&gt;ä¸­ï¼Œ&lt;strong&gt;äº‹åŠ¡å’Œ Excactly once ä¸»è¦æ˜¯ä¸ºäº†é…åˆæµè®¡ç®—ä½¿ç”¨çš„ç‰¹æ€§&lt;/strong&gt;ã€‚å·§å¦™åœ°ç”¨äº†ä¸¤ä¸ªæ‰€æœ‰äººéƒ½éå¸¸ç†Ÿæ‚‰çš„æ¦‚å¿µâ€œäº‹åŠ¡â€å’Œâ€œExactly onceâ€æ¥åŒ…è£…å®ƒçš„æ–°çš„ç‰¹æ€§ï¼Œå®é™…ä¸Šå®ƒå®ç°çš„è¿™ä¸ªäº‹åŠ¡å’Œ Exactly once å¹¶ä¸æ˜¯æˆ‘ä»¬é€šå¸¸&lt;/p&gt;
&lt;p&gt;ç†è§£çš„é‚£ä¸¤ä¸ªç‰¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆå¤§éƒ¨åˆ†æ¶ˆæ¯é˜Ÿåˆ—éƒ½é€‰æ‹©åªæä¾› At least once çš„æœåŠ¡è´¨é‡ï¼Œè€Œä¸æ˜¯çº§åˆ«æ›´é«˜çš„ Exactly onceï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è§£å†³ä¸€ä¸ªé—®é¢˜ï¼Œå¾€å¾€ä¼šå¼•å‘åˆ«çš„é—®é¢˜ã€‚è‹¥æ¶ˆæ¯é˜Ÿåˆ—å®ç°äº†exactly onceï¼Œä¼šå¼•å‘çš„é—®é¢˜æœ‰ï¼š&lt;/p&gt;
&lt;p&gt;â‘ æ¶ˆè´¹ç«¯åœ¨pullæ¶ˆæ¯æ—¶ï¼Œéœ€è¦æ£€æµ‹æ­¤æ¶ˆæ¯æ˜¯å¦è¢«æ¶ˆè´¹ï¼Œè¿™ä¸ªæ£€æµ‹æœºåˆ¶æ— ç–‘ä¼šæ‹‰ä½æ¶ˆæ¯æ¶ˆè´¹çš„é€Ÿåº¦ã€‚å¯ä»¥é¢„æƒ³åˆ°ï¼Œéšç€æ¶ˆæ¯çš„å‰§å¢ï¼Œæ¶ˆè´¹æ€§èƒ½åŠ¿å¿…ä¼šæ€¥å‰§ä¸‹é™ï¼Œå¯¼è‡´æ¶ˆæ¯ç§¯å‹ï¼›&lt;/p&gt;
&lt;p&gt;â‘¡æ£€æŸ¥æœºåˆ¶è¿˜éœ€è¦ä¸šåŠ¡ç«¯å»é…åˆå®ç°ï¼Œè‹¥ä¸€æ¡æ¶ˆæ¯é•¿æ—¶é—´æœªè¿”å›ackï¼Œæ¶ˆæ¯é˜Ÿåˆ—éœ€è¦å»å›è°ƒçœ‹ä¸‹æ¶ˆè´¹ç»“æœï¼ˆè¿™ä¸ªç±»ä¼¼äºäº‹ç‰©æ¶ˆæ¯çš„å›æŸ¥æœºåˆ¶ï¼‰ã€‚è¿™æ ·å°±ä¼šå¢åŠ ä¸šåŠ¡ç«¯çš„å‹åŠ›ï¼Œä¸å¾ˆå¤šçš„æœªçŸ¥å› ç´ ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ä¸å®ç°exactly onceï¼Œè€Œæ˜¯at least once + å¹‚ç­‰æ€§ï¼Œè¿™ä¸ªå¹‚ç­‰æ€§è®©ç»™æˆ‘ä»¬å»å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;æœ€é‡è¦çš„åŸå› æ˜¯æ¶ˆæ¯é˜Ÿåˆ—å³ä½¿åšåˆ°äº†Exactly onceçº§åˆ«ï¼Œconsumerä¹Ÿè¿˜æ˜¯è¦åšå¹‚ç­‰ã€‚å› ä¸ºåœ¨consumerä»æ¶ˆæ¯é˜Ÿåˆ—å–æ¶ˆæ¯è¿™é‡Œï¼Œå¦‚æœconsumeræ¶ˆè´¹æˆåŠŸï¼Œä½†æ˜¯ackå¤±è´¥ï¼Œconsumerè¿˜æ˜¯ä¼šå–åˆ°é‡å¤çš„æ¶ˆæ¯ï¼Œæ‰€ä»¥æ¶ˆ&lt;/p&gt;
&lt;p&gt;æ¯é˜Ÿåˆ—èŠ±å¤§åŠ›æ°”åšæˆExactly onceå¹¶ä¸èƒ½è§£å†³ä¸šåŠ¡ä¾§æ¶ˆæ¯é‡å¤çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;1ã€At least once + å¹‚ç­‰æ¶ˆè´¹ = Exactly onceï¼Œæ‰€ä»¥å¯¹äºæ¶ˆæ¯é˜Ÿåˆ—æ¥è®²ï¼Œè¦åšåˆ°Exactly onceï¼Œå…¶å®æ˜¯éœ€æ¶ˆè´¹ç«¯çš„å…±åŒé…åˆï¼ˆå¹‚ç­‰æ¶ˆè´¹ï¼‰æ‰å¯å®Œæˆï¼Œæ¶ˆæ¯é˜Ÿåˆ—åŸºæœ¬åªæä¾›At least onceçš„å®ç°ï¼›&lt;/p&gt;
&lt;p&gt;2ã€ä»ç»™çš„å‡ ç§å¹‚ç­‰æ¶ˆè´¹çš„æ–¹æ¡ˆçœ‹ï¼Œéœ€è¦å¼•å…¥æ•°æ®åº“ã€æ¡ä»¶æ›´æ–°ã€åˆ†å¸ƒå¼äº‹åŠ¡æˆ–é”ç­‰é¢å¤–è¾…åŠ©ï¼Œæ¶ˆæ¯é˜Ÿåˆ—å¦‚æœéœ€è¦ä¿éšœExactly onceï¼Œä¼šå¯¼è‡´æ¶ˆè´¹ç«¯ä»£ç ä¾µå…¥ï¼Œä¾‹å¦‚éœ€è¦æ¶ˆè´¹ç«¯å¢åŠ æ¶ˆæ¯é˜Ÿåˆ—ç”¨æ¥å¤„ç†å¹‚ç­‰çš„client&lt;/p&gt;
&lt;p&gt;ç«¯ï¼Œè€Œæ¶ˆè´¹ç«¯çš„å½¢æ€å¯æ˜¯å¤ªå¤šäº†ï¼Œå…¼å®¹é€‚é…å·¥ä½œé‡å·¨å¤§ã€‚æ•…è¿™ä¸ªExactly onceç•™ç»™ç”¨æˆ·è‡ªå·±å¤„ç†ï¼Œå¹¶ä¸”å…·æœ‰é€‰æ‹©æƒï¼Œæ¯•ç«Ÿä¸æ˜¯æ‰€æœ‰ä¸šåŠ¡åœºæ™¯éƒ½éœ€è¦Exactly onceï¼Œä¾‹å¦‚æœºæˆ¿æ¸©åº¦ä¸ŠæŠ¥çš„æ¡ˆä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¦‚æœé˜Ÿåˆ—çš„å®ç°æ˜¯At least onceï¼Œä½†æ˜¯ä¸ºäº†ç¡®ä¿æ¶ˆæ¯ä¸ä¸¢å¤±ï¼ŒBroker Serviceä¼šè¿›è¡Œä¸€å®šçš„é‡è¯•ï¼Œä½†æ˜¯ä¸å¯èƒ½ä¸€ç›´é‡è¯•ï¼Œå¦‚æœä¸€ç›´é‡è¯•å¤±è´¥æ€ä¹ˆå¤„ç†äº†ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æœ‰çš„æ¶ˆæ¯é˜Ÿåˆ—ä¼šæœ‰ä¸€ä¸ªç‰¹æ®Šçš„é˜Ÿåˆ—æ¥ä¿å­˜è¿™äº›æ€»æ˜¯æ¶ˆè´¹å¤±è´¥çš„â€œåæ¶ˆæ¯â€ï¼Œç„¶åç»§ç»­æ¶ˆè´¹ä¹‹åçš„æ¶ˆæ¯ï¼Œé¿å…åæ¶ˆæ¯å¡æ­»é˜Ÿåˆ—ã€‚è¿™ç§åæ¶ˆæ¯ä¸€èˆ¬ä¸ä¼šæ˜¯å› ä¸ºç½‘ç»œåŸå› æˆ–è€…æ¶ˆè´¹è€…æ­»æ‰å¯¼è‡´çš„ï¼Œå¤§å¤šéƒ½æ˜¯æ¶ˆæ¯æ•°æ®æœ¬èº«æœ‰&lt;/p&gt;
&lt;p&gt;é—®é¢˜ï¼Œæ¶ˆè´¹è€…çš„ä¸šåŠ¡é€»è¾‘å¤„ç†ä¸äº†å¯¼è‡´çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç”¨å¹‚ç­‰æ€§è§£å†³é‡å¤æ¶ˆæ¯é—®é¢˜&#34;&gt;ç”¨å¹‚ç­‰æ€§è§£å†³é‡å¤æ¶ˆæ¯é—®é¢˜&lt;/h2&gt;
&lt;p&gt;ä¸€èˆ¬è§£å†³é‡å¤æ¶ˆæ¯çš„åŠæ³•æ˜¯ï¼Œåœ¨æ¶ˆè´¹ç«¯ï¼Œè®©æˆ‘ä»¬æ¶ˆè´¹æ¶ˆæ¯çš„æ“ä½œå…·å¤‡å¹‚ç­‰æ€§ã€‚&lt;/p&gt;
&lt;p&gt;å¹‚ç­‰ï¼ˆIdempotenceï¼‰æ˜¯ä¸€ä¸ªæ•°å­¦ä¸Šçš„æ¦‚å¿µï¼Œå®ƒæ˜¯è¿™æ ·å®šä¹‰çš„ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å¦‚æœä¸€ä¸ªå‡½æ•° f(x) æ»¡è¶³ï¼šf(f(x)) = f(x)ï¼Œåˆ™å‡½æ•° f(x) æ»¡è¶³å¹‚ç­‰æ€§ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™ä¸ªæ¦‚å¿µè¢«æ‹“å±•åˆ°è®¡ç®—æœºé¢†åŸŸï¼Œè¢«ç”¨æ¥æè¿°ä¸€ä¸ªæ“ä½œã€æ–¹æ³•æˆ–è€…æœåŠ¡ã€‚ä¸€ä¸ªå¹‚ç­‰æ“ä½œçš„ç‰¹ç‚¹æ˜¯ï¼Œ&lt;strong&gt;å…¶ä»»æ„å¤šæ¬¡æ‰§è¡Œæ‰€äº§ç”Ÿçš„å½±å“å‡ä¸ä¸€æ¬¡æ‰§è¡Œçš„å½±å“ç›¸åŒã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸€ä¸ªå¹‚ç­‰çš„æ–¹æ³•ï¼Œä½¿ç”¨åŒæ ·çš„å‚æ•°ï¼Œå¯¹å®ƒè¿›è¡Œå¤šæ¬¡è°ƒç”¨å’Œä¸€æ¬¡è°ƒç”¨ï¼Œå¯¹ç³»ç»Ÿäº§ç”Ÿçš„å½±å“æ˜¯ä¸€æ ·çš„ã€‚æ‰€ä»¥ï¼Œå¯¹äºå¹‚ç­‰çš„æ–¹æ³•ï¼Œä¸ç”¨æ‹…å¿ƒé‡å¤æ‰§è¡Œä¼šå¯¹ç³»ç»Ÿé€ æˆä»»ä½•æ”¹å˜ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚åœ¨ä¸è€ƒè™‘å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œâ€œå°†è´¦æˆ· X çš„ä½™é¢è®¾ç½®ä¸º 100 å…ƒâ€ï¼Œæ‰§è¡Œä¸€æ¬¡åå¯¹ç³»ç»Ÿçš„å½±å“æ˜¯ï¼Œè´¦æˆ· X çš„ä½™é¢å˜æˆäº† 100 å…ƒã€‚åªè¦æä¾›çš„å‚æ•° 100 å…ƒä¸å˜ï¼Œé‚£å³ä½¿å†æ‰§è¡Œå¤šå°‘æ¬¡ï¼Œè´¦æˆ· X çš„ä½™é¢å§‹ç»ˆéƒ½æ˜¯ 100 å…ƒï¼Œ&lt;/p&gt;
&lt;p&gt;ä¸ä¼šå˜åŒ–ï¼Œè¿™ä¸ªæ“ä½œå°±æ˜¯ä¸€ä¸ªå¹‚ç­‰çš„æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;å†æ¯”å¦‚â€œå°†è´¦æˆ· X çš„ä½™é¢åŠ  100 å…ƒâ€ï¼Œè¿™ä¸ªæ“ä½œå®ƒå°±ä¸æ˜¯å¹‚ç­‰çš„ï¼Œæ¯æ‰§è¡Œä¸€æ¬¡ï¼Œè´¦æˆ·ä½™é¢å°±ä¼šå¢åŠ  100 å…ƒï¼Œæ‰§è¡Œå¤šæ¬¡å’Œæ‰§è¡Œä¸€æ¬¡å¯¹ç³»ç»Ÿçš„å½±å“ï¼ˆä¹Ÿå°±æ˜¯è´¦æˆ·çš„ä½™é¢ï¼‰æ˜¯ä¸ä¸€æ ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬ç³»ç»Ÿ&lt;strong&gt;æ¶ˆè´¹æ¶ˆæ¯çš„ä¸šåŠ¡é€»è¾‘å…·å¤‡å¹‚ç­‰æ€§&lt;/strong&gt;ï¼Œé‚£å°±ä¸ç”¨æ‹…å¿ƒæ¶ˆæ¯é‡å¤çš„é—®é¢˜äº†ï¼Œå› ä¸º&lt;strong&gt;åŒä¸€æ¡æ¶ˆæ¯ï¼Œæ¶ˆè´¹ä¸€æ¬¡å’Œæ¶ˆè´¹å¤šæ¬¡å¯¹ç³»ç»Ÿçš„å½±å“æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚ä¹Ÿå°±å¯ä»¥è®¤ä¸ºï¼Œæ¶ˆè´¹å¤šæ¬¡ç­‰äºæ¶ˆè´¹ä¸€æ¬¡ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä»å¯¹ç³»ç»Ÿçš„å½±å“ç»“æœæ¥è¯´ï¼šAt least once + å¹‚ç­‰æ¶ˆè´¹ = Exactly onceã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆå¦‚ä½•å®ç°å¹‚ç­‰æ“ä½œå‘¢ï¼Ÿæœ€å¥½çš„æ–¹å¼å°±æ˜¯ï¼Œä»ä¸šåŠ¡é€»è¾‘è®¾è®¡ä¸Šå…¥æ‰‹ï¼Œå°†æ¶ˆè´¹çš„ä¸šåŠ¡é€»è¾‘è®¾è®¡æˆå…·å¤‡å¹‚ç­‰æ€§çš„æ“ä½œã€‚ä½†æ˜¯ï¼Œä¸æ˜¯æ‰€æœ‰çš„ä¸šåŠ¡éƒ½èƒ½è®¾è®¡æˆå¤©ç„¶å¹‚ç­‰çš„ï¼Œè¿™é‡Œå°±éœ€è¦ä¸€äº›æ–¹æ³•å’ŒæŠ€å·§æ¥å®ç°å¹‚ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ç»™ä½ ä»‹ç»å‡ ç§å¸¸ç”¨çš„è®¾è®¡å¹‚ç­‰æ“ä½œçš„æ–¹æ³•ï¼š&lt;/p&gt;
&lt;h3 id=&#34;1-åˆ©ç”¨æ•°æ®åº“çš„å”¯ä¸€çº¦æŸå®ç°å¹‚ç­‰&#34;&gt;1. åˆ©ç”¨æ•°æ®åº“çš„å”¯ä¸€çº¦æŸå®ç°å¹‚ç­‰&lt;/h3&gt;
&lt;p&gt;åˆšåˆšæåˆ°çš„é‚£ä¸ªä¸å…·å¤‡å¹‚ç­‰ç‰¹æ€§è½¬è´¦çš„ä¾‹å­ï¼šå°†è´¦æˆ· X çš„ä½™é¢åŠ  100 å…ƒã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ”¹é€ ä¸šåŠ¡é€»è¾‘ï¼Œè®©å®ƒå…·å¤‡å¹‚ç­‰æ€§ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥é™å®šï¼Œå¯¹äºæ¯ä¸ªè½¬è´¦å•æ¯ä¸ªè´¦æˆ·åªå¯ä»¥æ‰§è¡Œä¸€æ¬¡å˜æ›´æ“ä½œï¼Œåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œè¿™ä¸ªé™åˆ¶å®ç°çš„æ–¹æ³•éå¸¸å¤šï¼Œæœ€ç®€å•çš„æ˜¯æˆ‘ä»¬åœ¨æ•°æ®åº“ä¸­å»ºä¸€å¼ è½¬è´¦æµæ°´è¡¨ï¼Œè¿™ä¸ªè¡¨æœ‰ä¸‰ä¸ªå­—æ®µï¼šè½¬è´¦å• IDã€è´¦æˆ·&lt;/p&gt;
&lt;p&gt;ID å’Œå˜æ›´é‡‘é¢ï¼Œç„¶å&lt;strong&gt;ç»™è½¬è´¦å• ID å’Œè´¦æˆ· ID è¿™ä¸¤ä¸ªå­—æ®µè”åˆèµ·æ¥åˆ›å»ºä¸€ä¸ªå”¯ä¸€çº¦æŸï¼Œè¿™æ ·å¯¹äºç›¸åŒçš„è½¬è´¦å• ID å’Œè´¦æˆ· IDï¼Œè¡¨é‡Œè‡³å¤šåªèƒ½å­˜åœ¨ä¸€æ¡è®°å½•ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·ï¼Œæˆ‘ä»¬æ¶ˆè´¹æ¶ˆæ¯çš„é€»è¾‘å¯ä»¥å˜ä¸ºï¼šâ€œåœ¨è½¬è´¦æµæ°´è¡¨ä¸­å¢åŠ ä¸€æ¡è½¬è´¦è®°å½•ï¼Œç„¶åå†æ ¹æ®è½¬è´¦è®°å½•ï¼Œå¼‚æ­¥æ“ä½œæ›´æ–°ç”¨æˆ·ä½™é¢å³å¯ã€‚â€åœ¨è½¬è´¦æµæ°´è¡¨å¢åŠ ä¸€æ¡è½¬è´¦è®°å½•è¿™ä¸ªæ“ä½œä¸­ï¼Œç”±äºæˆ‘ä»¬åœ¨è¿™ä¸ªè¡¨ä¸­é¢„å…ˆå®šä¹‰äº†â€œè´¦&lt;/p&gt;
&lt;p&gt;æˆ· ID è½¬è´¦å• IDâ€çš„å”¯ä¸€çº¦æŸï¼Œå¯¹äºåŒä¸€ä¸ªè½¬è´¦å•åŒä¸€ä¸ªè´¦æˆ·åªèƒ½æ’å…¥ä¸€æ¡è®°å½•ï¼Œåç»­é‡å¤çš„æ’å…¥æ“ä½œéƒ½ä¼šå¤±è´¥ï¼Œè¿™æ ·å°±å®ç°äº†ä¸€ä¸ªå¹‚ç­‰çš„æ“ä½œã€‚æˆ‘ä»¬åªè¦å†™ä¸€ä¸ª SQLï¼Œæ­£ç¡®åœ°å®ç°å®ƒå°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;åŸºäºè¿™ä¸ªæ€è·¯ï¼Œä¸å…‰æ˜¯å¯ä»¥ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“ï¼Œ&lt;strong&gt;åªè¦æ˜¯æ”¯æŒç±»ä¼¼â€œINSERT IF NOT EXISTâ€è¯­ä¹‰çš„å­˜å‚¨ç±»ç³»ç»Ÿéƒ½å¯ä»¥ç”¨äºå®ç°å¹‚ç­‰&lt;/strong&gt;ï¼Œ&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œ **Redis çš„ SETNX å‘½ä»¤æ¥æ›¿ä»£æ•°æ®åº“ä¸­çš„å”¯ä¸€çº¦æŸï¼Œæ¥å®ç°å¹‚****ç­‰æ¶ˆè´¹ã€‚ ï¼ˆ redisä¸­çš„hashï¼š**&lt;strong&gt;hsetnx&lt;/strong&gt; &lt;strong&gt;&lt;!-- raw HTML omitted --&gt; &lt;!-- raw HTML omitted --&gt; &lt;!-- raw HTML omitted --&gt;ï¼›&lt;/strong&gt; &lt;strong&gt;ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ¯”å¦‚ï¼ŒElasticsearchä¸­çš„å¹‚ç­‰æ“ä½œï¼š&lt;/strong&gt; &lt;strong&gt;PUT /movie_index/movie/3ï¼ŒåŠ ä¸Šæ–‡æ¡£ ID&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-ä¸ºæ›´æ–°çš„æ•°æ®è®¾ç½®å‰ç½®æ¡ä»¶&#34;&gt;2. ä¸ºæ›´æ–°çš„æ•°æ®è®¾ç½®å‰ç½®æ¡ä»¶&lt;/h3&gt;
&lt;p&gt;å¦å¤–ä¸€ç§å®ç°å¹‚ç­‰çš„æ€è·¯æ˜¯ï¼Œç»™æ•°æ®å˜æ›´è®¾ç½®ä¸€ä¸ªå‰ç½®æ¡ä»¶ï¼Œå¦‚æœæ»¡è¶³æ¡ä»¶å°±æ›´æ–°æ•°æ®ï¼Œå¦åˆ™æ‹’ç»æ›´æ–°æ•°æ®ï¼Œåœ¨æ›´æ–°æ•°æ®çš„æ—¶å€™ï¼ŒåŒæ—¶å˜æ›´å‰ç½®æ¡ä»¶ä¸­éœ€è¦åˆ¤æ–­çš„æ•°æ®ã€‚è¿™æ ·ï¼Œé‡å¤æ‰§è¡Œè¿™ä¸ªæ“ä½œæ—¶ï¼Œç”±äºç¬¬ä¸€æ¬¡&lt;/p&gt;
&lt;p&gt;æ›´æ–°æ•°æ®çš„æ—¶å€™å·²ç»å˜æ›´äº†å‰ç½®æ¡ä»¶ä¸­éœ€è¦åˆ¤æ–­çš„æ•°æ®ï¼Œä¸æ»¡è¶³å‰ç½®æ¡ä»¶ï¼Œåˆ™ä¸ä¼šé‡å¤æ‰§è¡Œæ›´æ–°æ•°æ®æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œåˆšåˆšæˆ‘ä»¬è¯´è¿‡ï¼Œâ€œå°†è´¦æˆ· X çš„ä½™é¢å¢åŠ  100 å…ƒâ€è¿™ä¸ªæ“ä½œå¹¶ä¸æ»¡è¶³å¹‚ç­‰æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªæ“ä½œåŠ ä¸Šä¸€ä¸ªå‰ç½®æ¡ä»¶ï¼Œå˜ä¸ºï¼šâ€œå¦‚æœè´¦æˆ· X å½“å‰çš„ä½™é¢ä¸º 500 å…ƒï¼Œå°†ä½™é¢åŠ  100 å…ƒâ€ï¼Œè¿™ä¸ªæ“ä½œå°±å…·å¤‡äº†å¹‚ç­‰&lt;/p&gt;
&lt;p&gt;æ€§ã€‚å¯¹åº”åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„ä½¿ç”¨æ—¶ï¼Œå¯ä»¥åœ¨å‘æ¶ˆæ¯æ—¶åœ¨æ¶ˆæ¯ä½“ä¸­å¸¦ä¸Šå½“å‰çš„ä½™é¢ï¼Œåœ¨æ¶ˆè´¹çš„æ—¶å€™è¿›è¡Œåˆ¤æ–­æ•°æ®åº“ä¸­ï¼Œå½“å‰ä½™é¢æ˜¯å¦ä¸æ¶ˆæ¯ä¸­çš„ä½™é¢ç›¸ç­‰ï¼Œåªæœ‰ç›¸ç­‰æ‰æ‰§è¡Œå˜æ›´æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬è¦æ›´æ–°çš„æ•°æ®ä¸æ˜¯æ•°å€¼ï¼Œæˆ–è€…æˆ‘ä»¬è¦åšä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„æ›´æ–°æ“ä½œæ€ä¹ˆåŠï¼Ÿç”¨ä»€ä¹ˆä½œä¸ºå‰ç½®åˆ¤æ–­æ¡ä»¶å‘¢ï¼Ÿæ›´åŠ é€šç”¨çš„æ–¹æ³•æ˜¯ï¼Œ&lt;strong&gt;ç»™ä½ çš„æ•°æ®å¢åŠ ä¸€ä¸ªç‰ˆæœ¬å·å±æ€§ï¼Œæ¯æ¬¡æ›´æ•°æ®å‰ï¼Œæ¯”è¾ƒå½“å‰æ•°æ®çš„ç‰ˆæœ¬&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å·æ˜¯å¦å’Œæ¶ˆæ¯ä¸­çš„ç‰ˆæœ¬å·ä¸€è‡´ï¼Œå¦‚æœä¸ä¸€è‡´å°±æ‹’ç»æ›´æ–°æ•°æ®ï¼Œæ›´æ–°æ•°æ®çš„åŒæ—¶å°†ç‰ˆæœ¬å· +1ï¼Œä¸€æ ·å¯ä»¥å®ç°å¹‚ç­‰æ›´æ–°ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-è®°å½•å¹¶æ£€æŸ¥æ“ä½œ&#34;&gt;3. è®°å½•å¹¶æ£€æŸ¥æ“ä½œ&lt;/h3&gt;
&lt;p&gt;å¦‚æœä¸Šé¢æåˆ°çš„ä¸¤ç§å®ç°å¹‚ç­‰æ–¹æ³•éƒ½ä¸èƒ½é€‚ç”¨äºä½ çš„åœºæ™¯ï¼Œæˆ‘ä»¬è¿˜æœ‰ä¸€ç§é€šç”¨æ€§æœ€å¼ºï¼Œé€‚ç”¨èŒƒå›´æœ€å¹¿çš„å®ç°å¹‚ç­‰æ€§æ–¹æ³•ï¼š&lt;strong&gt;è®°å½•å¹¶æ£€æŸ¥æ“ä½œ&lt;/strong&gt;ï¼Œä¹Ÿç§°ä¸ºâ€œToken æœºåˆ¶æˆ–è€… GUIDï¼ˆå…¨å±€å”¯ä¸€ IDï¼‰æœºåˆ¶â€ï¼Œå®ç°çš„æ€è·¯ç‰¹åˆ«&lt;/p&gt;
&lt;p&gt;ç®€å•ï¼šåœ¨æ‰§è¡Œæ•°æ®æ›´æ–°æ“ä½œä¹‹å‰ï¼Œå…ˆæ£€æŸ¥ä¸€ä¸‹æ˜¯å¦æ‰§è¡Œè¿‡è¿™ä¸ªæ›´æ–°æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;å…·ä½“çš„å®ç°æ–¹æ³•æ˜¯ï¼Œ&lt;strong&gt;åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼Œç»™æ¯æ¡æ¶ˆæ¯æŒ‡å®šä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ IDï¼Œæ¶ˆè´¹æ—¶ï¼Œå…ˆæ ¹æ®è¿™ä¸ª ID æ£€æŸ¥è¿™æ¡æ¶ˆæ¯æ˜¯å¦æœ‰è¢«æ¶ˆè´¹è¿‡ï¼Œå¦‚æœæ²¡æœ‰æ¶ˆè´¹è¿‡ï¼Œæ‰æ›´æ–°æ•°æ®ï¼Œç„¶åå°†æ¶ˆè´¹çŠ¶æ€ç½®ä¸ºå·²æ¶ˆè´¹ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åŸç†å’Œå®ç°æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿå…¶å®ä¸€ç‚¹å„¿éƒ½ä¸ç®€å•ï¼Œåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œè¿™ä¸ªæ–¹æ³•å…¶å®æ˜¯éå¸¸éš¾å®ç°çš„ã€‚é¦–å…ˆï¼Œç»™æ¯ä¸ªæ¶ˆæ¯æŒ‡å®šä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ ID å°±æ˜¯ä¸€ä»¶ä¸é‚£ä¹ˆç®€å•çš„äº‹å„¿ï¼Œæ–¹æ³•æœ‰å¾ˆå¤šï¼Œä½†éƒ½ä¸å¤ªå¥½åŒæ—¶æ»¡è¶³ç®€&lt;/p&gt;
&lt;p&gt;å•ã€é«˜å¯ç”¨å’Œé«˜æ€§èƒ½ï¼Œæˆ–å¤šæˆ–å°‘éƒ½è¦æœ‰äº›ç‰ºç‰²ã€‚æ›´åŠ éº»çƒ¦çš„æ˜¯ï¼Œåœ¨â€œæ£€æŸ¥æ¶ˆè´¹çŠ¶æ€ï¼Œç„¶åæ›´æ–°æ•°æ®å¹¶ä¸”è®¾ç½®æ¶ˆè´¹çŠ¶æ€â€ä¸­ï¼Œä¸‰ä¸ªæ“ä½œå¿…é¡»ä½œä¸ºä¸€ç»„æ“ä½œä¿è¯åŸå­æ€§ï¼Œæ‰èƒ½çœŸæ­£å®ç°å¹‚ç­‰ï¼Œå¦åˆ™å°±ä¼šå‡ºç° Bugã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚è¯´ï¼Œå¯¹äºåŒä¸€æ¡æ¶ˆæ¯ï¼šâ€œå…¨å±€ ID ä¸º 8ï¼Œæ“ä½œä¸ºï¼šç»™ ID ä¸º 666 è´¦æˆ·å¢åŠ  100 å…ƒâ€ï¼Œæœ‰å¯èƒ½å‡ºç°è¿™æ ·çš„æƒ…å†µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;t0 æ—¶åˆ»ï¼šConsumer A æ”¶åˆ°æ¡æ¶ˆæ¯ï¼Œæ£€æŸ¥æ¶ˆæ¯æ‰§è¡ŒçŠ¶æ€ï¼Œå‘ç°æ¶ˆæ¯æœªå¤„ç†è¿‡ï¼Œå¼€å§‹æ‰§è¡Œâ€œè´¦æˆ·å¢åŠ  100 å…ƒâ€ï¼›&lt;/li&gt;
&lt;li&gt;t1 æ—¶åˆ»ï¼šConsumer B æ”¶åˆ°æ¡æ¶ˆæ¯ï¼Œæ£€æŸ¥æ¶ˆæ¯æ‰§è¡ŒçŠ¶æ€ï¼Œå‘ç°æ¶ˆæ¯æœªå¤„ç†è¿‡ï¼Œå› ä¸ºè¿™ä¸ªæ—¶åˆ»ï¼ŒConsumer A è¿˜æœªæ¥å¾—åŠæ›´æ–°æ¶ˆæ¯æ‰§è¡ŒçŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™æ ·å°±ä¼šå¯¼è‡´è´¦æˆ·è¢«é”™è¯¯åœ°å¢åŠ äº†ä¸¤æ¬¡ 100 å…ƒï¼Œè¿™æ˜¯ä¸€ä¸ªåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­éå¸¸å®¹æ˜“çŠ¯çš„é”™è¯¯ï¼Œä¸€å®šè¦å¼•ä»¥ä¸ºæˆ’ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œå½“ç„¶æˆ‘ä»¬å¯ä»¥ç”¨äº‹åŠ¡æ¥å®ç°ï¼Œä¹Ÿå¯ä»¥ç”¨é”æ¥å®ç°ï¼Œä½†æ˜¯åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæ— è®ºæ˜¯åˆ†å¸ƒå¼äº‹åŠ¡è¿˜æ˜¯åˆ†å¸ƒå¼é”éƒ½æ˜¯æ¯”è¾ƒéš¾è§£å†³é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‡ ç§å®ç°å¹‚ç­‰æ“ä½œçš„æ–¹æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥åˆ©ç”¨æ•°æ®åº“çš„çº¦æŸæ¥é˜²æ­¢é‡å¤æ›´æ–°æ•°æ®ï¼Œ&lt;/li&gt;
&lt;li&gt;å¯ä»¥ä¸ºæ•°æ®æ›´æ–°è®¾ç½®ä¸€æ¬¡æ€§çš„å‰ç½®æ¡ä»¶ï¼Œæ¥é˜²æ­¢é‡å¤æ¶ˆæ¯ï¼Œå¦‚æœè¿™ä¸¤ç§æ–¹æ³•éƒ½ä¸é€‚ç”¨äºä½ çš„åœºæ™¯ï¼Œ&lt;/li&gt;
&lt;li&gt;è¿˜å¯ä»¥ç”¨â€œè®°å½•å¹¶æ£€æŸ¥æ“ä½œâ€çš„æ–¹å¼æ¥ä¿è¯å¹‚ç­‰ï¼Œè¿™ç§æ–¹æ³•é€‚ç”¨èŒƒå›´æœ€å¹¿ï¼Œä½†æ˜¯å®ç°éš¾åº¦å’Œå¤æ‚åº¦ä¹Ÿæ¯”è¾ƒé«˜ï¼Œä¸€èˆ¬ä¸æ¨èä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™äº›å®ç°å¹‚ç­‰çš„æ–¹æ³•ï¼Œä¸ä»…å¯ä»¥ç”¨äºè§£å†³é‡å¤æ¶ˆæ¯çš„é—®é¢˜ï¼Œä¹ŸåŒæ ·é€‚ç”¨äºï¼Œåœ¨å…¶ä»–åœºæ™¯ä¸­æ¥&lt;strong&gt;è§£å†³é‡å¤è¯·æ±‚æˆ–è€…é‡å¤è°ƒç”¨çš„é—®é¢˜&lt;/strong&gt;ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å°† HTTP æœåŠ¡è®¾è®¡æˆå¹‚ç­‰çš„ï¼Œè§£å†³å‰ç«¯æˆ–è€… APP é‡å¤æäº¤è¡¨å•æ•°&lt;/p&gt;
&lt;p&gt;æ®çš„é—®é¢˜ï¼›ä¹Ÿå¯ä»¥å°†ä¸€ä¸ªå¾®æœåŠ¡è®¾è®¡æˆå¹‚ç­‰çš„ï¼Œè§£å†³ RPC æ¡†æ¶è‡ªåŠ¨é‡è¯•å¯¼è‡´çš„é‡å¤è°ƒç”¨é—®é¢˜ã€‚è¿™äº›æ–¹æ³•éƒ½æ˜¯é€šç”¨çš„ã€‚&lt;/p&gt;
&lt;h1 id=&#34;3-æ¶ˆæ¯ç§¯å‹é—®é¢˜&#34;&gt;3. æ¶ˆæ¯ç§¯å‹é—®é¢˜&lt;/h1&gt;
&lt;p&gt;åœ¨ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—é‡åˆ°çš„é—®é¢˜ä¸­ï¼Œæ¶ˆæ¯ç§¯å‹è¿™ä¸ªé—®é¢˜ï¼Œåº”è¯¥æ˜¯æœ€å¸¸é‡åˆ°çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æ¶ˆæ¯ç§¯å‹çš„ç›´æ¥åŸå› ï¼Œä¸€å®šæ˜¯ç³»ç»Ÿä¸­çš„æŸä¸ªéƒ¨åˆ†å‡ºç°äº†æ€§èƒ½é—®é¢˜ï¼Œæ¥ä¸åŠå¤„ç†ä¸Šæ¸¸å‘é€çš„æ¶ˆæ¯ï¼Œæ‰ä¼šå¯¼è‡´æ¶ˆæ¯ç§¯å‹ã€‚ æ‰€ä»¥åœ¨ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—æ—¶ï¼Œå¦‚ä½•æ¥ä¼˜åŒ–ä»£ç çš„æ€§èƒ½ï¼Œé¿å…å‡ºç°æ¶ˆæ¯ç§¯å‹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¼˜åŒ–æ€§èƒ½æ¥é¿å…æ¶ˆæ¯ç§¯å‹&#34;&gt;ä¼˜åŒ–æ€§èƒ½æ¥é¿å…æ¶ˆæ¯ç§¯å‹&lt;/h2&gt;
&lt;p&gt;åœ¨ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„ç³»ç»Ÿä¸­ï¼Œå¯¹äºæ€§èƒ½çš„ä¼˜åŒ–ï¼Œä¸»è¦ä½“ç°åœ¨ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…è¿™ä¸€æ”¶ä¸€å‘ä¸¤éƒ¨åˆ†çš„ä¸šåŠ¡é€»è¾‘ä¸­ã€‚å¯¹äºæ¶ˆæ¯é˜Ÿåˆ—æœ¬èº«çš„æ€§èƒ½ï¼Œä¸éœ€è¦å¤ªå…³æ³¨ã€‚&lt;/p&gt;
&lt;p&gt;ä¸»è¦åŸå› æ˜¯ï¼Œå¯¹äºç»å¤§å¤šæ•°ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„ä¸šåŠ¡æ¥è¯´ï¼Œæ¶ˆæ¯é˜Ÿåˆ—æœ¬èº«çš„å¤„ç†èƒ½åŠ›è¦è¿œå¤§äºä¸šåŠ¡ç³»ç»Ÿçš„å¤„ç†èƒ½åŠ›ã€‚ä¸»æµæ¶ˆæ¯é˜Ÿåˆ—çš„å•ä¸ªèŠ‚ç‚¹ï¼Œæ¶ˆæ¯æ”¶å‘çš„æ€§èƒ½å¯ä»¥è¾¾åˆ°æ¯ç§’é’Ÿå¤„ç†å‡ ä¸‡è‡³å‡ åä¸‡æ¡æ¶ˆæ¯çš„æ°´å¹³ï¼Œè¿˜å¯&lt;/p&gt;
&lt;p&gt;ä»¥é€šè¿‡æ°´å¹³æ‰©å±• Broker çš„å®ä¾‹æ•°æˆå€åœ°æå‡å¤„ç†èƒ½åŠ›ã€‚è€Œä¸€èˆ¬çš„ä¸šåŠ¡ç³»ç»Ÿéœ€è¦å¤„ç†çš„ä¸šåŠ¡é€»è¾‘è¿œæ¯”æ¶ˆæ¯é˜Ÿåˆ—è¦å¤æ‚ï¼Œå•ä¸ªèŠ‚ç‚¹æ¯ç§’é’Ÿå¯ä»¥å¤„ç†å‡ ç™¾åˆ°å‡ åƒæ¬¡è¯·æ±‚ï¼Œå·²ç»å¯ä»¥ç®—æ˜¯æ€§èƒ½éå¸¸å¥½çš„äº†ã€‚æ‰€ä»¥ï¼Œå¯¹äºæ¶ˆ&lt;/p&gt;
&lt;p&gt;æ¯é˜Ÿåˆ—çš„æ€§èƒ½ä¼˜åŒ–ï¼Œæˆ‘ä»¬æ›´å…³æ³¨çš„æ˜¯ï¼Œåœ¨æ¶ˆæ¯çš„æ”¶å‘ä¸¤ç«¯ï¼Œæˆ‘ä»¬çš„ä¸šåŠ¡ä»£ç æ€ä¹ˆå’Œæ¶ˆæ¯é˜Ÿåˆ—é…åˆï¼Œè¾¾åˆ°ä¸€ä¸ªæœ€ä½³çš„æ€§èƒ½ã€‚&lt;/p&gt;
&lt;h3 id=&#34;1-å‘é€ç«¯æ€§èƒ½ä¼˜åŒ–&#34;&gt;1. å‘é€ç«¯æ€§èƒ½ä¼˜åŒ–&lt;/h3&gt;
&lt;p&gt;å¦‚æœè¯´ï¼Œä»£ç å‘é€æ¶ˆæ¯çš„æ€§èƒ½ä¸Šä¸å»ï¼Œéœ€è¦ä¼˜å…ˆæ£€æŸ¥ä¸€ä¸‹ï¼Œæ˜¯ä¸æ˜¯å‘æ¶ˆæ¯ä¹‹å‰çš„ä¸šåŠ¡é€»è¾‘è€—æ—¶å¤ªå¤šå¯¼è‡´çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå‘é€æ¶ˆæ¯çš„ä¸šåŠ¡é€»è¾‘ï¼Œåªéœ€è¦æ³¨æ„&lt;strong&gt;è®¾ç½®åˆé€‚çš„å¹¶å‘å’Œæ‰¹é‡å¤§å°ï¼Œå°±å¯ä»¥è¾¾åˆ°å¾ˆå¥½çš„å‘é€æ€§èƒ½&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;Producer å‘é€æ¶ˆæ¯çš„è¿‡ç¨‹ï¼ŒProducer å‘æ¶ˆæ¯ç»™ Brokerï¼ŒBroker æ”¶åˆ°æ¶ˆæ¯åè¿”å›ç¡®è®¤å“åº”ï¼Œè¿™æ˜¯ä¸€æ¬¡å®Œæ•´çš„äº¤äº’ã€‚å‡è®¾è¿™ä¸€æ¬¡äº¤äº’çš„å¹³å‡æ—¶å»¶æ˜¯ 1msï¼ŒæŠŠè¿™ 1ms çš„æ—¶é—´åˆ†è§£å¼€ï¼Œå®ƒåŒ…æ‹¬äº†ä¸‹é¢è¿™äº›æ­¥éª¤çš„è€—æ—¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‘é€ç«¯å‡†å¤‡æ•°æ®ã€åºåˆ—åŒ–æ¶ˆæ¯ã€æ„é€ è¯·æ±‚ç­‰é€»è¾‘çš„æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯å‘é€ç«¯åœ¨å‘é€ç½‘ç»œè¯·æ±‚ä¹‹å‰çš„è€—æ—¶ï¼›&lt;/li&gt;
&lt;li&gt;å‘é€æ¶ˆæ¯å’Œè¿”å›å“åº”åœ¨ç½‘ç»œä¼ è¾“ä¸­çš„è€—æ—¶ï¼›&lt;/li&gt;
&lt;li&gt;Broker å¤„ç†æ¶ˆæ¯çš„æ—¶å»¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœæ˜¯å•çº¿ç¨‹å‘é€ï¼Œæ¯æ¬¡åªå‘é€ 1 æ¡æ¶ˆæ¯ï¼Œé‚£ä¹ˆæ¯ç§’åªèƒ½å‘é€ 1000ms / 1ms * 1 æ¡ /ms = 1000 æ¡ æ¶ˆæ¯ï¼Œè¿™ç§æƒ…å†µä¸‹å¹¶ä¸èƒ½å‘æŒ¥å‡ºæ¶ˆæ¯é˜Ÿåˆ—çš„å…¨éƒ¨å®åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;æ— è®ºæ˜¯å¢åŠ æ¯æ¬¡å‘é€æ¶ˆæ¯çš„æ‰¹é‡å¤§å°ï¼Œè¿˜æ˜¯å¢åŠ å¹¶å‘ï¼Œéƒ½èƒ½æˆå€åœ°æå‡å‘é€æ€§èƒ½ã€‚&lt;strong&gt;è‡³äºåˆ°åº•æ˜¯é€‰æ‹©æ‰¹é‡å‘é€è¿˜æ˜¯å¢åŠ å¹¶å‘ï¼Œä¸»è¦å–å†³äºå‘é€ç«¯ç¨‹åºçš„ä¸šåŠ¡æ€§è´¨&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚è¯´ï¼Œä½ çš„&lt;strong&gt;æ¶ˆæ¯å‘é€ç«¯æ˜¯ä¸€ä¸ªå¾®æœåŠ¡&lt;/strong&gt;ï¼Œä¸»è¦æ¥å— RPC è¯·æ±‚å¤„ç†åœ¨çº¿ä¸šåŠ¡ã€‚å¾ˆè‡ªç„¶çš„ï¼Œå¾®æœåŠ¡åœ¨å¤„ç†æ¯æ¬¡è¯·æ±‚çš„æ—¶å€™ï¼Œå°±åœ¨å½“å‰çº¿ç¨‹ç›´æ¥å‘é€æ¶ˆæ¯å°±å¯ä»¥äº†ï¼Œå› ä¸ºæ‰€æœ‰ RPC æ¡†æ¶éƒ½æ˜¯å¤šçº¿ç¨‹æ”¯æŒå¤šå¹¶å‘çš„ï¼Œè‡ª&lt;/p&gt;
&lt;p&gt;ç„¶ä¹Ÿå°±å®ç°äº†å¹¶è¡Œå‘é€æ¶ˆæ¯ã€‚å¹¶ä¸”åœ¨çº¿ä¸šåŠ¡æ¯”è¾ƒåœ¨æ„çš„æ˜¯è¯·æ±‚å“åº”æ—¶å»¶ï¼Œé€‰æ‹©æ‰¹é‡å‘é€å¿…ç„¶ä¼šå½±å“ RPC æœåŠ¡çš„æ—¶å»¶ã€‚è¿™ç§æƒ…å†µï¼Œæ¯”è¾ƒæ˜æ™ºçš„æ–¹å¼å°±æ˜¯&lt;strong&gt;é€šè¿‡å¹¶å‘æ¥æå‡å‘é€æ€§èƒ½&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ çš„&lt;strong&gt;ç³»ç»Ÿæ˜¯ä¸€ä¸ªç¦»çº¿åˆ†æç³»ç»Ÿ&lt;/strong&gt;ï¼Œç¦»çº¿ç³»ç»Ÿåœ¨æ€§èƒ½ä¸Šçš„éœ€æ±‚æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå®ƒä¸å…³å¿ƒæ—¶å»¶ï¼Œæ›´æ³¨é‡æ•´ä¸ªç³»ç»Ÿçš„ååé‡ã€‚å‘é€ç«¯çš„æ•°æ®éƒ½æ˜¯æ¥è‡ªäºæ•°æ®åº“ï¼Œè¿™ç§æƒ…å†µå°±æ›´é€‚åˆæ‰¹é‡å‘é€ï¼Œä½ å¯ä»¥æ‰¹é‡ä»æ•°æ®åº“è¯»å–æ•°&lt;/p&gt;
&lt;p&gt;æ®ï¼Œç„¶åæ‰¹é‡æ¥å‘é€æ¶ˆæ¯ï¼ŒåŒæ ·&lt;strong&gt;ç”¨å°‘é‡çš„å¹¶å‘å°±å¯ä»¥è·å¾—éå¸¸é«˜çš„ååé‡&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;2-æ¶ˆè´¹ç«¯æ€§èƒ½ä¼˜åŒ–&#34;&gt;2. æ¶ˆè´¹ç«¯æ€§èƒ½ä¼˜åŒ–&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†çš„æ€§èƒ½é—®é¢˜éƒ½å‡ºç°åœ¨æ¶ˆè´¹ç«¯ï¼Œå¦‚æœæ¶ˆè´¹çš„é€Ÿåº¦è·Ÿä¸ä¸Šå‘é€ç«¯ç”Ÿäº§æ¶ˆæ¯çš„é€Ÿåº¦ï¼Œå°±ä¼šé€ æˆæ¶ˆæ¯ç§¯å‹ã€‚å¦‚æœè¿™ç§æ€§èƒ½å€’æŒ‚çš„é—®é¢˜åªæ˜¯æš‚æ—¶çš„ï¼Œé‚£é—®é¢˜ä¸å¤§ï¼Œåªè¦æ¶ˆè´¹ç«¯çš„æ€§èƒ½æ¢å¤ä¹‹åï¼Œè¶…è¿‡å‘é€ç«¯çš„æ€§èƒ½ï¼Œé‚£ç§¯å‹çš„æ¶ˆæ¯æ˜¯å¯ä»¥é€æ¸è¢«æ¶ˆåŒ–æ‰çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¦æ˜¯æ¶ˆè´¹é€Ÿåº¦ä¸€ç›´æ¯”ç”Ÿäº§é€Ÿåº¦æ…¢ï¼Œæ—¶é—´é•¿äº†ï¼Œæ•´ä¸ªç³»ç»Ÿå°±ä¼šå‡ºç°é—®é¢˜ï¼Œè¦ä¹ˆï¼Œæ¶ˆæ¯é˜Ÿåˆ—çš„å­˜å‚¨è¢«å¡«æ»¡æ— æ³•æä¾›æœåŠ¡ï¼Œè¦ä¹ˆæ¶ˆæ¯ä¸¢å¤±ï¼Œè¿™å¯¹äºæ•´ä¸ªç³»ç»Ÿæ¥è¯´éƒ½æ˜¯ä¸¥é‡æ•…éšœã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œåœ¨è®¾è®¡ç³»ç»Ÿçš„æ—¶å€™ï¼Œ&lt;strong&gt;ä¸€å®šè¦ä¿è¯æ¶ˆè´¹ç«¯çš„æ¶ˆè´¹æ€§èƒ½è¦é«˜äºç”Ÿäº§ç«¯çš„å‘é€æ€§èƒ½ï¼Œè¿™æ ·çš„ç³»ç»Ÿæ‰èƒ½å¥åº·çš„æŒç»­è¿è¡Œã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ¶ˆè´¹ç«¯çš„æ€§èƒ½ä¼˜åŒ–é™¤äº†ä¼˜åŒ–æ¶ˆè´¹ä¸šåŠ¡é€»è¾‘ä»¥å¤–ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ°´å¹³æ‰©å®¹ï¼Œå¢åŠ æ¶ˆè´¹ç«¯çš„å¹¶å‘æ•°æ¥æå‡æ€»ä½“çš„æ¶ˆè´¹æ€§èƒ½&lt;/strong&gt;ã€‚ç‰¹åˆ«éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œ&lt;strong&gt;åœ¨æ‰©å®¹ Consumer çš„å®ä¾‹æ•°é‡çš„åŒæ—¶ï¼Œå¿…é¡»åŒæ­¥æ‰©å®¹ä¸»é¢˜ä¸­çš„åˆ†åŒº&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ï¼ˆä¹Ÿå«é˜Ÿåˆ—ï¼‰æ•°é‡ï¼Œç¡®ä¿ Consumer çš„å®ä¾‹æ•°å’Œåˆ†åŒºæ•°é‡æ˜¯ç›¸ç­‰çš„ã€‚å¦‚æœ Consumer çš„å®ä¾‹æ•°é‡è¶…è¿‡åˆ†åŒºæ•°é‡ï¼Œè¿™æ ·çš„æ‰©å®¹å®é™…ä¸Šæ˜¯æ²¡æœ‰æ•ˆæœçš„&lt;/strong&gt;ã€‚å› ä¸ºå¯¹äºæ¶ˆè´¹è€…ï¼Œåœ¨æ¯ä¸ªåˆ†åŒºä¸Šå®é™…åªèƒ½æ”¯æŒå•çº¿ç¨‹æ¶ˆè´¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸€ä¸ªè§£å†³æ¶ˆè´¹æ…¢çš„é—®é¢˜å¸¸è§çš„é”™è¯¯ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220224161200.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å®ƒæ”¶æ¶ˆæ¯å¤„ç†çš„ä¸šåŠ¡é€»è¾‘å¯èƒ½æ¯”è¾ƒæ…¢ï¼Œä¹Ÿå¾ˆéš¾å†ä¼˜åŒ–äº†ï¼Œä¸ºäº†é¿å…æ¶ˆæ¯ç§¯å‹ï¼Œåœ¨æ”¶åˆ°æ¶ˆæ¯çš„ OnMessage æ–¹æ³•ä¸­ï¼Œä¸å¤„ç†ä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼ŒæŠŠè¿™ä¸ªæ¶ˆæ¯æ”¾åˆ°ä¸€ä¸ªå†…å­˜é˜Ÿåˆ—é‡Œé¢å°±è¿”å›äº†ã€‚ç„¶åå®ƒå¯ä»¥å¯åŠ¨å¾ˆå¤šçš„ä¸šåŠ¡&lt;/p&gt;
&lt;p&gt;çº¿ç¨‹ï¼Œè¿™äº›ä¸šåŠ¡çº¿ç¨‹é‡Œé¢æ˜¯çœŸæ­£å¤„ç†æ¶ˆæ¯çš„ä¸šåŠ¡é€»è¾‘ï¼Œè¿™äº›çº¿ç¨‹ä»å†…å­˜é˜Ÿåˆ—é‡Œå–æ¶ˆæ¯å¤„ç†ï¼Œè¿™æ ·å®ƒå°±è§£å†³äº†å•ä¸ª Consumer ä¸èƒ½å¹¶è¡Œæ¶ˆè´¹çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ–¹æ³•æ˜¯ä¸æ˜¯å¾ˆå®Œç¾åœ°å®ç°äº†å¹¶å‘æ¶ˆè´¹ï¼Ÿé”™è¯¯ï¼ å› ä¸ºä¼šä¸¢æ¶ˆæ¯ã€‚å¦‚æœæ”¶æ¶ˆæ¯çš„èŠ‚ç‚¹å‘ç”Ÿå®•æœºï¼Œåœ¨å†…å­˜é˜Ÿåˆ—ä¸­è¿˜æ²¡æ¥åŠå¤„ç†çš„è¿™äº›æ¶ˆæ¯å°±ä¼šä¸¢å¤±ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨onMessageæ–¹æ³•ç»“æŸåï¼Œå¦‚æœæ²¡æœ‰æŠ›å¼‚å¸¸ï¼Œå°±è‡ªåŠ¨ACKäº†ã€‚è€Œè¿™ä¸ªæ—¶å€™ï¼Œæ¶ˆæ¯åªæ˜¯åœ¨å†…å­˜é˜Ÿåˆ—ä¸­ï¼Œå¹¶æ²¡æœ‰è¢«çœŸæ­£å¤„ç†å®Œã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœonMessageæ–¹æ³•ä¸­ï¼Œæ”¶åˆ°æ¶ˆæ¯åä¸ç¡®è®¤ï¼Œç­‰çœŸæ­£å¤„ç†å®Œæ¶ˆæ¯å†ç¡®è®¤ï¼Œå°±å¯ä»¥äº†å§ï¼Œè¿™æ ·å°±å¯ä»¥ç”¨å†…å­˜é˜Ÿåˆ—äº†&lt;/p&gt;
&lt;p&gt;ç†è®ºä¸Šæ˜¯å¯ä»¥çš„ï¼Œä½†è¦æ³¨æ„ï¼ŒåƒRocketMQï¼Œé‡‡ç”¨é»˜è®¤é…ç½®çš„æ—¶å€™ï¼ŒonMessageæ–¹æ³•ç»“æŸåï¼Œå¦‚æœæ²¡æŠ›å¼‚å¸¸ï¼Œé»˜è®¤å°±ä¼šè‡ªåŠ¨ç¡®è®¤äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœ¨æ¶ˆè´¹ç«¯æ˜¯å¦å¯ä»¥é€šè¿‡æ‰¹é‡æ¶ˆè´¹çš„æ–¹å¼æ¥æå‡æ¶ˆè´¹æ€§èƒ½ï¼Ÿåœ¨ä»€ä¹ˆæ ·åœºæ™¯ä¸‹ï¼Œé€‚åˆä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Ÿæˆ–è€…è¯´ï¼Œè¿™ç§æ–¹æ³•æœ‰ä»€ä¹ˆå±€é™æ€§ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ‰¹é‡æ¶ˆè´¹å³ä¸€æ¬¡å–ä¸€æ‰¹æ¶ˆæ¯ï¼Œç­‰è¿™ä¸€æ‰¹æ¶ˆæ¯éƒ½æˆåŠŸäº†ï¼Œå†æäº¤æœ€åä¸€æ¡æ¶ˆæ¯çš„ä½ç½®ä½œä¸ºæ–°çš„æ¶ˆè´¹ä½ç½®ã€‚å¦‚æœå…¶ä¸­ä»»ä½•ä¸€æ¡å¤±è´¥ï¼Œåˆ™è®¤ä¸ºæ•´æ‰¹éƒ½å¤±è´¥ã€‚&lt;/p&gt;
&lt;p&gt;æ‰¹é‡æ¶ˆè´¹åº”è¯¥æ˜¯ä¸æ¶ˆæ¯å¤„ç†æ˜¯éœ€è¦å®æ—¶ä¸å¦æœ‰å…³ã€‚å¦‚æœéœ€è¦å®æ—¶å¤„ç†ï¼Œå¦‚è®¢å•ç›¸å…³çš„ï¼Œå°±ä¸èƒ½æ‰¹é‡ï¼Œä½†æ˜¯å‘é€æé†’é‚®ä»¶ä¹‹ç±»çš„ï¼Œå°±å¯ä»¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ‰¹é‡æ¶ˆè´¹æœ‰æ„ä¹‰çš„åœºæ™¯è¦æ±‚ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1.è¦ä¹ˆæ¶ˆè´¹ç«¯å¯¹æ¶ˆæ¯çš„å¤„ç†æ”¯æŒæ‰¹é‡å¤„ç†ï¼Œæ¯”å¦‚æ‰¹é‡å…¥åº“&lt;/li&gt;
&lt;li&gt;\2. è¦ä¹ˆæ¶ˆè´¹ç«¯æ”¯æŒå¤šçº¿ç¨‹/åç¨‹å¹¶å‘å¤„ç†ï¼Œä¸šåŠ¡ä¸Šä¹Ÿå…è®¸æ¶ˆæ¯æ— åºã€‚&lt;/li&gt;
&lt;li&gt;\3. æˆ–è€…ç½‘ç»œå¸¦å®½åœ¨è€ƒè™‘å› ç´ å†…ï¼Œéœ€è¦å‡å°‘æ¶ˆæ¯çš„overheadã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æ‰¹é‡æ¶ˆè´¹çš„å±€é™æ€§ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;\1. éœ€è¦ä¸€ä¸ªæ•´ä½“ackçš„æœºåˆ¶ï¼Œä¸€æ—¦ä¸€æ¡é å‰çš„æ¶ˆæ¯æ¶ˆè´¹å¤±è´¥ï¼Œå¯èƒ½ä¼šå¼•èµ·å¾ˆå¤šæ¶ˆæ¯é‡è¯•ã€‚&lt;/li&gt;
&lt;li&gt;\2. å¤šçº¿ç¨‹ä¸‹æ‰¹é‡æ¶ˆè´¹é€Ÿåº¦å—é™äºæœ€æ…¢çš„é‚£ä¸ªçº¿ç¨‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½†å…¶å®ä»¥ä¸Šå±€é™å¹¶æ²¡æœ‰å½±å“ä¸»æµMQçš„å®ç°äº†æ‰¹é‡åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;1ã€è¦æ±‚æ¶ˆè´¹ç«¯èƒ½å¤Ÿæ‰¹é‡å¤„ç†æˆ–è€…å¼€å¯å¤šçº¿ç¨‹è¿›è¡Œå•æ¡å¤„ç†
2ã€æ‰¹é‡æ¶ˆè´¹ä¸€æ—¦æŸä¸€æ¡æ•°æ®æ¶ˆè´¹å¤±è´¥ä¼šå¯¼è‡´æ•´æ‰¹æ•°æ®é‡å¤æ¶ˆè´¹
3ã€å¯¹å®æ—¶æ€§è¦æ±‚ä¸èƒ½å¤ªé«˜ï¼Œæ‰¹é‡æ¶ˆè´¹éœ€è¦Brokerç§¯ç´¯åˆ°ä¸€å®šæ¶ˆè´¹æ•°æ®æ‰ä¼šå‘é€åˆ°Consumer&lt;/p&gt;
&lt;p&gt;æ¶ˆè´¹ç«¯è¿›è¡Œæ‰¹é‡æ“ä½œï¼Œæ„Ÿè§‰å’Œä¸Šé¢çš„å…ˆå°†æ¶ˆæ¯æ”¾åœ¨å†…å­˜é˜Ÿåˆ—ä¸­ï¼Œç„¶ååœ¨å¹¶å‘æ¶ˆè´¹æ¶ˆæ¯ï¼Œå¦‚æœæœºå™¨å®•æœºï¼Œè¿™äº›æ‰¹é‡æ¶ˆæ¯éƒ½ä¼šä¸¢å¤±ï¼Œå¦‚æœåœ¨æ•°æ®åº“å±‚é¢ï¼Œæ‰¹é‡æ“ä½œåœ¨å¤§äº‹åŠ¡ï¼Œä¼šå¯¼è‡´é”çš„ç«äº‰ï¼Œå¹¶ä¸”ä¹Ÿä¼šå¯¼è‡´ä¸»å¤‡çš„ä¸&lt;/p&gt;
&lt;p&gt;ä¸€è‡´ã€‚å¦‚æœæ˜¯ä¸€äº›ä¸é‡è¦çš„æ¶ˆæ¯å¦‚å¯¹æ—¥å¿—è¿›è¡Œå¤‡ä»½ï¼Œå°±å¯ä»¥ä½¿ç”¨æ‰¹é‡æ“ä½œä¹‹ç±»çš„æé«˜æ¶ˆè´¹æ€§èƒ½ï¼Œå› ä¸ºä¸€äº›æ—¥å¿—æ¶ˆæ¯ä¸¢å¤±ä¹Ÿæ˜¯å¯ä»¥æ¥å—çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½¿ç”¨äº†æ‰¹é‡æ¶ˆè´¹çš„æ–¹å¼ï¼Œé‚£ä¹ˆå°±éœ€è¦æ‰¹é‡ç¡®è®¤ï¼Œå¦‚æœä¸€æ¬¡æ¶ˆè´¹åæ¡æ¶ˆæ¯ï¼Œé™¤äº†ç¬¬ä¸ƒæ¡æ¶ˆè´¹å¤±è´¥äº†ï¼Œå…¶ä»–çš„éƒ½å¤„ç†æˆåŠŸäº†ï¼Œä½†æ˜¯è¿™ä¸­æƒ…å†µä¸‹brokeråªèƒ½å°†æ¶ˆè´¹çš„æ¸¸æ ‡ä¿®æ”¹æˆæ¶ˆæ¯7ï¼Œè€Œä¹‹åçš„æ¶ˆæ¯è™½ç„¶å¤„ç†æˆåŠŸ&lt;/p&gt;
&lt;p&gt;äº†ï¼Œä½†æ˜¯ä¹Ÿåªèƒ½ä½¿ç”¨ç±»ä¼¼äºæ‹‰å›é‡ä¼ çš„æ–¹å¼å†æ¬¡æ¶ˆè´¹ï¼Œæµªè´¹æ€§èƒ½ï¼Œè€Œä¸”è¿™ç§æ‰¹é‡æ¶ˆè´¹å¯¹äºæ¶ˆè´¹è€…çš„å¹¶å‘æˆ‘è§‰å¾—ä¸æ˜¯å¾ˆå‹å¥½ï¼Œå¯èƒ½æ¶ˆè´¹è€…1æ¥äº†å–èµ°äº†åæ¡æ¶ˆæ¯åœ¨å¤„ç†ï¼Œè¿™æ—¶å€™æ¶ˆè´¹è€…2è¿‡æ¥äº†ä¹Ÿæƒ³å–åæ¡æ¶ˆæ¯ï¼Œä½†æ˜¯&lt;/p&gt;
&lt;p&gt;ä»–éœ€è¦ç­‰å¾…æ¶ˆè´¹è€…1è¿›è¡Œackæ‰å¯ä»¥å–èµ°æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¦‚ä½•åˆ¤æ–­å¢åŠ å¤šå°‘consumeræ¶ˆè´¹å®ä¾‹çš„ä¸ªæ•°ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥ç®€å•è®¡ç®—ä¸€ä¸‹ï¼Œæ¶ˆè´¹å¹¶è¡Œåº¦ï¼šå•å®ä¾‹å¹³å‡æ¶ˆè´¹tps * æ¶ˆè´¹å¹¶è¡Œåº¦ &amp;gt; ç”Ÿäº§æ¶ˆæ¯çš„æ€»tps
æ¶ˆè´¹å¹¶è¡Œåº¦ = minï¼ˆconsumerå®ä¾‹æ•°ï¼Œåˆ†åŒºæ•°é‡ï¼‰&lt;/p&gt;
&lt;h2 id=&#34;æ¶ˆæ¯ç§¯å‹çš„ç´§æ€¥å¤„ç†&#34;&gt;æ¶ˆæ¯ç§¯å‹çš„ç´§æ€¥å¤„ç†&lt;/h2&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ç§æ¶ˆæ¯ç§¯å‹çš„æƒ…å†µæ˜¯ï¼Œæ—¥å¸¸ç³»ç»Ÿæ­£å¸¸è¿è½¬çš„æ—¶å€™ï¼Œæ²¡æœ‰ç§¯å‹æˆ–è€…åªæœ‰å°‘é‡ç§¯å‹å¾ˆå¿«å°±æ¶ˆè´¹æ‰äº†ï¼Œä½†æ˜¯æŸä¸€ä¸ªæ—¶åˆ»ï¼Œçªç„¶å°±å¼€å§‹ç§¯å‹æ¶ˆæ¯å¹¶ä¸”ç§¯å‹æŒç»­ä¸Šæ¶¨ã€‚è¿™ç§æƒ…å†µä¸‹éœ€è¦ä½ åœ¨çŸ­æ—¶é—´å†…æ‰¾åˆ°æ¶ˆæ¯ç§¯å‹çš„åŸ&lt;/p&gt;
&lt;p&gt;å› ï¼Œè¿…é€Ÿè§£å†³é—®é¢˜æ‰ä¸è‡³äºå½±å“ä¸šåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;å¯¼è‡´çªç„¶ç§¯å‹çš„åŸå› è‚¯å®šæ˜¯å¤šç§å¤šæ ·çš„ï¼Œä¸åŒçš„ç³»ç»Ÿã€ä¸åŒçš„æƒ…å†µæœ‰ä¸åŒçš„åŸå› ï¼Œä¸èƒ½ä¸€æ¦‚è€Œè®ºã€‚ä½†æ˜¯ï¼Œæ’æŸ¥æ¶ˆæ¯ç§¯å‹åŸå› ï¼Œæ˜¯æœ‰ä¸€äº›ç›¸å¯¹å›ºå®šè€Œä¸”æ¯”è¾ƒæœ‰æ•ˆçš„æ–¹æ³•çš„ã€‚&lt;/p&gt;
&lt;p&gt;èƒ½å¯¼è‡´ç§¯å‹çªç„¶å¢åŠ ï¼Œæœ€ç²—ç²’åº¦çš„åŸå› ï¼Œåªæœ‰ä¸¤ç§ï¼šè¦ä¹ˆæ˜¯å‘é€å˜å¿«äº†ï¼Œè¦ä¹ˆæ˜¯æ¶ˆè´¹å˜æ…¢äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¤§éƒ¨åˆ†æ¶ˆæ¯é˜Ÿåˆ—éƒ½å†…ç½®äº†ç›‘æ§çš„åŠŸèƒ½ï¼Œåªè¦é€šè¿‡ç›‘æ§æ•°æ®ï¼Œå¾ˆå®¹æ˜“ç¡®å®šæ˜¯å“ªç§åŸå› ã€‚å¦‚æœæ˜¯å•ä½æ—¶é—´å‘é€çš„æ¶ˆæ¯å¢å¤šï¼Œæ¯”å¦‚è¯´æ˜¯èµ¶ä¸Šå¤§ä¿ƒæˆ–è€…æŠ¢è´­ï¼ŒçŸ­æ—¶é—´å†…ä¸å¤ªå¯èƒ½ä¼˜åŒ–æ¶ˆè´¹ç«¯çš„ä»£ç æ¥æå‡æ¶ˆè´¹æ€§èƒ½ï¼Œå”¯ä¸€çš„&lt;/p&gt;
&lt;p&gt;æ–¹æ³•æ˜¯é€šè¿‡æ‰©å®¹æ¶ˆè´¹ç«¯çš„å®ä¾‹æ•°æ¥æå‡æ€»ä½“çš„æ¶ˆè´¹èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœçŸ­æ—¶é—´å†…æ²¡æœ‰è¶³å¤Ÿçš„æœåŠ¡å™¨èµ„æºè¿›è¡Œæ‰©å®¹ï¼Œæ²¡åŠæ³•çš„åŠæ³•æ˜¯ï¼Œå°†ç³»ç»Ÿé™çº§ï¼Œé€šè¿‡å…³é—­ä¸€äº›ä¸é‡è¦çš„ä¸šåŠ¡ï¼Œå‡å°‘å‘é€æ–¹å‘é€çš„æ•°æ®é‡ï¼Œæœ€ä½é™åº¦è®©ç³»ç»Ÿè¿˜èƒ½æ­£å¸¸è¿è½¬ï¼ŒæœåŠ¡ä¸€äº›é‡è¦ä¸šåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ç§ä¸å¤ªå¸¸è§çš„æƒ…å†µï¼Œä½ é€šè¿‡ç›‘æ§å‘ç°ï¼Œæ— è®ºæ˜¯å‘é€æ¶ˆæ¯çš„é€Ÿåº¦è¿˜æ˜¯æ¶ˆè´¹æ¶ˆæ¯çš„é€Ÿåº¦å’ŒåŸæ¥éƒ½æ²¡ä»€ä¹ˆå˜åŒ–ï¼Œè¿™æ—¶å€™ä½ éœ€è¦æ£€æŸ¥ä¸€ä¸‹ä½ çš„æ¶ˆè´¹ç«¯ï¼Œæ˜¯ä¸æ˜¯æ¶ˆè´¹å¤±è´¥å¯¼è‡´çš„ä¸€æ¡æ¶ˆæ¯åå¤æ¶ˆè´¹è¿™ç§æƒ…å†µæ¯”è¾ƒå¤šï¼Œè¿™&lt;/p&gt;
&lt;p&gt;ç§æƒ…å†µä¹Ÿä¼šæ‹–æ…¢æ•´ä¸ªç³»ç»Ÿçš„æ¶ˆè´¹é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœç›‘æ§åˆ°æ¶ˆè´¹å˜æ…¢äº†ï¼Œä½ éœ€è¦æ£€æŸ¥ä½ çš„æ¶ˆè´¹å®ä¾‹ï¼Œåˆ†æä¸€ä¸‹æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´æ¶ˆè´¹å˜æ…¢ã€‚ä¼˜å…ˆæ£€æŸ¥ä¸€ä¸‹æ—¥å¿—æ˜¯å¦æœ‰å¤§é‡çš„æ¶ˆè´¹é”™è¯¯ï¼Œå¦‚æœæ²¡æœ‰é”™è¯¯çš„è¯ï¼Œå¯ä»¥é€šè¿‡æ‰“å°å †æ ˆä¿¡æ¯ï¼Œçœ‹ä¸€ä¸‹ä½ çš„æ¶ˆè´¹çº¿ç¨‹æ˜¯ä¸æ˜¯å¡åœ¨&lt;/p&gt;
&lt;p&gt;ä»€ä¹ˆåœ°æ–¹ä¸åŠ¨äº†ï¼Œæ¯”å¦‚è§¦å‘äº†æ­»é”æˆ–è€…å¡åœ¨ç­‰å¾…æŸäº›èµ„æºä¸Šäº†ã€‚&lt;/p&gt;
&lt;p&gt;**ä¼˜åŒ–æ¶ˆæ¯æ”¶å‘æ€§èƒ½ï¼Œ**é¢„é˜²æ¶ˆæ¯ç§¯å‹çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼Œå¢åŠ æ‰¹é‡æˆ–è€…æ˜¯å¢åŠ å¹¶å‘ï¼Œåœ¨å‘é€ç«¯è¿™ä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥ä½¿ç”¨ï¼Œåœ¨æ¶ˆè´¹ç«¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¢åŠ å¹¶å‘éœ€è¦åŒæ­¥æ‰©å®¹åˆ†åŒºæ•°é‡ï¼Œå¦åˆ™æ˜¯èµ·ä¸åˆ°æ•ˆæœçš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¯¹äºç³»ç»Ÿå‘ç”Ÿæ¶ˆæ¯ç§¯å‹çš„æƒ…å†µ&lt;/strong&gt;ï¼Œéœ€è¦å…ˆè§£å†³ç§¯å‹ï¼Œå†åˆ†æåŸå› ï¼Œæ¯•ç«Ÿä¿è¯ç³»ç»Ÿçš„å¯ç”¨æ€§æ˜¯é¦–å…ˆè¦è§£å†³çš„é—®é¢˜ã€‚å¿«é€Ÿè§£å†³ç§¯å‹çš„æ–¹æ³•å°±æ˜¯é€šè¿‡æ°´å¹³æ‰©å®¹å¢åŠ  Consumer çš„å®ä¾‹æ•°é‡ã€‚&lt;/p&gt;
&lt;p&gt;æ¶ˆæ¯ç§¯å‹å¤„ç†ï¼š
1ã€å‘é€ç«¯ä¼˜åŒ–ï¼Œå¢åŠ æ‰¹é‡å’Œçº¿ç¨‹å¹¶å‘ä¸¤ç§æ–¹å¼å¤„ç†
2ã€æ¶ˆè´¹ç«¯ä¼˜åŒ–ï¼Œä¼˜åŒ–ä¸šåŠ¡é€»è¾‘ä»£ç ã€æ°´å¹³æ‰©å®¹å¢åŠ å¹¶å‘å¹¶åŒæ­¥æ‰©å®¹åˆ†åŒºæ•°é‡
æŸ¥çœ‹æ¶ˆæ¯ç§¯å‹çš„æ–¹æ³•ï¼š
1ã€æ¶ˆæ¯é˜Ÿåˆ—å†…ç½®ç›‘æ§ï¼ŒæŸ¥çœ‹å‘é€ç«¯å‘é€æ¶ˆæ¯ä¸æ¶ˆè´¹ç«¯æ¶ˆè´¹æ¶ˆæ¯çš„é€Ÿåº¦å˜åŒ–
2ã€æŸ¥çœ‹æ—¥å¿—æ˜¯å¦æœ‰å¤§é‡çš„æ¶ˆè´¹é”™è¯¯
3ã€æ‰“å°å †æ ˆä¿¡æ¯ï¼ŒæŸ¥çœ‹æ¶ˆè´¹çº¿ç¨‹å¡ç‚¹ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;é¢è¯•è§£å†³æ¶ˆæ¯ç§¯å‹çš„æ–¹æ³•ï¼š
ï¼ˆ1ï¼‰ä¸´æ—¶æ‰©å®¹ï¼Œå¢åŠ æ¶ˆè´¹ç«¯ï¼Œç”¨ç¡¬ä»¶æå‡æ¶ˆè´¹é€Ÿåº¦ã€‚
ï¼ˆ2ï¼‰æœåŠ¡é™çº§ï¼Œå…³é—­ä¸€äº›éæ ¸å¿ƒä¸šåŠ¡ï¼Œå‡å°‘æ¶ˆæ¯ç”Ÿäº§ã€‚
ï¼ˆ3ï¼‰é€šè¿‡æ—¥å¿—åˆ†æï¼Œç›‘æ§ç­‰æ‰¾åˆ°æŒ¤å‹åŸå› ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ä¸‰éƒ¨åˆ†ï¼Œä¸Šæ¸¸ç”Ÿäº§è€…æ˜¯å¦å¼‚å¸¸ç”Ÿäº§å¤§é‡æ•°æ®ï¼Œä¸­æ¸¸æ¶ˆæ¯é˜Ÿåˆ—å­˜å‚¨å±‚æ˜¯å¦å‡ºç°é—®é¢˜ï¼Œä¸‹æ¸¸æ¶ˆè´¹é€Ÿåº¦æ˜¯å¦å˜æ…¢ï¼Œå°±èƒ½ç¡®å®šå“ªä¸ªç¯èŠ‚å‡ºäº†é—®é¢˜
ï¼ˆ4ï¼‰æ ¹æ®æ’æŸ¥è§£å†³å¼‚å¸¸éƒ¨åˆ†ã€‚
ï¼ˆ5ï¼‰ç­‰å¾…ç§¯å‹çš„æ¶ˆæ¯è¢«æ¶ˆè´¹ï¼Œæ¢å¤åˆ°æ­£å¸¸çŠ¶æ€ï¼Œæ’¤æ‰æ‰©å®¹æœåŠ¡å™¨ã€‚&lt;/p&gt;
&lt;h1 id=&#34;4-å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„ä¸¥æ ¼é¡ºåº&#34;&gt;4. å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„ä¸¥æ ¼é¡ºåºï¼Ÿ&lt;/h1&gt;
&lt;p&gt;æ€ä¹ˆæ¥ä¿è¯æ¶ˆæ¯çš„ä¸¥æ ¼é¡ºåºï¼Ÿä¸»é¢˜å±‚é¢æ˜¯æ— æ³•ä¿è¯ä¸¥æ ¼é¡ºåºçš„ï¼Œ&lt;strong&gt;åªæœ‰åœ¨é˜Ÿåˆ—ä¸Šæ‰èƒ½ä¿è¯æ¶ˆæ¯çš„ä¸¥æ ¼é¡ºåºã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœè¯´ï¼Œ&lt;strong&gt;ä½ çš„ä¸šåŠ¡å¿…é¡»è¦æ±‚å…¨å±€ä¸¥æ ¼é¡ºåºï¼Œå°±åªèƒ½æŠŠæ¶ˆæ¯é˜Ÿåˆ—æ•°é…ç½®æˆ 1ï¼Œç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä¹Ÿåªèƒ½æ˜¯ä¸€ä¸ªå®ä¾‹ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯å…¨å±€ä¸¥æ ¼é¡ºåºã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå¹¶ä¸éœ€è¦å…¨å±€ä¸¥æ ¼é¡ºåºï¼Œåªè¦ä¿è¯å±€éƒ¨æœ‰åºå°±å¯ä»¥æ»¡è¶³è¦æ±‚äº†ã€‚æ¯”å¦‚ï¼Œåœ¨ä¼ é€’è´¦æˆ·æµæ°´è®°å½•çš„æ—¶å€™ï¼Œ&lt;strong&gt;åªè¦ä¿è¯æ¯ä¸ªè´¦æˆ·çš„æµæ°´æœ‰åºå°±å¯ä»¥äº†ï¼Œä¸åŒè´¦æˆ·ä¹‹é—´çš„æµæ°´è®°å½•æ˜¯ä¸éœ€è¦ä¿è¯é¡ºåºçš„ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœéœ€è¦&lt;strong&gt;ä¿è¯å±€éƒ¨ä¸¥æ ¼é¡ºåº&lt;/strong&gt;ï¼Œå¯ä»¥è¿™æ ·æ¥å®ç°ã€‚åœ¨å‘é€ç«¯ï¼Œæˆ‘ä»¬ä½¿ç”¨è´¦æˆ· ID ä½œä¸º Keyï¼Œ&lt;strong&gt;é‡‡ç”¨ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•è®¡ç®—å‡ºé˜Ÿåˆ—ç¼–å·&lt;/strong&gt;ï¼Œ&lt;strong&gt;æŒ‡å®šé˜Ÿåˆ—æ¥å‘é€æ¶ˆæ¯ã€‚ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•å¯ä»¥ä¿è¯&lt;/strong&gt;ï¼Œ&lt;strong&gt;ç›¸åŒ Key çš„æ¶ˆæ¯æ€»æ˜¯å‘é€åˆ°åŒä¸€&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸ªé˜Ÿåˆ—ä¸Š&lt;/strong&gt;ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ç›¸åŒ Key çš„æ¶ˆæ¯æ˜¯ä¸¥æ ¼æœ‰åºçš„ã€‚å¦‚æœä¸è€ƒè™‘é˜Ÿåˆ—æ‰©å®¹ï¼Œä¹Ÿå¯ä»¥ç”¨é˜Ÿåˆ—æ•°é‡å–æ¨¡çš„ç®€å•æ–¹æ³•æ¥è®¡ç®—é˜Ÿåˆ—ç¼–å·ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Bæ ‘å’ŒB&#43;æ ‘</title>
        <link>https://lxb.wiki/17ced2c4/</link>
        <pubDate>Sun, 11 Jul 2021 21:07:59 +0000</pubDate>
        
        <guid>https://lxb.wiki/17ced2c4/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;&lt;strong&gt;ä¸€ Bæ ‘&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;**1.Bæ ‘çš„å®šä¹‰ï¼š**Bæ ‘ï¼ˆB-treeï¼‰æ˜¯ä¸€ç§æ ‘çŠ¶æ•°æ®ç»“æ„ï¼Œå®ƒèƒ½å¤Ÿå­˜å‚¨æ•°æ®ã€å¯¹å…¶è¿›è¡Œæ’åºå¹¶å…è®¸ä»¥O(log n)çš„æ—¶é—´å¤æ‚åº¦è¿è¡Œè¿›è¡ŒæŸ¥æ‰¾ã€é¡ºåºè¯»å–ã€æ’å…¥å’Œåˆ é™¤çš„æ•°æ®ç»“æ„ã€‚Bæ ‘ï¼Œæ¦‚æ‹¬æ¥è¯´æ˜¯ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥æ‹¥æœ‰å¤šäº2ä¸ªå­èŠ‚ç‚¹çš„äºŒå‰æŸ¥æ‰¾æ ‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.Bæ ‘çš„ç‰¹å¾ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ ¹èŠ‚ç‚¹è‡³å°‘æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªä¸­é—´èŠ‚ç‚¹éƒ½åŒ…å«k-1ä¸ªå…ƒç´ å’Œkä¸ªå­©å­ï¼Œå…¶ä¸­ m/2 â‰¤ k â‰¤ m ï¼ˆmä¸ºæ ‘çš„é˜¶ï¼‰&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªå¶å­èŠ‚ç‚¹éƒ½åŒ…å«k-1ä¸ªå…ƒç´ ï¼Œå…¶ä¸­ m/2 â‰¤ k â‰¤ m ï¼ˆmä¸ºæ ‘çš„é˜¶ï¼‰&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªèŠ‚ç‚¹ä¸­çš„å…ƒç´ ä»å°åˆ°å¤§æ’åˆ—ï¼ŒèŠ‚ç‚¹å½“ä¸­k-1ä¸ªå…ƒç´ æ­£å¥½æ˜¯kä¸ªå­©å­åŒ…å«çš„å…ƒç´ çš„å€¼åŸŸåˆ’åˆ†ï¼ˆä¸€ä¸ªç»“ç‚¹æœ‰kä¸ªå­©å­æ—¶ï¼Œå¿…æœ‰k-1ä¸ªå…ƒç´ æ‰èƒ½å°†å­æ ‘ä¸­æ‰€æœ‰å…ƒç´ åˆ’åˆ†ä¸ºkä¸ªå­é›†ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;3.Bæ ‘çš„æ“ä½œ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;**3.1 Bæ ‘çš„æŸ¥æ‰¾ï¼š**å¦‚ä¸‹å›¾ï¼ŒæŸ¥è¯¢å…ƒç´ 8&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220212210837.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ¬¡ç£ç›˜IOï¼šæŠŠ15æ‰€åœ¨èŠ‚ç‚¹è¯»åˆ°å†…å­˜ä¸­ï¼Œç„¶åä¸8åšæ¯”è¾ƒï¼Œå°äº15ï¼Œæ‰¾åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆ5å’Œ9å¯¹åº”çš„èŠ‚ç‚¹ï¼‰&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒæ¬¡ç£ç›˜IOï¼šæŠŠ5å’Œ9æ‰€åœ¨çš„èŠ‚ç‚¹è¯»åˆ°å†…å­˜ä¸­ï¼Œç„¶åä¸8åšæ¯”è¾ƒï¼Œ5&amp;lt;8&amp;lt;9ï¼Œæ‰¾åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆ6å’Œ8å¯¹åº”çš„èŠ‚ç‚¹ï¼‰&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰æ¬¡ç£ç›˜IOï¼šæŠŠ6å’Œ8æ‰€åœ¨èŠ‚ç‚¹è¯»åˆ°å†…å­˜ä¸­ï¼Œç„¶åä¸8åšæ¯”è¾ƒï¼Œæ‰¾åˆ°äº†å…ƒç´ 8&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.1 Bæ ‘çš„æ’å…¥ï¼š&lt;/strong&gt; å°†å…ƒç´ 7æ’å…¥ä¸‹å›¾ä¸­çš„Bæ ‘&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220212211015.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ­¥éª¤ä¸€ï¼šè‡ªé¡¶å‘ä¸‹æŸ¥æ‰¾å…ƒç´ 7åº”è¯¥åœ¨çš„ä½ç½®ï¼Œå³åœ¨6å’Œ8ä¹‹é—´&lt;/p&gt;
&lt;p&gt;æ­¥éª¤äºŒï¼šä¸‰é˜¶Bæ ‘ä¸­çš„èŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå…ƒç´ ï¼ŒæŠŠ6 7 8é‡Œé¢çš„ä¸­é—´å…ƒç´ ä¸Šç§»ï¼ˆä¸­é—´å…ƒç´ ä¸Šç§»æ˜¯æ’å…¥æ“ä½œçš„å…³é”®ï¼‰&lt;/p&gt;
&lt;p&gt;æ­¥éª¤ä¸‰ï¼šä¸Šç§»ä¹‹åï¼Œä¸Šä¸€å±‚èŠ‚ç‚¹å…ƒç´ ä¹Ÿè¶…è½½äº†ï¼Œ5 7 9ä¸­é—´å…ƒç´ ä¸Šç§»ï¼Œç°åœ¨æ ¹èŠ‚ç‚¹å˜ä¸ºäº† 7 15&lt;/p&gt;
&lt;p&gt;æ­¥éª¤å››ï¼šè¦å¯¹Bæ ‘è¿›è¡Œè°ƒæ•´ï¼Œä½¿å…¶æ»¡è¶³Bæ ‘çš„ç‰¹æ€§ï¼Œæœ€ç»ˆå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220212211040.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;äºŒ B+æ ‘&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;B+æ ‘æ˜¯Bæ ‘çš„ä¸€ç§å˜å½¢ä½“ï¼Œå®ƒä¸Bæ ‘çš„å·®å¼‚åœ¨äºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ‰Kä¸ªå­èŠ‚ç‚¹çš„èŠ‚ç‚¹å¿…ç„¶æœ‰Kä¸ªå…³é”®ç &lt;/li&gt;
&lt;li&gt;éå¶èŠ‚ç‚¹ä»…å…·æœ‰ç´¢å¼•ä½œç”¨ï¼Œå…ƒç´ ä¿¡æ¯å‡å­˜æ”¾åœ¨å¶èŠ‚ç‚¹ä¸­&lt;/li&gt;
&lt;li&gt;æ ‘çš„æ‰€æœ‰å¶èŠ‚ç‚¹æ„æˆä¸€ä¸ªæœ‰åºé“¾è¡¨ï¼Œå¯ä»¥æŒ‰ç…§å…³é”®ç æ’åºçš„æ¬¡åºéå†å…¨éƒ¨è®°å½•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;B+æ ‘çš„ä¼˜åŠ¿ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç”±äºB+æ ‘åœ¨å†…éƒ¨èŠ‚ç‚¹ä¸Šä¸åŒ…å«æ•°æ®ä¿¡æ¯ï¼Œå› æ­¤åœ¨å†…å­˜é¡µä¸­èƒ½å¤Ÿå­˜æ”¾æ›´å¤šçš„keyã€‚ æ•°æ®å­˜æ”¾çš„æ›´åŠ ç´§å¯†ï¼Œå…·æœ‰æ›´å¥½çš„ç©ºé—´å±€éƒ¨æ€§ã€‚å› æ­¤è®¿é—®å¶å­èŠ‚ç‚¹ä¸Šå…³è”çš„æ•°æ®ä¹Ÿå…·æœ‰æ›´å¥½çš„ç¼“å­˜å‘½ä¸­ç‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;B+æ ‘çš„å¶å­èŠ‚ç‚¹éƒ½æ˜¯ç›¸è¿çš„ï¼Œå› æ­¤å¯¹æ•´æ£µæ ‘çš„éå†åªéœ€è¦ä¸€æ¬¡çº¿æ€§éå†å¶å­èŠ‚ç‚¹å³å¯ã€‚è€Œä¸”ç”±äºæ•°æ®é¡ºåºæ’åˆ—å¹¶ä¸”ç›¸è¿ï¼Œæ‰€ä»¥ä¾¿äºåŒºé—´æŸ¥æ‰¾å’Œæœç´¢ã€‚è€ŒBæ ‘åˆ™éœ€è¦è¿›è¡Œæ¯ä¸€å±‚çš„é€’å½’éå†ã€‚ç›¸é‚»çš„å…ƒç´ å¯èƒ½åœ¨å†…å­˜ä¸­ä¸ç›¸é‚»ï¼Œæ‰€ä»¥ç¼“å­˜å‘½ä¸­æ€§æ²¡æœ‰B+æ ‘å¥½ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220212211103.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ€»ç»“ï¼šæˆ‘ä»¬çŸ¥é“äºŒå‰æŸ¥æ‰¾æ ‘çš„æ—¶é—´å¤æ‚åº¦æ˜¯ï¼¯(logN)ï¼Œæ•ˆç‡å·²ç»è¶³å¤Ÿé«˜ã€‚ä¸ºä»€ä¹ˆå‡ºç°Bæ ‘å’ŒB+æ ‘å‘¢ï¼Ÿå½“å¤§é‡æ•°æ®å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œè¿›è¡ŒæŸ¥è¯¢æ“ä½œæ—¶ï¼Œéœ€è¦å…ˆå°†æ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ï¼ˆç£ç›˜IOæ“ä½œï¼‰ï¼Œè€Œæ•°æ®å¹¶ä¸èƒ½ä¸€æ¬¡æ€§å…¨éƒ¨åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œåªèƒ½é€ä¸€åŠ è½½æ¯ä¸ªç£ç›˜é¡µï¼ˆå¯¹åº”æ ‘çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼‰ï¼Œå¹¶ä¸”ç£ç›˜IOæ“ä½œå¾ˆæ…¢ï¼Œå¹³è¡¡äºŒå‰æ ‘ç”±äºæ ‘æ·±åº¦è¿‡å¤§è€Œé€ æˆç£ç›˜IOè¯»å†™è¿‡äºé¢‘ç¹ï¼Œè¿›è€Œå¯¼è‡´æ•ˆç‡ä½ä¸‹ã€‚ä¸ºäº†å‡å°‘ç£ç›˜IOçš„æ¬¡æ•°ï¼Œå°±éœ€è¦é™ä½æ ‘çš„æ·±åº¦ï¼Œé‚£ä¹ˆå°±å¼•å‡ºäº†Bæ ‘å’ŒB+æ ‘ï¼šæ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨å¤šä¸ªå…ƒç´ ï¼Œé‡‡ç”¨å¤šå‰æ ‘ç»“æ„ã€‚è¿™æ ·å°±æé«˜äº†æ•ˆç‡ï¼Œæ¯”å¦‚æ•°æ®åº“ç´¢å¼•ï¼Œå°±æ˜¯å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œé‡‡ç”¨çš„å°±æ˜¯B+æ ‘çš„æ•°æ®ç»“æ„ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Redis-Sorted-Setåº•å±‚æ•°æ®ç»“æ„</title>
        <link>https://lxb.wiki/f1113725/</link>
        <pubDate>Tue, 22 Jun 2021 22:56:12 +0000</pubDate>
        
        <guid>https://lxb.wiki/f1113725/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h1 id=&#34;sortedsetåº•å±‚å­˜å‚¨ç»“æ„&#34;&gt;Sortedsetåº•å±‚å­˜å‚¨ç»“æ„&lt;/h1&gt;
&lt;p&gt;sortedsetåŒæ—¶ä¼šç”±ä¸¤ç§æ•°æ®ç»“æ„æ”¯æŒ,ziplistå’Œskiplist.&lt;/p&gt;
&lt;p&gt;åªæœ‰åŒæ—¶æ»¡è¶³å¦‚ä¸‹æ¡ä»¶æ˜¯,ä½¿ç”¨çš„æ˜¯ziplist,å…¶ä»–æ—¶å€™åˆ™æ˜¯ä½¿ç”¨skiplist&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ‰åºé›†åˆä¿å­˜çš„å…ƒç´ æ•°é‡å°äº128ä¸ª&lt;/li&gt;
&lt;li&gt;æœ‰åºé›†åˆä¿å­˜çš„æ‰€æœ‰å…ƒç´ çš„é•¿åº¦å°äº64å­—èŠ‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å½“ziplistä½œä¸ºå­˜å‚¨ç»“æ„æ—¶å€™,æ¯ä¸ªé›†åˆå…ƒç´ ä½¿ç”¨ä¸¤ä¸ªç´§æŒ¨åœ¨ä¸€èµ·çš„å‹ç¼©åˆ—è¡¨ç»“ç‚¹æ¥ä¿å­˜,ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¿å­˜å…ƒç´ çš„æˆå‘˜,ç¬¬äºŒä¸ªå…ƒç´ ä¿å­˜å…ƒç´ çš„åˆ†å€¼.&lt;/p&gt;
&lt;p&gt;å½“ä½¿ç”¨skiplistä½œä¸ºå­˜å‚¨ç»“æ„æ—¶,ä½¿ç”¨skiplistæŒ‰åºä¿å­˜å…ƒç´ åˆ†å€¼,ä½¿ç”¨dictæ¥ä¿å­˜å…ƒç´ å’Œåˆ†å€¼çš„å¯¹åº”å…³ç³»&lt;/p&gt;
&lt;h2 id=&#34;1-è·³è·ƒè¡¨&#34;&gt;1 è·³è·ƒè¡¨&lt;/h2&gt;
&lt;p&gt;è·³è·ƒè¡¨ï¼ˆskiplistï¼‰æ˜¯ä¸€ç§æœ‰åºæ•°æ®ç»“æ„ï¼Œå®ƒé€šè¿‡åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸­ç»´æŒå¤šä¸ªæŒ‡å‘å…¶ä»–èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œä»è€Œè¾¾åˆ°å¿«é€Ÿè®¿é—®èŠ‚ç‚¹çš„ç›®çš„ã€‚è·³è·ƒè¡¨æ”¯æŒå¹³å‡Oï¼ˆlogNï¼‰ã€æœ€åOï¼ˆNï¼‰å¤æ‚åº¦çš„èŠ‚ç‚¹æŸ¥æ‰¾ï¼Œè¿˜å¯ä»¥é€šè¿‡é¡ºåºæ€§æ“ä½œæ¥æ‰¹é‡å¤„ç†èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œè·³è·ƒè¡¨çš„æ•ˆç‡å¯ä»¥å’Œå¹³è¡¡æ ‘ç›¸åª²ç¾ï¼Œå¹¶ä¸”å› ä¸ºè·³è·ƒè¡¨çš„å®ç°æ¯”å¹³è¡¡æ ‘è¦æ¥å¾—æ›´ä¸ºç®€å•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Redisä½¿ç”¨è·³è·ƒè¡¨ä½œä¸ºæœ‰åºé›†åˆé”®çš„åº•å±‚å®ç°ä¹‹ä¸€ï¼Œå¦‚æœä¸€ä¸ªæœ‰åºé›†åˆåŒ…å«çš„å…ƒç´ æ•°é‡æ¯”è¾ƒå¤šï¼Œåˆæˆ–è€…æœ‰åºé›†åˆä¸­å…ƒç´ çš„æˆå‘˜ï¼ˆmemberï¼‰æ˜¯æ¯”è¾ƒé•¿çš„å­—ç¬¦ä¸²æ—¶ï¼ŒRediså°±ä¼šä½¿ç”¨è·³è·ƒè¡¨æ¥ä½œä¸ºæœ‰åºé›†åˆé”®çš„åº•å±‚å®ç°ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Redisåªåœ¨ä¸¤ä¸ªåœ°æ–¹ç”¨åˆ°äº†è·³è·ƒè¡¨ï¼Œä¸€ä¸ªæ˜¯å®ç°æœ‰åºé›†åˆé”®ï¼Œå¦ä¸€ä¸ªæ˜¯åœ¨é›†ç¾¤èŠ‚ç‚¹ä¸­ç”¨ä½œå†…éƒ¨æ•°æ®ç»“æ„ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œè·³è·ƒè¡¨åœ¨Redisé‡Œé¢æ²¡æœ‰å…¶ä»–ç”¨é€”ã€‚&lt;/p&gt;
&lt;p&gt;Redisçš„é…ç½®æ–‡ä»¶ä¸­å…³äºæœ‰åºé›†åˆåº•å±‚å®ç°çš„ä¸¤ä¸ªé…ç½®ã€‚
1ï¼‰zset-max-ziplist-entries 128:zseté‡‡ç”¨å‹ç¼©åˆ—è¡¨æ—¶ï¼Œå…ƒç´ ä¸ªæ•°æœ€å¤§å€¼ã€‚é»˜è®¤å€¼ä¸º128ã€‚
2ï¼‰zset-max-ziplist-value 64:zseté‡‡ç”¨å‹ç¼©åˆ—è¡¨æ—¶ï¼Œæ¯ä¸ªå…ƒç´ çš„å­—ç¬¦ä¸²é•¿åº¦æœ€å¤§å€¼ã€‚é»˜è®¤å€¼ä¸º64ã€‚
zsetæ’å…¥ç¬¬ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œä¼šåˆ¤æ–­ä¸‹é¢ä¸¤ç§æ¡ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;zset-max-ziplist-entriesçš„å€¼æ˜¯å¦ç­‰äº0ï¼›&lt;/li&gt;
&lt;li&gt;zset-max-ziplist-valueå°äºè¦æ’å…¥å…ƒç´ çš„å­—ç¬¦ä¸²é•¿åº¦ã€‚æ»¡è¶³ä»»ä¸€æ¡ä»¶Rediså°±ä¼šé‡‡ç”¨è·³è·ƒè¡¨ä½œä¸ºåº•å±‚å®ç°ï¼Œå¦åˆ™é‡‡ç”¨å‹ç¼©åˆ—è¡¨ä½œä¸ºåº•å±‚å®ç°æ–¹å¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸ä¼šå°†zset-max-ziplist-entriesé…ç½®æˆ0ï¼Œå…ƒç´ çš„å­—ç¬¦ä¸²é•¿åº¦ä¹Ÿä¸ä¼šå¤ªé•¿ï¼Œæ‰€ä»¥åœ¨åˆ›å»ºæœ‰åºé›†åˆæ—¶ï¼Œé»˜è®¤ä½¿ç”¨å‹ç¼©åˆ—è¡¨çš„åº•å±‚å®ç°ã€‚zsetæ–°æ’å…¥å…ƒç´ æ—¶ï¼Œä¼šåˆ¤æ–­ä»¥ä¸‹ä¸¤ç§æ¡ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;zsetä¸­å…ƒç´ ä¸ªæ•°å¤§äºzset_max_ziplist_entriesï¼›&lt;/li&gt;
&lt;li&gt;æ’å…¥å…ƒç´ çš„å­—ç¬¦ä¸²é•¿åº¦å¤§äºzset_max_ziplist_valueã€‚å½“æ»¡è¶³ä»»ä¸€æ¡ä»¶æ—¶ï¼ŒRedisä¾¿ä¼šå°†zsetçš„åº•å±‚å®ç°ç”±å‹ç¼©åˆ—è¡¨è½¬ä¸ºè·³è·ƒè¡¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;zsetåœ¨è½¬ä¸ºè·³è·ƒè¡¨ä¹‹åï¼Œå³ä½¿å…ƒç´ è¢«é€æ¸åˆ é™¤ï¼Œä¹Ÿä¸ä¼šé‡æ–°è½¬ä¸ºå‹ç¼©åˆ—è¡¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;2-è·³è·ƒè¡¨çš„ç»“æ„&#34;&gt;2 è·³è·ƒè¡¨çš„ç»“æ„&lt;/h2&gt;
&lt;p&gt;å…¶cè¯­è¨€ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; zskiplistNode {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;//æˆå‘˜å¯¹è±¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    robj &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;obj;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;double&lt;/span&gt; score;&lt;span style=&#34;color:#75715e&#34;&gt;//åˆ†å€¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; zskiplistNode &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;backward;&lt;span style=&#34;color:#75715e&#34;&gt;//å›é€€æŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//å±‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; zskiplistLevel {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	&lt;span style=&#34;color:#75715e&#34;&gt;//å‰è¿›æŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; zskiplistNode &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;forward;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;//è·¨åº¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; span;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } level[];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} zskiplistNode;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;1ï¼‰objï¼šç”¨äºå­˜å‚¨å­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®ã€‚
2ï¼‰scoreï¼šç”¨äºå­˜å‚¨æ’åºçš„åˆ†å€¼ã€‚
3ï¼‰backwardï¼šåé€€æŒ‡é’ˆï¼Œåªèƒ½æŒ‡å‘å½“å‰èŠ‚ç‚¹æœ€åº•å±‚çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¤´èŠ‚ç‚¹å’Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹â€”â€”backwardæŒ‡å‘NULLï¼Œä»åå‘å‰éå†è·³è·ƒè¡¨æ—¶ä½¿ç”¨ã€‚
4ï¼‰levelï¼šä¸ºæŸ”æ€§æ•°ç»„ã€‚æ¯ä¸ªèŠ‚ç‚¹çš„æ•°ç»„é•¿åº¦ä¸ä¸€æ ·ï¼Œåœ¨ç”Ÿæˆè·³è·ƒè¡¨èŠ‚ç‚¹æ—¶ï¼Œéšæœºç”Ÿæˆä¸€ä¸ª1ï½64çš„å€¼ï¼Œå€¼è¶Šå¤§å‡ºç°çš„æ¦‚ç‡è¶Šä½ã€‚
levelæ•°ç»„çš„æ¯é¡¹åŒ…å«ä»¥ä¸‹ä¸¤ä¸ªå…ƒç´ ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;forwardï¼šæŒ‡å‘æœ¬å±‚ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°¾èŠ‚ç‚¹çš„forwardæŒ‡å‘NULLã€‚&lt;/li&gt;
&lt;li&gt;span:forwardæŒ‡å‘çš„èŠ‚ç‚¹ä¸æœ¬èŠ‚ç‚¹ä¹‹é—´çš„å…ƒç´ ä¸ªæ•°ã€‚spanå€¼è¶Šå¤§ï¼Œè·³è¿‡çš„èŠ‚ç‚¹ä¸ªæ•°è¶Šå¤šã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é™¤äº†è·³è·ƒè¡¨èŠ‚ç‚¹å¤–ï¼Œè¿˜éœ€è¦ä¸€ä¸ªè·³è·ƒè¡¨ç»“æ„æ¥ç®¡ç†èŠ‚ç‚¹ï¼ŒRedisä½¿ç”¨zskiplistç»“æ„ä½“ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; zskiplist {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; zskiplistNode &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;header, &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;tail;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; length;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; level;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} zskiplist;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;1ï¼‰headerï¼šæŒ‡å‘è·³è·ƒè¡¨å¤´èŠ‚ç‚¹ã€‚å¤´èŠ‚ç‚¹æ˜¯è·³è·ƒè¡¨çš„ä¸€ä¸ªç‰¹æ®ŠèŠ‚ç‚¹ï¼Œå®ƒçš„levelæ•°ç»„å…ƒç´ ä¸ªæ•°ä¸º64ã€‚å¤´èŠ‚ç‚¹åœ¨æœ‰åºé›†åˆä¸­ä¸å­˜å‚¨ä»»ä½•memberå’Œscoreå€¼ï¼Œeleå€¼ä¸ºNULL, scoreå€¼ä¸º0ï¼›ä¹Ÿä¸è®¡å…¥è·³è·ƒè¡¨çš„æ€»é•¿åº¦ã€‚å¤´èŠ‚ç‚¹åœ¨åˆå§‹åŒ–æ—¶ï¼Œ64ä¸ªå…ƒç´ çš„forwardéƒ½æŒ‡å‘NULL, spanå€¼éƒ½ä¸º0ã€‚
2ï¼‰tailï¼šæŒ‡å‘è·³è·ƒè¡¨å°¾èŠ‚ç‚¹ã€‚
3ï¼‰lengthï¼šè·³è·ƒè¡¨é•¿åº¦ï¼Œè¡¨ç¤ºé™¤å¤´èŠ‚ç‚¹ä¹‹å¤–çš„èŠ‚ç‚¹æ€»æ•°ã€‚
4ï¼‰levelï¼šè·³è·ƒè¡¨çš„é«˜åº¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220212210023.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æŸ¥æ‰¾ä»æœ€é«˜å±‚å¼€å§‹ï¼Œå¦‚æœæœ¬å±‚çš„nextèŠ‚ç‚¹å¤§äºè¦æŸ¥æ‰¾çš„å€¼æˆ–nextèŠ‚ç‚¹ä¸ºNULLï¼Œåˆ™ä»æœ¬èŠ‚ç‚¹å¼€å§‹ï¼Œé™ä½ä¸€å±‚ç»§ç»­å‘åæŸ¥æ‰¾ï¼Œä¾æ¬¡ç±»æ¨ï¼Œå¦‚æœæ‰¾åˆ°åˆ™è¿”å›èŠ‚ç‚¹ï¼›å¦åˆ™è¿”å›NULLã€‚é‡‡ç”¨è¯¥åŸç†æŸ¥æ‰¾èŠ‚ç‚¹ï¼Œåœ¨èŠ‚ç‚¹æ•°é‡æ¯”è¾ƒå¤šæ—¶ï¼Œå¯ä»¥è·³è¿‡ä¸€äº›èŠ‚ç‚¹ï¼ŒæŸ¥è¯¢æ•ˆç‡å¤§å¤§æå‡ï¼Œè¿™å°±æ˜¯è·³è·ƒè¡¨çš„åŸºæœ¬æ€æƒ³ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;1ï¼‰è·³è·ƒè¡¨ç”±å¾ˆå¤šå±‚æ„æˆã€‚
2ï¼‰è·³è·ƒè¡¨æœ‰ä¸€ä¸ªå¤´ï¼ˆheaderï¼‰èŠ‚ç‚¹ï¼Œå¤´èŠ‚ç‚¹ä¸­æœ‰ä¸€ä¸ª64å±‚çš„ç»“æ„ï¼Œæ¯å±‚çš„ç»“æ„åŒ…å«æŒ‡å‘æœ¬å±‚çš„ä¸‹ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆï¼ŒæŒ‡å‘æœ¬å±‚ä¸‹ä¸ªèŠ‚ç‚¹ä¸­é—´æ‰€è·¨è¶Šçš„èŠ‚ç‚¹ä¸ªæ•°ä¸ºæœ¬å±‚çš„è·¨åº¦ï¼ˆspanï¼‰ã€‚
3ï¼‰é™¤å¤´èŠ‚ç‚¹å¤–ï¼Œå±‚æ•°æœ€å¤šçš„èŠ‚ç‚¹çš„å±‚é«˜ä¸ºè·³è·ƒè¡¨çš„é«˜åº¦ï¼ˆlevelï¼‰
4ï¼‰æ¯å±‚éƒ½æ˜¯ä¸€ä¸ªæœ‰åºé“¾è¡¨ï¼Œæ•°æ®é€’å¢ã€‚
5ï¼‰é™¤headerèŠ‚ç‚¹å¤–ï¼Œä¸€ä¸ªå…ƒç´ åœ¨ä¸Šå±‚æœ‰åºé“¾è¡¨ä¸­å‡ºç°ï¼Œåˆ™å®ƒä¸€å®šä¼šåœ¨ä¸‹å±‚æœ‰åºé“¾è¡¨ä¸­å‡ºç°ã€‚
6ï¼‰è·³è·ƒè¡¨æ¯å±‚æœ€åä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘NULLï¼Œè¡¨ç¤ºæœ¬å±‚æœ‰åºé“¾è¡¨çš„ç»“æŸã€‚
7ï¼‰è·³è·ƒè¡¨æ‹¥æœ‰ä¸€ä¸ªtailæŒ‡é’ˆï¼ŒæŒ‡å‘è·³è·ƒè¡¨æœ€åä¸€ä¸ªèŠ‚ç‚¹ã€‚
8ï¼‰æœ€åº•å±‚çš„æœ‰åºé“¾è¡¨åŒ…å«æ‰€æœ‰èŠ‚ç‚¹ï¼Œæœ€åº•å±‚çš„èŠ‚ç‚¹ä¸ªæ•°ä¸ºè·³è·ƒè¡¨çš„é•¿åº¦ï¼ˆlengthï¼‰ï¼ˆä¸åŒ…æ‹¬å¤´èŠ‚ç‚¹ï¼‰ã€‚
9ï¼‰æ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸€ä¸ªåé€€æŒ‡é’ˆï¼Œå¤´èŠ‚ç‚¹å’Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘NULLï¼›å…¶ä»–èŠ‚ç‚¹æŒ‡å‘æœ€åº•å±‚çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Redisé€šè¿‡zslRandomLevelå‡½æ•°éšæœºç”Ÿæˆä¸€ä¸ª1ï½64çš„å€¼ä½œä¸ºæ–°å»ºèŠ‚ç‚¹çš„é«˜åº¦&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;3-å‹ç¼©åˆ—è¡¨&#34;&gt;3 å‹ç¼©åˆ—è¡¨&lt;/h2&gt;
&lt;p&gt;å‹ç¼©åˆ—è¡¨ziplistæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå­—èŠ‚æ•°ç»„ï¼Œæ˜¯Redisä¸ºäº†èŠ‚çº¦å†…å­˜è€Œè®¾è®¡çš„ä¸€ç§çº¿æ€§æ•°æ®ç»“æ„ï¼Œå¯ä»¥åŒ…å«å¤šä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ å¯ä»¥æ˜¯ä¸€ä¸ªå­—èŠ‚æ•°ç»„æˆ–ä¸€ä¸ªæ•´æ•°ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Redisçš„æœ‰åºé›†åˆã€æ•£åˆ—å’Œåˆ—è¡¨éƒ½ç›´æ¥æˆ–è€…é—´æ¥ä½¿ç”¨äº†å‹ç¼©åˆ—è¡¨ã€‚å½“æœ‰åºé›†åˆæˆ–æ•£åˆ—è¡¨çš„å…ƒç´ ä¸ªæ•°æ¯”è¾ƒå°‘ï¼Œä¸”å…ƒç´ éƒ½æ˜¯çŸ­å­—ç¬¦ä¸²æ—¶ï¼ŒRedisä¾¿ä½¿ç”¨å‹ç¼©åˆ—è¡¨ä½œä¸ºå…¶åº•å±‚æ•°æ®å­˜å‚¨ç»“æ„ã€‚åˆ—è¡¨ä½¿ç”¨å¿«é€Ÿé“¾è¡¨ï¼ˆquicklistï¼‰æ•°æ®ç»“æ„å­˜å‚¨ï¼Œè€Œå¿«é€Ÿé“¾è¡¨å°±æ˜¯åŒå‘é“¾è¡¨ä¸å‹ç¼©åˆ—è¡¨çš„ç»„åˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸€ä¸ªå‹ç¼©åˆ—è¡¨å¯ä»¥åŒ…å«ä»»æ„å¤šä¸ªèŠ‚ç‚¹ï¼ˆentryï¼‰ï¼Œ&lt;strong&gt;æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥ä¿å­˜ä¸€ä¸ªå­—èŠ‚æ•°ç»„æˆ–è€…ä¸€ä¸ªæ•´æ•°å€¼ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220212210219.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;1ï¼‰zlbytesï¼šå‹ç¼©åˆ—è¡¨çš„å­—èŠ‚é•¿åº¦ï¼Œå 4ä¸ªå­—èŠ‚ï¼Œå› æ­¤å‹ç¼©åˆ—è¡¨æœ€å¤šæœ‰232-1ä¸ªå­—èŠ‚ã€‚
2ï¼‰zltailï¼šå‹ç¼©åˆ—è¡¨å°¾å…ƒç´ ç›¸å¯¹äºå‹ç¼©åˆ—è¡¨èµ·å§‹åœ°å€çš„åç§»é‡ï¼Œå 4ä¸ªå­—èŠ‚ã€‚3ï¼‰zllenï¼šå‹ç¼©åˆ—è¡¨çš„å…ƒç´ ä¸ªæ•°ï¼Œå 2ä¸ªå­—èŠ‚ã€‚zllenæ— æ³•å­˜å‚¨å…ƒç´ ä¸ªæ•°è¶…è¿‡65535ï¼ˆ216-1ï¼‰çš„å‹ç¼©åˆ—è¡¨ï¼Œå¿…é¡»éå†æ•´ä¸ªå‹ç¼©åˆ—è¡¨æ‰èƒ½è·å–åˆ°å…ƒç´ ä¸ªæ•°ã€‚4ï¼‰entryXï¼šå‹ç¼©åˆ—è¡¨å­˜å‚¨çš„å…ƒç´ ï¼Œå¯ä»¥æ˜¯å­—èŠ‚æ•°ç»„æˆ–è€…æ•´æ•°ï¼Œé•¿åº¦ä¸é™ã€‚entryçš„ç¼–ç ç»“æ„å°†åœ¨åé¢è¯¦ç»†ä»‹ç»ã€‚
5ï¼‰zlendï¼šå‹ç¼©åˆ—è¡¨çš„ç»“å°¾ï¼Œå 1ä¸ªå­—èŠ‚ï¼Œæ’ä¸º0xFFã€‚&lt;/p&gt;
&lt;p&gt;è€Œå‹ç¼©åˆ—è¡¨å…ƒç´ (entry)çš„ç¼–ç ç»“æ„ï¼š
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220212210255.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;previous_entry_lengthå­—æ®µè¡¨ç¤ºå‰ä¸€ä¸ªå…ƒç´ çš„å­—èŠ‚é•¿åº¦
å 1ä¸ªæˆ–è€…5ä¸ªå­—èŠ‚ï¼Œå½“å‰ä¸€ä¸ªå…ƒç´ çš„é•¿åº¦å°äº254å­—èŠ‚æ—¶ï¼Œç”¨1ä¸ªå­—èŠ‚è¡¨ç¤ºï¼›å½“å‰ä¸€ä¸ªå…ƒç´ çš„é•¿åº¦å¤§äºæˆ–ç­‰äº254å­—èŠ‚æ—¶ï¼Œç”¨5ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºã€‚&lt;/li&gt;
&lt;li&gt;encodingå­—æ®µè¡¨ç¤ºå½“å‰å…ƒç´ çš„ç¼–ç &lt;/li&gt;
&lt;li&gt;æ•°æ®å†…å®¹å­˜å‚¨åœ¨contentå­—æ®µ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…¶ä¸­åŒ…å«äº†å¾ˆå¤šå¤æ‚çš„è§£ç è¿ç®—ï¼Œæƒ³è¯¦ç»†äº†è§£çš„å¯ä»¥æ‰¾å¯¹åº”çš„ä¹¦æ¥çœ‹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è¿é”æ›´æ–°&#34;&gt;è¿é”æ›´æ–°&lt;/h3&gt;
&lt;p&gt;æ¯ä¸ªèŠ‚ç‚¹çš„previous_entry_lengthå±æ€§éƒ½è®°å½•äº†å‰ä¸€ä¸ªèŠ‚ç‚¹çš„é•¿åº¦ï¼Œæ·»åŠ æ–°èŠ‚ç‚¹å¯èƒ½ä¼šå¼•å‘è¿é”æ›´æ–°ä¹‹å¤–ï¼Œåˆ é™¤èŠ‚ç‚¹ä¹Ÿå¯èƒ½ä¼šå¼•å‘è¿é”æ›´æ–°ã€‚
å› ä¸ºæŸä¸ªå¯èƒ½çš„ç»“ç‚¹previous_entry_lengthå±æ€§ä»…é•¿1å­—èŠ‚ï¼Œå®ƒæ²¡åŠæ³•ä¿å­˜æ–°èŠ‚ç‚¹newçš„é•¿åº¦ï¼Œæ‰€ä»¥ç¨‹åºå°†å¯¹å‹ç¼©åˆ—è¡¨æ‰§è¡Œç©ºé—´é‡åˆ†é…æ“ä½œï¼Œå¹¶å°†åˆ™ä¸ªèŠ‚ç‚¹çš„previous_entry_lengthå±æ€§ä»åŸæ¥çš„1å­—èŠ‚é•¿æ‰©å±•ä¸º5å­—èŠ‚é•¿ã€‚è¿›è€Œå¼•å‘åé¢çš„è¿é”æ›´æ–°ã€‚
å…¶æœ€åå¤æ‚åº¦æ˜¯Oï¼ˆN 2ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å°½ç®¡è¿é”æ›´æ–°çš„å¤æ‚åº¦è¾ƒé«˜ï¼Œä½†å®ƒçœŸæ­£é€ æˆæ€§èƒ½é—®é¢˜çš„å‡ ç‡æ˜¯å¾ˆä½çš„ï¼š&lt;/p&gt;
&lt;p&gt;å‹ç¼©åˆ—è¡¨é‡Œè¦æ°å¥½æœ‰å¤šä¸ªè¿ç»­çš„ã€é•¿åº¦ä»‹äº250å­—èŠ‚è‡³253å­—èŠ‚ä¹‹é—´çš„èŠ‚ç‚¹ï¼Œè¿é”æ›´æ–°æ‰æœ‰å¯èƒ½è¢«å¼•å‘ï¼Œåœ¨å®é™…ä¸­ï¼Œè¿™ç§æƒ…å†µå¹¶ä¸å¤šè§ï¼›
å³ä½¿å‡ºç°è¿é”æ›´æ–°ï¼Œä½†åªè¦è¢«æ›´æ–°çš„èŠ‚ç‚¹æ•°é‡ä¸å¤šï¼Œå°±ä¸ä¼šå¯¹æ€§èƒ½é€ æˆä»»ä½•å½±å“ï¼šæ¯”å¦‚è¯´ï¼Œå¯¹ä¸‰äº”ä¸ªèŠ‚ç‚¹è¿›è¡Œè¿é”æ›´æ–°æ˜¯ç»å¯¹ä¸ä¼šå½±å“æ€§èƒ½çš„ï¼›&lt;/p&gt;
&lt;h2 id=&#34;4-quicklist&#34;&gt;4 quicklist&lt;/h2&gt;
&lt;p&gt;quicklistæ˜¯Redisåº•å±‚æœ€é‡è¦çš„æ•°æ®ç»“æ„ä¹‹ä¸€ï¼Œå®ƒæ˜¯Rediså¯¹å¤–æä¾›çš„6ç§åŸºæœ¬æ•°æ®ç»“æ„ä¸­Listçš„åº•å±‚å®ç°ï¼Œåœ¨Redis 3.2ç‰ˆæœ¬ä¸­å¼•å…¥ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å¼•å…¥quicklistä¹‹å‰ï¼ŒRedisé‡‡ç”¨å‹ç¼©é“¾è¡¨ï¼ˆziplistï¼‰ä»¥åŠåŒå‘é“¾è¡¨ï¼ˆadlistï¼‰ä½œä¸ºListçš„åº•å±‚å®ç°ã€‚å½“å…ƒç´ ä¸ªæ•°æ¯”è¾ƒå°‘å¹¶ä¸”å…ƒç´ é•¿åº¦æ¯”è¾ƒå°æ—¶ï¼ŒRedisé‡‡ç”¨ziplistä½œä¸ºå…¶åº•å±‚å­˜å‚¨ï¼›å½“ä»»æ„ä¸€ä¸ªæ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼ŒRedisé‡‡ç”¨adlistä½œä¸ºåº•å±‚å­˜å‚¨ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¹ˆåšçš„ä¸»è¦åŸå› æ˜¯ï¼Œå½“å…ƒç´ é•¿åº¦è¾ƒå°æ—¶ï¼Œé‡‡ç”¨ziplistå¯ä»¥æœ‰æ•ˆèŠ‚çœå­˜å‚¨ç©ºé—´ï¼Œä½†ziplistçš„å­˜å‚¨ç©ºé—´æ˜¯è¿ç»­çš„ï¼Œå½“å…ƒç´ ä¸ªæ•°æ¯”è¾ƒå¤šæ—¶ï¼Œä¿®æ”¹å…ƒç´ æ—¶ï¼Œå¿…é¡»é‡æ–°åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œè¿™æ— ç–‘ä¼šå½±å“Redisçš„æ‰§è¡Œæ•ˆç‡ï¼Œæ•…è€Œé‡‡ç”¨ä¸€èˆ¬çš„åŒå‘é“¾è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;ç»“æ„å¦‚ä¸‹ï¼š
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220212210432.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç å¦‚ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; quicklist{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	quicklistNode &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;head;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	quicklistNode &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;tail;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; count;&lt;span style=&#34;color:#75715e&#34;&gt;//quicklistä¸­å…ƒç´ æ€»æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; len;&lt;span style=&#34;color:#75715e&#34;&gt;//quicklist Nodeï¼ˆèŠ‚ç‚¹ï¼‰ä¸ªæ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; fill : &lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;;&lt;span style=&#34;color:#75715e&#34;&gt;//æ¯ä¸ªquicklistNodeä¸­ziplisté•¿åº¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}quicklist;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; quicklistNode{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; quicklistNode &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;prev;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; quicklistNode &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;next;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;zl;&lt;span style=&#34;color:#75715e&#34;&gt;//zlæŒ‡å‘è¯¥èŠ‚ç‚¹å¯¹åº”çš„ziplistç»“æ„ï¼›
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; sz;&lt;span style=&#34;color:#75715e&#34;&gt;//æ•´ä¸ªziplistç»“æ„çš„å¤§å°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; count:&lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;;&lt;span style=&#34;color:#75715e&#34;&gt;//ziplistçš„ä¸ªæ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; coding&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ï¼š&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;;&lt;span style=&#34;color:#75715e&#34;&gt;//1ä»£è¡¨æ˜¯åŸç”Ÿçš„ï¼Œ2ä»£è¡¨ä½¿ç”¨LZFè¿›è¡Œå‹ç¼©ï¼›
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; containnr&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ï¼š&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;;&lt;span style=&#34;color:#75715e&#34;&gt;//containerä¸ºquicklistNodeèŠ‚ç‚¹zlæŒ‡å‘çš„å®¹å™¨ç±»å‹ï¼š1ä»£è¡¨none,2ä»£è¡¨ä½¿ç”¨ziplistå­˜å‚¨æ•°æ®ï¼›
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; recompress:&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#75715e&#34;&gt;//recompressä»£è¡¨è¿™ä¸ªèŠ‚ç‚¹ä¹‹å‰æ˜¯å¦æ˜¯å‹ç¼©èŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; extra:&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;;&lt;span style=&#34;color:#75715e&#34;&gt;//extraä¸ºé¢„ç•™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}quicklistNode;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ•°æ®å‹ç¼©&#34;&gt;æ•°æ®å‹ç¼©&lt;/h3&gt;
&lt;p&gt;quicklistæ¯ä¸ªèŠ‚ç‚¹çš„å®é™…æ•°æ®å­˜å‚¨ç»“æ„ä¸ºziplistï¼Œè¿™ç§ç»“æ„çš„ä¸»è¦ä¼˜åŠ¿åœ¨äºèŠ‚çœå­˜å‚¨ç©ºé—´ã€‚ä¸ºäº†è¿›ä¸€æ­¥é™ä½ziplistæ‰€å ç”¨çš„ç©ºé—´ï¼ŒRediså…è®¸å¯¹ziplistè¿›ä¸€æ­¥å‹ç¼©ï¼ŒRedisé‡‡ç”¨çš„å‹ç¼©ç®—æ³•æ˜¯LZFï¼Œå‹ç¼©è¿‡åçš„æ•°æ®å¯ä»¥åˆ†æˆå¤šä¸ªç‰‡æ®µï¼Œæ¯ä¸ªç‰‡æ®µæœ‰2éƒ¨åˆ†ï¼šä¸€éƒ¨åˆ†æ˜¯è§£é‡Šå­—æ®µï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯å­˜æ”¾å…·ä½“çš„æ•°æ®å­—æ®µã€‚
è§£é‡Šå­—æ®µå¯ä»¥å ç”¨1ï½3ä¸ªå­—èŠ‚ï¼Œæ•°æ®å­—æ®µå¯èƒ½ä¸å­˜åœ¨ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; quicklistLZF{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; sz;&lt;span style=&#34;color:#75715e&#34;&gt;//szè¡¨ç¤ºcompressedæ‰€å å­—èŠ‚å¤§å°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; compress[];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}quicklistLZF;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£é‡Šå­—æ®µæœ‰3ç§:
1ï¼‰å­—é¢å‹ï¼Œè§£é‡Šå­—æ®µå ç”¨1ä¸ªå­—èŠ‚ï¼Œæ•°æ®å­—æ®µé•¿åº¦ç”±è§£é‡Šå­—æ®µå5ä½å†³å®šã€‚
2ï¼‰ç®€çŸ­é‡å¤å‹ï¼Œè§£é‡Šå­—æ®µå ç”¨2ä¸ªå­—èŠ‚ï¼Œæ²¡æœ‰æ•°æ®å­—æ®µï¼Œæ•°æ®å†…å®¹ä¸å‰é¢æ•°æ®å†…å®¹é‡å¤ï¼Œé‡å¤é•¿åº¦å°äº8ã€‚
3ï¼‰æ‰¹é‡é‡å¤å‹ï¼Œè§£é‡Šå­—æ®µå 3ä¸ªå­—èŠ‚ï¼Œæ²¡æœ‰æ•°æ®å­—æ®µï¼Œæ•°æ®å†…å®¹ä¸å‰é¢å†…å®¹é‡å¤ã€‚&lt;/p&gt;
&lt;p&gt;å‹ç¼©ï¼š
æ•°æ®ä¸å‰é¢é‡å¤çš„ï¼Œè®°å½•é‡å¤ä½ç½®ä»¥åŠé‡å¤é•¿åº¦ï¼Œå¦åˆ™ç›´æ¥è®°å½•åŸå§‹æ•°æ®å†…å®¹ã€‚å‹ç¼©ç®—æ³•çš„æµç¨‹å¦‚ä¸‹ï¼šéå†è¾“å…¥å­—ç¬¦ä¸²ï¼Œå¯¹å½“å‰å­—ç¬¦åŠå…¶åé¢2ä¸ªå­—ç¬¦è¿›è¡Œæ•£åˆ—è¿ç®—ï¼Œå¦‚æœåœ¨Hashè¡¨ä¸­æ‰¾åˆ°æ›¾ç»å‡ºç°çš„è®°å½•ï¼Œåˆ™è®¡ç®—é‡å¤å­—èŠ‚çš„é•¿åº¦ä»¥åŠä½ç½®ï¼Œåä¹‹ç›´æ¥è¾“å‡ºæ•°æ®ã€‚
è§£å‹ï¼š
å¯èƒ½å­˜åœ¨é‡å¤æ•°æ®ä¸å½“å‰ä½ç½®é‡å çš„æƒ…å†µï¼Œä¾‹å¦‚åœ¨å½“å‰ä½ç½®å‰çš„15ä¸ªå­—èŠ‚å¤„ï¼Œé‡å¤äº†20ä¸ªå­—èŠ‚ï¼Œæ­¤æ—¶éœ€è¦æŒ‰ä½é€ä¸ªå¤åˆ¶ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Redisçš„çº¿ç¨‹æ¨¡å‹</title>
        <link>https://lxb.wiki/9106c914/</link>
        <pubDate>Fri, 11 Jun 2021 22:33:18 +0000</pubDate>
        
        <guid>https://lxb.wiki/9106c914/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;æ–‡ä»¶äº‹ä»¶å¤„ç†å™¨&#34;&gt;æ–‡ä»¶äº‹ä»¶å¤„ç†å™¨&lt;/h2&gt;
&lt;p&gt;RedisåŸºäºReactoræ¨¡å¼å¼€å‘äº†ç½‘ç»œäº‹ä»¶å¤„ç†å™¨ï¼Œè¿™ä¸ªå¤„ç†å™¨è¢«ç§°ä¸ºæ–‡ä»¶äº‹ä»¶å¤„ç†å™¨ã€‚å®ƒçš„ç»„æˆç»“æ„ä¸º4éƒ¨åˆ†ï¼šå¤šä¸ª&lt;a class=&#34;link&#34; href=&#34;https://so.csdn.net/so/search?q=%e5%a5%97%e6%8e%a5%e5%ad%97&amp;amp;spm=1001.2101.3001.7020&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å¥—æ¥å­—&lt;/a&gt;ã€IOå¤šè·¯å¤ç”¨ç¨‹åºã€æ–‡ä»¶äº‹ä»¶åˆ†æ´¾å™¨ã€äº‹ä»¶å¤„ç†å™¨ã€‚å› ä¸ºæ–‡ä»¶äº‹ä»¶åˆ†æ´¾å™¨é˜Ÿåˆ—çš„æ¶ˆè´¹æ˜¯å•çº¿ç¨‹çš„ï¼Œæ‰€ä»¥Redisæ‰å«å•çº¿ç¨‹æ¨¡å‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220212203719.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ¶ˆæ¯å¤„ç†æµç¨‹&#34;&gt;æ¶ˆæ¯å¤„ç†æµç¨‹&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;æ–‡ä»¶äº‹ä»¶å¤„ç†å™¨ä½¿ç”¨I/Oå¤šè·¯å¤ç”¨(multiplexing)ç¨‹åºæ¥åŒæ—¶ç›‘å¬å¤šä¸ªå¥—æ¥å­—ï¼Œå¹¶æ ¹æ®å¥—æ¥å­—ç›®å‰æ‰§è¡Œçš„ä»»åŠ¡æ¥ä¸ºå¥—æ¥å­—å…³è”ä¸åŒçš„äº‹ä»¶å¤„ç†å™¨ã€‚&lt;/li&gt;
&lt;li&gt;å½“è¢«ç›‘å¬çš„å¥—æ¥å­—å‡†å¤‡å¥½æ‰§è¡Œè¿æ¥åº”ç­”(accept)ã€è¯»å–(read)ã€å†™å…¥(write)ã€å…³é—­(close)ç­‰æ“ä½œæ—¶ï¼Œä¸æ“ä½œç›¸å¯¹åº”çš„æ–‡ä»¶äº‹ä»¶å°±ä¼šäº§ç”Ÿï¼Œè¿™æ—¶æ–‡ä»¶äº‹ä»¶å¤„ç†å™¨å°±ä¼šè°ƒç”¨å¥—æ¥å­—ä¹‹å‰å…³è”å¥½çš„äº‹ä»¶å¤„ç†å™¨æ¥å¤„ç†è¿™äº›äº‹ä»¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å°½ç®¡å¤šä¸ªæ–‡ä»¶äº‹ä»¶å¯èƒ½ä¼šå¹¶å‘åœ°å‡ºç°ï¼Œä½†I/Oå¤šè·¯å¤ç”¨ç¨‹åºæ€»æ˜¯ä¼šå°†æ‰€æœ‰äº§ç”Ÿäº‹ä»¶çš„å¥—æ¥å­—éƒ½æ¨åˆ°ä¸€ä¸ªé˜Ÿåˆ—é‡Œé¢ï¼Œç„¶åé€šè¿‡è¿™ä¸ªé˜Ÿåˆ—ï¼Œä»¥æœ‰åºï¼ˆsequentiallyï¼‰ã€åŒæ­¥ï¼ˆsynchronouslyï¼‰ã€æ¯æ¬¡ä¸€ä¸ªå¥—æ¥å­—çš„æ–¹å¼å‘æ–‡ä»¶äº‹ä»¶åˆ†æ´¾å™¨ä¼ é€å¥—æ¥å­—ï¼šå½“ä¸Šä¸€ä¸ªå¥—æ¥å­—äº§ç”Ÿçš„äº‹ä»¶è¢«å¤„ç†å®Œæ¯•ä¹‹åï¼ˆè¯¥å¥—æ¥å­—ä¸ºäº‹ä»¶æ‰€å…³è”çš„äº‹ä»¶å¤„ç†å™¨æ‰§è¡Œå®Œæ¯•ï¼‰ï¼Œ I/Oå¤šè·¯å¤ç”¨ç¨‹åºæ‰ä¼šç»§ç»­å‘æ–‡ä»¶äº‹ä»¶åˆ†æ´¾å™¨ä¼ é€ä¸‹ä¸€ä¸ªå¥—æ¥å­—ã€‚&lt;/p&gt;
&lt;h2 id=&#34;io-å¤šè·¯å¤ç”¨ç¨‹åºçš„å®ç°&#34;&gt;I/O å¤šè·¯å¤ç”¨ç¨‹åºçš„å®ç°&lt;/h2&gt;
&lt;p&gt;Redisçš„I/Oå¤šè·¯å¤ç”¨ç¨‹åºçš„æ‰€æœ‰åŠŸèƒ½æ˜¯é€šè¿‡åŒ…è£…selectã€epollã€evportå’Œkqueueè¿™äº›I/Oå¤šè·¯å¤ç”¨å‡½æ•°åº“æ¥å®ç°çš„ï¼Œæ¯ä¸ªI/Oå¤šè·¯å¤ç”¨å‡½æ•°åº“åœ¨Redisæºç ä¸­éƒ½å¯¹åº”ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ï¼Œæ¯”å¦‚ae_select.cã€ae_epoll.cã€ae_kqueue.cç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºRedisä¸ºæ¯ä¸ªI/Oå¤šè·¯å¤ç”¨å‡½æ•°åº“éƒ½å®ç°äº†ç›¸åŒçš„APIï¼Œæ‰€ä»¥I/Oå¤šè·¯å¤ç”¨ç¨‹åºçš„åº•å±‚å®ç°æ˜¯å¯ä»¥äº’æ¢çš„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220212203919.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Redisåœ¨I/Oå¤šè·¯å¤ç”¨ç¨‹åºçš„å®ç°æºç ä¸­ç”¨#includeå®å®šä¹‰äº†ç›¸åº”çš„è§„åˆ™ï¼Œç¨‹åºä¼šåœ¨ç¼–è¯‘æ—¶è‡ªåŠ¨é€‰æ‹©ç³»ç»Ÿä¸­æ€§èƒ½æœ€å¥½çš„I/Oå¤šè·¯å¤ç”¨å‡½æ•°åº“æ¥ä½œä¸ºRedisçš„I/Oå¤šè·¯å¤ç”¨ç¨‹åºçš„åº•å±‚å®ç°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/* Include the best multiplexing layer supported by this system.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt; * The following should be ordered by performances, descending. */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#ifdef HAVE_EVPORT
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;#34;ae_evport.c&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#else
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#ifdef HAVE_EPOLL
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;#34;ae_epoll.c&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#else
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;#ifdef HAVE_KQUEUE
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;#34;ae_kqueue.c&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;#else
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;#34;ae_select.c&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;æ–‡ä»¶äº‹ä»¶çš„ç±»å‹&#34;&gt;æ–‡ä»¶äº‹ä»¶çš„ç±»å‹&lt;/h2&gt;
&lt;p&gt;I/O å¤šè·¯å¤ç”¨ç¨‹åºå¯ä»¥ç›‘å¬å¤šä¸ªå¥—æ¥å­—çš„ae.h/AE_READABLEäº‹ä»¶å’Œae.h/AE_WRITABLEäº‹ä»¶ï¼Œè¿™ä¸¤ç±»äº‹ä»¶å’Œå¥—æ¥å­—æ“ä½œä¹‹é—´çš„å¯¹åº”å…³ç³»å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“å¥—æ¥å­—å˜å¾—å¯è¯»æ—¶ï¼ˆå®¢æˆ·ç«¯å¯¹å¥—æ¥å­—æ‰§è¡Œwriteæ“ä½œï¼Œæˆ–è€…æ‰§è¡Œcloseæ“ä½œï¼‰ï¼Œæˆ–è€…æœ‰æ–°çš„å¯åº”ç­”ï¼ˆacceptableï¼‰å¥—æ¥å­—å‡ºç°æ—¶ï¼ˆå®¢æˆ·ç«¯å¯¹æœåŠ¡å™¨çš„ç›‘å¬å¥—æ¥å­—æ‰§è¡Œconnectæ“ä½œï¼‰ï¼Œå¥—æ¥å­—äº§ç”ŸAE_READABLE äº‹ä»¶&lt;/li&gt;
&lt;li&gt;å½“å¥—æ¥å­—å˜å¾—å¯å†™æ—¶ï¼ˆå®¢æˆ·ç«¯å¯¹å¥—æ¥å­—æ‰§è¡Œreadæ“ä½œï¼‰ï¼Œå¥—æ¥å­—äº§ç”ŸAE_WRITABLEäº‹ä»¶ã€‚I/Oå¤šè·¯å¤ç”¨ç¨‹åºå…è®¸æœåŠ¡å™¨åŒæ—¶ç›‘å¬å¥—æ¥å­—çš„AE_READABLEäº‹ä»¶å’ŒAE_WRITABLEäº‹ä»¶ï¼Œå¦‚æœä¸€ä¸ªå¥—æ¥å­—åŒæ—¶äº§ç”Ÿäº†è¿™ä¸¤ç§äº‹ä»¶ï¼Œé‚£ä¹ˆæ–‡ä»¶äº‹ä»¶åˆ†æ´¾å™¨ä¼šä¼˜å…ˆå¤„ç†AE_READABLEäº‹ä»¶ï¼Œç­‰åˆ°AE_READABLEäº‹ä»¶å¤„ç†å®Œä¹‹åï¼Œæ‰å¤„ç†AE_WRITABLE äº‹ä»¶ã€‚è¿™ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸€ä¸ªå¥—æ¥å­—åˆå¯è¯»åˆå¯å†™çš„è¯ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°†å…ˆè¯»å¥—æ¥å­—ï¼Œåå†™å¥—æ¥å­—ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æ–‡ä»¶äº‹ä»¶çš„å¤„ç†å™¨&#34;&gt;æ–‡ä»¶äº‹ä»¶çš„å¤„ç†å™¨&lt;/h2&gt;
&lt;p&gt;Redisä¸ºæ–‡ä»¶äº‹ä»¶ç¼–å†™äº†å¤šä¸ªå¤„ç†å™¨ï¼Œè¿™äº›äº‹ä»¶å¤„ç†å™¨åˆ†åˆ«ç”¨äºå®ç°ä¸åŒçš„ç½‘ç»œé€šè®¯éœ€æ±‚ï¼Œå¸¸ç”¨çš„å¤„ç†å™¨å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å¯¹è¿æ¥æœåŠ¡å™¨çš„å„ä¸ªå®¢æˆ·ç«¯è¿›è¡Œåº”ç­”ï¼Œ æœåŠ¡å™¨è¦ä¸ºç›‘å¬å¥—æ¥å­—å…³è”è¿æ¥åº”ç­”å¤„ç†å™¨ã€‚
ä¸ºäº†æ¥æ”¶å®¢æˆ·ç«¯ä¼ æ¥çš„å‘½ä»¤è¯·æ±‚ï¼Œ æœåŠ¡å™¨è¦ä¸ºå®¢æˆ·ç«¯å¥—æ¥å­—å…³è”å‘½ä»¤è¯·æ±‚å¤„ç†å™¨ã€‚
ä¸ºäº†å‘å®¢æˆ·ç«¯è¿”å›å‘½ä»¤çš„æ‰§è¡Œç»“æœï¼Œ æœåŠ¡å™¨è¦ä¸ºå®¢æˆ·ç«¯å¥—æ¥å­—å…³è”å‘½ä»¤å›å¤å¤„ç†å™¨ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è¿æ¥åº”ç­”å¤„ç†å™¨&#34;&gt;è¿æ¥åº”ç­”å¤„ç†å™¨&lt;/h3&gt;
&lt;p&gt;networking.cä¸­acceptTcpHandlerå‡½æ•°æ˜¯Redisçš„è¿æ¥åº”ç­”å¤„ç†å™¨ï¼Œè¿™ä¸ªå¤„ç†å™¨ç”¨äºå¯¹è¿æ¥æœåŠ¡å™¨ç›‘å¬å¥—æ¥å­—çš„å®¢æˆ·ç«¯è¿›è¡Œåº”ç­”ï¼Œå…·ä½“å®ç°ä¸ºsys/socket.h/acceptå‡½æ•°çš„åŒ…è£…ã€‚&lt;/p&gt;
&lt;p&gt;å½“RedisæœåŠ¡å™¨è¿›è¡Œåˆå§‹åŒ–çš„æ—¶å€™ï¼Œç¨‹åºä¼šå°†è¿™ä¸ªè¿æ¥åº”ç­”å¤„ç†å™¨å’ŒæœåŠ¡å™¨ç›‘å¬å¥—æ¥å­—çš„AE_READABLEäº‹ä»¶å…³è”èµ·æ¥ï¼Œå½“æœ‰å®¢æˆ·ç«¯ç”¨sys/socket.h/connectå‡½æ•°è¿æ¥æœåŠ¡å™¨ç›‘å¬å¥—æ¥å­—çš„æ—¶å€™ï¼Œ å¥—æ¥å­—å°±ä¼šäº§ç”ŸAE_READABLE äº‹ä»¶ï¼Œ å¼•å‘è¿æ¥åº”ç­”å¤„ç†å™¨æ‰§è¡Œï¼Œ å¹¶æ‰§è¡Œç›¸åº”çš„å¥—æ¥å­—åº”ç­”æ“ä½œï¼Œå¦‚å›¾æ‰€ç¤ºã€‚
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220212204113.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;å‘½ä»¤è¯·æ±‚å¤„ç†å™¨&#34;&gt;å‘½ä»¤è¯·æ±‚å¤„ç†å™¨&lt;/h3&gt;
&lt;p&gt;networking.cä¸­readQueryFromClientå‡½æ•°æ˜¯Redisçš„å‘½ä»¤è¯·æ±‚å¤„ç†å™¨ï¼Œè¿™ä¸ªå¤„ç†å™¨è´Ÿè´£ä»å¥—æ¥å­—ä¸­è¯»å…¥å®¢æˆ·ç«¯å‘é€çš„å‘½ä»¤è¯·æ±‚å†…å®¹ï¼Œ å…·ä½“å®ç°ä¸ºunistd.h/readå‡½æ•°çš„åŒ…è£…ã€‚&lt;/p&gt;
&lt;p&gt;å½“ä¸€ä¸ªå®¢æˆ·ç«¯é€šè¿‡è¿æ¥åº”ç­”å¤„ç†å™¨æˆåŠŸè¿æ¥åˆ°æœåŠ¡å™¨ä¹‹åï¼Œ æœåŠ¡å™¨ä¼šå°†å®¢æˆ·ç«¯å¥—æ¥å­—çš„AE_READABLEäº‹ä»¶å’Œå‘½ä»¤è¯·æ±‚å¤„ç†å™¨å…³è”èµ·æ¥ï¼Œå½“å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€å‘½ä»¤è¯·æ±‚çš„æ—¶å€™ï¼Œå¥—æ¥å­—å°±ä¼šäº§ç”Ÿ AE_READABLEäº‹ä»¶ï¼Œå¼•å‘å‘½ä»¤è¯·æ±‚å¤„ç†å™¨æ‰§è¡Œï¼Œå¹¶æ‰§è¡Œç›¸åº”çš„å¥—æ¥å­—è¯»å…¥æ“ä½œï¼Œå¦‚å›¾æ‰€ç¤ºã€‚
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220212204151.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å®¢æˆ·ç«¯è¿æ¥æœåŠ¡å™¨çš„æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼ŒæœåŠ¡å™¨éƒ½ä¼šä¸€ç›´ä¸ºå®¢æˆ·ç«¯å¥—æ¥å­—çš„AE_READABLEäº‹ä»¶å…³è”å‘½ä»¤è¯·æ±‚å¤„ç†å™¨ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å‘½ä»¤å›å¤å¤„ç†å™¨&#34;&gt;å‘½ä»¤å›å¤å¤„ç†å™¨&lt;/h3&gt;
&lt;p&gt;networking.cä¸­sendReplyToClientå‡½æ•°æ˜¯Redisçš„å‘½ä»¤å›å¤å¤„ç†å™¨ï¼Œè¿™ä¸ªå¤„ç†å™¨è´Ÿè´£å°†æœåŠ¡å™¨æ‰§è¡Œå‘½ä»¤åå¾—åˆ°çš„å‘½ä»¤å›å¤é€šè¿‡å¥—æ¥å­—è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå…·ä½“å®ç°ä¸ºunistd.h/writeå‡½æ•°çš„åŒ…è£…ã€‚&lt;/p&gt;
&lt;p&gt;å½“æœåŠ¡å™¨æœ‰å‘½ä»¤å›å¤éœ€è¦ä¼ é€ç»™å®¢æˆ·ç«¯çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šå°†å®¢æˆ·ç«¯å¥—æ¥å­—çš„AE_WRITABLEäº‹ä»¶å’Œå‘½ä»¤å›å¤å¤„ç†å™¨å…³è”èµ·æ¥ï¼Œå½“å®¢æˆ·ç«¯å‡†å¤‡å¥½æ¥æ”¶æœåŠ¡å™¨ä¼ å›çš„å‘½ä»¤å›å¤æ—¶ï¼Œå°±ä¼šäº§ç”ŸAE_WRITABLEäº‹ä»¶ï¼Œå¼•å‘å‘½ä»¤å›å¤å¤„ç†å™¨æ‰§è¡Œï¼Œå¹¶æ‰§è¡Œç›¸åº”çš„å¥—æ¥å­—å†™å…¥æ“ä½œï¼Œ å¦‚å›¾æ‰€ç¤ºã€‚
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220212204231.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å½“å‘½ä»¤å›å¤å‘é€å®Œæ¯•ä¹‹åï¼Œ æœåŠ¡å™¨å°±ä¼šè§£é™¤å‘½ä»¤å›å¤å¤„ç†å™¨ä¸å®¢æˆ·ç«¯å¥—æ¥å­—çš„ AE_WRITABLE äº‹ä»¶ä¹‹é—´çš„å…³è”&lt;/p&gt;
&lt;h2 id=&#34;ä¸€æ¬¡å®Œæ•´çš„å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨è¿æ¥äº‹ä»¶ç¤ºä¾‹&#34;&gt;ä¸€æ¬¡å®Œæ•´çš„å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨è¿æ¥äº‹ä»¶ç¤ºä¾‹&lt;/h2&gt;
&lt;p&gt;å‡è®¾RedisæœåŠ¡å™¨æ­£åœ¨è¿ä½œï¼Œé‚£ä¹ˆè¿™ä¸ªæœåŠ¡å™¨çš„ç›‘å¬å¥—æ¥å­—çš„AE_READABLEäº‹ä»¶åº”è¯¥æ­£å¤„äºç›‘å¬çŠ¶æ€ä¹‹ä¸‹ï¼Œè€Œè¯¥äº‹ä»¶æ‰€å¯¹åº”çš„å¤„ç†å™¨ä¸ºè¿æ¥åº”ç­”å¤„ç†å™¨ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœè¿™æ—¶æœ‰ä¸€ä¸ªRediså®¢æˆ·ç«¯å‘RedisæœåŠ¡å™¨å‘èµ·è¿æ¥ï¼Œé‚£ä¹ˆç›‘å¬å¥—æ¥å­—å°†äº§ç”ŸAE_READABLEäº‹ä»¶ï¼Œ è§¦å‘è¿æ¥åº”ç­”å¤„ç†å™¨æ‰§è¡Œï¼šå¤„ç†å™¨ä¼šå¯¹å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚è¿›è¡Œåº”ç­”ï¼Œ ç„¶ååˆ›å»ºå®¢æˆ·ç«¯å¥—æ¥å­—ï¼Œä»¥åŠå®¢æˆ·ç«¯çŠ¶æ€ï¼Œå¹¶å°†å®¢æˆ·ç«¯å¥—æ¥å­—çš„ AE_READABLE äº‹ä»¶ä¸å‘½ä»¤è¯·æ±‚å¤„ç†å™¨è¿›è¡Œå…³è”ï¼Œä½¿å¾—å®¢æˆ·ç«¯å¯ä»¥å‘ä¸»æœåŠ¡å™¨å‘é€å‘½ä»¤è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;ä¹‹åï¼Œå®¢æˆ·ç«¯å‘RedisæœåŠ¡å™¨å‘é€ä¸€ä¸ªå‘½ä»¤è¯·æ±‚ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯å¥—æ¥å­—å°†äº§ç”Ÿ AE_READABLEäº‹ä»¶ï¼Œå¼•å‘å‘½ä»¤è¯·æ±‚å¤„ç†å™¨æ‰§è¡Œï¼Œå¤„ç†å™¨è¯»å–å®¢æˆ·ç«¯çš„å‘½ä»¤å†…å®¹ï¼Œ ç„¶åä¼ ç»™ç›¸å…³ç¨‹åºå»æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;æ‰§è¡Œå‘½ä»¤å°†äº§ç”Ÿç›¸åº”çš„å‘½ä»¤å›å¤ï¼Œä¸ºäº†å°†è¿™äº›å‘½ä»¤å›å¤ä¼ é€å›å®¢æˆ·ç«¯ï¼ŒæœåŠ¡å™¨ä¼šå°†å®¢æˆ·ç«¯å¥—æ¥å­—çš„AE_WRITABLEäº‹ä»¶ä¸å‘½ä»¤å›å¤å¤„ç†å™¨è¿›è¡Œå…³è”ï¼šå½“å®¢æˆ·ç«¯å°è¯•è¯»å–å‘½ä»¤å›å¤çš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯å¥—æ¥å­—å°†äº§ç”ŸAE_WRITABLEäº‹ä»¶ï¼Œ è§¦å‘å‘½ä»¤å›å¤å¤„ç†å™¨æ‰§è¡Œï¼Œ å½“å‘½ä»¤å›å¤å¤„ç†å™¨å°†å‘½ä»¤å›å¤å…¨éƒ¨å†™å…¥åˆ°å¥—æ¥å­—ä¹‹åï¼Œ æœåŠ¡å™¨å°±ä¼šè§£é™¤å®¢æˆ·ç«¯å¥—æ¥å­—çš„AE_WRITABLEäº‹ä»¶ä¸å‘½ä»¤å›å¤å¤„ç†å™¨ä¹‹é—´çš„å…³è”ã€‚
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220212204316.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ€è€ƒé—®é¢˜&#34;&gt;æ€è€ƒé—®é¢˜&lt;/h2&gt;
&lt;p&gt;Qï¼š
Redisæ˜¯å•çº¿ç¨‹æ¨¡å‹ä¸ºä»€ä¹ˆæ•ˆç‡è¿˜è¿™ä¹ˆé«˜ï¼Ÿ
Aï¼š&lt;/p&gt;
&lt;p&gt;çº¯å†…å­˜è®¿é—®ï¼šæ•°æ®å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œå†…å­˜çš„å“åº”æ—¶é—´å¤§çº¦æ˜¯100çº³ç§’ï¼Œè¿™æ˜¯Redisæ¯ç§’ä¸‡äº¿çº§åˆ«è®¿é—®çš„é‡è¦åŸºç¡€ã€‚
éé˜»å¡I/Oï¼šRedisé‡‡ç”¨epollåšä¸ºI/Oå¤šè·¯å¤ç”¨æŠ€æœ¯çš„å®ç°ï¼Œå†åŠ ä¸ŠRedisè‡ªèº«çš„äº‹ä»¶å¤„ç†æ¨¡å‹å°†epollä¸­çš„è¿æ¥ï¼Œè¯»å†™ï¼Œå…³é—­éƒ½è½¬æ¢ä¸ºäº†æ—¶é—´ï¼Œä¸åœ¨I/Oä¸Šæµªè´¹è¿‡å¤šçš„æ—¶é—´ã€‚
å•çº¿ç¨‹é¿å…äº†çº¿ç¨‹åˆ‡æ¢å’Œç«æ€äº§ç”Ÿçš„æ¶ˆè€—ã€‚
Redisé‡‡ç”¨å•çº¿ç¨‹æ¨¡å‹ï¼Œæ¯æ¡å‘½ä»¤æ‰§è¡Œå¦‚æœå ç”¨å¤§é‡æ—¶é—´ï¼Œä¼šé€ æˆå…¶ä»–çº¿ç¨‹é˜»å¡ï¼Œå¯¹äºRedisè¿™ç§é«˜æ€§èƒ½æœåŠ¡æ˜¯è‡´å‘½çš„ï¼Œæ‰€ä»¥Redisæ˜¯é¢å‘é«˜é€Ÿæ‰§è¡Œçš„æ•°æ®åº“&lt;/p&gt;
</description>
        </item>
        <item>
        <title>epollé«˜æ•ˆè¿è¡Œçš„åŸç†</title>
        <link>https://lxb.wiki/3bdc8aea/</link>
        <pubDate>Sun, 06 Jun 2021 22:18:57 +0000</pubDate>
        
        <guid>https://lxb.wiki/3bdc8aea/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h1 id=&#34;æ¦‚å¿µ&#34;&gt;æ¦‚å¿µ&lt;/h1&gt;
&lt;p&gt;epollæ˜¯ä¸€ç§I/Oäº‹ä»¶é€šçŸ¥æœºåˆ¶ï¼Œæ˜¯linux å†…æ ¸å®ç°IOå¤šè·¯å¤ç”¨çš„ä¸€ä¸ªå®ç°ã€‚
IOå¤šè·¯å¤ç”¨æ˜¯æŒ‡ï¼Œåœ¨ä¸€ä¸ªæ“ä½œé‡ŒåŒæ—¶ç›‘å¬å¤šä¸ªè¾“å…¥è¾“å‡ºæºï¼Œåœ¨å…¶ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å…¥è¾“å‡ºæºå¯ç”¨çš„æ—¶å€™è¿”å›ï¼Œç„¶åå¯¹å…¶çš„è¿›è¡Œè¯»å†™æ“ä½œã€‚&lt;/p&gt;
&lt;h1 id=&#34;io&#34;&gt;I/O&lt;/h1&gt;
&lt;p&gt;è¾“å…¥è¾“å‡º(input/output)çš„å¯¹è±¡å¯ä»¥æ˜¯æ–‡ä»¶(file)ï¼Œ ç½‘ç»œ(socket)ï¼Œè¿›ç¨‹ä¹‹é—´çš„ç®¡é“(pipe)ã€‚åœ¨linuxç³»ç»Ÿä¸­ï¼Œéƒ½ç”¨æ–‡ä»¶æè¿°ç¬¦(fd)æ¥è¡¨ç¤ºã€‚&lt;/p&gt;
&lt;h1 id=&#34;äº‹ä»¶&#34;&gt;äº‹ä»¶&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;å¯è¯»äº‹ä»¶ï¼Œå½“æ–‡ä»¶æè¿°ç¬¦å…³è”çš„å†…æ ¸è¯»ç¼“å†²åŒºå¯è¯»ï¼Œåˆ™è§¦å‘å¯è¯»äº‹ä»¶ã€‚(å¯è¯»ï¼šå†…æ ¸ç¼“å†²åŒºéç©ºï¼Œæœ‰æ•°æ®å¯ä»¥è¯»å–)&lt;/li&gt;
&lt;li&gt;å¯å†™äº‹ä»¶ï¼Œå½“æ–‡ä»¶æè¿°ç¬¦å…³è”çš„å†…æ ¸å†™ç¼“å†²åŒºå¯å†™ï¼Œåˆ™è§¦å‘å¯å†™äº‹ä»¶ã€‚(å¯å†™ï¼šå†…æ ¸ç¼“å†²åŒºä¸æ»¡ï¼Œæœ‰ç©ºé—²ç©ºé—´å¯ä»¥å†™å…¥ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;é€šçŸ¥æœºåˆ¶&#34;&gt;é€šçŸ¥æœºåˆ¶&lt;/h1&gt;
&lt;p&gt;é€šçŸ¥æœºåˆ¶ï¼Œå°±æ˜¯å½“äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™ï¼Œåˆ™ä¸»åŠ¨é€šçŸ¥ã€‚é€šçŸ¥æœºåˆ¶çš„åé¢ï¼Œå°±æ˜¯è½®è¯¢æœºåˆ¶ã€‚&lt;/p&gt;
&lt;h1 id=&#34;epoll-çš„é€šä¿—è§£é‡Š&#34;&gt;epoll çš„é€šä¿—è§£é‡Š&lt;/h1&gt;
&lt;p&gt;ç»“åˆä»¥ä¸Šä¸‰æ¡ï¼Œepollçš„é€šä¿—è§£é‡Šæ˜¯ä¸€ç§å½“æ–‡ä»¶æè¿°ç¬¦çš„å†…æ ¸ç¼“å†²åŒºéç©ºçš„æ—¶å€™ï¼Œå‘å‡ºå¯è¯»ä¿¡å·è¿›è¡Œé€šçŸ¥ï¼Œå½“å†™ç¼“å†²åŒºä¸æ»¡çš„æ—¶å€™ï¼Œå‘å‡ºå¯å†™ä¿¡å·é€šçŸ¥çš„æœºåˆ¶&lt;/p&gt;
&lt;p&gt;epoll çš„ API&lt;/p&gt;
&lt;p&gt;epollçš„æ ¸å¿ƒæ˜¯3ä¸ªAPIï¼Œæ ¸å¿ƒæ•°æ®ç»“æ„æ˜¯ï¼š1ä¸ªçº¢é»‘æ ‘å’Œ1ä¸ªé“¾è¡¨&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220211152245.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;1-int-epoll_createint-size&#34;&gt;1. int epoll_create(int size)&lt;/h2&gt;
&lt;p&gt;åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å†…æ ¸ä¼šäº§ç”Ÿä¸€ä¸ªepoll å®ä¾‹æ•°æ®ç»“æ„å¹¶è¿”å›ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œè¿™ä¸ªç‰¹æ®Šçš„æè¿°ç¬¦å°±æ˜¯epollå®ä¾‹çš„å¥æŸ„ï¼Œåé¢çš„ä¸¤ä¸ªæ¥å£éƒ½ä»¥å®ƒä¸ºä¸­å¿ƒï¼ˆå³epfdå½¢å‚ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;sizeå‚æ•°è¡¨ç¤ºæ‰€è¦ç›‘è§†æ–‡ä»¶æè¿°ç¬¦çš„æœ€å¤§å€¼ï¼Œä¸è¿‡åœ¨åæ¥çš„Linuxç‰ˆæœ¬ä¸­å·²ç»è¢«å¼ƒç”¨ï¼ˆåŒæ—¶ï¼Œsizeä¸è¦ä¼ 0ï¼Œä¼šæŠ¥invalid argumenté”™è¯¯ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;2-int-epoll_ctlint-epfd-int-op-int-fd-struct-epoll_event-event&#34;&gt;2. int epoll_ctl(int epfdï¼Œ int opï¼Œ int fdï¼Œ struct epoll_event *event)&lt;/h2&gt;
&lt;p&gt;åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°†è¢«ç›‘å¬çš„æè¿°ç¬¦æ·»åŠ åˆ°çº¢é»‘æ ‘æˆ–ä»çº¢é»‘æ ‘ä¸­åˆ é™¤æˆ–è€…å¯¹ç›‘å¬äº‹ä»¶è¿›è¡Œä¿®æ”¹&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;union&lt;/span&gt; epoll_data {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;ptr; &lt;span style=&#34;color:#75715e&#34;&gt;/* æŒ‡å‘ç”¨æˆ·è‡ªå®šä¹‰æ•°æ® */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; fd; &lt;span style=&#34;color:#75715e&#34;&gt;/* æ³¨å†Œçš„æ–‡ä»¶æè¿°ç¬¦ */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;uint32_t&lt;/span&gt; u32; &lt;span style=&#34;color:#75715e&#34;&gt;/* 32-bit integer */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;uint64_t&lt;/span&gt; u64; &lt;span style=&#34;color:#75715e&#34;&gt;/* 64-bit integer */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} &lt;span style=&#34;color:#66d9ef&#34;&gt;epoll_data_t&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; epoll_event {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;uint32_t&lt;/span&gt; events; &lt;span style=&#34;color:#75715e&#34;&gt;/* æè¿°epolläº‹ä»¶ */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;epoll_data_t&lt;/span&gt; data; &lt;span style=&#34;color:#75715e&#34;&gt;/* è§ä¸Šé¢çš„ç»“æ„ä½“ */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯¹äºéœ€è¦ç›‘è§†çš„æ–‡ä»¶æè¿°ç¬¦é›†åˆï¼Œepoll_ctlå¯¹çº¢é»‘æ ‘è¿›è¡Œç®¡ç†ï¼Œçº¢é»‘æ ‘ä¸­æ¯ä¸ªæˆå‘˜ç”±æè¿°ç¬¦å€¼å’Œæ‰€è¦ç›‘æ§çš„æ–‡ä»¶æè¿°ç¬¦æŒ‡å‘çš„æ–‡ä»¶è¡¨é¡¹çš„å¼•ç”¨ç­‰ç»„æˆã€‚&lt;/p&gt;
&lt;p&gt;opå‚æ•°è¯´æ˜æ“ä½œç±»å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;EPOLL_CTL_ADDï¼šå‘interest listæ·»åŠ ä¸€ä¸ªéœ€è¦ç›‘è§†çš„æè¿°ç¬¦&lt;/li&gt;
&lt;li&gt;EPOLL_CTL_DELï¼šä»interest listä¸­åˆ é™¤ä¸€ä¸ªæè¿°ç¬¦&lt;/li&gt;
&lt;li&gt;EPOLL_CTL_MODï¼šä¿®æ”¹interest listä¸­ä¸€ä¸ªæè¿°ç¬¦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;struct epoll_eventç»“æ„æè¿°ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦çš„epollè¡Œä¸ºã€‚åœ¨ä½¿ç”¨epoll_waitå‡½æ•°è¿”å›å¤„äºreadyçŠ¶æ€çš„æè¿°ç¬¦åˆ—è¡¨æ—¶ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;dataåŸŸæ˜¯å”¯ä¸€èƒ½ç»™å‡ºæè¿°ç¬¦ä¿¡æ¯çš„å­—æ®µï¼Œæ‰€ä»¥åœ¨è°ƒç”¨epoll_ctlåŠ å…¥ä¸€ä¸ªéœ€è¦ç›‘æµ‹çš„æè¿°ç¬¦æ—¶ï¼Œä¸€å®šè¦åœ¨æ­¤åŸŸå†™å…¥æè¿°ç¬¦ç›¸å…³ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;eventsåŸŸæ˜¯bit maskï¼Œæè¿°ä¸€ç»„epolläº‹ä»¶ï¼Œåœ¨epoll_ctlè°ƒç”¨ä¸­è§£é‡Šä¸ºï¼šæè¿°ç¬¦æ‰€æœŸæœ›çš„epolläº‹ä»¶ï¼Œå¯å¤šé€‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¸¸ç”¨çš„epolläº‹ä»¶æè¿°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;EPOLLINï¼šæè¿°ç¬¦å¤„äºå¯è¯»çŠ¶æ€&lt;/li&gt;
&lt;li&gt;EPOLLOUTï¼šæè¿°ç¬¦å¤„äºå¯å†™çŠ¶æ€&lt;/li&gt;
&lt;li&gt;EPOLLETï¼šå°†epoll eventé€šçŸ¥æ¨¡å¼è®¾ç½®æˆedge triggered&lt;/li&gt;
&lt;li&gt;EPOLLONESHOTï¼šç¬¬ä¸€æ¬¡è¿›è¡Œé€šçŸ¥ï¼Œä¹‹åä¸å†ç›‘æµ‹&lt;/li&gt;
&lt;li&gt;EPOLLHUPï¼šæœ¬ç«¯æè¿°ç¬¦äº§ç”Ÿä¸€ä¸ªæŒ‚æ–­äº‹ä»¶ï¼Œé»˜è®¤ç›‘æµ‹äº‹ä»¶&lt;/li&gt;
&lt;li&gt;EPOLLRDHUPï¼šå¯¹ç«¯æè¿°ç¬¦äº§ç”Ÿä¸€ä¸ªæŒ‚æ–­äº‹ä»¶&lt;/li&gt;
&lt;li&gt;EPOLLPRIï¼šç”±å¸¦å¤–æ•°æ®è§¦å‘&lt;/li&gt;
&lt;li&gt;EPOLLERRï¼šæè¿°ç¬¦äº§ç”Ÿé”™è¯¯æ—¶è§¦å‘ï¼Œé»˜è®¤æ£€æµ‹äº‹ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;3-int-epoll_waitint-epfd-struct-epoll_event-events-int-maxevents-int-timeout&#34;&gt;3. int epoll_wait(int epfdï¼Œ struct epoll_event *eventsï¼Œ int maxeventsï¼Œ int timeout)&lt;/h2&gt;
&lt;p&gt;åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é˜»å¡ç­‰å¾…æ³¨å†Œçš„äº‹ä»¶å‘ç”Ÿï¼Œè¿”å›äº‹ä»¶çš„æ•°ç›®ï¼Œå¹¶å°†è§¦å‘çš„äº‹ä»¶å†™å…¥eventsæ•°ç»„ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;events: ç”¨æ¥è®°å½•è¢«è§¦å‘çš„eventsï¼Œå…¶å¤§å°åº”è¯¥å’Œmaxeventsä¸€è‡´&lt;/li&gt;
&lt;li&gt;maxevents: è¿”å›çš„eventsçš„æœ€å¤§ä¸ªæ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¤„äºreadyçŠ¶æ€çš„é‚£äº›æ–‡ä»¶æè¿°ç¬¦ä¼šè¢«å¤åˆ¶è¿›ready listä¸­ï¼Œepoll_waitç”¨äºå‘ç”¨æˆ·è¿›ç¨‹è¿”å›ready listã€‚eventså’Œmaxeventsä¸¤ä¸ªå‚æ•°æè¿°ä¸€ä¸ªç”±ç”¨æˆ·åˆ†é…çš„struct epoll eventæ•°ç»„ï¼Œè°ƒç”¨è¿”å›æ—¶ï¼Œå†…æ ¸å°†ready listå¤åˆ¶åˆ°è¿™ä¸ªæ•°ç»„ä¸­ï¼Œå¹¶å°†å®é™…å¤åˆ¶çš„ä¸ªæ•°ä½œä¸ºè¿”å›å€¼ã€‚æ³¨æ„ï¼Œå¦‚æœready listæ¯”maxeventsé•¿ï¼Œåˆ™åªèƒ½å¤åˆ¶å‰maxeventsä¸ªæˆå‘˜ï¼›åä¹‹ï¼Œåˆ™èƒ½å¤Ÿå®Œå…¨å¤åˆ¶ready listã€‚
å¦å¤–ï¼Œstruct epoll eventç»“æ„ä¸­çš„eventsåŸŸåœ¨è¿™é‡Œçš„è§£é‡Šæ˜¯ï¼šåœ¨è¢«ç›‘æµ‹çš„æ–‡ä»¶æè¿°ç¬¦ä¸Šå®é™…å‘ç”Ÿçš„äº‹ä»¶ã€‚
å‚æ•°timeoutæè¿°åœ¨å‡½æ•°è°ƒç”¨ä¸­é˜»å¡æ—¶é—´ä¸Šé™ï¼Œå•ä½æ˜¯msï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;timeout = -1è¡¨ç¤ºè°ƒç”¨å°†ä¸€ç›´é˜»å¡ï¼Œç›´åˆ°æœ‰æ–‡ä»¶æè¿°ç¬¦è¿›å…¥readyçŠ¶æ€æˆ–è€…æ•è·åˆ°ä¿¡å·æ‰è¿”å›ï¼›&lt;/li&gt;
&lt;li&gt;timeout = 0ç”¨äºéé˜»å¡æ£€æµ‹æ˜¯å¦æœ‰æè¿°ç¬¦å¤„äºreadyçŠ¶æ€ï¼Œä¸ç®¡ç»“æœæ€ä¹ˆæ ·ï¼Œè°ƒç”¨éƒ½ç«‹å³è¿”å›ï¼›&lt;/li&gt;
&lt;li&gt;timeout &amp;gt; 0è¡¨ç¤ºè°ƒç”¨å°†æœ€å¤šæŒç»­timeoutæ—¶é—´ï¼Œå¦‚æœæœŸé—´æœ‰æ£€æµ‹å¯¹è±¡å˜ä¸ºreadyçŠ¶æ€æˆ–è€…æ•è·åˆ°ä¿¡å·åˆ™è¿”å›ï¼Œå¦åˆ™ç›´åˆ°è¶…æ—¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;epollçš„ä¸¤ç§è§¦å‘æ–¹å¼&#34;&gt;epollçš„ä¸¤ç§è§¦å‘æ–¹å¼&lt;/h1&gt;
&lt;p&gt;epollç›‘æ§å¤šä¸ªæ–‡ä»¶æè¿°ç¬¦çš„I/Oäº‹ä»¶ã€‚epollæ”¯æŒè¾¹ç¼˜è§¦å‘(edge triggerï¼ŒET)æˆ–æ°´å¹³è§¦å‘ï¼ˆlevel triggerï¼ŒLT)ï¼Œé€šè¿‡epoll_waitç­‰å¾…I/Oäº‹ä»¶ï¼Œå¦‚æœå½“å‰æ²¡æœ‰å¯ç”¨çš„äº‹ä»¶åˆ™é˜»å¡è°ƒç”¨çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;selectå’Œpollåªæ”¯æŒLTå·¥ä½œæ¨¡å¼ï¼Œepollçš„é»˜è®¤çš„å·¥ä½œæ¨¡å¼æ˜¯LTæ¨¡å¼ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;1æ°´å¹³è§¦å‘çš„æ—¶æœº&#34;&gt;1.æ°´å¹³è§¦å‘çš„æ—¶æœº&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å¯¹äºè¯»æ“ä½œï¼Œåªè¦ç¼“å†²å†…å®¹ä¸ä¸ºç©ºï¼ŒLTæ¨¡å¼è¿”å›è¯»å°±ç»ªã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºå†™æ“ä½œï¼Œåªè¦ç¼“å†²åŒºè¿˜ä¸æ»¡ï¼ŒLTæ¨¡å¼ä¼šè¿”å›å†™å°±ç»ªã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å½“è¢«ç›‘æ§çš„æ–‡ä»¶æè¿°ç¬¦ä¸Šæœ‰å¯è¯»å†™äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œepoll_wait()ä¼šé€šçŸ¥å¤„ç†ç¨‹åºå»è¯»å†™ã€‚å¦‚æœè¿™æ¬¡æ²¡æœ‰æŠŠæ•°æ®ä¸€æ¬¡æ€§å…¨éƒ¨è¯»å†™å®Œ(å¦‚è¯»å†™ç¼“å†²åŒºå¤ªå°)ï¼Œé‚£ä¹ˆä¸‹æ¬¡è°ƒç”¨ epoll_wait()æ—¶ï¼Œå®ƒè¿˜ä¼šé€šçŸ¥ä½ åœ¨ä¸Šæ²¡è¯»å†™å®Œçš„æ–‡ä»¶æè¿°ç¬¦ä¸Šç»§ç»­è¯»å†™ï¼Œå½“ç„¶å¦‚æœä½ ä¸€ç›´ä¸å»è¯»å†™ï¼Œå®ƒä¼šä¸€ç›´é€šçŸ¥ä½ ã€‚å¦‚æœç³»ç»Ÿä¸­æœ‰å¤§é‡ä½ ä¸éœ€è¦è¯»å†™çš„å°±ç»ªæ–‡ä»¶æè¿°ç¬¦ï¼Œè€Œå®ƒä»¬æ¯æ¬¡éƒ½ä¼šè¿”å›ï¼Œè¿™æ ·ä¼šå¤§å¤§é™ä½å¤„ç†ç¨‹åºæ£€ç´¢è‡ªå·±å…³å¿ƒçš„å°±ç»ªæ–‡ä»¶æè¿°ç¬¦çš„æ•ˆç‡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;2è¾¹ç¼˜è§¦å‘çš„æ—¶æœº&#34;&gt;2.è¾¹ç¼˜è§¦å‘çš„æ—¶æœº&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹äºè¯»æ“ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;å½“ç¼“å†²åŒºç”±ä¸å¯è¯»å˜ä¸ºå¯è¯»çš„æ—¶å€™ï¼Œå³ç¼“å†²åŒºç”±ç©ºå˜ä¸ºä¸ç©ºçš„æ—¶å€™ã€‚&lt;/li&gt;
&lt;li&gt;å½“æœ‰æ–°æ•°æ®åˆ°è¾¾æ—¶ï¼Œå³ç¼“å†²åŒºä¸­çš„å¾…è¯»æ•°æ®å˜å¤šçš„æ—¶å€™ã€‚&lt;/li&gt;
&lt;li&gt;å½“ç¼“å†²åŒºæœ‰æ•°æ®å¯è¯»ï¼Œä¸”åº”ç”¨è¿›ç¨‹å¯¹ç›¸åº”çš„æè¿°ç¬¦è¿›è¡ŒEPOLL_CTL_MOD ä¿®æ”¹EPOLLINäº‹ä»¶æ—¶ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹äºå†™æ“ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;å½“ç¼“å†²åŒºç”±ä¸å¯å†™å˜ä¸ºå¯å†™æ—¶ã€‚&lt;/li&gt;
&lt;li&gt;å½“æœ‰æ—§æ•°æ®è¢«å‘é€èµ°ï¼Œå³ç¼“å†²åŒºä¸­çš„å†…å®¹å˜å°‘çš„æ—¶å€™ã€‚&lt;/li&gt;
&lt;li&gt;å½“ç¼“å†²åŒºæœ‰ç©ºé—´å¯å†™ï¼Œä¸”åº”ç”¨è¿›ç¨‹å¯¹ç›¸åº”çš„æè¿°ç¬¦è¿›è¡ŒEPOLL_CTL_MOD ä¿®æ”¹EPOLLOUTäº‹ä»¶æ—¶ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å½“è¢«ç›‘æ§çš„æ–‡ä»¶æè¿°ç¬¦ä¸Šæœ‰å¯è¯»å†™äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œepoll_wait()ä¼šé€šçŸ¥å¤„ç†ç¨‹åºå»è¯»å†™ã€‚å¦‚æœè¿™æ¬¡æ²¡æœ‰æŠŠæ•°æ®å…¨éƒ¨è¯»å†™å®Œ(å¦‚è¯»å†™ç¼“å†²åŒºå¤ªå°)ï¼Œé‚£ä¹ˆä¸‹æ¬¡è°ƒç”¨epoll_wait()æ—¶ï¼Œå®ƒä¸ä¼šé€šçŸ¥ä½ ï¼Œä¹Ÿå°±æ˜¯å®ƒåªä¼šé€šçŸ¥ä½ ä¸€æ¬¡ï¼Œç›´åˆ°è¯¥æ–‡ä»¶æè¿°ç¬¦ä¸Šå‡ºç°ç¬¬äºŒæ¬¡å¯è¯»å†™äº‹ä»¶æ‰ä¼šé€šçŸ¥ä½ ã€‚è¿™ç§æ¨¡å¼æ¯”æ°´å¹³è§¦å‘æ•ˆç‡é«˜ï¼Œç³»ç»Ÿä¸ä¼šå……æ–¥å¤§é‡ä½ ä¸å…³å¿ƒçš„å°±ç»ªæ–‡ä»¶æè¿°ç¬¦ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ETæ¨¡å¼ä¸‹ï¼Œ ç¼“å†²åŒºä»ä¸å¯è¯»å˜æˆå¯è¯»ï¼Œä¼šå”¤é†’åº”ç”¨è¿›ç¨‹ï¼Œç¼“å†²åŒºæ•°æ®å˜å°‘çš„æƒ…å†µï¼Œåˆ™ä¸ä¼šå†å”¤é†’åº”ç”¨è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸¾ä¾‹1ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¯»ç¼“å†²åŒºåˆšå¼€å§‹æ˜¯ç©ºçš„&lt;/li&gt;
&lt;li&gt;è¯»ç¼“å†²åŒºå†™å…¥2KBæ•°æ®&lt;/li&gt;
&lt;li&gt;æ°´å¹³è§¦å‘å’Œè¾¹ç¼˜è§¦å‘æ¨¡å¼æ­¤æ—¶éƒ½ä¼šå‘å‡ºå¯è¯»ä¿¡å·&lt;/li&gt;
&lt;li&gt;æ”¶åˆ°ä¿¡å·é€šçŸ¥åï¼Œè¯»å–äº†1KBçš„æ•°æ®ï¼Œè¯»ç¼“å†²åŒºè¿˜å‰©ä½™1KBæ•°æ®&lt;/li&gt;
&lt;li&gt;æ°´å¹³è§¦å‘ä¼šå†æ¬¡è¿›è¡Œé€šçŸ¥ï¼Œè€Œè¾¹ç¼˜è§¦å‘ä¸ä¼šå†è¿›è¡Œé€šçŸ¥&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸¾ä¾‹2ï¼šï¼ˆä»¥è„‰å†²çš„é«˜ä½ç”µå¹³ä¸ºä¾‹ï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ°´å¹³è§¦å‘ï¼š0ä¸ºæ— æ•°æ®ï¼Œ1ä¸ºæœ‰æ•°æ®ã€‚ç¼“å†²åŒºæœ‰æ•°æ®åˆ™ä¸€ç›´ä¸º1ï¼Œåˆ™ä¸€ç›´è§¦å‘ã€‚&lt;/li&gt;
&lt;li&gt;è¾¹ç¼˜è§¦å‘å‘ï¼š0ä¸ºæ— æ•°æ®ï¼Œ1ä¸ºæœ‰æ•°æ®ï¼Œåªè¦åœ¨0å˜åˆ°1çš„ä¸Šå‡æ²¿æ‰è§¦å‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;JDKå¹¶æ²¡æœ‰å®ç°è¾¹ç¼˜è§¦å‘ï¼ŒNettyé‡æ–°å®ç°äº†epollæœºåˆ¶ï¼Œé‡‡ç”¨è¾¹ç¼˜è§¦å‘æ–¹å¼ï¼›å¦å¤–åƒNginxä¹Ÿé‡‡ç”¨è¾¹ç¼˜è§¦å‘ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;JDKåœ¨Linuxå·²ç»é»˜è®¤ä½¿ç”¨epollæ–¹å¼ï¼Œä½†æ˜¯JDKçš„epollé‡‡ç”¨çš„æ˜¯æ°´å¹³è§¦å‘ï¼Œè€ŒNettyé‡æ–°å®ç°äº†epollæœºåˆ¶ï¼Œé‡‡ç”¨è¾¹ç¼˜è§¦å‘æ–¹å¼ï¼Œnetty epoll transport æš´éœ²äº†æ›´å¤šçš„nioæ²¡æœ‰çš„é…ç½®å‚æ•°ï¼Œå¦‚ TCP_CORK, SO_REUSEADDRç­‰ç­‰ï¼›å¦å¤–åƒNginxä¹Ÿé‡‡ç”¨è¾¹ç¼˜è§¦å‘ã€‚&lt;/p&gt;
&lt;h1 id=&#34;epollä¸selectpollçš„å¯¹æ¯”&#34;&gt;epollä¸selectã€pollçš„å¯¹æ¯”&lt;/h1&gt;
&lt;h2 id=&#34;1-ç”¨æˆ·æ€å°†æ–‡ä»¶æè¿°ç¬¦ä¼ å…¥å†…æ ¸çš„æ–¹å¼&#34;&gt;1. ç”¨æˆ·æ€å°†æ–‡ä»¶æè¿°ç¬¦ä¼ å…¥å†…æ ¸çš„æ–¹å¼&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;selectï¼šåˆ›å»º3ä¸ªæ–‡ä»¶æè¿°ç¬¦é›†å¹¶æ‹·è´åˆ°å†…æ ¸ä¸­ï¼Œåˆ†åˆ«ç›‘å¬è¯»ã€å†™ã€å¼‚å¸¸åŠ¨ä½œã€‚è¿™é‡Œå—åˆ°å•ä¸ªè¿›ç¨‹å¯ä»¥æ‰“å¼€çš„fdæ•°é‡é™åˆ¶ï¼Œé»˜è®¤æ˜¯1024ã€‚&lt;/li&gt;
&lt;li&gt;pollï¼šå°†ä¼ å…¥çš„struct pollfdç»“æ„ä½“æ•°ç»„æ‹·è´åˆ°å†…æ ¸ä¸­è¿›è¡Œç›‘å¬ã€‚&lt;/li&gt;
&lt;li&gt;epollï¼šæ‰§è¡Œepoll_createä¼šåœ¨å†…æ ¸çš„é«˜é€ŸcacheåŒºä¸­å»ºç«‹ä¸€é¢—çº¢é»‘æ ‘ä»¥åŠå°±ç»ªé“¾è¡¨(è¯¥é“¾è¡¨å­˜å‚¨å·²ç»å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦)ã€‚æ¥ç€ç”¨æˆ·æ‰§è¡Œçš„epoll_ctlå‡½æ•°æ·»åŠ æ–‡ä»¶æè¿°ç¬¦ä¼šåœ¨çº¢é»‘æ ‘ä¸Šå¢åŠ ç›¸åº”çš„ç»“ç‚¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;2-å†…æ ¸æ€æ£€æµ‹æ–‡ä»¶æè¿°ç¬¦è¯»å†™çŠ¶æ€çš„æ–¹å¼&#34;&gt;2. å†…æ ¸æ€æ£€æµ‹æ–‡ä»¶æè¿°ç¬¦è¯»å†™çŠ¶æ€çš„æ–¹å¼&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;selectï¼šé‡‡ç”¨è½®è¯¢æ–¹å¼ï¼Œéå†æ‰€æœ‰fdï¼Œæœ€åè¿”å›ä¸€ä¸ªæè¿°ç¬¦è¯»å†™æ“ä½œæ˜¯å¦å°±ç»ªçš„maskæ©ç ï¼Œæ ¹æ®è¿™ä¸ªæ©ç ç»™fd_setèµ‹å€¼ã€‚&lt;/li&gt;
&lt;li&gt;pollï¼šåŒæ ·é‡‡ç”¨è½®è¯¢æ–¹å¼ï¼ŒæŸ¥è¯¢æ¯ä¸ªfdçš„çŠ¶æ€ï¼Œå¦‚æœå°±ç»ªåˆ™åœ¨ç­‰å¾…é˜Ÿåˆ—ä¸­åŠ å…¥ä¸€é¡¹å¹¶ç»§ç»­éå†ã€‚&lt;/li&gt;
&lt;li&gt;epollï¼šé‡‡ç”¨å›è°ƒæœºåˆ¶ã€‚åœ¨æ‰§è¡Œepoll_ctlçš„addæ“ä½œæ—¶ï¼Œä¸ä»…å°†æ–‡ä»¶æè¿°ç¬¦æ”¾åˆ°çº¢é»‘æ ‘ä¸Šï¼Œè€Œä¸”ä¹Ÿæ³¨å†Œäº†å›è°ƒå‡½æ•°ï¼Œå†…æ ¸åœ¨æ£€æµ‹åˆ°æŸæ–‡ä»¶æè¿°ç¬¦å¯è¯»/å¯å†™æ—¶ä¼šè°ƒç”¨å›è°ƒå‡½æ•°ï¼Œè¯¥å›è°ƒå‡½æ•°å°†æ–‡ä»¶æè¿°ç¬¦æ”¾åœ¨å°±ç»ªé“¾è¡¨ä¸­ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;3-æ‰¾åˆ°å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦å¹¶ä¼ é€’ç»™ç”¨æˆ·æ€çš„æ–¹å¼&#34;&gt;3. æ‰¾åˆ°å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦å¹¶ä¼ é€’ç»™ç”¨æˆ·æ€çš„æ–¹å¼&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;selectï¼šå°†ä¹‹å‰ä¼ å…¥çš„fd_setæ‹·è´ä¼ å‡ºåˆ°ç”¨æˆ·æ€å¹¶è¿”å›å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦æ€»æ•°ã€‚ç”¨æˆ·æ€å¹¶ä¸çŸ¥é“æ˜¯å“ªäº›æ–‡ä»¶æè¿°ç¬¦å¤„äºå°±ç»ªæ€ï¼Œéœ€è¦éå†æ¥åˆ¤æ–­ã€‚&lt;/li&gt;
&lt;li&gt;pollï¼šå°†ä¹‹å‰ä¼ å…¥çš„fdæ•°ç»„æ‹·è´ä¼ å‡ºç”¨æˆ·æ€å¹¶è¿”å›å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦æ€»æ•°ã€‚ç”¨æˆ·æ€å¹¶ä¸çŸ¥é“æ˜¯å“ªäº›æ–‡ä»¶æè¿°ç¬¦å¤„äºå°±ç»ªæ€ï¼Œéœ€è¦éå†æ¥åˆ¤æ–­ã€‚&lt;/li&gt;
&lt;li&gt;epollï¼šepoll_waitåªç”¨è§‚å¯Ÿå°±ç»ªé“¾è¡¨ä¸­æœ‰æ— æ•°æ®å³å¯ï¼Œæœ€åå°†é“¾è¡¨çš„æ•°æ®è¿”å›ç»™æ•°ç»„å¹¶è¿”å›å°±ç»ªçš„æ•°é‡ã€‚å†…æ ¸å°†å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦æ”¾åœ¨ä¼ å…¥çš„æ•°ç»„ä¸­ï¼Œæ‰€ä»¥åªç”¨éå†ä¾æ¬¡å¤„ç†å³å¯ã€‚è¿™é‡Œè¿”å›çš„æ–‡ä»¶æè¿°ç¬¦æ˜¯é€šè¿‡mmapè®©å†…æ ¸å’Œç”¨æˆ·ç©ºé—´å…±äº«åŒä¸€å—å†…å­˜å®ç°ä¼ é€’çš„ï¼Œå‡å°‘äº†ä¸å¿…è¦çš„æ‹·è´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;4-é‡å¤ç›‘å¬çš„å¤„ç†æ–¹å¼&#34;&gt;4. é‡å¤ç›‘å¬çš„å¤„ç†æ–¹å¼&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;selectï¼šå°†æ–°çš„ç›‘å¬æ–‡ä»¶æè¿°ç¬¦é›†åˆæ‹·è´ä¼ å…¥å†…æ ¸ä¸­ï¼Œç»§ç»­ä»¥ä¸Šæ­¥éª¤ã€‚&lt;/li&gt;
&lt;li&gt;pollï¼šå°†æ–°çš„struct pollfdç»“æ„ä½“æ•°ç»„æ‹·è´ä¼ å…¥å†…æ ¸ä¸­ï¼Œç»§ç»­ä»¥ä¸Šæ­¥éª¤ã€‚&lt;/li&gt;
&lt;li&gt;epollï¼šæ— éœ€é‡æ–°æ„å»ºçº¢é»‘æ ‘ï¼Œç›´æ¥æ²¿ç”¨å·²å­˜åœ¨çš„å³å¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;epollæ›´é«˜æ•ˆçš„åŸå› &#34;&gt;epollæ›´é«˜æ•ˆçš„åŸå› &lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;selectå’Œpollçš„åŠ¨ä½œåŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯pollé‡‡ç”¨é“¾è¡¨æ¥è¿›è¡Œæ–‡ä»¶æè¿°ç¬¦çš„å­˜å‚¨ï¼Œè€Œselecté‡‡ç”¨fdæ ‡æ³¨ä½æ¥å­˜æ”¾ï¼Œæ‰€ä»¥selectä¼šå—åˆ°æœ€å¤§è¿æ¥æ•°çš„é™åˆ¶ï¼Œè€Œpollä¸ä¼šã€‚&lt;/li&gt;
&lt;li&gt;selectã€pollã€epollè™½ç„¶éƒ½ä¼šè¿”å›å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦æ•°é‡ã€‚ä½†æ˜¯selectå’Œpollå¹¶ä¸ä¼šæ˜ç¡®æŒ‡å‡ºæ˜¯å“ªäº›æ–‡ä»¶æè¿°ç¬¦å°±ç»ªï¼Œè€Œepollä¼šã€‚é€ æˆçš„åŒºåˆ«å°±æ˜¯ï¼Œç³»ç»Ÿè°ƒç”¨è¿”å›åï¼Œè°ƒç”¨selectå’Œpollçš„ç¨‹åºéœ€è¦éå†ç›‘å¬çš„æ•´ä¸ªæ–‡ä»¶æè¿°ç¬¦æ‰¾åˆ°æ˜¯è°å¤„äºå°±ç»ªï¼Œè€Œepollåˆ™ç›´æ¥å¤„ç†å³å¯ã€‚&lt;/li&gt;
&lt;li&gt;selectã€polléƒ½éœ€è¦å°†æœ‰å…³æ–‡ä»¶æè¿°ç¬¦çš„æ•°æ®ç»“æ„æ‹·è´è¿›å†…æ ¸ï¼Œæœ€åå†æ‹·è´å‡ºæ¥ã€‚è€Œepollåˆ›å»ºçš„æœ‰å…³æ–‡ä»¶æè¿°ç¬¦çš„æ•°æ®ç»“æ„æœ¬èº«å°±å­˜äºå†…æ ¸æ€ä¸­ï¼Œç³»ç»Ÿè°ƒç”¨è¿”å›æ—¶åˆ©ç”¨mmap()æ–‡ä»¶æ˜ å°„å†…å­˜åŠ é€Ÿä¸å†…æ ¸ç©ºé—´çš„æ¶ˆæ¯ä¼ é€’ï¼šå³epollä½¿ç”¨mmapå‡å°‘å¤åˆ¶å¼€é”€ã€‚&lt;/li&gt;
&lt;li&gt;selectã€pollé‡‡ç”¨è½®è¯¢çš„æ–¹å¼æ¥æ£€æŸ¥æ–‡ä»¶æè¿°ç¬¦æ˜¯å¦å¤„äºå°±ç»ªæ€ï¼Œè€Œepollé‡‡ç”¨å›è°ƒæœºåˆ¶ã€‚é€ æˆçš„ç»“æœå°±æ˜¯ï¼Œéšç€fdçš„å¢åŠ ï¼Œselectå’Œpollçš„æ•ˆç‡ä¼šçº¿æ€§é™ä½ï¼Œè€Œepollä¸ä¼šå—åˆ°å¤ªå¤§å½±å“ï¼Œé™¤éæ´»è·ƒçš„socketå¾ˆå¤šã€‚&lt;/li&gt;
&lt;li&gt;epollçš„è¾¹ç¼˜è§¦å‘æ¨¡å¼æ•ˆç‡é«˜ï¼Œç³»ç»Ÿä¸ä¼šå……æ–¥å¤§é‡ä¸å…³å¿ƒçš„å°±ç»ªæ–‡ä»¶æè¿°ç¬¦&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;è™½ç„¶epollçš„æ€§èƒ½æœ€å¥½ï¼Œä½†æ˜¯åœ¨è¿æ¥æ•°å°‘å¹¶ä¸”è¿æ¥éƒ½ååˆ†æ´»è·ƒçš„æƒ…å†µä¸‹ï¼Œselectå’Œpollçš„æ€§èƒ½å¯èƒ½æ¯”epollå¥½ï¼Œæ¯•ç«Ÿepollçš„é€šçŸ¥æœºåˆ¶éœ€è¦å¾ˆå¤šå‡½æ•°å›è°ƒã€‚&lt;/p&gt;
&lt;/blockquote&gt;
</description>
        </item>
        <item>
        <title>RedisæŒä¹…åŒ–æœºåˆ¶</title>
        <link>https://lxb.wiki/f885fe0f/</link>
        <pubDate>Tue, 01 Jun 2021 21:18:51 +0000</pubDate>
        
        <guid>https://lxb.wiki/f885fe0f/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;redisæ˜¯ä¸€ä¸ªå†…å­˜æ•°æ®åº“ï¼Œæ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œä½†æ˜¯æˆ‘ä»¬éƒ½çŸ¥é“å†…å­˜çš„æ•°æ®å˜åŒ–æ˜¯å¾ˆå¿«çš„ï¼Œä¹Ÿå®¹æ˜“å‘ç”Ÿä¸¢å¤±ã€‚å¹¸å¥½Redisè¿˜ä¸ºæˆ‘ä»¬æä¾›äº†æŒä¹…åŒ–çš„æœºåˆ¶ï¼Œåˆ†åˆ«æ˜¯RDB(Redis DataBase)å’ŒAOF(Append Only File)ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸€æŒä¹…åŒ–æµç¨‹&#34;&gt;ä¸€ã€æŒä¹…åŒ–æµç¨‹&lt;/h3&gt;
&lt;p&gt;æ—¢ç„¶redisçš„æ•°æ®å¯ä»¥ä¿å­˜åœ¨ç£ç›˜ä¸Šï¼Œé‚£ä¹ˆè¿™ä¸ªæµç¨‹æ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¦æœ‰ä¸‹é¢äº”ä¸ªè¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€å†™æ“ä½œ(æ•°æ®åœ¨å®¢æˆ·ç«¯çš„å†…å­˜ä¸­)ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰æ•°æ®åº“æœåŠ¡ç«¯æ¥æ”¶åˆ°å†™è¯·æ±‚çš„æ•°æ®(æ•°æ®åœ¨æœåŠ¡ç«¯çš„å†…å­˜ä¸­)ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ3ï¼‰æœåŠ¡ç«¯è°ƒç”¨writeè¿™ä¸ªç³»ç»Ÿè°ƒç”¨ï¼Œå°†æ•°æ®å¾€ç£ç›˜ä¸Šå†™(æ•°æ®åœ¨ç³»ç»Ÿå†…å­˜çš„ç¼“å†²åŒºä¸­)ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ4ï¼‰æ“ä½œç³»ç»Ÿå°†ç¼“å†²åŒºä¸­çš„æ•°æ®è½¬ç§»åˆ°ç£ç›˜æ§åˆ¶å™¨ä¸Š(æ•°æ®åœ¨ç£ç›˜ç¼“å­˜ä¸­)ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ5ï¼‰ç£ç›˜æ§åˆ¶å™¨å°†æ•°æ®å†™åˆ°ç£ç›˜çš„ç‰©ç†ä»‹è´¨ä¸­(æ•°æ®çœŸæ­£è½åˆ°ç£ç›˜ä¸Š)ã€‚&lt;/p&gt;
&lt;p&gt;è¿™5ä¸ªè¿‡ç¨‹æ˜¯åœ¨ç†æƒ³æ¡ä»¶ä¸‹ä¸€ä¸ªæ­£å¸¸çš„ä¿å­˜æµç¨‹ï¼Œä½†æ˜¯åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„æœºå™¨ç­‰ç­‰éƒ½ä¼šæœ‰å„ç§å„æ ·çš„æ•…éšœï¼Œè¿™é‡Œåˆ’åˆ†äº†ä¸¤ç§æƒ…å†µï¼š&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰Redisæ•°æ®åº“å‘ç”Ÿæ•…éšœï¼Œåªè¦åœ¨ä¸Šé¢çš„ç¬¬ä¸‰æ­¥æ‰§è¡Œå®Œæ¯•ï¼Œé‚£ä¹ˆå°±å¯ä»¥æŒä¹…åŒ–ä¿å­˜ï¼Œå‰©ä¸‹çš„ä¸¤æ­¥ç”±æ“ä½œç³»ç»Ÿæ›¿æˆ‘ä»¬å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰æ“ä½œç³»ç»Ÿå‘ç”Ÿæ•…éšœï¼Œå¿…é¡»ä¸Šé¢5æ­¥éƒ½å®Œæˆæ‰å¯ä»¥ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™é‡Œåªè€ƒè™‘äº†ä¿å­˜çš„è¿‡ç¨‹å¯èƒ½å‘ç”Ÿçš„æ•…éšœï¼Œå…¶å®ä¿å­˜çš„æ•°æ®ä¹Ÿæœ‰å¯èƒ½å‘ç”ŸæŸåï¼Œéœ€è¦ä¸€å®šçš„æ¢å¤æœºåˆ¶ï¼Œä¸è¿‡åœ¨è¿™é‡Œå°±ä¸å†å»¶ä¼¸äº†ã€‚ç°åœ¨ä¸»è¦è€ƒè™‘çš„æ˜¯rediså¦‚ä½•æ¥å®ç°ä¸Šé¢5ä¸ªä¿å­˜ç£ç›˜çš„æ­¥éª¤ã€‚å®ƒæä¾›äº†ä¸¤ç§ç­–ç•¥æœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯RDBå’ŒAOFã€‚&lt;/p&gt;
&lt;h3 id=&#34;äºŒrdbæœºåˆ¶&#34;&gt;äºŒã€RDBæœºåˆ¶&lt;/h3&gt;
&lt;p&gt;RDBå…¶å®å°±æ˜¯æŠŠæ•°æ®ä»¥å¿«ç…§çš„å½¢å¼ä¿å­˜åœ¨ç£ç›˜ä¸Šã€‚ä»€ä¹ˆæ˜¯å¿«ç…§å‘¢ï¼Œä½ å¯ä»¥ç†è§£æˆæŠŠå½“å‰æ—¶åˆ»çš„æ•°æ®æ‹æˆä¸€å¼ ç…§ç‰‡ä¿å­˜ä¸‹æ¥ã€‚&lt;/p&gt;
&lt;p&gt;RDBæŒä¹…åŒ–æ˜¯æŒ‡åœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”å†…å°†å†…å­˜ä¸­çš„æ•°æ®é›†å¿«ç…§å†™å…¥ç£ç›˜ã€‚ä¹Ÿæ˜¯é»˜è®¤çš„æŒä¹…åŒ–æ–¹å¼ï¼Œè¿™ç§æ–¹å¼æ˜¯å°±æ˜¯å°†å†…å­˜ä¸­æ•°æ®ä»¥å¿«ç…§çš„æ–¹å¼å†™å…¥åˆ°äºŒè¿›åˆ¶æ–‡ä»¶ä¸­,é»˜è®¤çš„æ–‡ä»¶åä¸ºdump.rdbã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æˆ‘ä»¬å®‰è£…äº†redisä¹‹åï¼Œæ‰€æœ‰çš„é…ç½®éƒ½æ˜¯åœ¨redis.confæ–‡ä»¶ä¸­ï¼Œé‡Œé¢ä¿å­˜äº†RDBå’ŒAOFä¸¤ç§æŒä¹…åŒ–æœºåˆ¶çš„å„ç§é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶RDBæœºåˆ¶æ˜¯é€šè¿‡æŠŠæŸä¸ªæ—¶åˆ»çš„æ‰€æœ‰æ•°æ®ç”Ÿæˆä¸€ä¸ªå¿«ç…§æ¥ä¿å­˜ï¼Œé‚£ä¹ˆå°±åº”è¯¥æœ‰ä¸€ç§è§¦å‘æœºåˆ¶ï¼Œæ˜¯å®ç°è¿™ä¸ªè¿‡ç¨‹ã€‚å¯¹äºRDBæ¥è¯´ï¼Œæä¾›äº†ä¸‰ç§æœºåˆ¶ï¼šsaveã€bgsaveã€è‡ªåŠ¨åŒ–ã€‚æˆ‘ä»¬åˆ†åˆ«æ¥çœ‹ä¸€ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1ã€saveè§¦å‘æ–¹å¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¯¥å‘½ä»¤ä¼šé˜»å¡å½“å‰RedisæœåŠ¡å™¨ï¼Œæ‰§è¡Œsaveå‘½ä»¤æœŸé—´ï¼ŒRedisä¸èƒ½å¤„ç†å…¶ä»–å‘½ä»¤ï¼Œç›´åˆ°RDBè¿‡ç¨‹å®Œæˆä¸ºæ­¢ã€‚å…·ä½“æµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220212202507.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ‰§è¡Œå®Œæˆæ—¶å€™å¦‚æœå­˜åœ¨è€çš„RDBæ–‡ä»¶ï¼Œå°±æŠŠæ–°çš„æ›¿ä»£æ‰æ—§çš„ã€‚æˆ‘ä»¬çš„å®¢æˆ·ç«¯å¯èƒ½éƒ½æ˜¯å‡ ä¸‡æˆ–è€…æ˜¯å‡ åä¸‡ï¼Œè¿™ç§æ–¹å¼æ˜¾ç„¶ä¸å¯å–ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2ã€bgsaveè§¦å‘æ–¹å¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ‰§è¡Œè¯¥å‘½ä»¤æ—¶ï¼ŒRedisä¼šåœ¨åå°å¼‚æ­¥è¿›è¡Œå¿«ç…§æ“ä½œï¼Œå¿«ç…§åŒæ—¶è¿˜å¯ä»¥å“åº”å®¢æˆ·ç«¯è¯·æ±‚ã€‚å…·ä½“æµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220212202435.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å…·ä½“æ“ä½œæ˜¯Redisè¿›ç¨‹æ‰§è¡Œforkæ“ä½œåˆ›å»ºå­è¿›ç¨‹ï¼ŒRDBæŒä¹…åŒ–è¿‡ç¨‹ç”±å­è¿›ç¨‹è´Ÿè´£ï¼Œå®Œæˆåè‡ªåŠ¨ç»“æŸã€‚é˜»å¡åªå‘ç”Ÿåœ¨forké˜¶æ®µï¼Œä¸€èˆ¬æ—¶é—´å¾ˆçŸ­ã€‚åŸºæœ¬ä¸Š Redis å†…éƒ¨æ‰€æœ‰çš„RDBæ“ä½œéƒ½æ˜¯é‡‡ç”¨ bgsave å‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3ã€è‡ªåŠ¨è§¦å‘&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è‡ªåŠ¨è§¦å‘æ˜¯ç”±æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶æ¥å®Œæˆçš„ã€‚åœ¨redis.confé…ç½®æ–‡ä»¶ä¸­ï¼Œé‡Œé¢æœ‰å¦‚ä¸‹é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥å»è®¾ç½®ï¼š&lt;/p&gt;
&lt;p&gt;**â‘ saveï¼š**è¿™é‡Œæ˜¯ç”¨æ¥é…ç½®è§¦å‘ Redisçš„ RDB æŒä¹…åŒ–æ¡ä»¶ï¼Œä¹Ÿå°±æ˜¯ä»€ä¹ˆæ—¶å€™å°†å†…å­˜ä¸­çš„æ•°æ®ä¿å­˜åˆ°ç¡¬ç›˜ã€‚æ¯”å¦‚â€œsave m nâ€ã€‚è¡¨ç¤ºmç§’å†…æ•°æ®é›†å­˜åœ¨næ¬¡ä¿®æ”¹æ—¶ï¼Œè‡ªåŠ¨è§¦å‘bgsaveã€‚&lt;/p&gt;
&lt;p&gt;é»˜è®¤å¦‚ä¸‹é…ç½®ï¼š&lt;/p&gt;
&lt;p&gt;#è¡¨ç¤º900 ç§’å†…å¦‚æœè‡³å°‘æœ‰ 1 ä¸ª key çš„å€¼å˜åŒ–ï¼Œåˆ™ä¿å­˜save 900 1#è¡¨ç¤º300 ç§’å†…å¦‚æœè‡³å°‘æœ‰ 10 ä¸ª key çš„å€¼å˜åŒ–ï¼Œåˆ™ä¿å­˜save 300 10#è¡¨ç¤º60 ç§’å†…å¦‚æœè‡³å°‘æœ‰ 10000 ä¸ª key çš„å€¼å˜åŒ–ï¼Œåˆ™ä¿å­˜save 60 10000&lt;/p&gt;
&lt;p&gt;ä¸éœ€è¦æŒä¹…åŒ–ï¼Œé‚£ä¹ˆä½ å¯ä»¥æ³¨é‡Šæ‰æ‰€æœ‰çš„ save è¡Œæ¥åœç”¨ä¿å­˜åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;**â‘¡stop-writes-on-bgsave-error ï¼š**é»˜è®¤å€¼ä¸ºyesã€‚å½“å¯ç”¨äº†RDBä¸”æœ€åä¸€æ¬¡åå°ä¿å­˜æ•°æ®å¤±è´¥ï¼ŒRedisæ˜¯å¦åœæ­¢æ¥æ”¶æ•°æ®ã€‚è¿™ä¼šè®©ç”¨æˆ·æ„è¯†åˆ°æ•°æ®æ²¡æœ‰æ­£ç¡®æŒä¹…åŒ–åˆ°ç£ç›˜ä¸Šï¼Œå¦åˆ™æ²¡æœ‰äººä¼šæ³¨æ„åˆ°ç¾éš¾ï¼ˆdisasterï¼‰å‘ç”Ÿäº†ã€‚å¦‚æœRedisé‡å¯äº†ï¼Œé‚£ä¹ˆåˆå¯ä»¥é‡æ–°å¼€å§‹æ¥æ”¶æ•°æ®äº†&lt;/p&gt;
&lt;p&gt;**â‘¢rdbcompression ï¼›**é»˜è®¤å€¼æ˜¯yesã€‚å¯¹äºå­˜å‚¨åˆ°ç£ç›˜ä¸­çš„å¿«ç…§ï¼Œå¯ä»¥è®¾ç½®æ˜¯å¦è¿›è¡Œå‹ç¼©å­˜å‚¨ã€‚&lt;/p&gt;
&lt;p&gt;**â‘£rdbchecksum ï¼š**é»˜è®¤å€¼æ˜¯yesã€‚åœ¨å­˜å‚¨å¿«ç…§åï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è®©redisä½¿ç”¨CRC64ç®—æ³•æ¥è¿›è¡Œæ•°æ®æ ¡éªŒï¼Œä½†æ˜¯è¿™æ ·åšä¼šå¢åŠ å¤§çº¦10%çš„æ€§èƒ½æ¶ˆè€—ï¼Œå¦‚æœå¸Œæœ›è·å–åˆ°æœ€å¤§çš„æ€§èƒ½æå‡ï¼Œå¯ä»¥å…³é—­æ­¤åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;**â‘¤dbfilename ï¼š**è®¾ç½®å¿«ç…§çš„æ–‡ä»¶åï¼Œé»˜è®¤æ˜¯ dump.rdb&lt;/p&gt;
&lt;p&gt;**â‘¥dirï¼š**è®¾ç½®å¿«ç…§æ–‡ä»¶çš„å­˜æ”¾è·¯å¾„ï¼Œè¿™ä¸ªé…ç½®é¡¹ä¸€å®šæ˜¯ä¸ªç›®å½•ï¼Œè€Œä¸èƒ½æ˜¯æ–‡ä»¶åã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥ä¿®æ”¹è¿™äº›é…ç½®æ¥å®ç°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚å› ä¸ºç¬¬ä¸‰ç§æ–¹å¼æ˜¯é…ç½®çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯¹å‰ä¸¤ç§è¿›è¡Œä¸€ä¸ªå¯¹æ¯”ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220212202559.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4ã€RDB çš„ä¼˜åŠ¿å’ŒåŠ£åŠ¿&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;â‘ ã€ä¼˜åŠ¿&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰RDBæ–‡ä»¶ç´§å‡‘ï¼Œå…¨é‡å¤‡ä»½ï¼Œéå¸¸é€‚åˆç”¨äºè¿›è¡Œå¤‡ä»½å’Œç¾éš¾æ¢å¤ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰ç”ŸæˆRDBæ–‡ä»¶çš„æ—¶å€™ï¼Œredisä¸»è¿›ç¨‹ä¼šfork()ä¸€ä¸ªå­è¿›ç¨‹æ¥å¤„ç†æ‰€æœ‰ä¿å­˜å·¥ä½œï¼Œä¸»è¿›ç¨‹ä¸éœ€è¦è¿›è¡Œä»»ä½•ç£ç›˜IOæ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ3ï¼‰RDB åœ¨æ¢å¤å¤§æ•°æ®é›†æ—¶çš„é€Ÿåº¦æ¯” AOF çš„æ¢å¤é€Ÿåº¦è¦å¿«ã€‚&lt;/p&gt;
&lt;p&gt;â‘¡ã€åŠ£åŠ¿&lt;/p&gt;
&lt;p&gt;RDBå¿«ç…§æ˜¯ä¸€æ¬¡å…¨é‡å¤‡ä»½ï¼Œå­˜å‚¨çš„æ˜¯å†…å­˜æ•°æ®çš„äºŒè¿›åˆ¶åºåˆ—åŒ–å½¢å¼ï¼Œå­˜å‚¨ä¸Šéå¸¸ç´§å‡‘ã€‚å½“è¿›è¡Œå¿«ç…§æŒä¹…åŒ–æ—¶ï¼Œä¼šå¼€å¯ä¸€ä¸ªå­è¿›ç¨‹ä¸“é—¨è´Ÿè´£å¿«ç…§æŒä¹…åŒ–ï¼Œå­è¿›ç¨‹ä¼šæ‹¥æœ‰çˆ¶è¿›ç¨‹çš„å†…å­˜æ•°æ®ï¼Œçˆ¶è¿›ç¨‹ä¿®æ”¹å†…å­˜å­è¿›ç¨‹ä¸ä¼šååº”å‡ºæ¥ï¼Œæ‰€ä»¥åœ¨å¿«ç…§æŒä¹…åŒ–æœŸé—´ä¿®æ”¹çš„æ•°æ®ä¸ä¼šè¢«ä¿å­˜ï¼Œå¯èƒ½ä¸¢å¤±æ•°æ®ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸‰aofæœºåˆ¶&#34;&gt;ä¸‰ã€AOFæœºåˆ¶&lt;/h3&gt;
&lt;p&gt;å…¨é‡å¤‡ä»½æ€»æ˜¯è€—æ—¶çš„ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬æä¾›ä¸€ç§æ›´åŠ é«˜æ•ˆçš„æ–¹å¼AOFï¼Œå·¥ä½œæœºåˆ¶å¾ˆç®€å•ï¼Œredisä¼šå°†æ¯ä¸€ä¸ªæ”¶åˆ°çš„å†™å‘½ä»¤éƒ½é€šè¿‡writeå‡½æ•°è¿½åŠ åˆ°æ–‡ä»¶ä¸­ã€‚é€šä¿—çš„ç†è§£å°±æ˜¯æ—¥å¿—è®°å½•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1ã€æŒä¹…åŒ–åŸç†&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä»–çš„åŸç†çœ‹ä¸‹é¢è¿™å¼ å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220212202651.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ¯å½“æœ‰ä¸€ä¸ªå†™å‘½ä»¤è¿‡æ¥æ—¶ï¼Œå°±ç›´æ¥ä¿å­˜åœ¨æˆ‘ä»¬çš„AOFæ–‡ä»¶ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2ã€æ–‡ä»¶é‡å†™åŸç†&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;AOFçš„æ–¹å¼ä¹ŸåŒæ—¶å¸¦æ¥äº†å¦ä¸€ä¸ªé—®é¢˜ã€‚æŒä¹…åŒ–æ–‡ä»¶ä¼šå˜çš„è¶Šæ¥è¶Šå¤§ã€‚ä¸ºäº†å‹ç¼©aofçš„æŒä¹…åŒ–æ–‡ä»¶ã€‚redisæä¾›äº†bgrewriteaofå‘½ä»¤ã€‚å°†å†…å­˜ä¸­çš„æ•°æ®ä»¥å‘½ä»¤çš„æ–¹å¼ä¿å­˜åˆ°ä¸´æ—¶æ–‡ä»¶ä¸­ï¼ŒåŒæ—¶ä¼šforkå‡ºä¸€æ¡æ–°è¿›ç¨‹æ¥å°†æ–‡ä»¶é‡å†™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220212202823.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;é‡å†™aofæ–‡ä»¶çš„æ“ä½œï¼Œå¹¶æ²¡æœ‰è¯»å–æ—§çš„aofæ–‡ä»¶ï¼Œè€Œæ˜¯å°†æ•´ä¸ªå†…å­˜ä¸­çš„æ•°æ®åº“å†…å®¹ç”¨å‘½ä»¤çš„æ–¹å¼é‡å†™äº†ä¸€ä¸ªæ–°çš„aofæ–‡ä»¶ï¼Œè¿™ç‚¹å’Œå¿«ç…§æœ‰ç‚¹ç±»ä¼¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3ã€AOFä¹Ÿæœ‰ä¸‰ç§è§¦å‘æœºåˆ¶&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰æ¯ä¿®æ”¹åŒæ­¥alwaysï¼šåŒæ­¥æŒä¹…åŒ– æ¯æ¬¡å‘ç”Ÿæ•°æ®å˜æ›´ä¼šè¢«ç«‹å³è®°å½•åˆ°ç£ç›˜ æ€§èƒ½è¾ƒå·®ä½†æ•°æ®å®Œæ•´æ€§æ¯”è¾ƒå¥½&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰æ¯ç§’åŒæ­¥everysecï¼šå¼‚æ­¥æ“ä½œï¼Œæ¯ç§’è®°å½• å¦‚æœä¸€ç§’å†…å®•æœºï¼Œæœ‰æ•°æ®ä¸¢å¤±&lt;/p&gt;
&lt;p&gt;ï¼ˆ3ï¼‰ä¸åŒnoï¼šä»ä¸åŒæ­¥&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220212202930.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4ã€ä¼˜ç‚¹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰AOFå¯ä»¥æ›´å¥½çš„ä¿æŠ¤æ•°æ®ä¸ä¸¢å¤±ï¼Œä¸€èˆ¬AOFä¼šæ¯éš”1ç§’ï¼Œé€šè¿‡ä¸€ä¸ªåå°çº¿ç¨‹æ‰§è¡Œä¸€æ¬¡fsyncæ“ä½œï¼Œæœ€å¤šä¸¢å¤±1ç§’é’Ÿçš„æ•°æ®ã€‚ï¼ˆ2ï¼‰AOFæ—¥å¿—æ–‡ä»¶æ²¡æœ‰ä»»ä½•ç£ç›˜å¯»å€çš„å¼€é”€ï¼Œå†™å…¥æ€§èƒ½éå¸¸é«˜ï¼Œæ–‡ä»¶ä¸å®¹æ˜“ç ´æŸã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ3ï¼‰AOFæ—¥å¿—æ–‡ä»¶å³ä½¿è¿‡å¤§çš„æ—¶å€™ï¼Œå‡ºç°åå°é‡å†™æ“ä½œï¼Œä¹Ÿä¸ä¼šå½±å“å®¢æˆ·ç«¯çš„è¯»å†™ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ4ï¼‰AOFæ—¥å¿—æ–‡ä»¶çš„å‘½ä»¤é€šè¿‡éå¸¸å¯è¯»çš„æ–¹å¼è¿›è¡Œè®°å½•ï¼Œè¿™ä¸ªç‰¹æ€§éå¸¸é€‚åˆåšç¾éš¾æ€§çš„è¯¯åˆ é™¤çš„ç´§æ€¥æ¢å¤ã€‚æ¯”å¦‚æŸäººä¸å°å¿ƒç”¨flushallå‘½ä»¤æ¸…ç©ºäº†æ‰€æœ‰æ•°æ®ï¼Œåªè¦è¿™ä¸ªæ—¶å€™åå°rewriteè¿˜æ²¡æœ‰å‘ç”Ÿï¼Œé‚£ä¹ˆå°±å¯ä»¥ç«‹å³æ‹·è´AOFæ–‡ä»¶ï¼Œå°†æœ€åä¸€æ¡flushallå‘½ä»¤ç»™åˆ äº†ï¼Œç„¶åå†å°†è¯¥AOFæ–‡ä»¶æ”¾å›å»ï¼Œå°±å¯ä»¥é€šè¿‡æ¢å¤æœºåˆ¶ï¼Œè‡ªåŠ¨æ¢å¤æ‰€æœ‰æ•°æ®&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5ã€ç¼ºç‚¹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰å¯¹äºåŒä¸€ä»½æ•°æ®æ¥è¯´ï¼ŒAOFæ—¥å¿—æ–‡ä»¶é€šå¸¸æ¯”RDBæ•°æ®å¿«ç…§æ–‡ä»¶æ›´å¤§&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰AOFå¼€å¯åï¼Œæ”¯æŒçš„å†™QPSä¼šæ¯”RDBæ”¯æŒçš„å†™QPSä½ï¼Œå› ä¸ºAOFä¸€èˆ¬ä¼šé…ç½®æˆæ¯ç§’fsyncä¸€æ¬¡æ—¥å¿—æ–‡ä»¶ï¼Œå½“ç„¶ï¼Œæ¯ç§’ä¸€æ¬¡fsyncï¼Œæ€§èƒ½ä¹Ÿè¿˜æ˜¯å¾ˆé«˜çš„&lt;/p&gt;
&lt;p&gt;ï¼ˆ3ï¼‰ä»¥å‰AOFå‘ç”Ÿè¿‡bugï¼Œå°±æ˜¯é€šè¿‡AOFè®°å½•çš„æ—¥å¿—ï¼Œè¿›è¡Œæ•°æ®æ¢å¤çš„æ—¶å€™ï¼Œæ²¡æœ‰æ¢å¤ä¸€æ¨¡ä¸€æ ·çš„æ•°æ®å‡ºæ¥ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å››rdbå’Œaofåˆ°åº•è¯¥å¦‚ä½•é€‰æ‹©&#34;&gt;å››ã€RDBå’ŒAOFåˆ°åº•è¯¥å¦‚ä½•é€‰æ‹©&lt;/h3&gt;
&lt;p&gt;é€‰æ‹©çš„è¯ï¼Œä¸¤è€…åŠ ä¸€èµ·æ‰æ›´å¥½ã€‚å› ä¸ºä¸¤ä¸ªæŒä¹…åŒ–æœºåˆ¶ä½ æ˜ç™½äº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯çœ‹è‡ªå·±çš„éœ€æ±‚äº†ï¼Œéœ€æ±‚ä¸åŒé€‰æ‹©çš„ä¹Ÿä¸ä¸€å®šï¼Œä½†æ˜¯é€šå¸¸éƒ½æ˜¯ç»“åˆä½¿ç”¨ã€‚æœ‰ä¸€å¼ å›¾å¯ä¾›æ€»ç»“ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220212203019.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;å…¶ä»–èµ„æ–™&#34;&gt;å…¶ä»–èµ„æ–™&lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;[Redis%e6%8c%81%e4%b9%85%e5%8c%96%e5%8e%9f%e7%90%86%28RDB%29_%e5%b0%8f%e9%ba%a6%e5%a4%a7%e5%a4%a7%e5%8d%9a%e5%ae%a2-CSDN%e5%8d%9a%e5%ae%a2_rdb%e6%8c%81%e4%b9%85%e5%8c%96]%28https://blog.csdn.net/qq_35433716/article/details/82191511%29&#34; &gt;RedisæŒä¹…åŒ–åŸç†(RDB)&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>å¦‚ä½•ä¿è¯æœåŠ¡ç¨³å®šæ€§</title>
        <link>https://lxb.wiki/d0f092bd/</link>
        <pubDate>Tue, 25 May 2021 21:57:43 +0000</pubDate>
        
        <guid>https://lxb.wiki/d0f092bd/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;1-sla&#34;&gt;1 SLA&lt;/h2&gt;
&lt;p&gt;ä¸šå†…å–œæ¬¢ç”¨SLA ï¼ˆæœåŠ¡ç­‰çº§åè®®ï¼Œå…¨ç§°ï¼šservice level agreementï¼‰æ¥è¡¡é‡ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œå¯¹äº’è”ç½‘å…¬å¸æ¥è¯´å°±æ˜¯ç½‘ç«™æœåŠ¡å¯ç”¨æ€§çš„ä¸€ä¸ªä¿è¯ã€‚9è¶Šå¤šä»£è¡¨å…¨å¹´æœåŠ¡å¯ç”¨æ—¶é—´è¶Šé•¿æœåŠ¡è¶Šå¯é ï¼Œåœæœºæ—¶é—´è¶ŠçŸ­ã€‚å°±ä»¥ä¸€ä¸ªæ ‡å‡†99.99%ä¸ºä¾‹ï¼Œåœæœºæ—¶é—´52.6åˆ†é’Ÿï¼Œå¹³å‡åˆ°æ¯å‘¨ä¹Ÿå°±æ˜¯åªèƒ½æœ‰å·®ä¸å¤š1åˆ†é’Ÿçš„åœæœºæ—¶é—´ï¼Œä¹Ÿå°±æ˜¯è¯´ç½‘ç»œæŠ–åŠ¨è¿™ä¸ªæ—¶é—´å¯èƒ½å°±æ²¡äº†ã€‚ä¿è¯ä¸€ä¸ªç³»ç»Ÿå››ä¸ª9æˆ–è€…æ›´é«˜çš„äº”ä¸ª9ï¼Œéœ€è¦ä¸€å¥—å…¨ä½“å…±è¯†ä¸¥æ ¼æ ‡å‡†çš„è§„ç« åˆ¶åº¦ï¼Œæ²¡æœ‰è§„çŸ©ä¸æˆæ–¹åœ†ã€‚åˆ›å»ºçš„è§„èŒƒæœ‰å¦‚ä¸‹å‡ ç§ï¼š&lt;/p&gt;
&lt;p&gt;1ã€ç ”å‘è§„èŒƒã€è‡ªèº«ç¨³å®šï¼›&lt;/p&gt;
&lt;p&gt;2ã€äº‹åŠ¡ä¸­ä¸èƒ½åŒ…å«è¿œç¨‹è°ƒç”¨ï¼›&lt;/p&gt;
&lt;p&gt;3ã€è¶…æ—¶æ—¶é—´å’Œé‡è¯•æ¬¡æ•°è¦åˆç†ï¼›&lt;/p&gt;
&lt;p&gt;4ã€è¡¨æ•°æ®æ“ä½œå¿…é¡»double checkï¼Œåˆç†åˆ©ç”¨ç´¢å¼•ï¼Œé¿å…å‡ºç°æ…¢æŸ¥è¯¢ã€åˆ†åº“åˆ†è¡¨ä¸èµ°åˆ†è¡¨é”®ï¼›&lt;/p&gt;
&lt;p&gt;5ã€æ²¡æœ‰æœ‰æ•ˆçš„èµ„æºéš”ç¦»ï¼Œ é¿å…ä¸åŒä¸šåŠ¡å…±ç”¨ä¸€ä¸ªçº¿ç¨‹æ± æˆ–è¿æ¥æ± ï¼›&lt;/p&gt;
&lt;p&gt;6ã€åˆç†çš„ç³»ç»Ÿæ‹“æ‰‘ï¼Œç¦æ­¢ä¸åˆç†æœåŠ¡ä¾èµ–ï¼Œèƒ½ä¾èµ–å°±ä¾èµ–ï¼Œå¦åˆ™åŒæ­¥å°½é‡æ”¹æˆå¼‚æ­¥å¼±ä¾èµ–ï¼›&lt;/p&gt;
&lt;p&gt;7ã€ç²¾ç®€çš„ä»£ç é€»è¾‘ï¼›&lt;/p&gt;
&lt;p&gt;8ã€æ ¸å¿ƒè·¯å¾„æµç¨‹å¿…é¡»è¿›è¡Œèµ„æºéš”ç¦»ï¼Œç¡®ä¿ä»»ä½•çªå‘æƒ…å†µä¸»æµç¨‹ä¸èƒ½å—å½±å“ã€‚&lt;/p&gt;
&lt;h2 id=&#34;2-å•æœåŠ¡ç¨³å®šæ€§&#34;&gt;2 å•æœåŠ¡ç¨³å®šæ€§&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;å…³é”®å­—ï¼šå¼€å…³å¯æ§ã€å•ä¸€èŒè´£ã€æœåŠ¡éš”ç¦»ã€å¼‚å¸¸å…œåº•ã€ç›‘æ§å‘ç°ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºç¨³å®šæ€§æ¥è¯´ï¼ŒæŠ›å¼€æ•´ä½“ç³»ç»Ÿæ¶æ„è®¾è®¡ï¼Œå•å°±æ¯ä¸ªä¸šåŠ¡åŸŸæœåŠ¡çš„ç¨³å®šæ€§ä¹Ÿæ˜¯éå¸¸çš„é‡è¦ã€‚åªæœ‰æ¯ä¸ªä¸šåŠ¡ç¯èŠ‚éƒ½ç¨³å¦‚æ³°å±±ï¼Œæ‰èƒ½ä¿éšœæ•´ä¸ªç¨³å®šæ€§ã€‚å•æœåŠ¡ç¨³å®šå¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢æ¥è¿›è¡Œï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1ã€ç¦ç”¨è®¾è®¡&lt;/strong&gt;ï¼šåº”è¯¥æä¾›æ§åˆ¶å…·ä½“åŠŸèƒ½æ˜¯å¦å¼€å¯å¯ç”¨çš„é…ç½®ï¼Œåœ¨ç›¸åº”çš„åŠŸèƒ½æœåŠ¡å‡ºç°æ•…éšœæ—¶ï¼Œå¿«é€Ÿä¸‹çº¿å±€éƒ¨åŠŸèƒ½ï¼Œä»¥ä¿è¯æ•´ä½“æœåŠ¡çš„å¯ç”¨æ€§ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2ã€å¿…è¦çš„ç¼“å­˜&lt;/strong&gt;ï¼šç¼“å­˜æ˜¯è§£å†³å¹¶å‘çš„åˆ©å™¨ï¼Œå¯ä»¥æœ‰æ•ˆçš„æé«˜ç³»ç»Ÿçš„ååé‡ã€‚æŒ‰ç…§ä¸šåŠ¡ä»¥åŠæŠ€æœ¯çš„çº¬åº¦å¿…è¦æ—¶å¯ä»¥å¢åŠ å¤šçº§ç¼“å­˜æ¥ä¿è¯å…¶å‘½ä¸­ç‡ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3ã€æ¥å£æ— çŠ¶æ€æ€§&lt;/strong&gt;ï¼šæœåŠ¡æ¥å£åº”æ˜¯æ— çŠ¶æ€çš„ï¼Œå½“å‰æ¥å£è®¿é—®ä¸åº”è¯¥ä¾èµ–ä¸Šå±‚æ¥å£çš„çŠ¶æ€é€»è¾‘ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4ã€æ¥å£å•ä¸€èŒè´£æ€§&lt;/strong&gt;ï¼šå¯¹äºæ ¸å¿ƒåŠŸèƒ½çš„æ¥å£ï¼Œä¸åº”è¯¥è¿‡å¤šçš„è€¦åˆä¸å±äºå®ƒçš„åŠŸèƒ½ã€‚å¦‚æœä¸€ä¸ªæ¥å£åšçš„äº‹æƒ…å¤ªå¤šåº”åšæ‹†åˆ†ï¼Œä¿è¯å•æ¥å£çš„ç¨³å®šæ€§å’Œå¿«é€Ÿå“åº”ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5ã€ç¬¬ä¸‰æ–¹æœåŠ¡éš”ç¦»æ€§&lt;/strong&gt;ï¼šä»»ä½•ä¾èµ–äºç¬¬ä¸‰æ–¹çš„æœåŠ¡ï¼ˆä¸è®ºæ¥å£è¿˜æ˜¯ä¸­é—´ä»¶ç­‰ï¼‰ï¼Œéƒ½åº”è¯¥åšåˆ°ç†”æ–­å’Œé™çº§ï¼Œä¸èƒ½æœ‰å¼ºè€¦åˆçš„ä¾èµ–ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;6ã€ä¸šåŠ¡åœºæ™¯å…œåº•æ–¹æ¡ˆ&lt;/strong&gt;ï¼šæ ¸å¿ƒä¸šåŠ¡åœºæ™¯è¦åšåˆ°å®Œæ•´å…œåº•æ–¹æ³•ï¼Œä»å‰ç«¯åˆ°åç«¯éƒ½åº”æœ‰å…œåº•æªæ–½ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;7ã€æœåŠ¡ç›‘æ§ä¸åŠæ—¶å“åº”&lt;/strong&gt;ï¼šæ¯ä¸ªæœåŠ¡åº”åšå¥½å¯¹åº”ç›‘æ§å·¥ä½œï¼Œå¦‚æœ‰å¼‚å¸¸åº”åŠæ—¶å“åº”ï¼Œä¸åº”ç´¯ç§¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;3-é›†ç¾¤ç¨³å®šæ€§&#34;&gt;3 é›†ç¾¤ç¨³å®šæ€§&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;å…³é”®å­—ï¼šç³»ç»Ÿæ¶æ„ã€éƒ¨ç½²å‘å¸ƒã€é™æµç†”æ–­ã€ç›‘æ§ä½“ç³»ã€å‹æµ‹æœºåˆ¶ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºé›†ç¾¤ç»´åº¦çš„ç¨³å®šæ€§æ¥è¯´ï¼Œç¨³å®šæ€§ä¿éšœä¼šæ›´åŠ å¤æ‚ã€‚å•æœåŠ¡æ˜¯å±€éƒ¨ï¼Œé›†ç¾¤æ˜¯å…¨å±€ã€‚ä¸€ä¸ªè§å¾®çŸ¥è‘—ï¼Œä¸€ä¸ªé«˜ç»è¿œç©ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1ã€åˆç†çš„ç³»ç»Ÿæ¶æ„&lt;/strong&gt;ï¼šåˆç†çš„ç³»ç»Ÿæ¶æ„æ˜¯ç¨³å®šçš„åŸºçŸ³ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2ã€å°å¿ƒçš„ä»£ç é€»è¾‘&lt;/strong&gt;ï¼šä»£ç æ—¶åˆ»éƒ½è¦å°å¿ƒï¼Œå¤šæ‹…å¿ƒä¸€ç‚¹è¿™é‡Œä¼šä¸ä¼šæœ‰æ€§èƒ½é—®é¢˜ï¼Œé‚£é‡Œä¼šä¸ä¼šå‡ºç°å¹¶å‘ï¼Œä»£ç å°±ä¸ä¼šæœ‰å¤šå°‘é—®é¢˜ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3ã€ä¼˜ç§€çš„é›†ç¾¤éƒ¨ç½²&lt;/strong&gt;ï¼šä¸€å°æœºå™¨æ°¸è¿œä¼šæœ‰æ€§èƒ½ç“¶é¢ˆï¼Œä¼˜ç§€çš„é›†ç¾¤éƒ¨ç½²ï¼Œå¯ä»¥å°†ä¸€å°æœºå™¨çš„ç¨³å®šæ”¾å¤§æ— é™å€ï¼Œæ˜¯é«˜å¹¶å‘ä¸å¤§æµé‡çš„ä¿éšœï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4ã€ç§‘å­¦çš„é™æµç†”æ–­&lt;/strong&gt;ï¼šé«˜å¹¶å‘æ¥ä¸´æ—¶ï¼Œç§‘å­¦çš„é™æµå’Œç†”æ–­æ˜¯ç³»ç»Ÿç¨³å®šçš„å¿…è¦æ¡ä»¶ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5ã€ç²¾ç»†çš„ç›‘æ§ä½“ç³»&lt;/strong&gt;ï¼šæ²¡æœ‰ç›‘æ§ä½“ç³»ï¼Œä½ æ°¸è¿œä¸ä¼šçŸ¥é“ä½ çš„ç³»ç»Ÿåˆ°åº•æœ‰å¤šå°‘éšè—çš„é—®é¢˜å’Œå‘ï¼Œä¹Ÿå¾ˆéš¾çŸ¥é“ç“¶é¢ˆåœ¨å“ªé‡Œï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;6ã€å¼ºæ‚çš„å‹æµ‹æœºåˆ¶&lt;/strong&gt;ï¼šå‹æµ‹æ˜¯é«˜å¹¶å‘ç¨³å®šæ€§çš„è¯•é‡‘çŸ³ï¼Œèƒ½æå‰é¢„çŸ¥é«˜å¹¶å‘æ¥ä¸´æ—¶ï¼Œç³»ç»Ÿåº”è¯¥å‡ºç°çš„æ¨¡æ ·ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;7ã€èƒ†å°çš„å¼€å‘äººå‘˜&lt;/strong&gt;ï¼šæ°¸è¿œéœ€è¦ä¸€ç¾¤èƒ†å°çš„ç¨‹åºå‘˜ï¼Œä»–ä»¬è®¨åŒbugï¼Œå®³æ€•errorï¼Œä¸æ”¾è¿‡æ¯ä¸€ä¸ªæ³¢åŠ¨ï¼Œä¸ä¿¡ä»»æ‰€æœ‰çš„ä¾èµ–ã€‚&lt;/p&gt;
&lt;h2 id=&#34;4-ç¨³å®šæ€§ä¸“é¡¹&#34;&gt;4 ç¨³å®šæ€§ä¸“é¡¹&lt;/h2&gt;
&lt;p&gt;ä¸“é¡¹æŒ‡çš„æ˜¯&lt;strong&gt;é’ˆå¯¹æŸäº›ç‰¹å®šåœºæ™¯ä¸‹çš„ç‰¹å®šé—®é¢˜è€Œæ¢³ç†å‡ºå¯¹åº”çš„æ–¹æ¡ˆ&lt;/strong&gt;ã€‚ä¸‹é¢æ˜¯é’ˆå¯¹ä¸€äº›å¸¸è§çš„ç¨³å®šæ€§ä¸“é¡¹çš„æ¦‚è¿°ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1ã€é¢„æ¡ˆ&lt;/strong&gt;ï¼šåˆ†ä¸ºå®šæ—¶é¢„æ¡ˆå’Œç´§æ€¥é¢„æ¡ˆï¼Œå®šæ—¶é¢„æ¡ˆæ˜¯å¤§ä¿ƒå¸¸è§„æ“ä½œå¯¹äºä¸€ç³»åˆ—å¼€å…³çš„ç¼–æ’ï¼Œç´§æ€¥é¢„æ¡ˆæ˜¯åº”å¯¹çªå‘æƒ…å†µçš„ç‰¹æ®Šå¤„ç†ï¼Œéƒ½ä¾èµ–äºäº‹å‰æ¢³ç†ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2ã€é¢„çƒ­&lt;/strong&gt;ï¼šåˆ†ä¸ºJITä»£ç é¢„çƒ­å’Œæ•°æ®é¢„çƒ­ï¼Œé˜¿é‡Œå†…éƒ¨æœ‰ä¸“é—¨çš„ä¸€ä¸ªäº§å“è´Ÿè´£è¿™å—ï¼Œé€šè¿‡å­˜å‚¨çº¿ä¸Šçš„å¸¸æ€åŒ–æµé‡æˆ–è€…çƒ­ç‚¹æµé‡è¿›è¡Œå›æ”¾æ¥æå‰é¢„çƒ­ï¼Œ èµ·æºäºæŸå¹´åŒåä¸€é›¶ç‚¹çš„æ¯›åˆºé—®é¢˜ï¼ŒåŸå› æ˜¯è®¿é—®äº†æ•°æ®åº“çš„å†·æ•°æ®rtå¢é«˜å¯¼è‡´çš„ä¸€ç³»åˆ—ä¸Šå±‚é™æµï¼Œç°åœ¨é¢„çƒ­å·²ç»æˆäº†å¤§ä¿ƒä¹‹å‰çš„ä¸€ä¸ªå¿…è¦æµç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3ã€å¼ºå¼±ä¾èµ–&lt;/strong&gt;:æ¢³ç†å¼ºå¼±ä¾èµ–æ˜¯ä¸€ä¸ªåäººè‚‰çš„è¿‡ç¨‹ï¼Œä½†æ˜¯éå¸¸é‡è¦ï¼Œè¿™æ˜¯ä¸€ä¸ªç³»ç»Ÿè‡ªæŸ¥è¯†åˆ«æ½œåœ¨é£é™©ç‚¹å¹¶ä¸ºåç»­æ•´ç†å¼€å…³é™æµé¢„æ¡ˆå’Œæ ¹å› åˆ†æçš„ä¸€ä¸ªé‡è¦å‚è€ƒï¼Œé˜¿é‡Œå†…éƒ¨æœ‰ä¸€ä¸ªå¼ºå¼±ä¾èµ–æ£€æµ‹çš„å¹³å°ï¼Œé€šè¿‡å¯¹æµ‹è¯•ç”¨ä¾‹æ³¨å…¥RPCè°ƒç”¨çš„å»¶è¿Ÿæˆ–å¼‚å¸¸æ¥è§‚å¯Ÿé“¾è·¯çš„ä¾èµ–å˜åŒ–ï¼Œè‡ªåŠ¨æ¢³ç†å‡ºå¼ºå¼±ä¾èµ–å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4ã€é™æµé™çº§ç†”æ–­&lt;/strong&gt;:åº”å¯¹çªå‘æµé‡é˜²æ­¢è¯·æ±‚è¶…å‡ºè‡ªèº«å¤„ç†èƒ½åŠ›ç³»ç»Ÿè¢«å‡»å®çš„å¿…è¦æ‰‹æ®µï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5ã€ç›‘æ§å‘Šè­¦&amp;amp;é“¾è·¯è¿½è¸ª&lt;/strong&gt;:ç›‘æ§åˆ†ä¸ºä¸šåŠ¡ç›‘æ§ã€ç³»ç»Ÿç›‘æ§å’Œä¸­é—´ä»¶ç›‘æ§å’ŒåŸºç¡€ç›‘æ§ï¼Œä½œä¸ºçº¿ä¸Šé—®é¢˜å‘ç°å’Œæ’æŸ¥å·¥å…·ï¼Œé‡è¦æ€§ä¸è¨€è€Œå–»ã€‚&lt;/p&gt;
&lt;h2 id=&#34;5-ç¨³å®šæ€§å»ºè®¾&#34;&gt;5 ç¨³å®šæ€§å»ºè®¾&lt;/h2&gt;
&lt;p&gt;ç¨³å®šæ€§å»ºè®¾ï¼Œå°±å’ŒåŸºç¡€æŠ€æœ¯å»ºè®¾ä¸€æ ·ï¼Œæ˜¯ä¸€ä¸ª&lt;strong&gt;é•¿æœŸè¿­ä»£å’Œä¸æ–­è°ƒæ•´çš„è¿‡ç¨‹&lt;/strong&gt;ï¼Œä¸šå†…å¸¸è§çš„ç¨³å®šæ€§å»ºè®¾ç±»å‹ï¼Œä¸»è¦æœ‰å¦‚ä¸‹å‡ ç§ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1ã€å®¹é‡è§„åˆ’&lt;/strong&gt;ï¼šä¸ªäººæ„Ÿè§‰å®¹é‡è§„åˆ’åœ¨å¤§å‚é‡Œä¹Ÿå¹¶æ²¡æœ‰åšçš„å¾ˆå¥½ï¼Œæ›´å¤šä¾èµ–çš„æ˜¯ä¸šåŠ¡æ–¹è‡ªå·±æ‹è„‘è¢‹ï¼Œç„¶åå…¨é“¾è·¯å‹æµ‹æœŸé—´éªŒè¯ï¼Œä¸å¤Ÿå°±å†åŠ æœºå™¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2ã€æ··æ²Œå·¥ç¨‹&lt;/strong&gt;ï¼šæ··æ²Œå·¥ç¨‹æ˜¯è¿‘å‡ å¹´æ¯”è¾ƒç«çš„åè¯ï¼Œé€šè¿‡ä¸æ–­ç»™ç³»ç»Ÿæ‰¾éº»çƒ¦æ¥éªŒè¯å¹¶å®Œå–„ç³»ç»Ÿèƒ½åŠ›ï¼Œé˜¿é‡Œåœ¨è¿™å—èŠ±äº†å¾ˆå¤§çš„ç²¾åŠ›å»ºè®¾çº¢è“å†›å¯¹æŠ—æ”»é˜²ï¼Œè¿›è¡Œå®šæœŸå’Œä¸å®šæœŸçš„æ¼”ç»ƒï¼Œæœ€åä»¥æ‰“åˆ†çš„å½¢å¼æ¥ç»™å„ä¸ªéƒ¨é—¨ç³»ç»Ÿåšæ’åï¼Œé™¤äº†ç³»ç»Ÿå±‚é¢çš„æ•…éšœæ¼”ç»ƒå¤–è¿˜æœ‰èµ„é‡‘æ¼”ç»ƒï¼Œç¯¡æ”¹çº¿ä¸Šsqlè¯­å¥åˆ¶é€ èµ„æŸæ¥æµ‹è¯•ä¸šåŠ¡ç›‘æ§çº é”™çš„èƒ½åŠ›ï¼Œé€šè¿‡åˆ¶é€ å°é”™æ¥é¿å…å¤§é”™ã€‚&lt;/p&gt;
&lt;p&gt;è·³è½¬é—¨ï¼š&lt;a class=&#34;link&#34; href=&#34;https://link.zhihu.com/?target=https%3A//www.cnblogs.com/imyalost/p/12271620.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æ··æ²Œå·¥ç¨‹-åˆè¯†&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3ã€æµé‡è°ƒåº¦&lt;/strong&gt;ï¼šé€šè¿‡metricç§’çº§ç›‘æ§å’Œèšç±»ç®—æ³•å®æ—¶æ‰¾å‡ºå¼‚å¸¸å•æœºæ¥é™ä½RPCæµé‡æƒé‡ï¼Œæå‡é›†ç¾¤æ•´ä½“ååèƒ½åŠ›å‡å°‘å¼‚å¸¸è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4ã€å®¹ç¾&amp;amp;å¼‚åœ°å¤šæ´»&lt;/strong&gt;ï¼šèµ·æºäº15å¹´æŸæ–½å·¥é˜Ÿå°†å…‰çº¤æŒ–æ–­å¸¦æ¥çš„æ”¯ä»˜å®æ•…éšœï¼Œç”±æ­¤å‡ºæ¥çš„ä¸‰åœ°äº”ä¸­å¿ƒå’Œå•å…ƒåŒ–æ¶æ„ï¼Œå¼‚åœ°å¤šæ´»æœ¬èº«çš„æˆæœ¬æ¯”è¾ƒé«˜ï¼Œç„¶ååˆå­˜åœ¨æ•°æ®åŒæ­¥çš„å»¶æ—¶é—®é¢˜å’Œåˆ‡æµå¸¦æ¥çš„è„æ•°æ®é—®é¢˜ï¼Œå¯¹äºä¸šåŠ¡å’ŒæŠ€æœ¯éƒ½æœ‰æ¯”è¾ƒé«˜çš„è¦æ±‚ã€‚å¸¸è§çš„å®¹ç¾æœ‰å¦‚ä¸‹å‡ ç§ï¼š&lt;/p&gt;
&lt;p&gt;ã€€ 1ï¼‰ç¼“å­˜æŒ‚æ‰ï¼Œé›†ç¾¤é‡å¯ç¼“å­˜é¢„çƒ­å¦‚ä½•å¤„ç†ï¼Ÿæœ¬åœ°ç¼“å­˜ï¼Œå¤šçº§ç¼“å­˜æ˜¯å¦å¯ä»¥æ›¿ä»£ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ã€€ 2ï¼‰åˆ†å¸ƒå¼é”ï¼Œæ˜¯å¦æœ‰å¼€å…³ä¸€é”®åˆ‡æ¢ï¼Ÿæ¯”å¦‚ï¼šZK/ETCDç¼–å†™çš„åˆ†å¸ƒå¼é”ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ 3ï¼‰å¤§ä¿ƒå³°å€¼æµé‡ï¼Œå¦‚ä½•é˜²æ­¢å¤–éƒ¨ddosæ”»å‡»ï¼Ÿå¦‚ä½•è¯†åˆ«æµé‡ç±»å‹ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ã€€ 4ï¼‰èµ„æºéš”ç¦»ï¼šèµ„æºéš”ç¦»ï¼ŒæœåŠ¡åˆ†ç»„ï¼Œæµé‡éš”ç¦»ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ 5ï¼‰é«˜å¯ç”¨æ€æƒ³ï¼šé¿å…å•ç‚¹è®¾è®¡ï¼&lt;/p&gt;
&lt;p&gt;ã€€ 6ï¼‰å®¹é”™ï¼šå®¹é”™ä¸Šæ¸¸ï¼Œé˜²å¾¡ä¸‹æ¸¸ã€‚å®¹é”™ä¸»è¦éœ€è¦æ³¨æ„å¦‚ä¸‹å‡ ç‚¹ï¼š&lt;/p&gt;
&lt;p&gt;ã€€ ã€€ 6-1ï¼šå¤–éƒ¨ä¾èµ–çš„åœ°æ–¹éƒ½è¦åšç†”æ–­ï¼Œé¿å…é›ªå´©ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€ 6-2ï¼šå¯¹äºä¾èµ–æˆ‘ä»¬çš„ä¸Šæ¸¸è¦é™æµï¼Œé˜²æ­¢ä¸Šæ¸¸çªå‘è¶…è¿‡è‡ªå·±ç³»ç»Ÿèƒ½å¤Ÿæ‰›ä½çš„æœ€å¤§QPSï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€ 6-3ï¼šå¯¹äºä¸‹æ¸¸æ—¢è¦è¯„ä¼°å¥½æ¥å£è¶…æ—¶æ—¶é—´ï¼Œé˜²æ­¢ä¸‹æ¸¸æ¥å£è¶…æ—¶å¯¼è‡´è‡ªå·±ç³»ç»Ÿè¢«æ‹–ç´¯ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ã€€ 6-4ï¼šä¸‹æ¸¸æ¥å£è¦è€ƒè™‘å„ç§å¼‚å¸¸æƒ…å†µï¼Œéœ€è¦è€ƒè™‘ä¸­é—´çŠ¶æ€ï¼Œé€šè¿‡å¼•å…¥æŸ”æ€§äº‹åŠ¡ï¼Œç¡®ä¿æ•°&lt;/p&gt;
&lt;p&gt;æ®æœ€ç»ˆä¸€è‡´&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5ã€å¼‚åœ°å¤šæ´»&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¼‚åœ°å¤šæ´»çš„æœ¬è´¨ï¼Œæ˜¯æ•°æ®ä¸­å¿ƒæ¶æ„çš„æ¼”è¿›&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1ï¼‰æ¼”è¿›&lt;/strong&gt;ï¼šå•æœºæˆ¿â€”â€”åŒæœºæˆ¿â€”â€”å¼‚åœ°ç¾å¤‡â€”â€”å¼‚åœ°å¤šæ´»ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2ï¼‰å®šä¹‰&lt;/strong&gt;ï¼šåˆ†å¤šä¸ªåœ°åŸŸã€å¤šä¸ªæ•°æ®ä¸­å¿ƒè¿è¡Œçº¿ä¸Šçš„ä¸šåŠ¡ï¼Œå¹¶ä¸”æ¯ä¸ªIDCå‡æä¾›åœ¨çº¿æœåŠ¡ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3ï¼‰ä¼˜ç‚¹&lt;/strong&gt;ï¼šå¼¹æ€§æ‰©å±•èƒ½åŠ›ã€æµé‡å°±è¿‘æ¥å…¥ã€çµæ´»è°ƒåº¦ã€æå‡å¯ç”¨æ€§ä¸ç”¨æˆ·ä½“éªŒã€å®¹ç¾ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4ï¼‰æ­¥éª¤&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;ã€€ 4-1ï¼šåŸºç¡€è®¾æ–½ï¼šæœºæˆ¿ä¹‹é—´ä¸“çº¿äº’è”ï¼Œä¿è¯ç½‘ç»œè´¨é‡ç¨³å®šï¼›&lt;/p&gt;
&lt;p&gt;ã€€ 4-2ï¼šæŒä¹…å­˜å‚¨ï¼šä¸€ä¸»ä¸‰ä»ï¼Œä¸»IDCåŒæ­¥å¤åˆ¶ï¼Œå¼‚åœ°IDCå¼‚æ­¥å¤åˆ¶ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ 4-3ï¼šä¸­é—´ä»¶ï¼šDBã€MQã€åˆ†å¸ƒå¼å­˜å‚¨ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ 4-4ï¼šåº”ç”¨éƒ¨ç½²ï¼šæ ¹æ®åº”ç”¨åŸŸåˆ’åˆ†ï¼Œä¸åŒåº”ç”¨éƒ¨ç½²åœ¨ä¸åŒåœ°åŸŸï¼Œä¿æŒäº²ç¼˜æ€§ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ 4-5ï¼šæµé‡æ¥å…¥ä¸è°ƒåº¦ï¼šç½‘ç»œåè®®å…¼å®¹ï¼ŒDNSï¼ŒåŠ¨æ€è°ƒåº¦ç”¨æˆ·å°±è¿‘è®¿é—®ï¼›&lt;/p&gt;
&lt;p&gt;ã€€ 4-6ï¼šç›‘æ§ä¸è¿ç»´ä¿éšœï¼šä¸“çº¿å®æ—¶ç›‘æ§ï¼Œç¡®ä¿å‘ç”Ÿæ•…éšœæ—¶å¯ä»¥è§¦å‘Failoverï¼ˆå¤±æ•ˆå¤‡æ´ï¼‰å’Œ&lt;/p&gt;
&lt;p&gt;æµé‡è°ƒåº¦ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Mac iTerm2ï¼Œä½¿ç”¨rzå’Œszæ— æ•ˆï¼Œè§£å†³æ–¹å¼</title>
        <link>https://lxb.wiki/32451f0a/</link>
        <pubDate>Thu, 13 May 2021 23:25:13 +0000</pubDate>
        
        <guid>https://lxb.wiki/32451f0a/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;1å®‰è£…lrzszè¦å…ˆå®‰è£…brew&#34;&gt;1.å®‰è£…lrzszï¼ˆè¦å…ˆå®‰è£…brewï¼‰&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;brew install lrzsz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;2é…ç½®&#34;&gt;2.é…ç½®&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd /usr/local/bin
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨&lt;code&gt;/usr/loal/bin&lt;/code&gt; ç›®å½•ä¸‹åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶&lt;/p&gt;
&lt;p&gt;å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vi iterm2-recv-zmodem.sh
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vi iterm2-send-zmodem.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ›å»ºå¥½ä¸¤ä¸ªæ–‡ä»¶ååˆ†åˆ«æ·»åŠ å†…å®¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;iterm2-recv-zmodem.sh&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Author: Matt Mastracci (matthew@mastracci.com)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# AppleScript from http://stackoverflow.com/questions/4309087/cancel-button-on-osascript-in-a-bash-script&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# licensed under cc-wiki with attribution required &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Remainder of script public domain&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;osascript -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;tell application &amp;#34;iTerm2&amp;#34; to version&amp;#39;&lt;/span&gt; &amp;gt; /dev/null 2&amp;gt;&amp;amp;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; NAME&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;iTerm2 &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; NAME&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;iTerm
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[[&lt;/span&gt; $NAME &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;iTerm&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;]]&lt;/span&gt;; &lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    FILE&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;osascript -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;tell application &amp;#34;iTerm&amp;#34; to activate&amp;#39;&lt;/span&gt; -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;tell application &amp;#34;iTerm&amp;#34; to set thefile to choose folder with prompt &amp;#34;Choose a folder to place received files in&amp;#34;&amp;#39;&lt;/span&gt; -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;do shell script (\&amp;#34;echo \&amp;#34;&amp;amp;(quoted form of POSIX path of thefile as Unicode text)&amp;amp;\&amp;#34;\&amp;#34;)&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    FILE&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;osascript -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;tell application &amp;#34;iTerm2&amp;#34; to activate&amp;#39;&lt;/span&gt; -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;tell application &amp;#34;iTerm2&amp;#34; to set thefile to choose folder with prompt &amp;#34;Choose a folder to place received files in&amp;#34;&amp;#39;&lt;/span&gt; -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;do shell script (\&amp;#34;echo \&amp;#34;&amp;amp;(quoted form of POSIX path of thefile as Unicode text)&amp;amp;\&amp;#34;\&amp;#34;)&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[[&lt;/span&gt; $FILE &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;]]&lt;/span&gt;; &lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    echo Cancelled.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# Send ZModem cancel&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    echo -e &lt;span style=&#34;color:#ae81ff&#34;&gt;\\&lt;/span&gt;x18&lt;span style=&#34;color:#ae81ff&#34;&gt;\\&lt;/span&gt;x18&lt;span style=&#34;color:#ae81ff&#34;&gt;\\&lt;/span&gt;x18&lt;span style=&#34;color:#ae81ff&#34;&gt;\\&lt;/span&gt;x18&lt;span style=&#34;color:#ae81ff&#34;&gt;\\&lt;/span&gt;x18
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    sleep &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    echo
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    echo &lt;span style=&#34;color:#ae81ff&#34;&gt;\#&lt;/span&gt; Cancelled transfer
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    cd &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;$FILE&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    /usr/local/bin/rz -E -e -b
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    sleep &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    echo
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    echo
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    echo &lt;span style=&#34;color:#ae81ff&#34;&gt;\#&lt;/span&gt; Sent &lt;span style=&#34;color:#ae81ff&#34;&gt;\-\&amp;gt;&lt;/span&gt; $FILE
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;strong&gt;iterm2-send-zmodem.sh&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Author: Matt Mastracci (matthew@mastracci.com)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# AppleScript from http://stackoverflow.com/questions/4309087/cancel-button-on-osascript-in-a-bash-script&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# licensed under cc-wiki with attribution required &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Remainder of script public domain&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;osascript -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;tell application &amp;#34;iTerm2&amp;#34; to version&amp;#39;&lt;/span&gt; &amp;gt; /dev/null 2&amp;gt;&amp;amp;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; NAME&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;iTerm2 &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; NAME&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;iTerm
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[[&lt;/span&gt; $NAME &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;iTerm&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;]]&lt;/span&gt;; &lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    FILE&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;osascript -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;tell application &amp;#34;iTerm&amp;#34; to activate&amp;#39;&lt;/span&gt; -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;tell application &amp;#34;iTerm&amp;#34; to set thefile to choose file with prompt &amp;#34;Choose a file to send&amp;#34;&amp;#39;&lt;/span&gt; -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;do shell script (\&amp;#34;echo \&amp;#34;&amp;amp;(quoted form of POSIX path of thefile as Unicode text)&amp;amp;\&amp;#34;\&amp;#34;)&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    FILE&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;osascript -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;tell application &amp;#34;iTerm2&amp;#34; to activate&amp;#39;&lt;/span&gt; -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;tell application &amp;#34;iTerm2&amp;#34; to set thefile to choose file with prompt &amp;#34;Choose a file to send&amp;#34;&amp;#39;&lt;/span&gt; -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;do shell script (\&amp;#34;echo \&amp;#34;&amp;amp;(quoted form of POSIX path of thefile as Unicode text)&amp;amp;\&amp;#34;\&amp;#34;)&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[[&lt;/span&gt; $FILE &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;]]&lt;/span&gt;; &lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    echo Cancelled.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# Send ZModem cancel&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    echo -e &lt;span style=&#34;color:#ae81ff&#34;&gt;\\&lt;/span&gt;x18&lt;span style=&#34;color:#ae81ff&#34;&gt;\\&lt;/span&gt;x18&lt;span style=&#34;color:#ae81ff&#34;&gt;\\&lt;/span&gt;x18&lt;span style=&#34;color:#ae81ff&#34;&gt;\\&lt;/span&gt;x18&lt;span style=&#34;color:#ae81ff&#34;&gt;\\&lt;/span&gt;x18
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    sleep &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    echo
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    echo &lt;span style=&#34;color:#ae81ff&#34;&gt;\#&lt;/span&gt; Cancelled transfer
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    /usr/local/bin/sz &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;$FILE&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; -e -b
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    sleep &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    echo
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    echo &lt;span style=&#34;color:#ae81ff&#34;&gt;\#&lt;/span&gt; Received $FILE
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fi&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å°†æ–‡ä»¶å†™å¥½åä¿å­˜å¥½ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ·»åŠ æƒé™&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;chmod &lt;span style=&#34;color:#ae81ff&#34;&gt;777&lt;/span&gt; iterm2-*
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é…ç½®å¥½é…ç½®æ–‡ä»¶ä¹‹åï¼Œå¼€å§‹å¯¹iTerm2è¿›è¡Œé…ç½®&lt;/p&gt;
&lt;p&gt;ç‚¹å‡» iTerm2 çš„è®¾ç½®ç•Œé¢ &lt;code&gt;Perference-&amp;gt; Profiles -&amp;gt; Default -&amp;gt; Advanced -&amp;gt; Triggers&lt;/code&gt; çš„ &lt;code&gt;Edit&lt;/code&gt; æŒ‰é’®ï¼ŒåŠ å…¥ä»¥ä¸‹é…ç½®&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210513232741.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Regular expression: rz waiting to receive.&lt;span style=&#34;color:#ae81ff&#34;&gt;\*\*&lt;/span&gt;B0100
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Action: Run Silent Coprocess
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Parameters: /usr/local/bin/iterm2-send-zmodem.sh
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Regular expression: &lt;span style=&#34;color:#ae81ff&#34;&gt;\*\*&lt;/span&gt;B00000000000000
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Action: Run Silent Coprocess
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Parameters: /usr/local/bin/iterm2-recv-zmodem.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;å¤‡æ³¨ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;rz ä¸Šä¼ åŠŸèƒ½ï¼šåœ¨bashä¸­ï¼Œä¹Ÿå°±æ˜¯iTerm2ç»ˆç«¯è¾“å…¥rz å°±ä¼šå¼¹å‡ºæ–‡ä»¶é€‰æ‹©æ¡†ï¼Œé€‰æ‹©æ–‡ä»¶ choose å°±å¼€å§‹ä¸Šä¼ ï¼Œä¼šä¸Šä¼ åˆ°å½“å‰ç›®å½•
sz ä¸‹è½½åŠŸèƒ½ ï¼šsz fileName(ä½ è¦ä¸‹è½½çš„æ–‡ä»¶çš„åå­—) å›è½¦ï¼Œä¼šå¼¹å‡ºçª—ä½“ æˆ‘ä»¬é€‰æ‹©è¦ä¿å­˜çš„åœ°æ–¹å³å¯ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>è¯¯åˆ äº†Macä¸­Chromeä¹¦ç­¾åå¦‚ä½•æ¢å¤</title>
        <link>https://lxb.wiki/ef3fb32/</link>
        <pubDate>Sat, 01 May 2021 18:44:48 +0000</pubDate>
        
        <guid>https://lxb.wiki/ef3fb32/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;ä¹¦ç­¾è¯¯åˆ è¯¥å¦‚ä½•æ¢å¤&lt;/p&gt;
&lt;p&gt;1 æ‰“å¼€è®¿è¾¾ï¼Œåœ¨èœå•æ ä¸Šç‚¹å‡»ã€å‰å¾€ã€‘â€”ã€å‰å¾€æ–‡ä»¶å¤¹ã€‘ï¼Œæˆ–è€…ä½¿ç”¨å¿«æ·é”®ã€Command+Shift+Gã€‘å³å¯æ‰“å¼€ã€å‰å¾€æ–‡ä»¶å¤¹ã€‘&lt;/p&gt;
&lt;p&gt;è¾“å…¥ä»¥ä¸‹è·¯å¾„ã€/Users/ç”¨æˆ·å/Library/Application Support/Google/Chromeã€‘ï¼ˆæ³¨ï¼šè·¯å¾„ä¸­çš„ç”¨æˆ·åå°±æ˜¯ä½ ç”µè„‘ç”¨æˆ·åç§°&lt;/p&gt;
&lt;p&gt;2 åœ¨chromeæ–‡ä»¶ç›®å½•ä¸‹æ‰¾åˆ° ã€Defaultã€‘æ–‡ä»¶å¤¹ï¼Œå°†é‡Œé¢çš„ ã€Bookmarks.bakã€‘ çš„æ–‡ä»¶å¤åˆ¶åˆ°æ¡Œé¢ï¼Œå°†.bakåçš„åç¼€å»æ‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;æ³¨ï¼šå¦‚æœä½ æœ‰å¤šä¸ªç”¨æˆ·çš„è¯ï¼Œåˆ™éœ€è¦æ‰¾åˆ°å¯¹åº”çš„ç”¨æˆ·ï¼Œä¸€èˆ¬åœ¨æ–‡ä»¶åä¸ºâ€œProfile1ã€2ã€3â€åº•ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;3 åœ¨åŒæ ·çš„æ–‡ä»¶å¤¹åº•ä¸‹ï¼Œå°†ä¿®æ”¹å¥½çš„ Bookmarks å¤åˆ¶è¿› å»æ›¿æ¢ï¼Œé‡å¯chromeå³å¯ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>å¯é æ€§ã€å¯ç”¨æ€§ã€ç¨³å®šæ€§</title>
        <link>https://lxb.wiki/18166f99/</link>
        <pubDate>Mon, 29 Mar 2021 23:01:42 +0000</pubDate>
        
        <guid>https://lxb.wiki/18166f99/</guid>
        <description>&lt;blockquote&gt;
&lt;p&gt;å¯¹æ¯”Availabilityå¯ç”¨æ€§ã€Reliabilityå¯é æ€§ã€Stabilityç¨³å®šæ€§&lt;/p&gt;
&lt;/blockquote&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;åŒºåˆ†&#34;&gt;åŒºåˆ†&lt;/h2&gt;
&lt;p&gt;ä»äº‹æ•…ã€ç¨³å®šæ–¹é¢ç®€å•ç†è§£å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;å¯é æ€§&lt;/td&gt;
&lt;td&gt;ä¸å‡ºäº‹æ•…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å¯ç”¨æ€§&lt;/td&gt;
&lt;td&gt;å‡ºäº‹æ•…åï¼Œå¿«é€Ÿæ­¢æŸ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç¨³å®šæ€§&lt;/td&gt;
&lt;td&gt;è§£å†³æ•…éšœé—®é¢˜åŸºç¡€ä¸Šï¼ŒæœåŠ¡æŒç»­ç¨³å®šã€æ€§èƒ½ç¨³å®š&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210509160538.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ€»ä½“å¯¹æ¯”&#34;&gt;æ€»ä½“å¯¹æ¯”&lt;/h2&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;å¯ç”¨æ€§&#34;&gt;å¯ç”¨æ€§&lt;/h2&gt;
&lt;p&gt;å¯ç”¨æ€§æŒ‡ç³»ç»Ÿåœ¨ç»™å®šæ—¶é—´å†…å¯ä»¥æ­£å¸¸å·¥ä½œçš„æ¦‚ç‡ï¼Œé€šå¸¸ç”¨SLAï¼ˆæœåŠ¡ç­‰çº§åè®®ï¼Œservice level agreementï¼‰æŒ‡æ ‡æ¥è¡¨ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯è¿™æ®µæ—¶é—´çš„æ€»ä½“çš„å¯ç”¨æ€§æŒ‡æ ‡ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;é€šä¿—å«æ³•&lt;/th&gt;
&lt;th&gt;å¯ç”¨æ€§çº§åˆ«&lt;/th&gt;
&lt;th&gt;å¹´åº¦å®•æœºæ—¶é—´&lt;/th&gt;
&lt;th&gt;å‘¨å®•æœºæ—¶é—´&lt;/th&gt;
&lt;th&gt;æ¯å¤©å®•æœºæ—¶é—´&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1ä¸ª9&lt;/td&gt;
&lt;td&gt;90%&lt;/td&gt;
&lt;td&gt;36.5å¤©&lt;/td&gt;
&lt;td&gt;16.8å°æ—¶&lt;/td&gt;
&lt;td&gt;2.4å°æ—¶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2ä¸ª9&lt;/td&gt;
&lt;td&gt;99%&lt;/td&gt;
&lt;td&gt;87.6å°æ—¶&lt;/td&gt;
&lt;td&gt;1.68å°æ—¶&lt;/td&gt;
&lt;td&gt;14åˆ†é’Ÿ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3ä¸ª9&lt;/td&gt;
&lt;td&gt;99.9%&lt;/td&gt;
&lt;td&gt;8.76å°æ—¶&lt;/td&gt;
&lt;td&gt;10.1åˆ†é’Ÿ&lt;/td&gt;
&lt;td&gt;86ç§’&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4ä¸ª9&lt;/td&gt;
&lt;td&gt;99.99%&lt;/td&gt;
&lt;td&gt;52.6åˆ†é’Ÿ&lt;/td&gt;
&lt;td&gt;1.01åˆ†é’Ÿ&lt;/td&gt;
&lt;td&gt;8.6ç§’&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5ä¸ª9&lt;/td&gt;
&lt;td&gt;99.999%&lt;/td&gt;
&lt;td&gt;5.26åˆ†é’Ÿï¼Œ315.36ç§’&lt;/td&gt;
&lt;td&gt;6.05ç§’&lt;/td&gt;
&lt;td&gt;0.86ç§’&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;å¯é æ€§&#34;&gt;å¯é æ€§&lt;/h2&gt;
&lt;p&gt;å¯é æ€§ç›¸å…³çš„å‡ ä¸ªæŒ‡æ ‡å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h3 id=&#34;mtbfmean-time-between-failure&#34;&gt;MTBFï¼ˆMean Time Between Failureï¼‰&lt;/h3&gt;
&lt;p&gt;å³å¹³å‡æ— æ•…éšœæ—¶é—´ï¼Œæ˜¯æŒ‡ä»æ–°çš„äº§å“åœ¨è§„å®šçš„å·¥ä½œç¯å¢ƒæ¡ä»¶ä¸‹å¼€å§‹å·¥ä½œåˆ°å‡ºç°ç¬¬ä¸€ä¸ªæ•…éšœçš„æ—¶é—´çš„å¹³å‡å€¼ã€‚&lt;/p&gt;
&lt;p&gt;MTBFè¶Šé•¿è¡¨ç¤ºå¯é æ€§è¶Šé«˜ï¼Œæ­£ç¡®å·¥ä½œèƒ½åŠ›è¶Šå¼º ã€‚&lt;/p&gt;
&lt;h3 id=&#34;mttrmean-time-to-repair&#34;&gt;MTTRï¼ˆMean Time To Repairï¼‰&lt;/h3&gt;
&lt;p&gt;å³å¹³å‡ä¿®å¤æ—¶é—´ï¼Œæ˜¯æŒ‡å¯ä¿®å¤äº§å“çš„å¹³å‡ä¿®å¤æ—¶é—´ï¼Œå°±æ˜¯ä»å‡ºç°æ•…éšœåˆ°ä¿®å¤ä¸­é—´çš„è¿™æ®µæ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;MTTRè¶ŠçŸ­è¡¨ç¤ºæ˜“æ¢å¤æ€§è¶Šå¥½ã€‚&lt;/p&gt;
&lt;h3 id=&#34;mttfmean-time-to-failure&#34;&gt;MTTFï¼ˆMean Time To Failureï¼‰&lt;/h3&gt;
&lt;p&gt;å³å¹³å‡å¤±æ•ˆæ—¶é—´ã€‚ç³»ç»Ÿå¹³å‡èƒ½å¤Ÿæ­£å¸¸è¿è¡Œå¤šé•¿æ—¶é—´ï¼Œæ‰å‘ç”Ÿä¸€æ¬¡æ•…éšœã€‚&lt;/p&gt;
&lt;p&gt;ç³»ç»Ÿçš„å¯é æ€§è¶Šé«˜ï¼Œå¹³å‡æ— æ•…éšœæ—¶é—´è¶Šé•¿ã€‚&lt;/p&gt;
&lt;p&gt;è¿™äº›æŒ‡æ ‡è·Ÿå¯ç”¨æ€§å…³ç³»&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Availability = UpTime/(UpTime+DownTime) = MTBF / (MTBF + MTTR)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç¨³å®šæ€§&#34;&gt;ç¨³å®šæ€§&lt;/h2&gt;
&lt;p&gt;Stackoverflow çœ‹åˆ°è¿™æ ·ä¸€æ®µä»£ç æ¥è¡¨ç¤ºç¨³å®šæ€§å’Œå¯é æ€§çš„åŒºåˆ«ï¼Œç”šä¸ºæœ‰è¶£ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Reliable but unstable:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    add(a,b):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; randomInt mod &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;: 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        throw exception
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        print a&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;b        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Stable but unreliable:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    add(a,b):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; randomInt mod &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;: 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;         print a&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;a
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;         print a&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;b
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Joplin&#43;åšæœäº‘ä½œä¸ºä¸»åŠ›ç¬”è®°å·¥å…·</title>
        <link>https://lxb.wiki/f5496f4b/</link>
        <pubDate>Tue, 09 Mar 2021 21:07:57 +0000</pubDate>
        
        <guid>https://lxb.wiki/f5496f4b/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h1 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h1&gt;
&lt;p&gt;ä¹‹å‰çš„äº‘ç¬”è®°å·¥å…·ä¸€ç›´æ˜¯æœ‰é“äº‘ï¼Œå…è´¹ç‰ˆæœ¬å·²ç»è¶³å¤Ÿä½¿ç”¨äº†ã€‚&lt;/p&gt;
&lt;p&gt;è®©æˆ‘ä¸‹å®šå†³å¿ƒæ”¾å¼ƒæœ‰é“äº‘çš„å¯¼ç«ç´¢æ˜¯ï¼Œçªç„¶æœ‰ä¸€å¤©ï¼Œæˆ‘å‘ç° MAC å’Œ Android ç«¯éƒ½æ— æ³•ç™»å½•äº†ã€‚å¾®åšã€çŸ¥ä¹éšä¾¿ä¸€æœâ€œæœ‰é“äº‘ä¸èƒ½ç™»å½•â€ï¼Œå‘ç°è¿™ä¸ªé—®é¢˜ä» 2016 å¹´å°±æœ‰å¾ˆå¤šç”¨æˆ·é‡åˆ°è¿‡ï¼ˆæ˜¯å¾ˆå¤šç”¨æˆ·ï¼Œæˆ‘é‡åˆ°çš„é—®é¢˜å¹¶ä¸æ˜¯å¶å‘ï¼‰ï¼Œä¸€ç›´åˆ° 2021 å¹´è¿˜æ²¡æœ‰è§£å†³ï¼ˆåæ¥è¿˜å‘ç°ï¼Œæœ‰é“äº‘æŠŠå¾®åšå’ŒçŸ¥ä¹æœ‰å…³â€œæœ‰é“äº‘ä¸èƒ½ç™»å½•â€çš„ç”¨æˆ·å‘å¸–å…¨åˆ äº†ï¼‰ã€‚æœ‰é“äº‘è¿æœ€åŸºæœ¬çš„å¯ç”¨æ€§å’Œå¯é æ€§éƒ½æ— æ³•ä¿è¯ï¼Œé‚å†³å®šå¼ƒç”¨æœ‰é“äº‘ï¼Œè½¬æˆ˜å…¶ä»–å·¥å…·å¹³å°ã€‚&lt;/p&gt;
&lt;p&gt;å°è¯•è¿‡çš„ç¬”è®°å·¥å…·ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å°è±¡ç¬”è®°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;OneNote&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Notion&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¯­é›€&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸çœ‹å¥½è¯­é›€&lt;/li&gt;
&lt;li&gt;çº¯åœ¨çº¿æœåŠ¡ï¼Œä¸èƒ½æœ¬åœ°å­˜å‚¨ï¼›å½“æœ‰ä¸€å¤©æœåŠ¡ç«¯æ•…éšœæ—¶ï¼Œç”¨æˆ·å°±å®Œå…¨ä¸èƒ½ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;é˜¿é‡Œå†…éƒ¨çš„ç»©æ•ˆé¡¹ç›®ï¼Œå¼€å‘äººå‘˜å‡­è¿™ä¸ªé¡¹ç›®å®Œæˆæ™‹å‡åï¼Œä¸€å®šä¼šè¿›å…¥ä¸å†å¼€å‘æ–°åŠŸèƒ½çš„è½®å›&lt;/li&gt;
&lt;li&gt;é˜¿é‡Œç³»çš„å…¶ä»–äº§å“ä¹Ÿåº”è°¨æ…ä½¿ç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸ºçŸ¥ç¬”è®°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŠŸèƒ½ä¸å®Œå–„ï¼Œæœç´¢åŠŸèƒ½ä¸èƒ½ç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…¶ä»–ç¬”è®°éƒ½æ— æ³•å®Œå…¨åŒ¹é…æˆ‘çš„ä½¿ç”¨ä¹ æƒ¯ã€‚æœ€åå†³å®šï¼Œä½¿ç”¨å¼€æºçš„ joplinã€‚&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://joplinapp.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;joplin å®˜ç½‘&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&#34;joplin-ä»‹ç»&#34;&gt;Joplin ä»‹ç»&lt;/h1&gt;
&lt;p&gt;Joplin æ—¨åœ¨å–ä»£å°è±¡ç¬”è®°ï¼Œæˆä¸ºå…¨å¹³å°çš„å…è´¹å¼€æºç¬”è®°ï¼Œå…¶ç¬”è®°çš„çš„ä¹¦å†™æ ¼å¼æ˜¯ markdownï¼Œç•Œé¢æ”¯æŒä¸­æ–‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¼˜ç‚¹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¼€æº&lt;/li&gt;
&lt;li&gt;å¤šç§åŒæ­¥æ–¹å¼å¯é€‰æ‹©: WebDavã€OneDriveã€DroupOutã€Nextcloud
&lt;ul&gt;
&lt;li&gt;æ”¯æŒ WebDav çš„ç½‘ç›˜ï¼š
&lt;ul&gt;
&lt;li&gt;å›½å¤–ç½‘ç›˜ï¼šBoxã€Dropboxã€&lt;strong&gt;TeraCLOUD&lt;/strong&gt;ã€yandexã€TransIP&lt;/li&gt;
&lt;li&gt;å›½å†…ç½‘ç›˜ï¼šåšæœäº‘ã€åŸé€šç½‘ç›˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ”¯æŒç¬”è®°åŠ å¯†ï¼Œé˜²æ­¢æ•°æ®å­˜å‚¨å¹³å°å·çœ‹ç¬”è®°å†…å®¹&lt;/li&gt;
&lt;li&gt;å…¨å¹³å°æ”¯æŒã€‚æˆ‘ä½¿ç”¨çš„å¹³å°æœ‰ MacOSã€Androidã€Linux&lt;/li&gt;
&lt;li&gt;æ”¯æŒä»å°è±¡ç¬”è®°å’Œ markdown æ–‡ä»¶å¯¼å…¥&lt;/li&gt;
&lt;li&gt;æœ‰æµè§ˆå™¨å‰ªè—æ’ä»¶&lt;/li&gt;
&lt;li&gt;ç¬”è®°æ ¼å¼ä¸º markdown&lt;/li&gt;
&lt;li&gt;æ”¯æŒå„ç§æ’ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;joplin-å®‰è£…&#34;&gt;Joplin å®‰è£…&lt;/h1&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://joplinapp.org/#installation&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Joplin å®˜ç½‘&lt;/a&gt; ä¸‹è½½ + å®‰è£…&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210509103914.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h1 id=&#34;ç•Œé¢è¯´æ˜&#34;&gt;ç•Œé¢è¯´æ˜&lt;/h1&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210509103956.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h1 id=&#34;é…ç½®åšæœäº‘åŒæ­¥&#34;&gt;é…ç½®åšæœäº‘åŒæ­¥&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;æˆ‘çš„åŒæ­¥æœåŠ¡å™¨å·²ä»åšæœäº‘è¿ç§»åˆ° TeraCLOUD&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://lxb.wiki/f3376d3f/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Jopliné…ç½®TeraCloudçš„WebDavè¿›è¡ŒåŒæ­¥&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ³¨å†Œ&lt;a class=&#34;link&#34; href=&#34;https://www.jianguoyun.com/#/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;åšæœäº‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œèµ·åä¸º joplin&lt;/li&gt;
&lt;li&gt;ç‚¹å‡»å³ä¸Šè§’ &lt;strong&gt;è´¦æˆ·ä¿¡æ¯ -&amp;gt; å®‰å…¨é€‰é¡¹ -&amp;gt; æ·»åŠ åº”ç”¨&lt;/strong&gt;ï¼›åº”ç”¨åç§°ä¸º joplin&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210509104440.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;æ‰“å¼€ Joplinï¼Œç‚¹å‡»èœå•&lt;strong&gt;é¦–é€‰é¡¹-&amp;gt;åŒæ­¥&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;åŒæ­¥ç›®æ ‡&lt;/strong&gt; WebDAV&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å·¥å…·-&amp;gt;é€‰é¡¹-&amp;gt;åŒæ­¥&lt;/strong&gt; &lt;a class=&#34;link&#34; href=&#34;https://dav.jianguoyun.com/dav/joplin&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://dav.jianguoyun.com/dav/joplin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;WebDAV ç”¨æˆ·å&lt;/strong&gt; æ³¨å†Œåšæœäº‘çš„ç”¨æˆ·å&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;WebDAV å¯†ç &lt;/strong&gt; åšæœäº‘æ–°æ·»åŠ çš„ joplin çš„åº”ç”¨å¯†ç ï¼ˆä¸æ˜¯åšæœäº‘ç™»å½•å¯†ç ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210509104829.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;
&lt;p&gt;ç‚¹å‡»&lt;strong&gt;æ£€æŸ¥åŒæ­¥é…ç½®&lt;/strong&gt;ï¼Œæ˜¾ç¤ºæˆåŠŸå³å¯ç‚¹å‡»åº”ç”¨å¼€å§‹åŒæ­¥&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é…ç½®å¤–éƒ¨ç¼–è¾‘å™¨ï¼ˆå¯é€‰ï¼‰ã€‚&lt;strong&gt;é¦–é€‰é¡¹ -&amp;gt; é€šç”¨é€‰é¡¹ -&amp;gt; Path&lt;/strong&gt;ï¼Œåœ¨åº”ç”¨ç¨‹åºä¸­é€‰æ‹© Typora&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210509105652.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>redis è·³è¡¨åˆ†æå¹¶ç”¨ Go å®ç°</title>
        <link>https://lxb.wiki/e98e0a2b/</link>
        <pubDate>Wed, 03 Mar 2021 23:09:59 +0000</pubDate>
        
        <guid>https://lxb.wiki/e98e0a2b/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;redisçš„zsetå’Œsetéƒ½ä½¿ç”¨è·³è¡¨å®ç°ã€‚è·³è¡¨ç®€å•åœ°è¯´ï¼Œå°±æ˜¯åœ¨é“¾è¡¨ä¸Šæ„é€ å¤šçº§ç´¢å¼•ï¼Œä»¥åŠ é€ŸæŸ¥æ‰¾ï¼Œæ˜¯ç”¨ç©ºé—´æ¢æ—¶é—´ã€‚å®ƒæ¯”çº¢é»‘æ ‘å®ç°æ›´ç®€å•ï¼Œä¸éœ€è¦è€—è´¹å¤§é‡çš„ç²¾åŠ›ç»´æŠ¤æ ‘çš„å¹³è¡¡ã€‚è·³è¡¨çš„å„ä¸ªèŠ‚ç‚¹æ˜¯æœ‰é¡ºåºçš„ï¼Œå¯ä»¥è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†åˆ†æè·³è¡¨çš„æ„æˆã€æ’å…¥ã€åˆ é™¤ç­‰æ“ä½œï¼Œå¹¶ä½¿ç”¨goå®ç°ã€‚&lt;/p&gt;
&lt;h2 id=&#34;1--è·³è¡¨ç»“æ„&#34;&gt;1.  è·³è¡¨ç»“æ„&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210503231105.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾å°±æ˜¯ä¸€ä¸ªåŒ…å«5ä¸ªèŠ‚ç‚¹çš„è·³è¡¨ç»“æ„ã€‚è·³è¡¨çš„ç»“æ„åŒ…å«ä¸€ä¸ªåˆä¸€ä¸ªçš„èŠ‚ç‚¹ï¼Œå’ŒheaderèŠ‚ç‚¹ã€‚headerèŠ‚ç‚¹æ˜¯æŸ¥è¯¢çš„èµ·å§‹ç‚¹ã€‚è·³è¡¨å®šä¹‰å¦‚ä¸‹ï¼ŒåŒ…å«å¤´ç»“ç‚¹ã€å°¾èŠ‚ç‚¹ã€é•¿åº¦ä»¥åŠè·³è¡¨çš„ç´¢å¼•å±‚æ•°ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
// skiplist æŒæœ‰ä¸€ä¸ªè·³è¡¨çš„å®Œæ•´æ•°æ®
type skiplist struct {
  // headerå’Œtailè¡¨ç¤ºè·³è¡¨çš„å¤´ç»“ç‚¹å’Œå°¾èŠ‚ç‚¹
  header, tail *skiplistNode
  // length è¡¨ç¤ºè·³è¡¨çš„é•¿åº¦
  length int
  // level è¡¨ç¤ºè¯¥è·³è¡¨ç´¢å¼•çš„å±‚æ•°
  level int
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä»ä¸Šé¢è·³è¡¨çš„å®šä¹‰çœ‹ä¸å‡ºä»€ä¹ˆï¼Œè·³è¡¨æ¯ä¸ªèŠ‚ç‚¹çš„å®šä¹‰å°±æœ‰å¾ˆå¤šä¸œè¥¿äº†ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
// skiplistLevel è¡¨ç¤ºskiplistæ¯ä¸€èŠ‚ç‚¹åœ¨æ¯ä¸€å±‚æŒæœ‰çš„æ•°æ®ç»“æ„
type skiplistLevel struct {
  // è¯¥å±‚èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œredisä½¿ç”¨forward
  next *skiplistNode
  // è¯¥å±‚èŠ‚ç‚¹åˆ°ä¸‹ä¸€èŠ‚ç‚¹ä¸­é—´é—´éš”çš„è·³æ•°
  span int
}
// skiplistNode è¡¨ç¤ºskiplistçš„æ¯ä¸€ä¸ªèŠ‚ç‚¹
type skiplistNode struct {
  // robj ä»£è¡¨è¯¥èŠ‚ç‚¹çš„æ•°æ®
  robj interface{}
  // score è¡¨ç¤ºè¯¥èŠ‚ç‚¹çš„åˆ†æ•°ï¼Œä»¥ä¾¿æ’åº
  score float64
  // prev è¡¨ç¤ºè¯¥èŠ‚ç‚¹çš„ä¸Šä¸€èŠ‚ç‚¹ï¼Œredis ä¸­ä½¿ç”¨backward
  prev *skiplistNode
  // levels è¡¨ç¤ºè¯¥èŠ‚ç‚¹åœ¨æ¯ä¸€å±‚ç´¢å¼•ä¸­åˆ°ä¸‹ä¸€èŠ‚ç‚¹çš„ä¿¡æ¯
  levels []skiplistLevel
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ¯ä¸€ä¸ªèŠ‚ç‚¹ä¸­æŒæœ‰æ•°æ®robjã€è¯¥æ•°æ®çš„åˆ†æ•°scoreç”¨æ¥æ’åºã€ä¸Šä¸€èŠ‚ç‚¹çš„æŒ‡é’ˆprevä»¥ä¾¿äºåå‘éå†ã€å„å±‚ç´¢å¼•ä¿¡æ¯levelsã€‚æ¯ä¸€å±‚çš„ç´¢å¼•ä¿¡æ¯skiplistlevelåŒ…æ‹¬è¯¥å±‚ç´¢å¼•ä¸­è¯¥èŠ‚ç‚¹æŒ‡å‘çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆnextã€è¯¥èŠ‚ç‚¹åˆ°ä¸‹ä¸€èŠ‚ç‚¹çš„é—´éš”spanã€‚ä¾‹å¦‚ä¸Šå›¾ä¸­ï¼ŒèŠ‚ç‚¹s2åœ¨ç¬¬ä¸‰å±‚ç´¢å¼•çš„ä¸‹ä¸€èŠ‚ç‚¹æ˜¯s4ï¼Œè€Œåœ¨ç¬¬äºŒå±‚ç´¢å¼•çš„ä¸‹ä¸€èŠ‚ç‚¹æ˜¯s3ï¼Œè€Œä¸”é—´éš”spanåˆ†åˆ«æ˜¯2å’Œ1ã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªèŠ‚ç‚¹çš„ç´¢å¼•å±‚æ•°é€šè¿‡éšæœºæ•°ç”Ÿæˆï¼Œredisè®¾è®¡çš„æ€è·¯ï¼šä½¿ç”¨ç¬¬nçº§ç´¢å¼•æ˜¯ä½¿ç”¨ç¬¬n-1çº§ç´¢å¼•æ¦‚ç‡çš„1/4ï¼Œæœ€å¤šä½¿ç”¨32çº§ç´¢å¼•ï¼Œå¦‚æœçœŸç”¨åˆ°äº†32çº§ç´¢å¼•ï¼Œè¿™ä¸ªè·³è¡¨æ‰€æŒæœ‰çš„æ•°æ®ä¹Ÿæ˜¯å·¨å¤§çš„ï¼Œå› æ­¤ä¸ç”¨æ‹…å¿ƒç´¢å¼•ä¸å¤Ÿç”¨ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
func randomLevel() int {
 var level = 1
   // SKIPLIST_P = 0.25
 for rand.Float64() &amp;lt; SKIPLIST_P {
   level ++
 }
 if level &amp;lt; SKIPLIST_MAXLEVEL {
   return level
 }
 return SKIPLIST_MAXLEVEL
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è·³è¡¨æŒ‰ç…§scoreå’Œrobjä»å°åˆ°å¤§è¿›è¡Œæ’åºï¼Œå› æ­¤å®ƒçš„å„ä¸ªèŠ‚ç‚¹æ˜¯æœ‰åºçš„ï¼Œå¯ä»¥è¿›è¡ŒèŒƒå›´æŸ¥æ‰¾ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// compareObj å¦‚æœobj1&amp;gt;obj2ï¼Œè¿”å›true
func compareObj(obj1, obj2 interface{}) bool {
  var t1, t2 reflect.Type
  t1 = reflect.TypeOf(obj1)
  t2 = reflect.TypeOf(obj2)
  if t1.Kind() != t2.Kind() {
    compareObj(fmt.Sprint(obj1), fmt.Sprint(obj2))
  }
  var v1, v2 reflect.Value
  v1 = reflect.ValueOf(obj1)
  v2 = reflect.ValueOf(obj2)
  switch t1.Kind() {
  case reflect.Int:
    return v1.Int() &amp;gt; v2.Int()
  case reflect.Float64, reflect.Float32:
    return v1.Float() &amp;gt; v2.Float()
  case reflect.String:
    return v1.String() &amp;gt; v2.String()
  }
  return compareObj(fmt.Sprint(obj1), fmt.Sprint(obj2))
}
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;2--èŠ‚ç‚¹çš„æ’å…¥&#34;&gt;2.  èŠ‚ç‚¹çš„æ’å…¥&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210503231517.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;åœ¨é“¾è¡¨ä¸­å¦‚æœè¦æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹Sï¼Œéœ€è¦æ‰¾åˆ°åœ¨é“¾è¡¨ä¸­æ¯”Så°çš„æœ€å¤§èŠ‚ç‚¹Fï¼ŒæŠŠSæŒ‚åœ¨FèŠ‚ç‚¹åé¢ã€‚é‚£ä¹ˆåœ¨è·³è¡¨ä¸­ä¹Ÿæ˜¯è¿™æ ·çš„å¥—è·¯ï¼Œåªä¸è¿‡æ›´å¤æ‚ä¸€äº›ã€‚ä¸‹é¢åˆ†å‡ æ­¥å°†ä¸Šå›¾ä¸­s2.5èŠ‚ç‚¹æŒ‚åœ¨s2åé¢ï¼Œå·²çŸ¥s2.5çš„scoreæˆ–è€…objæ¯”s2çš„scoreæˆ–objè¦å¤§ï¼Œä½†æ˜¯å°äºs3ã€‚&lt;/p&gt;
&lt;h3 id=&#34;21--æŸ¥æ‰¾æ¯”s25å°çš„æœ€å¤§èŠ‚ç‚¹&#34;&gt;2.1.  æŸ¥æ‰¾æ¯”s2.5å°çš„æœ€å¤§èŠ‚ç‚¹&lt;/h3&gt;
&lt;p&gt;åœ¨æ’å…¥æ–°èŠ‚ç‚¹ä¹‹å‰ï¼Œéœ€è¦æ‰¾åˆ°æ–°èŠ‚ç‚¹å¯ä»¥æ’å…¥çš„ä½ç½®ï¼Œå°±éœ€è¦æ‰¾å‡ºæ¯ä¸€å±‚ç´¢å¼•ä¸­æ–°èŠ‚ç‚¹çš„å‰ä¸€èŠ‚ç‚¹ï¼Œè¿™é‡Œå°±æ˜¯æ¯”s2.5å°çš„æœ€å¤§èŠ‚ç‚¹ã€‚è·³è¡¨æœ‰äº”å±‚ç´¢å¼•ï¼Œè¡¨ç¤ºä¸º0-4ã€‚è·³è¡¨çš„èµ·ç‚¹æ˜¯headerï¼Œå› æ­¤æŸ¥æ‰¾èŠ‚ç‚¹æ—¶éœ€è¦ä»headerçš„level 4å¼€å§‹è¿›è¡Œï¼Œè¡¨ç¤ºä¸ºheader.levels[4]ã€‚ä»£ç ä¸­ä½¿ç”¨update[i]è¡¨ç¤ºç¬¬iå±‚ç´¢å¼•ä¸­æ¯”s2.5å°çš„æœ€å¤§èŠ‚ç‚¹æŒ‡é’ˆã€‚æ³¨æ„ä¸‹é¢çš„ä»£ç è¿˜æœ‰ä¸€ä¸ªrankæ•°ç»„ï¼Œrank[i]å°±è¡¨ç¤ºç¬¬iå±‚ç´¢å¼•ä¸­ï¼Œupdate[i]èŠ‚ç‚¹åˆ°headerçš„spanï¼Œä¸‹é¢æ³¨æ„å®ƒæ˜¯æ€ä¹ˆå¢åŠ çš„ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»header.levels[4]å¼€å§‹å‘å³éå†ï¼Œæ­¤æ—¶rank[4]=0ï¼›header.levels[4]ä¸‹ä¸€èŠ‚ç‚¹æ˜¯s4æ¯”s2.5å¤§ï¼Œå› æ­¤è¯¥å±‚ç´¢å¼•ä¸­s2.5çš„ä¸Šä¸€èŠ‚ç‚¹å°±æ˜¯headerï¼Œå³update[4]=headerï¼Œæ¥ä¸‹æ¥å‘ä¸‹è¿›å…¥ç¬¬3å±‚ç´¢å¼•ï¼Œå³header.levels[3]&lt;/li&gt;
&lt;li&gt;ç¬¬3å±‚ç´¢å¼•ä¸­ï¼Œåˆå§‹rank[3] =rank[4]=0ï¼Œå‘å³éå†æœç´¢åˆ°headerçš„ä¸‹ä¸€èŠ‚ç‚¹s2ã€‚s2å°±æ˜¯è¿™ä¸€å±‚s2.5éœ€è¦æ’å…¥çš„ä½ç½®çš„å‰ä¸€èŠ‚ç‚¹ï¼Œå› æ­¤update[3]=s2ï¼Œrank[3]=rank[3]+header.levels[3].span=2ï¼Œç„¶åå‘ä¸‹è¿›å…¥s2.levels[2]&lt;/li&gt;
&lt;li&gt;ä¾æ¬¡éå†ç¬¬2ã€1ã€0å±‚ç´¢å¼•ï¼Œè·¯å¾„ä¸ºs2.levels[2]-&amp;gt;s2.levels[1]-&amp;gt;s2.levels[0]ï¼Œæ±‚å¾—update[2]=update[1]=update[0]=s2ï¼Œrank[2]=rank[1]=rank[0]=rank[3]=2ã€‚åˆ°è¿™é‡Œï¼Œé€šè¿‡èµ°æ¥¼æ¢¯çš„æ–¹å¼å°†s2.5éœ€è¦æ’å…¥çš„ä½ç½®å…¨æ‰¾å‡ºæ¥äº†&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; x = sl.header
  for i := sl.level-1; i &amp;gt;= 0; i -- {
    if i == sl.level-1 {
      rank[i] = 0
    } else {
      rank[i] = rank[i+1]
    }
    // å¯»æ‰¾æ¯”scoreå’Œrobjå°çš„æœ€è¿‘èŠ‚ç‚¹
    for x.levels[i].next != nil &amp;amp;&amp;amp; (x.levels[i].next.score &amp;lt; score ||
          (x.levels[i].next.score == score &amp;amp;&amp;amp; compareObj(robj, x.levels[i].next.robj))) {
      rank[i] += x.levels[i].span
      x = x.levels[i].next
    }
    update[i] = x
  }
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;22--æ’å…¥èŠ‚ç‚¹s25&#34;&gt;2.2.  æ’å…¥èŠ‚ç‚¹s2.5&lt;/h3&gt;
&lt;p&gt;ç°åœ¨æœ‰äº†updateæ•°ç»„è¡¨ç¤ºå„å±‚ç´¢å¼•ä¸­s2.5çš„ä¸Šä¸€èŠ‚ç‚¹ä½ç½®ï¼Œä»¥åŠrankæ•°ç»„è¡¨ç¤ºupdateå„èŠ‚ç‚¹åˆ°headerçš„è·ç¦»ï¼Œå°±å¯ä»¥è¿›è¡Œs2.5çš„æ’å…¥äº†ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;var level = randomLevel()
  // ä»£ç 1
  if level &amp;gt; sl.level {
    for i := sl.level; i &amp;lt; level; i ++ {
      rank[i] = 0
      update[i] = sl.header
      update[i].levels[i].span = sl.length
    }
    sl.level = level
  }
  //-----
  x = createSkiplistNode(level, score, robj)
  // ä»£ç 2
  for i := 0; i &amp;lt; level; i ++ {
    x.levels[i].next = update[i].levels[i].next
    update[i].levels[i].next = x

    x.levels[i].span = update[i].levels[i].span - (rank[0]-rank[i])
    update[i].levels[i].span = rank[0] - rank[1] + 1
  }
  // -----
  // ä»£ç 3
  for i := level-1; i &amp;lt; sl.level; i ++ {
    update[i].levels[i].span ++
  }
  //-----
  // å¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯æ’å…¥çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå®ƒçš„prevæ˜¯nil
  if update[0] == sl.header {
    x.prev = nil
  } else {
    x.prev = update[0]
  }
  if x.levels[0].next != nil {
    x.levels[0].next.prev = x
  } else {
    sl.tail = x
  }
  sl.length ++
&lt;/code&gt;&lt;/pre&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;é¦–å…ˆé€šè¿‡éšæœºç®—æ³•randomLevel()è·å–è¯¥èŠ‚ç‚¹çš„ç´¢å¼•å±‚æ•°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç°åœ¨æœ‰ä¸¤ç§æƒ…å†µï¼šlevelæ¯”è·³è¡¨åŸæ¥çš„å±‚æ•°sl.levelè¦å¤§æˆ–è€…levelå°äºç­‰äºsl.level&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;é¦–å…ˆå¤„ç†level&amp;gt;sl.levelçš„æƒ…å†µï¼ˆä»£ç 1ï¼‰ã€‚é«˜äºsl.levelå°äºlevelçš„ç´¢å¼•iä¸­ï¼Œs2.5çš„å‰ä¸€èŠ‚ç‚¹å°±ç›´æ¥æ˜¯headerï¼Œå› æ­¤è®¾ç½®update[i]=headerï¼ŒåŒæ—¶rank[i]=0ã€‚header.levels[i].spanè®¾ç½®ä¸ºè·³è¡¨çš„é•¿åº¦ã€‚è®¾ç½®sl.level=levelã€‚&lt;/li&gt;
&lt;li&gt;ç°åœ¨åªæœ‰level&amp;lt;=sl.levelçš„æƒ…å†µäº†ï¼ˆä»£ç 2ï¼‰ã€‚å½“ç´¢å¼•i&amp;lt;levelæ—¶ï¼Œç›´æ¥å°†s2.5æŒ‚åœ¨update[i].levels[i]çš„åé¢ï¼Œå¹¶æ›´æ–°update[i].levels[i]å’Œs2.5.levels[i]çš„span&lt;/li&gt;
&lt;li&gt;è€Œåœ¨level&amp;lt;=sl.levelçš„æƒ…å†µï¼ˆä»£ç 3ï¼‰ï¼Œå½“level&amp;lt;=ç´¢å¼•i&amp;lt;sl.levelæ—¶ï¼Œç›´æ¥æŠŠupdateèŠ‚ç‚¹çš„spanåŠ ä¸€ã€‚å› ä¸ºæ­¤æ—¶æ–°èŠ‚ç‚¹çš„ç´¢å¼•å±‚æ•°levelæ¯”è·³è¡¨çš„å±‚æ•°å°‘ï¼Œé‚£ä¹ˆæ–°èŠ‚ç‚¹çš„æ’å…¥å¯¹äºæ¯”levelé«˜çš„ç´¢å¼•èŠ‚ç‚¹æ¥è¯´å°±æ˜¯å°†å…¶ä¸åé¢èŠ‚ç‚¹çš„è·ç¦»å¢åŠ äº†ä¸€ä¸ªå•ä½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¤„ç†s2.5çš„prevæŒ‡é’ˆï¼Œç”±ä¸Šé¢çš„å›¾ä¹Ÿå¯ä»¥çŸ¥é“prevæŒ‡é’ˆå’Œç¬¬0å±‚çš„ç´¢å¼•æ˜¯åå‘çš„ï¼Œä½†æ˜¯å¹¶ä¸ä¼šæŒ‡å‘headerã€‚è¿™é‡Œæˆ‘è®¤ä¸ºæ˜¯ä¸ºäº†æ–¹ä¾¿åå‘éå†ï¼Œå¦‚æœs1.prevæŒ‡å‘headerï¼Œåœ¨åå‘éå†æ—¶éœ€è¦åŠ ä¸€å±‚headerçš„åˆ¤æ–­ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¤„ç†è·³è¡¨çš„tailæŒ‡é’ˆï¼Œå¦‚æœæ’å…¥çš„èŠ‚ç‚¹åœ¨æœ€åï¼Œåˆ™é‡æ–°è®¾ç½®tail&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ›´æ–°è·³è¡¨é•¿åº¦&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;3--åˆ é™¤èŠ‚ç‚¹&#34;&gt;3.  åˆ é™¤èŠ‚ç‚¹&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210503231624.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾ä¸­ï¼Œå¦‚æœæƒ³åˆ é™¤s3èŠ‚ç‚¹ï¼Œéœ€è¦ä¸¤æ­¥ï¼šæ‰¾åˆ°s3èŠ‚ç‚¹åœ¨å„å±‚ç´¢å¼•å¤„çš„ä¸Šä¸€èŠ‚ç‚¹ï¼›åˆ é™¤s3èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;32--æŸ¥æ‰¾æ¯”s3å°çš„æœ€å¤§èŠ‚ç‚¹&#34;&gt;3.2.  æŸ¥æ‰¾æ¯”s3å°çš„æœ€å¤§èŠ‚ç‚¹&lt;/h3&gt;
&lt;p&gt;æŸ¥æ‰¾çš„ç®—æ³•ä¾æ—§æ˜¯ä»headerçš„æœ€é«˜å±‚ç´¢å¼•å¼€å§‹ä¸‹æ¥¼æ¢¯ï¼Œå¹¶ä½¿ç”¨updateæ•°ç»„ä¿å­˜æ¯ä¸€å±‚ç´¢å¼•ä¸­s3çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¸Šå›¾ä¸­ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»header.levels[4]å¼€å§‹å‘å³éå†ï¼Œæ‰¾ä¸åˆ°å…¶ä»–çš„èŠ‚ç‚¹å°äºs3ï¼Œå› æ­¤å‘ä¸‹éå†header.levels[3]ï¼Œç¬¬4å±‚çš„æœ€å¤§èŠ‚ç‚¹æ˜¯headerï¼Œå³update[4]=header&lt;/li&gt;
&lt;li&gt;ä¾æ¬¡ç±»æ¨ï¼Œupdate[3]=s2ï¼Œupdate[2]=s2ï¼Œupdate[1]=update[0]=s2ï¼Œéå†è·¯å¾„è§å›¾ä¸­çš„è“è‰²ç®­å¤´ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
// æŸ¥æ‰¾æœ€è¿‘èŠ‚ç‚¹
  x = sl.header
  for i := sl.level-1; i &amp;gt;= 0; i -- {
    for x.levels[i].next != nil &amp;amp;&amp;amp; (x.levels[i].next.score &amp;lt; score || 
      (x.levels[i].next.score == score &amp;amp;&amp;amp; compareObj(robj, x.levels[i].next.robj))) {
      x = x.levels[i].next
    }
    update[i] = x
  }
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;23--åˆ é™¤èŠ‚ç‚¹&#34;&gt;2.3.  åˆ é™¤èŠ‚ç‚¹&lt;/h3&gt;
&lt;p&gt;åˆ é™¤èŠ‚ç‚¹å°±æ¯”è¾ƒç®€å•äº†ï¼Œä½†æ˜¯åœ¨è¿™ä¹‹å‰éœ€è¦éªŒè¯ä¸€ä¸‹xæŒ‡å‘çš„ä¸‹ä¸€èŠ‚ç‚¹æ˜¯ä¸æ˜¯éœ€è¦åˆ é™¤çš„æ•°æ®ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
  // xä¹‹åçš„èŠ‚ç‚¹å¯èƒ½æ˜¯éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹ï¼Œä¹Ÿå¯èƒ½ä¸æ˜¯
  x = x.levels[0].next
  if x != nil &amp;amp;&amp;amp; x.score == score &amp;amp;&amp;amp; equalObj(x.robj, robj) {
    sl.deleteNode(update, x)
    return true
  }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åœ¨deleteNodeä¸­ï¼Œè¿›è¡Œå¦‚ä¸‹åˆ é™¤æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å¯¹æ¯ä¸€å±‚çš„update[i]è¿›è¡Œï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœupdate[i].levels[i]çš„ä¸‹ä¸€èŠ‚ç‚¹æ˜¯xï¼Œåˆ™è¿›è¡Œxçš„åˆ é™¤ï¼ŒåŒ…æ‹¬èŠ‚ç‚¹æŒ‡é’ˆå’Œspançš„æ”¹å˜&lt;/li&gt;
&lt;li&gt;å¦‚æœupdate[i].levels[i]çš„ä¸‹ä¸€èŠ‚ç‚¹ä¸æ˜¯xï¼Œä¾‹å¦‚ï¼šåˆ é™¤s3èŠ‚ç‚¹ï¼Œå®ƒçš„update[4].levels[4]ä¸‹ä¸€èŠ‚ç‚¹æ˜¯s4ï¼Œæ­¤æ—¶ç›´æ¥å°†update[4].levels[4]çš„spanå‡ä¸€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†xçš„nextèŠ‚ç‚¹ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰æŒ‚åœ¨xçš„prevèŠ‚ç‚¹åé¢&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ›´æ–°è·³è¡¨çš„levelå€¼ã€‚ä»¥åˆ é™¤s4èŠ‚ç‚¹ä¸ºä¾‹ï¼Œåˆ é™¤å®Œè¯¥èŠ‚ç‚¹ä¹‹åè·³è¡¨å®é™…å±‚æ•°åº”è¯¥è°ƒæ•´ä¸º3ã€‚ä»ç¬¬4å±‚å¼€å§‹å‘ä¸‹éå†ï¼Œå¦‚æœheader.levels[i].nextæ˜¯nilï¼Œè¯´æ˜è¯¥å±‚ç´¢å¼•å·²ç»æ²¡å¿…è¦å­˜åœ¨äº†ï¼Œå°±å°†è·³è¡¨çš„levelå‡ä¸€&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ«å¿˜äº†æŠŠè·³è¡¨çš„lengthå‡ä¸€&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;è·³è¡¨å¬èµ·æ¥æŒºéš¾ï¼Œå¦‚æœä»”ç»†ç ”ç©¶å®ƒçš„ä»£ç çš„è¯è¿˜æ˜¯æŒºç®€å•çš„ã€‚è·³è¡¨ä¸»è¦éš¾çš„åœ°æ–¹å°±åœ¨äºèŠ‚ç‚¹çš„æ’å…¥å’Œåˆ é™¤ï¼Œåªè¦ç†è§£äº†è·³è¡¨çš„å¤šçº§ç´¢å¼•æ˜¯æ€ä¹ˆä½¿ç”¨çš„ï¼Œå…¶ä»–çš„æ“ä½œï¼šèŒƒå›´æŸ¥è¯¢ã€æŸ¥è¯¢æ’åç­‰éƒ½æ¯”è¾ƒç®€å•äº†ã€‚è¿™å—çš„ä»£ç å¯ä»¥çœ‹redisçš„æºç ï¼Œåœ¨å®ƒçš„t_zset.cå’Œredis.hä¸­æœ‰zslå¼€å¤´çš„ä»£ç å°±æ˜¯è·³è¡¨ç›¸å…³å†…å®¹ã€‚ä¸è¿‡æˆ‘è§‰å¾—æ›´éš¾çš„æ˜¯å†™æ–‡æ¡£ï¼Œå†™æ–‡æ¡£çš„æ—¶å€™éœ€è¦é˜…è¯»å®Œä»£ç ä¹‹åç†æ¸…æ€è·¯ï¼Œè¿™å—æˆ‘å‘ç°é€šè¿‡ç”»å›¾è¿˜æ˜¯å¯ä»¥åŠ æ·±ç†è§£çš„ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>APNGä¸ GIF</title>
        <link>https://lxb.wiki/941edb97/</link>
        <pubDate>Wed, 24 Feb 2021 23:00:47 +0000</pubDate>
        
        <guid>https://lxb.wiki/941edb97/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h3 id=&#34;å…³äº-apng&#34;&gt;å…³äº APNG&lt;/h3&gt;
&lt;p&gt;APNGï¼ˆAnimated Portable Network Graphicsï¼‰é¡¾åæ€ä¹‰æ˜¯åŸºäº PNG æ ¼å¼æ‰©å±•çš„ä¸€ç§åŠ¨ç”»æ ¼å¼ï¼Œå¢åŠ äº†å¯¹åŠ¨ç”»å›¾åƒçš„æ”¯æŒï¼ŒåŒæ—¶åŠ å…¥äº† 24 ä½å›¾åƒå’Œ 8 ä½ Alpha é€æ˜åº¦çš„æ”¯æŒï¼Œè¿™æ„å‘³ç€åŠ¨ç”»å°†æ‹¥æœ‰æ›´å¥½çš„è´¨é‡ï¼Œå…¶è¯ç”Ÿçš„ç›®çš„æ˜¯ä¸ºäº†æ›¿ä»£è€æ—§çš„ GIF æ ¼å¼ï¼Œä½†å®ƒç›®å‰å¹¶æ²¡æœ‰è·å¾— PNG ç»„ç»‡å®˜æ–¹çš„è®¤å¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;apng-ç®€å²&#34;&gt;APNG ç®€å²&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;MNG&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ APNG ä¹‹å‰å®ƒè¿˜æœ‰ä¸€ä¸ªè€å†¤å®¶å« MNGï¼ˆMultiple-image Network Graphicsï¼‰å³å¤šå›¾åƒç½‘ç»œå›¾å½¢ï¼Œ1996 å¹´ 6 æœˆæå‡º PNFï¼ˆPortable Network Frameï¼‰è‰æ¡ˆï¼ŒåŒå¹´8æœˆæ›´åä¸º MNG ï¼Œ2001 å¹´ 1 æœˆ 31 æ—¥å‘å¸ƒ MNG è§„èŒƒ 1.0 ç‰ˆæœ¬ï¼ŒMNG æ˜¯å‡ºè‡ª PNG å¼€å‘ç»„ä¹‹æ‰‹ï¼Œä½†ç”±äºç»“æ„å¤æ‚çš„ MNG ç¨‹åºåº“ï¼Œä½¿ç”¨è¿‡ç¨‹ä¼šå ç”¨å¤§é‡çš„èµ„æºï¼Œæ—©æœŸåªæœ‰è¾ƒå°‘çš„æµè§ˆå™¨æ”¯æŒï¼ŒChromeã€IEã€Operaã€Safari åˆ™ä»æœªæ”¯æŒè¿‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;APNG&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2004 å¹´ï¼Œç”± Mozilla å…¬å¸ä¸¤ä½ Mozilla ç¨‹åºå‘˜ Stuart Parmenter å’Œ Vladimir VukiÄ‡eviÄ‡ å…±åŒè®¾è®¡å‡º APNGï¼Œä»–ä»¬å¸Œæœ› Mozilla ç¤¾åŒºèƒ½ä½¿ç”¨å®ƒï¼Œä½†ææ¡ˆæœªèƒ½é€šè¿‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;libpngç¨‹åºåº“&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2006 å¹´ï¼ŒGoogle Summer of Code æ´»åŠ¨ä¸­ï¼ŒåŠ æ‹¿å¤§åœ£åŠ›å˜‰å­¦é™¢çš„å­¦ç”Ÿä¸º libpng ç¨‹åºåº“åŠ å…¥äº†å¯¹ APNG æ”¯æŒï¼Œæ­¤åå¼€å‘è€…å†æ¬¡æ¨èç»™ Mozilla ç¤¾åŒºï¼Œä¸è¿‡ä»ç„¶é­åˆ°æ‹’ç»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é¦–æ¬¡æ”¯æŒ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2007 å¹´ 3 æœˆ 23 æ—¥ï¼ŒMozilla åçŸ¥åè§‰ï¼Œåœ¨ Mozilla Firefox 3.0 ä¸­ é¦–æ¬¡æ”¯æŒ APNG æ ¼å¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ ‡å‡†åŒ–ç”³è¯·&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2007 å¹´ 4 æœˆ 20 æ—¥ï¼ŒMozilla å¸Œæœ› APNG èƒ½æˆä¸ºå®˜æ–¹æ ‡å‡†ï¼Œå› æ­¤ PNG ç»„ç»‡å‘èµ·æŠ•ç¥¨ï¼Œæœ€ç»ˆä»¥8ï¼š10çš„ç¥¨æ•°å¦å†³äº† APNG è¿›äº†å®˜æ–¹æ ‡å‡†ï¼Œå› ä¸º PNG ç»„ç»‡å†³å¿ƒç»§ç»­æ¨å¹¿ MNGï¼Œä½†è¿™ä¸å¹¶å½±å“ Mozilla ç»§ç»­æ”¯æŒ APNGã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸ºä»€ä¹ˆ-gif-èƒ½å­˜æ´»29å¹´ä¹‹ä¹…&#34;&gt;ä¸ºä»€ä¹ˆ GIF èƒ½å­˜æ´»29å¹´ä¹‹ä¹…ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;å¼€å¤´è®² APNG æ—¶æåˆ°ï¼ŒAPNG çš„å‡ºç°å°±æ˜¯ä¸ºäº†æ›¿ä»£ GIFï¼Œè¯ç”Ÿäº 1987 å¹´çš„ GIF ä¸ºä»€ä¹ˆèƒ½å­˜æ´» 29 å¹´ä¹‹ä¹…ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¸»è¦æœ‰å››ä¸ªåŸå› ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‡ ä¹æ‰€æœ‰çš„ä¸»æµæµè§ˆå™¨éƒ½æ”¯æŒ GIF&lt;/li&gt;
&lt;li&gt;æ—©æœŸé€‰æ‹©ä¸å¤šï¼ŒGIF å‡ ä¹æ˜¯å”¯ä¸€é€‰æ‹©ï¼ˆGIF - 1987ã€JPEG - 1992ã€PNG - 1996ã€APNG - 2004ã€WebP - 2010ï¼‰&lt;/li&gt;
&lt;li&gt;å®ç°èµ·æ¥ç®€å•ï¼Œåˆ¶ä½œçš„å·¥å…·å¤š&lt;/li&gt;
&lt;li&gt;é‡‡ç”¨ LZW æ•°æ®å‹ç¼©ç®—æ³•ï¼Œä½¿å¾— GIF ä½“ç§¯å°ï¼Œåœ¨æ—©æœŸæ…¢é€Ÿçš„äº’è”ç½‘æ˜“äºä¼ æ’­&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä¸ºä»€ä¹ˆè¦å–ä»£å®ƒ&#34;&gt;ä¸ºä»€ä¹ˆè¦å–ä»£å®ƒï¼Ÿ&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;1ã€å›¾ç‰‡è´¨é‡&lt;/strong&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;å¦‚æœä½ ä½¿ç”¨çš„æ˜¯é Firefoxã€Safari æµè§ˆå™¨ï¼Œé‚£ APNG æ ¼å¼çš„å›¾ç‰‡ä¼šå‘ä¸‹å…¼å®¹æ˜¾ç¤ºä¸ºé™æ€å›¾ï¼Œä½ å¯ä»¥æ›´æ¢ Firefoxã€Safari æµè§ˆå™¨æˆ–è€…åœ¨ Chrome æµè§ˆå™¨å®‰è£… &lt;a class=&#34;link&#34; href=&#34;https://chrome.google.com/webstore/detail/apng/ehkepjiconegkhpodgoaeamnpckdbblp&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;APNG Extension for Google Chrome &lt;/a&gt;æ‰©å±•æ¥å…¼å®¹ï¼Œé€šè¿‡ä¸¤è€…å¯¹æ¯”èƒ½æ€»ç»“å‡ºä»¥ä¸‹åŒºåˆ«ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;GIFï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ€å¤šæ”¯æŒ 8 ä½ 256 è‰²ï¼Œè‰²é˜¶è¿‡æ¸¡ç³Ÿç³•ï¼Œå›¾ç‰‡å…·æœ‰é¢—ç²’æ„Ÿ&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒ Alpha é€æ˜é€šé“ï¼Œè¾¹ç¼˜æœ‰æ‚è¾¹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;APNGï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ”¯æŒ 24 ä½çœŸå½©è‰²å›¾ç‰‡&lt;/li&gt;
&lt;li&gt;æ”¯æŒ 8 ä½ Alpha é€æ˜é€šé“&lt;/li&gt;
&lt;li&gt;å‘ä¸‹å…¼å®¹ PNG&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;2ã€å›¾ç‰‡ä½“ç§¯&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ ä½¿ç”¨çš„æµè§ˆå™¨ä¸æ”¯æŒWebPï¼Œä¸‹é¢å¯¹æ¯”çš„ WebP æ ¼å¼çš„å›¾ç‰‡å°†æ— æ³•æ˜¾ç¤ºã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;ä»å‡ ç»„ GIFã€APNGã€WebP çš„å¯¹æ¯”ä¸­å¯ä»¥å‘ç°ï¼Œæ— è®ºåœ¨çº¯è‰²çš„å›¾ç‰‡æˆ–æ˜¯å¤šå½©çš„å›¾ç‰‡ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ APNG ä¾æ—§èƒ½æ¯” GIFã€WebP ä»¥åŠæœ‰æŸçš„ WebP çš„ä½“ç§¯å°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;apng-çš„ç»„æˆ&#34;&gt;APNG çš„ç»„æˆ&lt;/h3&gt;
&lt;p&gt;APNG æ˜¯åŸºäº PNG æ ¼å¼æ‰©å±•çš„ï¼Œé¦–å…ˆéœ€è¦äº†è§£ä¸€ä¸ªç®€å•çš„ PNG æ–‡ä»¶ç»„æˆç»“æ„ï¼š&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;PNG ç”± 4 éƒ¨åˆ†ç»„æˆï¼Œé¦–å…ˆä»¥ PNG Signatureï¼ˆPNGç­¾åå—ï¼‰å¼€å¤´ï¼Œç´§æ¥ç€ä¸€ä¸ª IHDRï¼ˆå›¾åƒå¤´éƒ¨å—ï¼‰ï¼Œç„¶åæ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªçš„ IDATï¼ˆå›¾åƒæ•°æ®å—ï¼‰ï¼Œæœ€ç»ˆä»¥ IENDï¼ˆå›¾åƒç»“æŸå—ï¼‰ç»“å°¾ã€‚&lt;/p&gt;
&lt;p&gt;APNG è§„èŒƒå¼•å…¥äº†ä¸‰ä¸ªæ–°å¤§å—ï¼Œåˆ†åˆ«æ˜¯ï¼šacTLï¼ˆåŠ¨ç”»æ§åˆ¶å—ï¼‰ã€fcTLï¼ˆå¸§æ§åˆ¶å—ï¼‰ã€fdATï¼ˆå¸§æ•°æ®å—ï¼‰ï¼Œä¸‹å›¾æ˜¯ä¸‰ä¸ªç‹¬ç«‹çš„ PNG æ–‡ä»¶ç»„æˆ APNG çš„ç¤ºæ„å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210503115051.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;acTL å—å¿…é¡»åœ¨ç¬¬ä¸€ä¸ª IDAT å—ä¹‹å‰ï¼Œç”¨äºå‘Šè¯‰è§£æå™¨è¿™æ˜¯ä¸€ä¸ªåŠ¨ç”» PNGï¼ŒåŒ…å«åŠ¨ç”»å¸§æ€»æ•°å’Œå¾ªç¯æ¬¡æ•°çš„ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;fcTL å—æ˜¯æ¯ä¸€å¸§éƒ½å¿…é¡»çš„ï¼Œå‡ºç°åœ¨ IDAT æˆ– fdAT ä¹‹å‰ï¼ŒåŒ…å«é¡ºåºå·ã€å®½é«˜ã€å¸§ä½ç½®ã€å»¶æ—¶ç­‰ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;fdAT å—ä¸ IDAT å—æœ‰ç€ç›¸åŒçš„ç»“æ„ï¼Œé™¤äº† fcTL ä¸­çš„é¡ºåºå·&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»å›¾ä¸­å¯ä»¥å‘ç°ç¬¬ä¸€å¸§ä¸åé¢ä¸¤å¸§ä¸åŒï¼Œé‚£æ˜¯å› ä¸ºç¬¬ä¸€å¸§ APNG æ–‡ä»¶å­˜å‚¨çš„ä¸ºä¸€ä¸ªæ­£å¸¸çš„ PNG æ•°æ®å—ï¼Œå¯¹äºä¸æ”¯æŒ APNG çš„æµè§ˆå™¨æˆ–è½¯ä»¶ï¼Œåªä¼šæ˜¾ç¤º APNG æ–‡ä»¶çš„ç¬¬ä¸€å¸§ï¼Œå¿½ç•¥åé¢é™„åŠ çš„åŠ¨ç”»å—ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ APNG èƒ½å‘ä¸‹å…¼å®¹ PNG çš„åŸå› ã€‚&lt;/p&gt;
&lt;h3 id=&#34;apng-å¸§é—´ä¼˜åŒ–&#34;&gt;APNG å¸§é—´ä¼˜åŒ–&lt;/h3&gt;
&lt;p&gt;å‡è®¾ä½¿ç”¨ä¸€ä¸ª 4 å¸§å›¾ç‰‡åˆæˆ APNG&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210503115139.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;APNG ä¼šé€šè¿‡ç®—æ³•è®¡ç®—å¸§ä¹‹é—´çš„å·®å¼‚ï¼Œåªå­˜å‚¨å¸§ä¹‹å‰çš„å·®å¼‚ï¼Œè€Œä¸æ˜¯å­˜å‚¨å…¨å¸§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210503115211.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡ TweakPNG è½¯ä»¶è§‚å¯Ÿ IDAT å›¾åƒæ•°æ®å—å’Œ fdAT å¸§æ•°æ®å—çš„å¤§å°ï¼Œå¯ä»¥æ˜æ˜¾çš„çœ‹å‡ºæ¥å­˜å‚¨å…¨å¸§ä¸å·®å¼‚å¸§çš„åŒºåˆ«ï¼Œä½¿å¾— APNG æ–‡ä»¶å¤§å°æœ‰æ˜¾è‘—çš„å‡å°‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210503115247.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä¸ºä»€ä¹ˆæ²¡æœ‰æ™®åŠ&#34;&gt;ä¸ºä»€ä¹ˆæ²¡æœ‰æ™®åŠï¼Ÿ&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210503115312.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸»è¦çš„åŸå› æ˜¯ç¼ºä¹æµè§ˆå™¨çš„æ”¯æŒï¼Œä» Can I use æŸ¥è¯¢å¯çŸ¥ Firefox ä» 3 åˆ° 49 ç‰ˆæœ¬è‡ªå§‹è‡ªç»ˆæ”¯æŒç€ï¼ŒOpera æ—©æœŸåªæœ‰ä¸‰ä¸ªç‰ˆæœ¬æ”¯æŒè¿‡ï¼ˆ10.1ã€11.5ã€12.1ï¼‰ï¼Œåç»­ç‰ˆæœ¬åˆ™å–æ¶ˆäº†å¯¹ APNG çš„æ”¯æŒï¼Œè€Œ Chromeã€IEã€Edge åˆ™ä»æœªæ”¯æŒè¿‡ APNGï¼ŒChrome å’Œ Opera éƒ½åœ¨æ¨å¹¿è‡ªå®¶çš„ WebPï¼Œè€Œå¾®è½¯åˆ™ä¸€ç›´æ˜¯ä¸ªä¸åˆç¾¤çš„å®¶ä¼™ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œé‡è¦çš„ä¸€ç‚¹æ˜¯ 2014 å¹´ 9 æœˆ 17 å· Apple å‘ç”¨æˆ·æ¨é€äº† iOS 8ï¼Œè¿™æ„å‘³ç€ Safari 8 æ–°å¢äº†å¯¹ APNG çš„æ”¯æŒï¼Œè¿™èƒ½æœ‰æ•ˆçš„æ¨åŠ¨ APNG çš„å‘å±•ï¼Œè‡³å°‘åœ¨ç§»åŠ¨ç«¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç‰¹æ€§æ£€æµ‹&#34;&gt;ç‰¹æ€§æ£€æµ‹&lt;/h3&gt;
&lt;p&gt;æ—¢ç„¶å­˜åœ¨å…¼å®¹é—®é¢˜ï¼Œé‚£å°±éœ€è¦é€šè¿‡åˆ¤æ–­åº”ç”¨åœºæ™¯ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;use strict&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;apngTest&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Image&lt;/span&gt;(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;ctx&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; document.&lt;span style=&#34;color:#a6e22e&#34;&gt;createElement&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;canvas&amp;#34;&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;getContext&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2d&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;apngTest&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;onload&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; () {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;ctx&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;drawImage&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;apngTest&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;self&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;apng_supported&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ctx&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;getImageData&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;data&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;===&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;apngTest&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;src&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACGFjVEwAAAABAAAAAcMq2TYAAAANSURBVAiZY2BgYPgPAAEEAQB9ssjfAAAAGmZjVEwAAAAAAAAAAQAAAAEAAAAAAAAAAAD6A+gBAbNU+2sAAAARZmRBVAAAAAEImWNgYGBgAAAABQAB6MzFdgAAAABJRU5ErkJggg==&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}());
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ–¹æ³•ä¸ WebP æ£€æµ‹ç›¸ä¼¼ï¼ŒåŒæ ·æ˜¯åŠ è½½ä¸€å¼  1x1 åƒç´ å¤§å°çš„ Base64 ç¼–ç å›¾ç‰‡ï¼Œä¸åŒåœ¨äº WebP åŠ è½½å®Œæˆåæ˜¯åˆ¤æ–­å›¾ç‰‡å®½é«˜æ˜¯å¦å¤§äº 1ï¼Œè€Œ APNG åˆ™æ˜¯å°†å…¶ç»˜åˆ¶åˆ°ç”»å¸ƒä¸­ï¼Œé€šè¿‡ getImageData() æ–¹æ³•å»è·å–è¯¥å›¾ç‰‡çš„åƒç´ æ•°æ®ï¼Œä¸»è¦æ˜¯è·å– data[3] çš„ Alpha é€æ˜é€šé“ï¼ˆå€¼çš„èŒƒå›´ï¼š0 - 255ï¼‰ï¼Œå½“è¿”å› 0ï¼ˆ0ä»£è¡¨é€æ˜çš„ï¼‰æ—¶åˆ™è¡¨ç¤ºæ”¯æŒ APNGï¼Œè¿”å› 255ï¼ˆ255 ä»£è¡¨å®Œå…¨å¯è§çš„ï¼‰åˆ™è¡¨ç¤ºä¸æ”¯æŒ APNGã€‚&lt;/p&gt;
&lt;h3 id=&#34;apng-to-canvas&#34;&gt;APNG to Canvas&lt;/h3&gt;
&lt;p&gt;å½“ç„¶ï¼Œç›®å‰ä¹Ÿæœ‰ç”¨äºå…¼å®¹çš„åº“ï¼š &lt;a class=&#34;link&#34; href=&#34;https://github.com/davidmz/apng-canvas&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;apng-canvas&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨è¯¥åº“éœ€è¦ä»¥ä¸‹æ¡ä»¶æ”¯æŒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Canvas&lt;/li&gt;
&lt;li&gt;Typed Arrays&lt;/li&gt;
&lt;li&gt;Blob URLs&lt;/li&gt;
&lt;li&gt;requestAnimationFrame&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;lt;img src=&amp;#34;example.png&amp;#34; class=&amp;#34;apng-image&amp;#34;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;APNG.ifNeeded().then(function() {
    var images = document.querySelectorAll(&amp;#34;.apng-image&amp;#34;);
    for (var i = 0; i &amp;lt; images.length; i++) {
        APNG.animateImage(images[i]);
    }
});
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;åˆ¶ä½œå·¥å…·&#34;&gt;åˆ¶ä½œå·¥å…·&lt;/h3&gt;
&lt;p&gt;åœ¨äº†è§£ APNG åï¼Œæ˜¯ä¸æ˜¯å¿ƒç—’ç—’æƒ³åˆ¶ä½œ APNG å‘¢ï¼Ÿåœ¨åˆ¶ä½œå·¥å…·æ–¹é¢ï¼ŒAPNG å·²ç»ä¸åƒæ—©æœŸé‚£æ ·å·¥å…·åŒ®ä¹äº†ï¼Œ &lt;a class=&#34;link&#34; href=&#34;http://littlesvr.ca/apng/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;APNG Software &lt;/a&gt;ç½‘ç«™ä¸Šæœ‰å¤§é‡çš„åˆ¶ä½œå·¥å…·ï¼Œæœ‰å®¢æˆ·ç«¯ç‰ˆæœ¬ï¼ˆå¤§éƒ¨åˆ†åªæ”¯æŒ Widnowsï¼‰ä¹Ÿæœ‰å‘½ä»¤è¡Œç‰ˆæœ¬ï¼Œå¯ä»¥éå¸¸è½»æ¾çš„åˆ¶ä½œ APNGï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ¬¾è½¯ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Windowså®¢æˆ·ç«¯ - APNG Assembler&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210503115617.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Macå®¢æˆ·ç«¯ - APNGb&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210503121205.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åŠŸèƒ½è¯´æ˜ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Playback Settings å¯è®¾ç½®å¾ªç¯çš„æ¬¡æ•°ï¼Œ0 è¡¨ç¤ºæ— é™å¾ªç¯ï¼Œå¯è·³è¿‡ç¬¬ä¸€å¸§&lt;/li&gt;
&lt;li&gt;Delays - All Frames å¯è®¾ç½®æ‰€æœ‰å¸§æ’­æ”¾æ—¶æ‰€åœç•™çš„æ—¶é—´&lt;/li&gt;
&lt;li&gt;Compression Settings å¯è®¾ç½®å‹ç¼©å‚æ•°ï¼Œæœ‰ä¸‰ç§å‹ç¼©æ–¹å¼ï¼ˆzlibã€7zipã€Zopfliï¼‰ä»¥åŠé¢œè‰²ç±»å‹å’Œè°ƒè‰²æ¿ä¼˜åŒ–&lt;/li&gt;
&lt;li&gt;Delays - Selected Frames å¯è®¾ç½®é€‰ä¸­å¸§æ’­æ”¾æ—¶æ‰€åœç•™çš„æ—¶é—´&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™é‡Œæ¼”ç¤ºå›¾åˆ†åˆ«æ˜¯ Windows ç‰ˆæœ¬å’Œ Mac ç‰ˆæœ¬ï¼ŒåŠŸèƒ½åŸºæœ¬ä¸€è‡´ï¼Œå°†åºåˆ—å¸§å›¾ç‰‡æ‹–æ‹½åˆ°æŒ‡å®šä½ç½®ï¼Œè®¾ç½®ä¸€äº›åŸºæœ¬çš„å‚æ•°å³å¯ç”Ÿæˆ APNG å›¾ï¼ŒMac ç‰ˆæœ¬æ¯” Windows ç‰ˆæœ¬å¤šå‡ºä¸€ä¸ªå°† APNG å›¾ç‰‡ Disassemblyï¼ˆåˆ†è§£ï¼‰åŠŸèƒ½ï¼Œå¯åˆ†è§£ä¸ºå¤šä¸ª PNG å›¾ç‰‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://sourceforge.net/projects/apngasm/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ä¸‹è½½åœ°å€æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;å‚è€ƒèµ„æ–™&lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;http://people.mozilla.org/~dolske/apng/demo.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Animated PNG demos &lt;/a&gt;&lt;a class=&#34;link&#34; href=&#34;http://littlesvr.ca/apng/gif_apng_webp.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GIF vs APNG vs WebP &lt;/a&gt;&lt;a class=&#34;link&#34; href=&#34;http://littlesvr.ca/apng/inter-frame.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Inter-frame Optimization in APNG &lt;/a&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/davidmz/apng-canvas&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;davidmz/apng-canvas - Github &lt;/a&gt;&lt;a class=&#34;link&#34; href=&#34;https://en.wikipedia.org/wiki/GIF&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GIF - Wikipedia &lt;/a&gt;&lt;a class=&#34;link&#34; href=&#34;https://en.wikipedia.org/wiki/APNG&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;APNG - Wikipedia &lt;/a&gt;&lt;a class=&#34;link&#34; href=&#34;https://wiki.mozilla.org/APNG_Specification&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;APNG Specification &lt;/a&gt;&lt;a class=&#34;link&#34; href=&#34;http://caniuse.com/#search=APNG&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Can I use - APNG &lt;/a&gt;&lt;a class=&#34;link&#34; href=&#34;https://zh.wikipedia.org/wiki/PNG&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Portable Network Graphics - Wikipedia &lt;/a&gt;&lt;a class=&#34;link&#34; href=&#34;https://en.wikipedia.org/wiki/Multiple-image_Network_Graphics&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Multiple-image Network Graphics - Wikipedia &lt;/a&gt;&lt;a class=&#34;link&#34; href=&#34;http://littlesvr.ca/apng/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;APNG Software&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://wiki.mozilla.org/APNG_Specification&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://wiki.mozilla.org/APNG_Specification&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://philip.html5.org/tests/apng/tests.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://philip.html5.org/tests/apng/tests.html&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Linux ä¸‹ su å’Œ su - çš„åŒºåˆ«</title>
        <link>https://lxb.wiki/686a477f/</link>
        <pubDate>Sat, 13 Feb 2021 21:24:47 +0000</pubDate>
        
        <guid>https://lxb.wiki/686a477f/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;å¤§éƒ¨åˆ†Linuxå‘è¡Œç‰ˆçš„é»˜è®¤è´¦æˆ·æ˜¯æ™®é€šç”¨æˆ·ï¼Œè€Œæ›´æ”¹ç³»ç»Ÿæ–‡ä»¶æˆ–è€…æ‰§è¡ŒæŸäº›å‘½ä»¤ï¼Œéœ€è¦rootèº«ä»½æ‰èƒ½è¿›è¡Œï¼Œè¿™å°±éœ€è¦ä»å½“å‰ç”¨æˆ·åˆ‡æ¢åˆ°rootç”¨æˆ·ã€‚Linuxä¸­åˆ‡æ¢ç”¨æˆ·çš„å‘½ä»¤æ˜¯suæˆ–su -ã€‚å‰å¤©æˆ‘åœ¨ä½¿ç”¨useraddè¿™ä¸ªå‘½ä»¤æ—¶ï¼Œæ‰ä½“ä¼šåˆ°è¿™ä¸¤è€…çš„æœ¬è´¨åŒºåˆ«ã€‚å¦‚å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210503112328.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘é¦–å…ˆæ˜¯ç”¨suå‘½ä»¤åˆ‡æ¢åˆ°rootèº«ä»½çš„ï¼Œä½†æ˜¯è¿è¡Œuseraddæ—¶ï¼Œå‡ºç°é”™è¯¯ï¼šbash: useradd: command not foundã€‚googleäº†ä¸€ä¸‹ï¼ŒåŸå› æ˜¯åœ¨è¿™ä¸ªç”¨suå‘½ä»¤åˆ‡æ¢è¿‡æ¥çš„rootç”¨æˆ·ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;suå‘½ä»¤å’Œsu -å‘½ä»¤æœ€å¤§çš„æœ¬è´¨åŒºåˆ«å°±æ˜¯ï¼šå‰è€…åªæ˜¯åˆ‡æ¢äº†rootèº«ä»½ï¼Œä½†Shellç¯å¢ƒä»ç„¶æ˜¯æ™®é€šç”¨æˆ·çš„Shellï¼›è€Œåè€…è¿ç”¨æˆ·å’ŒShellç¯å¢ƒä¸€èµ·åˆ‡æ¢æˆrootèº«ä»½äº†ã€‚åªæœ‰åˆ‡æ¢äº†Shellç¯å¢ƒæ‰ä¸ä¼šå‡ºç°PATHç¯å¢ƒå˜é‡é”™è¯¯ã€‚suåˆ‡æ¢æˆrootç”¨æˆ·ä»¥åï¼Œpwdä¸€ä¸‹ï¼Œå‘ç°å·¥ä½œç›®å½•ä»ç„¶æ˜¯æ™®é€šç”¨æˆ·çš„å·¥ä½œç›®å½•ï¼›è€Œç”¨su -å‘½ä»¤åˆ‡æ¢ä»¥åï¼Œå·¥ä½œç›®å½•å˜æˆrootçš„å·¥ä½œç›®å½•äº†ã€‚ç”¨echo $PATHå‘½ä»¤çœ‹ä¸€ä¸‹suå’Œsu -ä»¥åçš„ç¯å¢ƒå˜é‡æœ‰ä½•ä¸åŒã€‚ä»¥æ­¤ç±»æ¨ï¼Œè¦ä»å½“å‰ç”¨æˆ·åˆ‡æ¢åˆ°å…¶å®ƒç”¨æˆ·ä¹Ÿä¸€æ ·ï¼Œåº”è¯¥ä½¿ç”¨su -å‘½ä»¤ã€‚&lt;/strong&gt; å¦‚å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210503112427.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>raft ç®—æ³•</title>
        <link>https://lxb.wiki/3d118e3a/</link>
        <pubDate>Sat, 06 Feb 2021 20:36:12 +0000</pubDate>
        
        <guid>https://lxb.wiki/3d118e3a/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h1 id=&#34;æ‹œå åº­å°†å†›é—®é¢˜&#34;&gt;æ‹œå åº­å°†å†›é—®é¢˜&lt;/h1&gt;
&lt;p&gt;æ‹œå åº­å°†å†›é—®é¢˜æ˜¯ Leslie Lamport åœ¨ &lt;a class=&#34;link&#34; href=&#34;https://web.archive.org/web/20170205142845/http://lamport.azurewebsites.net/pubs/byz.pdf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;The Byzantine Generals Problem&lt;/a&gt; è®ºæ–‡ä¸­æå‡ºçš„åˆ†å¸ƒå¼é¢†åŸŸçš„å®¹é”™é—®é¢˜ï¼Œå®ƒæ˜¯åˆ†å¸ƒå¼é¢†åŸŸä¸­æœ€å¤æ‚ã€æœ€ä¸¥æ ¼çš„å®¹é”™æ¨¡å‹ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¯¥æ¨¡å‹ä¸‹ï¼Œç³»ç»Ÿä¸ä¼šå¯¹é›†ç¾¤ä¸­çš„èŠ‚ç‚¹åšä»»ä½•çš„é™åˆ¶ï¼Œå®ƒä»¬å¯ä»¥å‘å…¶ä»–èŠ‚ç‚¹å‘é€éšæœºæ•°æ®ã€é”™è¯¯æ•°æ®ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä¸å“åº”å…¶ä»–èŠ‚ç‚¹çš„è¯·æ±‚ï¼Œè¿™äº›æ— æ³•é¢„æµ‹çš„è¡Œä¸ºä½¿å¾—å®¹é”™è¿™ä¸€é—®é¢˜å˜å¾—æ›´åŠ å¤æ‚ã€‚&lt;/p&gt;
&lt;p&gt;æ‹œå åº­å°†å†›é—®é¢˜æè¿°äº†ä¸€ä¸ªå¦‚ä¸‹çš„åœºæ™¯ï¼Œæœ‰ä¸€ç»„å°†å†›åˆ†åˆ«æŒ‡æŒ¥ä¸€éƒ¨åˆ†å†›é˜Ÿï¼Œæ¯ä¸€ä¸ªå°†å†›éƒ½ä¸çŸ¥é“å…¶å®ƒå°†å†›æ˜¯å¦æ˜¯å¯é çš„ï¼Œä¹Ÿä¸çŸ¥é“å…¶ä»–å°†å†›ä¼ é€’çš„ä¿¡æ¯æ˜¯å¦å¯é ï¼Œä½†æ˜¯å®ƒä»¬éœ€è¦é€šè¿‡æŠ•ç¥¨é€‰æ‹©æ˜¯å¦è¦è¿›æ”»æˆ–è€…æ’¤é€€ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226204025.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œé»„è‰²ä»£è¡¨çŠ¶æ€æœªçŸ¥ï¼Œç»¿è‰²ä»£è¡¨è¿›æ”»ï¼Œè“è‰²ä»£è¡¨æ’¤é€€ï¼Œæœ€åçº¢è‰²ä»£è¡¨å½“å‰å°†å†›çš„ä¿¡æ¯ä¸å¯é ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™æ—¶ï¼Œæ— è®ºå°†å†›æ˜¯å¦å¯é ï¼Œåªè¦æ‰€æœ‰çš„å°†å†›è¾¾æˆäº†ç»Ÿä¸€çš„æ–¹æ¡ˆï¼Œé€‰æ‹©è¿›æ”»æˆ–è€…æ’¤é€€å…¶å®å°±æ˜¯æ²¡æœ‰ä»»ä½•é—®é¢˜çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226204121.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šè¿°çš„æƒ…å†µä¸ä¼šå¯¹å½“å‰çš„æˆ˜å±€æœ‰å¤ªå¤šçš„å½±å“ï¼Œä¹Ÿä¸ä¼šé€ æˆæŸå¤±ï¼Œä½†æ˜¯å¦‚æœå…¶ä¸­çš„ä¸€ä¸ªå°†å†›å‘Šè¯‰å…¶ä¸­ä¸€éƒ¨åˆ†å°†å†›é€‰æ‹©è¿›æ”»ã€å¦ä¸€éƒ¨åˆ†é€‰æ‹©æ’¤é€€ï¼Œå°±ä¼šå‡ºç°éå¸¸ä¸¥é‡çš„é—®é¢˜äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226204149.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç”±äºå°†å†›çš„é˜Ÿä¼ä¸­å‡ºäº†ä¸€ä¸ªå›å¾’æˆ–è€…ä¿¡æ¯åœ¨ä¼ é€’çš„è¿‡ç¨‹ä¸­è¢«æ‹¦æˆªï¼Œä¼šå¯¼è‡´ä¸€éƒ¨åˆ†å°†å†›ä¼šé€‰æ‹©è¿›æ”»ï¼Œå‰©ä¸‹çš„ä¸€éƒ¨åˆ†ä¼šé€‰æ‹©æ’¤é€€ï¼Œå®ƒä»¬éƒ½è®¤ä¸ºè‡ªå·±çš„é€‰æ‹©æ˜¯å¤§å¤šæ•°äººçš„é€‰æ‹©ï¼Œè¿™æ—¶å°±å‡ºç°äº†ä¸¥é‡çš„ä¸ä¸€è‡´é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æ‹œå åº­å°†å†›é—®é¢˜æ˜¯å¯¹åˆ†å¸ƒå¼ç³»ç»Ÿå®¹é”™çš„æœ€é«˜è¦æ±‚ï¼Œç„¶è€Œè¿™ä¸æ˜¯æ—¥å¸¸å·¥ä½œä¸­ä½¿ç”¨çš„å¤§å¤šæ•°åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¼šé¢å¯¹çš„é—®é¢˜ï¼Œæˆ‘ä»¬é‡åˆ°æ›´å¤šçš„è¿˜æ˜¯èŠ‚ç‚¹æ•…éšœå®•æœºæˆ–è€…ä¸å“åº”ç­‰æƒ…å†µï¼Œè¿™å°±å¤§å¤§ç®€åŒ–äº†ç³»ç»Ÿå¯¹å®¹é”™çš„è¦æ±‚ï¼›ä¸è¿‡ç±»ä¼¼ Bitcoinã€Ethereum ç­‰åˆ†å¸ƒå¼ç³»ç»Ÿç¡®å®éœ€è¦è€ƒè™‘æ‹œå åº­å®¹é”™çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹	æ‹œå åº­å°†å†›é—®é¢˜æ˜¯åˆ†å¸ƒå¼é¢†åŸŸæœ€å¤æ‚ã€æœ€ä¸¥æ ¼çš„å®¹é”™æ¨¡å‹ã€‚ä½†åœ¨æ—¥å¸¸å·¥ä½œä¸­ä½¿ç”¨çš„åˆ†å¸ƒå¼ç³»ç»Ÿé¢å¯¹çš„é—®é¢˜ä¸ä¼šé‚£ä¹ˆå¤æ‚ï¼Œæ›´å¤šçš„æ˜¯è®¡ç®—æœºæ•…éšœæŒ‚æ‰äº†ï¼Œæˆ–è€…ç½‘ç»œé€šä¿¡é—®é¢˜è€Œæ²¡æ³•ä¼ é€’ä¿¡æ¯ï¼Œè¿™ç§æƒ…å†µä¸è€ƒè™‘è®¡ç®—æœºä¹‹é—´äº’ç›¸å‘é€æ¶æ„ä¿¡æ¯ï¼Œæå¤§ç®€åŒ–äº†ç³»ç»Ÿå¯¹å®¹é”™çš„è¦æ±‚ï¼Œæœ€ä¸»è¦çš„æ˜¯è¾¾åˆ°ä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ‰€ä»¥å°†æ‹œå åº­å°†å†›é—®é¢˜æ ¹æ®å¸¸è§çš„å·¥ä½œä¸Šçš„é—®é¢˜è¿›è¡Œç®€åŒ–ï¼š&lt;strong&gt;å‡è®¾å°†å†›ä¸­æ²¡æœ‰å›å†›ï¼Œä¿¡ä½¿çš„ä¿¡æ¯å¯é ä½†æœ‰å¯èƒ½è¢«æš—æ€çš„æƒ…å†µä¸‹ï¼Œå°†å†›ä»¬å¦‚ä½•è¾¾æˆä¸€è‡´æ€§å†³å®šï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºè¿™ä¸ªç®€åŒ–åçš„é—®é¢˜ï¼Œæœ‰è®¸å¤šè§£å†³æ–¹æ¡ˆï¼Œç¬¬ä¸€ä¸ªè¢«è¯æ˜çš„å…±è¯†ç®—æ³•æ˜¯ Paxosï¼Œç”±æ‹œå åº­å°†å†›é—®é¢˜çš„ä½œè€… Leslie Lamport åœ¨1990å¹´æå‡ºï¼Œæœ€åˆä»¥è®ºæ–‡éš¾æ‡‚è€Œå‡ºåï¼Œåæ¥è¿™å“¥ä»¬åœ¨2001é‡æ–°å‘äº†ä¸€ç¯‡ç®€å•ç‰ˆçš„è®ºæ–‡ &lt;a class=&#34;link&#34; href=&#34;https://link.jianshu.com?t=%5Bhttps%3A%2F%2Flamport.azurewebsites.net%2Fpubs%2Fpaxos-simple.pdf%5D%28https%3A%2F%2Flamport.azurewebsites.net%2Fpubs%2Fpaxos-simple.pdf%29&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Paxos Made Simple&lt;/a&gt;ï¼Œç„¶è€Œè¿˜æ˜¯æŒºéš¾æ‡‚çš„ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸º Paxos éš¾æ‡‚ï¼Œéš¾å®ç°ï¼Œæ‰€ä»¥æ–¯å¦ç¦å¤§å­¦çš„æ•™æˆåœ¨2014å¹´å‘è¡¨äº†æ–°çš„åˆ†å¸ƒå¼åè®® Raftã€‚ä¸ Paxos ç›¸æ¯”ï¼ŒRaft æœ‰ç€åŸºæœ¬ç›¸åŒè¿è¡Œæ•ˆç‡ï¼Œä½†æ˜¯æ›´å®¹æ˜“ç†è§£ï¼Œä¹Ÿæ›´å®¹æ˜“è¢«ç”¨åœ¨ç³»ç»Ÿå¼€å‘ä¸Šã€‚&lt;/p&gt;
&lt;h1 id=&#34;é’ˆå¯¹ç®€åŒ–ç‰ˆæ‹œå åº­å°†å†›é—®é¢˜raft-è§£å†³æ–¹æ¡ˆç±»æ¯”&#34;&gt;é’ˆå¯¹ç®€åŒ–ç‰ˆæ‹œå åº­å°†å†›é—®é¢˜ï¼ŒRaft è§£å†³æ–¹æ¡ˆç±»æ¯”&lt;/h1&gt;
&lt;p&gt;æˆ‘ä»¬è¿˜æ˜¯ç”¨æ‹œå åº­å°†å†›çš„ä¾‹å­æ¥å¸®åŠ©ç†è§£ Raftã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹	å‡è®¾å°†å†›ä¸­æ²¡æœ‰å›å†›ï¼Œä¿¡ä½¿çš„ä¿¡æ¯å¯é ä½†æœ‰å¯èƒ½è¢«æš—æ€çš„æƒ…å†µä¸‹ï¼Œå°†å†›ä»¬å¦‚ä½•è¾¾æˆä¸€è‡´æ€§å†³å®šï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Raft çš„è§£å†³æ–¹æ¡ˆå¤§æ¦‚å¯ä»¥ç†è§£æˆ å…ˆåœ¨æ‰€æœ‰å°†å†›ä¸­é€‰å‡ºä¸€ä¸ªå¤§å°†å†›ï¼Œæ‰€æœ‰çš„å†³å®šç”±å¤§å°†å†›æ¥åšã€‚&lt;strong&gt;é€‰ä¸¾ç¯èŠ‚&lt;/strong&gt;ï¼šæ¯”å¦‚è¯´ç°åœ¨ä¸€å…±æœ‰3ä¸ªå°†å†› A, B, Cï¼Œæ¯ä¸ªå°†å†›éƒ½æœ‰ä¸€ä¸ª&lt;strong&gt;éšæœºæ—¶é—´&lt;/strong&gt;çš„å€’è®¡æ—¶å™¨ï¼Œå€’è®¡æ—¶ä¸€ç»“æŸï¼Œè¿™ä¸ªå°†å†›å°±ä¼šæŠŠè‡ªå·±å½“æˆå¤§å°†å†›å€™é€‰äººï¼Œç„¶åæ´¾ä¿¡ä½¿å»é—®å…¶ä»–å‡ ä¸ªå°†å†›ï¼Œèƒ½ä¸èƒ½é€‰æˆ‘ä¸ºæ€»å°†å†›ï¼Ÿå‡è®¾ç°åœ¨å°†å†›Aå€’è®¡æ—¶ç»“æŸäº†ï¼Œä»–æ´¾ä¿¡ä½¿ä¼ é€’é€‰ä¸¾æŠ•ç¥¨çš„ä¿¡æ¯ç»™å°†å†›Bå’ŒCï¼Œå¦‚æœå°†å†›Bå’ŒCè¿˜æ²¡æŠŠè‡ªå·±å½“æˆå€™é€‰äººï¼ˆå€’è®¡æ—¶è¿˜æ²¡æœ‰ç»“æŸï¼‰ï¼Œå¹¶ä¸”æ²¡æœ‰æŠŠé€‰ä¸¾ç¥¨æŠ•ç»™å…¶ä»–ï¼Œä»–ä»¬æŠŠç¥¨æŠ•ç»™å°†å†›Aï¼Œä¿¡ä½¿åœ¨å›åˆ°å°†å†›Aæ—¶ï¼Œå°†å†›AçŸ¥é“è‡ªå·±æ”¶åˆ°äº†è¶³å¤Ÿçš„ç¥¨æ•°ï¼Œæˆä¸ºäº†å¤§å°†å†›ã€‚åœ¨è¿™ä¹‹åï¼Œæ˜¯å¦è¦è¿›æ”»å°±ç”±å¤§å°†å†›å†³å®šï¼Œç„¶åæ´¾ä¿¡ä½¿å»é€šçŸ¥å¦å¤–ä¸¤ä¸ªå°†å†›ï¼Œå¦‚æœåœ¨ä¸€æ®µæ—¶é—´åè¿˜æ²¡æœ‰æ”¶åˆ°å›å¤ï¼ˆå¯èƒ½ä¿¡ä½¿è¢«æš—æ€ï¼‰ï¼Œé‚£å°±å†é‡æ´¾ä¸€ä¸ªä¿¡ä½¿ï¼Œç›´åˆ°æ”¶åˆ°å›å¤ã€‚&lt;/p&gt;
&lt;p&gt;æ•…äº‹å…ˆè®²åˆ°è¿™é‡Œï¼Œå¸Œæœ›ä¸åšæŠ€æœ¯æ–¹é¢çš„æœ‹å‹å¯ä»¥å¤§æ¦‚èƒ½ç†è§£ Raft çš„åŸç†ï¼Œä¸‹é¢ä»æ¯”è¾ƒæŠ€æœ¯çš„è§’åº¦è®²è®² Raft çš„åŸç†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;1-raft-èŠ‚ç‚¹çŠ¶æ€&#34;&gt;1. Raft èŠ‚ç‚¹çŠ¶æ€&lt;/h2&gt;
&lt;p&gt;ä»æ‹œå åº­å°†å†›çš„æ•…äº‹æ˜ å°„åˆ°åˆ†å¸ƒå¼ç³»ç»Ÿä¸Šï¼Œæ¯ä¸ªå°†å†›ç›¸å½“äºä¸€ä¸ªåˆ†å¸ƒå¼ç½‘ç»œèŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰&lt;strong&gt;ä¸‰ç§çŠ¶æ€ï¼šFollowerï¼ŒCandidateï¼ŒLeader&lt;/strong&gt;ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯äº’ç›¸è½¬æ¢çš„ï¼Œå¯ä»¥å‚è€ƒä¸‹å›¾ï¼Œå…·ä½“çš„åé¢è¯´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226204532.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªèŠ‚ç‚¹ä¸Šéƒ½æœ‰ä¸€ä¸ªå€’è®¡æ—¶å™¨ (Election Timeout)ï¼Œæ—¶é—´éšæœºåœ¨ 150ms åˆ° 300ms ä¹‹é—´ã€‚æœ‰å‡ ç§æƒ…å†µä¼šé‡è®¾ Timeoutï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ”¶åˆ°é€‰ä¸¾çš„è¯·æ±‚&lt;/li&gt;
&lt;li&gt;æ”¶åˆ° Leader çš„ Heartbeat (åé¢ä¼šè®²åˆ°)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨ Raft è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæœ€ä¸»è¦è¿›è¡Œä¸¤ä¸ªæ´»åŠ¨ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é€‰ä¸» Leader Election&lt;/li&gt;
&lt;li&gt;å¤åˆ¶æ—¥å¿— Log Replication&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-é€‰ä¸»-leader-election&#34;&gt;2. é€‰ä¸» Leader Election&lt;/h2&gt;
&lt;h3 id=&#34;21-æ­£å¸¸æƒ…å†µä¸‹é€‰ä¸»&#34;&gt;2.1 æ­£å¸¸æƒ…å†µä¸‹é€‰ä¸»&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226204600.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å‡è®¾ç°åœ¨æœ‰å¦‚å›¾5ä¸ªèŠ‚ç‚¹ï¼Œ5ä¸ªèŠ‚ç‚¹ä¸€å¼€å§‹çš„çŠ¶æ€éƒ½æ˜¯ Followerã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226204614.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ä¸€ä¸ªèŠ‚ç‚¹å€’è®¡æ—¶ç»“æŸ (Timeout) åï¼Œè¿™ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€å˜æˆ Candidate å¼€å§‹é€‰ä¸¾ï¼Œå®ƒç»™å…¶ä»–å‡ ä¸ªèŠ‚ç‚¹å‘é€é€‰ä¸¾è¯·æ±‚ (RequestVote)&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226204652.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä»–å››ä¸ªèŠ‚ç‚¹éƒ½è¿”å›æˆåŠŸï¼Œè¿™ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€ç”± Candidate å˜æˆäº† Leaderï¼Œå¹¶åœ¨æ¯ä¸ªä¸€å°æ®µæ—¶é—´åï¼Œå°±ç»™æ‰€æœ‰çš„ Follower å‘é€ä¸€ä¸ª Heartbeat ä»¥ä¿æŒæ‰€æœ‰èŠ‚ç‚¹çš„çŠ¶æ€ï¼ŒFollower æ”¶åˆ° Leader çš„ Heartbeat åé‡è®¾ Timeoutã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯æœ€ç®€å•çš„é€‰ä¸»æƒ…å†µï¼Œ&lt;strong&gt;åªè¦æœ‰è¶…è¿‡ä¸€åŠçš„èŠ‚ç‚¹æŠ•æ”¯æŒç¥¨äº†ï¼ŒCandidate æ‰ä¼šè¢«é€‰ä¸¾ä¸º Leader&lt;/strong&gt;ï¼Œ5ä¸ªèŠ‚ç‚¹çš„æƒ…å†µä¸‹ï¼Œ3ä¸ªèŠ‚ç‚¹ (åŒ…æ‹¬ Candidate æœ¬èº«) æŠ•äº†æ”¯æŒå°±è¡Œã€‚&lt;/p&gt;
&lt;h3 id=&#34;22-leader-å‡ºæ•…éšœæƒ…å†µä¸‹çš„é€‰ä¸»&#34;&gt;2.2 Leader å‡ºæ•…éšœæƒ…å†µä¸‹çš„é€‰ä¸»&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226204743.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸€å¼€å§‹å·²ç»æœ‰ä¸€ä¸ª Leaderï¼Œæ‰€æœ‰èŠ‚ç‚¹æ­£å¸¸è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226204807.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Leader å‡ºæ•…éšœæŒ‚æ‰äº†ï¼Œå…¶ä»–å››ä¸ª Follower å°†è¿›è¡Œé‡æ–°é€‰ä¸»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226204831.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226204909.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226204929.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;4ä¸ªèŠ‚ç‚¹çš„é€‰ä¸»è¿‡ç¨‹å’Œ5ä¸ªèŠ‚ç‚¹çš„ç±»ä¼¼ï¼Œåœ¨é€‰å‡ºä¸€ä¸ªæ–°çš„ Leader åï¼ŒåŸæ¥çš„ Leader æ¢å¤äº†åˆé‡æ–°åŠ å…¥äº†ï¼Œè¿™ä¸ªæ—¶å€™æ€ä¹ˆå¤„ç†ï¼Ÿåœ¨ Raft é‡Œï¼Œç¬¬å‡ è½®é€‰ä¸¾æ˜¯æœ‰è®°å½•çš„ï¼Œé‡æ–°åŠ å…¥çš„ Leader æ˜¯ç¬¬ä¸€è½®é€‰ä¸¾ (Term 1) é€‰å‡ºæ¥çš„ï¼Œè€Œç°åœ¨çš„ Leader åˆ™æ˜¯ Term 2ï¼Œæ‰€æœ‰åŸæ¥çš„ Leader ä¼šè‡ªè§‰é™çº§ä¸º Follower&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205008.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;23-å¤šä¸ª-candidate-æƒ…å†µä¸‹çš„é€‰ä¸»&#34;&gt;2.3 å¤šä¸ª Candidate æƒ…å†µä¸‹çš„é€‰ä¸»&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205055.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å‡è®¾ä¸€å¼€å§‹æœ‰4ä¸ªèŠ‚ç‚¹ï¼Œéƒ½è¿˜æ˜¯ Followerã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205115.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æœ‰ä¸¤ä¸ª Follower åŒæ—¶ Timeoutï¼Œéƒ½å˜æˆäº† Candidate å¼€å§‹é€‰ä¸¾ï¼Œåˆ†åˆ«ç»™ä¸€ä¸ª Follower å‘é€äº†æŠ•ç¥¨è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205141.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸¤ä¸ª Follower åˆ†åˆ«è¿”å›äº†okï¼Œè¿™æ—¶ä¸¤ä¸ª Candidate éƒ½åªæœ‰2ç¥¨ï¼Œè¦3ç¥¨æ‰èƒ½è¢«é€‰æˆ Leaderã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205210.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸¤ä¸ª Candidate ä¼šåˆ†åˆ«ç»™å¦å¤–ä¸€ä¸ªè¿˜æ²¡æœ‰ç»™è‡ªå·±æŠ•ç¥¨çš„ Follower å‘é€æŠ•ç¥¨è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205227.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å› ä¸º Follower åœ¨è¿™ä¸€è½®é€‰ä¸¾ä¸­ï¼Œéƒ½å·²ç»æŠ•å®Œç¥¨äº†ï¼Œæ‰€ä»¥éƒ½æ‹’ç»äº†ä»–ä»¬çš„è¯·æ±‚ã€‚æ‰€ä»¥åœ¨ Term 2 æ²¡æœ‰ Leader è¢«é€‰å‡ºæ¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205242.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ—¶ï¼Œä¸¤ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€æ˜¯ Candidateï¼Œä¸¤ä¸ªæ˜¯ Followerï¼Œä½†æ˜¯ä»–ä»¬çš„å€’è®¡æ—¶å™¨ä»ç„¶åœ¨è¿è¡Œï¼Œæœ€å…ˆ Timeout çš„é‚£ä¸ªèŠ‚ç‚¹ä¼šè¿›è¡Œå‘èµ·æ–°ä¸€è½® Term 3 çš„æŠ•ç¥¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205257.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸¤ä¸ª Follower åœ¨ Term 3 è¿˜æ²¡æŠ•è¿‡ç¥¨ï¼Œæ‰€ä»¥è¿”å› OKï¼Œè¿™æ—¶ Candidate ä¸€å…±æœ‰ä¸‰ç¥¨ï¼Œè¢«é€‰ä¸ºäº† Leaderã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205319.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœ Leader Heartbeat çš„æ—¶é—´æ™šäºå¦å¤–ä¸€ä¸ª Candidate timeout çš„æ—¶é—´ï¼Œå¦å¤–ä¸€ä¸ª Candidate ä»ç„¶ä¼šå‘é€é€‰ä¸¾è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205340.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸¤ä¸ª Follower å·²ç»æŠ•å®Œç¥¨äº†ï¼Œæ‹’ç»äº†è¿™ä¸ª Candidate çš„æŠ•ç¥¨è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205354.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Leader è¿›è¡Œ Heartbeatï¼Œ Candidate æ”¶åˆ°åçŠ¶æ€è‡ªåŠ¨è½¬ä¸º Followerï¼Œå®Œæˆé€‰ä¸»ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šæ˜¯ Raft æœ€é‡è¦æ´»åŠ¨ä¹‹ä¸€é€‰ä¸»çš„ä»‹ç»ï¼Œä»¥åŠåœ¨ä¸åŒæƒ…å†µä¸‹å¦‚ä½•è¿›è¡Œé€‰ä¸»ã€‚&lt;/p&gt;
&lt;h2 id=&#34;3-å¤åˆ¶æ—¥å¿—-log-replication&#34;&gt;3. å¤åˆ¶æ—¥å¿— Log Replication&lt;/h2&gt;
&lt;h3 id=&#34;31-æ­£å¸¸æƒ…å†µä¸‹å¤åˆ¶æ—¥å¿—&#34;&gt;3.1 æ­£å¸¸æƒ…å†µä¸‹å¤åˆ¶æ—¥å¿—&lt;/h3&gt;
&lt;p&gt;Raft åœ¨å®é™…åº”ç”¨åœºæ™¯ä¸­çš„ä¸€è‡´æ€§æ›´å¤šçš„æ˜¯ä½“ç°åœ¨ä¸åŒèŠ‚ç‚¹ä¹‹é—´çš„æ•°æ®ä¸€è‡´æ€§ï¼Œå®¢æˆ·ç«¯å‘é€è¯·æ±‚åˆ°ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹éƒ½èƒ½æ”¶åˆ°ä¸€è‡´çš„è¿”å›ï¼Œå½“ä¸€ä¸ªèŠ‚ç‚¹å‡ºæ•…éšœåï¼Œå…¶ä»–èŠ‚ç‚¹ä»ç„¶èƒ½ä»¥å·²æœ‰çš„æ•°æ®æ­£å¸¸è¿›è¡Œã€‚åœ¨é€‰ä¸»ä¹‹åçš„å¤åˆ¶æ—¥å¿—å°±æ˜¯ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205420.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸€å¼€å§‹ï¼ŒLeader å’Œ ä¸¤ä¸ª Follower éƒ½æ²¡æœ‰ä»»ä½•æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205438.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å®¢æˆ·ç«¯å‘é€è¯·æ±‚ç»™ Leaderï¼Œå‚¨å­˜æ•°æ® â€œsallyâ€ï¼ŒLeader å…ˆå°†æ•°æ®å†™åœ¨æœ¬åœ°æ—¥å¿—ï¼Œè¿™æ—¶å€™æ•°æ®è¿˜æ˜¯ &lt;strong&gt;Uncommitted&lt;/strong&gt; (è¿˜æ²¡æœ€ç»ˆç¡®è®¤ï¼Œçº¢è‰²è¡¨ç¤º)&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205539.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Leader ç»™ä¸¤ä¸ª Follower å‘é€ AppendEntries è¯·æ±‚ï¼Œæ•°æ®åœ¨ Follower ä¸Šæ²¡æœ‰å†²çªï¼Œåˆ™å°†æ•°æ®æš‚æ—¶å†™åœ¨æœ¬åœ°æ—¥å¿—ï¼ŒFollower çš„æ•°æ®ä¹Ÿè¿˜æ˜¯ Uncommittedã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205616.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Follower å°†æ•°æ®å†™åˆ°æœ¬åœ°åï¼Œè¿”å› OKã€‚Leader æ”¶åˆ°åæˆåŠŸè¿”å›ï¼Œ&lt;strong&gt;åªè¦æ”¶åˆ°çš„æˆåŠŸçš„è¿”å›æ•°é‡è¶…è¿‡åŠæ•° (åŒ…å«Leader)&lt;/strong&gt;ï¼ŒLeader å°†æ•°æ® â€œsallyâ€ çš„çŠ¶æ€æ”¹æˆ Committedã€‚( è¿™ä¸ªæ—¶å€™ Leader å°±å¯ä»¥è¿”å›ç»™å®¢æˆ·ç«¯äº†)&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205634.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Leader å†æ¬¡ç»™ Follower å‘é€ AppendEntries è¯·æ±‚ï¼Œæ”¶åˆ°è¯·æ±‚åï¼ŒFollower å°†æœ¬åœ°æ—¥å¿—é‡Œ Uncommitted æ•°æ®æ”¹æˆ Committedã€‚è¿™æ ·å°±å®Œæˆäº†ä¸€æ•´ä¸ªå¤åˆ¶æ—¥å¿—çš„è¿‡ç¨‹ï¼Œä¸‰ä¸ªèŠ‚ç‚¹çš„æ•°æ®æ˜¯ä¸€è‡´çš„ï¼Œ&lt;/p&gt;
&lt;h3 id=&#34;32-network-partition-æƒ…å†µä¸‹è¿›è¡Œå¤åˆ¶æ—¥å¿—&#34;&gt;3.2 Network Partition æƒ…å†µä¸‹è¿›è¡Œå¤åˆ¶æ—¥å¿—&lt;/h3&gt;
&lt;p&gt;åœ¨ Network Partition çš„æƒ…å†µä¸‹ï¼Œéƒ¨åˆ†èŠ‚ç‚¹ä¹‹é—´æ²¡åŠæ³•äº’ç›¸é€šä¿¡ï¼ŒRaft ä¹Ÿèƒ½ä¿è¯åœ¨è¿™ç§æƒ…å†µä¸‹æ•°æ®çš„ä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205655.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸€å¼€å§‹æœ‰ 5 ä¸ªèŠ‚ç‚¹å¤„äºåŒä¸€ç½‘ç»œçŠ¶æ€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205712.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Network Partition å°†èŠ‚ç‚¹åˆ†æˆä¸¤è¾¹ï¼Œä¸€è¾¹æœ‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œä¸€è¾¹ä¸‰ä¸ªèŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205803.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸¤ä¸ªèŠ‚ç‚¹è¿™è¾¹å·²ç»æœ‰ Leader äº†ï¼Œæ¥è‡ªå®¢æˆ·ç«¯çš„æ•°æ® â€œbobâ€ é€šè¿‡ Leader åŒæ­¥åˆ° Followerã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205819.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å› ä¸ºåªæœ‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œå°‘äº3ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥ â€œbobâ€ çš„çŠ¶æ€ä»æ˜¯ Uncommittedã€‚æ‰€ä»¥åœ¨è¿™é‡Œï¼Œ&lt;strong&gt;æœåŠ¡å™¨ä¼šè¿”å›é”™è¯¯ç»™å®¢æˆ·ç«¯&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205832.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¦å¤–ä¸€ä¸ª Partition æœ‰ä¸‰ä¸ªèŠ‚ç‚¹ï¼Œè¿›è¡Œé‡æ–°é€‰ä¸»ã€‚å®¢æˆ·ç«¯æ•°æ® â€œtomâ€ å‘åˆ°æ–°çš„ Leaderï¼Œé€šè¿‡å’Œä¸ŠèŠ‚ç½‘ç»œçŠ¶æ€ä¸‹ç›¸ä¼¼çš„è¿‡ç¨‹ï¼ŒåŒæ­¥åˆ°å¦å¤–ä¸¤ä¸ª Followerã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205851.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226205919.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226210105.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å› ä¸ºè¿™ä¸ª Partition æœ‰3ä¸ªèŠ‚ç‚¹ï¼Œè¶…è¿‡åŠæ•°ï¼Œæ‰€ä»¥æ•°æ® â€œtomâ€ éƒ½ Commit äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226210129.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç½‘ç»œçŠ¶æ€æ¢å¤ï¼Œ5ä¸ªèŠ‚ç‚¹å†æ¬¡å¤„äºåŒä¸€ä¸ªç½‘ç»œçŠ¶æ€ä¸‹ã€‚ä½†æ˜¯è¿™é‡Œå‡ºç°äº†æ•°æ®å†²çª â€œbob&amp;quot; å’Œ â€œtom&amp;quot;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226210159.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸‰ä¸ªèŠ‚ç‚¹çš„ Leader å¹¿æ’­ AppendEntries&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226210245.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸¤ä¸ªèŠ‚ç‚¹ Partition çš„ Leader è‡ªåŠ¨é™çº§ä¸º Followerï¼Œå› ä¸ºè¿™ä¸ª Partition çš„æ•°æ® â€œbobâ€ æ²¡æœ‰ Commitï¼Œè¿”å›ç»™å®¢æˆ·ç«¯çš„æ˜¯é”™è¯¯ï¼Œå®¢æˆ·ç«¯çŸ¥é“è¯·æ±‚æ²¡æœ‰æˆåŠŸï¼Œæ‰€ä»¥ Follower åœ¨æ”¶åˆ° AppendEntries è¯·æ±‚æ—¶ï¼Œå¯ä»¥æŠŠ â€œbobâ€œ åˆ é™¤ï¼Œç„¶ååŒæ­¥ â€tomâ€ï¼Œé€šè¿‡è¿™ä¹ˆä¸€ä¸ªè¿‡ç¨‹ï¼Œå°±å®Œæˆäº†åœ¨ Network Partition æƒ…å†µä¸‹çš„å¤åˆ¶æ—¥å¿—ï¼Œä¿è¯äº†æ•°æ®çš„ä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210226210329.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;å°æ€»ç»“&#34;&gt;å°æ€»ç»“&lt;/h2&gt;
&lt;p&gt;Raft æ˜¯èƒ½å¤Ÿå®ç°åˆ†å¸ƒå¼ç³»ç»Ÿå¼ºä¸€è‡´æ€§çš„ç®—æ³•ï¼Œæ¯ä¸ªç³»ç»ŸèŠ‚ç‚¹æœ‰ä¸‰ç§çŠ¶æ€ Followerï¼ŒCandidateï¼ŒLeaderã€‚å®ç° Raft ç®—æ³•ä¸¤ä¸ªæœ€é‡è¦çš„äº‹æ˜¯ï¼šé€‰ä¸»å’Œå¤åˆ¶æ—¥å¿—&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‚è€ƒé“¾æ¥ï¼š&lt;/strong&gt;
Raft å®˜ç½‘ï¼š&lt;a class=&#34;link&#34; href=&#34;https://link.jianshu.com?t=https%3A%2F%2Fraft.github.io%2F&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://raft.github.io/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Raft åŸç†åŠ¨ç”» (æ¨èçœ‹çœ‹)ï¼š&lt;a class=&#34;link&#34; href=&#34;https://link.jianshu.com?t=http%3A%2F%2Fthesecretlivesofdata.com%2Fraft%2F&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://thesecretlivesofdata.com/raft/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Raft ç®—æ³•è§£æå›¾ç‰‡æ¥æºï¼š&lt;a class=&#34;link&#34; href=&#34;https://link.jianshu.com?t=http%3A%2F%2Fwww.infoq.com%2Fcn%2Farticles%2Fcoreos-analyse-etcd&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://www.infoq.com/cn/articles/coreos-analyse-etcd&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åˆ†å¸ƒå¼ä¸€è‡´æ€§ä¸å…±è¯†ç®—æ³• &lt;a class=&#34;link&#34; href=&#34;https://draveness.me/consensus/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://draveness.me/consensus/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å…±è¯†ç®—æ³•ï¼šRaft &lt;a class=&#34;link&#34; href=&#34;https://www.jianshu.com/p/8e4bbe7e276c&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.jianshu.com/p/8e4bbe7e276c&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘ä½¿ç”¨å­æ¨¡å—å’Œå­æ ‘æ¥ç®¡ç† Git é¡¹ç›®</title>
        <link>https://lxb.wiki/331c3227/</link>
        <pubDate>Wed, 23 Dec 2020 22:11:17 +0000</pubDate>
        
        <guid>https://lxb.wiki/331c3227/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½¿ç”¨å­æ¨¡å—å’Œå­æ ‘æ¥å¸®åŠ©ä½ ç®¡ç†å¤šä¸ªå­˜å‚¨åº“ä¸­å…±æœ‰çš„å­é¡¹ç›®ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210103222058.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ å‚ä¸äº†å¼€æºé¡¹ç›®çš„å¼€å‘ï¼Œé‚£ä¹ˆä½ å¾ˆå¯èƒ½å·²ç»ç”¨äº† Git æ¥ç®¡ç†ä½ çš„æºç ã€‚ä½ å¯èƒ½é‡åˆ°è¿‡æœ‰å¾ˆå¤šä¾èµ–å’Œ/æˆ–å­é¡¹ç›®çš„é¡¹ç›®ã€‚ä½ æ˜¯å¦‚ä½•ç®¡ç†å®ƒä»¬çš„ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¯¹äºä¸€ä¸ªå¼€æºç»„ç»‡ï¼Œè¦å®ç°ç¤¾åŒº&lt;strong&gt;å’Œ&lt;/strong&gt;äº§å“çš„å•ä¸€æ¥æºæ–‡æ¡£å’Œä¾èµ–ç®¡ç†æ¯”è¾ƒæ£˜æ‰‹ã€‚æ–‡æ¡£å’Œé¡¹ç›®å¾€å¾€ä¼šç¢ç‰‡åŒ–å’Œå˜å¾—å†—ä½™ï¼Œè¿™è‡´ä½¿å®ƒä»¬å¾ˆéš¾ç»´æŠ¤ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¿…è¦æ€§&#34;&gt;å¿…è¦æ€§&lt;/h3&gt;
&lt;p&gt;å‡è®¾ä½ æƒ³æŠŠå•ä¸ªé¡¹ç›®ä½œä¸ºä¸€ä¸ªå­˜å‚¨åº“å†…çš„å­é¡¹ç›®ï¼Œä¼ ç»Ÿçš„æ–¹æ³•æ˜¯æŠŠè¯¥é¡¹ç›®å¤åˆ¶åˆ°çˆ¶å­˜å‚¨åº“ä¸­ï¼Œä½†æ˜¯ï¼Œå¦‚æœä½ æƒ³è¦åœ¨å¤šä¸ªçˆ¶é¡¹ç›®ä¸­ä½¿ç”¨åŒä¸€ä¸ªå­é¡¹ç›®å‘¢ï¼Ÿå¦‚æœæŠŠå­é¡¹ç›®å¤åˆ¶åˆ°æ‰€æœ‰çˆ¶é¡¹ç›®ä¸­ï¼Œå½“æœ‰æ›´æ–°æ—¶ï¼Œä½ éƒ½è¦åœ¨æ¯ä¸ªçˆ¶é¡¹ç›®ä¸­åšä¿®æ”¹ï¼Œè¿™æ˜¯ä¸å¤ªå¯è¡Œçš„ã€‚è¿™ä¼šå¯¼è‡´çˆ¶é¡¹ç›®ä¸­çš„å†—ä½™å’Œæ•°æ®ä¸ä¸€è‡´ï¼Œä½¿æ›´æ–°å’Œç»´æŠ¤å­é¡¹ç›®å˜å¾—å¾ˆå›°éš¾ã€‚&lt;/p&gt;
&lt;h3 id=&#34;git-å­æ¨¡å—å’Œå­æ ‘&#34;&gt;Git å­æ¨¡å—å’Œå­æ ‘&lt;/h3&gt;
&lt;p&gt;å¦‚æœä½ å¯ä»¥ç”¨ä¸€æ¡å‘½ä»¤æŠŠä¸€ä¸ªé¡¹ç›®æ”¾è¿›å¦ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œä¼šæ€æ ·å‘¢ï¼Ÿå¦‚æœä½ éšæ—¶å¯ä»¥æŠŠä¸€ä¸ªé¡¹ç›®ä½œä¸ºå­é¡¹ç›®æ·»åŠ åˆ°ä»»æ„æ•°ç›®çš„é¡¹ç›®ä¸­ï¼Œå¹¶å¯ä»¥åŒæ­¥æ›´æ–°ä¿®æ”¹å‘¢ï¼ŸGit æä¾›äº†è¿™ç±»é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼šGit å­æ¨¡å—submodule&lt;!-- raw HTML omitted --&gt;å­æ¨¡å—&lt;!-- raw HTML omitted --&gt;submodule&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;å’Œ Git å­æ ‘subtree&lt;!-- raw HTML omitted --&gt;å­æ ‘&lt;!-- raw HTML omitted --&gt;subtree&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ã€‚åˆ›å»ºè¿™äº›å·¥å…·çš„ç›®çš„æ˜¯ä»¥æ›´åŠ æ¨¡å—åŒ–çš„æ°´å¹³æ¥æ”¯æŒå…±ç”¨ä»£ç çš„å¼€å‘å·¥ä½œæµï¼Œæ—¨åœ¨ Git å­˜å‚¨åº“æºç ç®¡ç†source-code management&lt;!-- raw HTML omitted --&gt;æºç ç®¡ç†&lt;!-- raw HTML omitted --&gt;source-code management&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼ˆSCMï¼‰ä¸å®ƒä¸‹é¢çš„å­æ ‘ä¹‹é—´æ¶èµ·ä¸€åº§æ¡¥æ¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210103222135.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Cherry tree growing on a mulberry tree&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;ç”Ÿé•¿åœ¨æ¡‘æ ‘ä¸Šçš„æ¨±æ¡ƒæ ‘&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯æœ¬æ–‡è¦è¯¦ç»†ä»‹ç»çš„æ¦‚å¿µçš„ä¸€ä¸ªçœŸå®åº”ç”¨åœºæ™¯ã€‚å¦‚æœä½ å·²ç»å¾ˆç†Ÿæ‚‰æ ‘å½¢ç»“æ„ï¼Œè¿™ä¸ªæ¨¡å‹çœ‹èµ·æ¥æ˜¯ä¸‹é¢è¿™æ ·ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210103222254.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Tree with subtrees&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;git-å­æ¨¡å—æ˜¯ä»€ä¹ˆ&#34;&gt;Git å­æ¨¡å—æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h3&gt;
&lt;p&gt;Git åœ¨å®ƒé»˜è®¤çš„åŒ…ä¸­æä¾›äº†å­æ¨¡å—ï¼Œå­æ¨¡å—å¯ä»¥æŠŠ Git å­˜å‚¨åº“åµŒå…¥åˆ°å…¶ä»–å­˜å‚¨åº“ä¸­ã€‚ç¡®åˆ‡åœ°è¯´ï¼ŒGit å­æ¨¡å—æŒ‡å‘å­æ ‘ä¸­çš„æŸæ¬¡æäº¤ã€‚ä¸‹é¢æ˜¯æˆ‘ &lt;a class=&#34;link&#34; href=&#34;https://github.com/manaswinidas/Docs-test/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Docs-test&lt;/a&gt; GitHub å­˜å‚¨åº“ä¸­çš„ Git å­æ¨¡å—çš„æ ·å­ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210103222434.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Git submodules screenshot&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;mailto:folder@commitId&#34; &gt;æ–‡ä»¶å¤¹@æäº¤ Id&lt;/a&gt; æ ¼å¼è¡¨æ˜è¿™ä¸ªå­˜å‚¨åº“æ˜¯ä¸€ä¸ªå­æ¨¡å—ï¼Œä½ å¯ä»¥ç›´æ¥ç‚¹å‡»æ–‡ä»¶å¤¹è¿›å…¥è¯¥å­æ ‘ã€‚åä¸º &lt;code&gt;.gitmodules&lt;/code&gt; çš„é…ç½®æ–‡ä»¶åŒ…å«æ‰€æœ‰å­æ¨¡å—å­˜å‚¨åº“çš„è¯¦ç»†ä¿¡æ¯ã€‚æˆ‘çš„å­˜å‚¨åº“çš„ &lt;code&gt;.gitmodules&lt;/code&gt; æ–‡ä»¶å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210103222553.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Screenshot of .gitmodules file&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤åœ¨ä½ çš„å­˜å‚¨åº“ä¸­ä½¿ç”¨ Git å­æ¨¡å—ï¼š&lt;/p&gt;
&lt;h4 id=&#34;å…‹éš†ä¸€ä¸ªå­˜å‚¨åº“å¹¶åŠ è½½å­æ¨¡å—&#34;&gt;å…‹éš†ä¸€ä¸ªå­˜å‚¨åº“å¹¶åŠ è½½å­æ¨¡å—&lt;/h4&gt;
&lt;p&gt;å…‹éš†ä¸€ä¸ªå«æœ‰å­æ¨¡å—çš„å­˜å‚¨åº“ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ git clone --recursive &amp;lt;URL to Git repo&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦‚æœä½ ä¹‹å‰å·²ç»å…‹éš†äº†å­˜å‚¨åº“ï¼Œç°åœ¨æƒ³åŠ è½½å®ƒçš„å­æ¨¡å—ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ git submodule update --init
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦‚æœæœ‰åµŒå¥—çš„å­æ¨¡å—ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ git submodule update --init --recursive
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;ä¸‹è½½å­æ¨¡å—&#34;&gt;ä¸‹è½½å­æ¨¡å—&lt;/h4&gt;
&lt;p&gt;ä¸²è¡Œåœ°è¿ç»­ä¸‹è½½å¤šä¸ªå­æ¨¡å—æ˜¯å¾ˆæ¯ç‡¥çš„å·¥ä½œï¼Œæ‰€ä»¥ &lt;code&gt;clone&lt;/code&gt; å’Œ &lt;code&gt;submodule update&lt;/code&gt; ä¼šæ”¯æŒ &lt;code&gt;--jobs&lt;/code&gt; ï¼ˆæˆ– &lt;code&gt;-j&lt;/code&gt;ï¼‰å‚æ•°ï¼š&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œæƒ³ä¸€æ¬¡ä¸‹è½½ 8 ä¸ªå­æ¨¡å—ï¼Œä½¿ç”¨ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ git submodule update --init --recursive -j 8
$ git clone --recursive --jobs 8 &amp;lt;URL to Git repo&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;æ‹‰å–å­æ¨¡å—&#34;&gt;æ‹‰å–å­æ¨¡å—&lt;/h4&gt;
&lt;p&gt;åœ¨è¿è¡Œæˆ–æ„å»ºçˆ¶é¡¹ç›®ä¹‹å‰ï¼Œä½ éœ€è¦ç¡®ä¿ä¾èµ–çš„å­é¡¹ç›®éƒ½æ˜¯æœ€æ–°çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ‹‰å–å­æ¨¡å—çš„æ‰€æœ‰ä¿®æ”¹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ git submodule update --remote
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;ä½¿ç”¨å­æ¨¡å—åˆ›å»ºå­˜å‚¨åº“&#34;&gt;ä½¿ç”¨å­æ¨¡å—åˆ›å»ºå­˜å‚¨åº“ï¼š&lt;/h4&gt;
&lt;p&gt;å‘ä¸€ä¸ªçˆ¶å­˜å‚¨åº“æ·»åŠ å­æ ‘ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ git submodule add &amp;lt;URL to Git repo&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åˆå§‹åŒ–ä¸€ä¸ªå·²å­˜åœ¨çš„ Git å­æ¨¡å—ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ git submodule init
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä½ ä¹Ÿå¯ä»¥é€šè¿‡ä¸º &lt;code&gt;submodule update&lt;/code&gt; å‘½ä»¤æ·»åŠ  &lt;code&gt;--update&lt;/code&gt; å‚æ•°åœ¨å­æ¨¡å—ä¸­åˆ›å»ºåˆ†æ”¯å’Œè¿½è¸ªæäº¤ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ git submodule update --remote
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;æ›´æ–°å­æ¨¡å—çš„æäº¤&#34;&gt;æ›´æ–°å­æ¨¡å—çš„æäº¤&lt;/h4&gt;
&lt;p&gt;ä¸Šé¢æåˆ°è¿‡ï¼Œä¸€ä¸ªå­æ¨¡å—å°±æ˜¯ä¸€ä¸ªæŒ‡å‘å­æ ‘ä¸­æŸæ¬¡æäº¤çš„é“¾æ¥ã€‚å¦‚æœä½ æƒ³æ›´æ–°å­æ¨¡å—çš„æäº¤ï¼Œä¸è¦æ‹…å¿ƒã€‚ä½ ä¸éœ€è¦æ˜¾å¼åœ°æŒ‡å®šæœ€æ–°çš„æäº¤ã€‚ä½ åªéœ€è¦ä½¿ç”¨é€šç”¨çš„ &lt;code&gt;submodule update&lt;/code&gt; å‘½ä»¤ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ git submodule update
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å°±åƒä½ å¹³æ—¶åˆ›å»ºçˆ¶å­˜å‚¨åº“å’ŒæŠŠçˆ¶å­˜å‚¨åº“æ¨é€åˆ° GitHub é‚£æ ·æ·»åŠ å’Œæäº¤å°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä»ä¸€ä¸ªçˆ¶å­˜å‚¨åº“ä¸­åˆ é™¤ä¸€ä¸ªå­æ¨¡å—&#34;&gt;ä»ä¸€ä¸ªçˆ¶å­˜å‚¨åº“ä¸­åˆ é™¤ä¸€ä¸ªå­æ¨¡å—&lt;/h4&gt;
&lt;p&gt;ä»…ä»…æ‰‹åŠ¨åˆ é™¤ä¸€ä¸ªå­é¡¹ç›®æ–‡ä»¶å¤¹ä¸ä¼šä»çˆ¶é¡¹ç›®ä¸­ç§»é™¤è¿™ä¸ªå­é¡¹ç›®ã€‚æƒ³è¦åˆ é™¤åä¸º &lt;code&gt;childmodule&lt;/code&gt; çš„å­æ¨¡å—ï¼Œä½¿ç”¨ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ git rm -f childmodule
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è™½ç„¶ Git å­æ¨¡å—çœ‹èµ·æ¥å¾ˆå®¹æ˜“ä¸Šæ‰‹ï¼Œä½†æ˜¯å¯¹äºåˆå­¦è€…æ¥è¯´ï¼Œæœ‰ä¸€å®šçš„ä½¿ç”¨é—¨æ§›ã€‚&lt;/p&gt;
&lt;h3 id=&#34;git-å­æ ‘æ˜¯ä»€ä¹ˆ&#34;&gt;Git å­æ ‘æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h3&gt;
&lt;p&gt;Git å­æ ‘ subtree&lt;!-- raw HTML omitted --&gt;å­æ ‘&lt;!-- raw HTML omitted --&gt; subtree&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼Œæ˜¯åœ¨ Git 1.7.11 å¼•å…¥çš„ï¼Œè®©ä½ å¯ä»¥æŠŠä»»ä½•å­˜å‚¨åº“çš„å‰¯æœ¬ä½œä¸ºå­ç›®å½•åµŒå…¥å¦ä¸€ä¸ªå­˜å‚¨åº“ä¸­ã€‚å®ƒæ˜¯ Git é¡¹ç›®å¯ä»¥æ³¨å…¥å’Œç®¡ç†é¡¹ç›®ä¾èµ–çš„å‡ ç§æ–¹æ³•ä¹‹ä¸€ã€‚å®ƒåœ¨å¸¸è§„çš„æäº¤ä¸­ä¿å­˜äº†å¤–éƒ¨ä¾èµ–ä¿¡æ¯ã€‚Git å­æ ‘æä¾›äº†æ•´æ´çš„é›†æˆç‚¹ï¼Œå› æ­¤å¾ˆå®¹æ˜“å¤åŸå®ƒä»¬ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ å‚è€ƒ &lt;a class=&#34;link&#34; href=&#34;https://help.github.com/en/github/using-git/about-git-subtree-merges&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GitHub æä¾›çš„å­æ ‘æ•™ç¨‹&lt;/a&gt;æ¥ä½¿ç”¨å­æ ‘ï¼Œé‚£ä¹ˆæ— è®ºä½ ä»€ä¹ˆæ—¶å€™æ·»åŠ å­æ ‘ï¼Œåœ¨æœ¬åœ°éƒ½ä¸ä¼šçœ‹åˆ° &lt;code&gt;.gittrees&lt;/code&gt; é…ç½®æ–‡ä»¶ã€‚è¿™è®©æˆ‘ä»¬å¾ˆéš¾åˆ†è¾¨å“ªä¸ªæ˜¯å­æ ‘ï¼Œå› ä¸ºå®ƒä»¬çœ‹èµ·æ¥å¾ˆåƒæ™®é€šçš„æ–‡ä»¶å¤¹ï¼Œä½†æ˜¯å®ƒä»¬å´æ˜¯å­æ ‘çš„å‰¯æœ¬ã€‚é»˜è®¤çš„ Git åŒ…ä¸­ä¸æä¾›å¸¦ &lt;code&gt;.gittrees&lt;/code&gt; é…ç½®æ–‡ä»¶çš„ Git å­æ ‘ç‰ˆæœ¬ï¼Œå› æ­¤å¦‚æœä½ æƒ³è¦å¸¦ &lt;code&gt;.gittrees&lt;/code&gt; é…ç½®æ–‡ä»¶çš„ git-subtree å‘½ä»¤ï¼Œå¿…é¡»ä» Git æºç å­˜å‚¨åº“çš„ &lt;a class=&#34;link&#34; href=&#34;https://github.com/git/git/tree/master/contrib/subtree&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;/contrib/subtree æ–‡ä»¶å¤¹&lt;/a&gt; ä¸‹è½½ git-subtreeã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥åƒå…‹éš†å…¶ä»–å¸¸è§„çš„å­˜å‚¨åº“é‚£æ ·å…‹éš†ä»»ä½•å«æœ‰å­æ ‘çš„å­˜å‚¨åº“ï¼Œä½†ç”±äºåœ¨çˆ¶å­˜å‚¨åº“ä¸­æœ‰æ•´ä¸ªå­æ ‘çš„å‰¯æœ¬ï¼Œå› æ­¤å…‹éš†è¿‡ç¨‹å¯èƒ½ä¼šæŒç»­å¾ˆé•¿æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤åœ¨ä½ çš„å­˜å‚¨åº“ä¸­ä½¿ç”¨ Git å­æ ‘ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å‘çˆ¶å­˜å‚¨åº“ä¸­æ·»åŠ ä¸€ä¸ªå­æ ‘&#34;&gt;å‘çˆ¶å­˜å‚¨åº“ä¸­æ·»åŠ ä¸€ä¸ªå­æ ‘&lt;/h4&gt;
&lt;p&gt;æƒ³è¦å‘çˆ¶å­˜å‚¨åº“ä¸­æ·»åŠ ä¸€ä¸ªå­æ ‘ï¼Œé¦–å…ˆä½ éœ€è¦æ‰§è¡Œ &lt;code&gt;remote add&lt;/code&gt;ï¼Œä¹‹åæ‰§è¡Œ &lt;code&gt;subtree add&lt;/code&gt; å‘½ä»¤ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ git remote add remote-name &amp;lt;URL to Git repo&amp;gt;
$ git subtree add --prefix=folder/ remote-name &amp;lt;URL to Git repo&amp;gt; subtree-branchname
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸Šé¢çš„å‘½ä»¤ä¼šæŠŠæ•´ä¸ªå­é¡¹ç›®çš„æäº¤å†å²åˆå¹¶åˆ°çˆ¶å­˜å‚¨åº“ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å‘å­æ ‘æ¨é€ä¿®æ”¹ä»¥åŠä»å­æ ‘æ‹‰å–ä¿®æ”¹&#34;&gt;å‘å­æ ‘æ¨é€ä¿®æ”¹ä»¥åŠä»å­æ ‘æ‹‰å–ä¿®æ”¹&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ git subtree push-all
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æˆ–è€…&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ git subtree pull-all
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;ä½ åº”è¯¥ä½¿ç”¨å“ªä¸ª&#34;&gt;ä½ åº”è¯¥ä½¿ç”¨å“ªä¸ªï¼Ÿ&lt;/h3&gt;
&lt;p&gt;ä»»ä½•å·¥å…·éƒ½æœ‰ä¼˜ç¼ºç‚¹ã€‚ä¸‹é¢æ˜¯ä¸€äº›å¯èƒ½ä¼šå¸®åŠ©ä½ å†³å®šå“ªç§æœ€é€‚åˆä½ çš„ç‰¹æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Git å­æ¨¡å—çš„å­˜å‚¨åº“å ç”¨ç©ºé—´æ›´å°ï¼Œå› ä¸ºå®ƒä»¬åªæ˜¯æŒ‡å‘å­é¡¹ç›®çš„æŸæ¬¡æäº¤çš„é“¾æ¥ï¼Œè€Œ Git å­æ ‘ä¿å­˜äº†æ•´ä¸ªå­é¡¹ç›®åŠå…¶æäº¤å†å²ã€‚&lt;/li&gt;
&lt;li&gt;Git å­æ¨¡å—éœ€è¦åœ¨æœåŠ¡å™¨ä¸­å¯è®¿é—®ï¼Œä½†å­æ ‘æ˜¯å»ä¸­å¿ƒåŒ–çš„ã€‚&lt;/li&gt;
&lt;li&gt;Git å­æ¨¡å—å¤§é‡ç”¨äºåŸºäºç»„ä»¶çš„å¼€å‘ï¼Œè€Œ Git å­æ ‘å¤šç”¨äºåŸºäºç³»ç»Ÿçš„å¼€å‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Git å­æ ‘å¹¶ä¸æ˜¯ Git å­æ¨¡å—çš„ç›´æ¥å¯æ›¿ä»£é¡¹ã€‚æœ‰æ˜ç¡®çš„è¯´æ˜æ¥æŒ‡å¯¼æˆ‘ä»¬è¯¥ä½¿ç”¨å“ªç§ã€‚å¦‚æœæœ‰ä¸€ä¸ªå½’å±äºä½ çš„å¤–éƒ¨å­˜å‚¨åº“ï¼Œä½¿ç”¨åœºæ™¯æ˜¯å‘å®ƒå›æ¨ä»£ç ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨ Git å­æ¨¡å—ï¼Œå› ä¸ºæ¨é€ä»£ç æ›´å®¹æ˜“ã€‚å¦‚æœä½ æœ‰ç¬¬ä¸‰æ–¹ä»£ç ï¼Œä¸”ä¸ä¼šå‘å®ƒæ¨é€ä»£ç ï¼Œé‚£ä¹ˆä½¿ç”¨ Git å­æ ‘ï¼Œå› ä¸ºæ‹‰å–ä»£ç æ›´å®¹æ˜“ã€‚&lt;/p&gt;
&lt;p&gt;è‡ªå·±å°è¯•ä½¿ç”¨ Git å­æ ‘å’Œå­æ¨¡å—ï¼Œç„¶ååœ¨è¯„è®ºä¸­ç•™ä¸‹ä½ çš„ä½¿ç”¨æ„Ÿæƒ³ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://opensource.com/article/20/5/git-submodules-subtrees&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://opensource.com/article/20/5/git-submodules-subtrees&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://opensource.com/users/manaswinidas&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Manaswini Das&lt;/a&gt;
é€‰é¢˜ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lujun9972&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;lujun9972&lt;/a&gt;
è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Xiaobin.Liu&lt;/a&gt;
æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/wxy&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;wxy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/LCTT/TranslateProject&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;LCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://linux.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Linuxä¸­å›½&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘å¤‡å¿˜å•ï¼šæå‡ä½ çš„ MariaDB å’Œ MySQL æ•°æ®åº“æŠ€èƒ½</title>
        <link>https://lxb.wiki/3641869e/</link>
        <pubDate>Sun, 13 Dec 2020 22:07:00 +0000</pubDate>
        
        <guid>https://lxb.wiki/3641869e/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;blockquote&gt;
&lt;p&gt;é˜…è¯»æœ¬æ–‡å¹¶ä¸‹è½½æˆ‘ä»¬çš„å…è´¹å¤‡å¿˜å•ï¼Œå»ä½¿ç”¨å¼€æºçš„æ•°æ®åº“å§ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210103221458.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å½“ä½ å†™ä¸€ä¸ªç¨‹åºæˆ–é…ç½®ä¸€ä¸ªæœåŠ¡æ—¶ï¼Œä½ æœ€ç»ˆéƒ½è¦æŒä¹…åŒ–å­˜å‚¨ä¿¡æ¯ã€‚æœ‰æ—¶å€™ï¼Œä½ åªéœ€è¦ä¸€ä¸ª INI æˆ–è€… &lt;a class=&#34;link&#34; href=&#34;https://www.redhat.com/sysadmin/yaml-tips&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;YAML&lt;/a&gt; é…ç½®æ–‡ä»¶å°±å¤Ÿäº†ã€‚è€Œæœ‰æ—¶å€™ï¼Œä¸€ä¸ªè‡ªå®šä¹‰æ ¼å¼çš„ XML æˆ–è€… JSON æˆ–å…¶ä»–ç±»ä¼¼çš„æ–‡ä»¶ä¼šæ›´å¥½ã€‚&lt;/p&gt;
&lt;p&gt;ä½†ä¹Ÿæœ‰æ—¶å€™ä½ éœ€è¦æ ¡éªŒè¾“å…¥ã€å¿«é€ŸæŸ¥è¯¢ä¿¡æ¯ã€å…³è”æ•°æ®ã€é€šå¸¸è¿˜è¦ç†Ÿç»ƒåœ°å¤„ç†ä½ çš„ç”¨æˆ·çš„è¯·æ±‚ã€‚è¿™å°±æ˜¯è®¾è®¡æ•°æ®åº“çš„ç›®çš„ï¼Œè€Œ &lt;a class=&#34;link&#34; href=&#34;https://mariadb.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;MariaDB&lt;/a&gt;ï¼ˆç”± &lt;a class=&#34;link&#34; href=&#34;https://www.mysql.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;MySQL&lt;/a&gt; çš„åŸå§‹å¼€å‘äººå‘˜å¼€å‘çš„ä¸€ä¸ªåˆ†æ”¯ï¼‰ æ˜¯ä¸€ä¸ªæä½³çš„é€‰é¡¹ã€‚åœ¨æœ¬æ–‡ä¸­æˆ‘ä½¿ç”¨çš„æ˜¯ MariaDBï¼Œä½†è¿™äº›ä¿¡æ¯åŒæ ·é€‚ç”¨äº MySQLã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡ç¼–ç¨‹è¯­è¨€ä¸æ•°æ®åº“è¿›è¡Œäº¤äº’æ˜¯å¾ˆæ™®éçš„ã€‚æ­£å› å¦‚æ­¤ï¼Œå‡ºç°äº†å¤§é‡ Javaã€Pythonã€Luaã€PHPã€Rubyã€C++ å’Œå…¶ä»–è¯­è¨€çš„ &lt;a class=&#34;link&#34; href=&#34;https://en.wikipedia.org/wiki/SQL&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;SQL&lt;/a&gt; åº“ã€‚ç„¶è€Œï¼Œåœ¨ä½¿ç”¨è¿™äº›åº“ä¹‹å‰ï¼Œç†è§£æ•°æ®åº“å¼•æ“åšäº†ä»€ä¹ˆä»¥åŠä¸ºä»€ä¹ˆé€‰æ‹©æ•°æ®åº“æ˜¯é‡è¦çš„å¯¹æˆ‘ä»¬ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚æœ¬æ–‡ä»‹ç» MariaDB å’Œ &lt;code&gt;mysql&lt;/code&gt; å‘½ä»¤æ¥å¸®åŠ©ä½ ç†Ÿæ‚‰æ•°æ®åº“å¤„ç†æ•°æ®çš„åŸºæœ¬åŸç†ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ è¿˜æ²¡æœ‰å®‰è£… MariaDBï¼Œè¯·æŸ¥é˜…æˆ‘çš„æ–‡ç«  &lt;a class=&#34;link&#34; href=&#34;https://opensource.com/article/20/10/install-mariadb-and-mysql-linux&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;åœ¨ Linux ä¸Šå®‰è£… MariaDB&lt;/a&gt;ã€‚å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨ Linuxï¼Œè¯·å‚ç…§ MariaDB &lt;a class=&#34;link&#34; href=&#34;https://mariadb.org/download&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ä¸‹è½½é¡µé¢&lt;/a&gt;æä¾›çš„æŒ‡å¯¼æ–¹æ³•ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸-mariadb-äº¤äº’&#34;&gt;ä¸ MariaDB äº¤äº’&lt;/h3&gt;
&lt;p&gt;ä½ å¯ä»¥ä½¿ç”¨ &lt;code&gt;mysql&lt;/code&gt; å‘½ä»¤ä¸ MariaDB è¿›è¡Œäº¤äº’ã€‚é¦–å…ˆä½¿ç”¨å­å‘½ä»¤ &lt;code&gt;ping&lt;/code&gt; ç¡®è®¤ä½ çš„æœåŠ¡æ˜¯è¿è¡Œç€çš„ï¼Œåœ¨æç¤ºåè¾“å…¥å¯†ç ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ mysqladmin -u root -p ping
Enter password:
mysqld is alive
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸ºäº†æ˜“äºè¯»è€…ç†è§£ï¼Œæ‰“å¼€ä¸€ä¸ªäº¤äº’å¼çš„ MariaDB ä¼šè¯ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ mysql -u root -p
Enter password:
Welcome to the MariaDB monitor.
Commands end with ; or \g.
[...]
Type &amp;#39;help;&amp;#39; or &amp;#39;\h&amp;#39; for help.
Type &amp;#39;\c&amp;#39; to clear the current input statement.

MariaDB [(none)]&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä½ ç°åœ¨æ˜¯åœ¨ä¸€ä¸ª MariaDB å­ shell ä¸­ï¼Œæç¤ºç¬¦æ˜¯ MariaDB æç¤ºç¬¦ã€‚æ™®é€šçš„ Bash å‘½ä»¤åœ¨è¿™é‡Œä¸èƒ½ä½¿ç”¨ï¼Œåªèƒ½ç”¨ MariaDB å‘½ä»¤ã€‚è¾“å…¥ &lt;code&gt;help&lt;/code&gt; ï¼ˆæˆ– &lt;code&gt;?&lt;/code&gt;ï¼‰æŸ¥çœ‹å‘½ä»¤åˆ—è¡¨ã€‚è¿™äº›æ˜¯ä½ çš„ MariaDB shell çš„ç®¡ç†å‘½ä»¤ï¼Œä½¿ç”¨å®ƒä»¬å¯ä»¥å®šåˆ¶ä½ çš„ shellï¼Œä½†å®ƒä»¬ä¸å±äº SQL è¯­è¨€ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å­¦ä¹ -sql-åŸºæœ¬çŸ¥è¯†&#34;&gt;å­¦ä¹  SQL åŸºæœ¬çŸ¥è¯†&lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://publications.opengroup.org/c449&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€&lt;/a&gt;æ˜¯åŸºäºå®ƒä»¬çš„èƒ½åŠ›å®šä¹‰çš„ï¼šä¸€ç§é€šè¿‡æœ‰è§„åˆ™ä¸”ä¸€è‡´çš„è¯­æ³•æ¥æŸ¥è¯¢æ•°æ®åº“ä¸­çš„å†…å®¹ä»¥å¾—åˆ°æœ‰ç”¨çš„ç»“æœçš„æ–¹æ³•ã€‚SQL çœ‹èµ·æ¥åƒæ˜¯æ™®é€šçš„è‹±æ–‡è¯­å¥ï¼Œæœ‰ä¸€ç‚¹ç‚¹ç”Ÿç¡¬ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ ç™»å…¥æ•°æ®åº“æœåŠ¡å™¨ï¼Œæƒ³æŸ¥çœ‹æœ‰å“ªäº›åº“ï¼Œè¾“å…¥ &lt;code&gt;SHOW DATABASES;&lt;/code&gt; å¹¶å›è½¦å°±èƒ½çœ‹åˆ°ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;SQL å‘½ä»¤ä»¥åˆ†å·ä½œä¸ºç»“å°¾ã€‚å¦‚æœä½ å¿˜è®°è¾“å…¥åˆ†å·ï¼ŒMariaDB ä¼šè®¤ä¸ºä½ æ˜¯æƒ³åœ¨ä¸‹ä¸€è¡Œç»§ç»­è¾“å…¥ä½ çš„æŸ¥è¯¢å‘½ä»¤ï¼Œåœ¨ä¸‹ä¸€è¡Œä½ å¯ä»¥ç»§ç»­è¾“å…¥å‘½ä»¤ä¹Ÿå¯ä»¥è¾“å…¥åˆ†å·ç»“æŸå‘½ä»¤ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;MariaDB [(NONE)]&amp;gt; SHOW DATABASES;
+--------------------+
| DATABASE           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| test               |
+--------------------+
4 ROWS IN SET (0.000 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸Šé¢çš„ä¾‹å­æ˜¾ç¤ºå½“å‰æœ‰å››ä¸ªæ•°æ®åº“ï¼š&lt;code&gt;information_schema&lt;/code&gt;ã€&lt;code&gt;mysql&lt;/code&gt;ã€&lt;code&gt;performance_schema&lt;/code&gt; å’Œ &lt;code&gt;test&lt;/code&gt;ã€‚ä½ å¿…é¡»æŒ‡å®š MariaDB ä½¿ç”¨å“ªä¸ªåº“ï¼Œæ‰èƒ½å¯¹è¯¥åº“ä½¿ç”¨æŸ¥è¯¢è¯­å¥ã€‚æŒ‡å®šæ•°æ®åº“çš„å‘½ä»¤æ˜¯ &lt;code&gt;use&lt;/code&gt;ã€‚å½“ä½ é€‰æ‹©äº†ä¸€ä¸ªåº“åï¼ŒMariaDB æç¤ºæ¡†ä¼šåˆ‡æ¢ä¸ºé€‰æ‹©çš„åº“ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;MariaDB [(NONE)]&amp;gt; USE test;
MariaDB [(test)]&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;æ˜¾ç¤ºæ•°æ®åº“çš„è¡¨&#34;&gt;æ˜¾ç¤ºæ•°æ®åº“çš„è¡¨&lt;/h4&gt;
&lt;p&gt;æ•°æ®åº“é‡Œæœ‰&lt;em&gt;è¡¨&lt;/em&gt;ï¼Œä¸ç”µå­è¡¨æ ¼ç±»ä¼¼ï¼šæœ‰ä¸€ç³»åˆ—çš„è¡Œï¼ˆåœ¨æ•°æ®åº“ä¸­ç§°ä¸º&lt;em&gt;è®°å½•&lt;/em&gt;ï¼‰å’Œåˆ—ã€‚ä¸€ä¸ªè¡Œå’Œä¸€ä¸ªåˆ—å”¯ä¸€ç¡®å®šä¸€ä¸ª&lt;em&gt;å­—æ®µ&lt;/em&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹ä¸€ä¸ªæ•°æ®åº“ä¸­å¯ç”¨çš„è¡¨ï¼ˆå¯ä»¥ç†è§£ä¸ºå¤šè¡¨å•ç”µå­è¡¨æ ¼ä¸­çš„ä¸€é¡µï¼‰ï¼Œä½¿ç”¨ SQL å…³é”®å­— &lt;code&gt;SHOW&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;MariaDB [(test)]&amp;gt; SHOW TABLES;
empty SET
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;test&lt;/code&gt; æ•°æ®åº“æ˜¯ç©ºçš„ï¼Œæ‰€ä»¥ä½¿ç”¨ &lt;code&gt;use&lt;/code&gt; å‘½ä»¤åˆ‡æ¢åˆ° &lt;code&gt;mysql&lt;/code&gt; æ•°æ®åº“ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;MariaDB [(test)]&amp;gt; USE mysql;
MariaDB [(mysql)]&amp;gt; SHOW TABLES;

+---------------------------+
| Tables_in_mysql           |
+---------------------------+
| column_stats              |
| columns_priv              |
| db                        |
[...]
| time_zone_transition_type |
| transaction_registry      |
| USER                      |
+---------------------------+
31 ROWS IN SET (0.000 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™ä¸ªæ•°æ®åº“ä¸­æœ‰å¾ˆå¤šè¡¨ï¼&lt;code&gt;mysql&lt;/code&gt; æ•°æ®åº“æ˜¯è¿™ä¸ª MariaDB å®ä¾‹çš„ç³»ç»Ÿç®¡ç†æ•°æ®åº“ã€‚å®ƒé‡Œé¢åŒ…å«é‡è¦æ•°æ®ï¼Œæ¯”å¦‚ç”¨æ¥ç®¡ç†æ•°æ®åº“æƒé™çš„ç”¨æˆ·ç»“æ„ã€‚è¿™ä¸ªæ•°æ®åº“å¾ˆé‡è¦ï¼Œä½ ä¸éœ€è¦ç»å¸¸ç›´æ¥ä¸å®ƒäº¤äº’ï¼Œä½†æ˜¯ä½¿ç”¨ SQL è„šæœ¬æ¥æ“ä½œå®ƒå´å¾ˆå¸¸è§ã€‚å½“ä½ å­¦ä¹  MariaDB æ—¶ç†è§£ &lt;code&gt;mysql&lt;/code&gt; æ•°æ®åº“å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºå®ƒæœ‰åŠ©äºè¯´æ˜ä¸€äº›åŸºæœ¬çš„ SQL å‘½ä»¤ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ£€æŸ¥ä¸€ä¸ªè¡¨&#34;&gt;æ£€æŸ¥ä¸€ä¸ªè¡¨&lt;/h4&gt;
&lt;p&gt;è¿™ä¸ªå®ä¾‹çš„ &lt;code&gt;mysql&lt;/code&gt; æ•°æ®åº“çš„æœ€åä¸€ä¸ªè¡¨åä¸º &lt;code&gt;USER&lt;/code&gt;ã€‚è¿™ä¸ªè¡¨åŒ…å«äº†å¯ä»¥è®¿é—®è¿™ä¸ªæ•°æ®åº“çš„ç”¨æˆ·ã€‚å½“å‰é‡Œé¢åªæœ‰ä¸€ä¸ª root ç”¨æˆ·ï¼Œä½†æ˜¯ä½ å¯ä»¥æ·»åŠ ä¸åŒæƒé™çš„ç”¨æˆ·ï¼Œèµ‹äºˆå®ƒä»¬æŸ¥çœ‹ã€æ›´æ–°æˆ–åˆ›å»ºæ•°æ®çš„æƒé™ã€‚ä½ å¯ä»¥æŸ¥çœ‹ä¸€ä¸ªè¡¨çš„åˆ—é¦–æ¥äº†è§£ä¸€ä¸ª  MariaDB ç”¨æˆ·çš„æ‰€æœ‰å±æ€§ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;gt; SHOW COLUMNS IN USER;
MariaDB [mysql]&amp;gt; SHOW COLUMNS IN USER;
+-------------+---------------+------+-----+----------+
| FIELD       | TYPE          | NULL | KEY | DEFAULT  |
+-------------+---------------+------+-----+----------+
| Host        | CHAR(60)      | NO   | PRI |          |
| USER        | CHAR(80)      | NO   | PRI |          |
| Password    | CHAR(41)      | NO   |     |          |
| Select_priv | enum(&amp;#39;N&amp;#39;,&amp;#39;Y&amp;#39;) | NO   |     | N        |
| Insert_priv | enum(&amp;#39;N&amp;#39;,&amp;#39;Y&amp;#39;) | NO   |     | N        |
| Update_priv | enum(&amp;#39;N&amp;#39;,&amp;#39;Y&amp;#39;) | NO   |     | N        |
| Delete_priv | enum(&amp;#39;N&amp;#39;,&amp;#39;Y&amp;#39;) | NO   |     | N        |
| Create_priv | enum(&amp;#39;N&amp;#39;,&amp;#39;Y&amp;#39;) | NO   |     | N        |
| Drop_priv   | enum(&amp;#39;N&amp;#39;,&amp;#39;Y&amp;#39;) | NO   |     | N        |
[...]
47 ROWS IN SET (0.001 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;åˆ›å»ºä¸€ä¸ªæ–°çš„ç”¨æˆ·&#34;&gt;åˆ›å»ºä¸€ä¸ªæ–°çš„ç”¨æˆ·&lt;/h4&gt;
&lt;p&gt;ä¸è®ºä½ æ˜¯å¦éœ€è¦ä¸€ä¸ªæ™®é€šçš„è´¦å·æ¥ç®¡ç†æ•°æ®åº“æˆ–è€…ä¸ºè®¡ç®—æœºé…ç½®æ•°æ®åº“ï¼ˆä¾‹å¦‚å®‰è£… WordPressã€Drupal æˆ– Joomlaæ—¶ï¼‰ï¼Œåœ¨ MariaDB ä¸­å¤šå»ºä¸€ä¸ªç”¨æˆ·è´¦å·æ˜¯å¾ˆæ™®éçš„ã€‚ä½ å¯ä»¥é€šè¿‡å‘ &lt;code&gt;mysql&lt;/code&gt; æ•°æ®åº“çš„ &lt;code&gt;USER&lt;/code&gt; è¡¨ä¸­æ·»åŠ ä¸€ä¸ªç”¨æˆ·æˆ–ä½¿ç”¨ SQL å…³é”®å­— &lt;code&gt;CREATE&lt;/code&gt; æ¥æç¤º MariaDB åˆ›å»ºä¸€ä¸ª MariaDB ç”¨æˆ·ã€‚ä½¿ç”¨ &lt;code&gt;CREATE&lt;/code&gt; æ¥åˆ›å»ºæ–°ç”¨æˆ·ä¼šé»˜è®¤æ‰§è¡Œä¸€äº›æœ‰ç”¨çš„æ–¹æ³•ï¼Œå› æ­¤ä½ ä¸éœ€è¦æ‰‹åŠ¨ç”Ÿæˆæ‰€æœ‰çš„ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;gt; CREATE USER &amp;#39;tux&amp;#39;@&amp;#39;localhost&amp;#39; IDENTIFIED BY &amp;#39;really_secure_password&amp;#39;;
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;æŸ¥çœ‹è¡¨çš„å­—æ®µ&#34;&gt;æŸ¥çœ‹è¡¨çš„å­—æ®µ&lt;/h4&gt;
&lt;p&gt;ä½ å¯ä»¥ä½¿ç”¨ &lt;code&gt;SELECT&lt;/code&gt; å…³é”®å­—æ¥æŸ¥çœ‹æ•°æ®åº“è¡¨çš„å­—æ®µå’Œå€¼ã€‚è¿™æœ¬ä¾‹ä¸­ï¼Œä½ åˆ›å»ºäº†ä¸€ä¸ªåä¸º &lt;code&gt;tux&lt;/code&gt; çš„ç”¨æˆ·ï¼Œå› æ­¤æŸ¥è¯¢ &lt;code&gt;USER&lt;/code&gt; è¡¨ä¸­çš„åˆ—ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;gt; SELECT USER,host FROM USER;
+------+------------+
| USER | host       |
+------+------------+
| root | localhost  |
[...]
| tux  | localhost  |
+------+------------+
7 ROWS IN SET (0.000 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;ä¸ºä¸€ä¸ªç”¨æˆ·èµ‹äºˆæƒé™&#34;&gt;ä¸ºä¸€ä¸ªç”¨æˆ·èµ‹äºˆæƒé™&lt;/h4&gt;
&lt;p&gt;é€šè¿‡æŸ¥çœ‹ &lt;code&gt;USER&lt;/code&gt; è¡¨åˆ—å‡ºçš„ä¿¡æ¯ï¼Œä½ å¯ä»¥çœ‹åˆ°ç”¨æˆ·çš„çŠ¶æ€ã€‚ä¾‹å¦‚ï¼Œæ–°ç”¨æˆ· &lt;code&gt;tux&lt;/code&gt; å¯¹è¿™ä¸ªæ•°æ®åº“æ²¡æœ‰ä»»ä½•æƒé™ã€‚ä½¿ç”¨ &lt;code&gt;WHERE&lt;/code&gt; è¯­å¥ä½ å¯ä»¥åªæŸ¥ &lt;code&gt;tux&lt;/code&gt; é‚£ä¸€æ¡è®°å½•ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;gt; SELECT USER,select_priv,insert_priv,update_priv FROM USER WHERE USER=&amp;#39;tux&amp;#39;;
+------+-------------+-------------+-------------+
| USER | select_priv | insert_priv | update_priv |
+------+-------------+-------------+-------------+
| tux  | N           | N           | N           |
+------+-------------+-------------+-------------+
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä½¿ç”¨ &lt;code&gt;GRANT&lt;/code&gt; å‘½ä»¤ä¿®æ”¹ç”¨æˆ·çš„æƒé™ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;gt; GRANT SELECT ON *.* TO &amp;#39;tux&amp;#39;@&amp;#39;localhost&amp;#39;;
&amp;gt; FLUSH PRIVILEGES;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;éªŒè¯ä½ çš„ä¿®æ”¹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;gt; SELECT USER,select_priv,insert_priv,update_priv FROM USER WHERE USER=&amp;#39;tux&amp;#39;;
+------+-------------+-------------+-------------+
| USER | select_priv | insert_priv | update_priv |
+------+-------------+-------------+-------------+
| tux  | Y           | N           | N           |
+------+-------------+-------------+-------------+
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;tux&lt;/code&gt; ç”¨æˆ·ç°åœ¨æœ‰äº†ä»æ‰€æœ‰è¡¨ä¸­æŸ¥è¯¢è®°å½•çš„æƒé™ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åˆ›å»ºè‡ªå®šä¹‰çš„æ•°æ®åº“&#34;&gt;åˆ›å»ºè‡ªå®šä¹‰çš„æ•°æ®åº“&lt;/h3&gt;
&lt;p&gt;åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä½ ä¸€ç›´åœ¨ä¸é»˜è®¤çš„æ•°æ®åº“è¿›è¡Œäº¤äº’ã€‚é™¤äº†ç”¨æˆ·ç®¡ç†ï¼Œå¤§éƒ¨åˆ†äººå¾ˆå°‘ä¼šä¸é»˜è®¤çš„æ•°æ®åº“è¿›è¡Œäº¤äº’ã€‚é€šå¸¸ï¼Œä½ ä¼šç”¨è‡ªå®šä¹‰çš„æ•°æ®æ¥å¡«å……åˆ›å»ºçš„æ•°æ®åº“ã€‚&lt;/p&gt;
&lt;h4 id=&#34;åˆ›å»ºä¸€ä¸ª-mariadb-æ•°æ®åº“&#34;&gt;åˆ›å»ºä¸€ä¸ª MariaDB æ•°æ®åº“&lt;/h4&gt;
&lt;p&gt;ä½ å¯èƒ½å·²ç»å¯ä»¥è‡ªå·±åœ¨ MariaDB ä¸­åˆ›å»ºæ–°æ•°æ®åº“äº†ã€‚åˆ›å»ºæ•°æ®åº“è·Ÿæ–°å»ºç”¨æˆ·å·®ä¸å¤šã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;gt; CREATE DATABASE example;
Query OK, 1 ROW affected (0.000 sec)
&amp;gt; SHOW DATABASES;
+--------------------+
| DATABASE           |
+--------------------+
| example            |
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä½¿ç”¨ &lt;code&gt;use&lt;/code&gt; å‘½ä»¤æ¥æŠŠè¿™ä¸ªæ–°å»ºçš„æ•°æ®åº“ä½œä¸ºå½“å‰ä½¿ç”¨çš„åº“ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;gt; USE example;
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;åˆ›å»ºä¸€ä¸ªè¡¨&#34;&gt;åˆ›å»ºä¸€ä¸ªè¡¨&lt;/h4&gt;
&lt;p&gt;åˆ›å»ºè¡¨æ¯”åˆ›å»ºæ•°æ®åº“è¦å¤æ‚ï¼Œå› ä¸ºä½ å¿…é¡»å®šä¹‰åˆ—é¦–ã€‚MariaDB æä¾›äº†å¾ˆå¤šæ–¹ä¾¿çš„å‡½æ•°ï¼Œå¯ä»¥ç”¨äºåˆ›å»ºåˆ—ï¼Œå¼•å…¥æ•°æ®ç±»å‹å®šä¹‰ï¼Œè‡ªå¢é€‰é¡¹ï¼Œå¯¹ç©ºå€¼çš„çº¦æŸï¼Œè‡ªåŠ¨æ—¶é—´æˆ³ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ç”¨æ¥æè¿°ä¸€ç³»åˆ—ç”¨æˆ·çš„ä¸€ä¸ªç®€å•çš„è¡¨ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;gt; CREATE TABLE IF NOT EXISTS member (
    -&amp;gt; id INT AUTO_INCREMENT PRIMARY KEY,
    -&amp;gt; name VARCHAR(128) NOT NULL,
    -&amp;gt; startdate TIMESTAMP DEFAULT CURRENT_TIMESTAMP);
Query OK, 0 ROWS affected (0.030 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™ä¸ªè¡¨é€šè¿‡ä½¿ç”¨ä¸€ä¸ªè‡ªåŠ¨é€’å¢çš„æ–¹æ³•æ¥å”¯ä¸€æ ‡è¯†æ¯ä¸€è¡Œã€‚è¡¨ç¤ºç”¨æˆ·åå­—çš„å­—æ®µä¸èƒ½ä¸ºç©ºï¼ˆæˆ– &lt;code&gt;null&lt;/code&gt;ï¼‰ï¼Œæ¯ä¸€è¡Œè¢«åˆ›å»ºæ—¶ä¼šè‡ªåŠ¨ç”Ÿæˆæ—¶é—´æˆ³ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ SQL å…³é”®å­— &lt;code&gt;INSERT&lt;/code&gt; å‘è¿™ä¸ªè¡¨å¡«å……ä¸€äº›ç¤ºä¾‹æ•°æ®ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;gt; INSERT INTO member (name) VALUES (&amp;#39;Alice&amp;#39;);
Query OK, 1 ROW affected (0.011 sec)
&amp;gt; INSERT INTO member (name) VALUES (&amp;#39;Bob&amp;#39;);
Query OK, 1 ROW affected (0.011 sec)
&amp;gt; INSERT INTO member (name) VALUES (&amp;#39;Carol&amp;#39;);
Query OK, 1 ROW affected (0.011 sec)
&amp;gt; INSERT INTO member (name) VALUES (&amp;#39;David&amp;#39;);
Query OK, 1 ROW affected (0.011 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;éªŒè¯ä¸€ä¸‹è¡¨é‡Œçš„æ•°æ®ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;gt; SELECT * FROM member;
+----+-------+---------------------+
| id | name  | startdate           |
+----+-------+---------------------+
|  1 | Alice | 2020-10-03 15:25:06 |
|  2 | Bob   | 2020-10-03 15:26:43 |
|  3 | Carol | 2020-10-03 15:26:46 |
|  4 | David | 2020-10-03 15:26:51 |
+----+-------+---------------------+
4 ROWS IN SET (0.000 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;åŒæ—¶å¢åŠ å¤šè¡Œæ•°æ®&#34;&gt;åŒæ—¶å¢åŠ å¤šè¡Œæ•°æ®&lt;/h4&gt;
&lt;p&gt;å†åˆ›å»ºä¸€ä¸ªè¡¨ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;gt; CREATE TABLE IF NOT EXISTS linux (
    -&amp;gt; id INT AUTO_INCREMENT PRIMARY KEY,
    -&amp;gt; distro VARCHAR(128) NOT NULL);
Query OK, 0 ROWS affected (0.030 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¡«å……ä¸€äº›ç¤ºä¾‹æ•°æ®ï¼Œè¿™æ¬¡ä½¿ç”¨ &lt;code&gt;VALUES&lt;/code&gt; å¿«æ·æ–¹å¼ï¼Œè¿™æ ·ä½ å¯ä»¥ä¸€æ¬¡æ·»åŠ å¤šè¡Œæ•°æ®ã€‚&lt;code&gt;VALUES&lt;/code&gt; å…³é”®å­—éœ€è¦ä¸€ä¸ªç”¨æ‹¬å·åŒ…å›´çš„åˆ—è¡¨ä½œä¸ºå‚æ•°ï¼Œä¹Ÿå¯ä»¥ç”¨é€—å·åˆ†éš”çš„å¤šä¸ªåˆ—è¡¨ä½œä¸ºå‚æ•°ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;gt; INSERT INTO linux (distro)
 -&amp;gt; VALUES (&amp;#39;Slackware&amp;#39;), (&amp;#39;RHEL&amp;#39;),(&amp;#39;Fedora&amp;#39;),(&amp;#39;Debian&amp;#39;);
Query OK, 4 ROWS affected (0.011 sec)
Records: 4  Duplicates: 0  Warnings: 0
&amp;gt; SELECT * FROM linux;
+----+-----------+
| id | distro    |
+----+-----------+
|  1 | Slackware |
|  2 | RHEL      |
|  3 | Fedora    |
|  4 | Debian    |
+----+-----------+
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;å…³è”å¤šä¸ªè¡¨&#34;&gt;å…³è”å¤šä¸ªè¡¨&lt;/h3&gt;
&lt;p&gt;ç°åœ¨ä½ æœ‰ä¸¤ä¸ªè¡¨ï¼Œä¹‹é—´æ²¡æœ‰å…³è”ã€‚ä¸¤ä¸ªè¡¨çš„æ•°æ®æ˜¯ç‹¬ç«‹çš„ï¼Œä½†æ˜¯ä½ å¯èƒ½éœ€è¦è¡¨ä¸€ä¸­çš„ä¸€ä¸ªå€¼æ¥è¯†åˆ«è¡¨äºŒçš„è®°å½•ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥åœ¨è¡¨ä¸€ä¸­æ–°å¢ä¸€åˆ—å¯¹åº”è¡¨äºŒä¸­çš„å€¼ã€‚å› ä¸ºä¸¤ä¸ªè¡¨éƒ½æœ‰å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼ˆè‡ªåŠ¨é€’å¢çš„ &lt;code&gt;id&lt;/code&gt; å­—æ®µï¼‰ï¼Œå…³è”çš„å®ƒä»¬çš„æœ€ç®€å•çš„æ–¹å¼æ˜¯ï¼Œä½¿ç”¨è¡¨ä¸€ä¸­çš„ &lt;code&gt;id&lt;/code&gt; å­—æ®µä½œä¸ºè¡¨äºŒçš„æŸ¥è¯¢æ¡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¡¨ä¸€ä¸­åˆ›å»ºä¸€åˆ—ç”¨æ¥è¡¨ç¤ºè¡¨äºŒä¸­çš„ä¸€ä¸ªå€¼ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;gt; ALTER TABLE member ADD COLUMN (os INT);
Query OK, 0 ROWS affected (0.012 sec)
Records: 0  Duplicates: 0  Warnings: 0
&amp;gt; DESCRIBE member;
DESCRIBE member;
+-----------+--------------+------+-----+---------+------+
| FIELD     | TYPE         | NULL | KEY | DEFAULT | Extra|
+-----------+--------------+------+-----+---------+------+
| id        | INT(11)      | NO   | PRI | NULL    | auto_|
| name      | VARCHAR(128) | NO   |     | NULL    |      |
| startdate | TIMESTAMP    | NO   |     | cur[...]|      |
| os        | INT(11)      | YES  |     | NULL    |      |
+-----------+--------------+------+-----+---------+------+
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æŠŠ &lt;code&gt;linux&lt;/code&gt; è¡¨ä¸­çš„å”¯ä¸€ ID åˆ†é…ç»™æ¯ä¸ªæˆå‘˜ã€‚å› ä¸ºè®°å½•å·²ç»å­˜åœ¨ï¼Œä½¿ç”¨ &lt;code&gt;UPDATE&lt;/code&gt; å…³é”®å­—è€Œä¸æ˜¯ &lt;code&gt;INSERT&lt;/code&gt;ã€‚å°¤å…¶æ˜¯å½“ä½ æƒ³æŸ¥è¯¢æŸè¡Œç„¶åå†æ›´æ–°æŸåˆ—å€¼æ—¶ã€‚è¯­æ³•ä¸Šï¼Œè¡¨è¾¾æ–¹å¼æœ‰ç‚¹å€’è£…ï¼Œå…ˆæ›´æ–°åæŸ¥è¯¢ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;gt; UPDATE member SET os=1 WHERE name=&amp;#39;Alice&amp;#39;;
Query OK, 1 ROW affected (0.007 sec)
ROWS matched: 1  Changed: 1  Warnings: 0
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¦å¡«å……æ•°æ®ï¼Œè¯·å¯¹å…¶ä»–åå­—é‡å¤æ‰§è¡Œè¿™ä¸ªè¿‡ç¨‹ã€‚ä¸ºäº†æ•°æ®çš„å¤šæ ·æ€§ï¼Œåœ¨å››è¡Œè®°å½•ä¸­åˆ†é…ä¸‰ä¸ªä¸åŒçš„å€¼ã€‚&lt;/p&gt;
&lt;h4 id=&#34;è¿æ¥è¡¨&#34;&gt;è¿æ¥è¡¨&lt;/h4&gt;
&lt;p&gt;ç°åœ¨è¿™ä¸¤ä¸ªè¡¨å½¼æ­¤æœ‰äº†å…³è”ï¼Œä½ å¯ä»¥ä½¿ç”¨ SQL æ¥å±•ç¤ºå…³è”çš„æ•°æ®ã€‚æ•°æ®åº“ä¸­æœ‰å¾ˆå¤šç§è¿æ¥æ–¹å¼ï¼Œä½ å¯ä»¥å°½è¯·å°è¯•ã€‚ä¸‹é¢çš„ä¾‹å­æ˜¯å…³è” &lt;code&gt;member&lt;/code&gt; è¡¨ä¸­ &lt;code&gt;os&lt;/code&gt; å­—æ®µå’Œ &lt;code&gt;linux&lt;/code&gt; è¡¨ä¸­ &lt;code&gt;id&lt;/code&gt; å­—æ®µï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;SELECT * FROM member JOIN linux ON member.os=linux.id;
+----+-------+---------------------+------+----+-----------+
| id | name  | startdate           | os   | id | distro    |
+----+-------+---------------------+------+----+-----------+
|  1 | Alice | 2020-10-03 15:25:06 |    1 |  1 | Slackware |
|  2 | Bob   | 2020-10-03 15:26:43 |    3 |  3 | Fedora    |
|  4 | David | 2020-10-03 15:26:51 |    3 |  3 | Fedora    |
|  3 | Carol | 2020-10-03 15:26:46 |    4 |  4 | Debian    |
+----+-------+---------------------+------+----+-----------+
4 ROWS IN SET (0.000 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿æ¥ &lt;code&gt;os&lt;/code&gt; å’Œ &lt;code&gt;id&lt;/code&gt; å­—æ®µã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å›¾å½¢åŒ–çš„åº”ç”¨ä¸­ï¼Œä½ å¯ä»¥æƒ³è±¡ &lt;code&gt;os&lt;/code&gt; å­—æ®µå¯ä»¥åœ¨ä¸‹æ‹‰èœå•ä¸­è®¾ç½®ï¼Œå€¼çš„æ¥æºæ˜¯ &lt;code&gt;linux&lt;/code&gt; è¡¨ä¸­çš„ &lt;code&gt;distro&lt;/code&gt; å­—æ®µã€‚é€šè¿‡ä½¿ç”¨å¤šä¸ªè¡¨ä¸­ç‹¬ç«‹å´æœ‰å…³è”çš„æ•°æ®ï¼Œä½ å¯ä»¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å’Œæœ‰æ•ˆæ€§ï¼Œä½¿ç”¨ SQL ä½ å¯ä»¥åŠ¨æ€åœ°å…³è”å®ƒä»¬ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸‹è½½-mariadb-å’Œ-mysql-å¤‡å¿˜å•&#34;&gt;ä¸‹è½½ MariaDB å’Œ MySQL å¤‡å¿˜å•&lt;/h3&gt;
&lt;p&gt;MariaDB æ˜¯ä¼ä¸šçº§çš„æ•°æ®åº“ã€‚å®ƒæ˜¯å¥å£®ã€å¼ºå¤§ã€é«˜æ•ˆçš„æ•°æ®åº“å¼•æ“ã€‚å­¦ä¹ å®ƒæ˜¯ä½ å‘ç®¡ç† web åº”ç”¨å’Œç¼–å†™è¯­è¨€åº“è¿ˆå‡ºçš„ä¼Ÿå¤§çš„ä¸€æ­¥ã€‚ä½ å¯ä»¥&lt;a class=&#34;link&#34; href=&#34;https://opensource.com/downloads/mariadb-mysql-cheat-sheet&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ä¸‹è½½ MariaDB å’Œ MySQL å¤‡å¿˜å•&lt;/a&gt;ï¼Œåœ¨ä½ ä½¿ç”¨ MariaDB æ—¶å¯ä»¥å¿«é€Ÿå‚è€ƒã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://opensource.com/article/20/10/mariadb-mysql-cheat-sheet&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://opensource.com/article/20/10/mariadb-mysql-cheat-sheet&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://opensource.com/users/seth&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Seth Kenlon&lt;/a&gt;
é€‰é¢˜ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lujun9972&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;lujun9972&lt;/a&gt;
è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;lxbwolf&lt;/a&gt;
æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/wxy&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;wxy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/LCTT/TranslateProject&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;LCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://linux.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Linuxä¸­å›½&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘äº†è§£ä¸€ä¸‹ Fossilï¼Œä¸€ä¸ª Git çš„æ›¿ä»£å“</title>
        <link>https://lxb.wiki/ff3c9770/</link>
        <pubDate>Thu, 10 Dec 2020 21:54:47 +0000</pubDate>
        
        <guid>https://lxb.wiki/ff3c9770/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;blockquote&gt;
&lt;p&gt;Fossil æ˜¯ä¸€ä¸ªé›†ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€bug è¿½è¸ªã€ç»´åŸºã€è®ºå›ä»¥åŠæ–‡æ¡£è§£å†³æ–¹æ¡ˆäºä¸€ä½“çš„ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210103215724.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªå¼€å‘è€…éƒ½çŸ¥é“ï¼Œè¿½è¸ªä»£ç çš„ä¿®æ”¹æ˜¯è‡³å…³é‡è¦çš„ã€‚æœ‰æ—¶å€™ä½ ä¼šå¤„äºå¥½å¥‡æˆ–è€…æ•™è‚²çš„ç›®çš„éœ€è¦å±•ç¤ºä½ çš„é¡¹ç›®å¼€å§‹å’Œè¿›åŒ–çš„å†å²ã€‚æœ‰æ—¶å€™ä½ æƒ³è®©å…¶ä»–çš„å¼€å‘è€…å‚ä¸åˆ°ä½ çš„é¡¹ç›®ä¸­ï¼Œå› æ­¤ä½ éœ€è¦ä¸€ç§å€¼å¾—ä¿¡èµ–çš„èƒ½åˆå¹¶ä¸åŒä»£ç åˆ†æ”¯çš„æ–¹æ³•ã€‚æ›´æç«¯ä¸€ç‚¹ï¼Œæœ‰æ—¶å€™ä½ ä¸ºäº†è§£å†³ä¸€ä¸ªé—®é¢˜è€Œä¿®æ”¹çš„ä»£ç å¯¼è‡´å·²æœ‰çš„åŠŸèƒ½ä¸èƒ½æ­£å¸¸ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://fossil-scm.org/home/doc/trunk/www/index.wiki&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Fossil&lt;/a&gt; æºç ç®¡ç†ç³»ç»Ÿæ˜¯ç”±è‘—åçš„ &lt;a class=&#34;link&#34; href=&#34;https://www.sqlite.org/index.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;SQLite&lt;/a&gt; æ•°æ®åº“çš„ä½œè€…å¼€å‘çš„ä¸€ä¸ªé›†ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€bug è¿½è¸ªã€ç»´åŸºã€è®ºå›ä»¥åŠæ–‡æ¡£è§£å†³æ–¹æ¡ˆäºä¸€ä½“çš„ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®‰è£…-fossil&#34;&gt;å®‰è£… Fossil&lt;/h3&gt;
&lt;p&gt;Fossil æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ C ç¨‹åºï¼Œå› æ­¤ä½ å¯ä»¥ä»å®ƒçš„ç½‘ç«™ä¸Š&lt;a class=&#34;link&#34; href=&#34;https://fossil-scm.org/home/uv/download.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ä¸‹è½½&lt;/a&gt;åæ”¾åœ¨ç¯å¢ƒå˜é‡ &lt;a class=&#34;link&#34; href=&#34;https://opensource.com/article/17/6/set-path-linux&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;PATH&lt;/a&gt; ä¸­çš„ä»»æ„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œå‡å®š &lt;code&gt;/usr/local/bin&lt;/code&gt; å·²ç»åœ¨ä½ çš„ç¯å¢ƒå˜é‡ä¸­ï¼ˆé»˜è®¤æƒ…å†µä¸‹æ˜¯åœ¨çš„ï¼‰ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ wget https://fossil-scm.org/home/uv/fossil-linux-x64-X.Y.tar.gz
$ sudo tar xvf fossil-linux-x64-X.Y.tar.gz --directory /usr/local/bin
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä½ ä¹Ÿå¯ä»¥é€šè¿‡åŒ…ç®¡ç†å™¨ä»è½¯ä»¶ä»“åº“ä¸­æ‰¾åˆ° Fossilï¼Œæˆ–è€…ç›´æ¥ä»æºç ç¼–è¯‘ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åˆ›å»ºä¸€ä¸ª-fossil-ä»“åº“&#34;&gt;åˆ›å»ºä¸€ä¸ª Fossil ä»“åº“&lt;/h3&gt;
&lt;p&gt;å¦‚æœä½ å·²ç»æœ‰ä¸€ä¸ªä»£ç é¡¹ç›®ï¼Œæƒ³ç”¨ Fossil æ¥è¿½è¸ªï¼Œé‚£ä¹ˆç¬¬ä¸€æ­¥å°±æ˜¯åˆ›å»ºä¸€ä¸ª Fossil ä»“åº“ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ fossil init myproject.fossil
project-id: 010836ac6112fefb0b015702152d447c8c1d8604
server-id:  54d837e9dc938ba1caa56d31b99c35a4c9627f44
admin-user: klaatu (initial password is &amp;#34;14b605&amp;#34;)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åˆ›å»º Fossil ä»“åº“çš„è¿‡ç¨‹ä¸­ä¼šè¿”å›ä¸‰è¡Œä¿¡æ¯ï¼šä¸€ä¸ªå”¯ä¸€çš„é¡¹ç›® IDã€ä¸€ä¸ªå”¯ä¸€çš„æœåŠ¡å™¨ ID ä»¥åŠç®¡ç†å‘˜ ID å’Œå¯†ç ã€‚é¡¹ç›® ID å’ŒæœåŠ¡å™¨ ID æ˜¯ç‰ˆæœ¬æ•°å­—ã€‚ç®¡ç†å‘˜å‡­è¯è¡¨æ˜ä½ å¯¹è¿™ä¸ªä»“åº“çš„æ‰€æœ‰æƒï¼Œå½“ä½ æŠŠ Fossil ä½œä¸ºæœåŠ¡å™¨è®©å…¶ä»–ç”¨æˆ·æ¥è®¿é—®æ—¶å¯ä»¥ä½¿ç”¨ç®¡ç†å‘˜æƒé™ã€‚&lt;/p&gt;
&lt;h3 id=&#34;fossil-ä»“åº“å·¥ä½œæµ&#34;&gt;Fossil ä»“åº“å·¥ä½œæµ&lt;/h3&gt;
&lt;p&gt;åœ¨ä½ ä½¿ç”¨ Fossil ä»“åº“ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆä¸ºå®ƒçš„æ•°æ®åˆ›å»ºä¸€ä¸ªå·¥ä½œè·¯å¾„ã€‚ä½ å¯ä»¥æŠŠè¿™ä¸ªè¿‡ç¨‹ç±»æ¯”ä¸ºä½¿ç”¨ Python æ—¶åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒæˆ–è€…è§£å‹ä¸€ä¸ªåªç”¨æ¥å¤‡ä»½çš„ ZIP æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ªå·¥ä½œç›®å½•å¹¶è¿›å…¥ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ mkdir myprojectdir
$ cd myprojectdir
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æŠŠä½ çš„ Fossil æ‰“å¼€åˆ°åˆšåˆšåˆ›å»ºçš„ç›®å½•ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ fossil open ../myproject
project-name: &amp;lt;unnamed&amp;gt;
repository:   /home/klaatu/myprojectdir/../myproject
local-root:   /home/klaatu/myprojectdir/
config-db:    /home/klaatu/.fossil
project-code: 010836ac6112fefb0b015702152d447c8c1d8604
checkout:     9e6cd96dd675544c58a246520ad58cdd460d1559 2020-11-09 04:09:35 UTC
tags:         trunk
comment:      initial empty check-in (user: klaatu)
check-ins:    1
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä½ å¯èƒ½æ³¨æ„åˆ°äº†ï¼ŒFossil åœ¨ä½ çš„å®¶ç›®å½•ä¸‹åˆ›å»ºäº†ä¸€ä¸ªåä¸º &lt;code&gt;.fossil&lt;/code&gt; çš„éšè—æ–‡ä»¶ï¼Œç”¨æ¥è¿½è¸ªä½ çš„å…¨å±€ Fossil é…ç½®ã€‚è¿™ä¸ªé…ç½®ä¸æ˜¯åªé€‚ç”¨äºä½ çš„ä¸€ä¸ªé¡¹ç›®çš„ï¼›è¿™ä¸ªæ–‡ä»¶åªä¼šåœ¨ä½ ç¬¬ä¸€æ¬¡ä½¿ç”¨ Fossil æ—¶ç”Ÿæˆã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ·»åŠ æ–‡ä»¶&#34;&gt;æ·»åŠ æ–‡ä»¶&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;add&lt;/code&gt; å’Œ &lt;code&gt;commit&lt;/code&gt; å­å‘½ä»¤æ¥å‘ä½ çš„ä»“åº“æ·»åŠ æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œåˆ›å»ºä¸€ä¸ªç®€å•çš„ &lt;code&gt;README&lt;/code&gt; æ–‡ä»¶ï¼ŒæŠŠå®ƒæ·»åŠ åˆ°ä»“åº“ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ echo &amp;#34;My first Fossil project&amp;#34; &amp;gt; README
$ fossil add README
ADDED  README
$ fossil commit -m &amp;#39;My first commit&amp;#39;
New_Version: 2472a43acd11c93d08314e852dedfc6a476403695e44f47061607e4e90ad01aa
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;ä½¿ç”¨åˆ†æ”¯&#34;&gt;ä½¿ç”¨åˆ†æ”¯&lt;/h4&gt;
&lt;p&gt;Fossil ä»“åº“å¼€å§‹æ—¶é»˜è®¤ä½¿ç”¨çš„ä¸»åˆ†æ”¯åä¸º &lt;code&gt;trunk&lt;/code&gt;ã€‚å½“ä½ æƒ³ä¿®æ”¹ä»£ç è€Œåˆä¸å½±å“ä¸»å¹²ä»£ç æ—¶ï¼Œä½ å¯ä»¥ä» trunk åˆ†æ”¯åˆ‡èµ°ã€‚åˆ›å»ºæ–°åˆ†æ”¯éœ€è¦ä½¿ç”¨ &lt;code&gt;branch&lt;/code&gt; å­å‘½ä»¤ï¼Œè¿™ä¸ªå‘½ä»¤éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæ–°åˆ†æ”¯çš„åå­—ï¼Œä¸€ä¸ªæ–°åˆ†æ”¯çš„åŸºåˆ†æ”¯åå­—ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œåªæœ‰ä¸€ä¸ªåˆ†æ”¯ &lt;code&gt;trunk&lt;/code&gt;ï¼Œå› æ­¤å°è¯•åˆ›å»ºä¸€ä¸ªåä¸º &lt;code&gt;dev&lt;/code&gt; çš„æ–°åˆ†æ”¯ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ fossil branch --help
Usage: fossil branch new BRANCH-NAME BASIS ?OPTIONS?
$ fossil branch new dev trunk
New branch: cb90e9c6f23a9c98e0c3656d7e18d320fa52e666700b12b5ebbc4674a0703695
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä½ å·²ç»åˆ›å»ºäº†ä¸€ä¸ªæ–°åˆ†æ”¯ï¼Œä½†æ˜¯ä½ å½“å‰æ‰€åœ¨çš„åˆ†æ”¯ä»ç„¶æ˜¯ &lt;code&gt;trunk&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ fossil branch current
trunk
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä½¿ç”¨ &lt;code&gt;checkout&lt;/code&gt; å‘½ä»¤åˆ‡æ¢åˆ°ä½ çš„æ–°åˆ†æ”¯ &lt;code&gt;dev&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ fossil checkout dev
dev
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;åˆå¹¶ä¿®æ”¹&#34;&gt;åˆå¹¶ä¿®æ”¹&lt;/h4&gt;
&lt;p&gt;å‡è®¾ä½ åœ¨ &lt;code&gt;dev&lt;/code&gt; åˆ†æ”¯ä¸­æ·»åŠ äº†ä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œå®Œæˆäº†æµ‹è¯•ï¼Œç°åœ¨æƒ³æŠŠå®ƒåˆå¹¶åˆ° &lt;code&gt;trunk&lt;/code&gt;ã€‚è¿™ä¸ªè¿‡ç¨‹å«åš&lt;em&gt;åˆå¹¶&lt;/em&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œåˆ‡å›ç›®æ ‡åˆ†æ”¯ï¼ˆæœ¬ä¾‹ä¸­ç›®æ ‡åˆ†æ”¯ä¸º &lt;code&gt;trunk&lt;/code&gt;ï¼‰ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ fossil checkout trunk
trunk
$ ls
README
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™ä¸ªåˆ†æ”¯ä¸­æ²¡æœ‰ä½ çš„æ–°æ–‡ä»¶ï¼ˆæˆ–è€…ä½ å¯¹å…¶ä»–æ–‡ä»¶çš„ä¿®æ”¹ï¼‰ï¼Œè€Œé‚£äº›å†…å®¹æ˜¯åˆå¹¶çš„è¿‡ç¨‹éœ€è¦çš„ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ fossil merge dev
 &amp;#34;fossil undo&amp;#34; is available to undo changes to the working checkout.
$ ls
myfile.lua  README
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;æŸ¥çœ‹-fossil-æ—¶é—´çº¿&#34;&gt;æŸ¥çœ‹ Fossil æ—¶é—´çº¿&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;timeline&lt;/code&gt; é€‰é¡¹æ¥æŸ¥çœ‹ä»“åº“çš„å†å²ã€‚è¿™ä¸ªå‘½ä»¤åˆ—å‡ºäº†ä½ çš„ä»“åº“çš„æ‰€æœ‰æ´»åŠ¨çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç”¨æ¥è¡¨ç¤ºæ¯æ¬¡ä¿®æ”¹çš„å“ˆå¸Œå€¼ã€æ¯æ¬¡æäº¤æ—¶å¡«å†™çš„ä¿¡æ¯ä»¥åŠæäº¤è€…ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ fossil timeline
=== 2020-11-09 ===
06:24:16 [5ef06e668b] added exciting new file (user: klaatu tags: dev)
06:11:19 [cb90e9c6f2] Create new branch named &amp;#34;dev&amp;#34; (user: klaatu tags: dev)
06:08:09 [a2bb73e4a3] *CURRENT* some additions were made (user: klaatu tags: trunk)
06:00:47 [2472a43acd] This is my first commit. (user: klaatu tags: trunk)
04:09:35 [9e6cd96dd6] initial empty check-in (user: klaatu tags: trunk)
+++ no more data (5) +++
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20210103215802.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Fossil UI&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;å…¬å¼€ä½ çš„-fossil-ä»“åº“&#34;&gt;å…¬å¼€ä½ çš„ Fossil ä»“åº“&lt;/h3&gt;
&lt;p&gt;å› ä¸º Fossil æœ‰ä¸ªå†…ç½®çš„ web ç•Œé¢ï¼Œæ‰€ä»¥ Fossil ä¸åƒ GitLab å’Œ Gitea é‚£æ ·éœ€è¦ä¸»æœºæœåŠ¡ã€‚Fossil å°±æ˜¯å®ƒè‡ªå·±çš„ä¸»æœºæœåŠ¡ï¼Œåªè¦ä½ æŠŠå®ƒæ”¾åœ¨ä¸€å°æœºå™¨ä¸Šå°±è¡Œäº†ã€‚åœ¨ä½ å…¬å¼€ä½ çš„ Fossil ä»“åº“ä¹‹å‰ï¼Œä½ è¿˜éœ€è¦é€šè¿‡ web ç”¨æˆ·ç•Œé¢ï¼ˆUIï¼‰æ¥é…ç½®ä¸€äº›ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;ui&lt;/code&gt; å­å‘½ä»¤å¯åŠ¨ä¸€ä¸ªæœ¬åœ°çš„å®ä¾‹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ pwd
/home/klaatu/myprojectdir/
$ fossil ui
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;â€œUsersâ€ å’Œ â€œSettingsâ€ æ˜¯å®‰å…¨ç›¸å…³çš„ï¼Œâ€œConfigurationâ€ æ˜¯é¡¹ç›®å±æ€§ç›¸å…³çš„ï¼ˆåŒ…æ‹¬ä¸€ä¸ªåˆé€‚çš„æ ‡é¢˜ï¼‰ã€‚web ç•Œé¢ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ–¹ä¾¿çš„åŠŸèƒ½ã€‚ å®ƒæ˜¯èƒ½åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨å¹¶ä½œä¸º Fossil é¡¹ç›®çš„å®¿ä¸»æœºæ¥ä½¿ç”¨çš„ã€‚å®ƒè¿˜æœ‰ä¸€äº›å…¶ä»–çš„é«˜çº§é€‰é¡¹ï¼Œæ¯”å¦‚ç”¨æˆ·ç®¡ç†ï¼ˆæˆ–è€…å«è‡ªæˆ‘ç®¡ç†ï¼‰ã€åœ¨åŒä¸€ä¸ªæœåŠ¡å™¨ä¸Šä¸å…¶ä»–çš„ Fossil ä»“åº“è¿›è¡Œå•ç‚¹ç™»å½•ï¼ˆSSOï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å½“é…ç½®å®Œæˆåï¼Œå…³æ‰ web ç•Œé¢å¹¶æŒ‰ä¸‹ &lt;code&gt;Ctrl+C&lt;/code&gt; æ¥åœæ­¢ UI å¼•æ“ã€‚åƒæäº¤ä»£ç ä¸€æ ·æäº¤ä½ çš„ web ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ fossil commit -m &amp;#39;web ui updates&amp;#39;
New_Version: 11fe7f2855a3246c303df00ec725d0fca526fa0b83fa67c95db92283e8273c60
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç°åœ¨ä½ å¯ä»¥é…ç½®ä½ çš„ Fossil æœåŠ¡å™¨äº†ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŠŠä½ çš„ Fossil ä»“åº“ï¼ˆæœ¬ä¾‹ä¸­æ˜¯ &lt;code&gt;myproject.fossil&lt;/code&gt;ï¼‰å¤åˆ¶åˆ°æœåŠ¡å™¨ï¼Œä½ åªéœ€è¦è¿™ä¸€ä¸ªæ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä½ çš„æœåŠ¡å™¨æ²¡æœ‰å®‰è£… Fossilï¼Œå°±åœ¨ä½ çš„æœåŠ¡å™¨ä¸Šå®‰è£… Fossilã€‚åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…çš„è¿‡ç¨‹è·Ÿåœ¨æœ¬åœ°ä¸€æ ·ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ä½ çš„ &lt;code&gt;cgi-bin&lt;/code&gt; ç›®å½•ä¸‹ï¼ˆæˆ–å®ƒå¯¹åº”çš„ç›®å½•ï¼Œè¿™å–å†³äºä½ çš„ HTTP å®ˆæŠ¤è¿›ç¨‹ï¼‰åˆ›å»ºä¸€ä¸ªåä¸º &lt;code&gt;repo_myproject.cgi&lt;/code&gt; çš„æ–‡ä»¶ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;#!/usr/local/bin/fossil
repository: /home/klaatu/public_html/myproject.fossil
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ·»åŠ å¯æ‰§è¡Œæƒé™ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ chmod +x repo_myproject.cgi
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä½ éœ€è¦åšçš„éƒ½å·²ç»åšå®Œäº†ã€‚ç°åœ¨å¯ä»¥é€šè¿‡äº’è”ç½‘è®¿é—®ä½ çš„é¡¹ç›®äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥é€šè¿‡ CGI è„šæœ¬æ¥è®¿é—® web UIï¼Œä¾‹å¦‚ &lt;code&gt;https://example.com/cgi-bin/repo_myproject.cgi&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä½ ä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œæ¥è¿›è¡Œäº¤äº’ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ fossil clone https://klaatu@example.com/cgi-bin/repo_myproject.cgi
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åœ¨æœ¬åœ°çš„å…‹éš†ä»“åº“ä¸­å·¥ä½œæ—¶ï¼Œä½ éœ€è¦ä½¿ç”¨ &lt;code&gt;push&lt;/code&gt; å­å‘½ä»¤æŠŠæœ¬åœ°çš„ä¿®æ”¹æ¨é€åˆ°è¿œç¨‹çš„ä»“åº“ï¼Œä½¿ç”¨ &lt;code&gt;pull&lt;/code&gt; å­å‘½ä»¤æŠŠè¿œç¨‹çš„ä¿®æ”¹æ‹‰å–åˆ°æœ¬åœ°ä»“åº“ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ fossil push https://klaatu@example.com/cgi-bin/repo_myproject.cgi
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;ä½¿ç”¨-fossil-ä½œä¸ºç‹¬ç«‹çš„æ‰˜ç®¡&#34;&gt;ä½¿ç”¨ Fossil ä½œä¸ºç‹¬ç«‹çš„æ‰˜ç®¡&lt;/h3&gt;
&lt;p&gt;Fossil å°†å¤§é‡çš„æƒåŠ›äº¤åˆ°äº†ä½ çš„æ‰‹ä¸­ï¼ˆä»¥åŠä½ çš„åˆä½œè€…çš„æ‰‹ä¸­ï¼‰ï¼Œè®©ä½ ä¸å†ä¾èµ–æ‰˜ç®¡æœåŠ¡ã€‚æœ¬æ–‡åªæ˜¯ç®€å•çš„ä»‹ç»äº†åŸºæœ¬æ¦‚å¿µã€‚ä½ çš„ä»£ç é¡¹ç›®è¿˜ä¼šç”¨åˆ°å¾ˆå¤šæœ‰ç”¨çš„ Fossil åŠŸèƒ½ã€‚å°è¯•ä¸€ä¸‹ Fossilã€‚å®ƒä¸ä»…ä¼šæ”¹å˜ä½ å¯¹ç‰ˆæœ¬æ§åˆ¶çš„ç†è§£ï¼›å®ƒä¼šè®©ä½ ä¸å†è€ƒè™‘å…¶ä»–çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://opensource.com/article/20/11/fossil&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://opensource.com/article/20/11/fossil&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://opensource.com/users/klaatu&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Klaatu&lt;/a&gt;
é€‰é¢˜ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lujun9972&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;lujun9972&lt;/a&gt;
è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;lxbwolf&lt;/a&gt;
æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/wxy&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;wxy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/LCTT/TranslateProject&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;LCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://linux.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Linuxä¸­å›½&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
</description>
        </item>
        <item>
        <title>è·³è¡¨çš„å¢åˆ æ”¹æŸ¥</title>
        <link>https://lxb.wiki/942c23ec/</link>
        <pubDate>Wed, 02 Dec 2020 21:06:56 +0000</pubDate>
        
        <guid>https://lxb.wiki/942c23ec/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h3 id=&#34;å¿«é€Ÿäº†è§£è·³è¡¨&#34;&gt;å¿«é€Ÿäº†è§£è·³è¡¨&lt;/h3&gt;
&lt;p&gt;è·³è·ƒè¡¨(ç®€ç§°è·³è¡¨)ç”±ç¾å›½è®¡ç®—æœºç§‘å­¦å®¶&lt;em&gt;&lt;strong&gt;William Pughå‘æ˜äº1989å¹´&lt;/strong&gt;&lt;/em&gt;ã€‚ä»–åœ¨è®ºæ–‡ã€ŠSkip lists: a probabilistic alternative to balanced treesã€‹ä¸­è¯¦ç»†ä»‹ç»äº†è·³è¡¨çš„æ•°æ®ç»“æ„å’Œæ’å…¥åˆ é™¤ç­‰æ“ä½œã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€‹	è·³è¡¨(SkipListï¼Œå…¨ç§°è·³è·ƒè¡¨)æ˜¯ç”¨äºæœ‰åºå…ƒç´ åºåˆ—å¿«é€Ÿæœç´¢æŸ¥æ‰¾çš„ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œè·³è¡¨æ˜¯ä¸€ä¸ªéšæœºåŒ–çš„æ•°æ®ç»“æ„ï¼Œå®è´¨å°±æ˜¯ä¸€ç§å¯ä»¥è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾çš„æœ‰åºé“¾è¡¨ã€‚è·³è¡¨åœ¨åŸæœ‰çš„æœ‰åºé“¾è¡¨ä¸Šé¢å¢åŠ äº†å¤šçº§ç´¢å¼•ï¼Œé€šè¿‡ç´¢å¼•æ¥å®ç°å¿«é€ŸæŸ¥æ‰¾ã€‚è·³è¡¨ä¸ä»…èƒ½æé«˜æœç´¢æ€§èƒ½ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥æé«˜æ’å…¥å’Œåˆ é™¤æ“ä½œçš„æ€§èƒ½ã€‚å®ƒåœ¨æ€§èƒ½ä¸Šå’Œçº¢é»‘æ ‘ï¼ŒAVLæ ‘ä¸ç›¸ä¸Šä¸‹ï¼Œä½†æ˜¯è·³è¡¨çš„åŸç†éå¸¸ç®€å•ï¼Œå®ç°ä¹Ÿæ¯”çº¢é»‘æ ‘ç®€å•å¾ˆå¤šã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é“¾è¡¨çš„ä¼˜åŠ¿å°±æ˜¯æ›´é«˜æ•ˆçš„æ’å…¥ã€åˆ é™¤ã€‚&lt;strong&gt;ç—›ç‚¹å°±æ˜¯æŸ¥è¯¢å¾ˆæ…¢å¾ˆæ…¢&lt;/strong&gt;ï¼æ¯æ¬¡æŸ¥è¯¢éƒ½æ˜¯ä¸€ç§O(n)å¤æ‚åº¦çš„æ“ä½œ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201228011145.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªå¸¦å¤´ç»“ç‚¹çš„é“¾è¡¨(å¤´ç»“ç‚¹ç›¸å½“äºä¸€ä¸ªå›ºå®šçš„å…¥å£ï¼Œä¸å­˜å‚¨æœ‰æ„ä¹‰çš„å€¼)ï¼Œæ¯æ¬¡æŸ¥æ‰¾éƒ½éœ€è¦ä¸€ä¸ªä¸ªæšä¸¾ï¼Œç›¸å½“çš„æ…¢ï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½ç¨å¾®ä¼˜åŒ–ä¸€ä¸‹ï¼Œè®©å®ƒç¨å¾®è·³ä¸€è·³å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œæˆ‘ä»¬çŸ¥é“å¾ˆå¤šç®—æ³•å’Œæ•°æ®ç»“æ„&lt;strong&gt;ä»¥ç©ºé—´æ¢æ—¶é—´&lt;/strong&gt;ï¼Œæˆ‘ä»¬åœ¨ä¸Šé¢åŠ ä¸€å±‚ç´¢å¼•ï¼Œè®©éƒ¨åˆ†èŠ‚ç‚¹åœ¨ä¸Šå±‚èƒ½å¤Ÿç›´æ¥å®šä½åˆ°ï¼Œè¿™æ ·é“¾è¡¨çš„æŸ¥è¯¢æ—¶é—´è¿‘ä¹å‡å°‘ä¸€åŠ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201228011307.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·ï¼Œåœ¨æŸ¥è¯¢æŸä¸ªèŠ‚ç‚¹çš„æ—¶å€™ï¼Œé¦–å…ˆä¼šä»ä¸Šä¸€å±‚å¿«é€Ÿå®šä½èŠ‚ç‚¹æ‰€åœ¨çš„ä¸€ä¸ªèŒƒå›´ï¼Œå¦‚æœæ‰¾åˆ°å…·ä½“èŒƒå›´å‘ä¸‹ç„¶åæŸ¥æ‰¾ä»£ä»·å¾ˆå°ï¼Œå½“ç„¶åœ¨è¡¨çš„ç»“æ„è®¾è®¡ä¸Šä¼šå¢åŠ ä¸€ä¸ªå‘ä¸‹çš„ç´¢å¼•(æŒ‡é’ˆ)ç”¨æ¥æŸ¥æ‰¾ç¡®å®šåº•å±‚èŠ‚ç‚¹ã€‚å¹³å‡æŸ¥æ‰¾é€Ÿåº¦å¹³å‡ä¸ºO(n/2)ã€‚ä½†æ˜¯å½“èŠ‚ç‚¹æ•°é‡å¾ˆå¤§çš„æ—¶å€™ï¼Œå®ƒä¾æ—§å¾ˆæ…¢å¾ˆæ…¢ã€‚æˆ‘ä»¬éƒ½çŸ¥é“äºŒåˆ†æŸ¥æ‰¾æ˜¯æ¯æ¬¡éƒ½èƒ½æŠ˜åŠçš„å»å‹ç¼©æŸ¥æ‰¾èŒƒå›´ï¼Œè¦æ˜¯æœ‰åºé“¾è¡¨ä¹Ÿèƒ½è¿™ä¹ˆè·³èµ·æ¥é‚£å°±å¤ªå®Œç¾äº†ã€‚æ²¡é”™&lt;strong&gt;è·³è¡¨å°±èƒ½è®©é“¾è¡¨æ‹¥æœ‰è¿‘ä¹çš„æ¥è¿‘äºŒåˆ†æŸ¥æ‰¾çš„æ•ˆç‡çš„ä¸€ç§æ•°æ®ç»“æ„&lt;/strong&gt;ï¼Œå…¶åŸç†ä¾ç„¶æ˜¯ç»™ä¸Šé¢åŠ è‹¥å¹²å±‚ç´¢å¼•ï¼Œä¼˜åŒ–æŸ¥æ‰¾é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201228011343.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡è¿™æ ·çš„ä¸€ä¸ªæ•°æ®ç»“æ„å¯¹æœ‰åºé“¾è¡¨è¿›è¡ŒæŸ¥æ‰¾éƒ½èƒ½è¿‘ä¹äºŒåˆ†çš„æ€§èƒ½ã€‚å°±æ˜¯åœ¨ä¸Šé¢ç»´æŠ¤é‚£ä¹ˆå¤šå±‚çš„ç´¢å¼•ï¼Œé¦–å…ˆåœ¨æœ€é«˜çº§ç´¢å¼•ä¸ŠæŸ¥æ‰¾æœ€åä¸€ä¸ªå°äºå½“å‰æŸ¥æ‰¾å…ƒç´ çš„ä½ç½®ï¼Œç„¶åå†è·³åˆ°æ¬¡é«˜çº§ç´¢å¼•ç»§ç»­æŸ¥æ‰¾ï¼Œç›´åˆ°è·³åˆ°æœ€åº•å±‚ä¸ºæ­¢ï¼Œè¿™æ—¶å€™ä»¥åŠååˆ†æ¥è¿‘è¦æŸ¥æ‰¾çš„å…ƒç´ çš„ä½ç½®äº†(å¦‚æœæŸ¥æ‰¾å…ƒç´ å­˜åœ¨çš„è¯)ã€‚ç”±äºæ ¹æ®ç´¢å¼•å¯ä»¥ä¸€æ¬¡è·³è¿‡å¤šä¸ªå…ƒç´ ï¼Œæ‰€ä»¥è·³æŸ¥æ‰¾çš„æŸ¥æ‰¾é€Ÿåº¦ä¹Ÿå°±å˜å¿«äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºç†æƒ³çš„è·³è¡¨ï¼Œæ¯å‘ä¸Šä¸€å±‚ç´¢å¼•èŠ‚ç‚¹æ•°é‡éƒ½æ˜¯ä¸‹ä¸€å±‚çš„1/2.é‚£ä¹ˆå¦‚æœnä¸ªèŠ‚ç‚¹å¢åŠ çš„èŠ‚ç‚¹æ•°é‡(1/2+1/4+â€¦)&amp;lt;nã€‚å¹¶ä¸”å±‚æ•°è¾ƒä½ï¼Œå¯¹æŸ¥æ‰¾æ•ˆæœå½±å“ä¸å¤§ã€‚ä½†æ˜¯å¯¹äºè¿™ä¹ˆä¸€ä¸ªç»“æ„ï¼Œä½ å¯èƒ½ä¼šç–‘æƒ‘ï¼Œè¿™æ ·å®Œç¾çš„ç»“æ„çœŸçš„å­˜åœ¨å—ï¼Ÿå¤§æ¦‚ç‡ä¸å­˜åœ¨çš„ï¼Œå› ä¸ºä½œä¸ºä¸€ä¸ªé“¾è¡¨ï¼Œå°‘ä¸äº†å¢åˆ è¯¥æŸ¥çš„ä¸€äº›æ“ä½œã€‚è€Œåˆ é™¤å’Œæ’å…¥å¯èƒ½ä¼šæ”¹å˜æ•´ä¸ªç»“æ„ï¼Œæ‰€ä»¥ä¸Šé¢çš„è¿™äº›éƒ½æ˜¯ç†æƒ³çš„ç»“æ„ï¼Œåœ¨æ’å…¥çš„æ—¶å€™æ˜¯å¦æ·»åŠ ä¸Šå±‚ç´¢å¼•æ˜¯ä¸ªæ¦‚ç‡é—®é¢˜(1/2çš„æ¦‚ç‡)ï¼Œ&lt;/p&gt;
&lt;h3 id=&#34;è·³è¡¨çš„å¢åˆ æ”¹æŸ¥&#34;&gt;è·³è¡¨çš„å¢åˆ æ”¹æŸ¥&lt;/h3&gt;
&lt;p&gt;åœ¨å®ç°æœ¬è·³è¡¨çš„è¿‡ç¨‹ä¸ºäº†ä¾¿äºæ“ä½œï¼Œæˆ‘ä»¬å°†è·³è¡¨çš„å¤´ç»“ç‚¹(head)çš„keyè®¾ä¸ºintçš„æœ€å°å€¼(ä¸€å®šæ»¡è¶³å·¦å°å³å¤§æ–¹ä¾¿æ¯”è¾ƒ)ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæ¯ä¸ªèŠ‚ç‚¹çš„è®¾ç½®ï¼Œè®¾ç½®æˆSkipNodeç±»ï¼Œä¸ºäº†é˜²æ­¢åˆå­¦è€…å°†nextå‘ä¸‹è¿˜æ˜¯å‘å³ææ··ï¼Œç›´æ¥è®¾ç½®rightï¼Œdownä¸¤ä¸ªæŒ‡é’ˆã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;SkipNode&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; key&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    T value&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    SkipNode right&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;down&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å³ä¸‹ä¸ªæ–¹å‘çš„æŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;SkipNode&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; key&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;T value&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;value&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;value&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è·³è¡¨çš„ç»“æ„å’Œåˆå§‹åŒ–ä¹Ÿå¾ˆé‡è¦ï¼Œå…¶ä¸»è¦å‚æ•°å’Œåˆå§‹åŒ–æ–¹æ³•ä¸ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;SkipList&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    SkipNode headNode&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å¤´èŠ‚ç‚¹ï¼Œå…¥å£
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; highLevel&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å½“å‰è·³è¡¨ç´¢å¼•å±‚æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    Random random&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ç”¨äºæŠ•æ·ç¡¬å¸
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; MAX_LEVEL &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;32&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//æœ€å¤§çš„å±‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    SkipList&lt;span style=&#34;color:#f92672&#34;&gt;(){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        random&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; Random&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        headNode&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; SkipNode&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;Integer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;MIN_VALUE&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        highLevel&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//å…¶ä»–æ–¹æ³•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;æŸ¥è¯¢æ“ä½œ&#34;&gt;æŸ¥è¯¢æ“ä½œ&lt;/h4&gt;
&lt;p&gt;å¾ˆå¤šæ—¶å€™é“¾è¡¨ä¹Ÿå¯èƒ½è¿™æ ·ç›¸è¿ä»…ä»…æ˜¯æŸä¸ªå…ƒç´ æˆ–è€…keyä½œä¸ºæœ‰åºçš„æ ‡å‡†ã€‚æ‰€ä»¥æœ‰å¯èƒ½é“¾è¡¨å†…éƒ¨å­˜åœ¨ä¸€äº›valueã€‚ä¸è¿‡ä¿®æ”¹å’ŒæŸ¥è¯¢å…¶å®éƒ½æ˜¯ä¸€ä¸ªæ“ä½œï¼Œæ‰¾åˆ°å…³é”®æ•°å­—(key)ã€‚å¹¶ä¸”æŸ¥æ‰¾çš„æµç¨‹ä¹Ÿå¾ˆç®€å•ï¼Œè®¾ç½®ä¸€ä¸ªä¸´æ—¶èŠ‚ç‚¹team=headã€‚å½“&lt;strong&gt;teamä¸ä¸ºnull&lt;/strong&gt;å…¶æµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;(1) ä»teamèŠ‚ç‚¹å‡ºå‘ï¼Œ&lt;strong&gt;å¦‚æœå½“å‰èŠ‚ç‚¹çš„keyä¸æŸ¥è¯¢çš„keyç›¸ç­‰&lt;/strong&gt;ï¼Œé‚£ä¹ˆè¿”å›å½“å‰èŠ‚ç‚¹(å¦‚æœæ˜¯ä¿®æ”¹æ“ä½œé‚£ä¹ˆä¸€ç›´å‘ä¸‹è¿›è¡Œä¿®æ”¹å€¼å³å¯)ã€‚&lt;/p&gt;
&lt;p&gt;(2) å¦‚æœkeyä¸ç›¸ç­‰ï¼Œä¸”&lt;strong&gt;å³ä¾§ä¸ºnull&lt;/strong&gt;ï¼Œé‚£ä¹ˆè¯æ˜åªèƒ½å‘ä¸‹(ç»“æœå¯èƒ½å‡ºç°åœ¨ä¸‹å³æ–¹å‘)ï¼Œæ­¤æ—¶team=team.down&lt;/p&gt;
&lt;p&gt;(3) å¦‚æœkeyä¸ç›¸ç­‰ï¼Œä¸”å³ä¾§ä¸ä¸ºnullï¼Œä¸”&lt;strong&gt;å³ä¾§èŠ‚ç‚¹keyå°äºå¾…æŸ¥è¯¢çš„key&lt;/strong&gt;ã€‚é‚£ä¹ˆè¯´æ˜åŒçº§è¿˜å¯å‘å³ï¼Œæ­¤æ—¶team=team.right&lt;/p&gt;
&lt;p&gt;(4)ï¼ˆå¦åˆ™çš„æƒ…å†µï¼‰å¦‚æœkeyä¸ç›¸ç­‰ï¼Œä¸”å³ä¾§ä¸ä¸ºnullï¼Œä¸”&lt;strong&gt;å³ä¾§èŠ‚ç‚¹keyå¤§äºå¾…æŸ¥è¯¢çš„key&lt;/strong&gt; ã€‚é‚£ä¹ˆè¯´æ˜å¦‚æœæœ‰ç»“æœçš„è¯å°±åœ¨è¿™ä¸ªç´¢å¼•å’Œä¸‹ä¸ªç´¢å¼•ä¹‹é—´ï¼Œæ­¤æ—¶team=team.downã€‚&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆå°†æŒ‰ç…§è¿™ä¸ªæ­¥éª¤è¿”å›æ­£ç¡®çš„èŠ‚ç‚¹æˆ–è€…null(è¯´æ˜æ²¡æŸ¥åˆ°)ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201228011553.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ä¸Šå›¾æŸ¥è¯¢12èŠ‚ç‚¹ï¼Œé¦–å…ˆç¬¬ä¸€æ­¥ä»headå‡ºå‘å‘ç°å³ä¾§ä¸ä¸ºç©ºï¼Œä¸”7&amp;lt;12,å‘å³ï¼›ç¬¬äºŒæ­¥å³ä¾§ä¸ºnullå‘ä¸‹ï¼›ç¬¬ä¸‰æ­¥èŠ‚ç‚¹7çš„å³ä¾§10&amp;lt;12ç»§ç»­å‘å³ï¼›ç¬¬å››æ­¥10å³ä¾§ä¸ºnullå‘ä¸‹ï¼›ç¬¬äº”æ­¥å³ä¾§12å°äºç­‰äºå‘å³ã€‚ç¬¬å…­æ­¥èµ·å§‹å‘ç°ç›¸ç­‰è¿”å›èŠ‚ç‚¹ç»“æŸã€‚&lt;/p&gt;
&lt;p&gt;è€Œè¿™å—çš„ä»£ç ä¹Ÿéå¸¸å®¹æ˜“ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; SkipNode &lt;span style=&#34;color:#a6e22e&#34;&gt;search&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; key&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    SkipNode team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;headNode&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;  team&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å³ä¾§æ²¡æœ‰äº†ï¼Œåªèƒ½ä¸‹é™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;down&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//éœ€è¦ä¸‹é™å»å¯»æ‰¾
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;down&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;//å³ä¾§æ¯”è¾ƒå°å‘å³
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;åˆ é™¤æ“ä½œ&#34;&gt;åˆ é™¤æ“ä½œ&lt;/h4&gt;
&lt;p&gt;åˆ é™¤æ“ä½œæ¯”èµ·æŸ¥è¯¢ç¨å¾®å¤æ‚ä¸€ä¸¢ä¸¢ï¼Œä½†æ˜¯æ¯”æ’å…¥ç®€å•ã€‚åˆ é™¤éœ€è¦æ”¹å˜é“¾è¡¨ç»“æ„æ‰€ä»¥éœ€è¦å¤„ç†å¥½èŠ‚ç‚¹ä¹‹é—´çš„è”ç³»ã€‚å¯¹äºåˆ é™¤æ“ä½œä½ éœ€è¦è°¨è®°ä»¥ä¸‹å‡ ç‚¹ï¼š&lt;/p&gt;
&lt;p&gt;(1)åˆ é™¤å½“å‰èŠ‚ç‚¹å’Œè¿™ä¸ªèŠ‚ç‚¹çš„å‰åèŠ‚ç‚¹éƒ½æœ‰å…³ç³»&lt;/p&gt;
&lt;p&gt;(2)åˆ é™¤å½“å‰å±‚èŠ‚ç‚¹ä¹‹åï¼Œä¸‹ä¸€å±‚è¯¥keyçš„èŠ‚ç‚¹ä¹Ÿè¦åˆ é™¤ï¼Œä¸€ç›´åˆ é™¤åˆ°æœ€åº•å±‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®è¿™ä¸¤ç‚¹åˆ†æä¸€ä¸‹ï¼šå¦‚æœæ‰¾åˆ°å½“å‰èŠ‚ç‚¹äº†ï¼Œ&lt;strong&gt;å®ƒçš„å‰é¢ä¸€ä¸ªèŠ‚ç‚¹æ€ä¹ˆæŸ¥æ‰¾å‘¢&lt;/strong&gt;ï¼Ÿè¿™ä¸ªæ€»ä¸èƒ½åœ¨éå†ä¸€éå§ï¼æœ‰çš„ä½¿ç”¨å››ä¸ªæ–¹å‘çš„æŒ‡é’ˆ(ä¸Šä¸‹å·¦å³)ç”¨æ¥æ‰¾åˆ°å·¦ä¾§èŠ‚ç‚¹ã€‚æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯è¿™é‡Œå¯ä»¥&lt;strong&gt;ç‰¹æ®Šå¤„ç†ä¸€ä¸‹&lt;/strong&gt; ï¼Œä¸ç›´æ¥åˆ¤æ–­å’Œæ“ä½œèŠ‚ç‚¹ï¼Œå…ˆæ‰¾åˆ°&lt;strong&gt;å¾…åˆ é™¤èŠ‚ç‚¹çš„å·¦ä¾§èŠ‚ç‚¹&lt;/strong&gt;ã€‚é€šè¿‡è¿™ä¸ªèŠ‚ç‚¹å³å¯å®Œæˆåˆ é™¤ï¼Œç„¶åè¿™ä¸ªèŠ‚ç‚¹ç›´æ¥å‘ä¸‹å»æ‰¾ä¸‹ä¸€å±‚å¾…åˆ é™¤çš„å·¦ä¾§èŠ‚ç‚¹ã€‚è®¾ç½®ä¸€ä¸ªä¸´æ—¶èŠ‚ç‚¹team=headï¼Œ&lt;strong&gt;å½“teamä¸ä¸ºnull&lt;/strong&gt;å…·ä½“å¾ªç¯æµç¨‹ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;(1)å¦‚æœ&lt;strong&gt;teamå³ä¾§ä¸ºnull&lt;/strong&gt;ï¼Œé‚£ä¹ˆteam=team.down(ä¹‹æ‰€ä»¥æ•¢ç›´æ¥è¿™ä¹ˆåˆ¤æ–­æ˜¯å› ä¸ºå·¦ä¾§æœ‰å¤´ç»“ç‚¹åœ¨å·¦ä¾§ï¼Œä¸ç”¨æ‹…å¿ƒç‰¹æ®Šæƒ…å†µ)&lt;/p&gt;
&lt;p&gt;(2)å¦‚æœteamå³ä¾§ä¸ ä¸ºnullï¼Œå¹¶ä¸”&lt;strong&gt;å³ä¾§çš„keyç­‰äºå¾…åˆ é™¤çš„key&lt;/strong&gt;ï¼Œé‚£ä¹ˆå…ˆåˆ é™¤èŠ‚ç‚¹ï¼Œå†teamå‘ä¸‹team=team.downä¸ºäº†åˆ é™¤ä¸‹å±‚èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;(3)å¦‚æœteamå³ä¾§ä¸ ä¸ºnullï¼Œå¹¶ä¸”&lt;strong&gt;å³ä¾§keyå°äºå¾…åˆ é™¤çš„key&lt;/strong&gt;ï¼Œé‚£ä¹ˆteamå‘å³team=team.rightã€‚&lt;/p&gt;
&lt;p&gt;(4)å¦‚æœteamå³ä¾§ä¸ ä¸ºnullï¼Œå¹¶ä¸”&lt;strong&gt;å³ä¾§keyå¤§äºå¾…åˆ é™¤çš„key&lt;/strong&gt;ï¼Œé‚£ä¹ˆteamå‘ä¸‹team=team.downï¼Œåœ¨ä¸‹å±‚ç»§ç»­æŸ¥æ‰¾åˆ é™¤èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201228011642.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ä¸Šå›¾åˆ é™¤10èŠ‚ç‚¹ï¼Œé¦–å…ˆteam=headä»teamå‡ºå‘ï¼Œ7&amp;lt;10å‘å³(team=team.rightåé¢çœç•¥)ï¼›ç¬¬äºŒæ­¥å³ä¾§ä¸ºnullåªèƒ½å‘ä¸‹ï¼›ç¬¬ä¸‰éƒ¨å³ä¾§ä¸º10åœ¨å½“å‰å±‚åˆ é™¤10èŠ‚ç‚¹ç„¶åå‘ä¸‹ç»§ç»­æŸ¥æ‰¾ä¸‹ä¸€å±‚10èŠ‚ç‚¹ï¼›ç¬¬å››æ­¥8&amp;lt;10å‘å³ï¼›ç¬¬äº”æ­¥å³ä¾§ä¸º10åˆ é™¤è¯¥èŠ‚ç‚¹å¹¶ä¸”teamå‘ä¸‹ã€‚teamä¸ºnullè¯´æ˜åˆ é™¤å®Œæ¯•é€€å‡ºå¾ªç¯ã€‚&lt;/p&gt;
&lt;p&gt;åˆ é™¤æ“ä½œå®ç°çš„ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;delete&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; key&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//åˆ é™¤ä¸éœ€è¦è€ƒè™‘å±‚æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    SkipNode team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;headNode&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å³ä¾§æ²¡æœ‰äº†ï¼Œè¯´æ˜è¿™ä¸€å±‚æ‰¾åˆ°ï¼Œæ²¡æœ‰åªèƒ½ä¸‹é™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;down&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//æ‰¾åˆ°èŠ‚ç‚¹ï¼Œå³ä¾§å³ä¸ºå¾…åˆ é™¤èŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//åˆ é™¤å³ä¾§èŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;down&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å‘ä¸‹ç»§ç»­æŸ¥æ‰¾åˆ é™¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å³ä¾§å·²ç»ä¸å¯èƒ½äº†ï¼Œå‘ä¸‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;down&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;//èŠ‚ç‚¹è¿˜åœ¨å³ä¾§
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;æ’å…¥æ“ä½œ&#34;&gt;æ’å…¥æ“ä½œ&lt;/h4&gt;
&lt;p&gt;æ’å…¥æ“ä½œåœ¨å®ç°èµ·æ¥æ˜¯æœ€éº»çƒ¦çš„ï¼Œéœ€è¦çš„è€ƒè™‘çš„ä¸œè¥¿æœ€å¤šã€‚å›é¡¾æŸ¥è¯¢ï¼Œä¸éœ€è¦åŠ¨ç´¢å¼•ï¼›å›é¡¾åˆ é™¤ï¼Œæ¯å±‚ç´¢å¼•å¦‚æœæœ‰åˆ é™¤å°±æ˜¯äº†ã€‚ä½†æ˜¯æ’å…¥ä¸ä¸€æ ·äº†ï¼Œ&lt;strong&gt;æ’å…¥éœ€è¦è€ƒè™‘æ˜¯å¦æ’å…¥ç´¢å¼•ï¼Œæ’å…¥å‡ å±‚&lt;/strong&gt;ç­‰é—®é¢˜ã€‚ç”±äºéœ€è¦æ’å…¥åˆ é™¤æ‰€ä»¥æˆ‘ä»¬è‚¯å®šæ— æ³•ç»´æŠ¤ä¸€ä¸ªå®Œå…¨ç†æƒ³çš„ç´¢å¼•ç»“æ„ï¼Œå› ä¸ºå®ƒè€—è´¹çš„ä»£ä»·å¤ªé«˜ã€‚ä½†æˆ‘ä»¬ä½¿ç”¨&lt;strong&gt;éšæœºåŒ–&lt;/strong&gt;çš„æ–¹æ³•å»åˆ¤æ–­æ˜¯å¦å‘ä¸Šå±‚æ’å…¥ç´¢å¼•ã€‚å³äº§ç”Ÿä¸€ä¸ª[0-1]çš„éšæœºæ•°å¦‚æœå°äº0.5å°±å‘ä¸Šæ’å…¥ç´¢å¼•ï¼Œæ’å…¥å®Œæ¯•åå†æ¬¡ä½¿ç”¨éšæœºæ•°åˆ¤æ–­æ˜¯å¦å‘ä¸Šæ’å…¥ç´¢å¼•ã€‚è¿æ°”å¥½è¿™ä¸ªå€¼å¯èƒ½æ˜¯å¤šå±‚ç´¢å¼•ï¼Œè¿æ°”ä¸å¥½åªæ’å…¥æœ€åº•å±‚(è¿™æ˜¯100%æ’å…¥çš„)ã€‚ä½†æ˜¯ç´¢å¼•ä¹Ÿä¸èƒ½ä¸é™åˆ¶é«˜åº¦ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šè®¾ç½®ç´¢å¼•æœ€é«˜å€¼å¦‚æœå¤§äºè¿™ä¸ªå€¼å°±ä¸å¾€ä¸Šç»§ç»­æ·»åŠ ç´¢å¼•äº†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä¸€æ­¥æ­¥å‰–æè¯¥æ€ä¹ˆåšï¼Œå…¶æµç¨‹ä¸º&lt;/p&gt;
&lt;p&gt;(1)é¦–å…ˆé€šè¿‡ä¸Šé¢æŸ¥æ‰¾çš„æ–¹å¼ï¼Œæ‰¾åˆ°&lt;strong&gt;å¾…æ’å…¥çš„å·¦èŠ‚ç‚¹&lt;/strong&gt;ã€‚æ’å…¥çš„è¯æœ€åº•å±‚è‚¯å®šæ˜¯éœ€è¦æ’å…¥çš„ï¼Œæ‰€ä»¥é€šè¿‡é“¾è¡¨æ’å…¥èŠ‚ç‚¹(éœ€è¦è€ƒè™‘æ˜¯å¦ä¸ºæœ«å°¾èŠ‚ç‚¹)&lt;/p&gt;
&lt;p&gt;(2)æ’å…¥å®Œè¿™ä¸€å±‚ï¼Œéœ€è¦è€ƒè™‘ä¸Šä¸€å±‚æ˜¯å¦æ’å…¥ï¼Œé¦–å…ˆåˆ¤æ–­å½“å‰ç´¢å¼•å±‚çº§ï¼Œå¦‚æœå¤§äºæœ€å¤§å€¼é‚£ä¹ˆå°±åœæ­¢(æ¯”å¦‚å·²ç»åˆ°æœ€é«˜ç´¢å¼•å±‚äº†)ã€‚å¦åˆ™è®¾ç½®ä¸€ä¸ªéšæœºæ•°1/2çš„æ¦‚ç‡å‘ä¸Šæ’å…¥ä¸€å±‚ç´¢å¼•(å› ä¸ºç†æƒ³çŠ¶æ€ä¸‹çš„å°±æ˜¯æ¯2ä¸ªå‘ä¸Šå»ºä¸€ä¸ªç´¢å¼•èŠ‚ç‚¹)ã€‚&lt;/p&gt;
&lt;p&gt;(3)ç»§ç»­(2)çš„æ“ä½œï¼Œç›´åˆ°æ¦‚ç‡é€€å‡ºæˆ–è€…ç´¢å¼•å±‚æ•°å¤§äºæœ€å¤§ç´¢å¼•å±‚ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨&lt;strong&gt;å…·ä½“å‘ä¸Šæ’å…¥&lt;/strong&gt;çš„æ—¶å€™ï¼Œå®è´¨ä¸Šè¿˜æœ‰éå¸¸é‡è¦çš„ç»†èŠ‚éœ€è¦è€ƒè™‘ã€‚é¦–å…ˆ&lt;strong&gt;å¦‚ä½•æ‰¾åˆ°ä¸Šå±‚çš„å¾…æ’å…¥èŠ‚ç‚¹&lt;/strong&gt; ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå„ä¸ªå®ç°æ–¹æ³•å¯èƒ½ä¸åŒï¼Œå¦‚æœæœ‰å·¦ã€ä¸ŠæŒ‡å‘çš„æŒ‡é’ˆé‚£ä¹ˆå¯ä»¥å‘å·¦å‘ä¸Šæ‰¾åˆ°ä¸Šå±‚éœ€è¦æ’å…¥çš„èŠ‚ç‚¹ï¼Œä½†æ˜¯å¦‚æœåªæœ‰å³æŒ‡å‘å’Œä¸‹æŒ‡å‘çš„æˆ‘ä»¬ä¹Ÿå¯ä»¥&lt;strong&gt;å·§å¦™çš„å€ŸåŠ©æŸ¥è¯¢è¿‡ç¨‹ä¸­è®°å½•ä¸‹é™çš„èŠ‚ç‚¹&lt;/strong&gt;ã€‚å› ä¸ºæ›¾ç»ä¸‹é™çš„èŠ‚ç‚¹å€’åºå°±æ˜¯éœ€è¦æ’å…¥çš„èŠ‚ç‚¹ï¼Œæœ€åº•å±‚ä¹Ÿä¸ä¾‹å¤–(å› ä¸ºæ²¡æœ‰åŒ¹é…å€¼ä¼šä¸‹é™ä¸ºnullç»“æŸå¾ªç¯)ã€‚åœ¨è¿™é‡Œæˆ‘ä½¿ç”¨&lt;strong&gt;æ ˆ&lt;/strong&gt;è¿™ä¸ªæ•°æ®ç»“æ„è¿›è¡Œå­˜å‚¨ï¼Œå½“ç„¶ä½¿ç”¨Listä¹Ÿå¯ä»¥ã€‚ä¸‹å›¾å°±æ˜¯ç»™äº†ä¸€ä¸ªæ’å…¥ç¤ºæ„å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201228011750.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å…¶æ¬¡å¦‚æœè¯¥å±‚æ˜¯ç›®å‰çš„&lt;strong&gt;æœ€é«˜å±‚ç´¢å¼•&lt;/strong&gt;ï¼Œéœ€è¦&lt;strong&gt;ç»§ç»­å‘ä¸Šå»ºç«‹ç´¢å¼•&lt;/strong&gt;åº”è¯¥æ€ä¹ˆåŠï¼Ÿ&lt;/p&gt;
&lt;p&gt;é¦–å…ˆè·³è¡¨æœ€åˆè‚¯å®šæ˜¯æ²¡ç´¢å¼•çš„ï¼Œç„¶åæ…¢æ…¢æ·»åŠ èŠ‚ç‚¹æ‰æœ‰ä¸€å±‚ã€äºŒå±‚ç´¢å¼•ï¼Œä½†æ˜¯å¦‚æœè¿™ä¸ªèŠ‚ç‚¹æ·»åŠ çš„ç´¢å¼•çªç ´å½“å‰æœ€é«˜å±‚ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™æ—¶å€™&lt;strong&gt;éœ€è¦æ³¨æ„&lt;/strong&gt;äº†ï¼Œè·³è¡¨çš„headéœ€è¦æ”¹å˜äº†ï¼Œæ–°å»ºä¸€ä¸ªListNodeèŠ‚ç‚¹ä½œä¸ºæ–°çš„headï¼Œå°†å®ƒçš„downæŒ‡å‘è€headï¼Œå°†è¿™ä¸ªheadèŠ‚ç‚¹åŠ å…¥æ ˆä¸­(ä¹Ÿå°±æ˜¯è¿™ä¸ªèŠ‚ç‚¹ä½œä¸ºä¸‹æ¬¡åé¢è¦æ’å…¥çš„èŠ‚ç‚¹)ï¼Œå°±æ¯”å¦‚ä¸Šé¢çš„9èŠ‚ç‚¹å¦‚æœè¿æ°”å¤Ÿå¥½åœ¨å¾€ä¸Šå»ºç«‹ä¸€å±‚èŠ‚ç‚¹ï¼Œä¼šæ˜¯è¿™æ ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201228011835.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ’å…¥ä¸Šå±‚çš„æ—¶å€™æ³¨æ„æ‰€æœ‰èŠ‚ç‚¹è¦æ–°å»º(æ‹·è´)ï¼Œé™¤äº†rightçš„æŒ‡å‘downçš„æŒ‡å‘ä¹Ÿä¸èƒ½å¿˜è®°ï¼ŒdownæŒ‡å‘ä¸Šä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥ç”¨ä¸€ä¸ªä¸´æ—¶èŠ‚ç‚¹ä½œä¸ºå‰é©±èŠ‚ç‚¹ã€‚å¦‚æœå±‚æ•°çªç ´å½“å‰æœ€é«˜å±‚ï¼Œå¤´headèŠ‚ç‚¹(å…¥å£)éœ€è¦æ”¹å˜ã€‚&lt;/p&gt;
&lt;p&gt;è¿™éƒ¨åˆ†æ›´å¤šçš„ç»†èŠ‚åœ¨ä»£ç ä¸­æ³¨é‡Šè§£é‡Šäº†ï¼Œè¯¦ç»†ä»£ç ä¸ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;SkipNode node&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; key&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;node&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    SkipNode findNode&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;search&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;findNode&lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å¦‚æœå­˜åœ¨è¿™ä¸ªkeyçš„èŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        findNode&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;value&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;node&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;value&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Stack&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;SkipNode&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;stack&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; Stack&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;SkipNode&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;();&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å­˜å‚¨å‘ä¸‹çš„èŠ‚ç‚¹ï¼Œè¿™äº›èŠ‚ç‚¹å¯èƒ½åœ¨å³ä¾§æ’å…¥èŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    SkipNode team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;headNode&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//æŸ¥æ‰¾å¾…æ’å…¥çš„èŠ‚ç‚¹   æ‰¾åˆ°æœ€åº•å±‚çš„å“ªä¸ªèŠ‚ç‚¹ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//è¿›è¡ŒæŸ¥æ‰¾æ“ä½œ 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å³ä¾§æ²¡æœ‰äº†ï¼Œåªèƒ½ä¸‹é™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            stack&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å°†æ›¾ç»å‘ä¸‹çš„èŠ‚ç‚¹è®°å½•ä¸€ä¸‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;down&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//éœ€è¦ä¸‹é™å»å¯»æ‰¾
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            stack&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å°†æ›¾ç»å‘ä¸‹çš„èŠ‚ç‚¹è®°å½•ä¸€ä¸‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;down&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;//å‘å³
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; level&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å½“å‰å±‚æ•°ï¼Œä»ç¬¬ä¸€å±‚æ·»åŠ (ç¬¬ä¸€å±‚å¿…é¡»æ·»åŠ ï¼Œå…ˆæ·»åŠ å†åˆ¤æ–­)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    SkipNode downNode&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//ä¿æŒå‰é©±èŠ‚ç‚¹(å³downçš„æŒ‡å‘ï¼Œåˆå§‹ä¸ºnull)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(!&lt;/span&gt;stack&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;isEmpty&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;())&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;//åœ¨è¯¥å±‚æ’å…¥node
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;stack&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;pop&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//æŠ›å‡ºå¾…æ’å…¥çš„å·¦ä¾§èŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        SkipNode nodeTeam&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; SkipNode&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;node&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; node&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;value&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//èŠ‚ç‚¹éœ€è¦é‡æ–°åˆ›å»º
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        nodeTeam&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;down&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;downNode&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å¤„ç†ç«–æ–¹å‘
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        downNode&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;nodeTeam&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//æ ‡è®°æ–°çš„èŠ‚ç‚¹ä¸‹æ¬¡ä½¿ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å³ä¾§ä¸ºnull è¯´æ˜æ’å…¥åœ¨æœ«å°¾
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;nodeTeam&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;//æ°´å¹³æ–¹å‘å¤„ç†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å³ä¾§è¿˜æœ‰èŠ‚ç‚¹ï¼Œæ’å…¥åœ¨ä¸¤è€…ä¹‹é—´
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            nodeTeam&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;nodeTeam&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;//è€ƒè™‘æ˜¯å¦éœ€è¦å‘ä¸Š
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;level&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;MAX_LEVEL&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å·²ç»åˆ°è¾¾æœ€é«˜çº§çš„èŠ‚ç‚¹å•¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;double&lt;/span&gt; num&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;random&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;nextDouble&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//[0-1]éšæœºæ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;num&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//è¿æ°”ä¸å¥½ç»“æŸ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        level&lt;span style=&#34;color:#f92672&#34;&gt;++;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;level&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;highLevel&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//æ¯”å½“å‰æœ€å¤§é«˜åº¦è¦é«˜ä½†æ˜¯ä¾ç„¶åœ¨å…è®¸èŒƒå›´å†… éœ€è¦æ”¹å˜headèŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            highLevel&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;level&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;//éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            SkipNode highHeadNode&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; SkipNode&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;Integer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;MIN_VALUE&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            highHeadNode&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;down&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;headNode&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            headNode&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;highHeadNode&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//æ”¹å˜head
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            stack&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;headNode&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//ä¸‹æ¬¡æŠ›å‡ºhead
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h3&gt;
&lt;p&gt;å¯¹äºä¸Šé¢ï¼Œè·³è¡¨å®Œæ•´åˆ†æå°±ç»“æŸå•¦ï¼Œå½“ç„¶ï¼Œä½ å¯èƒ½çœ‹åˆ°ä¸åŒå“ç§è·³è¡¨çš„å®ç°ï¼Œè¿˜æœ‰çš„ç”¨æ•°ç»„æ–¹å¼è¡¨ç¤ºä¸Šä¸‹å±‚çš„å…³ç³»è¿™æ ·ä¹Ÿå¯ä»¥ï¼Œä½†æœ¬æ–‡åªå®šä¹‰rightå’Œdownä¸¤ä¸ªæ–¹å‘çš„é“¾è¡¨æ›´çº¯æ­£åŒ–çš„è®²è§£è·³è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºè·³è¡¨ä»¥åŠè·³è¡¨çš„åŒç±»ç«äº‰äº§å“ï¼šçº¢é»‘æ ‘ï¼Œä¸ºå•¥Redisçš„æœ‰åºé›†åˆ(zset) ä½¿ç”¨è·³è¡¨å‘¢ï¼Ÿå› ä¸ºè·³è¡¨é™¤äº†æŸ¥æ‰¾æ’å…¥ç»´æŠ¤å’Œçº¢é»‘æ ‘æœ‰ç€å·®ä¸å¤šçš„æ•ˆç‡ï¼Œå®ƒæ˜¯ä¸ªé“¾è¡¨ï¼Œèƒ½ç¡®å®šèŒƒå›´åŒºé—´ï¼Œè€ŒåŒºé—´é—®é¢˜åœ¨æ ‘ä¸Šå¯èƒ½å°±æ²¡é‚£ä¹ˆæ–¹ä¾¿æŸ¥è¯¢å•¦ã€‚è€ŒJDKä¸­&lt;strong&gt;è·³è·ƒè¡¨ConcurrentSkipListSetå’ŒConcurrentSkipListMapã€‚&lt;/strong&gt; æœ‰å…´è¶£çš„ä¹Ÿå¯ä»¥æŸ¥é˜…ä¸€ä¸‹æºç ã€‚&lt;/p&gt;
&lt;p&gt;å®Œæ•´ä»£ç ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; java.util.Random&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; java.util.Stack&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;SkipNode&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; key&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    T value&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    SkipNode right&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;down&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å·¦å³ä¸Šä¸‹å››ä¸ªæ–¹å‘çš„æŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;SkipNode&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; key&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;T value&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;value&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;value&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;SkipList&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;T&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    SkipNode headNode&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å¤´èŠ‚ç‚¹ï¼Œå…¥å£
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; highLevel&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å±‚æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    Random random&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ç”¨äºæŠ•æ·ç¡¬å¸
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; MAX_LEVEL &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;32&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//æœ€å¤§çš„å±‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    SkipList&lt;span style=&#34;color:#f92672&#34;&gt;(){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        random&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; Random&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        headNode&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; SkipNode&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;Integer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;MIN_VALUE&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        highLevel&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; SkipNode &lt;span style=&#34;color:#a6e22e&#34;&gt;search&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; key&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        SkipNode team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;headNode&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;  team&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å³ä¾§æ²¡æœ‰äº†ï¼Œåªèƒ½ä¸‹é™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;down&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//éœ€è¦ä¸‹é™å»å¯»æ‰¾
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;down&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;//å³ä¾§æ¯”è¾ƒå°å‘å³
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;delete&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; key&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//åˆ é™¤ä¸éœ€è¦è€ƒè™‘å±‚æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        SkipNode team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;headNode&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å³ä¾§æ²¡æœ‰äº†ï¼Œè¯´æ˜è¿™ä¸€å±‚æ‰¾åˆ°ï¼Œæ²¡æœ‰åªèƒ½ä¸‹é™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;down&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//æ‰¾åˆ°èŠ‚ç‚¹ï¼Œå³ä¾§å³ä¸ºå¾…åˆ é™¤èŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//åˆ é™¤å³ä¾§èŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;down&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å‘ä¸‹ç»§ç»­æŸ¥æ‰¾åˆ é™¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å³ä¾§å·²ç»ä¸å¯èƒ½äº†ï¼Œå‘ä¸‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;down&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;//èŠ‚ç‚¹è¿˜åœ¨å³ä¾§
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;SkipNode node&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; key&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;node&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        SkipNode findNode&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;search&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;findNode&lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å¦‚æœå­˜åœ¨è¿™ä¸ªkeyçš„èŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            findNode&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;value&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;node&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;value&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Stack&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;SkipNode&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;stack&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; Stack&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;SkipNode&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;();&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å­˜å‚¨å‘ä¸‹çš„èŠ‚ç‚¹ï¼Œè¿™äº›èŠ‚ç‚¹å¯èƒ½åœ¨å³ä¾§æ’å…¥èŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        SkipNode team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;headNode&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//æŸ¥æ‰¾å¾…æ’å…¥çš„èŠ‚ç‚¹   æ‰¾åˆ°æœ€åº•å±‚çš„å“ªä¸ªèŠ‚ç‚¹ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//è¿›è¡ŒæŸ¥æ‰¾æ“ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å³ä¾§æ²¡æœ‰äº†ï¼Œåªèƒ½ä¸‹é™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                stack&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å°†æ›¾ç»å‘ä¸‹çš„èŠ‚ç‚¹è®°å½•ä¸€ä¸‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;down&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//éœ€è¦ä¸‹é™å»å¯»æ‰¾
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                stack&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å°†æ›¾ç»å‘ä¸‹çš„èŠ‚ç‚¹è®°å½•ä¸€ä¸‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;down&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;//å‘å³
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; level&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å½“å‰å±‚æ•°ï¼Œä»ç¬¬ä¸€å±‚æ·»åŠ (ç¬¬ä¸€å±‚å¿…é¡»æ·»åŠ ï¼Œå…ˆæ·»åŠ å†åˆ¤æ–­)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        SkipNode downNode&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//ä¿æŒå‰é©±èŠ‚ç‚¹(å³downçš„æŒ‡å‘ï¼Œåˆå§‹ä¸ºnull)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(!&lt;/span&gt;stack&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;isEmpty&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;())&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;//åœ¨è¯¥å±‚æ’å…¥node
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            team&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;stack&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;pop&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//æŠ›å‡ºå¾…æ’å…¥çš„å·¦ä¾§èŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            SkipNode nodeTeam&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; SkipNode&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;node&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; node&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;value&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//èŠ‚ç‚¹éœ€è¦é‡æ–°åˆ›å»º
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            nodeTeam&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;down&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;downNode&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å¤„ç†ç«–æ–¹å‘
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            downNode&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;nodeTeam&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//æ ‡è®°æ–°çš„èŠ‚ç‚¹ä¸‹æ¬¡ä½¿ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å³ä¾§ä¸ºnull è¯´æ˜æ’å…¥åœ¨æœ«å°¾
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;nodeTeam&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;//æ°´å¹³æ–¹å‘å¤„ç†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å³ä¾§è¿˜æœ‰èŠ‚ç‚¹ï¼Œæ’å…¥åœ¨ä¸¤è€…ä¹‹é—´
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                nodeTeam&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                team&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;nodeTeam&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;//è€ƒè™‘æ˜¯å¦éœ€è¦å‘ä¸Š
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;level&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;MAX_LEVEL&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å·²ç»åˆ°è¾¾æœ€é«˜çº§çš„èŠ‚ç‚¹å•¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;double&lt;/span&gt; num&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;random&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;nextDouble&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//[0-1]éšæœºæ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;num&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//è¿æ°”ä¸å¥½ç»“æŸ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            level&lt;span style=&#34;color:#f92672&#34;&gt;++;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;level&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;highLevel&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//æ¯”å½“å‰æœ€å¤§é«˜åº¦è¦é«˜ä½†æ˜¯ä¾ç„¶åœ¨å…è®¸èŒƒå›´å†… éœ€è¦æ”¹å˜headèŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                highLevel&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;level&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;//éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                SkipNode highHeadNode&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; SkipNode&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;Integer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;MIN_VALUE&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                highHeadNode&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;down&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;headNode&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                headNode&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;highHeadNode&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//æ”¹å˜head
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;                stack&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;headNode&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//ä¸‹æ¬¡æŠ›å‡ºhead
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;printList&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        SkipNode teamNode&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;headNode&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; index&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        SkipNode last&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;teamNode&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;last&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;down&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            last&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;last&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;down&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;teamNode&lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            SkipNode enumNode&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;teamNode&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            SkipNode enumLast&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;last&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printf&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%-8s&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;head-&amp;gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;enumLast&lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt;enumNode&lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;enumLast&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;enumNode&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printf&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%-5s&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;enumLast&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-&amp;gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    enumLast&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;enumLast&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    enumNode&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;enumNode&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    enumLast&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;enumLast&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;right&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printf&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%-5s&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            teamNode&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;teamNode&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;down&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            index&lt;span style=&#34;color:#f92672&#34;&gt;++;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;String&lt;span style=&#34;color:#f92672&#34;&gt;[]&lt;/span&gt; args&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        SkipList&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Integer&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;list&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; SkipList&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Integer&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;i&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;i&lt;span style=&#34;color:#f92672&#34;&gt;++)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            list&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; SkipNode&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;i&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;666&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        list&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printList&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        list&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;delete&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        list&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;delete&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        list&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;printList&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Tmux ä½¿ç”¨æ•™ç¨‹</title>
        <link>https://lxb.wiki/176a23be/</link>
        <pubDate>Mon, 30 Nov 2020 23:46:08 +0000</pubDate>
        
        <guid>https://lxb.wiki/176a23be/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;1-tmux-æ˜¯ä»€ä¹ˆ&#34;&gt;1 Tmux æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h2&gt;
&lt;h3 id=&#34;11-ä¼šè¯ä¸è¿›ç¨‹&#34;&gt;1.1 ä¼šè¯ä¸è¿›ç¨‹&lt;/h3&gt;
&lt;p&gt;å‘½ä»¤è¡Œçš„å…¸å‹ä½¿ç”¨æ–¹å¼æ˜¯ï¼Œæ‰“å¼€ä¸€ä¸ªç»ˆç«¯çª—å£ï¼ˆterminal windowï¼Œä»¥ä¸‹ç®€ç§°&amp;quot;çª—å£&amp;quot;ï¼‰ï¼Œåœ¨é‡Œé¢è¾“å…¥å‘½ä»¤ã€‚&lt;strong&gt;ç”¨æˆ·ä¸è®¡ç®—æœºçš„è¿™ç§ä¸´æ—¶çš„äº¤äº’ï¼Œç§°ä¸ºä¸€æ¬¡&amp;quot;ä¼šè¯&amp;quot;ï¼ˆsessionï¼‰&lt;/strong&gt; ã€‚&lt;/p&gt;
&lt;p&gt;ä¼šè¯çš„ä¸€ä¸ªé‡è¦ç‰¹ç‚¹æ˜¯ï¼Œçª—å£ä¸å…¶ä¸­å¯åŠ¨çš„è¿›ç¨‹æ˜¯&lt;a class=&#34;link&#34; href=&#34;https://lxb.wiki/2e3ff18f/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è¿åœ¨ä¸€èµ·&lt;/a&gt;çš„ã€‚æ‰“å¼€çª—å£ï¼Œä¼šè¯å¼€å§‹ï¼›å…³é—­çª—å£ï¼Œä¼šè¯ç»“æŸï¼Œä¼šè¯å†…éƒ¨çš„è¿›ç¨‹ä¹Ÿä¼šéšä¹‹ç»ˆæ­¢ï¼Œä¸ç®¡æœ‰æ²¡æœ‰è¿è¡Œå®Œã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªå…¸å‹çš„ä¾‹å­å°±æ˜¯ï¼ŒSSH ç™»å½•è¿œç¨‹è®¡ç®—æœºï¼Œæ‰“å¼€ä¸€ä¸ªè¿œç¨‹çª—å£æ‰§è¡Œå‘½ä»¤ã€‚è¿™æ—¶ï¼Œç½‘ç»œçªç„¶æ–­çº¿ï¼Œå†æ¬¡ç™»å½•çš„æ—¶å€™ï¼Œæ˜¯æ‰¾ä¸å›ä¸Šä¸€æ¬¡æ‰§è¡Œçš„å‘½ä»¤çš„ã€‚å› ä¸ºä¸Šä¸€æ¬¡ SSH ä¼šè¯å·²ç»ç»ˆæ­¢äº†ï¼Œé‡Œé¢çš„è¿›ç¨‹ä¹Ÿéšä¹‹æ¶ˆå¤±äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¼šè¯ä¸çª—å£å¯ä»¥&amp;quot;è§£ç»‘&amp;quot;ï¼šçª—å£å…³é—­æ—¶ï¼Œä¼šè¯å¹¶ä¸ç»ˆæ­¢ï¼Œè€Œæ˜¯ç»§ç»­è¿è¡Œï¼Œç­‰åˆ°ä»¥åéœ€è¦çš„æ—¶å€™ï¼Œå†è®©ä¼šè¯&amp;quot;ç»‘å®š&amp;quot;å…¶ä»–çª—å£ã€‚&lt;/p&gt;
&lt;h3 id=&#34;12-tmux-çš„ä½œç”¨&#34;&gt;1.2 Tmux çš„ä½œç”¨&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Tmux å°±æ˜¯ä¼šè¯ä¸çª—å£çš„&amp;quot;è§£ç»‘&amp;quot;å·¥å…·ï¼Œå°†å®ƒä»¬å½»åº•åˆ†ç¦»ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ï¼ˆ1ï¼‰å®ƒå…è®¸åœ¨å•ä¸ªçª—å£ä¸­ï¼ŒåŒæ—¶è®¿é—®å¤šä¸ªä¼šè¯ã€‚è¿™å¯¹äºåŒæ—¶è¿è¡Œå¤šä¸ªå‘½ä»¤è¡Œç¨‹åºå¾ˆæœ‰ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰ å®ƒå¯ä»¥è®©æ–°çª—å£&amp;quot;æ¥å…¥&amp;quot;å·²ç»å­˜åœ¨çš„ä¼šè¯ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ3ï¼‰å®ƒå…è®¸æ¯ä¸ªä¼šè¯æœ‰å¤šä¸ªè¿æ¥çª—å£ï¼Œå› æ­¤å¯ä»¥å¤šäººå®æ—¶å…±äº«ä¼šè¯ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ4ï¼‰å®ƒè¿˜æ”¯æŒçª—å£ä»»æ„çš„å‚ç›´å’Œæ°´å¹³æ‹†åˆ†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç±»ä¼¼çš„ç»ˆç«¯å¤ç”¨å™¨è¿˜æœ‰ GNU Screenã€‚Tmux ä¸å®ƒåŠŸèƒ½ç›¸ä¼¼ï¼Œä½†æ˜¯æ›´æ˜“ç”¨ï¼Œä¹Ÿæ›´å¼ºå¤§ã€‚&lt;/p&gt;
&lt;h2 id=&#34;2-åŸºæœ¬ç”¨æ³•&#34;&gt;2 åŸºæœ¬ç”¨æ³•&lt;/h2&gt;
&lt;h3 id=&#34;21-å®‰è£…&#34;&gt;2.1 å®‰è£…&lt;/h3&gt;
&lt;p&gt;Tmux ä¸€èˆ¬éœ€è¦è‡ªå·±å®‰è£…ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Ubuntu æˆ– Debian&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ sudo apt-get install tmux
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# CentOS æˆ– Fedora&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ sudo yum install tmux
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Mac&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ brew install tmux
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;h3 id=&#34;22-å¯åŠ¨ä¸é€€å‡º&#34;&gt;2.2 å¯åŠ¨ä¸é€€å‡º&lt;/h3&gt;
&lt;p&gt;å®‰è£…å®Œæˆåï¼Œé”®å…¥&lt;code&gt;tmux&lt;/code&gt;å‘½ä»¤ï¼Œå°±è¿›å…¥äº† Tmux çª—å£ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;p&gt;ä¸Šé¢å‘½ä»¤ä¼šå¯åŠ¨ Tmux çª—å£ï¼Œåº•éƒ¨æœ‰ä¸€ä¸ªçŠ¶æ€æ ã€‚çŠ¶æ€æ çš„å·¦ä¾§æ˜¯çª—å£ä¿¡æ¯ï¼ˆç¼–å·å’Œåç§°ï¼‰ï¼Œå³ä¾§æ˜¯ç³»ç»Ÿä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201201001437.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æŒ‰ä¸‹&lt;code&gt;Ctrl+d&lt;/code&gt;æˆ–è€…æ˜¾å¼è¾“å…¥&lt;code&gt;exit&lt;/code&gt;å‘½ä»¤ï¼Œå°±å¯ä»¥é€€å‡º Tmux çª—å£ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ exit
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;h3 id=&#34;23-å‰ç¼€é”®&#34;&gt;2.3 å‰ç¼€é”®&lt;/h3&gt;
&lt;p&gt;Tmux çª—å£æœ‰å¤§é‡çš„å¿«æ·é”®ã€‚æ‰€æœ‰å¿«æ·é”®éƒ½è¦é€šè¿‡å‰ç¼€é”®å”¤èµ·ã€‚é»˜è®¤çš„å‰ç¼€é”®æ˜¯&lt;code&gt;Ctrl+b&lt;/code&gt;ï¼Œå³å…ˆæŒ‰ä¸‹&lt;code&gt;Ctrl+b&lt;/code&gt;ï¼Œå¿«æ·é”®æ‰ä¼šç”Ÿæ•ˆã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¾‹æ¥è¯´ï¼Œå¸®åŠ©å‘½ä»¤çš„å¿«æ·é”®æ˜¯&lt;code&gt;Ctrl+b ?&lt;/code&gt;ã€‚å®ƒçš„ç”¨æ³•æ˜¯ï¼Œåœ¨ Tmux çª—å£ä¸­ï¼Œå…ˆæŒ‰ä¸‹&lt;code&gt;Ctrl+b&lt;/code&gt;ï¼Œå†æŒ‰ä¸‹&lt;code&gt;?&lt;/code&gt;ï¼Œå°±ä¼šæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åï¼ŒæŒ‰ä¸‹ ESC é”®æˆ–&lt;code&gt;q&lt;/code&gt;é”®ï¼Œå°±å¯ä»¥é€€å‡ºå¸®åŠ©ã€‚&lt;/p&gt;
&lt;h2 id=&#34;3-ä¼šè¯ç®¡ç†&#34;&gt;3 ä¼šè¯ç®¡ç†&lt;/h2&gt;
&lt;h3 id=&#34;31-æ–°å»ºä¼šè¯&#34;&gt;3.1 æ–°å»ºä¼šè¯&lt;/h3&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªå¯åŠ¨çš„ Tmux çª—å£ï¼Œç¼–å·æ˜¯&lt;code&gt;0&lt;/code&gt;ï¼Œç¬¬äºŒä¸ªçª—å£çš„ç¼–å·æ˜¯&lt;code&gt;1&lt;/code&gt;ï¼Œä»¥æ­¤ç±»æ¨ã€‚è¿™äº›çª—å£å¯¹åº”çš„ä¼šè¯ï¼Œå°±æ˜¯ 0 å·ä¼šè¯ã€1 å·ä¼šè¯ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ç¼–å·åŒºåˆ†ä¼šè¯ï¼Œä¸å¤ªç›´è§‚ï¼Œæ›´å¥½çš„æ–¹æ³•æ˜¯ä¸ºä¼šè¯èµ·åã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux new -s &amp;lt;session-name&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;p&gt;ä¸Šé¢å‘½ä»¤æ–°å»ºä¸€ä¸ªæŒ‡å®šåç§°çš„ä¼šè¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;32-åˆ†ç¦»ä¼šè¯&#34;&gt;3.2 åˆ†ç¦»ä¼šè¯&lt;/h3&gt;
&lt;p&gt;åœ¨ Tmux çª—å£ä¸­ï¼ŒæŒ‰ä¸‹&lt;code&gt;Ctrl+b d&lt;/code&gt;æˆ–è€…è¾“å…¥&lt;code&gt;tmux detach&lt;/code&gt;å‘½ä»¤ï¼Œå°±ä¼šå°†å½“å‰ä¼šè¯ä¸çª—å£åˆ†ç¦»ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux detach
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;p&gt;ä¸Šé¢å‘½ä»¤æ‰§è¡Œåï¼Œå°±ä¼šé€€å‡ºå½“å‰ Tmux çª—å£ï¼Œä½†æ˜¯ä¼šè¯å’Œé‡Œé¢çš„è¿›ç¨‹ä»ç„¶åœ¨åå°è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;tmux ls&lt;/code&gt;å‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰æ‰€æœ‰çš„ Tmux ä¼šè¯ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux ls
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# or&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux list-session
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;h3 id=&#34;33-æ¥å…¥ä¼šè¯&#34;&gt;3.3 æ¥å…¥ä¼šè¯&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;tmux attach&lt;/code&gt;å‘½ä»¤ç”¨äºé‡æ–°æ¥å…¥æŸä¸ªå·²å­˜åœ¨çš„ä¼šè¯ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ä½¿ç”¨ä¼šè¯ç¼–å·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux attach -t &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ä½¿ç”¨ä¼šè¯åç§°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux attach -t &amp;lt;session-name&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;h3 id=&#34;34-æ€æ­»ä¼šè¯&#34;&gt;3.4 æ€æ­»ä¼šè¯&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;tmux kill-session&lt;/code&gt;å‘½ä»¤ç”¨äºæ€æ­»æŸä¸ªä¼šè¯ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ä½¿ç”¨ä¼šè¯ç¼–å·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux kill-session -t &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ä½¿ç”¨ä¼šè¯åç§°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux kill-session -t &amp;lt;session-name&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;h3 id=&#34;35-åˆ‡æ¢ä¼šè¯&#34;&gt;3.5 åˆ‡æ¢ä¼šè¯&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;tmux switch&lt;/code&gt;å‘½ä»¤ç”¨äºåˆ‡æ¢ä¼šè¯ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ä½¿ç”¨ä¼šè¯ç¼–å·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux switch -t &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ä½¿ç”¨ä¼šè¯åç§°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux switch -t &amp;lt;session-name&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;h3 id=&#34;36-é‡å‘½åä¼šè¯&#34;&gt;3.6 é‡å‘½åä¼šè¯&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;tmux rename-session&lt;/code&gt;å‘½ä»¤ç”¨äºé‡å‘½åä¼šè¯ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux rename-session -t &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; &amp;lt;new-name&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;p&gt;ä¸Šé¢å‘½ä»¤å°†0å·ä¼šè¯é‡å‘½åã€‚&lt;/p&gt;
&lt;h3 id=&#34;37-ä¼šè¯å¿«æ·é”®&#34;&gt;3.7 ä¼šè¯å¿«æ·é”®&lt;/h3&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä¸€äº›ä¼šè¯ç›¸å…³çš„å¿«æ·é”®ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b d&lt;/code&gt;ï¼šåˆ†ç¦»å½“å‰ä¼šè¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b s&lt;/code&gt;ï¼šåˆ—å‡ºæ‰€æœ‰ä¼šè¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b $&lt;/code&gt;ï¼šé‡å‘½åå½“å‰ä¼šè¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;4-æœ€ç®€æ“ä½œæµç¨‹&#34;&gt;4 æœ€ç®€æ“ä½œæµç¨‹&lt;/h2&gt;
&lt;p&gt;ç»¼ä¸Šæ‰€è¿°ï¼Œä»¥ä¸‹æ˜¯ Tmux çš„æœ€ç®€æ“ä½œæµç¨‹ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;æ–°å»ºä¼šè¯&lt;code&gt;tmux new -s my_session&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ Tmux çª—å£è¿è¡Œæ‰€éœ€çš„ç¨‹åºã€‚&lt;/li&gt;
&lt;li&gt;æŒ‰ä¸‹å¿«æ·é”®&lt;code&gt;Ctrl+b d&lt;/code&gt;å°†ä¼šè¯åˆ†ç¦»ã€‚&lt;/li&gt;
&lt;li&gt;ä¸‹æ¬¡ä½¿ç”¨æ—¶ï¼Œé‡æ–°è¿æ¥åˆ°ä¼šè¯&lt;code&gt;tmux attach-session -t my_session&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;5-çª—æ ¼æ“ä½œ&#34;&gt;5 çª—æ ¼æ“ä½œ&lt;/h2&gt;
&lt;p&gt;Tmux å¯ä»¥å°†çª—å£åˆ†æˆå¤šä¸ªçª—æ ¼ï¼ˆpaneï¼‰ï¼Œæ¯ä¸ªçª—æ ¼è¿è¡Œä¸åŒçš„å‘½ä»¤ã€‚ä»¥ä¸‹å‘½ä»¤éƒ½æ˜¯åœ¨ Tmux çª—å£ä¸­æ‰§è¡Œã€‚&lt;/p&gt;
&lt;h3 id=&#34;51-åˆ’åˆ†çª—æ ¼&#34;&gt;5.1 åˆ’åˆ†çª—æ ¼&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;tmux split-window&lt;/code&gt;å‘½ä»¤ç”¨æ¥åˆ’åˆ†çª—æ ¼ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åˆ’åˆ†ä¸Šä¸‹ä¸¤ä¸ªçª—æ ¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux split-window
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åˆ’åˆ†å·¦å³ä¸¤ä¸ªçª—æ ¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux split-window -h
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201201002216.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;52-ç§»åŠ¨å…‰æ ‡&#34;&gt;5.2 ç§»åŠ¨å…‰æ ‡&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;tmux select-pane&lt;/code&gt;å‘½ä»¤ç”¨æ¥ç§»åŠ¨å…‰æ ‡ä½ç½®ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å…‰æ ‡åˆ‡æ¢åˆ°ä¸Šæ–¹çª—æ ¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux &lt;span style=&#34;color:#66d9ef&#34;&gt;select&lt;/span&gt;-pane -U
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å…‰æ ‡åˆ‡æ¢åˆ°ä¸‹æ–¹çª—æ ¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux &lt;span style=&#34;color:#66d9ef&#34;&gt;select&lt;/span&gt;-pane -D
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å…‰æ ‡åˆ‡æ¢åˆ°å·¦è¾¹çª—æ ¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux &lt;span style=&#34;color:#66d9ef&#34;&gt;select&lt;/span&gt;-pane -L
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å…‰æ ‡åˆ‡æ¢åˆ°å³è¾¹çª—æ ¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux &lt;span style=&#34;color:#66d9ef&#34;&gt;select&lt;/span&gt;-pane -R
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;h3 id=&#34;53-äº¤æ¢çª—æ ¼ä½ç½®&#34;&gt;5.3 äº¤æ¢çª—æ ¼ä½ç½®&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;tmux swap-pane&lt;/code&gt;å‘½ä»¤ç”¨æ¥äº¤æ¢çª—æ ¼ä½ç½®ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å½“å‰çª—æ ¼ä¸Šç§»&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux swap-pane -U
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å½“å‰çª—æ ¼ä¸‹ç§»&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux swap-pane -D
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;h3 id=&#34;54-çª—æ ¼å¿«æ·é”®&#34;&gt;5.4 çª—æ ¼å¿«æ·é”®&lt;/h3&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä¸€äº›çª—æ ¼æ“ä½œçš„å¿«æ·é”®ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b %&lt;/code&gt;ï¼šåˆ’åˆ†å·¦å³ä¸¤ä¸ªçª—æ ¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b &amp;quot;&lt;/code&gt;ï¼šåˆ’åˆ†ä¸Šä¸‹ä¸¤ä¸ªçª—æ ¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b &amp;lt;arrow key&amp;gt;&lt;/code&gt;ï¼šå…‰æ ‡åˆ‡æ¢åˆ°å…¶ä»–çª—æ ¼ã€‚&lt;code&gt;&amp;lt;arrow key&amp;gt;&lt;/code&gt;æ˜¯æŒ‡å‘è¦åˆ‡æ¢åˆ°çš„çª—æ ¼çš„æ–¹å‘é”®ï¼Œæ¯”å¦‚åˆ‡æ¢åˆ°ä¸‹æ–¹çª—æ ¼ï¼Œå°±æŒ‰æ–¹å‘é”®&lt;code&gt;â†“&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b ;&lt;/code&gt;ï¼šå…‰æ ‡åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªçª—æ ¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b o&lt;/code&gt;ï¼šå…‰æ ‡åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªçª—æ ¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b {&lt;/code&gt;ï¼šå½“å‰çª—æ ¼ä¸ä¸Šä¸€ä¸ªçª—æ ¼äº¤æ¢ä½ç½®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b }&lt;/code&gt;ï¼šå½“å‰çª—æ ¼ä¸ä¸‹ä¸€ä¸ªçª—æ ¼äº¤æ¢ä½ç½®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b Ctrl+o&lt;/code&gt;ï¼šæ‰€æœ‰çª—æ ¼å‘å‰ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œç¬¬ä¸€ä¸ªçª—æ ¼å˜æˆæœ€åä¸€ä¸ªçª—æ ¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b Alt+o&lt;/code&gt;ï¼šæ‰€æœ‰çª—æ ¼å‘åç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œæœ€åä¸€ä¸ªçª—æ ¼å˜æˆç¬¬ä¸€ä¸ªçª—æ ¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b x&lt;/code&gt;ï¼šå…³é—­å½“å‰çª—æ ¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b !&lt;/code&gt;ï¼šå°†å½“å‰çª—æ ¼æ‹†åˆ†ä¸ºä¸€ä¸ªç‹¬ç«‹çª—å£ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b z&lt;/code&gt;ï¼šå½“å‰çª—æ ¼å…¨å±æ˜¾ç¤ºï¼Œå†ä½¿ç”¨ä¸€æ¬¡ä¼šå˜å›åŸæ¥å¤§å°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b Ctrl+&amp;lt;arrow key&amp;gt;&lt;/code&gt;ï¼šæŒ‰ç®­å¤´æ–¹å‘è°ƒæ•´çª—æ ¼å¤§å°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b q&lt;/code&gt;ï¼šæ˜¾ç¤ºçª—æ ¼ç¼–å·ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;6-çª—å£ç®¡ç†&#34;&gt;6 çª—å£ç®¡ç†&lt;/h2&gt;
&lt;p&gt;é™¤äº†å°†ä¸€ä¸ªçª—å£åˆ’åˆ†æˆå¤šä¸ªçª—æ ¼ï¼ŒTmux ä¹Ÿå…è®¸æ–°å»ºå¤šä¸ªçª—å£ã€‚&lt;/p&gt;
&lt;h3 id=&#34;61-æ–°å»ºçª—å£&#34;&gt;6.1 æ–°å»ºçª—å£&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;tmux new-window&lt;/code&gt;å‘½ä»¤ç”¨æ¥åˆ›å»ºæ–°çª—å£ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux new-window
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ–°å»ºä¸€ä¸ªæŒ‡å®šåç§°çš„çª—å£&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux new-window -n &amp;lt;window-name&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;h3 id=&#34;62-åˆ‡æ¢çª—å£&#34;&gt;6.2 åˆ‡æ¢çª—å£&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;tmux select-window&lt;/code&gt;å‘½ä»¤ç”¨æ¥åˆ‡æ¢çª—å£ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åˆ‡æ¢åˆ°æŒ‡å®šç¼–å·çš„çª—å£&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux &lt;span style=&#34;color:#66d9ef&#34;&gt;select&lt;/span&gt;-window -t &amp;lt;window-number&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åˆ‡æ¢åˆ°æŒ‡å®šåç§°çš„çª—å£&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux &lt;span style=&#34;color:#66d9ef&#34;&gt;select&lt;/span&gt;-window -t &amp;lt;window-name&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;h3 id=&#34;63-é‡å‘½åçª—å£&#34;&gt;6.3 é‡å‘½åçª—å£&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;tmux rename-window&lt;/code&gt;å‘½ä»¤ç”¨äºä¸ºå½“å‰çª—å£èµ·åï¼ˆæˆ–é‡å‘½åï¼‰ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux rename-window &amp;lt;new-name&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;h3 id=&#34;64-çª—å£å¿«æ·é”®&#34;&gt;6.4 çª—å£å¿«æ·é”®&lt;/h3&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä¸€äº›çª—å£æ“ä½œçš„å¿«æ·é”®ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b c&lt;/code&gt;ï¼šåˆ›å»ºä¸€ä¸ªæ–°çª—å£ï¼ŒçŠ¶æ€æ ä¼šæ˜¾ç¤ºå¤šä¸ªçª—å£çš„ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b p&lt;/code&gt;ï¼šåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªçª—å£ï¼ˆæŒ‰ç…§çŠ¶æ€æ ä¸Šçš„é¡ºåºï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b n&lt;/code&gt;ï¼šåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªçª—å£ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b &amp;lt;number&amp;gt;&lt;/code&gt;ï¼šåˆ‡æ¢åˆ°æŒ‡å®šç¼–å·çš„çª—å£ï¼Œå…¶ä¸­çš„&lt;code&gt;&amp;lt;number&amp;gt;&lt;/code&gt;æ˜¯çŠ¶æ€æ ä¸Šçš„çª—å£ç¼–å·ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b w&lt;/code&gt;ï¼šä»åˆ—è¡¨ä¸­é€‰æ‹©çª—å£ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+b ,&lt;/code&gt;ï¼šçª—å£é‡å‘½åã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;7-å…¶ä»–å‘½ä»¤&#34;&gt;7 å…¶ä»–å‘½ä»¤&lt;/h2&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä¸€äº›å…¶ä»–å‘½ä»¤ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åˆ—å‡ºæ‰€æœ‰å¿«æ·é”®ï¼ŒåŠå…¶å¯¹åº”çš„ Tmux å‘½ä»¤&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux list-keys
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åˆ—å‡ºæ‰€æœ‰ Tmux å‘½ä»¤åŠå…¶å‚æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux list-commands
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åˆ—å‡ºå½“å‰æ‰€æœ‰ Tmux ä¼šè¯çš„ä¿¡æ¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux info
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# é‡æ–°åŠ è½½å½“å‰çš„ Tmux é…ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux source-file ~/.tmux.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;h2 id=&#34;8-å‚è€ƒé“¾æ¥&#34;&gt;8 å‚è€ƒé“¾æ¥&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.hamvocke.com/blog/a-quick-and-easy-guide-to-tmux/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;A Quick and Easy Guide to tmux&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://danielmiessler.com/study/tmux/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Tactical tmux: The 10 Most Important Commands&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://linuxize.com/post/getting-started-with-tmux/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Getting started with Tmux&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Linux å®ˆæŠ¤è¿›ç¨‹çš„å¯åŠ¨æ–¹æ³•</title>
        <link>https://lxb.wiki/2e3ff18f/</link>
        <pubDate>Tue, 03 Nov 2020 20:49:04 +0000</pubDate>
        
        <guid>https://lxb.wiki/2e3ff18f/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;http://baike.baidu.com/view/53123.htm&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&amp;ldquo;å®ˆæŠ¤è¿›ç¨‹&amp;rdquo;&lt;/a&gt;ï¼ˆdaemonï¼‰å°±æ˜¯ä¸€ç›´åœ¨åå°è¿è¡Œçš„è¿›ç¨‹ï¼ˆdaemonï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä½•å°†ä¸€ä¸ª Web åº”ç”¨ï¼Œå¯åŠ¨ä¸ºå®ˆæŠ¤è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/201130/00.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;1-é—®é¢˜çš„ç”±æ¥&#34;&gt;1 é—®é¢˜çš„ç”±æ¥&lt;/h2&gt;
&lt;p&gt;Webåº”ç”¨å†™å¥½åï¼Œä¸‹ä¸€ä»¶äº‹å°±æ˜¯å¯åŠ¨ï¼Œè®©å®ƒä¸€ç›´åœ¨åå°è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;è¿™å¹¶ä¸å®¹æ˜“ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„Nodeåº”ç”¨&lt;code&gt;server.js&lt;/code&gt;ï¼Œåªæœ‰6è¡Œã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;http&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;require&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;http&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;http&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;createServer&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;req&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;res&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;res&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;writeHead&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;200&lt;/span&gt;, {&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Content-Type&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;text/plain&amp;#39;&lt;/span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;res&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;end&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Hello World&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}).&lt;span style=&#34;color:#a6e22e&#34;&gt;listen&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;5000&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½ åœ¨å‘½ä»¤è¡Œä¸‹å¯åŠ¨å®ƒã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ node server.js
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;çœ‹ä¸Šå»ä¸€åˆ‡æ­£å¸¸ï¼Œæ‰€æœ‰äººéƒ½èƒ½å¿«ä¹åœ°è®¿é—® 5000 ç«¯å£äº†ã€‚ä½†æ˜¯ï¼Œä¸€æ—¦ä½ é€€å‡ºå‘½ä»¤è¡Œçª—å£ï¼Œè¿™ä¸ªåº”ç”¨å°±ä¸€èµ·é€€å‡ºäº†ï¼Œæ— æ³•è®¿é—®äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ€ä¹ˆæ‰èƒ½è®©å®ƒå˜æˆç³»ç»Ÿçš„å®ˆæŠ¤è¿›ç¨‹ï¼ˆdaemonï¼‰ï¼Œæˆä¸ºä¸€ç§æœåŠ¡ï¼ˆserviceï¼‰ï¼Œä¸€ç›´åœ¨é‚£é‡Œè¿è¡Œå‘¢ï¼Ÿ&lt;/p&gt;
&lt;h2 id=&#34;2-å‰å°ä»»åŠ¡ä¸åå°ä»»åŠ¡&#34;&gt;2 å‰å°ä»»åŠ¡ä¸åå°ä»»åŠ¡&lt;/h2&gt;
&lt;p&gt;ä¸Šé¢è¿™æ ·å¯åŠ¨çš„è„šæœ¬ï¼Œç§°ä¸º&amp;quot;å‰å°ä»»åŠ¡&amp;quot;ï¼ˆforeground jobï¼‰ã€‚å®ƒä¼šç‹¬å å‘½ä»¤è¡Œçª—å£ï¼Œåªæœ‰è¿è¡Œå®Œäº†æˆ–è€…æ‰‹åŠ¨ä¸­æ­¢ï¼Œæ‰èƒ½æ‰§è¡Œå…¶ä»–å‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;å˜æˆå®ˆæŠ¤è¿›ç¨‹çš„ç¬¬ä¸€æ­¥ï¼Œå°±æ˜¯æŠŠå®ƒæ”¹æˆ&amp;quot;åå°ä»»åŠ¡&amp;quot;ï¼ˆbackground jobï¼‰ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ node server.js &amp;amp;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åªè¦åœ¨å‘½ä»¤çš„å°¾éƒ¨åŠ ä¸Šç¬¦å·&lt;code&gt;&amp;amp;&lt;/code&gt;ï¼Œå¯åŠ¨çš„è¿›ç¨‹å°±ä¼šæˆä¸º&amp;quot;åå°ä»»åŠ¡&amp;quot;ã€‚å¦‚æœè¦è®©æ­£åœ¨è¿è¡Œçš„&amp;quot;å‰å°ä»»åŠ¡&amp;quot;å˜ä¸º&amp;quot;åå°ä»»åŠ¡&amp;quot;ï¼Œå¯ä»¥å…ˆæŒ‰&lt;code&gt;ctrl + z&lt;/code&gt;ï¼Œç„¶åæ‰§è¡Œ&lt;code&gt;bg&lt;/code&gt;å‘½ä»¤ï¼ˆè®©æœ€è¿‘ä¸€ä¸ªæš‚åœçš„&amp;quot;åå°ä»»åŠ¡&amp;quot;ç»§ç»­æ‰§è¡Œï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&amp;ldquo;åå°ä»»åŠ¡&amp;quot;æœ‰ä¸¤ä¸ªç‰¹ç‚¹ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç»§æ‰¿å½“å‰ session ï¼ˆå¯¹è¯ï¼‰çš„æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰å’Œæ ‡å‡†é”™è¯¯ï¼ˆstderrï¼‰ã€‚å› æ­¤ï¼Œåå°ä»»åŠ¡çš„æ‰€æœ‰è¾“å‡ºä¾ç„¶ä¼šåŒæ­¥åœ°åœ¨å‘½ä»¤è¡Œä¸‹æ˜¾ç¤ºã€‚&lt;/li&gt;
&lt;li&gt;ä¸å†ç»§æ‰¿å½“å‰ session çš„æ ‡å‡†è¾“å…¥ï¼ˆstdinï¼‰ã€‚ä½ æ— æ³•å‘è¿™ä¸ªä»»åŠ¡è¾“å…¥æŒ‡ä»¤äº†ã€‚å¦‚æœå®ƒè¯•å›¾è¯»å–æ ‡å‡†è¾“å…¥ï¼Œå°±ä¼šæš‚åœæ‰§è¡Œï¼ˆhaltï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œ&amp;ldquo;åå°ä»»åŠ¡&amp;quot;ä¸&amp;quot;å‰å°ä»»åŠ¡&amp;quot;çš„æœ¬è´¨åŒºåˆ«åªæœ‰ä¸€ä¸ªï¼šæ˜¯å¦ç»§æ‰¿æ ‡å‡†è¾“å…¥ã€‚æ‰€ä»¥ï¼Œæ‰§è¡Œåå°ä»»åŠ¡çš„åŒæ—¶ï¼Œç”¨æˆ·è¿˜å¯ä»¥è¾“å…¥å…¶ä»–å‘½ä»¤ã€‚&lt;/p&gt;
&lt;h2 id=&#34;3-sighupä¿¡å·&#34;&gt;3 SIGHUPä¿¡å·&lt;/h2&gt;
&lt;p&gt;å˜ä¸º&amp;quot;åå°ä»»åŠ¡&amp;quot;åï¼Œä¸€ä¸ªè¿›ç¨‹æ˜¯å¦å°±æˆä¸ºäº†å®ˆæŠ¤è¿›ç¨‹å‘¢ï¼Ÿæˆ–è€…è¯´ï¼Œç”¨æˆ·é€€å‡º session ä»¥åï¼Œ&amp;ldquo;åå°ä»»åŠ¡&amp;quot;æ˜¯å¦è¿˜ä¼šç»§ç»­æ‰§è¡Œï¼Ÿ&lt;/p&gt;
&lt;p&gt;Linuxç³»ç»Ÿæ˜¯è¿™æ ·è®¾è®¡çš„ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç”¨æˆ·å‡†å¤‡é€€å‡º session&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿå‘è¯¥ session å‘å‡º&lt;code&gt;SIGHUP&lt;/code&gt;ä¿¡å·&lt;/li&gt;
&lt;li&gt;session å°†&lt;code&gt;SIGHUP&lt;/code&gt;ä¿¡å·å‘ç»™æ‰€æœ‰å­è¿›ç¨‹&lt;/li&gt;
&lt;li&gt;å­è¿›ç¨‹æ”¶åˆ°&lt;code&gt;SIGHUP&lt;/code&gt;ä¿¡å·åï¼Œè‡ªåŠ¨é€€å‡º&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸Šé¢çš„æµç¨‹è§£é‡Šäº†ï¼Œä¸ºä»€ä¹ˆ&amp;quot;å‰å°ä»»åŠ¡&amp;quot;ä¼šéšç€ session çš„é€€å‡ºè€Œé€€å‡ºï¼šå› ä¸ºå®ƒæ”¶åˆ°äº†&lt;code&gt;SIGHUP&lt;/code&gt;ä¿¡å·ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œ&amp;ldquo;åå°ä»»åŠ¡&amp;quot;æ˜¯å¦ä¹Ÿä¼šæ”¶åˆ°&lt;code&gt;SIGHUP&lt;/code&gt;ä¿¡å·ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™ç”± Shell çš„&lt;code&gt;huponexit&lt;/code&gt;å‚æ•°å†³å®šçš„ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ shopt | grep huponexit
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œå°±ä¼šçœ‹åˆ°&lt;code&gt;huponexit&lt;/code&gt;å‚æ•°çš„å€¼ã€‚&lt;/p&gt;
&lt;p&gt;å¤§å¤šæ•°Linuxç³»ç»Ÿï¼Œè¿™ä¸ªå‚æ•°é»˜è®¤å…³é—­ï¼ˆ&lt;code&gt;off&lt;/code&gt;ï¼‰ã€‚å› æ­¤ï¼Œsession é€€å‡ºçš„æ—¶å€™ï¼Œä¸ä¼šæŠŠ&lt;code&gt;SIGHUP&lt;/code&gt;ä¿¡å·å‘ç»™&amp;quot;åå°ä»»åŠ¡&amp;rdquo;ã€‚æ‰€ä»¥ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œ&amp;ldquo;åå°ä»»åŠ¡&amp;quot;ä¸ä¼šéšç€ session ä¸€èµ·é€€å‡ºã€‚&lt;/p&gt;
&lt;h2 id=&#34;4-disown-å‘½ä»¤&#34;&gt;4 disown å‘½ä»¤&lt;/h2&gt;
&lt;p&gt;é€šè¿‡&amp;quot;åå°ä»»åŠ¡&amp;quot;å¯åŠ¨&amp;quot;å®ˆæŠ¤è¿›ç¨‹&amp;quot;å¹¶ä¸ä¿é™©ï¼Œå› ä¸ºæœ‰çš„ç³»ç»Ÿçš„&lt;code&gt;huponexit&lt;/code&gt;å‚æ•°å¯èƒ½æ˜¯æ‰“å¼€çš„ï¼ˆ&lt;code&gt;on&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ›´ä¿é™©çš„æ–¹æ³•æ˜¯ä½¿ç”¨&lt;code&gt;disown&lt;/code&gt;å‘½ä»¤ã€‚å®ƒå¯ä»¥å°†æŒ‡å®šä»»åŠ¡ä»&amp;quot;åå°ä»»åŠ¡&amp;quot;åˆ—è¡¨ï¼ˆ&lt;code&gt;jobs&lt;/code&gt;å‘½ä»¤çš„è¿”å›ç»“æœï¼‰ä¹‹ä¸­ç§»é™¤ã€‚ä¸€ä¸ª&amp;quot;åå°ä»»åŠ¡&amp;quot;åªè¦ä¸åœ¨è¿™ä¸ªåˆ—è¡¨ä¹‹ä¸­ï¼Œsession å°±è‚¯å®šä¸ä¼šå‘å®ƒå‘å‡º&lt;code&gt;SIGHUP&lt;/code&gt;ä¿¡å·ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ node server.js &amp;amp;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ disown
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ä»¥åï¼Œ&lt;code&gt;server.js&lt;/code&gt;è¿›ç¨‹å°±è¢«ç§»å‡ºäº†&amp;quot;åå°ä»»åŠ¡&amp;quot;åˆ—è¡¨ã€‚ä½ å¯ä»¥æ‰§è¡Œ&lt;code&gt;jobs&lt;/code&gt;å‘½ä»¤éªŒè¯ï¼Œè¾“å‡ºç»“æœé‡Œé¢ï¼Œä¸ä¼šæœ‰è¿™ä¸ªè¿›ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;disown&lt;/code&gt;çš„ç”¨æ³•å¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ç§»å‡ºæœ€è¿‘ä¸€ä¸ªæ­£åœ¨æ‰§è¡Œçš„åå°ä»»åŠ¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ disown
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ç§»å‡ºæ‰€æœ‰æ­£åœ¨æ‰§è¡Œçš„åå°ä»»åŠ¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ disown -r
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ç§»å‡ºæ‰€æœ‰åå°ä»»åŠ¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ disown -a
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ä¸ç§»å‡ºåå°ä»»åŠ¡ï¼Œä½†æ˜¯è®©å®ƒä»¬ä¸ä¼šæ”¶åˆ°SIGHUPä¿¡å·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ disown -h
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ ¹æ®jobIdï¼Œç§»å‡ºæŒ‡å®šçš„åå°ä»»åŠ¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ disown %2
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ disown -h %2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;5-æ ‡å‡†-io&#34;&gt;5 æ ‡å‡† I/O&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;disown&lt;/code&gt;å‘½ä»¤ä¹‹åï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ã€‚é‚£å°±æ˜¯ï¼Œé€€å‡º session ä»¥åï¼Œå¦‚æœåå°è¿›ç¨‹ä¸æ ‡å‡†I/Oæœ‰äº¤äº’ï¼Œå®ƒè¿˜æ˜¯ä¼šæŒ‚æ‰ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æ˜¯ä»¥ä¸Šé¢çš„è„šæœ¬ä¸ºä¾‹ï¼Œç°åœ¨åŠ å…¥ä¸€è¡Œã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;http&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;require&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;http&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;http&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;createServer&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;req&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;res&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;console&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;server starts...&amp;#39;&lt;/span&gt;); &lt;span style=&#34;color:#75715e&#34;&gt;// åŠ å…¥æ­¤è¡Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;res&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;writeHead&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;200&lt;/span&gt;, {&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Content-Type&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;text/plain&amp;#39;&lt;/span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;res&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;end&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Hello World&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}).&lt;span style=&#34;color:#a6e22e&#34;&gt;listen&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;5000&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯åŠ¨ä¸Šé¢çš„è„šæœ¬ï¼Œç„¶åå†æ‰§è¡Œ&lt;code&gt;disown&lt;/code&gt;å‘½ä»¤ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ node server.js &amp;amp;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ disown
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¥ç€ï¼Œä½ é€€å‡º sessionï¼Œè®¿é—®5000ç«¯å£ï¼Œå°±ä¼šå‘ç°è¿ä¸ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯å› ä¸º&amp;quot;åå°ä»»åŠ¡&amp;quot;çš„æ ‡å‡† I/O ç»§æ‰¿è‡ªå½“å‰ sessionï¼Œ&lt;code&gt;disown&lt;/code&gt;å‘½ä»¤å¹¶æ²¡æœ‰æ”¹å˜è¿™ä¸€ç‚¹ã€‚ä¸€æ—¦&amp;quot;åå°ä»»åŠ¡&amp;quot;è¯»å†™æ ‡å‡† I/Oï¼Œå°±ä¼šå‘ç°å®ƒå·²ç»ä¸å­˜åœ¨äº†ï¼Œæ‰€ä»¥å°±æŠ¥é”™ç»ˆæ­¢æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦å¯¹&amp;quot;åå°ä»»åŠ¡&amp;quot;çš„æ ‡å‡† I/O è¿›è¡Œé‡å®šå‘ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ node server.js &amp;gt; stdout.txt 2&amp;gt; stderr.txt &amp;lt; /dev/null &amp;amp;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ disown
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;p&gt;ä¸Šé¢è¿™æ ·æ‰§è¡Œï¼ŒåŸºæœ¬ä¸Šå°±æ²¡æœ‰é—®é¢˜äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;6-nohup-å‘½ä»¤&#34;&gt;6 nohup å‘½ä»¤&lt;/h2&gt;
&lt;p&gt;è¿˜æœ‰æ¯”&lt;code&gt;disown&lt;/code&gt;æ›´æ–¹ä¾¿çš„å‘½ä»¤ï¼Œå°±æ˜¯&lt;code&gt;nohup&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ nohup node server.js &amp;amp;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;nohup&lt;/code&gt;å‘½ä»¤å¯¹&lt;code&gt;server.js&lt;/code&gt;è¿›ç¨‹åšäº†ä¸‰ä»¶äº‹ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;é˜»æ­¢&lt;code&gt;SIGHUP&lt;/code&gt;ä¿¡å·å‘åˆ°è¿™ä¸ªè¿›ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;å…³é—­æ ‡å‡†è¾“å…¥ã€‚è¯¥è¿›ç¨‹ä¸å†èƒ½å¤Ÿæ¥æ”¶ä»»ä½•è¾“å…¥ï¼Œå³ä½¿è¿è¡Œåœ¨å‰å°ã€‚&lt;/li&gt;
&lt;li&gt;é‡å®šå‘æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯åˆ°æ–‡ä»¶&lt;code&gt;nohup.out&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ï¼Œ&lt;code&gt;nohup&lt;/code&gt;å‘½ä»¤å®é™…ä¸Šå°†å­è¿›ç¨‹ä¸å®ƒæ‰€åœ¨çš„ session åˆ†ç¦»äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼Œ&lt;code&gt;nohup&lt;/code&gt;å‘½ä»¤ä¸ä¼šè‡ªåŠ¨æŠŠè¿›ç¨‹å˜ä¸º&amp;quot;åå°ä»»åŠ¡&amp;rdquo;ï¼Œæ‰€ä»¥å¿…é¡»åŠ ä¸Š&lt;code&gt;&amp;amp;&lt;/code&gt;ç¬¦å·ã€‚&lt;/p&gt;
&lt;h2 id=&#34;7-screen-å‘½ä»¤ä¸-tmux-å‘½ä»¤&#34;&gt;7 Screen å‘½ä»¤ä¸ Tmux å‘½ä»¤&lt;/h2&gt;
&lt;p&gt;å¦ä¸€ç§æ€è·¯æ˜¯ä½¿ç”¨ terminal multiplexer ï¼ˆç»ˆç«¯å¤ç”¨å™¨ï¼šåœ¨åŒä¸€ä¸ªç»ˆç«¯é‡Œé¢ï¼Œç®¡ç†å¤šä¸ªsessionï¼‰ï¼Œå…¸å‹çš„å°±æ˜¯ &lt;a class=&#34;link&#34; href=&#34;https://www.gnu.org/software/screen/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Screen&lt;/a&gt; å‘½ä»¤å’Œ &lt;a class=&#34;link&#34; href=&#34;https://tmux.github.io/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Tmux&lt;/a&gt; å‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒä»¬å¯ä»¥åœ¨å½“å‰ session é‡Œé¢ï¼Œæ–°å»ºå¦ä¸€ä¸ª sessionã€‚è¿™æ ·çš„è¯ï¼Œå½“å‰ session ä¸€æ—¦ç»“æŸï¼Œä¸å½±å“å…¶ä»– sessionã€‚è€Œä¸”ï¼Œä»¥åé‡æ–°ç™»å½•ï¼Œè¿˜å¯ä»¥å†è¿ä¸Šæ—©å…ˆæ–°å»ºçš„ sessionã€‚&lt;/p&gt;
&lt;p&gt;Screen çš„ç”¨æ³•å¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ–°å»ºä¸€ä¸ª session&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ screen
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ node server.js
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;p&gt;ç„¶åï¼ŒæŒ‰ä¸‹&lt;code&gt;ctrl + A&lt;/code&gt;å’Œ&lt;code&gt;ctrl + D&lt;/code&gt;ï¼Œå›åˆ°åŸæ¥çš„ sessionï¼Œä»é‚£é‡Œé€€å‡ºç™»å½•ã€‚ä¸‹æ¬¡ç™»å½•æ—¶ï¼Œå†åˆ‡å›å»ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ screen -r
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;p&gt;å¦‚æœæ–°å»ºå¤šä¸ªåå° sessionï¼Œå°±éœ€è¦ä¸ºå®ƒä»¬æŒ‡å®šåå­—ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ screen -S name
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åˆ‡å›æŒ‡å®š session&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ screen -r name
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ screen -r pid_number
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åˆ—å‡ºæ‰€æœ‰ session&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ screen -ls
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;p&gt;å¦‚æœè¦åœæ‰æŸä¸ª sessionï¼Œå¯ä»¥å…ˆåˆ‡å›å®ƒï¼Œç„¶åæŒ‰ä¸‹&lt;code&gt;ctrl + c&lt;/code&gt;å’Œ&lt;code&gt;ctrl + d&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;Tmux æ¯” Screen åŠŸèƒ½æ›´å¤šã€æ›´å¼ºå¤§ï¼Œå®ƒçš„åŸºæœ¬ç”¨æ³•å¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ node server.js
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# è¿”å›åŸæ¥çš„session&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux detach
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;p&gt;é™¤äº†&lt;code&gt;tmux detach&lt;/code&gt;ï¼Œå¦ä¸€ç§æ–¹æ³•æ˜¯æŒ‰ä¸‹&lt;code&gt;Ctrl + B&lt;/code&gt;å’Œ&lt;code&gt;d&lt;/code&gt; ï¼Œä¹Ÿå¯ä»¥å›åˆ°åŸæ¥çš„ sessionã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ä¸‹æ¬¡ç™»å½•æ—¶ï¼Œè¿”å›åå°æ­£åœ¨è¿è¡ŒæœåŠ¡session&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux attach
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;p&gt;å¦‚æœæ–°å»ºå¤šä¸ª sessionï¼Œå°±éœ€è¦ä¸ºæ¯ä¸ª session æŒ‡å®šåå­—ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ–°å»º session&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux new -s session_name
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åˆ‡æ¢åˆ°æŒ‡å®š session&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux attach -t session_name
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åˆ—å‡ºæ‰€æœ‰ session&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux list-sessions
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# é€€å‡ºå½“å‰ sessionï¼Œè¿”å›å‰ä¸€ä¸ª session &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux detach
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ€æ­»æŒ‡å®š session&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ tmux kill-session -t session-name
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;h2 id=&#34;8-node-å·¥å…·&#34;&gt;8 Node å·¥å…·&lt;/h2&gt;
&lt;p&gt;å¯¹äº Node åº”ç”¨æ¥è¯´ï¼Œå¯ä»¥ä¸ç”¨ä¸Šé¢çš„æ–¹æ³•ï¼Œæœ‰ä¸€äº›ä¸“é—¨ç”¨æ¥å¯åŠ¨çš„å·¥å…·ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/foreverjs/forever&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;forever&lt;/a&gt;ï¼Œ&lt;a class=&#34;link&#34; href=&#34;http://nodemon.io/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;nodemon&lt;/a&gt; å’Œ &lt;a class=&#34;link&#34; href=&#34;http://pm2.keymetrics.io/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;pm2&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;forever çš„åŠŸèƒ½å¾ˆç®€å•ï¼Œå°±æ˜¯ä¿è¯è¿›ç¨‹é€€å‡ºæ—¶ï¼Œåº”ç”¨ä¼šè‡ªåŠ¨é‡å¯ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ä½œä¸ºå‰å°ä»»åŠ¡å¯åŠ¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ forever server.js
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ä½œä¸ºæœåŠ¡è¿›ç¨‹å¯åŠ¨ &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ forever start app.js
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åœæ­¢æœåŠ¡è¿›ç¨‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ forever stop Id
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# é‡å¯æœåŠ¡è¿›ç¨‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ forever restart Id
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ç›‘è§†å½“å‰ç›®å½•çš„æ–‡ä»¶å˜åŠ¨ï¼Œä¸€æœ‰å˜åŠ¨å°±é‡å¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ forever -w server.js
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# -m å‚æ•°æŒ‡å®šæœ€å¤šé‡å¯æ¬¡æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ forever -m &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt; server.js 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åˆ—å‡ºæ‰€æœ‰è¿›ç¨‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ forever list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;nodemon&lt;/code&gt;ä¸€èˆ¬åªåœ¨å¼€å‘æ—¶ä½¿ç”¨ï¼Œå®ƒæœ€å¤§çš„é•¿å¤„åœ¨äº watch åŠŸèƒ½ï¼Œä¸€æ—¦æ–‡ä»¶å‘ç”Ÿå˜åŒ–ï¼Œå°±è‡ªåŠ¨é‡å¯è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# é»˜è®¤ç›‘è§†å½“å‰ç›®å½•çš„æ–‡ä»¶å˜åŒ–&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ nodemon server.js
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ï¼ƒ ç›‘è§†æŒ‡å®šæ–‡ä»¶çš„å˜åŒ–   
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ nodemon --watch app --watch libs server.js  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;p&gt;pm2 çš„åŠŸèƒ½æœ€å¼ºå¤§ï¼Œé™¤äº†é‡å¯è¿›ç¨‹ä»¥å¤–ï¼Œè¿˜èƒ½å®æ—¶æ”¶é›†æ—¥å¿—å’Œç›‘æ§ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å¯åŠ¨åº”ç”¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ pm2 start app.js
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æŒ‡å®šåŒæ—¶èµ·å¤šå°‘ä¸ªè¿›ç¨‹ï¼ˆç”±CPUæ ¸å¿ƒæ•°å†³å®šï¼‰ï¼Œç»„æˆä¸€ä¸ªé›†ç¾¤&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ pm2 start app.js -i max
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åˆ—å‡ºæ‰€æœ‰ä»»åŠ¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ pm2 list
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åœæ­¢æŒ‡å®šä»»åŠ¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ pm2 stop &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ï¼ƒ é‡å¯æŒ‡å®šä»»åŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ pm2 restart &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åˆ é™¤æŒ‡å®šä»»åŠ¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ pm2 delete &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ä¿å­˜å½“å‰çš„æ‰€æœ‰ä»»åŠ¡ï¼Œä»¥åå¯ä»¥æ¢å¤&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ pm2 save
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åˆ—å‡ºæ¯ä¸ªè¿›ç¨‹çš„ç»Ÿè®¡æ•°æ®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ pm2 monit
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ pm2 logs
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å¯¼å‡ºæ•°æ®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ pm2 dump
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# é‡å¯æ‰€æœ‰è¿›ç¨‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ pm2 kill
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ pm2 resurect
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å¯åŠ¨webç•Œé¢ http://localhost:9615&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ pm2 web
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;h2 id=&#34;9-systemd&#34;&gt;9 Systemd&lt;/h2&gt;
&lt;p&gt;é™¤äº†ä¸“ç”¨å·¥å…·ä»¥å¤–ï¼ŒLinuxç³»ç»Ÿæœ‰è‡ªå·±çš„å®ˆæŠ¤è¿›ç¨‹ç®¡ç†å·¥å…· Systemd ã€‚å®ƒæ˜¯æ“ä½œç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼Œç›´æ¥ä¸å†…æ ¸äº¤äº’ï¼Œæ€§èƒ½å‡ºè‰²ï¼ŒåŠŸèƒ½æå…¶å¼ºå¤§ã€‚æˆ‘ä»¬å®Œå…¨å¯ä»¥å°†ç¨‹åºäº¤ç»™ Systemd ï¼Œè®©ç³»ç»Ÿç»Ÿä¸€ç®¡ç†ï¼Œæˆä¸ºçœŸæ­£æ„ä¹‰ä¸Šçš„ç³»ç»ŸæœåŠ¡ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ç›®å½•åˆ‡æ¢ï¼šdirsã€pushdã€popdå‘½ä»¤</title>
        <link>https://lxb.wiki/1ca354f7/</link>
        <pubDate>Sun, 01 Nov 2020 21:05:57 +0000</pubDate>
        
        <guid>https://lxb.wiki/1ca354f7/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;ç›®å½•æ ˆæŒ‡ä»¤&#34;&gt;ç›®å½•æ ˆæŒ‡ä»¤&lt;/h2&gt;
&lt;p&gt;ç›®å½•æ ˆæ˜¯ç”¨æˆ·æœ€è¿‘è®¿é—®è¿‡çš„ç³»ç»Ÿç›®å½•åˆ—è¡¨ï¼Œå¹¶ä»¥å †æ ˆçš„å½¢å¼ç®¡ç†ã€‚æ ˆä¸­çš„å†…å®¹ä¸Shellç¯å¢ƒå˜é‡ &lt;code&gt;DIRSTACK&lt;/code&gt; çš„å€¼å¯¹åº”&lt;/p&gt;
&lt;h3 id=&#34;1-dirs&#34;&gt;1 dirs&lt;/h3&gt;
&lt;h4 id=&#34;11-åŠŸèƒ½&#34;&gt;1.1 åŠŸèƒ½&lt;/h4&gt;
&lt;p&gt;æ˜¾ç¤ºå½“å‰ç›®å½•æ ˆä¸­çš„æ‰€æœ‰è®°å½•ï¼ˆä¸å¸¦å‚æ•°çš„dirså‘½ä»¤æ˜¾ç¤ºå½“å‰ç›®å½•æ ˆä¸­çš„è®°å½•ï¼‰&lt;/p&gt;
&lt;h4 id=&#34;12-è¯­æ³•&#34;&gt;1.2 è¯­æ³•&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;æ ¼å¼ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;dirs [-clpv] [+n] [-n]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é€‰é¡¹&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;-c  åˆ é™¤ç›®å½•æ ˆä¸­çš„æ‰€æœ‰è®°å½•&lt;/li&gt;
&lt;li&gt;-l   ä»¥å®Œæ•´æ ¼å¼æ˜¾ç¤º(ç»å¯¹è·¯å¾„)&lt;/li&gt;
&lt;li&gt;-p  ä¸€ä¸ªç›®å½•ä¸€è¡Œçš„æ–¹å¼æ˜¾ç¤º&lt;/li&gt;
&lt;li&gt;-v  æ¯è¡Œä¸€ä¸ªç›®å½•æ¥æ˜¾ç¤ºç›®å½•æ ˆçš„å†…å®¹ï¼Œæ¯ä¸ªç›®å½•å‰åŠ ä¸Šçš„ç¼–å·&lt;/li&gt;
&lt;li&gt;+N æ˜¾ç¤ºä»å·¦åˆ°å³çš„ç¬¬nä¸ªç›®å½•ï¼Œæ•°å­—ä»0å¼€å§‹&lt;/li&gt;
&lt;li&gt;-N  æ˜¾ç¤ºä»å³åˆ°å·¦çš„ç¬¬nä¸ªæ—¥å½•ï¼Œæ•°å­—ä»0å¼€å§‹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ³¨æ„ï¼šdirså§‹ç»ˆæ˜¾ç¤ºå½“äººä»¬ç›®å½•, å†æ˜¯å †æ ˆä¸­çš„å†…å®¹ï¼›å³ä½¿ç›®å½•å †æ ˆä¸ºç©º, dirså‘½ä»¤ä»ç„¶åªæ˜¾ç¤ºå½“å‰ç›®å½•&lt;/p&gt;
&lt;h3 id=&#34;2-pushd&#34;&gt;2 pushd&lt;/h3&gt;
&lt;h4 id=&#34;21-åŠŸèƒ½&#34;&gt;2.1 åŠŸèƒ½&lt;/h4&gt;
&lt;p&gt;å°†ç›®å½•åŠ å…¥åˆ°æ ˆé¡¶éƒ¨ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥ç›®å½•ï¼›è‹¥ &lt;code&gt;pushd&lt;/code&gt; å‘½ä»¤ä¸åŠ ä»»ä½•å‚æ•°ï¼Œåˆ™ä¼šå°†ä½äºè®°å½•æ ˆæœ€ä¸Šé¢çš„2ä¸ªç›®å½•å¯¹æ¢ä½ç½®&lt;/p&gt;
&lt;h4 id=&#34;22-è¯­æ³•&#34;&gt;2.2 è¯­æ³•&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;æ ¼å¼ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;pushd [ç›®å½• | -N | +N]  [-n]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é€‰é¡¹&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç›®å½•  å°†è¯¥ç›®å½•åŠ å…¥åˆ°æ ˆé¡¶ï¼Œå¹¶æ‰§è¡Œ&amp;quot;cd ç›®å½•&amp;quot;ï¼Œåˆ‡æ¢åˆ°è¯¥ç›®å½•&lt;/li&gt;
&lt;li&gt;+N  å°†ç¬¬Nä¸ªç›®å½•ç§»è‡³æ ˆé¡¶ï¼ˆä»å·¦è¾¹æ•°èµ·ï¼Œæ•°å­—ä»0å¼€å§‹ï¼‰&lt;/li&gt;
&lt;li&gt;-N  å°†ç¬¬Nä¸ªç›®å½•ç§»è‡³æ ˆé¡¶ï¼ˆä»å³è¾¹æ•°èµ·ï¼Œæ•°å­—ä»0å¼€å§‹ï¼‰&lt;/li&gt;
&lt;li&gt;-n  å°†ç›®å½•å…¥æ ˆæ—¶ï¼Œä¸åˆ‡æ¢ç›®å½•&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3-popd&#34;&gt;3 popd&lt;/h3&gt;
&lt;h4 id=&#34;31-åŠŸèƒ½&#34;&gt;3.1 åŠŸèƒ½&lt;/h4&gt;
&lt;p&gt;åˆ é™¤ç›®å½•æ ˆä¸­çš„è®°å½•ï¼›å¦‚æœpopdå‘½ä»¤ä¸åŠ ä»»ä½•å‚æ•°ï¼Œåˆ™ä¼šå…ˆåˆ é™¤ç›®å½•æ ˆæœ€ä¸Šé¢çš„è®°å½•ï¼Œç„¶ååˆ‡æ¢åˆ°åˆ é™¤è¿‡åçš„ç›®å½•æ ˆä¸­çš„æœ€ä¸Šé¢çš„ç›®å½•&lt;/p&gt;
&lt;h4 id=&#34;32-è¯­æ³•&#34;&gt;3.2 è¯­æ³•&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;æ ¼å¼ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;pushd [-N | +N]  [-n]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é€‰é¡¹&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;+N  å°†ç¬¬Nä¸ªç›®å½•åˆ é™¤ï¼ˆä»å·¦è¾¹æ•°èµ·ï¼Œæ•°å­—ä»0å¼€å§‹ï¼‰&lt;/li&gt;
&lt;li&gt;-N  å°†ç¬¬Nä¸ªç›®å½•åˆ é™¤ï¼ˆä»å³è¾¹æ•°èµ·ï¼Œæ•°å­—ä»0å¼€å§‹ï¼‰&lt;/li&gt;
&lt;li&gt;-n  å°†ç›®å½•å‡ºæ ˆæ—¶ï¼Œä¸åˆ‡æ¢ç›®å½•&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;4-ç¤ºä¾‹&#34;&gt;4 ç¤ºä¾‹&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;å…¥æ ˆä¸å‡ºæ ˆ&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@root&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;:~# mkdir /root/dir&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;1,2,3,4&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@root&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;:~# &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;((&lt;/span&gt;i&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;1;i&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;4;i++&lt;span style=&#34;color:#f92672&#34;&gt;))&lt;/span&gt;; &lt;span style=&#34;color:#66d9ef&#34;&gt;do&lt;/span&gt; pushd /root/dir&lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;i&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;; &lt;span style=&#34;color:#66d9ef&#34;&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/root/dir1 ~
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/root/dir2 /root/dir1 ~
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/root/dir3 /root/dir2 /root/dir1 ~
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/root/dir4 /root/dir3 /root/dir2 /root/dir1 ~
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@root:/root/dir4&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# dirs &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/root/dir4 /root/dir3 /root/dir2 /root/dir1 ~
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dirsæ˜¾å‡ºäº†æ ˆä¸­çš„æ‰€æœ‰ç›®å½•
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@root:/root/dir4&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# popdï¼ˆç›¸å½“äºpopd +0ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/root/dir3 /root/dir2 /root/dir1 ~
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@root:/root/dir3&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# dirs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/root/dir3 /root/dir2 /root/dir1 ~
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;å¯ä»¥çœ‹å‡º/root/dir4ç›®å½•å·²è¢«æ¸…é™¤ï¼Œæ­¤æ—¶æ ˆé‡Œå·²ç»æ²¡æœ‰äº†dir4ç›®å½•ï¼Œåˆ‡å½“å‰ç›®å½•åˆ‡æ¢ä¸ºdir3
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@root:/root/dir3&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# pushd /root/dir4 &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/root/dir4 /root/dir3 /root/dir2 /root/dir1 ~
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@root:/root/dir4&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ä¸æ¨èä»¥ä¸Šé¢çš„æ–¹æ³•è¿›è¡Œåˆ‡æ¢ï¼Œå› ä¸ºè¿™ç§æ–¹å¼å’Œcdæ²¡æœ‰åŒºåˆ«ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@root:/root/dir4&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# popd +1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/root/dir4 /root/dir2 /root/dir1 ~
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;æ¨èä»¥è¿™ç§æ–¹å¼è¿›è¡Œåˆ‡æ¢ï¼Œå°¤å…¶æ˜¯ç›®å½•å±‚æ¬¡æ¯”è¾ƒå¤šæ—¶
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@root:/root/dir4&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# popd -2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/root/dir4 /root/dir1 ~
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@root:/root/dir2&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# pushd -1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/root/dir1 ~ /root/dir2 /root/dir3 /root/dir4
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@root:/root/dir3&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;æ³¨æ„ï¼šæœ€å·¦è¾¹è¡¨ç¤ºæ ˆé¡¶ï¼Œæœ€å³è¾¹è¡¨ç¤ºæ ˆåº•
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;æ¸…ç©ºæ ˆ&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@root&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;:~# dirs
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;~ /root/dir2 /root/dir3 /root/dir4 /root/dir1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@root&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;:~# dirs -c
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@root&lt;span style=&#34;color:#f92672&#34;&gt;](&lt;/span&gt;mailto:root@root&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;:~# dirs
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;~
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;åˆ—è¡¨å½¢å¼æ˜¾ç¤ºçš„æ ˆçš„å†…å®¹&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@root:/root/dir4&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# dirs -l -v&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; /root/dir4
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; /root/dir3
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; /root/dir2
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt; /root/dir1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt; /root
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨ï¼šå¦‚æœåªæ˜¯ä¸¤ä¸ªç›®å½•ä¹‹é—´çš„åˆ‡æ¢ &lt;code&gt;cd -&lt;/code&gt;è¶³çŸ£ï¼Œè€Œä¸”æ–¹ä¾¿ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘ä½¿ç”¨ gosec æ£€æŸ¥ Go ä»£ç ä¸­çš„å®‰å…¨é—®é¢˜</title>
        <link>https://lxb.wiki/a59515fd/</link>
        <pubDate>Mon, 19 Oct 2020 23:36:00 +0000</pubDate>
        
        <guid>https://lxb.wiki/a59515fd/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;blockquote&gt;
&lt;p&gt;æ¥å­¦ä¹ ä¸‹ Go è¯­è¨€çš„å®‰å…¨æ£€æŸ¥å·¥å…· gosecã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://img.linux.net.cn/data/attachment/album/202010/04/125129bh4qxxsyqpvqjtx4.jpg&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://golang.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go è¯­è¨€&lt;/a&gt;å†™çš„ä»£ç è¶Šæ¥è¶Šå¸¸è§ï¼Œå°¤å…¶æ˜¯åœ¨å®¹å™¨ã€Kubernetes æˆ–äº‘ç”Ÿæ€ç›¸å…³çš„å¼€å‘ä¸­ã€‚Docker æ˜¯æœ€æ—©é‡‡ç”¨ Golang çš„é¡¹ç›®ä¹‹ä¸€ï¼Œéšåæ˜¯ Kubernetesï¼Œä¹‹åå¤§é‡çš„æ–°é¡¹ç›®åœ¨ä¼—å¤šç¼–ç¨‹è¯­è¨€ä¸­é€‰æ‹©äº† Goã€‚&lt;/p&gt;
&lt;p&gt;åƒå…¶ä»–è¯­è¨€ä¸€æ ·ï¼ŒGo ä¹Ÿæœ‰å®ƒçš„é•¿å¤„å’ŒçŸ­å¤„ï¼ˆå¦‚å®‰å…¨ç¼ºé™·ï¼‰ã€‚è¿™äº›ç¼ºé™·å¯èƒ½ä¼šå› ä¸ºè¯­è¨€æœ¬èº«çš„ç¼ºé™·åŠ ä¸Šç¨‹åºå‘˜ç¼–ç ä¸å½“è€Œäº§ç”Ÿï¼Œä¾‹å¦‚ï¼ŒC ä»£ç ä¸­çš„å†…å­˜å®‰å…¨é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æ— è®ºå®ƒä»¬å‡ºç°çš„åŸå› æ˜¯ä»€ä¹ˆï¼Œå®‰å…¨é—®é¢˜éƒ½åº”è¯¥åœ¨å¼€å‘è¿‡ç¨‹çš„æ—©æœŸä¿®å¤ï¼Œä»¥å…åœ¨å°è£…å¥½çš„è½¯ä»¶ä¸­å‡ºç°ã€‚å¹¸è¿çš„æ˜¯ï¼Œé™æ€åˆ†æå·¥å…·å¯ä»¥å¸®ä½ ä»¥æ›´å¯é‡å¤çš„æ–¹å¼å¤„ç†è¿™äº›é—®é¢˜ã€‚é™æ€åˆ†æå·¥å…·é€šè¿‡è§£æç”¨æŸç§ç¼–ç¨‹è¯­è¨€å†™çš„ä»£ç æ¥æ‰¾åˆ°é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç±»å·¥å…·ä¸­å¾ˆå¤šè¢«ç§°ä¸º linterã€‚ä¼ ç»Ÿæ„ä¹‰ä¸Šï¼Œlinter æ›´æ³¨é‡çš„æ˜¯æ£€æŸ¥ä»£ç ä¸­ç¼–ç é—®é¢˜ã€bugã€ä»£ç é£æ ¼ä¹‹ç±»çš„é—®é¢˜ï¼Œå®ƒä»¬å¯èƒ½ä¸ä¼šå‘ç°ä»£ç ä¸­çš„å®‰å…¨é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://www.synopsys.com/software-integrity/security-testing/static-analysis-sast.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Coverity&lt;/a&gt; æ˜¯ä¸€ä¸ªå¾ˆæµè¡Œçš„å·¥å…·ï¼Œå®ƒå¯ä»¥å¸®åŠ©å¯»æ‰¾ C/C++ ä»£ç ä¸­çš„é—®é¢˜ã€‚ç„¶è€Œï¼Œä¹Ÿæœ‰ä¸€äº›å·¥å…·ä¸“é—¨ç”¨æ¥æ£€æŸ¥æºç ä¸­çš„å®‰å…¨é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://pypi.org/project/bandit/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Bandit&lt;/a&gt; å¯ä»¥æ£€æŸ¥ Python ä»£ç ä¸­çš„å®‰å…¨ç¼ºé™·ã€‚è€Œ &lt;a class=&#34;link&#34; href=&#34;https://github.com/securego/gosec&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;gosec&lt;/a&gt; åˆ™ç”¨æ¥æœå¯» Go æºç ä¸­çš„å®‰å…¨ç¼ºé™·ã€‚&lt;code&gt;gosec&lt;/code&gt; é€šè¿‡æ‰«æ Go çš„ ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘abstract syntax tree&lt;!-- raw HTML omitted --&gt;æŠ½è±¡è¯­æ³•æ ‘&lt;!-- raw HTML omitted --&gt;abstract syntax tree&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼‰æ¥æ£€æŸ¥æºç ä¸­çš„å®‰å…¨é—®é¢˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¼€å§‹ä½¿ç”¨-gosec&#34;&gt;å¼€å§‹ä½¿ç”¨ gosec&lt;/h3&gt;
&lt;p&gt;åœ¨å¼€å§‹å­¦ä¹ å’Œä½¿ç”¨ &lt;code&gt;gosec&lt;/code&gt; ä¹‹å‰ï¼Œä½ éœ€è¦å‡†å¤‡ä¸€ä¸ª Go è¯­è¨€å†™çš„é¡¹ç›®ã€‚æœ‰è¿™ä¹ˆå¤šå¼€æºè½¯ä»¶ï¼Œæˆ‘ç›¸ä¿¡è¿™ä¸æ˜¯é—®é¢˜ã€‚ä½ å¯ä»¥åœ¨ GitHub çš„ &lt;a class=&#34;link&#34; href=&#34;https://github.com/trending/go&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;çƒ­é—¨ Golang ä»“åº“&lt;/a&gt;ä¸­æ‰¾ä¸€ä¸ªã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä¸­ï¼Œæˆ‘éšæœºé€‰äº† &lt;a class=&#34;link&#34; href=&#34;https://github.com/docker/docker-ce&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Docker CE&lt;/a&gt; é¡¹ç›®ï¼Œä½†ä½ å¯ä»¥é€‰æ‹©ä»»æ„çš„ Go é¡¹ç›®ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å®‰è£…-go-å’Œ-gosec&#34;&gt;å®‰è£… Go å’Œ gosec&lt;/h4&gt;
&lt;p&gt;å¦‚æœä½ è¿˜æ²¡å®‰è£… Goï¼Œä½ å¯ä»¥å…ˆä»ä»“åº“ä¸­æ‹‰å–ä¸‹æ¥ã€‚å¦‚æœä½ ç”¨çš„æ˜¯ Fedora æˆ–å…¶ä»–åŸºäº RPM çš„ Linux å‘è¡Œç‰ˆæœ¬ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ dnf install golang.x86_64
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦‚æœä½ ç”¨çš„æ˜¯å…¶ä»–æ“ä½œç³»ç»Ÿï¼Œè¯·å‚ç…§ &lt;a class=&#34;link&#34; href=&#34;https://golang.org/doc/install&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Golang å®‰è£…&lt;/a&gt;é¡µé¢ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;version&lt;/code&gt; å‚æ•°æ¥éªŒè¯ Go æ˜¯å¦å®‰è£…æˆåŠŸï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ go version
go version go1.14.6 linux/amd64
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿è¡Œ &lt;code&gt;go get&lt;/code&gt; å‘½ä»¤å°±å¯ä»¥è½»æ¾åœ°å®‰è£… &lt;code&gt;gosec&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ go get github.com/securego/gosec/cmd/gosec
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸Šé¢è¿™è¡Œå‘½ä»¤ä¼šä» GitHub ä¸‹è½½ &lt;code&gt;gosec&lt;/code&gt; çš„æºç ï¼Œç¼–è¯‘å¹¶å®‰è£…åˆ°æŒ‡å®šä½ç½®ã€‚åœ¨ä»“åº“çš„ &lt;code&gt;README&lt;/code&gt; ä¸­ä½ è¿˜å¯ä»¥çœ‹åˆ°&lt;a class=&#34;link&#34; href=&#34;https://github.com/securego/gosec#install&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å®‰è£…è¯¥å·¥å…·çš„å…¶ä»–æ–¹æ³•&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;gosec&lt;/code&gt; çš„æºç ä¼šè¢«ä¸‹è½½åˆ° &lt;code&gt;$GOPATH&lt;/code&gt; çš„ä½ç½®ï¼Œç¼–è¯‘å‡ºçš„äºŒè¿›åˆ¶æ–‡ä»¶ä¼šè¢«å®‰è£…åˆ°ä½ ç³»ç»Ÿä¸Šè®¾ç½®çš„ &lt;code&gt;bin&lt;/code&gt; ç›®å½•ä¸‹ã€‚ä½ å¯ä»¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥æŸ¥çœ‹ &lt;code&gt;$GOPATH&lt;/code&gt; å’Œ &lt;code&gt;$GOBIN&lt;/code&gt; ç›®å½•ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ go env | grep GOBIN
GOBIN=&amp;#34;/root/go/gobin&amp;#34;
$ go env | grep GOPATH
GOPATH=&amp;#34;/root/go&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦‚æœ &lt;code&gt;go get&lt;/code&gt; å‘½ä»¤æ‰§è¡ŒæˆåŠŸï¼Œé‚£ä¹ˆ &lt;code&gt;gosec&lt;/code&gt; äºŒè¿›åˆ¶åº”è¯¥å°±å¯ä»¥ä½¿ç”¨äº†ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ ls -l ~/go/bin/
total 9260
-rwxr-xr-x. 1 root root 9482175 Aug 20 04:17 gosec
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä½ å¯ä»¥æŠŠ &lt;code&gt;$GOPATH&lt;/code&gt; ä¸‹çš„ &lt;code&gt;bin&lt;/code&gt; ç›®å½•æ·»åŠ åˆ° &lt;code&gt;$PATH&lt;/code&gt; ä¸­ã€‚è¿™æ ·ä½ å°±å¯ä»¥åƒä½¿ç”¨ç³»ç»Ÿä¸Šçš„å…¶ä»–å‘½ä»¤ä¸€æ ·æ¥ä½¿ç”¨ &lt;code&gt;gosec&lt;/code&gt; å‘½ä»¤è¡Œå·¥å…·ï¼ˆCLIï¼‰äº†ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ which gosec
/root/go/bin/gosec
$
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä½¿ç”¨ &lt;code&gt;gosec&lt;/code&gt; å‘½ä»¤è¡Œå·¥å…·çš„ &lt;code&gt;-help&lt;/code&gt; é€‰é¡¹æ¥çœ‹çœ‹è¿è¡Œæ˜¯å¦ç¬¦åˆé¢„æœŸï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ gosec -help

gosec - Golang security checker

gosec analyzes Go source code to look for common programming mistakes that
can lead to security problems.

VERSION: dev
GIT TAG:
BUILD DATE:

USAGE:
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¹‹åï¼Œåˆ›å»ºä¸€ä¸ªç›®å½•ï¼ŒæŠŠæºç ä¸‹è½½åˆ°è¿™ä¸ªç›®å½•ä½œä¸ºå®ä¾‹é¡¹ç›®ï¼ˆæœ¬ä¾‹ä¸­ï¼Œæˆ‘ç”¨çš„æ˜¯ Docker CEï¼‰ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ mkdir gosec-demo
$ cd gosec-demo/
$ pwd
/root/gosec-demo
$ git clone https://github.com/docker/docker-ce.git
Cloning into &amp;#39;docker-ce&amp;#39;...
remote: Enumerating objects: 1271, done.
remote: Counting objects: 100% (1271/1271), done.
remote: Compressing objects: 100% (722/722), done.
remote: Total 431003 (delta 384), reused 981 (delta 318), pack-reused 429732
Receiving objects: 100% (431003/431003), 166.84 MiB | 28.94 MiB/s, done.
Resolving deltas: 100% (221338/221338), done.
Updating files: 100% (10861/10861), done.
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä»£ç ç»Ÿè®¡å·¥å…·ï¼ˆæœ¬ä¾‹ä¸­ç”¨çš„æ˜¯ &lt;code&gt;cloc&lt;/code&gt;ï¼‰æ˜¾ç¤ºè¿™ä¸ªé¡¹ç›®å¤§éƒ¨åˆ†æ˜¯ç”¨ Go å†™çš„ï¼Œæ°å¥½è¿åˆäº† &lt;code&gt;gosec&lt;/code&gt; çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ ./cloc /root/gosec-demo/docker-ce/
   10771 text files.
    8724 unique files.                                          
    2560 files ignored.


-----------------------------------------------------------------------------------
Language                         files          blank        comment           code
-----------------------------------------------------------------------------------
Go                                7222         190785         230478        1574580
YAML                                37           4831            817         156762
Markdown                           529          21422              0          67893
Protocol Buffers                   149           5014          16562          10071
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;ä½¿ç”¨é»˜è®¤é€‰é¡¹è¿è¡Œ-gosec&#34;&gt;ä½¿ç”¨é»˜è®¤é€‰é¡¹è¿è¡Œ gosec&lt;/h3&gt;
&lt;p&gt;åœ¨ Docker CE é¡¹ç›®ä¸­ä½¿ç”¨é»˜è®¤é€‰é¡¹è¿è¡Œ &lt;code&gt;gosec&lt;/code&gt;ï¼Œæ‰§è¡Œ &lt;code&gt;gosec ./...&lt;/code&gt; å‘½ä»¤ã€‚å±å¹•ä¸Šä¼šæœ‰å¾ˆå¤šè¾“å‡ºå†…å®¹ã€‚åœ¨æœ«å°¾ä½ ä¼šçœ‹åˆ°ä¸€ä¸ªç®€çŸ­çš„ â€œSummaryâ€ï¼Œåˆ—å‡ºäº†æµè§ˆçš„æ–‡ä»¶æ•°ã€æ‰€æœ‰æ–‡ä»¶çš„æ€»è¡Œæ•°ï¼Œä»¥åŠæºç ä¸­å‘ç°çš„é—®é¢˜æ•°ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ pwd
/root/gosec-demo/docker-ce
$ time gosec ./...
[gosec] 2020/08/20 04:44:15 Including rules: default
[gosec] 2020/08/20 04:44:15 Excluding rules: default
[gosec] 2020/08/20 04:44:15 Import directory: /root/gosec-demo/docker-ce/components/engine/opts
[gosec] 2020/08/20 04:44:17 Checking package: opts
[gosec] 2020/08/20 04:44:17 Checking file: /root/gosec-demo/docker-ce/components/engine/opts/address_pools.go
[gosec] 2020/08/20 04:44:17 Checking file: /root/gosec-demo/docker-ce/components/engine/opts/env.go
[gosec] 2020/08/20 04:44:17 Checking file: /root/gosec-demo/docker-ce/components/engine/opts/hosts.go

# End of gosec run

Summary:
   Files: 1278
   Lines: 173979
   Nosec: 4
  Issues: 644

real    0m52.019s
user    0m37.284s
sys     0m12.734s
$
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ»šåŠ¨å±å¹•ä½ ä¼šçœ‹åˆ°ä¸åŒé¢œè‰²é«˜äº®çš„è¡Œï¼šçº¢è‰²è¡¨ç¤ºéœ€è¦å°½å¿«æŸ¥çœ‹çš„é«˜ä¼˜å…ˆçº§é—®é¢˜ï¼Œé»„è‰²è¡¨ç¤ºä¸­ä¼˜å…ˆçº§çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å…³äºè¯¯åˆ¤&#34;&gt;å…³äºè¯¯åˆ¤&lt;/h4&gt;
&lt;p&gt;åœ¨å¼€å§‹æ£€æŸ¥ä»£ç ä¹‹å‰ï¼Œæˆ‘æƒ³å…ˆåˆ†äº«å‡ æ¡åŸºæœ¬åŸåˆ™ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œé™æ€æ£€æŸ¥å·¥å…·ä¼šåŸºäºä¸€ç³»åˆ—çš„è§„åˆ™å¯¹æµ‹è¯•ä»£ç è¿›è¡Œåˆ†æï¼Œå¹¶æŠ¥å‘Šå‡ºå®ƒä»¬å‘ç°çš„&lt;em&gt;æ‰€æœ‰&lt;/em&gt;é—®é¢˜ã€‚è¿™æ˜¯å¦æ„å‘³ç€å·¥å…·æŠ¥å‡ºæ¥çš„æ¯ä¸€ä¸ªé—®é¢˜éƒ½éœ€è¦ä¿®å¤ï¼Ÿéä¹Ÿã€‚è¿™ä¸ªé—®é¢˜æœ€å¥½çš„è§£ç­”è€…æ˜¯è®¾è®¡å’Œå¼€å‘è¿™ä¸ªè½¯ä»¶çš„äººã€‚ä»–ä»¬æœ€ç†Ÿæ‚‰ä»£ç ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œä»–ä»¬äº†è§£è½¯ä»¶ä¼šåœ¨ä»€ä¹ˆç¯å¢ƒä¸‹éƒ¨ç½²ä»¥åŠä¼šè¢«æ€æ ·ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªçŸ¥è¯†ç‚¹å¯¹äºåˆ¤å®šå·¥å…·æ ‡è®°å‡ºæ¥çš„æŸæ®µä»£ç åˆ°åº•æ˜¯ä¸æ˜¯å®‰å…¨ç¼ºé™·è‡³å…³é‡è¦ã€‚éšç€å·¥ä½œæ—¶é—´å’Œç»éªŒçš„ç§¯ç´¯ï¼Œä½ ä¼šæ…¢æ…¢å­¦ä¼šæ€æ ·è®©é™æ€åˆ†æå·¥å…·å¿½ç•¥éå®‰å…¨ç¼ºé™·ï¼Œä½¿æŠ¥å‘Šå†…å®¹çš„å¯æ‰§è¡Œæ€§æ›´é«˜ã€‚å› æ­¤ï¼Œè¦åˆ¤å®š &lt;code&gt;gosec&lt;/code&gt; æŠ¥å‡ºæ¥çš„æŸä¸ªé—®é¢˜æ˜¯å¦éœ€è¦ä¿®å¤ï¼Œè®©ä¸€åæœ‰ç»éªŒçš„å¼€å‘è€…å¯¹æºç åšäººå·¥å®¡è®¡ä¼šæ˜¯æ¯”è¾ƒå¥½çš„åŠæ³•ã€‚&lt;/p&gt;
&lt;h4 id=&#34;é«˜ä¼˜å…ˆçº§é—®é¢˜&#34;&gt;é«˜ä¼˜å…ˆçº§é—®é¢˜&lt;/h4&gt;
&lt;p&gt;ä»è¾“å‡ºå†…å®¹çœ‹ï¼Œ&lt;code&gt;gosec&lt;/code&gt; å‘ç°äº† Docker CE çš„ä¸€ä¸ªé«˜ä¼˜å…ˆçº§é—®é¢˜ï¼Œå®ƒä½¿ç”¨çš„æ˜¯ä½ç‰ˆæœ¬çš„ TLSï¼ˆä¼ è¾“å±‚å®‰å…¨Transport Layer Security&lt;!-- raw HTML omitted --&gt;ä¼ è¾“å±‚å®‰å…¨&lt;!-- raw HTML omitted --&gt;Transport Layer Security&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼‰ã€‚æ— è®ºä»€ä¹ˆæ—¶å€™ï¼Œä½¿ç”¨è½¯ä»¶å’Œåº“çš„æœ€æ–°ç‰ˆæœ¬éƒ½æ˜¯ç¡®ä¿å®ƒæ›´æ–°åŠæ—¶ã€æ²¡æœ‰å®‰å…¨é—®é¢˜çš„æœ€å¥½çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[/root/gosec-demo/docker-ce/components/engine/daemon/logger/splunk/splunk.go:173] - G402 (CWE-295): TLS MinVersion too low. (Confidence: HIGH, Severity: HIGH)
    172:
  &amp;gt; 173:        tlsConfig := &amp;amp;tls.Config{}
    174:
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å®ƒè¿˜å‘ç°äº†ä¸€ä¸ªå¼±éšæœºæ•°ç”Ÿæˆå™¨ã€‚å®ƒæ˜¯ä¸æ˜¯ä¸€ä¸ªå®‰å…¨ç¼ºé™·ï¼Œå–å†³äºç”Ÿæˆçš„éšæœºæ•°çš„ä½¿ç”¨æ–¹å¼ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[/root/gosec-demo/docker-ce/components/engine/pkg/namesgenerator/names-generator.go:843] - G404 (CWE-338): Use of weak random number generator (math/rand instead of crypto/rand) (Confidence: MEDIUM, Severity: HIGH)
    842: begin:
  &amp;gt; 843:        name := fmt.Sprintf(&amp;#34;%s_%s&amp;#34;, left[rand.Intn(len(left))], right[rand.Intn(len(right))])
    844:        if name == &amp;#34;boring_wozniak&amp;#34; /* Steve Wozniak is not boring */ {
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;ä¸­ä¼˜å…ˆçº§é—®é¢˜&#34;&gt;ä¸­ä¼˜å…ˆçº§é—®é¢˜&lt;/h4&gt;
&lt;p&gt;è¿™ä¸ªå·¥å…·è¿˜å‘ç°äº†ä¸€äº›ä¸­ä¼˜å…ˆçº§é—®é¢˜ã€‚å®ƒæ ‡è®°äº†ä¸€ä¸ªé€šè¿‡ä¸ &lt;code&gt;tar&lt;/code&gt; ç›¸å…³çš„è§£å‹ç‚¸å¼¹è¿™ç§æ–¹å¼å®ç°çš„æ½œåœ¨çš„ DoS å¨èƒï¼Œè¿™ç§æ–¹å¼å¯èƒ½ä¼šè¢«æ¶æ„çš„æ”»å‡»è€…åˆ©ç”¨ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[/root/gosec-demo/docker-ce/components/engine/pkg/archive/copy.go:357] - G110 (CWE-409): Potential DoS vulnerability via decompression bomb (Confidence: MEDIUM, Severity: MEDIUM)
    356:
  &amp;gt; 357:                        if _, err = io.Copy(rebasedTar, srcTar); err != nil {
    358:                                w.CloseWithError(err)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å®ƒè¿˜å‘ç°äº†ä¸€ä¸ªé€šè¿‡å˜é‡è®¿é—®æ–‡ä»¶çš„é—®é¢˜ã€‚å¦‚æœæ¶æ„ä½¿ç”¨è€…èƒ½è®¿é—®è¿™ä¸ªå˜é‡ï¼Œé‚£ä¹ˆä»–ä»¬å°±å¯ä»¥æ”¹å˜å˜é‡çš„å€¼å»è¯»å…¶ä»–æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[/root/gosec-demo/docker-ce/components/cli/cli/context/tlsdata.go:80] - G304 (CWE-22): Potential file inclusion via variable (Confidence: HIGH, Severity: MEDIUM)
    79:         if caPath != &amp;#34;&amp;#34; {
  &amp;gt; 80:                 if ca, err = ioutil.ReadFile(caPath); err != nil {
    81:                         return nil, err
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ–‡ä»¶å’Œç›®å½•é€šå¸¸æ˜¯æ“ä½œç³»ç»Ÿå®‰å…¨çš„æœ€åŸºç¡€çš„å…ƒç´ ã€‚è¿™é‡Œï¼Œ&lt;code&gt;gosec&lt;/code&gt; æŠ¥å‡ºäº†ä¸€ä¸ªå¯èƒ½éœ€è¦ä½ æ£€æŸ¥ç›®å½•çš„æƒé™æ˜¯å¦å®‰å…¨çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[/root/gosec-demo/docker-ce/components/engine/contrib/apparmor/main.go:41] - G301 (CWE-276): Expect directory permissions to be 0750 or less (Confidence: HIGH, Severity: MEDIUM)
    40:         // make sure /etc/apparmor.d exists
  &amp;gt; 41:         if err := os.MkdirAll(path.Dir(apparmorProfilePath), 0755); err != nil {
    42:                 log.Fatal(err)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä½ ç»å¸¸éœ€è¦åœ¨æºç ä¸­å¯åŠ¨å‘½ä»¤è¡Œå·¥å…·ã€‚Go ä½¿ç”¨å†…å»ºçš„ exec åº“æ¥å®ç°ã€‚ä»”ç»†åœ°åˆ†æç”¨æ¥è°ƒç”¨è¿™äº›å·¥å…·çš„å˜é‡ï¼Œå°±èƒ½å‘ç°å®‰å…¨ç¼ºé™·ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[/root/gosec-demo/docker-ce/components/engine/testutil/fakestorage/fixtures.go:59] - G204 (CWE-78): Subprocess launched with variable (Confidence: HIGH, Severity: MEDIUM)
    58:
  &amp;gt; 59:              cmd := exec.Command(goCmd, &amp;#34;build&amp;#34;, &amp;#34;-o&amp;#34;, filepath.Join(tmp, &amp;#34;httpserver&amp;#34;), &amp;#34;github.com/docker/docker/contrib/httpserver&amp;#34;)
    60:                 cmd.Env = append(os.Environ(), []string{
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;ä½ä¼˜å…ˆçº§é—®é¢˜&#34;&gt;ä½ä¼˜å…ˆçº§é—®é¢˜&lt;/h4&gt;
&lt;p&gt;åœ¨è¿™ä¸ªè¾“å‡ºä¸­ï¼Œgosec æŠ¥å‡ºäº†ä¸€ä¸ª &lt;code&gt;unsafe&lt;/code&gt; è°ƒç”¨ç›¸å…³çš„ä½ä¼˜å…ˆçº§é—®é¢˜ï¼Œè¿™ä¸ªè°ƒç”¨ä¼šç»•å¼€ Go æä¾›çš„å†…å­˜ä¿æŠ¤ã€‚å†ä»”ç»†åˆ†æä¸‹ä½ è°ƒç”¨ &lt;code&gt;unsafe&lt;/code&gt; çš„æ–¹å¼ï¼Œçœ‹çœ‹æ˜¯å¦æœ‰è¢«åˆ«äººåˆ©ç”¨çš„å¯èƒ½æ€§ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[/root/gosec-demo/docker-ce/components/engine/pkg/archive/changes_linux.go:264] - G103 (CWE-242): Use of unsafe calls should be audited (Confidence: HIGH, Severity: LOW)
    263:        for len(buf) &amp;gt; 0 {
  &amp;gt; 264:                dirent := (*unix.Dirent)(unsafe.Pointer(&amp;amp;buf[0]))
    265:                buf = buf[dirent.Reclen:]



[/root/gosec-demo/docker-ce/components/engine/pkg/devicemapper/devmapper_wrapper.go:88] - G103 (CWE-242): Use of unsafe calls should be audited (Confidence: HIGH, Severity: LOW)
    87: func free(p *C.char) {
  &amp;gt; 88:         C.free(unsafe.Pointer(p))
    89: }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å®ƒè¿˜æ ‡è®°äº†æºç ä¸­æœªå¤„ç†çš„é”™è¯¯ã€‚æºç ä¸­å‡ºç°çš„é”™è¯¯ä½ éƒ½åº”è¯¥å¤„ç†ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[/root/gosec-demo/docker-ce/components/cli/cli/command/image/build/context.go:172] - G104 (CWE-703): Errors unhandled. (Confidence: HIGH, Severity: LOW)
    171:                err := tar.Close()
  &amp;gt; 172:                os.RemoveAll(dockerfileDir)
    173:                return err
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;è‡ªå®šä¹‰-gosec-æ‰«æ&#34;&gt;è‡ªå®šä¹‰ gosec æ‰«æ&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;gosec&lt;/code&gt; çš„é»˜è®¤é€‰é¡¹ä¼šå¸¦æ¥å¾ˆå¤šçš„é—®é¢˜ã€‚ç„¶è€Œï¼Œç»è¿‡äººå·¥å®¡è®¡ï¼Œéšç€æ—¶é—´æ¨ç§»ä½ ä¼šæŒæ¡å“ªäº›é—®é¢˜æ˜¯ä¸éœ€è¦æ ‡è®°çš„ã€‚ä½ å¯ä»¥è‡ªå·±æŒ‡å®šæ’é™¤å’ŒåŒ…å«å“ªäº›æµ‹è¯•ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä¸Šé¢æåˆ°è¿‡ï¼Œ&lt;code&gt;gosec&lt;/code&gt; æ˜¯åŸºäºä¸€ç³»åˆ—çš„è§„åˆ™ä» Go æºç ä¸­æŸ¥æ‰¾é—®é¢˜çš„ã€‚ä¸‹é¢æ˜¯å®ƒä½¿ç”¨çš„å®Œæ•´çš„&lt;a class=&#34;link&#34; href=&#34;https://github.com/securego/gosec#available-rules&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è§„åˆ™&lt;/a&gt;åˆ—è¡¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;G101ï¼šæŸ¥æ‰¾ç¡¬ç¼–ç å‡­è¯&lt;/li&gt;
&lt;li&gt;G102ï¼šç»‘å®šåˆ°æ‰€æœ‰æ¥å£&lt;/li&gt;
&lt;li&gt;G103ï¼šå®¡è®¡ &lt;code&gt;unsafe&lt;/code&gt; å—çš„ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;G104ï¼šå®¡è®¡æœªæ£€æŸ¥çš„é”™è¯¯&lt;/li&gt;
&lt;li&gt;G106ï¼šå®¡è®¡ &lt;code&gt;ssh.InsecureIgnoreHostKey&lt;/code&gt; çš„ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;G107: æä¾›ç»™ HTTP è¯·æ±‚çš„ url ä½œä¸ºæ±¡ç‚¹è¾“å…¥&lt;/li&gt;
&lt;li&gt;G108: &lt;code&gt;/debug/pprof&lt;/code&gt; ä¸Šè‡ªåŠ¨æš´éœ²çš„å‰–æç«¯ç‚¹&lt;/li&gt;
&lt;li&gt;G109: &lt;code&gt;strconv.Atoi&lt;/code&gt; è½¬æ¢åˆ° int16 æˆ– int32 æ—¶æ½œåœ¨çš„æ•´æ•°æº¢å‡º&lt;/li&gt;
&lt;li&gt;G110: æ½œåœ¨çš„é€šè¿‡è§£å‹ç‚¸å¼¹å®ç°çš„ DoS&lt;/li&gt;
&lt;li&gt;G201ï¼šSQL æŸ¥è¯¢æ„é€ ä½¿ç”¨æ ¼å¼å­—ç¬¦ä¸²&lt;/li&gt;
&lt;li&gt;G202ï¼šSQL æŸ¥è¯¢æ„é€ ä½¿ç”¨å­—ç¬¦ä¸²è¿æ¥&lt;/li&gt;
&lt;li&gt;G203ï¼šåœ¨ HTML æ¨¡æ¿ä¸­ä½¿ç”¨æœªè½¬ä¹‰çš„æ•°æ®&lt;/li&gt;
&lt;li&gt;G204ï¼šå®¡è®¡å‘½ä»¤æ‰§è¡Œæƒ…å†µ&lt;/li&gt;
&lt;li&gt;G301ï¼šåˆ›å»ºç›®å½•æ—¶æ–‡ä»¶æƒé™åˆ†é…ä¸åˆç†&lt;/li&gt;
&lt;li&gt;G302ï¼šä½¿ç”¨ &lt;code&gt;chmod&lt;/code&gt; æ—¶æ–‡ä»¶æƒé™åˆ†é…ä¸åˆç†&lt;/li&gt;
&lt;li&gt;G303ï¼šä½¿ç”¨å¯é¢„æµ‹çš„è·¯å¾„åˆ›å»ºä¸´æ—¶æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;G304ï¼šé€šè¿‡æ±¡ç‚¹è¾“å…¥æä¾›çš„æ–‡ä»¶è·¯å¾„&lt;/li&gt;
&lt;li&gt;G305ï¼šæå– zip/tar æ–‡æ¡£æ—¶éå†æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;G306: å†™åˆ°æ–°æ–‡ä»¶æ—¶æ–‡ä»¶æƒé™åˆ†é…ä¸åˆç†&lt;/li&gt;
&lt;li&gt;G307: æŠŠè¿”å›é”™è¯¯çš„å‡½æ•°æ”¾åˆ° &lt;code&gt;defer&lt;/code&gt; å†…&lt;/li&gt;
&lt;li&gt;G401ï¼šæ£€æµ‹ DESã€RC4ã€MD5 æˆ– SHA1 çš„ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;G402ï¼šæŸ¥æ‰¾é”™è¯¯çš„ TLS è¿æ¥è®¾ç½®&lt;/li&gt;
&lt;li&gt;G403ï¼šç¡®ä¿æœ€å° RSA å¯†é’¥é•¿åº¦ä¸º 2048 ä½&lt;/li&gt;
&lt;li&gt;G404ï¼šä¸å®‰å…¨çš„éšæœºæ•°æºï¼ˆ&lt;code&gt;rand&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;G501ï¼šå¯¼å…¥é»‘åå•åˆ—è¡¨ï¼šcrypto/md5&lt;/li&gt;
&lt;li&gt;G502ï¼šå¯¼å…¥é»‘åå•åˆ—è¡¨ï¼šcrypto/des&lt;/li&gt;
&lt;li&gt;G503ï¼šå¯¼å…¥é»‘åå•åˆ—è¡¨ï¼šcrypto/rc4&lt;/li&gt;
&lt;li&gt;G504ï¼šå¯¼å…¥é»‘åå•åˆ—è¡¨ï¼šnet/http/cgi&lt;/li&gt;
&lt;li&gt;G505ï¼šå¯¼å…¥é»‘åå•åˆ—è¡¨ï¼šcrypto/sha1&lt;/li&gt;
&lt;li&gt;G601: åœ¨ &lt;code&gt;range&lt;/code&gt; è¯­å¥ä¸­ä½¿ç”¨éšå¼çš„å…ƒç´ åˆ«å&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ’é™¤æŒ‡å®šçš„æµ‹è¯•&#34;&gt;æ’é™¤æŒ‡å®šçš„æµ‹è¯•&lt;/h4&gt;
&lt;p&gt;ä½ å¯ä»¥è‡ªå®šä¹‰ &lt;code&gt;gosec&lt;/code&gt; æ¥é¿å…å¯¹å·²çŸ¥ä¸ºå®‰å…¨çš„é—®é¢˜è¿›è¡Œæ‰«æå’ŒæŠ¥å‘Šã€‚ä½ å¯ä»¥ä½¿ç”¨ &lt;code&gt;-exclude&lt;/code&gt; é€‰é¡¹å’Œä¸Šé¢çš„è§„åˆ™ç¼–å·æ¥å¿½ç•¥æŒ‡å®šçš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå¦‚æœä½ ä¸æƒ³è®© &lt;code&gt;gosec&lt;/code&gt; æ£€æŸ¥æºç ä¸­ç¡¬ç¼–ç å‡­è¯ç›¸å…³çš„æœªå¤„ç†çš„é”™è¯¯ï¼Œé‚£ä¹ˆä½ å¯ä»¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥å¿½ç•¥è¿™äº›é”™è¯¯ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ gosec -exclude=G104 ./...
$ gosec -exclude=G104,G101 ./...
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æœ‰æ—¶å€™ä½ çŸ¥é“æŸæ®µä»£ç æ˜¯å®‰å…¨çš„ï¼Œä½†æ˜¯ &lt;code&gt;gosec&lt;/code&gt; è¿˜æ˜¯ä¼šæŠ¥å‡ºé—®é¢˜ã€‚ç„¶è€Œï¼Œä½ åˆä¸æƒ³å®Œå…¨æ’é™¤æ‰æ•´ä¸ªæ£€æŸ¥ï¼Œå› ä¸ºä½ æƒ³è®© &lt;code&gt;gosec&lt;/code&gt; æ£€æŸ¥æ–°å¢çš„ä»£ç ã€‚é€šè¿‡åœ¨ä½ å·²çŸ¥ä¸ºå®‰å…¨çš„ä»£ç å—æ·»åŠ  &lt;code&gt;#nosec&lt;/code&gt; æ ‡è®°å¯ä»¥é¿å… &lt;code&gt;gosec&lt;/code&gt; æ‰«æã€‚è¿™æ · &lt;code&gt;gosec&lt;/code&gt; ä¼šç»§ç»­æ‰«ææ–°å¢ä»£ç ï¼Œè€Œå¿½ç•¥æ‰ &lt;code&gt;#nosec&lt;/code&gt; æ ‡è®°çš„ä»£ç å—ã€‚&lt;/p&gt;
&lt;h4 id=&#34;è¿è¡ŒæŒ‡å®šçš„æ£€æŸ¥&#34;&gt;è¿è¡ŒæŒ‡å®šçš„æ£€æŸ¥&lt;/h4&gt;
&lt;p&gt;å¦ä¸€æ–¹é¢ï¼Œå¦‚æœä½ åªæƒ³æ£€æŸ¥æŒ‡å®šçš„é—®é¢˜ï¼Œä½ å¯ä»¥é€šè¿‡ &lt;code&gt;-include&lt;/code&gt; é€‰é¡¹å’Œè§„åˆ™ç¼–å·æ¥å‘Šè¯‰ &lt;code&gt;gosec&lt;/code&gt; è¿è¡Œå“ªäº›æ£€æŸ¥ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ gosec -include=G201,G202 ./...
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;æ‰«ææµ‹è¯•æ–‡ä»¶&#34;&gt;æ‰«ææµ‹è¯•æ–‡ä»¶&lt;/h4&gt;
&lt;p&gt;Go è¯­è¨€è‡ªå¸¦å¯¹æµ‹è¯•çš„æ”¯æŒï¼Œé€šè¿‡å•å…ƒæµ‹è¯•æ¥æ£€éªŒä¸€ä¸ªå…ƒç´ æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚åœ¨é»˜è®¤æ¨¡å¼ä¸‹ï¼Œ&lt;code&gt;gosec&lt;/code&gt; ä¼šå¿½ç•¥æµ‹è¯•æ–‡ä»¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ &lt;code&gt;-tests&lt;/code&gt; é€‰é¡¹æŠŠå®ƒä»¬åŒ…å«è¿›æ¥ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;gosec -tests ./...
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;ä¿®æ”¹è¾“å‡ºçš„æ ¼å¼&#34;&gt;ä¿®æ”¹è¾“å‡ºçš„æ ¼å¼&lt;/h4&gt;
&lt;p&gt;æ‰¾å‡ºé—®é¢˜åªæ˜¯å®ƒçš„ä¸€åŠåŠŸèƒ½ï¼›å¦ä¸€åŠåŠŸèƒ½æ˜¯æŠŠå®ƒæ£€æŸ¥åˆ°çš„é—®é¢˜ä»¥ç”¨æˆ·å‹å¥½åŒæ—¶åˆæ–¹ä¾¿å·¥å…·å¤„ç†çš„æ–¹å¼æŠ¥å‘Šå‡ºæ¥ã€‚å¹¸è¿çš„æ˜¯ï¼Œ&lt;code&gt;gosec&lt;/code&gt; å¯ä»¥ç”¨ä¸åŒçš„æ–¹å¼è¾“å‡ºã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³çœ‹ JSON æ ¼å¼çš„æŠ¥å‘Šï¼Œé‚£ä¹ˆå°±ä½¿ç”¨ &lt;code&gt;-fmt&lt;/code&gt; é€‰é¡¹æŒ‡å®š JSON æ ¼å¼å¹¶æŠŠç»“æœä¿å­˜åˆ° &lt;code&gt;results.json&lt;/code&gt; æ–‡ä»¶ä¸­ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ gosec -fmt=json -out=results.json ./...

$ ls -l results.json
-rw-r--r--. 1 root root 748098 Aug 20 05:06 results.json
$

         {
             &amp;#34;severity&amp;#34;: &amp;#34;LOW&amp;#34;,
             &amp;#34;confidence&amp;#34;: &amp;#34;HIGH&amp;#34;,
             &amp;#34;cwe&amp;#34;: {
                 &amp;#34;ID&amp;#34;: &amp;#34;242&amp;#34;,
                 &amp;#34;URL&amp;#34;: &amp;#34;https://cwe.mitre.org/data/definitions/242.html&amp;#34;
             },
             &amp;#34;rule_id&amp;#34;: &amp;#34;G103&amp;#34;,
             &amp;#34;details&amp;#34;: &amp;#34;Use of unsafe calls should be audited&amp;#34;,
             &amp;#34;file&amp;#34;: &amp;#34;/root/gosec-demo/docker-ce/components/engine/daemon/graphdriver/graphtest/graphtest_unix.go&amp;#34;,
             &amp;#34;code&amp;#34;: &amp;#34;304: \t// Cast to []byte\n305: \theader := *(*reflect.SliceHeader)(unsafe.Pointer(\u0026buf))\n306: \theader.      Len *= 8\n&amp;#34;,
             &amp;#34;line&amp;#34;: &amp;#34;305&amp;#34;,
             &amp;#34;column&amp;#34;: &amp;#34;36&amp;#34;
         },
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;ç”¨-gosec-æ£€æŸ¥å®¹æ˜“è¢«å‘ç°çš„é—®é¢˜&#34;&gt;ç”¨ gosec æ£€æŸ¥å®¹æ˜“è¢«å‘ç°çš„é—®é¢˜&lt;/h3&gt;
&lt;p&gt;é™æ€æ£€æŸ¥å·¥å…·ä¸èƒ½å®Œå…¨ä»£æ›¿äººå·¥ä»£ç å®¡è®¡ã€‚ç„¶è€Œï¼Œå½“ä»£ç é‡å˜å¤§ã€æœ‰ä¼—å¤šå¼€å‘è€…æ—¶ï¼Œè¿™æ ·çš„å·¥å…·å¾€å¾€æœ‰åŠ©äºä»¥å¯é‡å¤çš„æ–¹å¼æ‰¾å‡ºå®¹æ˜“è¢«å‘ç°çš„é—®é¢˜ã€‚å®ƒå¯¹äºå¸®åŠ©æ–°å¼€å‘è€…è¯†åˆ«å’Œåœ¨ç¼–ç æ—¶é¿å…å¼•å…¥è¿™äº›å®‰å…¨ç¼ºé™·å¾ˆæœ‰ç”¨ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://opensource.com/article/20/9/gosec&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://opensource.com/article/20/9/gosec&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://opensource.com/users/gkamathe&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Gaurav Kamathe&lt;/a&gt;
é€‰é¢˜ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lujun9972&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;lujun9972&lt;/a&gt;
è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;lxbowlf&lt;/a&gt;
æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/wxy&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;wxy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/LCTT/TranslateProject&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;LCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://linux.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Linuxä¸­å›½&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
</description>
        </item>
        <item>
        <title>PHPæ£€æµ‹å›¾ç‰‡æ˜¯å¦æœ‰æœ¨é©¬</title>
        <link>https://lxb.wiki/9a49b652/</link>
        <pubDate>Thu, 15 Oct 2020 19:59:17 +0000</pubDate>
        
        <guid>https://lxb.wiki/9a49b652/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;header&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Content-type: text/html; charset=utf-8&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;checkHex&lt;/span&gt;($img) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  $status &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  $tips &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;array&lt;/span&gt;(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;0&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ–‡ä»¶æ²¡é—®é¢˜&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;5&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ–‡ä»¶æœ‰æ¯’&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-1&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ–‡ä»¶æ²¡æœ‰ä¸Šä¼ &amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;file_exists&lt;/span&gt;($img)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    $resource &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fopen&lt;/span&gt;($img, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;rb&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    $fileSize &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;filesize&lt;/span&gt;($img);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;fseek&lt;/span&gt;($resource, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; ($fileSize &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;512&lt;/span&gt;) { &lt;span style=&#34;color:#75715e&#34;&gt;// å–å¤´å’Œå°¾
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;      $hexCode &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;bin2hex&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;fread&lt;/span&gt;($resource, &lt;span style=&#34;color:#ae81ff&#34;&gt;512&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#a6e22e&#34;&gt;fseek&lt;/span&gt;($resource, $fileSize &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;512&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      $hexCode &lt;span style=&#34;color:#f92672&#34;&gt;.=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;bin2hex&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;fread&lt;/span&gt;($resource, &lt;span style=&#34;color:#ae81ff&#34;&gt;512&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; { &lt;span style=&#34;color:#75715e&#34;&gt;// å–å…¨éƒ¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;      $hexCode &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;bin2hex&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;fread&lt;/span&gt;($resource, $fileSize));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;fclose&lt;/span&gt;($resource);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/* åŒ¹é…16è¿›åˆ¶ä¸­çš„ &amp;lt;% ( ) %&amp;gt; */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/* åŒ¹é…16è¿›åˆ¶ä¸­çš„ &amp;lt;? ( ) ?&amp;gt; */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/* åŒ¹é…16è¿›åˆ¶ä¸­çš„ &amp;lt;script | /script&amp;gt; å¤§å°å†™äº¦å¯ */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;preg_match&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/(3c25.*?28.*?29.*?253e)|(3c3f.*?28.*?29.*?3f3e)|(3C534352495054)|(2F5343524950543E)|(3C736372697074)|(2F7363726970743E)/is&amp;#34;&lt;/span&gt;, $hexCode)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      $status &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    $status &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; $tips[$status];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$rs &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;checkHex&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;du.png&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;print_r&lt;/span&gt;($rs);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>æµé‡å¤åˆ¶é‡æ”¾å·¥å…·goreplay</title>
        <link>https://lxb.wiki/8c9efcce/</link>
        <pubDate>Sun, 04 Oct 2020 23:17:17 +0000</pubDate>
        
        <guid>https://lxb.wiki/8c9efcce/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;goreplayç®€ä»‹&#34;&gt;goreplayç®€ä»‹&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/buger/goreplay&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/buger/goreplay&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://goreplay.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://goreplay.org&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;GoReplayæ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºæ•è·å®æ—¶HTTPæµé‡å¹¶å°†å…¶é‡æ”¾åˆ°æµ‹è¯•ç¯å¢ƒä¸­ï¼Œä»¥ä¾¿ä½¿ç”¨çœŸå®æ•°æ®æŒç»­æµ‹è¯•ç³»ç»Ÿã€‚
GoReplayä¸æ˜¯ä»£ç†ï¼Œè€Œæ˜¯ç›‘å¬ç½‘ç»œæ¥å£ä¸Šçš„æµé‡ï¼Œä¸éœ€è¦æ›´æ”¹ç”Ÿäº§åŸºç¡€æ¶æ„ï¼Œè€Œæ˜¯åœ¨ä¸æœåŠ¡ç›¸åŒçš„è®¡ç®—æœºä¸Šè¿è¡ŒGoReplayå®ˆæŠ¤ç¨‹åºã€‚&lt;/p&gt;
&lt;h2 id=&#34;goreplayå·¥ä½œåŸç†&#34;&gt;goreplayå·¥ä½œåŸç†&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201206205553.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;goreplayå¸¸è§ç”¨æ³•&#34;&gt;goreplayå¸¸è§ç”¨æ³•&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;1. ç®€å•çš„ HTTP æµé‡å¤åˆ¶ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gor â€“input-raw :80 â€“output-http â€œhttp://staging.comâ€
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;2.HTTP æµé‡å¤åˆ¶é¢‘ç‡æ§åˆ¶ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gor â€“input-tcp :28020 â€“output-http â€œhttp://staging.com|10â€³
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;3.HTTP æµé‡å¤åˆ¶ç¼©å°ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gor â€“input-raw :80 â€“output-tcp â€œreplay.local:28020|10%â€
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;4.HTTP æµé‡è®°å½•åˆ°æœ¬åœ°æ–‡ä»¶ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gor â€“input-raw :80 â€“output-file requests.gor
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;5.HTTP æµé‡å›æ”¾å’Œå‹æµ‹ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gor â€“input-file â€œrequests.gor|200%â€ â€“output-http â€œstaging.comâ€
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;6.HTTP æµé‡è¿‡æ»¤å¤åˆ¶ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gor â€“input-raw :8080 â€“output-http staging.com â€“output-http-url-regexp ^www.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;7.HTTPæŒ‡å®šæ¥å£æµé‡å¤åˆ¶ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gor --input-raw :80 --http-allow-url &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/api/v1&amp;#39;&lt;/span&gt; --output-stdout      //--output-stdoutè¡¨ç¤ºç›´æ¥åœ¨æ§åˆ¶å°è¾“å‡º
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;gorå‚æ•°&#34;&gt;gorå‚æ•°&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# gor --help&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Gor is a simple http traffic replication tool written in Go. Its main goal is to replay traffic from production servers to staging and dev environments.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Project page: https://github.com/buger/gor
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Author: &amp;lt;Leonid Bugaev&amp;gt; leonsbox@gmail.com
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Current Version: 1.0.0
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -copy-buffer-size int
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Set the buffer size &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; an individual request &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;default 5M&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;default 5242880&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -cpuprofile string
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	write cpu profile to file
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -debug verbose		//æ‰“å¼€debugæ¨¡å¼ï¼Œæ˜¾ç¤ºæ‰€æœ‰æ¥å£çš„æµé‡ 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Turn on debug output, shows all intercepted traffic. Works only when with verbose flag
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -exit-after duration
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	exit after specified duration
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -http-allow-header value      //ç”¨ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…httpå¤´éƒ¨ï¼Œå¦‚æœè¯·æ±‚çš„å¤´éƒ¨æ²¡æœ‰åŒ¹é…ä¸Šï¼Œåˆ™è¢«æ‹’ç»
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	A regexp to match a specific header against. Requests with non-matching headers will be dropped:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		 gor --input-raw :8080 --output-http staging.com --http-allow-header api-version:^v1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -http-allow-method value      // ç±»ä¼¼äºä¸€ä¸ªç™½åå•æœºåˆ¶æ¥å…è®¸é€šè¿‡çš„httpè¯·æ±‚æ–¹æ³•ï¼Œé™¤æ­¤ä¹‹å¤–çš„æ–¹æ³•éƒ½è¢«æ‹’ç».
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Whitelist of HTTP methods to replay. Anything &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; will be dropped:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		gor --input-raw :8080 --output-http staging.com --http-allow-method GET --http-allow-method OPTIONS
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -http-allow-url value             //ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ç”¨æ¥åŒ¹é…urlï¼Œ ç”¨æ¥è¿‡æ»¤å®Œå…¨åŒ¹é…çš„çš„urlï¼Œåœ¨æ­¤ä¹‹å¤–çš„éƒ½è¢«è¿‡æ»¤æ‰
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	A regexp to match requests against. Filter get matched against full url with domain. Anything &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; will be dropped:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		 gor --input-raw :8080 --output-http staging.com --http-allow-url ^www.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -http-basic-auth-filter value         //åŒ¹é…è®¤è¯å¤´é‡æ”¾
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	A regexp to match the decoded basic auth string against. Requests with non-matching headers will be dropped:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		 gor --input-raw :8080 --output-http staging.com --http-basic-auth-filter &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;^customer[0-9].*&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -http-disallow-header value       //ç”¨ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…httpå¤´éƒ¨ï¼ŒåŒ¹é…åˆ°çš„è¯·æ±‚ä¼šè¢«æ‹’ç»æ‰
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	A regexp to match a specific header against. Requests with matching headers will be dropped:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		 gor --input-raw :8080 --output-http staging.com --http-disallow-header &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;User-Agent: Replayed by Gor&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -http-disallow-url value      //ç”¨ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…urlï¼Œå¦‚æœè¯·æ±‚åŒ¹é…ä¸Šäº†ï¼Œåˆ™ä¼šè¢«æ‹’ç»
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	A regexp to match requests against. Filter get matched against full url with domain. Anything &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; will be forwarded:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		 gor --input-raw :8080 --output-http staging.com --http-disallow-url ^www.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -http-header-limiter value	//è¯»å–è¯·æ±‚ï¼ŒåŸºäºFNV32-1Aæ•£åˆ—æ¥æ‹’ç»ä¸€å®šæ¯”ä¾‹çš„ç‰¹æ®Šè¯·æ±‚ 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Takes a fraction of requests, consistently taking or rejecting a request based on the FNV32-1A hash of a specific header:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		 gor --input-raw :8080 --output-http staging.com --http-header-limiter user-id:25%
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -http-original-host       //åœ¨--output-httpçš„è¾“å‡ºä¸­ï¼Œé€šå¸¸gorä¼šä½¿ç”¨å–ä»£è¯·æ±‚çš„httpå¤´ï¼Œæ‰€ä»¥åº”è¯¥ç¦ç”¨è¯¥é€‰é¡¹ï¼Œä¿ç•™åŸå§‹çš„ä¸»æœºå¤´
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Normally gor replaces the Host http header with the host supplied with --output-http.  This option disables that behavior, preserving the original Host header.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -http-param-limiter value
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Takes a fraction of requests, consistently taking or rejecting a request based on the FNV32-1A hash of a specific GET param:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		 gor --input-raw :8080 --output-http staging.com --http-param-limiter user_id:25%
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -http-pprof :8181
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Enable profiling. Starts  http server on specified port, exposing special /debug/pprof endpoint. Example: :8181
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -http-rewrite-header value
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Rewrite the request header based on a mapping:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		gor --input-raw :8080 --output-http staging.com --http-rewrite-header Host: &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;.*&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;.example.com,$1.beta.example.com
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -http-rewrite-url value
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Rewrite the request url based on a mapping:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		gor --input-raw :8080 --output-http staging.com --http-rewrite-url /v1/user/&lt;span style=&#34;color:#f92672&#34;&gt;([&lt;/span&gt;^&lt;span style=&#34;color:#ae81ff&#34;&gt;\/&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;+&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;/ping:/v2/user/$1/ping
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -http-set-header value
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Inject additional headers to http reqest:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		gor --input-raw :8080 --output-http staging.com --http-set-header &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;User-Agent: Gor&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -http-set-param value
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Set request url param, &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; param already exists it will be overwritten:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		gor --input-raw :8080 --output-http staging.com --http-set-param api_key&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -input-dummy value
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Used &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; testing outputs. Emits &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Get /&amp;#39;&lt;/span&gt; request every 1s
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -input-file value		//ä»ä¸€ä¸ªæ–‡ä»¶ä¸­è¯»å–è¯·æ±‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Read requests from file: 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		gor --input-file ./requests.gor --output-http staging.com
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -input-file-loop
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Loop input files, useful &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; performance testing.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -input-kafka-host string
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Send request and response stats to Kafka:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		gor --output-stdout --input-kafka-host &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;192.168.0.1:9092,192.168.0.2:9092&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -input-kafka-json-format
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	If turned on, it will assume that messages coming in JSON format rather than  GoReplay text format.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -input-kafka-topic string
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Send request and response stats to Kafka:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		gor --output-stdout --input-kafka-topic &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;kafka-log&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -input-raw value
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Capture traffic from given port &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;use RAW sockets and require *sudo* access&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		&lt;span style=&#34;color:#75715e&#34;&gt;# Capture traffic from 8080 port&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		gor --input-raw :8080 --output-http staging.com
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -input-raw-bpf-filter string
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	BPF filter to write custom expressions. Can be useful in &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; of non standard network interfaces like tunneling or SPAN port. Example: --input-raw-bpf-filter &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;dst port 80&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -input-raw-buffer-size int
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Controls size of the OS buffer &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;in bytes&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; which holds packets &lt;span style=&#34;color:#66d9ef&#34;&gt;until&lt;/span&gt; they dispatched. Default value depends by system: in Linux around 2MB. If you see big package drop, increase this value.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -input-raw-engine libpcap
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Intercept traffic using libpcap &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;default&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;, and &lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;raw_socket&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;default &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;libpcap&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -input-raw-expire duration
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	How much it should wait &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; the last TCP packet, till consider that TCP message complete. &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;default 2s&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -input-raw-immediate-mode
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Set pcap interface to immediate mode.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -input-raw-override-snaplen
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Override the capture snaplen to be 64k. Required &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; some Virtualized environments
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -input-raw-realip-header string
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	If not blank, injects header with given name and real IP value to the request payload. Usually this header should be named: X-Real-IP
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -input-raw-timestamp-type string
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Possible values: PCAP_TSTAMP_HOST, PCAP_TSTAMP_HOST_LOWPREC, PCAP_TSTAMP_HOST_HIPREC, PCAP_TSTAMP_ADAPTER, PCAP_TSTAMP_ADAPTER_UNSYNCED. This values not supported on all systems, GoReplay will tell you available values of you put wrong one.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -input-raw-track-response
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	If turned on Gor will track responses in addition to requests, and they will be available to middleware and file output.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -input-tcp value		// ç”¨æ¥åœ¨å¤šä¸ªgorä¹‹é—´æµè½¬æµé‡
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Used &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; internal communication between Gor instances. Example: 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		&lt;span style=&#34;color:#75715e&#34;&gt;# Receive requests from other Gor instances on 28020 port, and redirect output to staging&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		gor --input-tcp :28020 --output-http staging.com
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -input-tcp-certificate string
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Path to PEM encoded certificate file. Used when TLS turned on.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -input-tcp-certificate-key string
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Path to PEM encoded certificate key file. Used when TLS turned on.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -input-tcp-secure
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Turn on TLS security. Do not forget to specify certificate and key files.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -memprofile string
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	write memory profile to this file
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -middleware string
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Used &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; modifying traffic using external command
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-dummy value		//ç”¨æ¥æµ‹è¯•è¾“å…¥ï¼Œæ‰“å°å‡ºæ¥æ”¶çš„æ•°æ®.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	DEPRECATED: use --output-stdout instead
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-file value		//æŠŠè¿›å…¥çš„è¯·æ±‚å†™å…¥ä¸€ä¸ªæ–‡ä»¶ä¸­ 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Write incoming requests to file: 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		gor --input-raw :80 --output-file ./requests.gor
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-file-append
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	The flushed chunk is appended to existence file or not. 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-file-flush-interval duration
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Interval &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; forcing buffer flush to the file, default: 1s. &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;default 1s&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-file-max-size-limit value
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Max size of output file, Default: 1TB &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;default -1&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-file-queue-limit int
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	The length of the chunk queue. Default: &lt;span style=&#34;color:#ae81ff&#34;&gt;256&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;default 256&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-file-size-limit value
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Size of each chunk. Default: 32mb &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;default 33554432&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-http value		//è½¬å‘è¿›å…¥çš„è¯·æ±‚åˆ°ä¸€ä¸ªhttpåœ°å€ä¸Š
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Forwards incoming requests to given http address.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		&lt;span style=&#34;color:#75715e&#34;&gt;# Redirect all incoming requests to staging.com address &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		gor --input-raw :80 --output-http http://staging.com
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-http-compatibility-mode
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Use standard Go client, instead of built-in implementation. Can be slower, but more compatible.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-http-debug
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Enables http debug output.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-http-elasticsearch string		//æŠŠè¯·æ±‚å’Œå“åº”çŠ¶æ€å‘é€åˆ°ElasticSearch
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Send request and response stats to ElasticSearch:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		gor --input-raw :8080 --output-http staging.com --output-http-elasticsearch &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;es_host:api_port/index_name&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-http-header --output-http-header
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	WARNING: --output-http-header DEPRECATED, use &lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;--http-set-header&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt; instead
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-http-header-filter --output-http-header-filter
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	WARNING: --output-http-header-filter DEPRECATED, use &lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;--http-allow-header&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt; instead
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-http-header-hash-filter output-http-header-hash-filter
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	WARNING: output-http-header-hash-filter DEPRECATED, use &lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;--http-header-hash-limiter&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt; instead
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-http-method --output-http-method
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	WARNING: --output-http-method DEPRECATED, use &lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;--http-allow-method&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt; instead
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-http-queue-len int
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Number of requests that can be queued &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; output, &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; all workers are busy. default &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;default 1000&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-http-redirects int		//è®¾ç½®å¤šå°‘æ¬¡é‡å®šå‘è¢«å…è®¸
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Enable how often redirects should be followed.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-http-response-buffer int
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	HTTP response buffer size, all data after this size will be discarded.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-http-rewrite-url --output-http-rewrite-url
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	WARNING: --output-http-rewrite-url DEPRECATED, use &lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;--http-rewrite-url&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt; instead
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-http-stats		//æ¯5ç§’é’Ÿè¾“å‡ºä¸€æ¬¡è¾“å‡ºé˜Ÿåˆ—çš„çŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Report http output queue stats to console every N milliseconds. See output-http-stats-ms
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-http-stats-ms int
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Report http output queue stats to console every N milliseconds. default: &lt;span style=&#34;color:#ae81ff&#34;&gt;5000&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;default 5000&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-http-timeout duration		//æŒ‡å®šhttpçš„request/responseè¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤æ˜¯5ç§’ 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Specify HTTP request/response timeout. By default 5s. Example: --output-http-timeout 30s &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;default 5s&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-http-track-response
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	If turned on, HTTP output responses will be set to all outputs like stdout, file and etc.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-http-url-regexp --output-http-url-regexp
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	WARNING: --output-http-url-regexp DEPRECATED, use &lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;--http-allow-url&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt; instead
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-http-workers int		// goré»˜è®¤æ˜¯åŠ¨æ€çš„æ‰©å±•å·¥ä½œè€…æ•°é‡ï¼Œä½ ä¹Ÿå¯ä»¥æŒ‡å®šå›ºå®šæ•°é‡çš„å·¥ä½œè€…
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Gor uses dynamic worker scaling. Enter a number to set a maximum number of workers. default &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; 0 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; unlimited.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-http-workers-min int
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Gor uses dynamic worker scaling. Enter a number to set a minimum number of workers. default &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; 1.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-kafka-host string
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Read request and response stats from Kafka:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		gor --input-raw :8080 --output-kafka-host &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;192.168.0.1:9092,192.168.0.2:9092&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-kafka-json-format
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	If turned on, it will serialize messages from GoReplay text format to JSON.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-kafka-topic string
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Read request and response stats from Kafka:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		gor --input-raw :8080 --output-kafka-topic &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;kafka-log&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-null
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Used &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; testing inputs. Drops all requests.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-stdout
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Used &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; testing inputs. Just prints to console data coming from inputs.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-tcp value		//ç”¨æ¥åœ¨å¤šä¸ªgorä¹‹é—´æµè½¬æµé‡
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Used &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; internal communication between Gor instances. Example: 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		&lt;span style=&#34;color:#75715e&#34;&gt;# Listen for requests on 80 port and forward them to other Gor instance on 28020 port&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    		gor --input-raw :80 --output-tcp replay.local:28020
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-tcp-secure
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Use TLS secure connection. --input-file on another end should have TLS turned on as well.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -output-tcp-stats		//æ¯5ç§’é’ŸæŠ¥å‘Šä¸€æ¬¡tcpè¾“å‡ºé˜Ÿåˆ—çš„çŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Report TCP output queue stats to console every &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt; seconds.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -prettify-http
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	If enabled, will automatically decode requests and responses with: Content-Encodning: gzip and Transfer-Encoding: chunked. Useful &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; debugging, in conjuction with --output-stdout
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -split-output true
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	By default each output gets same traffic. If set to true it splits traffic equally among all outputs.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -stats		//æ‰“å¼€è¾“å‡ºé˜Ÿåˆ—çš„çŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Turn on queue stats output
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  -verbose
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	Turn on more verbose output
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>sedæ›¿æ¢å«æœ‰è·¯å¾„çš„å­—ç¬¦ä¸²</title>
        <link>https://lxb.wiki/e4c7cf89/</link>
        <pubDate>Sun, 13 Sep 2020 21:16:00 +0000</pubDate>
        
        <guid>https://lxb.wiki/e4c7cf89/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h3 id=&#34;é—®é¢˜æè¿°&#34;&gt;é—®é¢˜æè¿°&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;sed -i &amp;quot;s/old/new/g&amp;quot; file.txt&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœ &lt;code&gt;new&lt;/code&gt; æ˜¯ä¸ªè·¯å¾„ï¼Œå³å­—ç¬¦ä¸²ä¸­å«æœ‰&lt;code&gt;/&lt;/code&gt;ï¼Œè¿™ä¹ˆæ‰§è¡Œä¼šæŠ¥é”™&lt;/p&gt;
&lt;h3 id=&#34;åˆçº§æ€è·¯&#34;&gt;åˆçº§æ€è·¯&lt;/h3&gt;
&lt;p&gt;æŠŠ &lt;code&gt;new&lt;/code&gt; ä¸­çš„ &lt;code&gt;/&lt;/code&gt; è¿›è¡Œè½¬ä¹‰&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ &lt;code&gt;new&lt;/code&gt; ä¸º &lt;code&gt;/home/users/config.yaml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æ›¿æ¢æ—¶&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sed -i &amp;quot;s/old/\/home\/users\/config.yaml/g&amp;quot; file.txt&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœ &lt;code&gt;new&lt;/code&gt; æ˜¯å˜é‡ï¼Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;new&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/home/users/config.yaml&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;new_sed&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;echo $new | sed -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;s/\//\\\//g&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sed -i &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;s/old/&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;new_sed&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;/g&amp;#34;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ›´å¥½çš„è§£å†³æ–¹æ¡ˆ&#34;&gt;æ›´å¥½çš„è§£å†³æ–¹æ¡ˆ&lt;/h3&gt;
&lt;p&gt;è½¬ä¹‰ä¼šé™ä½å¯è¯»æ€§ï¼Œåªéœ€ç”¨å…¶ä»–ç‰¹æ®Šå­—ç¬¦ä½œä¸º&lt;code&gt;sed&lt;/code&gt;è¡¨è¾¾å¼çš„â€œåˆ†éš”ç¬¦â€ï¼ˆå–ä»£é»˜è®¤çš„&lt;code&gt;/&lt;/code&gt;ï¼‰å³å¯ã€‚
ä¾‹å¦‚ï¼š&lt;code&gt;sed &#39;s#\$CONFIG#/home/users/config.yaml#g&#39;&lt;/code&gt;ï¼Œä½¿ç”¨&lt;code&gt;#&lt;/code&gt;ä»£æ›¿&lt;code&gt;/&lt;/code&gt;ä»è€Œé¿å…å¤§é‡è½¬ä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥å°è¯•ä¸€ä¸‹ &lt;code&gt;echo aabbccdd | sed &#39;s#aa#bb#g&#39; | sed &#39;s?bb?cc?g&#39; | sed &#39;s@cc@dd@g&#39; | sed &#39;s%dd%ee%g&#39;&lt;/code&gt;  ç”¨ä»»æ„å­—ç¬¦ä½œé—´éš”&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ &lt;code&gt;sed &lt;/code&gt; å‘½ä»¤æ–¹ä¾¿ç”¨æˆ·çš„ä¸€ä¸ªç‰¹æ€§ï¼Œ&lt;code&gt;vim&lt;/code&gt; ä¸­çš„ &lt;code&gt;:s&lt;/code&gt; ä¹ŸåŒæ ·æ”¯æŒ&lt;/p&gt;
</description>
        </item>
        <item>
        <title>hexoä½¿ç”¨hexo-tocé”šç‚¹å¤±æ•ˆé—®é¢˜</title>
        <link>https://lxb.wiki/b4c41686/</link>
        <pubDate>Thu, 03 Sep 2020 21:02:23 +0000</pubDate>
        
        <guid>https://lxb.wiki/b4c41686/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h4 id=&#34;ç°è±¡&#34;&gt;ç°è±¡&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨ hexo-toc ç”Ÿæˆæ–‡ç« ç›®å½•æ—¶ï¼Œç‚¹å‡»æŸä¸ªç›®å½•ï¼Œurl å˜æˆ&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;http://localhost:4000/690c8418/#null
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;åŸå› &#34;&gt;åŸå› &lt;/h4&gt;
&lt;p&gt;æ’ä»¶åœ¨æŠŠ markdown ç¼–è¯‘æˆ HTML æ—¶ï¼Œ&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;## title
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¼šç¼–è¯‘ä¸º&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;lt;h2&amp;gt;&amp;lt;span id=&amp;#34;title&amp;#34;&amp;gt;title&amp;lt;/span&amp;gt;&amp;lt;/h2&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è€Œåœ¨æ’ä»¶æºç çš„&lt;a class=&#34;link&#34; href=&#34;https://github.com/hexojs/hexo/blob/master/lib/plugins/helper/toc.js#L27&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è¿™æ¬¡æäº¤&lt;/a&gt;ä¹‹å‰ï¼Œæ˜¯ä¼šç¼–è¯‘æˆ&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;lt;h2 id=&amp;#34;title&amp;#34;&amp;gt;title&amp;lt;/h2&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å› æ­¤æ–°ç‰ˆæœ¬çš„ &lt;code&gt;hexo-toc&lt;/code&gt; ç”Ÿæˆ TOC æ—¶ï¼Œå…ƒç´ æ²¡æœ‰ &lt;code&gt;id&lt;/code&gt; è¿™ä¸ªå±æ€§ï¼Œè¿›è€Œå¯¼è‡´ TOC ä¸­çš„é”šç‚¹å¤±æ•ˆã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä¿®å¤æ–¹æ³•&#34;&gt;ä¿®å¤æ–¹æ³•&lt;/h4&gt;
&lt;p&gt;ä¿®æ”¹ &lt;code&gt;node_modules/hexo-toc/lib/filter.js&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æŠŠ 28 è¡Œçš„ &lt;code&gt;$title.attr(&#39;id&#39;, id);&lt;/code&gt; æ³¨é‡Šæ‰“å¼€&lt;/p&gt;
&lt;p&gt;æŠŠ 31 è¡Œçš„ &lt;code&gt;$title.removeAttr(&#39;id&#39;);&lt;/code&gt; æ³¨é‡Šæ‰&lt;/p&gt;
</description>
        </item>
        <item>
        <title>C&#43;&#43; Lambda è¡¨è¾¾å¼</title>
        <link>https://lxb.wiki/e4d97659/</link>
        <pubDate>Fri, 21 Aug 2020 07:13:27 +0000</pubDate>
        
        <guid>https://lxb.wiki/e4d97659/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;Lambda è¡¨è¾¾å¼æ˜¯ç°ä»£ C++ ä¸­æœ€é‡è¦çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œè€Œ Lambda è¡¨è¾¾å¼ï¼Œå®é™…ä¸Šå°±æ˜¯æä¾›äº†ä¸€ä¸ªç±»ä¼¼åŒ¿åå‡½æ•°çš„ç‰¹æ€§ï¼Œ è€ŒåŒ¿åå‡½æ•°åˆ™æ˜¯åœ¨éœ€è¦ä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯åˆä¸æƒ³è´¹åŠ›å»å‘½åä¸€ä¸ªå‡½æ•°çš„æƒ…å†µä¸‹å»ä½¿ç”¨çš„ã€‚è¿™æ ·çš„åœºæ™¯å…¶å®æœ‰å¾ˆå¤šå¾ˆå¤šï¼Œ æ‰€ä»¥åŒ¿åå‡½æ•°å‡ ä¹æ˜¯ç°ä»£ç¼–ç¨‹è¯­è¨€çš„æ ‡é…ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åŸºç¡€&#34;&gt;åŸºç¡€&lt;/h3&gt;
&lt;p&gt;Lambda è¡¨è¾¾å¼çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æ•è·åˆ—è¡¨&lt;/span&gt;](&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å‚æ•°åˆ—è¡¨&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;mutable&lt;/span&gt;(&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å¯é€‰&lt;/span&gt;) &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å¼‚å¸¸å±æ€§&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;è¿”å›ç±»å‹&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// å‡½æ•°ä½“
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢çš„è¯­æ³•è§„åˆ™é™¤äº† &lt;code&gt;[æ•è·åˆ—è¡¨]&lt;/code&gt; å†…çš„ä¸œè¥¿å¤–ï¼Œå…¶ä»–éƒ¨åˆ†éƒ½å¾ˆå¥½ç†è§£ï¼Œåªæ˜¯ä¸€èˆ¬å‡½æ•°çš„å‡½æ•°åè¢«ç•¥å»ï¼Œ è¿”å›å€¼ä½¿ç”¨äº†ä¸€ä¸ª &lt;code&gt;-&amp;gt;&lt;/code&gt; çš„å½¢å¼è¿›è¡Œï¼ˆæˆ‘ä»¬åœ¨ä¸Šä¸€èŠ‚å‰é¢çš„å°¾è¿”å›ç±»å‹å·²ç»æåˆ°è¿‡è¿™ç§å†™æ³•äº†ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€è°“æ•è·åˆ—è¡¨ï¼Œå…¶å®å¯ä»¥ç†è§£ä¸ºå‚æ•°çš„ä¸€ç§ç±»å‹ï¼Œlambda è¡¨è¾¾å¼å†…éƒ¨å‡½æ•°ä½“åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸èƒ½å¤Ÿä½¿ç”¨å‡½æ•°ä½“å¤–éƒ¨çš„å˜é‡çš„ï¼Œ è¿™æ—¶å€™æ•è·åˆ—è¡¨å¯ä»¥èµ·åˆ°ä¼ é€’å¤–éƒ¨æ•°æ®çš„ä½œç”¨ã€‚æ ¹æ®ä¼ é€’çš„è¡Œä¸ºï¼Œæ•è·åˆ—è¡¨ä¹Ÿåˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼š&lt;/p&gt;
&lt;h4 id=&#34;1-å€¼æ•è·&#34;&gt;1. å€¼æ•è·&lt;/h4&gt;
&lt;p&gt;ä¸å‚æ•°ä¼ å€¼ç±»ä¼¼ï¼Œå€¼æ•è·çš„å‰ææ˜¯å˜é‡å¯ä»¥æ‹·è´ï¼Œä¸åŒä¹‹å¤„åˆ™åœ¨äºï¼Œ&lt;strong&gt;è¢«æ•è·çš„å˜é‡åœ¨ lambda è¡¨è¾¾å¼è¢«åˆ›å»ºæ—¶æ‹·è´ï¼Œ è€Œéè°ƒç”¨æ—¶æ‰æ‹·è´&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lambda_value_capture&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; value &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;auto&lt;/span&gt; copy_value &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [value] {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; value;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    value &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;auto&lt;/span&gt; stored_value &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; copy_value();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;stored_value = &amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; stored_value &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;endl;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// è¿™æ—¶, stored_value == 1, è€Œ value == 100.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å› ä¸º copy_value åœ¨åˆ›å»ºæ—¶å°±ä¿å­˜äº†ä¸€ä»½ value çš„æ‹·è´
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;2-å¼•ç”¨æ•è·&#34;&gt;2. å¼•ç”¨æ•è·&lt;/h4&gt;
&lt;p&gt;ä¸å¼•ç”¨ä¼ å‚ç±»ä¼¼ï¼Œå¼•ç”¨æ•è·ä¿å­˜çš„æ˜¯å¼•ç”¨ï¼Œå€¼ä¼šå‘ç”Ÿå˜åŒ–ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lambda_reference_capture&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; value &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;auto&lt;/span&gt; copy_value &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;value] {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; value;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    value &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;auto&lt;/span&gt; stored_value &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; copy_value();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;stored_value = &amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; stored_value &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;endl;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// è¿™æ—¶, stored_value == 100, value == 100.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// å› ä¸º copy_value ä¿å­˜çš„æ˜¯å¼•ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;3-éšå¼æ•è·&#34;&gt;3. éšå¼æ•è·&lt;/h4&gt;
&lt;p&gt;æ‰‹åŠ¨ä¹¦å†™æ•è·åˆ—è¡¨æœ‰æ—¶å€™æ˜¯éå¸¸å¤æ‚çš„ï¼Œè¿™ç§æœºæ¢°æ€§çš„å·¥ä½œå¯ä»¥äº¤ç»™ç¼–è¯‘å™¨æ¥å¤„ç†ï¼Œè¿™æ—¶å€™å¯ä»¥åœ¨æ•è·åˆ—è¡¨ä¸­å†™ä¸€ä¸ª &lt;code&gt;&amp;amp;&lt;/code&gt; æˆ– &lt;code&gt;=&lt;/code&gt; å‘ç¼–è¯‘å™¨å£°æ˜é‡‡ç”¨å¼•ç”¨æ•è·æˆ–è€…å€¼æ•è·.&lt;/p&gt;
&lt;p&gt;æ€»ç»“ä¸€ä¸‹ï¼Œæ•è·æä¾›äº†lambda è¡¨è¾¾å¼å¯¹å¤–éƒ¨å€¼è¿›è¡Œä½¿ç”¨çš„åŠŸèƒ½ï¼Œæ•è·åˆ—è¡¨çš„æœ€å¸¸ç”¨çš„å››ç§å½¢å¼å¯ä»¥æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[] ç©ºæ•è·åˆ—è¡¨&lt;/li&gt;
&lt;li&gt;[name1, name2, â€¦] æ•è·ä¸€ç³»åˆ—å˜é‡&lt;/li&gt;
&lt;li&gt;[&amp;amp;] å¼•ç”¨æ•è·, è®©ç¼–è¯‘å™¨è‡ªè¡Œæ¨å¯¼æ•è·åˆ—è¡¨&lt;/li&gt;
&lt;li&gt;[=] å€¼æ•è·, è®©ç¼–è¯‘å™¨æ‰§è¡Œæ¨å¯¼å¼•ç”¨åˆ—è¡¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;4-è¡¨è¾¾å¼æ•è·&#34;&gt;4. è¡¨è¾¾å¼æ•è·&lt;/h4&gt;
&lt;p&gt;ä¸Šé¢æåˆ°çš„å€¼æ•è·ã€å¼•ç”¨æ•è·éƒ½æ˜¯å·²ç»åœ¨å¤–å±‚ä½œç”¨åŸŸå£°æ˜çš„å˜é‡ï¼Œå› æ­¤è¿™äº›æ•è·æ–¹å¼æ•è·çš„å‡ä¸ºå·¦å€¼ï¼Œè€Œä¸èƒ½æ•è·å³å€¼ã€‚&lt;/p&gt;
&lt;p&gt;C++14 ç»™ä¸äº†æˆ‘ä»¬æ–¹ä¾¿ï¼Œå…è®¸æ•è·çš„æˆå‘˜ç”¨ä»»æ„çš„è¡¨è¾¾å¼è¿›è¡Œåˆå§‹åŒ–ï¼Œè¿™å°±å…è®¸äº†å³å€¼çš„æ•è·ï¼Œ è¢«å£°æ˜çš„æ•è·å˜é‡ç±»å‹ä¼šæ ¹æ®è¡¨è¾¾å¼è¿›è¡Œåˆ¤æ–­ï¼Œåˆ¤æ–­æ–¹å¼ä¸ä½¿ç”¨ &lt;code&gt;auto&lt;/code&gt; æœ¬è´¨ä¸Šæ˜¯ç›¸åŒçš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;utility&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;auto&lt;/span&gt; important &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;make_unique&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;auto&lt;/span&gt; add &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [v1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, v2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;move(important)](&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; x, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; y) &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; x&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;y&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;v1&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;v2);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; add(&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;endl;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ&lt;code&gt;important&lt;/code&gt; æ˜¯ä¸€ä¸ªç‹¬å æŒ‡é’ˆï¼Œæ˜¯ä¸èƒ½å¤Ÿè¢«æ•è·åˆ°çš„ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦å°†å…¶è½¬ç§»ä¸ºå³å€¼ï¼Œ åœ¨è¡¨è¾¾å¼ä¸­åˆå§‹åŒ–ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ³›å‹-lambda&#34;&gt;æ³›å‹ Lambda&lt;/h3&gt;
&lt;p&gt;ä¸Šä¸€èŠ‚ä¸­æˆ‘ä»¬æåˆ°äº† &lt;code&gt;auto&lt;/code&gt; å…³é”®å­—ä¸èƒ½å¤Ÿç”¨åœ¨å‚æ•°è¡¨é‡Œï¼Œè¿™æ˜¯å› ä¸ºè¿™æ ·çš„å†™æ³•ä¼šä¸æ¨¡æ¿çš„åŠŸèƒ½äº§ç”Ÿå†²çªã€‚ ä½†æ˜¯ Lambda è¡¨è¾¾å¼å¹¶ä¸æ˜¯æ™®é€šå‡½æ•°ï¼Œæ‰€ä»¥ Lambda è¡¨è¾¾å¼å¹¶ä¸èƒ½å¤Ÿæ¨¡æ¿åŒ–ã€‚ è¿™å°±ä¸ºæˆ‘ä»¬é€ æˆäº†ä¸€å®šç¨‹åº¦ä¸Šçš„éº»çƒ¦ï¼šå‚æ•°è¡¨ä¸èƒ½å¤Ÿæ³›åŒ–ï¼Œå¿…é¡»æ˜ç¡®å‚æ•°è¡¨ç±»å‹ã€‚&lt;/p&gt;
&lt;p&gt;å¹¸è¿çš„æ˜¯ï¼Œè¿™ç§éº»çƒ¦åªå­˜åœ¨äº C++11 ä¸­ï¼Œä» C++14 å¼€å§‹ï¼Œ Lambda å‡½æ•°çš„å½¢å¼å‚æ•°å¯ä»¥ä½¿ç”¨ &lt;code&gt;auto&lt;/code&gt; å…³é”®å­—æ¥äº§ç”Ÿæ„ä¹‰ä¸Šçš„æ³›å‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;auto&lt;/span&gt; add &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [](&lt;span style=&#34;color:#66d9ef&#34;&gt;auto&lt;/span&gt; x, &lt;span style=&#34;color:#66d9ef&#34;&gt;auto&lt;/span&gt; y) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; x&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;y;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;add(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;add(&lt;span style=&#34;color:#ae81ff&#34;&gt;1.1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2.2&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Pillow åº“</title>
        <link>https://lxb.wiki/ab6bf24d/</link>
        <pubDate>Sat, 01 Aug 2020 21:10:55 +0000</pubDate>
        
        <guid>https://lxb.wiki/ab6bf24d/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;Pillow(PIL) åº“ä¸­çš„ Image ç±»&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; from PIL import Image
&amp;gt;&amp;gt;&amp;gt; im = Image.open(&amp;#34;lena.ppm&amp;#34;)

&amp;gt;&amp;gt;&amp;gt; from __future__ import print_function
&amp;gt;&amp;gt;&amp;gt; print(im.format, im.size, im.mode)
PPM (512, 512) RGB
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;format è¿™ä¸ªå±æ€§ä»£è¡¨å›¾ç‰‡æ–‡ä»¶çš„æ‰©å±•å, å¦‚æœå›¾ç‰‡æ–‡ä»¶æ‰“å¼€å¤±è´¥, åˆ™å…¶å€¼ä¸ºNone. size è¿™ä¸ªå±æ€§ä»£è¡¨å›¾ç‰‡çš„å¤§å°, ä»¥åƒç´ ä¸ºå•ä½, ä½¿ç”¨åŒ…å«ä¸¤ä¸ªå…ƒç´ çš„å…ƒç»„æ¥è¿”å›. mode è¿™ä¸ªå±æ€§ä»£è¡¨å›¾ç‰‡çš„bandå±æ€§, ä¸€èˆ¬æƒ…å†µ(é»‘ç™½)ä¸‹ä¸º â€œLâ€, å½“å›¾ç‰‡æ˜¯å½©è‰²çš„æ—¶å€™æ˜¯ â€œRGBâ€, å¦‚æœå›¾ç‰‡ç»è¿‡å‹ç¼©, åˆ™æ˜¯ â€œCMYKâ€.&lt;/p&gt;
&lt;h3 id=&#34;pilä¸­æ‰€æ¶‰åŠçš„åŸºæœ¬æ¦‚å¿µ&#34;&gt;PILä¸­æ‰€æ¶‰åŠçš„åŸºæœ¬æ¦‚å¿µ&lt;/h3&gt;
&lt;p&gt;é€šé“ï¼ˆbandsï¼‰ã€æ¨¡å¼ï¼ˆmodeï¼‰ã€å°ºå¯¸ï¼ˆsizeï¼‰ã€åæ ‡ç³»ç»Ÿï¼ˆcoordinate systemï¼‰ã€è°ƒè‰²æ¿ï¼ˆpaletteï¼‰ã€ä¿¡æ¯ï¼ˆinfoï¼‰å’Œæ»¤æ³¢å™¨ï¼ˆfiltersï¼‰ã€‚&lt;/p&gt;
&lt;h3 id=&#34;pilä¸­æœ‰ä¹ç§ä¸åŒæ¨¡å¼&#34;&gt;PILä¸­æœ‰ä¹ç§ä¸åŒæ¨¡å¼ã€‚&lt;/h3&gt;
&lt;p&gt;åˆ†åˆ«ä¸º1ï¼ŒLï¼ŒPï¼ŒRGBï¼ŒRGBAï¼ŒCMYKï¼ŒYCbCrï¼ŒIï¼ŒFã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ¨¡å¼ 1&lt;/strong&gt;
äºŒå€¼å›¾åƒ&lt;/p&gt;
&lt;p&gt;æ¨¡å¼â€œ1â€ä¸ºäºŒå€¼å›¾åƒï¼Œéé»‘å³ç™½ã€‚ä½†æ˜¯å®ƒæ¯ä¸ªåƒç´ ç”¨8ä¸ªbitè¡¨ç¤ºï¼Œ0è¡¨ç¤ºé»‘ï¼Œ255è¡¨ç¤ºç™½ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt;from PIL import Image
 
&amp;gt;&amp;gt;&amp;gt; lena =Image.open(&amp;#34;D:\\Code\\Python\\test\\img\\lena.jpg&amp;#34;)
 
&amp;gt;&amp;gt;&amp;gt; lena.mode
 
&amp;#39;RGB&amp;#39;
 
&amp;gt;&amp;gt;&amp;gt; lena.getpixel((0,0))
 
(197, 111, 78)
 
&amp;gt;&amp;gt;&amp;gt; lena_1 = lena.convert(&amp;#34;1&amp;#34;)
 
&amp;gt;&amp;gt;&amp;gt; lena_1.mode
 
&amp;#39;1&amp;#39;
 
&amp;gt;&amp;gt;&amp;gt; lena_1.size
 
(512, 512)
 
&amp;gt;&amp;gt;&amp;gt;lena_1.getpixel((0,0))
 
255
 
&amp;gt;&amp;gt;&amp;gt; lena_1.getpixel((10,10))
 
255
 
&amp;gt;&amp;gt;&amp;gt;lena_1.getpixel((10,120))
 
0
 
&amp;gt;&amp;gt;&amp;gt;lena_1.getpixel((130,120))
 
255
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;æ¨¡å¼ L&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¨¡å¼â€œLâ€ä¸ºç°è‰²å›¾åƒï¼Œå®ƒçš„æ¯ä¸ªåƒç´ ç”¨8ä¸ªbitè¡¨ç¤ºï¼Œ0è¡¨ç¤ºé»‘ï¼Œ255è¡¨ç¤ºç™½ï¼Œå…¶ä»–æ•°å­—è¡¨ç¤ºä¸åŒçš„ç°åº¦&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ¨¡å¼ P&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¨¡å¼â€œPâ€ä¸º8ä½å½©è‰²å›¾åƒï¼Œå®ƒçš„æ¯ä¸ªåƒç´ ç”¨8ä¸ªbitè¡¨ç¤ºï¼Œå…¶å¯¹åº”çš„å½©è‰²å€¼æ˜¯æŒ‰ç…§è°ƒè‰²æ¿æŸ¥è¯¢å‡ºæ¥çš„&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ¨¡å¼â€œRGBAâ€&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¨¡å¼â€œRGBAâ€ä¸º32ä½å½©è‰²å›¾åƒï¼Œå®ƒçš„æ¯ä¸ªåƒç´ ç”¨32ä¸ªbitè¡¨ç¤ºï¼Œå…¶ä¸­24bitè¡¨ç¤ºçº¢è‰²ã€ç»¿è‰²å’Œè“è‰²ä¸‰ä¸ªé€šé“ï¼Œå¦å¤–8bitè¡¨ç¤ºalphaé€šé“ï¼Œå³é€æ˜é€šé“ã€‚&lt;/p&gt;
&lt;p&gt;ä»å®ä¾‹ä¸­å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨å½“å‰è¿™ä¸ªæ–¹å¼å°†â€œRGBâ€å›¾åƒè½¬ä¸ºâ€œRGBAâ€å›¾åƒæ—¶ï¼Œalphaé€šé“å…¨éƒ¨è®¾ç½®ä¸º255ï¼Œå³å®Œå…¨ä¸é€æ˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ¨¡å¼â€œCMYKâ€&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¨¡å¼â€œCMYKâ€ä¸º32ä½å½©è‰²å›¾åƒï¼Œå®ƒçš„æ¯ä¸ªåƒç´ ç”¨32ä¸ªbitè¡¨ç¤ºã€‚æ¨¡å¼â€œCMYKâ€å°±æ˜¯å°åˆ·å››åˆ†è‰²æ¨¡å¼ï¼Œå®ƒæ˜¯å½©è‰²å°åˆ·æ—¶é‡‡ç”¨çš„ä¸€ç§å¥—è‰²æ¨¡å¼ï¼Œåˆ©ç”¨è‰²æ–™çš„ä¸‰åŸè‰²æ··è‰²åŸç†ï¼ŒåŠ ä¸Šé»‘è‰²æ²¹å¢¨ï¼Œå…±è®¡å››ç§é¢œè‰²æ··åˆå åŠ ï¼Œå½¢æˆæ‰€è°“â€œå…¨å½©å°åˆ·â€ã€‚&lt;/p&gt;
&lt;p&gt;å››ç§æ ‡å‡†é¢œè‰²æ˜¯ï¼šCï¼šCyan = é’è‰²ï¼Œåˆç§°ä¸ºâ€˜å¤©è“è‰²â€™æˆ–æ˜¯â€˜æ¹›è“â€™Mï¼šMagenta = å“çº¢è‰²ï¼Œåˆç§°ä¸ºâ€˜æ´‹çº¢è‰²â€™ï¼›Yï¼šYellow = é»„è‰²ï¼›Kï¼šKey Plate(blacK) = å®šä½å¥—ç‰ˆè‰²ï¼ˆé»‘è‰²ï¼‰ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
&amp;gt;&amp;gt;&amp;gt;from PIL import Image
 
&amp;gt;&amp;gt;&amp;gt; lena =Image.open(&amp;#34;D:\\Code\\Python\\test\\img\\lena.jpg&amp;#34;)
 
&amp;gt;&amp;gt;&amp;gt; lena_cmyk =lena.convert(&amp;#34;CMYK&amp;#34;)
 
&amp;gt;&amp;gt;&amp;gt; lena_cmyk.mode
 
&amp;#39;CMYK&amp;#39;
 
&amp;gt;&amp;gt;&amp;gt;lena_cmyk.getpixel((0,0))
 
(58, 144, 177, 0)
 
&amp;gt;&amp;gt;&amp;gt; lena_cmyk.getpixel((0,1))
 
(59, 145, 178, 0)
 
&amp;gt;&amp;gt;&amp;gt;lena.getpixel((0,0))
 
(197, 111, 78)
 
&amp;gt;&amp;gt;&amp;gt;lena.getpixel((0,1))
 
(196, 110, 77)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä»å®ä¾‹ä¸­å¯ä»¥å¾—çŸ¥PILä¸­â€œRGBâ€è½¬æ¢ä¸ºâ€œCMYKâ€çš„å…¬å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;C = 255 - R
M = 255 - G
Y = 255 - B
K = 0
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç”±äºè¯¥è½¬æ¢å…¬å¼æ¯”è¾ƒç®€å•ï¼Œè½¬æ¢åçš„å›¾åƒé¢œè‰²æœ‰äº›å¤±çœŸã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ¨¡å¼â€œYCbCrâ€&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¨¡å¼â€œYCbCrâ€ä¸º24ä½å½©è‰²å›¾åƒï¼Œå®ƒçš„æ¯ä¸ªåƒç´ ç”¨24ä¸ªbitè¡¨ç¤ºã€‚YCbCrå…¶ä¸­Yæ˜¯æŒ‡äº®åº¦åˆ†é‡ï¼ŒCbæŒ‡è“è‰²è‰²åº¦åˆ†é‡ï¼Œè€ŒCræŒ‡çº¢è‰²è‰²åº¦åˆ†é‡ã€‚äººçš„è‚‰çœ¼å¯¹è§†é¢‘çš„Yåˆ†é‡æ›´æ•æ„Ÿï¼Œå› æ­¤åœ¨é€šè¿‡å¯¹è‰²åº¦åˆ†é‡è¿›è¡Œå­é‡‡æ ·æ¥å‡å°‘è‰²åº¦åˆ†é‡åï¼Œè‚‰çœ¼å°†å¯Ÿè§‰ä¸åˆ°çš„å›¾åƒè´¨é‡çš„å˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;æ¨¡å¼â€œRGBâ€è½¬æ¢ä¸ºâ€œYCbCrâ€çš„å…¬å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Y= 0.257*R+0.504*G+0.098*B+16
Cb = -0.148*R-0.291*G+0.439*B+128
Cr = 0.439*R-0.368*G-0.071*B+128
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;æ¨¡å¼â€œIâ€&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¨¡å¼â€œIâ€ä¸º32ä½æ•´å‹ç°è‰²å›¾åƒï¼Œå®ƒçš„æ¯ä¸ªåƒç´ ç”¨32ä¸ªbitè¡¨ç¤ºï¼Œ0è¡¨ç¤ºé»‘ï¼Œ255è¡¨ç¤ºç™½ï¼Œ(0,255)ä¹‹é—´çš„æ•°å­—è¡¨ç¤ºä¸åŒçš„ç°åº¦ã€‚åœ¨PILä¸­ï¼Œä»æ¨¡å¼â€œRGBâ€è½¬æ¢ä¸ºâ€œIâ€æ¨¡å¼æ˜¯æŒ‰ç…§ä¸‹é¢çš„å…¬å¼è½¬æ¢çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;I = R * 299/1000 + G * 587/1000 + B * 114/1000&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ¨¡å¼â€œFâ€&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¨¡å¼â€œFâ€ä¸º32ä½æµ®ç‚¹ç°è‰²å›¾åƒï¼Œå®ƒçš„æ¯ä¸ªåƒç´ ç”¨32ä¸ªbitè¡¨ç¤ºï¼Œ0è¡¨ç¤ºé»‘ï¼Œ255è¡¨ç¤ºç™½ï¼Œ(0,255)ä¹‹é—´çš„æ•°å­—è¡¨ç¤ºä¸åŒçš„ç°åº¦ã€‚åœ¨PILä¸­ï¼Œä»æ¨¡å¼â€œRGBâ€è½¬æ¢ä¸ºâ€œFâ€æ¨¡å¼æ˜¯æŒ‰ç…§ä¸‹é¢çš„å…¬å¼è½¬æ¢çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;F = R * 299/1000+ G * 587/1000 + B * 114/1000&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;è¯·æ³¨æ„gifæ–‡ä»¶æ€»æ˜¯ä»¥ç°åº¦å½¢å¼è¯»å–-l-æˆ–è°ƒè‰²æ¿æ¨¡å¼-p-å›¾åƒ&#34;&gt;è¯·æ³¨æ„ï¼ŒGIFæ–‡ä»¶æ€»æ˜¯ä»¥ç°åº¦å½¢å¼è¯»å–ã€‚ï¼ˆ L ï¼‰æˆ–è°ƒè‰²æ¿æ¨¡å¼ï¼ˆ P ï¼‰å›¾åƒã€‚&lt;/h3&gt;
</description>
        </item>
        <item>
        <title>gifå›¾ç‰‡æ–‡ä»¶ä¿¡æ¯</title>
        <link>https://lxb.wiki/2bf7952d/</link>
        <pubDate>Tue, 28 Jul 2020 21:25:36 +0000</pubDate>
        
        <guid>https://lxb.wiki/2bf7952d/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;ä¸€ä¸ªGIFæ–‡ä»¶ä¸»è¦ç”±ä»¥ä¸‹å‡ éƒ¨åˆ†ç»„æˆã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ–‡ä»¶å¤´&lt;/li&gt;
&lt;li&gt;å›¾åƒå¸§ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;æ³¨é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ–‡ä»¶å¤´&#34;&gt;æ–‡ä»¶å¤´&lt;/h4&gt;
&lt;p&gt;GIFæ ¼å¼æ–‡ä»¶å¤´å’Œä¸€èˆ¬æ–‡ä»¶å¤´å·®åˆ«ä¸å¤§ï¼Œä¹ŸåŒ…å«æœ‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ ¼å¼å£°æ˜&lt;/li&gt;
&lt;li&gt;é€»è¾‘å±å¹•æè¿°å—&lt;/li&gt;
&lt;li&gt;å…¨å±€è°ƒè‰²ç›˜&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æ ¼å¼å£°æ˜&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201201005159.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Signature ä¸ºâ€œGIFâ€3 ä¸ªå­—ç¬¦ï¼›Version ä¸ºâ€œ87aâ€æˆ–â€œ89aâ€3 ä¸ªå­—ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é€»è¾‘å±å¹•æè¿°å—&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201201005303.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å‰ä¸¤å­—èŠ‚ä¸ºåƒç´ å•ä½çš„å®½ã€é«˜ï¼Œç”¨ä»¥æ ‡è¯†å›¾ç‰‡çš„è§†è§‰å°ºå¯¸ã€‚&lt;/p&gt;
&lt;p&gt;Packeté‡Œæ˜¯è°ƒè‰²ç›˜ä¿¡æ¯ï¼Œåˆ†åˆ«æ¥çœ‹â€”â€”&lt;/p&gt;
&lt;p&gt;Global Color Table Flag ä¸ºå…¨å±€é¢œè‰²è¡¨æ ‡å¿—ï¼Œå³ä¸º1æ—¶è¡¨æ˜å…¨å±€é¢œè‰²è¡¨æœ‰å®šä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;Color Resolution ä»£è¡¨é¢œè‰²è¡¨ä¸­æ¯ç§åŸºè‰²ä½é•¿ï¼ˆéœ€è¦+1ï¼‰ï¼Œä¸º111æ—¶ï¼Œæ¯ä¸ªé¢œè‰²ç”¨8bitè¡¨ç¤ºï¼Œå³æˆ‘ä»¬ç†Ÿæ‚‰çš„RGBè¡¨ç¤ºæ³•ï¼Œä¸€ä¸ªé¢œè‰²ä¸‰å­—èŠ‚ã€‚&lt;/p&gt;
&lt;p&gt;Sort Flag è¡¨ç¤ºæ˜¯å¦å¯¹é¢œè‰²è¡¨é‡Œçš„é¢œè‰²è¿›è¡Œä¼˜å…ˆåº¦æ’åºï¼ŒæŠŠå¸¸ç”¨çš„æ’åœ¨å‰é¢ï¼Œè¿™ä¸ªä¸»è¦æ˜¯ä¸ºäº†é€‚åº”ä¸€äº›é¢œè‰²è§£æåº¦ä½çš„æ—©æœŸæ¸²æŸ“å™¨ï¼Œç°åœ¨å·²ç»å¾ˆå°‘ä½¿ç”¨äº†ã€‚&lt;/p&gt;
&lt;p&gt;Global Color Table è¡¨ç¤ºé¢œè‰²è¡¨çš„é•¿åº¦ï¼Œè®¡ç®—è§„åˆ™æ˜¯å€¼+1ä½œä¸º2çš„å¹‚ï¼Œå¾—åˆ°çš„æ•°å­—å°±æ˜¯é¢œè‰²è¡¨çš„é¡¹æ•°ï¼Œå–æœ€å¤§å€¼111æ—¶ï¼Œé¡¹æ•°=256ï¼Œä¹Ÿå°±æ˜¯è¯´GIFæ ¼å¼æœ€å¤šæ”¯æŒ256è‰²çš„ä½å›¾ï¼Œå†ä¹˜ä»¥Color Resolutionç®—å‡ºçš„å­—èŠ‚æ•°ï¼Œå°±æ˜¯è°ƒè‰²ç›˜çš„æ€»é•¿åº¦ã€‚&lt;/p&gt;
&lt;p&gt;è¿™å››ä¸ªå­—æ®µä¸€èµ·å®šä¹‰äº†è°ƒè‰²ç›˜çš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;Background color Index å®šä¹‰äº†å›¾åƒé€æ˜åŒºåŸŸçš„èƒŒæ™¯è‰²åœ¨è°ƒè‰²ç›˜é‡Œçš„ç´¢å¼•ã€‚&lt;/p&gt;
&lt;p&gt;Pixel Aspect Ratio å®šä¹‰äº†åƒç´ å®½é«˜æ¯”ï¼Œä¸€èˆ¬ä¸º0ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å¸§ä¿¡æ¯æè¿°&#34;&gt;å¸§ä¿¡æ¯æè¿°&lt;/h4&gt;
&lt;p&gt;å¸§ä¿¡æ¯æè¿°å°±æ˜¯æ¯ä¸€å¸§çš„å›¾åƒä¿¡æ¯å’Œç›¸å…³æ ‡å¿—ä½&lt;/p&gt;
&lt;p&gt;å¤§éƒ¨åˆ†GIFå­˜å‚¨æ—¶é‡‡ç”¨äº†å…¬å…±åŒºåŸŸæ’é™¤å’Œé€æ˜åŒºåŸŸå åŠ çš„ä¼˜åŒ–&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¸§æ•°æ®è¯´æ˜&lt;/strong&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>URLç‰¹æ®Šå­—ç¬¦å¤„ç†</title>
        <link>https://lxb.wiki/c587a198/</link>
        <pubDate>Fri, 10 Jul 2020 06:45:47 +0000</pubDate>
        
        <guid>https://lxb.wiki/c587a198/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; hexVals[&lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;1&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;2&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;3&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;4&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;5&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;6&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;7&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;8&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;9&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;A&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;B&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;C&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;D&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;E&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;F&amp;#39;&lt;/span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;string CURLEncode&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;csUnsafeString&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;lt;&amp;gt;%&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;^[]`+$,@:;/!#?=&amp;amp;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;string &lt;span style=&#34;color:#a6e22e&#34;&gt;convert&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; val) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    string csRet;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    csRet &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    csRet &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; decToHex(val, &lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;);   
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;  csRet;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;string &lt;span style=&#34;color:#a6e22e&#34;&gt;decToHex&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; num, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; radix)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{   
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;     temp&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;   
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    string  csTmp;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; num_char;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    num_char &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) num;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ISO-8859-1 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// IF THE IF LOOP IS COMMENTED, THE CODE WILL FAIL TO GENERATE A 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// PROPER URL ENCODE FOR THE CHARACTERS WHOSE RANGE IN 127-255(DECIMAL)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (num_char &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        num_char &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;256&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; num_char;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; (num_char &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; radix)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        temp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; num_char &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; radix;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        num_char &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;)floor((num_char &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; radix) &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1.0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        csTmp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; hexVals[temp];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    csTmp &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; hexVals[num_char];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(csTmp.length() &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        csTmp &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    string strdecToHex &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; csTmp;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// Reverse the String
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;reverse(strdecToHex.begin(), strdecToHex.end());
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;         
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; strdecToHex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;isUnsafe&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; compareChar)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; bcharfound &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; false;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; tmpsafeChar;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; m_strLen &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    m_strLen &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; csUnsafeString.length();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; ichar_pos &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; ichar_pos &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; m_strLen ;ichar_pos&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        tmpsafeChar &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; csUnsafeString[ichar_pos]; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(tmpsafeChar &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; compareChar)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        { 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            bcharfound &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; true;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; char_ascii_value &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//char_ascii_value = __toascii(compareChar);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    char_ascii_value &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) compareChar;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(bcharfound &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; false &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt;  char_ascii_value &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;32&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; char_ascii_value &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;123&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; false;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// found no unsafe chars, return false       
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; true;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; true;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;string &lt;span style=&#34;color:#a6e22e&#34;&gt;URLEncode&lt;/span&gt;(string strEncode)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    string  strSrc;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    string    strDest;   
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    strSrc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; strEncode;   
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; strSrc.length(); i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; ch &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; strSrc[i];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (ch &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39; &amp;#39;&lt;/span&gt;) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ch &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ch;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;isUnsafe(ch))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// Safe Character               
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            strDest &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; ch;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// get Hex Value of the Character
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            strDest &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; convert(ch);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; strDest;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>urlç¼–ç è§£ç </title>
        <link>https://lxb.wiki/fdc9c210/</link>
        <pubDate>Thu, 25 Jun 2020 06:37:14 +0000</pubDate>
        
        <guid>https://lxb.wiki/fdc9c210/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;string.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#define BURSIZE 2048
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;hex2dec&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; c)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;9&amp;#39;&lt;/span&gt;) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;a&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;f&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;a&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;A&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;F&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;A&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dec2hex&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;short&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; c)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;A&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//ç¼–ç ä¸€ä¸ªurl
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;urlencode&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; url[])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; len &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; strlen(url);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; res_len &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; res[BURSIZE];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; (i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; len; &lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;i) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; url[i];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (    (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;9&amp;#39;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;a&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;z&amp;#39;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;A&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Z&amp;#39;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                c &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            res[res_len&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; c;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; j &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;short&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;)c;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (j &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                j &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;256&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i1, i0;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            i1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; j &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            i0 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; j &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; i1 &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            res[res_len&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;%&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            res[res_len&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; dec2hex(i1);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            res[res_len&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; dec2hex(i0);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    res[res_len] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;\0&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    strcpy(url, res);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// è§£ç url
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;urldecode&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; url[])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; len &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; strlen(url);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; res_len &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; res[BURSIZE];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; (i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; len; &lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;i) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; url[i];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (c &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;%&amp;#39;&lt;/span&gt;) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            res[res_len&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; c;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; c1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; url[&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;i];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; c0 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; url[&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;i];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; num &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            num &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; hex2dec(c1) &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; hex2dec(c0);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            res[res_len&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; num;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    res[res_len] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;\0&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    strcpy(url, res);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; argc, &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;argv[])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; url[&lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;http://&amp;#39;æµ‹è¯•/@mike&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    urlencode(url); &lt;span style=&#34;color:#75715e&#34;&gt;//ç¼–ç å
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    printf(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;http://&amp;#39;æµ‹è¯•/@mike  ----&amp;gt; %s&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, url);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; buf[&lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;http%3A//%27%E6%B5%8B%E8%AF%95/%40mike&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    urldecode(buf); &lt;span style=&#34;color:#75715e&#34;&gt;//è§£ç å
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    printf(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;http%%3A//%%27%%E6%%B5%%8B%%E8%%AF%%95/%%40mike  ----&amp;gt; %s&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, buf);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>ä»å›¾ç‰‡å¤´ä¿¡æ¯ä¸­è·å–å›¾ç‰‡æ ¼å¼</title>
        <link>https://lxb.wiki/be14bd28/</link>
        <pubDate>Mon, 15 Jun 2020 06:26:23 +0000</pubDate>
        
        <guid>https://lxb.wiki/be14bd28/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;å›¾ç‰‡æ–‡ä»¶å¤´æ ‡è¯†åˆ†æ&#34;&gt;å›¾ç‰‡æ–‡ä»¶å¤´æ ‡è¯†åˆ†æ&lt;/h2&gt;
&lt;p&gt;ä¸€ä¸ªå›¾ç‰‡æ–‡ä»¶çš„åç¼€åå¹¶ä¸èƒ½è¯´æ˜è¿™ä¸ªå›¾ç‰‡çš„çœŸæ­£æ ¼å¼ä»€ä¹ˆï¼Œè¯»å–å›¾ç‰‡æ–‡ä»¶çš„æ–‡ä»¶å¤´æ ‡è¯†å¯ä»¥è·å–å›¾ç‰‡çš„æ ¼å¼ã€‚ç”¨åå…­è¿›åˆ¶ç¼–è¾‘å™¨å¯Ÿçœ‹å›¾ç‰‡çš„æ–‡ä»¶å¤´&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.JPEG&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ–‡ä»¶å¤´æ ‡è¯† (2 bytes): $ff, $d8 (SOI) (JPEG æ–‡ä»¶æ ‡è¯†)&lt;/li&gt;
&lt;li&gt;æ–‡ä»¶ç»“æŸæ ‡è¯† (2 bytes): $ff, $d9 (EOI)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;2.TGA&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœªå‹ç¼©çš„å‰5å­—èŠ‚    00 00 02 00 00&lt;/li&gt;
&lt;li&gt;RLEå‹ç¼©çš„å‰5å­—èŠ‚   00 00 10 00 00&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;3.PNG&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ–‡ä»¶å¤´æ ‡è¯† (8 bytes)   89 50 4E 47 0D 0A 1A 0A&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;4.GIF&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ–‡ä»¶å¤´æ ‡è¯† (6 bytes)   47 49 46 38 39(37) 61
G    I    F     8    9 (7)     a&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;5.BMP&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ–‡ä»¶å¤´æ ‡è¯† (2 bytes)   42 4D
B    M&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;6.PCX&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ–‡ä»¶å¤´æ ‡è¯† (1 bytes)   0A&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;7.TIFF&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ–‡ä»¶å¤´æ ‡è¯† (2 bytes)   4D 4D æˆ– 49 49&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;8.ICO&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ–‡ä»¶å¤´æ ‡è¯† (8 bytes)   00 00 01 00 01 00 20 20&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;9.CUR&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ–‡ä»¶å¤´æ ‡è¯† (8 bytes)   00 00 02 00 01 00 20 20&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;10.IFF&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ–‡ä»¶å¤´æ ‡è¯† (4 bytes)   46 4F 52 4D
F    O   R    M&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;11.ANI&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ–‡ä»¶å¤´æ ‡è¯† (4 bytes)   52 49 46 46
R     I     F    F&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æ–‡ä»¶å¤´æ ‡è¯†æ¯”å¯¹&#34;&gt;æ–‡ä»¶å¤´æ ‡è¯†æ¯”å¯¹&lt;/h2&gt;
&lt;p&gt;æ ¹æ®è¿™äº›æ–‡ä»¶å¤´æ ‡è¯†çš„æ”¶é›†ï¼Œæˆ‘å¯ä»¥å†™ä¸€ä¸ªè¯†åˆ«å›¾åƒæ ¼å¼çš„æ¨¡å—äº†ã€‚ä½†æ˜¯åœ¨å†™è¿™ä¸ªæ¨¡å—ä¹‹å‰å¯ä»¥å¯¹æ”¶é›†åˆ°çš„æ–‡ä»¶å¤´æ ‡è¯†è¿›è¡Œä¼˜åŒ–ï¼Œä½¿å¾—ç¨‹åºä¸­å­—ç¬¦ä¸²æ¯”å¯¹æ¬¡æ•°å°½é‡çš„å°‘ã€‚&lt;/p&gt;
&lt;p&gt;1.JPEGæˆ‘ä»¬çŸ¥éœ€è¦æ¯”å¯¹æ–‡ä»¶å¤´çš„$ff, $d8è¿™ä¸¤ä¸ªå­—ç¬¦ï¼Œè€Œä¸ç”¨è¯»å–æœ€åçš„ä¸¤ä¸ªç»“æŸæ ‡è¯†äº†&lt;/p&gt;
&lt;p&gt;2.TGAï¼ŒICOï¼ŒCURåªéœ€æ¯”å¯¹ç¬¬ä¸‰ä¸ªä¸ç¬¬äº”ä¸ªå­—ç¬¦å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;3.PNG æ¯”å¯¹[89][50]è¿™ä¸¤ä¸ªå­—ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;4.GIF æ¯”å¯¹[47][49][46]ä¸ç¬¬äº”ä¸ªå­—ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;æ¨¡å—ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;æšä¸¾å›¾ç‰‡æ ¼å¼ç§ç±»&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Public Enum ImageForm
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   [BMP] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   [JPEG] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   [GIF87] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   [GIF89] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   [PNG] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   [TGA Normal] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;TGAæœªå‹ç¼©&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   [TGA RLE] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;     &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;TGAç»è¿‡RLEå‹ç¼©åçš„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   [PCX] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   [TIFF] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   [ICO] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   [CUR] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   [IFF] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   [ANI] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;12&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   [Other] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;13&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   [FileError] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;14&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;End Enum
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¸¸ç”¨çš„å›¾ç‰‡æ ¼å¼æœ‰ä»¥ä¸‹å‡ ç§ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PNG&lt;/li&gt;
&lt;li&gt;JPEG&lt;/li&gt;
&lt;li&gt;GIF&lt;/li&gt;
&lt;li&gt;WebP æ˜¯ Google åˆ¶é€ çš„ä¸€ä¸ªå›¾ç‰‡æ ¼å¼ï¼Œé’ˆå¯¹ç½‘ç»œä¸Šå¿«é€Ÿä¼ è¾“å°±è¡Œäº†ä¼˜åŒ–&lt;/li&gt;
&lt;li&gt;TIFF/TIF åœ¨æ•°å­—å½±å“ã€é¥æ„Ÿã€åŒ»å­¦ç­‰é¢†åŸŸä¸­å¾—åˆ°äº†å¹¿æ³›çš„åº”ç”¨ã€‚TIFFæ–‡ä»¶çš„åç¼€æ˜¯.tifæˆ–è€….tiff&lt;/li&gt;
&lt;li&gt;HEIC iOS11 åï¼Œè‹¹æœæ‹ç…§å›¾ç‰‡çš„é»˜è®¤æ ¼å¼&lt;/li&gt;
&lt;li&gt;HEIF ç”¨äºå­˜å‚¨åŠ¨æ€å›¾åƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;jpge-äºŒè¿›åˆ¶æ•°æ®å‰ä¸¤ä¸ªå­—èŠ‚æ•°æ®ä¸º&#34;&gt;JPGE äºŒè¿›åˆ¶æ•°æ®å‰ä¸¤ä¸ªå­—èŠ‚æ•°æ®ä¸º&lt;/h5&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Hex Signature
FF D8
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;png&#34;&gt;PNG&lt;/h5&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Hex Signature
89 50 4E 47 0D 0A 1A 0A
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;gif&#34;&gt;GIF&lt;/h5&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Hex Signature
47 49 46 38 37 61 or
47 49 46 38 39 61
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;tiff&#34;&gt;TIFF&lt;/h5&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Hex Signature
49 20 49 or
49 49 2A 00 or
4D 4D 00 2B or
4D 4D 00 2A
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;heic&#34;&gt;HEIC&lt;/h5&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Hex Signature
00
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;heif&#34;&gt;HEIF&lt;/h5&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Hex Signature
00
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;webp&#34;&gt;WEBP&lt;/h5&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Hex Signature
52
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;åˆ¤æ–­ Webp ä¸ºä»€ä¹ˆæ˜¯æˆªå– 0-12 çš„é•¿åº¦ï¼Ÿè½¬æ¢æˆ ASCII ä¹‹ååˆ¤æ–­çš„ä¾æ®ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ Google å®˜æ–¹ä»‹ç»ä¸­æ‰¾åˆ°äº†æ­¤å›¾ã€‚è¯´æ˜çš„æ˜¯ï¼šå¤´æ–‡ä»¶çš„å¤§å°æ˜¯ &lt;code&gt;12Bytes&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;WEBPçš„ header ä¸­å†™æ˜äº† &lt;code&gt;ASCII&lt;/code&gt; æ˜¯ &lt;code&gt;RIFF&lt;/code&gt; æˆ–è€… &lt;code&gt;WEBP&lt;/code&gt; Google Developer: &lt;a class=&#34;link&#34; href=&#34;https://developers.google.com/speed/webp/docs/riff_container&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://developers.google.com/speed/webp/docs/riff_container&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä»£ç &#34;&gt;ä»£ç &lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;demo ä»£ç &lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;enum ImageFormat {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    case Unknow
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    case JPEG
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    case PNG
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    case GIF
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    case TIFF
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    case WebP
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    case HEIC
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    case HEIF
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;extension Data {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    func getImageFormat() &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; ImageFormat  {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        var buffer &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [UInt8](repeating: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, count: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;copyBytes(to: &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;buffer, count: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        switch buffer {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        case [&lt;span style=&#34;color:#ae81ff&#34;&gt;0xFF&lt;/span&gt;]: &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;JPEG
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        case [&lt;span style=&#34;color:#ae81ff&#34;&gt;0x89&lt;/span&gt;]: &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;PNG
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        case [&lt;span style=&#34;color:#ae81ff&#34;&gt;0x47&lt;/span&gt;]: &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;GIF
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        case [&lt;span style=&#34;color:#ae81ff&#34;&gt;0x49&lt;/span&gt;],[&lt;span style=&#34;color:#ae81ff&#34;&gt;0x4D&lt;/span&gt;]: &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;TIFF
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        case [&lt;span style=&#34;color:#ae81ff&#34;&gt;0x52&lt;/span&gt;] where self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;count &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;12&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; let str &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; String(data: self[&lt;span style=&#34;color:#ae81ff&#34;&gt;0.&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;.11&lt;/span&gt;], encoding: &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;ascii), str&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;hasPrefix(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;RIFF&amp;#34;&lt;/span&gt;), str&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;hasSuffix(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;WEBP&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;WebP
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        case [&lt;span style=&#34;color:#ae81ff&#34;&gt;0x00&lt;/span&gt;] where self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;count &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;12&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; let str &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; String(data: self[&lt;span style=&#34;color:#ae81ff&#34;&gt;8.&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;.11&lt;/span&gt;], encoding: &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;ascii) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                let HEICBitMaps &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Set([&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;heic&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;heis&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;heix&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;hevc&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;hevx&amp;#34;&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; HEICBitMaps&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;contains(str) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;HEIC
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                let HEIFBitMaps &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Set([&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;mif1&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;msf1&amp;#34;&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; HEIFBitMaps&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;contains(str) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;HEIF
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        default: &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;Unknow
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;C++ ä»£ç 1&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Image_file.cpp&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;#34;config.h&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;#34;ImageFile.h&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;fstream&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;fcntl.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;stdlib.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;string.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;cstring&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;namespace&lt;/span&gt; blink {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#define JPEG_FILE_TYPE          1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#define BMP_FILE_TYPE           2
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#define PNG_FILE_TYPE           3
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#define GIF_FILE_TYPE           4
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/* 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;ã€€ã€€é€šè¿‡æ–‡ä»¶å¤´æ ‡è¯†åˆ¤æ–­å›¾ç‰‡æ ¼å¼ï¼Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;ã€€ã€€jpgï¼š FF, D8
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;ã€€ã€€bmpï¼š 42 4D
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;ã€€ã€€gifï¼š 47 49 46 38
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;ã€€ã€€pngï¼š 89 50 4E 47
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;*/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;check_fileType&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;buf)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(buf[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0xFF&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; buf[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0xd8&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; buf[&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0xFF&lt;/span&gt;) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; JPEG_FILE_TYPE; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(buf[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0x42&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; buf[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0x4d&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; BMP_FILE_TYPE;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(buf[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0x47&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; buf[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0x49&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; buf[&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0x46&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; buf[&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0x38&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; GIF_FILE_TYPE;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(buf[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0x89&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; buf[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0x50&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; buf[&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0x4e&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; buf[&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0x47&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; PNG_FILE_TYPE;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/*åœ¨æ„é€ å‡½æ•°å†…è·å–åƒç´ å®½é«˜ï¼šmwidthã€mheigh*/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ImageFile&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;ImageFile(&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; String&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; path)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; type;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    mpath &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; path;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    mwidth &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    mheight &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    mtype &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    src &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;)path.utf8().data();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; size;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;buff &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; NULL;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    FILE &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;fp;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;((fp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; fopen(src,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rb+&amp;#34;&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; NULL)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mtype &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;The file was not opened!&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fseek(fp,&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,SEEK_END);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ftell(fp);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    buff &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;)malloc(size);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(buff)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        memset(buff,&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,size);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fseek(fp,&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,SEEK_SET);   
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(fread(buff,&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,size,fp)&lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt;size)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mtype &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;read error!&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    type &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; check_fileType(buff);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;switch&lt;/span&gt;(type)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; JPEG_FILE_TYPE:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            mtype &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;jpg file!&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; size ; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(buff[i] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0xff&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0xc0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    mwidth &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    mheight &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; BMP_FILE_TYPE:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            mtype &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;bmp file!&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; size ; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(buff[i] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0x28&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0x00&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    mwidth &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;24&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    mheight &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;24&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; PNG_FILE_TYPE:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            mtype &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;png file!&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; size ; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(buff[i] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0x49&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0x48&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    mheight &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;24&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    mwidth &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;24&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; GIF_FILE_TYPE:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            mtype &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;gif file!&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; size ; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(buff[i] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0x00&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0x2c&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    mwidth &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    mheight &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; buff[i&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;default&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fclose(fp);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    free(buff);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;String ImageFile&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;type() &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; mtype;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;String ImageFile&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;location() &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; length &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mpath.length();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; pos &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mpath.reverseFind(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; (pos &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; length &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        pos &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mpath.reverseFind(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt; ,pos &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        length&lt;span style=&#34;color:#f92672&#34;&gt;--&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (pos &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; mpath.substring(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,pos &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;String ImageFile&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;fileName() &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; length &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mpath.length();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; pos &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mpath.reverseFind(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; (pos &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; length &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        pos &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mpath.reverseFind(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt; , pos &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        length&lt;span style=&#34;color:#f92672&#34;&gt;--&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (pos &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; mpath.substring(pos &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,length);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;double&lt;/span&gt; ImageFile&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;width() &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; mwidth;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;double&lt;/span&gt; ImageFile&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;height() &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; mheight;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;image_file.h&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#ifndef ImageFile_H
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#define ImageFile_H
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;namespace&lt;/span&gt; blink {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;ImageFile&lt;/span&gt;  {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; ImageFile&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; create(&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; String&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; path)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        FILE&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; fS;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        fS &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;fopen(path.utf8().data(),&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;r&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(fS &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt;NULL)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        {   
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; iLen &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; path.length() ;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; iPos &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; path.reverseFind(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (iPos &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; NULL;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            String name&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;path.substring(iPos &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, iLen);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; s1[&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; s2[]&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;jpg&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; s3[]&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;bmp&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; s4[]&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;gif&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; s5[]&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;png&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; s6[]&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;jpeg&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(i&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;i&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;name.length();i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                s1[i] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; name[i];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            s1[i] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;\0&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(strncmp(s1,s2,&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; strncmp(s1,s3,&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; strncmp(s1,s4,&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; strncmp(s1,s5,&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; strncmp(s1,s6,&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; NGBImageFile(path);     &lt;span style=&#34;color:#75715e&#34;&gt;//è·¯å¾„æ­£ç¡®ä¸”å›¾ç‰‡æ–‡ä»¶æ ¼å¼æ˜¯ä»¥ä¸Šå››ç§ï¼Œåˆ›å»ºæ–‡ä»¶å¯¹è±¡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; NULL;       
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; NULL;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    String &lt;span style=&#34;color:#a6e22e&#34;&gt;type&lt;/span&gt;() &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    String &lt;span style=&#34;color:#a6e22e&#34;&gt;location&lt;/span&gt;() &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    String &lt;span style=&#34;color:#a6e22e&#34;&gt;fileName&lt;/span&gt;() &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;double&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;width&lt;/span&gt;() &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;double&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;height&lt;/span&gt;() &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ImageFile(&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; String&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; path);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; src;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    String mpath;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    String mtype;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;double&lt;/span&gt; mwidth;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;double&lt;/span&gt; mheight;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} &lt;span style=&#34;color:#75715e&#34;&gt;// namespace blink
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#endif &lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ImageFile_H
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Qt ä»£ç &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;imageinfo.h&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#ifndef IMAGEINFO_H
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#define IMAGEINFO_H
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;QObject&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;QDebug&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;QUrl&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;string&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;QSize&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;QDate&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ImageInfo&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; QObject
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Q_OBJECT
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;enum&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;IMAGE_FORMAT&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        BMP_FORMAT,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        JPG_FORMAT,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        GIF_FORMAT,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        PNG_FORMAT,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        NVL_FORMAT
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;explicit&lt;/span&gt; ImageInfo(QObject &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;parent &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt;ImageInfo();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Q_INVOKABLE QString getImageFormat(QString imageUrl);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Q_INVOKABLE QString &lt;span style=&#34;color:#a6e22e&#34;&gt;getImageSize&lt;/span&gt;(QString imageUrl);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Q_INVOKABLE QSize &lt;span style=&#34;color:#a6e22e&#34;&gt;getImageDimension&lt;/span&gt;(QString imageUrl);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Q_INVOKABLE QDate &lt;span style=&#34;color:#a6e22e&#34;&gt;getImageDate&lt;/span&gt;(QString imageUrl);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Q_INVOKABLE QString &lt;span style=&#34;color:#a6e22e&#34;&gt;getImageTitle&lt;/span&gt;(QString imageUrl);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Q_SIGNALS:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; Q_SLOTS :
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; getImageFormat(std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string path);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getBMPSize&lt;/span&gt;(std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string path);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getGIFSize&lt;/span&gt;(std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string path);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getPNGSize&lt;/span&gt;(std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string path);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getJPGSize&lt;/span&gt;(std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string path);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    QSize &lt;span style=&#34;color:#a6e22e&#34;&gt;getBMPDimension&lt;/span&gt;(std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string path);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    QSize &lt;span style=&#34;color:#a6e22e&#34;&gt;getPNGDimension&lt;/span&gt;(std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string path);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    QSize &lt;span style=&#34;color:#a6e22e&#34;&gt;getJPGDimension&lt;/span&gt;(std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string path);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    QSize &lt;span style=&#34;color:#a6e22e&#34;&gt;getGIFDimension&lt;/span&gt;(std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string path);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#endif &lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// IMAGEINFO_H
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;imageinfo.cpp&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;#34;imageinfo.h&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;fstream&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;stdlib.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;QFile&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;QFileInfo&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ImageInfo&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;ImageInfo(QObject &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;parent) &lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    QObject(parent)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    qDebug() &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;---------------------------- image info constructed &amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ImageInfo&lt;span style=&#34;color:#f92672&#34;&gt;::~&lt;/span&gt;ImageInfo()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;QDate ImageInfo&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;getImageDate(QString imageUrl)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    QDate date;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;imageUrl.isEmpty()) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        QUrl &lt;span style=&#34;color:#a6e22e&#34;&gt;fileUrl&lt;/span&gt;(imageUrl);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        QString filePath &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; fileUrl.toLocalFile();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(QFile&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;exists(filePath)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            QFileInfo &lt;span style=&#34;color:#a6e22e&#34;&gt;fileinfo&lt;/span&gt;(filePath);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            date &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; fileinfo.lastModified().date();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; date;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//ä»æ–‡ä»¶å¤´ä¸­è¯»å–ç›¸åº”å­—æ®µä»¥åˆ¤æ–­å›¾ç‰‡æ ¼å¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//è¯¦æƒ…å‚çœ‹: http://www.garykessler.net/library/file_sigs.html
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; ImageInfo&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;getImageFormat(std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string path)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//BMPæ ¼å¼ç‰¹å¾ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; BMPHeader[] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#ae81ff&#34;&gt;0x42&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0x4d&lt;/span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//JPG,JPEGæ ¼å¼ç‰¹å¾ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; JPGHeader1[] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#ae81ff&#34;&gt;0xff&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0xd8&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0xff&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0xdb&lt;/span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; JPGHeader2[] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#ae81ff&#34;&gt;0xff&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0xd8&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0xff&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0xe0&lt;/span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; JPGHeader3[] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#ae81ff&#34;&gt;0xff&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0xd8&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0xff&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0xe1&lt;/span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; JPGHeader4[] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#ae81ff&#34;&gt;0xff&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0xd8&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0xff&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0xe2&lt;/span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; JPGHeader5[] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#ae81ff&#34;&gt;0xff&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0xd8&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0xff&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0xe3&lt;/span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; JPGHeader6[] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#ae81ff&#34;&gt;0xff&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0xd8&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0xff&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0xe8&lt;/span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//GIFæ ¼å¼ç‰¹å¾ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; GIFHeader1[] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#ae81ff&#34;&gt;0x47&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0x49&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0x46&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0x38&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0x37&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0x61&lt;/span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; GIFHeader2[] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#ae81ff&#34;&gt;0x47&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0x49&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0x46&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0x38&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0x39&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0x61&lt;/span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//PNGæ ¼å¼ç‰¹å¾ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; PNGHeader[] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#ae81ff&#34;&gt;0x89&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0x50&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0x4E&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0x47&lt;/span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; count &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; step &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//ä»¥äºŒè¿›åˆ¶æ–¹å¼æ‰“å¼€æ–‡ä»¶å¹¶è¯»å–å‰å‡ ä¸ªå­—èŠ‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; header[&lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ–‡ä»¶è·¯å¾„: &amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;path.c_str();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;ifstream readf(path.c_str(), std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;ios&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;binary);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;readf.is_open()) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ‰“å¼€æ–‡ä»¶å¤±è´¥&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; NVL_FORMAT;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//å…ˆè¯»ä¸¤ä¸ªï¼Œåˆ¤æ–­æ˜¯å¦BMPæ ¼å¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;step; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        readf&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;header[count&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;i];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    count &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; count &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; step;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(memcmp(header, BMPHeader, count) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ–‡ä»¶æ ¼å¼ç‰¹å¾ç :&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;count; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            printf(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%0x&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\t&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;,header[i]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        printf(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;BMPæ ¼å¼&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; BMP_FORMAT;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//å†è¯»ä¸¤ä¸ªï¼Œåˆ¤æ–­æ˜¯å¦JPGæ ¼å¼ã€PNGæ ¼å¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;step; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        readf&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;header[count&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;i];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    count &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; count &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; step;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;((memcmp(header, JPGHeader1, count) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; (memcmp(header, JPGHeader2, count) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; (memcmp(header, JPGHeader3, count) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; (memcmp(header, JPGHeader4, count) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; (memcmp(header, JPGHeader5, count) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; (memcmp(header, JPGHeader6, count) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ–‡ä»¶æ ¼å¼ç‰¹å¾ç :&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;count; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            printf(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%0x&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\t&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;,header[i]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        printf(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;JPGæ ¼å¼&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; JPG_FORMAT;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;if&lt;/span&gt;(memcmp(header, PNGHeader, count) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ–‡ä»¶æ ¼å¼ç‰¹å¾ç :&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;count; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            printf(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%0x&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\t&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;,header[i]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        printf(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;PNGæ ¼å¼&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; PNG_FORMAT;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//å†è¯»ä¸¤ä¸ªï¼Œåˆ¤æ–­æ˜¯å¦GIFæ ¼å¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;step; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        readf&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;header[count&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;i];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    count &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; count &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; step;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;((memcmp(header, GIFHeader1, count) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; (memcmp(header, GIFHeader2, count) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ–‡ä»¶æ ¼å¼ç‰¹å¾ç :&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;count; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            printf(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%0x&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\t&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;,header[i]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        printf(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;GIFæ ¼å¼&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; GIF_FORMAT;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ–‡ä»¶æ ¼å¼ç‰¹å¾ç :&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;count; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        printf(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%0x&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\t&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;,header[i]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    printf(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ä¸å±äºä»¥ä¸Šä»»ä½•ä¸€ç§æ ¼å¼&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; NVL_FORMAT;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;QString ImageInfo&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;getImageFormat(QString imageUrl)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    QString strFormat &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;NA&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;imageUrl.isEmpty()) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        QUrl &lt;span style=&#34;color:#a6e22e&#34;&gt;fileUrl&lt;/span&gt;(imageUrl);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        QString filePath &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; fileUrl.toLocalFile();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(QFile&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;exists(filePath)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string path &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; filePath.toStdString();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; iFormat &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; getImageFormat(path);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;switch&lt;/span&gt;(iFormat) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; BMP_FORMAT:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                strFormat &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;BMP&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; JPG_FORMAT:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                strFormat &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;JPG&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; GIF_FORMAT:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                strFormat &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;GIF&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; PNG_FORMAT:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                strFormat &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;PNG&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;default&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; strFormat;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;QString ImageInfo&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;getImageSize(QString imageUrl)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    QString strSize;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;imageUrl.isEmpty()) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        QUrl &lt;span style=&#34;color:#a6e22e&#34;&gt;fileUrl&lt;/span&gt;(imageUrl);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        QString filePath &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; fileUrl.toLocalFile();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(QFile&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;exists(filePath)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            QFile &lt;span style=&#34;color:#a6e22e&#34;&gt;file&lt;/span&gt;(filePath);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; ret &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; file.open(QIODevice&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;ReadOnly);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;ret) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ‰“å¼€æ–‡ä»¶å¤±è´¥&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; file.size();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            file.close();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;!!!!!&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;size;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    strSize &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; QString&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;number(size, &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;strSize;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; strSize;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//BMPæ–‡ä»¶å¤´çš„ç¬¬2ã€3å­—ä¸ºæ–‡ä»¶å¤§å°ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; ImageInfo&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;getBMPSize(std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string path)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    FILE &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;fid;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; size;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;((fid&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;fopen(path.c_str(),&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rb+&amp;#34;&lt;/span&gt;))&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;NULL) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ‰“å¼€æ–‡ä»¶å¤±è´¥&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//è·³è¿‡å›¾ç‰‡ç‰¹å¾ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    fseek(fid, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, SEEK_SET);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fread(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;size, &lt;span style=&#34;color:#66d9ef&#34;&gt;sizeof&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt;), &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, fid);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fclose(fid);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;size=&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;size;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; size;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; ImageInfo&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;getGIFSize(std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string path)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Q_UNUSED(path);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; ImageInfo&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;getPNGSize(std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string path)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Q_UNUSED(path);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; ImageInfo&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;getJPGSize(std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string path)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    FILE &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;fid;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; size;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;((fid &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; fopen(path.c_str(),&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rb+&amp;#34;&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; NULL) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ‰“å¼€æ–‡ä»¶å¤±è´¥&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fseek(fid, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, SEEK_END);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ftell(fid);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fclose(fid);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;size=&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;size;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; size;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//BMPæ–‡ä»¶å¤´çš„ç¬¬10ã€11å­—ä¸ºæ–‡ä»¶å®½åº¦ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//BMPæ–‡ä»¶å¤´çš„ç¬¬12ã€13å­—ä¸ºæ–‡ä»¶é«˜åº¦ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;QSize ImageInfo&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;getBMPDimension(std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string path)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    FILE &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;fid;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;((fid&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;fopen(path.c_str(),&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rb+&amp;#34;&lt;/span&gt;))&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;NULL) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ‰“å¼€æ–‡ä»¶å¤±è´¥&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;QSize&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; width;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; height;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//è¯»å–å®½åº¦å’Œé«˜åº¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    fseek(fid, &lt;span style=&#34;color:#ae81ff&#34;&gt;18&lt;/span&gt;, SEEK_SET); &lt;span style=&#34;color:#75715e&#34;&gt;//åç§»18ä¸ªå­—èŠ‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    fread(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;width, &lt;span style=&#34;color:#66d9ef&#34;&gt;sizeof&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt;), &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, fid);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fread(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;height, &lt;span style=&#34;color:#66d9ef&#34;&gt;sizeof&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt;), &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, fid);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;width=&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;width;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;height=&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;height;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fclose(fid);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;QSize&lt;/span&gt;(width, height);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å‚è€ƒï¼š http://mcljc.blog.163.com/blog/static/83949820102239610974/
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//http://download.csdn.net/download/chp845/4255011
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;QSize ImageInfo&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;getJPGDimension(std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string path)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    FILE &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;fid;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;((fid &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; fopen(path.c_str(),&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rb+&amp;#34;&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; NULL) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ‰“å¼€æ–‡ä»¶å¤±è´¥&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;QSize&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; width;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; height;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fseek(fid,&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,SEEK_END);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; length &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ftell(fid);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;buffer &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt;[length];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;buffer_bakup &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; buffer;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fseek(fid, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, SEEK_SET);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fread(buffer, length, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, fid);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fclose(fid);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;temp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; buffer &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; length;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;temp_ori &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; buffer;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; ff;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; type&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0xff&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; m_pos &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//è·³è¿‡æ–‡ä»¶å¤´ä¸­æ ‡å¿—æ–‡ä»¶ç±»å‹çš„ä¸¤ä¸ªå­—èŠ‚
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        buffer&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt;((temp &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; buffer) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; (type &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0xDA&lt;/span&gt;)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;do&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ff &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;buffer&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt;(ff &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0xff&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;do&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            type &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;buffer&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt;(type &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0xff&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;switch&lt;/span&gt;(type) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0x00&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0x01&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0xD0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0xD1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0xD2&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0xD3&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0xD4&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0xD5&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0xD6&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0xD7&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0xC0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//SOF0æ®µ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            temp_ori &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; buffer;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            m_pos &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;buffer&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            m_pos &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;buffer&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            buffer&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;//èˆå¼ƒç²¾åº¦å€¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            height &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;buffer&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            height &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;buffer&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            width &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;buffer&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            width &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;buffer;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0xE0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;//APP0æ®µ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;APP0æ®µ&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            temp_ori &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; buffer;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            m_pos &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;buffer&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            m_pos &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;buffer&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            buffer &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; buffer &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;12&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;//ä¸¢å¼ƒAPP0æ ‡è®°(5bytes)ã€ä¸»ç‰ˆæœ¬å·(1bytes)ã€æ¬¡ç‰ˆæœ¬å·(1bytes)ã€åƒç´ ç‚¹å•ä½(1bytes)ã€å‚ç›´åƒç´ ç‚¹(2bytes)ã€ æ°´å¹³åƒç´ ç‚¹(2bytes)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;default&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            temp_ori &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; buffer;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            m_pos &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;buffer&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            m_pos &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;buffer&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        buffer &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; temp_ori &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; m_pos;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;width=&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;width;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;height=&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;height;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//è®°å¾—é‡Šæ”¾å†…å­˜
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;delete&lt;/span&gt;[] buffer_bakup;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;QSize&lt;/span&gt;(width, height);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//PNGæ–‡ä»¶å¤´çš„ç¬¬9å­—ä¸ºæ–‡ä»¶å®½åº¦ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//PNGæ–‡ä»¶å¤´çš„ç¬¬10å­—ä¸ºæ–‡ä»¶é«˜åº¦ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å‚è€ƒï¼šhttp://blog.chinaunix.net/uid-25799257-id-3358174.html
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;QSize ImageInfo&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;getPNGDimension(std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string path)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    FILE &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;fid &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; NULL;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;((fid&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;fopen(path.c_str(),&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rb+&amp;#34;&lt;/span&gt;))&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;NULL) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ‰“å¼€æ–‡ä»¶å¤±è´¥&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;QSize&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; width;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; height;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; wtmp[&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;{&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;};   &lt;span style=&#34;color:#75715e&#34;&gt;//å®½åº¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; htmp[&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;{&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;};   &lt;span style=&#34;color:#75715e&#34;&gt;//é«˜åº¦
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    fseek(fid, &lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;, SEEK_SET);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fread(wtmp, &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, fid);         &lt;span style=&#34;color:#75715e&#34;&gt;// example 00000080
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    fread(htmp, &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, fid);         &lt;span style=&#34;color:#75715e&#34;&gt;// example 00000080
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    fclose(fid);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    width &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ((&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;)(&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt;)wtmp[&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;]) &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;256&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;)(&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt;)wtmp[&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    height &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ((&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;)(&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt;)htmp[&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;]) &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;256&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;)(&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt;)htmp[&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;width=&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;width;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;height=&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;height;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;QSize&lt;/span&gt;(width, height);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//GIFæ–‡ä»¶å¤´çš„ç¬¬4å­—ä¸ºæ–‡ä»¶å®½åº¦ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//GIFæ–‡ä»¶å¤´çš„ç¬¬5å­—ä¸ºæ–‡ä»¶é«˜åº¦ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å‚è€ƒï¼šhttp://blog.csdn.net/zhaoweikid/article/details/156422
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å‚è€ƒï¼šhttp://blog.csdn.net/asaasa66/article/details/5875340
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;QSize ImageInfo&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;getGIFDimension(std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string path)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;ifstream ffin(path.c_str(), std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;ios&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;binary);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;ffin){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;cout&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Can not open this file.&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;endl;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;QSize&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; width;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; height;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; s1[&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;}, s2[&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ffin.seekg(&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ffin.read(s1, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ffin.read(s2, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    width &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;)(s1[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;])&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;)(s1[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    height &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;)(s2[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;])&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;)(s2[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ffin.close();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;width=&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;width;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;height=&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;height;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;QSize&lt;/span&gt;(width, height);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;QSize ImageInfo&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;getImageDimension(QString imageUrl)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    QSize dimension;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;imageUrl.isEmpty()) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        QUrl &lt;span style=&#34;color:#a6e22e&#34;&gt;fileUrl&lt;/span&gt;(imageUrl);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        QString filePath &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; fileUrl.toLocalFile();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(QFile&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;exists(filePath)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string path &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; filePath.toStdString();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; iFormat &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; getImageFormat(path);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;switch&lt;/span&gt;(iFormat) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; BMP_FORMAT:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                dimension &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; getBMPDimension(path);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; JPG_FORMAT:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                dimension &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; getJPGDimension(path);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; GIF_FORMAT:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                dimension &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; getGIFDimension(path);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; PNG_FORMAT:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                dimension &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; getPNGDimension(path);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;default&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    qDebug()&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;å›¾ç‰‡å°ºå¯¸:&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;dimension;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; dimension;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;QString ImageInfo&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;getImageTitle(QString imageUrl)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    QString title;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;imageUrl.isEmpty()) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        QUrl &lt;span style=&#34;color:#a6e22e&#34;&gt;fileUrl&lt;/span&gt;(imageUrl);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        QString filePath &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; fileUrl.toLocalFile();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(QFile&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;exists(filePath)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            QFileInfo &lt;span style=&#34;color:#a6e22e&#34;&gt;fileinfo&lt;/span&gt;(filePath);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            title &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; fileinfo.baseName();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; title;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘Go 1.14 ä¸­æ¥å£çš„è±å½¢ç»„åˆ</title>
        <link>https://lxb.wiki/ace0b2ab/</link>
        <pubDate>Mon, 01 Jun 2020 21:00:20 +0000</pubDate>
        
        <guid>https://lxb.wiki/ace0b2ab/</guid>
        <description>&lt;p&gt;æŒ‰ç…§&lt;a class=&#34;link&#34; href=&#34;https://github.com/golang/proposal/blob/master/design/6977-overlapping-interfaces.md&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;éƒ¨åˆ†é‡å çš„æ¥å£æè®®&lt;/a&gt;ï¼ŒGo 1.14 ç°åœ¨å…è®¸åµŒå…¥æœ‰éƒ¨åˆ†æ–¹æ³•é‡å çš„æ¥å£ã€‚æœ¬æ–‡æ˜¯ä¸€ç¯‡è§£é‡Šè¿™æ¬¡ä¿®æ”¹çš„ç®€è¦è¯´æ˜ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆæ¥çœ‹ io åŒ…ä¸­çš„ä¸‰ä¸ªå…³é”®æ¥å£ï¼šio.Readerã€io.Writer å’Œ io.Closerï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;package&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;io&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Reader&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;interface&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;Read&lt;/span&gt;([]&lt;span style=&#34;color:#66d9ef&#34;&gt;byte&lt;/span&gt;) (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;error&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Writer&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;interface&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;Write&lt;/span&gt;([]&lt;span style=&#34;color:#66d9ef&#34;&gt;byte&lt;/span&gt;) (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;error&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Closer&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;interface&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;Close&lt;/span&gt;() &lt;span style=&#34;color:#66d9ef&#34;&gt;error&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨ç»“æ„ä½“ä¸­åµŒå…¥ç±»å‹æ—¶ï¼Œå¦‚æœåœ¨ç»“æ„ä½“ä¸­å£°æ˜äº†è¢«åµŒå…¥çš„ç±»å‹ï¼Œé‚£ä¹ˆè¯¥ç±»å‹çš„å­—æ®µå’Œæ–¹æ³•å…è®¸è¢«è®¿é—®&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;ï¼Œå¯¹äºæ¥å£æ¥è¯´è¿™ä¸ªå¤„ç†ä¹Ÿæˆç«‹ã€‚å› æ­¤ä¸‹é¢ä¸¤ç§æ–¹å¼ï¼šæ˜¾å¼å£°æ˜&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ReadCloser&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;interface&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;Read&lt;/span&gt;([]&lt;span style=&#34;color:#66d9ef&#34;&gt;byte&lt;/span&gt;) (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;error&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;Close&lt;/span&gt;() &lt;span style=&#34;color:#66d9ef&#34;&gt;error&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å’Œä½¿ç”¨åµŒå…¥æ¥ç»„æˆæ¥å£&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ReadCloser&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;interface&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;Reader&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;Closer&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ²¡æœ‰åŒºåˆ«ã€‚&lt;/p&gt;
&lt;p&gt;ä½ ç”šè‡³å¯ä»¥æ··åˆä½¿ç”¨ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;WriteCloser&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;interface&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;Write&lt;/span&gt;([]&lt;span style=&#34;color:#66d9ef&#34;&gt;byte&lt;/span&gt;) (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;error&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;Closer&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶è€Œï¼Œåœ¨ Go 1.14 ä¹‹å‰ï¼Œå¦‚æœä½ ç”¨è¿™ç§æ–¹å¼æ¥å£°æ˜æ¥å£ï¼Œä½ å¯èƒ½ä¼šå¾—åˆ°ç±»ä¼¼è¿™æ ·çš„ç»“æœï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ReadWriteCloser&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;interface&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;ReadCloser&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;WriterCloser&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¼–è¯‘é”™è¯¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;% Go build interfaces.go
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;command-line-arguments
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./interfaces.go:27:2: duplicate method Close
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¹¸è¿çš„æ˜¯ï¼Œåœ¨ Go 1.14 ä¸­è¿™ä¸å†æ˜¯ä¸€ä¸ªé™åˆ¶äº†ï¼Œå› æ­¤è¿™ä¸ªæ”¹åŠ¨è§£å†³äº†åœ¨è±å½¢åµŒå…¥æ—¶å‡ºç°çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œåœ¨æˆ‘å‘æœ¬åœ°çš„ç”¨æˆ·ç»„è§£é‡Šè¿™ä¸ªç‰¹æ€§æ—¶ä¹Ÿé™·å…¥äº†éº»çƒ¦ â€” åªæœ‰ Go ç¼–è¯‘å™¨ä½¿ç”¨ 1.14ï¼ˆæˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰è¯­è¨€è§„èŒƒæ—¶æ‰æ”¯æŒè¿™ä¸ªç‰¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ç†è§£çš„ç¼–è¯‘è¿‡ç¨‹ä¸­ Go è¯­è¨€è§„èŒƒæ‰€ä½¿ç”¨çš„ç‰ˆæœ¬çš„è§„åˆ™ä¼¼ä¹æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœä½ çš„æºç æ˜¯åœ¨ GOPATH ä¸‹ï¼ˆæˆ–è€…ä½ ç”¨ GO111MODULE=off &lt;em&gt;å…³é—­&lt;/em&gt;äº† moduleï¼‰ï¼Œé‚£ä¹ˆ Go è¯­è¨€è§„èŒƒä¼šä½¿ç”¨ä½ ç¼–è¯‘å™¨çš„ç‰ˆæœ¬æ¥ç¼–è¯‘ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœå®‰è£…äº† Go 1.13ï¼Œé‚£ä¹ˆä½ çš„ Go ç‰ˆæœ¬å°±æ˜¯ 1.13ã€‚å¦‚æœä½ å®‰è£…äº† Go 1.14ï¼Œé‚£ä¹ˆä½ çš„ç‰ˆæœ¬å°±æ˜¯ 1.14ã€‚è¿™é‡Œç¬¦åˆè®¤çŸ¥ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä½ çš„æºç ä¿å­˜åœ¨ GOPATH å¤–ï¼ˆæˆ–ä½ ç”¨ GO111MODULE=on å¼ºåˆ¶å¼€å¯äº† moduleï¼‰ï¼Œé‚£ä¹ˆ Go tool ä¼šä» go.mod æ–‡ä»¶ä¸­è·å– Go ç‰ˆæœ¬ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœ go.mod ä¸­æ²¡æœ‰åˆ—å‡º Go ç‰ˆæœ¬ï¼Œé‚£ä¹ˆè¯­è¨€è§„èŒƒä¼šä½¿ç”¨å®‰è£…çš„ Go çš„ç‰ˆæœ¬ã€‚è¿™è·Ÿç¬¬ 1 ç‚¹æ˜¯ä¸€è‡´çš„ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä½ ç”¨çš„æ˜¯ Go module æ¨¡å¼ï¼Œä¸ç®¡æ˜¯æºç åœ¨ GOPATH å¤–è¿˜æ˜¯è®¾ç½®äº† GO111MODULE=onï¼Œä½†æ˜¯åœ¨å½“å‰ç›®å½•æˆ–æ‰€æœ‰çˆ¶ç›®å½•ä¸­éƒ½æ²¡æœ‰ go.mod æ–‡ä»¶ï¼Œé‚£ä¹ˆ Go è¯­è¨€è§„èŒƒä¼šé»˜è®¤ç”¨ Go 1.13 ç‰ˆæœ¬æ¥ç¼–è¯‘ä½ çš„ä»£ç ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æˆ‘æ›¾ç»é‡åˆ°è¿‡ç¬¬ 4 ç‚¹çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://dave.cheney.net/2020/05/24/diamond-interface-composition-in-go-1-14&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://dave.cheney.net/2020/05/24/diamond-interface-composition-in-go-1-14&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://dave.cheney.net/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Dave Cheney&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Xiaobin.Liu&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/polaris1119&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;polaris1119&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/studygolang/GCTT&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://studygolang.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go ä¸­æ–‡ç½‘&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ï¼ŒåµŒå…¥æå‡äº†ç±»å‹çš„å­—æ®µå’Œæ–¹æ³•ã€‚&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        <item>
        <title>æ ‘è“æ´¾å®‰è£…TT-RSS</title>
        <link>https://lxb.wiki/afdc720c/</link>
        <pubDate>Sat, 30 May 2020 22:05:48 +0000</pubDate>
        
        <guid>https://lxb.wiki/afdc720c/</guid>
        <description>&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://tt-rss.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Tiny Tiny RSS&lt;/a&gt;ï¼ˆTT-RSSï¼‰æ˜¯ä¸€ä¸ªè‡ªç”±å¼€æºçš„åŸºäº Web çš„æ–°é—»&lt;!-- raw HTML omitted --&gt;é¦ˆé€&lt;!-- raw HTML omitted --&gt;feed&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼ˆRSS/Atomï¼‰é˜…è¯»å™¨å’Œèšåˆå·¥å…·ã€‚å®ƒéå¸¸é€‚åˆé‚£äº›æ³¨é‡éšç§ï¼Œå¹¶ä¸”ä»ç„¶ä¾èµ– RSS æ¥è·å–æ—¥å¸¸æ–°é—»çš„äººã€‚TT-RSS æ˜¯è‡ªè¡Œæ‰˜ç®¡çš„è½¯ä»¶ï¼Œå› æ­¤ä½ å¯ä»¥ 100% çš„æŒæ§ä½ çš„æœåŠ¡å™¨ã€æ•°æ®ä»¥åŠä½ çš„å…¨éƒ¨éšç§ã€‚å®ƒè¿˜æ”¯æŒå¤§é‡çš„æ’ä»¶ã€æ‰©å±•å’Œä¸»é¢˜ã€‚ä½ å–œæ¬¢é»‘æš—æ¨¡å¼çš„ç•Œé¢ï¼Ÿæ²¡é—®é¢˜ã€‚æƒ³åŸºäºå…³é”®è¯è¿‡æ»¤å‘æ¥çš„æ¶ˆæ¯ï¼ŸTT-RSS ä¹Ÿèƒ½è®©ä½ å¾—å¿æ‰€æ„¿ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://opensource.com/sites/default/files/uploads/tt-rss.jpeg&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Tiny Tiny RSS screenshot&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨ä½ çŸ¥é“ TT-RSS æ˜¯ä»€ä¹ˆäº†ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆä½ å¯èƒ½ä¼šæƒ³ç”¨å®ƒã€‚æˆ‘ä¼šè®²è¿°è¦æŠŠå®ƒå®‰è£…åˆ°æ ‘è“æ´¾æˆ– Debian 10 æœåŠ¡å™¨ä¸Šä½ éœ€è¦äº†è§£çš„æ‰€æœ‰çš„ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®‰è£…å’Œé…ç½®-tt-rss&#34;&gt;å®‰è£…å’Œé…ç½® TT-RSS&lt;/h3&gt;
&lt;p&gt;è¦æŠŠ TT-RSS å®‰è£…åˆ°æ ‘è“æ´¾ä¸Šï¼Œä½ è¿˜éœ€è¦å®‰è£…å’Œé…ç½®æœ€æ–°ç‰ˆæœ¬çš„ PHPï¼ˆæœ¬æ–‡æ’°å†™æ—¶ PHP æœ€æ–°ç‰ˆæœ¬æ˜¯ 7.3ï¼‰ã€åç«¯æ•°æ®åº“ PostgreSQLã€Nginx web æœåŠ¡å™¨ã€Gitï¼Œæœ€åæ‰æ˜¯ TT-RSSã€‚&lt;/p&gt;
&lt;h4 id=&#34;1å®‰è£…-php-7&#34;&gt;1ã€å®‰è£… PHP 7&lt;/h4&gt;
&lt;p&gt;å®‰è£… PHP 7 æ˜¯æ•´ä¸ªè¿‡ç¨‹ä¸­æœ€å¤æ‚çš„éƒ¨åˆ†ã€‚å¹¸è¿çš„æ˜¯ï¼Œå®ƒå¹¶ä¸åƒçœ‹èµ·æ¥é‚£æ ·å›°éš¾ã€‚ä»å®‰è£…ä¸‹é¢çš„æ”¯æŒåŒ…å¼€å§‹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ sudo apt install -y ca-certificates apt-transport-https
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç°åœ¨ï¼Œæ·»åŠ å­˜å‚¨åº“ PGP å¯†é’¥ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ wget -q https://packages.sury.org/php/apt.gpg -O- | sudo apt-key add -
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸‹ä¸€æ­¥ï¼ŒæŠŠ PHP åº“æ·»åŠ åˆ°ä½ çš„ apt æºï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ echo &amp;#34;deb https://packages.sury.org/php/ buster main&amp;#34; | sudo tee /etc/apt/sources.list.d/php.list
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç„¶åæ›´æ–°ä½ çš„å­˜å‚¨åº“ç´¢å¼•ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ sudo apt update
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æœ€åï¼Œå®‰è£… PHP 7.3ï¼ˆæˆ–æœ€æ–°ç‰ˆæœ¬ï¼‰å’Œä¸€äº›é€šç”¨ç»„ä»¶ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ sudo apt install -y php7.3 php7.3-cli php7.3-fpm php7.3-opcache php7.3-curl php7.3-mbstring php7.3-pgsql php7.3-zip php7.3-xml php7.3-gd php7.3-intl
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸Šé¢çš„å‘½ä»¤é»˜è®¤ä½ ä½¿ç”¨çš„åç«¯æ•°æ®åº“æ˜¯ PostgreSQLï¼Œä¼šå®‰è£… &lt;code&gt;php7.3-pgsql&lt;/code&gt;ã€‚å¦‚æœä½ æƒ³ç”¨ MySQL æˆ– MariaDBï¼Œä½ å¯ä»¥æŠŠå‘½ä»¤å‚æ•°æ”¹ä¸º &lt;code&gt;php7.3-mysql&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹ä¸€æ­¥ï¼Œç¡®è®¤ PHP å·²å®‰è£…å¹¶åœ¨ä½ çš„æ ‘è“æ´¾ä¸Šè¿è¡Œç€ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ php -v
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç°åœ¨æ˜¯æ—¶å€™å®‰è£…å’Œé…ç½® Web æœåŠ¡å™¨äº†ã€‚&lt;/p&gt;
&lt;h4 id=&#34;2å®‰è£…-nginx&#34;&gt;2ã€å®‰è£… Nginx&lt;/h4&gt;
&lt;p&gt;å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤å®‰è£… Nginxï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ sudo apt install -y nginx
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¿®æ”¹é»˜è®¤çš„ Nginx è™šæ‹Ÿä¸»æœºé…ç½®ï¼Œè¿™æ · Web æœåŠ¡å™¨æ‰èƒ½è¯†åˆ« PHP æ–‡ä»¶ä»¥åŠçŸ¥é“å¦‚ä½•å¤„ç†å®ƒä»¬ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ sudo nano /etc/nginx/sites-available/default
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä½ å¯ä»¥å®‰å…¨åœ°åˆ é™¤åŸæ–‡ä»¶ä¸­çš„æ‰€æœ‰å†…å®¹ï¼Œç”¨ä¸‹é¢çš„å†…å®¹æ›¿æ¢ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;server {
        listen 80 default_server;
        listen [::]:80 default_server;

        root /var/www/html;
        index index.html index.htm index.php;
        server_name _;

        location / {
                try_files $uri $uri/ =404;
        }

        location ~ \.php$ {
          include snippets/fastcgi-php.conf;
          fastcgi_pass unix:/run/php/php7.3-fpm.sock;
        }

}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æŒ‰ &lt;code&gt;Ctrl+O&lt;/code&gt; ä¿å­˜ä¿®æ”¹åçš„é…ç½®æ–‡ä»¶ï¼Œç„¶åæŒ‰ &lt;code&gt;Ctrl+X&lt;/code&gt; é€€å‡º Nanoã€‚ä½ å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤æµ‹è¯•ä½ çš„æ–°é…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ nginx -t
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦‚æœæ²¡æœ‰æŠ¥é”™ï¼Œé‡å¯ Nginx æœåŠ¡ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ systemctl restart nginx
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;3å®‰è£…-postgresql&#34;&gt;3ã€å®‰è£… PostgreSQL&lt;/h4&gt;
&lt;p&gt;æ¥ä¸‹æ¥æ˜¯å®‰è£…æ•°æ®åº“æœåŠ¡å™¨ã€‚åœ¨æ ‘è“æ´¾ä¸Šå®‰è£… PostgreSQL è¶…çº§ç®€å•ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ sudo apt install -y postgresql postgresql-client postgis
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¾“å…¥ä¸‹é¢çš„å‘½ä»¤çœ‹ä¸€ä¸‹æ•°æ®åº“æœåŠ¡å™¨å®‰è£…æ˜¯å¦æˆåŠŸï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ psql --version
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;4åˆ›å»º-tiny-tiny-rss-æ•°æ®åº“&#34;&gt;4ã€åˆ›å»º Tiny Tiny RSS æ•°æ®åº“&lt;/h4&gt;
&lt;p&gt;åœ¨åšå…¶ä»–äº‹ä¹‹å‰ï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ªæ•°æ•°æ®åº“ï¼Œç”¨æ¥ç»™ TT-RSS è½¯ä»¶ä¿å­˜æ•°æ®ã€‚é¦–å…ˆï¼Œç™»å½• PostgreSQL æœåŠ¡å™¨ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo -u postgres psql
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸‹ä¸€æ­¥ï¼Œæ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œè®¾ç½®å¯†ç ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;CREATE USER username WITH PASSWORD &amp;#39;your_password&amp;#39; VALID UNTIL &amp;#39;infinity&amp;#39;;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç„¶ååˆ›å»ºä¸€ä¸ªç»™ TT-RSS ç”¨çš„æ•°æ®åº“ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;CREATE DATABASE tinyrss;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æœ€åï¼Œç»™æ–°å»ºçš„ç”¨æˆ·èµ‹æœ€é«˜æƒé™ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;GRANT ALL PRIVILEGES ON DATABASE tinyrss to user_name;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™æ˜¯å®‰è£…æ•°æ®åº“çš„æ­¥éª¤ã€‚ä½ å¯ä»¥è¾“å…¥ &lt;code&gt;\q&lt;/code&gt; æ¥é€€å‡º &lt;code&gt;psql&lt;/code&gt; ç¨‹åºã€‚&lt;/p&gt;
&lt;h4 id=&#34;5å®‰è£…-git&#34;&gt;5ã€å®‰è£… Git&lt;/h4&gt;
&lt;p&gt;å®‰è£… TT-RSS éœ€è¦ç”¨ Gitï¼Œæ‰€ä»¥è¾“å…¥ä¸‹é¢çš„å‘½ä»¤å®‰è£… Gitï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ sudo apt install git -y
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç°åœ¨ï¼Œè¿›å…¥åˆ° Nginx æœåŠ¡å™¨çš„æ ¹ç›®å½•ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ cd /var/www/html
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸‹è½½ TT-RSS æœ€æ–°æºç ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ git clone https://git.tt-rss.org/fox/tt-rss.git tt-rss
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ³¨æ„ï¼Œè¿™ä¸€æ­¥ä¼šåˆ›å»ºä¸€ä¸ª &lt;code&gt;tt-rss&lt;/code&gt; æ–‡ä»¶å¤¹ã€‚&lt;/p&gt;
&lt;h4 id=&#34;6å®‰è£…å’Œé…ç½®tiny-tiny-rss&#34;&gt;6ã€å®‰è£…å’Œé…ç½®Tiny Tiny RSS&lt;/h4&gt;
&lt;p&gt;ç°åœ¨æ˜¯å®‰è£…å’Œé…ç½®ä½ çš„æ–° TT-RSS æœåŠ¡å™¨çš„æœ€åæ—¶åˆ»äº†ã€‚é¦–å…ˆï¼Œç¡®è®¤ä¸‹ä½ åœ¨æµè§ˆå™¨ä¸­èƒ½æ‰“å¼€ &lt;code&gt;http://your.site/tt-rss/install/index.php&lt;/code&gt;ã€‚å¦‚æœæµè§ˆå™¨æ˜¾ç¤º &lt;code&gt;403 Forbidden&lt;/code&gt;ï¼Œé‚£ä¹ˆå°±è¯æ˜ &lt;code&gt;/var/www/html&lt;/code&gt; æ–‡ä»¶å¤¹çš„æƒé™æ²¡æœ‰è®¾ç½®æ­£ç¡®ã€‚ä¸‹é¢çš„å‘½ä»¤é€šå¸¸èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ chmod 755 /var/www/html/ -v
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ ä¼šçœ‹åˆ° TT-RSS å®‰è£…é¡µé¢ï¼Œå®ƒä¼šè®©ä½ è¾“å…¥ä¸€äº›æ•°æ®çš„ä¿¡æ¯ã€‚ä½ åªéœ€è¦è¾“å…¥å‰é¢ä½ åˆ›å»ºçš„æ•°æ®åº“ç”¨æˆ·åå’Œå¯†ç ï¼›æ•°æ®åº“åï¼›ä¸»æœºåå¡« &lt;code&gt;localhost&lt;/code&gt;ï¼›ç«¯å£å¡« &lt;code&gt;5432&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»â€œTest Configurationâ€ã€‚å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªæ ‡è®°ç€â€œInitialize Databaseâ€çš„çº¢è‰²æŒ‰é’®ã€‚ç‚¹å‡»å®ƒæ¥å¼€å§‹å®‰è£…ã€‚ç»“æŸåï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œä½ å¯ä»¥æŠŠå®ƒå¤åˆ¶åˆ° TT-RSS çš„ç›®å½•ï¼Œå¦å­˜ä¸º &lt;code&gt;config.php&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å®‰è£…è¿‡ç¨‹ç»“æŸåï¼Œæµè§ˆå™¨è¾“å…¥ &lt;code&gt;http://yoursite/tt-rss/&lt;/code&gt; æ‰“å¼€ TT-RSSï¼Œä½¿ç”¨é»˜è®¤çš„å‡­è¯ç™»å½•ï¼ˆç”¨æˆ·åï¼š&lt;code&gt;admin&lt;/code&gt;ï¼Œå¯†ç ï¼š&lt;code&gt;password&lt;/code&gt;ï¼‰ã€‚ç™»å½•åç³»ç»Ÿä¼šæç¤ºä½ ä¿®æ”¹å¯†ç ã€‚æˆ‘å¼ºçƒˆå»ºè®®ä½ å°½å¿«ä¿®æ”¹å¯†ç ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é…ç½®-tt-rss&#34;&gt;é…ç½® TT-RSS&lt;/h3&gt;
&lt;p&gt;å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ ç°åœ¨å°±å¯ä»¥å¼€å§‹ä½¿ç”¨ TT-RSS äº†ã€‚å»ºè®®ä½ æ–°å»ºä¸€ä¸ªéç®¡ç†å‘˜ç”¨æˆ·ï¼Œä½¿ç”¨æ–°ç”¨æˆ·åç™»å½•ï¼Œå¹¶å¼€å§‹å¯¼å…¥ä½ çš„é¦ˆé€ã€è®¢é˜…ï¼ŒæŒ‰ç…§ä½ çš„æ„æ„¿æ¥é…ç½®å®ƒã€‚&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œå¹¶ä¸”æ˜¯è¶…çº§é‡è¦çš„äº‹ï¼Œä¸è¦å¿˜äº†é˜…è¯» TT-RSS ç»´åŸºä¸Šçš„ &lt;a class=&#34;link&#34; href=&#34;https://tt-rss.org/wiki/UpdatingFeeds&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Updating Feeds&lt;/a&gt; éƒ¨åˆ†ã€‚å®ƒè®²è¿°äº†å¦‚ä½•åˆ›å»ºä¸€ä¸ªç®€å•çš„ systemd æœåŠ¡æ¥æ›´æ–°é¦ˆé€ã€‚å¦‚æœä½ è·³è¿‡äº†è¿™ä¸€æ­¥ï¼Œä½ çš„ RSS é¦ˆé€å°±ä¸ä¼šè‡ªåŠ¨æ›´æ–°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h3&gt;
&lt;p&gt;å‘µï¼å·¥ä½œé‡ä¸å°ï¼Œä½†æ˜¯ä½ åšå®Œäº†ï¼ä½ ç°åœ¨æœ‰è‡ªå·±çš„ RSS èšåˆæœåŠ¡å™¨äº†ã€‚æƒ³äº†è§£ TT-RSS æ›´å¤šçš„çŸ¥è¯†ï¼Ÿæˆ‘æ¨èä½ å»çœ‹å®˜æ–¹çš„ &lt;a class=&#34;link&#34; href=&#34;https://tt-rss.org/wiki/FAQ&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;FAQ&lt;/a&gt;ã€&lt;a class=&#34;link&#34; href=&#34;https://community.tt-rss.org/c/tiny-tiny-rss/support&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æ”¯æŒ&lt;/a&gt;è®ºå›ï¼Œå’Œè¯¦ç»†çš„&lt;a class=&#34;link&#34; href=&#34;https://tt-rss.org/wiki/InstallationNotes&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å®‰è£…&lt;/a&gt;ç¬”è®°ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œå°½æƒ…åœ°åœ¨ä¸‹é¢è¯„è®ºå§ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://opensource.com/article/20/2/ttrss-raspberry-pi&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://opensource.com/article/20/2/ttrss-raspberry-pi&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://opensource.com/users/pmullins&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Patrick H. Mullins&lt;/a&gt;
é€‰é¢˜ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lujun9972&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;lujun9972&lt;/a&gt;
è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;lxbwolf&lt;/a&gt;
æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/wxy&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;wxy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/LCTT/TranslateProject&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;LCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://linux.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Linuxä¸­å›½&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘é€šè¿‡ç¦æ­¢æ¯”è¾ƒè®© Go äºŒè¿›åˆ¶æ–‡ä»¶å˜å°</title>
        <link>https://lxb.wiki/27d7ea27/</link>
        <pubDate>Sat, 23 May 2020 12:24:34 +0000</pubDate>
        
        <guid>https://lxb.wiki/27d7ea27/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;å¤§å®¶å¸¸è§„çš„è®¤çŸ¥æ˜¯ï¼ŒGo ç¨‹åºä¸­å£°æ˜çš„ç±»å‹è¶Šå¤šï¼Œç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶å°±è¶Šå¤§ã€‚è¿™ä¸ªç¬¦åˆç›´è§‰ï¼Œæ¯•ç«Ÿå¦‚æœä½ å†™çš„ä»£ç ä¸å»æ“ä½œå®šä¹‰çš„ç±»å‹ï¼Œé‚£ä¹ˆå®šä¹‰ä¸€å †ç±»å‹å°±æ²¡æœ‰æ„ä¹‰äº†ã€‚ç„¶è€Œï¼Œé“¾æ¥å™¨çš„éƒ¨åˆ†å·¥ä½œå°±æ˜¯æ£€æµ‹æ²¡æœ‰è¢«ç¨‹åºå¼•ç”¨çš„å‡½æ•°ï¼ˆæ¯”å¦‚è¯´å®ƒä»¬æ˜¯ä¸€ä¸ªåº“çš„ä¸€éƒ¨åˆ†ï¼Œå…¶ä¸­åªæœ‰ä¸€ä¸ªå­é›†çš„åŠŸèƒ½è¢«ä½¿ç”¨ï¼‰ï¼Œç„¶åæŠŠå®ƒä»¬ä»æœ€åçš„ç¼–è¯‘äº§å‡ºä¸­åˆ é™¤ã€‚å¸¸è¨€é“ï¼Œâ€œç±»å‹è¶Šå¤šï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶è¶Šå¤§â€ï¼Œå¯¹äºå¤šæ•° Go ç¨‹åºè¿˜æ˜¯æ­£ç¡®çš„ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä¸­æˆ‘ä¼šæ·±å…¥è®²è§£åœ¨ Go ç¨‹åºçš„ä¸Šä¸‹æ–‡ä¸­â€œç›¸ç­‰â€çš„æ„ä¹‰ï¼Œä»¥åŠä¸ºä»€ä¹ˆ&lt;a class=&#34;link&#34; href=&#34;https://github.com/golang/net/commit/e0ff5e5a1de5b859e2d48a2830d7933b3ab5b75f&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;åƒè¿™æ ·&lt;/a&gt;çš„ä¿®æ”¹ä¼šå¯¹ Go ç¨‹åºçš„å¤§å°æœ‰é‡å¤§çš„å½±å“ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®šä¹‰ä¸¤ä¸ªå€¼ç›¸ç­‰&#34;&gt;å®šä¹‰ä¸¤ä¸ªå€¼ç›¸ç­‰&lt;/h3&gt;
&lt;p&gt;Go çš„è¯­æ³•å®šä¹‰äº†â€œèµ‹å€¼â€å’Œâ€œç›¸ç­‰â€çš„æ¦‚å¿µã€‚èµ‹å€¼æ˜¯æŠŠä¸€ä¸ªå€¼èµ‹ç»™ä¸€ä¸ªæ ‡è¯†ç¬¦çš„è¡Œä¸ºã€‚å¹¶ä¸æ˜¯æ‰€æœ‰å£°æ˜çš„æ ‡è¯†ç¬¦éƒ½å¯ä»¥è¢«èµ‹å€¼ï¼Œå¦‚å¸¸é‡å’Œå‡½æ•°å°±ä¸å¯ä»¥ã€‚ç›¸ç­‰æ˜¯é€šè¿‡æ£€æŸ¥æ ‡è¯†ç¬¦çš„å†…å®¹æ˜¯å¦ç›¸ç­‰æ¥æ¯”è¾ƒä¸¤ä¸ªæ ‡è¯†ç¬¦çš„è¡Œä¸ºã€‚&lt;/p&gt;
&lt;p&gt;ä½œä¸ºå¼ºç±»å‹è¯­è¨€ï¼Œâ€œç›¸åŒâ€çš„æ¦‚å¿µä»æ ¹æºä¸Šè¢«æ¤å…¥æ ‡è¯†ç¬¦çš„ç±»å‹ä¸­ã€‚ä¸¤ä¸ªæ ‡è¯†ç¬¦åªæœ‰æ˜¯ç›¸åŒç±»å‹çš„å‰æä¸‹ï¼Œæ‰æœ‰å¯èƒ½ç›¸åŒã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå€¼çš„ç±»å‹å®šä¹‰äº†å¦‚ä½•æ¯”è¾ƒè¯¥ç±»å‹çš„ä¸¤ä¸ªå€¼ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œæ•´å‹æ˜¯ç”¨ç®—æ•°æ–¹æ³•è¿›è¡Œæ¯”è¾ƒçš„ã€‚å¯¹äºæŒ‡é’ˆç±»å‹ï¼Œæ˜¯å¦ç›¸ç­‰æ˜¯æŒ‡å®ƒä»¬æŒ‡å‘çš„åœ°å€æ˜¯å¦ç›¸åŒã€‚æ˜ å°„å’Œé€šé“ç­‰å¼•ç”¨ç±»å‹ï¼Œè·ŸæŒ‡é’ˆç±»ä¼¼ï¼Œå¦‚æœå®ƒä»¬æŒ‡å‘ç›¸åŒçš„åœ°å€ï¼Œé‚£ä¹ˆå°±è®¤ä¸ºå®ƒä»¬æ˜¯ç›¸åŒçš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šé¢éƒ½æ˜¯æŒ‰ä½æ¯”è¾ƒç›¸ç­‰çš„ä¾‹å­ï¼Œå³å€¼å ç”¨çš„å†…å­˜çš„ä½æ¨¡å¼æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆè¿™äº›å€¼å°±ç›¸ç­‰ã€‚è¿™å°±æ˜¯æ‰€è°“çš„ memcmpï¼Œå³å†…å­˜æ¯”è¾ƒï¼Œç›¸ç­‰æ˜¯é€šè¿‡æ¯”è¾ƒä¸¤ä¸ªå†…å­˜åŒºåŸŸçš„å†…å®¹æ¥å®šä¹‰çš„ã€‚&lt;/p&gt;
&lt;p&gt;è®°ä½è¿™ä¸ªæ€è·¯ï¼Œæˆ‘è¿‡ä¼šå„¿å†æ¥è°ˆã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç»“æ„ä½“ç›¸ç­‰&#34;&gt;ç»“æ„ä½“ç›¸ç­‰&lt;/h3&gt;
&lt;p&gt;é™¤äº†æ•´å‹ã€æµ®ç‚¹å‹å’ŒæŒ‡é’ˆç­‰æ ‡é‡ç±»å‹ï¼Œè¿˜æœ‰å¤åˆç±»å‹ï¼šç»“æ„ä½“ã€‚æ‰€æœ‰çš„ç»“æ„ä½“ä»¥ç¨‹åºä¸­çš„é¡ºåºè¢«æ’åˆ—åœ¨å†…å­˜ä¸­ã€‚å› æ­¤ä¸‹é¢è¿™ä¸ªå£°æ˜ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;type S struct {
    a, b, c, d int64
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¼šå ç”¨ 32 å­—èŠ‚çš„å†…å­˜ç©ºé—´ï¼›&lt;code&gt;a&lt;/code&gt; å ç”¨ 8 ä¸ªå­—èŠ‚ï¼Œ&lt;code&gt;b&lt;/code&gt; å ç”¨ 8 ä¸ªå­—èŠ‚ï¼Œä»¥æ­¤ç±»æ¨ã€‚Go çš„è§„åˆ™è¯´å¦‚æœç»“æ„ä½“æ‰€æœ‰çš„å­—æ®µéƒ½æ˜¯å¯ä»¥æ¯”è¾ƒçš„ï¼Œé‚£ä¹ˆç»“æ„ä½“çš„å€¼å°±æ˜¯å¯ä»¥æ¯”è¾ƒçš„ã€‚å› æ­¤å¦‚æœä¸¤ä¸ªç»“æ„ä½“æ‰€æœ‰çš„å­—æ®µéƒ½ç›¸ç­‰ï¼Œé‚£ä¹ˆå®ƒä»¬å°±ç›¸ç­‰ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;a := S{1, 2, 3, 4}
b := S{1, 2, 3, 4}
fmt.Println(a == b) // è¾“å‡º true
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç¼–è¯‘å™¨åœ¨åº•å±‚ä½¿ç”¨ memcmp æ¥æ¯”è¾ƒ &lt;code&gt;a&lt;/code&gt; çš„ 32 ä¸ªå­—èŠ‚å’Œ &lt;code&gt;b&lt;/code&gt; çš„ 32 ä¸ªå­—èŠ‚ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¡«å……å’Œå¯¹é½&#34;&gt;å¡«å……å’Œå¯¹é½&lt;/h3&gt;
&lt;p&gt;ç„¶è€Œï¼Œåœ¨ä¸‹é¢çš„åœºæ™¯ä¸‹è¿‡åˆ†ç®€å•åŒ–çš„æŒ‰ä½æ¯”è¾ƒçš„ç­–ç•¥ä¼šè¿”å›é”™è¯¯çš„ç»“æœï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;type S struct {
    a byte
    b uint64
    c int16
    d uint32
}

func main()
    a := S{1, 2, 3, 4}
    b := S{1, 2, 3, 4}
    fmt.Println(a == b) // è¾“å‡º true
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç¼–è¯‘ä»£ç åï¼Œè¿™ä¸ªæ¯”è¾ƒè¡¨è¾¾å¼çš„ç»“æœè¿˜æ˜¯ &lt;code&gt;true&lt;/code&gt;ï¼Œä½†æ˜¯ç¼–è¯‘å™¨åœ¨åº•å±‚å¹¶ä¸èƒ½ä»…ä¾èµ–æ¯”è¾ƒ &lt;code&gt;a&lt;/code&gt; å’Œ &lt;code&gt;b&lt;/code&gt; çš„ä½æ¨¡å¼ï¼Œå› ä¸ºç»“æ„ä½“æœ‰&lt;em&gt;å¡«å……&lt;/em&gt;ã€‚&lt;/p&gt;
&lt;p&gt;Go è¦æ±‚ç»“æ„ä½“çš„æ‰€æœ‰å­—æ®µéƒ½å¯¹é½ã€‚2 å­—èŠ‚çš„å€¼å¿…é¡»ä»å¶æ•°åœ°å€å¼€å§‹ï¼Œ4 å­—èŠ‚çš„å€¼å¿…é¡»ä» 4 çš„å€æ•°åœ°å€å¼€å§‹ï¼Œä»¥æ­¤ç±»æ¨ã€‚ç¼–è¯‘å™¨æ ¹æ®å­—æ®µçš„ç±»å‹å’Œåº•å±‚å¹³å°åŠ å…¥äº†å¡«å……æ¥ç¡®ä¿å­—æ®µéƒ½&lt;em&gt;å¯¹é½&lt;/em&gt;ã€‚åœ¨å¡«å……ä¹‹åï¼Œç¼–è¯‘å™¨å®é™…ä¸Šçœ‹åˆ°çš„æ˜¯ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;type S struct {
    a byte
    _ [7]byte // å¡«å……
    b uint64
    c int16
    _ [2]int16 // å¡«å……
    d uint32
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¡«å……çš„å­˜åœ¨ä¿è¯äº†å­—æ®µæ­£ç¡®å¯¹é½ï¼Œè€Œå¡«å……ç¡®å®å ç”¨äº†å†…å­˜ç©ºé—´ï¼Œä½†æ˜¯å¡«å……å­—èŠ‚çš„å†…å®¹æ˜¯æœªçŸ¥çš„ã€‚ä½ å¯èƒ½ä¼šè®¤ä¸ºåœ¨ Go ä¸­ å¡«å……å­—èŠ‚éƒ½æ˜¯ 0ï¼Œä½†å®é™…ä¸Šå¹¶ä¸æ˜¯ â€” å¡«å……å­—èŠ‚çš„å†…å®¹æ˜¯æœªå®šä¹‰çš„ã€‚ç”±äºå®ƒä»¬å¹¶ä¸æ˜¯è¢«å®šä¹‰ä¸ºæŸä¸ªç¡®å®šçš„å€¼ï¼Œå› æ­¤æŒ‰ä½æ¯”è¾ƒä¼šå› ä¸ºåˆ†å¸ƒåœ¨ &lt;code&gt;s&lt;/code&gt; çš„ 24 å­—èŠ‚ä¸­çš„ 9 ä¸ªå¡«å……å­—èŠ‚ä¸ä¸€æ ·è€Œè¿”å›é”™è¯¯ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;Go é€šè¿‡ç”Ÿæˆæ‰€è°“çš„ç›¸ç­‰å‡½æ•°æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ&lt;code&gt;s&lt;/code&gt; çš„ç›¸ç­‰å‡½æ•°åªæ¯”è¾ƒå‡½æ•°ä¸­çš„å­—æ®µç•¥è¿‡å¡«å……éƒ¨åˆ†ï¼Œè¿™æ ·å°±èƒ½æ­£ç¡®æ¯”è¾ƒç±»å‹ &lt;code&gt;s&lt;/code&gt; çš„ä¸¤ä¸ªå€¼ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç±»å‹ç®—æ³•&#34;&gt;ç±»å‹ç®—æ³•&lt;/h3&gt;
&lt;p&gt;å‘µï¼Œè¿™æ˜¯ä¸ªå¾ˆå¤§çš„è®¾ç½®ï¼Œè¯´æ˜äº†ä¸ºä»€ä¹ˆï¼Œå¯¹äº Go ç¨‹åºä¸­å®šä¹‰çš„æ¯ç§ç±»å‹ï¼Œç¼–è¯‘å™¨éƒ½ä¼šç”Ÿæˆå‡ ä¸ªæ”¯æŒå‡½æ•°ï¼Œç¼–è¯‘å™¨å†…éƒ¨æŠŠå®ƒä»¬ç§°ä½œç±»å‹çš„ç®—æ³•ã€‚å¦‚æœç±»å‹æ˜¯ä¸€ä¸ªæ˜ å°„çš„é”®ï¼Œé‚£ä¹ˆé™¤ç›¸ç­‰å‡½æ•°å¤–ï¼Œç¼–è¯‘å™¨è¿˜ä¼šç”Ÿæˆä¸€ä¸ªå“ˆå¸Œå‡½æ•°ã€‚ä¸ºäº†ç»´æŒç¨³å®šï¼Œå“ˆå¸Œå‡½æ•°åœ¨è®¡ç®—ç»“æœæ—¶ä¹Ÿä¼šåƒç›¸ç­‰å‡½æ•°ä¸€æ ·è€ƒè™‘è¯¸å¦‚å¡«å……ç­‰å› ç´ ã€‚&lt;/p&gt;
&lt;p&gt;å‡­ç›´è§‰åˆ¤æ–­ç¼–è¯‘å™¨ä»€ä¹ˆæ—¶å€™ç”Ÿæˆè¿™äº›å‡½æ•°å®é™…ä¸Šå¾ˆéš¾ï¼Œæœ‰æ—¶å¹¶ä¸æ˜æ˜¾ï¼Œï¼ˆå› ä¸ºï¼‰è¿™è¶…å‡ºäº†ä½ çš„é¢„æœŸï¼Œè€Œä¸”é“¾æ¥å™¨ä¹Ÿå¾ˆéš¾æ¶ˆé™¤æ²¡æœ‰è¢«ä½¿ç”¨çš„å‡½æ•°ï¼Œå› ä¸ºåå°„å¾€å¾€å¯¼è‡´é“¾æ¥å™¨åœ¨è£å‰ªç±»å‹æ—¶å˜å¾—æ›´ä¿å®ˆã€‚&lt;/p&gt;
&lt;h3 id=&#34;é€šè¿‡ç¦æ­¢æ¯”è¾ƒæ¥å‡å°äºŒè¿›åˆ¶æ–‡ä»¶çš„å¤§å°&#34;&gt;é€šè¿‡ç¦æ­¢æ¯”è¾ƒæ¥å‡å°äºŒè¿›åˆ¶æ–‡ä»¶çš„å¤§å°&lt;/h3&gt;
&lt;p&gt;ç°åœ¨ï¼Œæˆ‘ä»¬æ¥è§£é‡Šä¸€ä¸‹ Brad çš„ä¿®æ”¹ã€‚å‘ç±»å‹æ·»åŠ ä¸€ä¸ªä¸å¯æ¯”è¾ƒçš„å­—æ®µï¼Œç»“æ„ä½“ä¹Ÿéšä¹‹å˜æˆä¸å¯æ¯”è¾ƒçš„ï¼Œä»è€Œå¼ºåˆ¶ç¼–è¯‘å™¨ä¸å†ç”Ÿæˆç›¸ç­‰å‡½æ•°å’Œå“ˆå¸Œå‡½æ•°ï¼Œè§„é¿äº†é“¾æ¥å™¨å¯¹é‚£äº›ç±»å‹çš„æ¶ˆé™¤ï¼Œåœ¨å®é™…åº”ç”¨ä¸­å‡å°äº†ç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶çš„å¤§å°ã€‚ä½œä¸ºè¿™é¡¹æŠ€æœ¯çš„ä¸€ä¸ªä¾‹å­ï¼Œä¸‹é¢çš„ç¨‹åºï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;package main

import &amp;#34;fmt&amp;#34;

func main() {
    type t struct {
        // _ [0][]byte // å–æ¶ˆæ³¨é‡Šä»¥é˜»æ­¢æ¯”è¾ƒ
        a byte
        b uint16
        c int32
        d uint64
    }
    var a t
    fmt.Println(a)
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç”¨ Go 1.14.2ï¼ˆdarwin/amd64ï¼‰ç¼–è¯‘ï¼Œå¤§å°ä» 2174088 é™åˆ°äº† 2174056ï¼ŒèŠ‚çœäº† 32 å­—èŠ‚ã€‚å•ç‹¬çœ‹èŠ‚çœçš„è¿™ 32 å­—èŠ‚ä¼¼ä¹å¾®ä¸è¶³é“ï¼Œä½†æ˜¯è€ƒè™‘åˆ°ä½ çš„ç¨‹åºä¸­æ¯ä¸ªç±»å‹åŠå…¶ä¼ é€’é—­åŒ…éƒ½ä¼šç”Ÿæˆç›¸ç­‰å’Œå“ˆå¸Œå‡½æ•°ï¼Œè¿˜æœ‰å®ƒä»¬çš„ä¾èµ–ï¼Œè¿™äº›å‡½æ•°çš„å¤§å°éšç±»å‹å¤§å°å’Œå¤æ‚åº¦çš„ä¸åŒè€Œä¸åŒï¼Œç¦æ­¢å®ƒä»¬ä¼šå¤§å¤§å‡å°æœ€ç»ˆçš„äºŒè¿›åˆ¶æ–‡ä»¶çš„å¤§å°ï¼Œæ•ˆæœæ¯”ä¹‹å‰ä½¿ç”¨ &lt;code&gt;-ldflags=&amp;quot;-s -w&amp;quot;&lt;/code&gt; è¿˜è¦å¥½ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åæ€»ç»“ä¸€ä¸‹ï¼Œå¦‚æœä½ ä¸æƒ³æŠŠç±»å‹å®šä¹‰ä¸ºå¯æ¯”è¾ƒçš„ï¼Œå¯ä»¥åœ¨æºç å±‚çº§å¼ºåˆ¶å®ç°åƒè¿™æ ·çš„å¥‡æŠ€æ·«å·§ï¼Œä¼šä½¿ç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶å˜å°ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://dave.cheney.net/2020/05/09/ensmallening-go-binaries-by-prohibiting-comparisons&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://dave.cheney.net/2020/05/09/ensmallening-go-binaries-by-prohibiting-comparisons&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://dave.cheney.net/author/davecheney&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Dave Cheney&lt;/a&gt;
é€‰é¢˜ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lujun9972&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;lujun9972&lt;/a&gt;
è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Xiaobin.Liu&lt;/a&gt;
æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/wxy&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;wxy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/LCTT/TranslateProject&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;LCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://linux.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Linuxä¸­å›½&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘Goï¼šå¼‚æ­¥æŠ¢å </title>
        <link>https://lxb.wiki/5698ca18/</link>
        <pubDate>Tue, 05 May 2020 15:24:46 +0000</pubDate>
        
        <guid>https://lxb.wiki/5698ca18/</guid>
        <description>&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/studygolang/gctt-images2/master/20200501-Go-Asynchronous-Preemption/00.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Illustration created for â€œA Journey With Goâ€, made from the original Go Gopher, created by Renee French&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;â„¹ï¸ æœ¬æ–‡åŸºäº Go 1.14ã€‚&lt;/p&gt;
&lt;p&gt;æŠ¢å æ˜¯è°ƒåº¦å™¨çš„é‡è¦éƒ¨åˆ†ï¼ŒåŸºäºæŠ¢å è°ƒåº¦å™¨å¯ä»¥åœ¨å„ä¸ªåç¨‹ä¸­åˆ†é…è¿è¡Œçš„æ—¶é—´ã€‚å®é™…ä¸Šï¼Œå¦‚æœæ²¡æœ‰æŠ¢å æœºåˆ¶ï¼Œä¸€ä¸ªé•¿æ—¶é—´å ç”¨ CPU çš„åç¨‹ä¼šé˜»å¡å…¶ä»–çš„åç¨‹è¢«è°ƒåº¦ã€‚1.14 ç‰ˆæœ¬å¼•å…¥äº†ä¸€é¡¹æ–°çš„å¼‚æ­¥æŠ¢å çš„æŠ€æœ¯ï¼Œèµ‹äºˆäº†è°ƒåº¦å™¨æ›´å¤§çš„èƒ½åŠ›å’Œæ§åˆ¶åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;æˆ‘æ¨èä½ é˜…è¯»æˆ‘çš„æ–‡ç« &lt;a class=&#34;link&#34; href=&#34;https://medium.com/a-journey-with-go/go-goroutine-and-preemption-d6bc2aa2f4b7&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;â€Goï¼šåç¨‹å’ŒæŠ¢å â€œ&lt;/a&gt;æ¥äº†è§£æ›´å¤šä¹‹å‰çš„ç‰¹æ€§å’Œå®ƒçš„å¼Šç«¯ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&#34;å·¥ä½œæµ&#34;&gt;å·¥ä½œæµ&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬ä»¥ä¸€ä¸ªéœ€è¦æŠ¢å çš„ä¾‹å­æ¥å¼€å§‹ã€‚ä¸‹é¢ä¸€æ®µä»£ç å¼€å¯äº†å‡ ä¸ªåç¨‹ï¼Œåœ¨å‡ ä¸ªå¾ªç¯ä¸­æ²¡æœ‰å…¶ä»–çš„å‡½æ•°è°ƒç”¨ï¼Œæ„å‘³ç€è°ƒåº¦å™¨æ²¡æœ‰æœºä¼šæŠ¢å å®ƒä»¬ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/studygolang/gctt-images2/master/20200501-Go-Asynchronous-Preemption/01.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œå½“æŠŠè¿™ä¸ªç¨‹åºçš„è¿½è¸ªè¿‡ç¨‹å¯è§†åŒ–åï¼Œæˆ‘ä»¬æ¸…æ™°åœ°çœ‹åˆ°äº†åç¨‹é—´çš„æŠ¢å å’Œåˆ‡æ¢ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/studygolang/gctt-images2/master/20200501-Go-Asynchronous-Preemption/02.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è¿˜å¯ä»¥çœ‹åˆ°è¡¨ç¤ºåç¨‹çš„æ¯ä¸ªå—å„¿çš„é•¿åº¦éƒ½ç›¸ç­‰ã€‚æ‰€æœ‰çš„åç¨‹è¿è¡Œæ—¶é—´ç›¸åŒï¼ˆçº¦ 10 åˆ° 20 æ¯«ç§’ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/studygolang/gctt-images2/master/20200501-Go-Asynchronous-Preemption/03.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¼‚æ­¥æŠ¢å æ˜¯åŸºäºä¸€ä¸ªæ—¶é—´æ¡ä»¶è§¦å‘çš„ã€‚å½“ä¸€ä¸ªåç¨‹è¿è¡Œè¶…è¿‡ 10ms æ—¶ï¼ŒGo ä¼šå°è¯•æŠ¢å å®ƒã€‚&lt;/p&gt;
&lt;p&gt;æŠ¢å æ˜¯ç”±çº¿ç¨‹ &lt;code&gt;sysmon&lt;/code&gt; åˆå§‹åŒ–çš„ï¼Œè¯¥çº¿ç¨‹ä¸“é—¨ç”¨äºç›‘æ§åŒ…æ‹¬é•¿æ—¶é—´è¿è¡Œçš„åç¨‹åœ¨å†…çš„è¿è¡Œæ—¶ã€‚å½“æŸä¸ªåç¨‹è¢«æ£€æµ‹åˆ°è¿è¡Œè¶…è¿‡ 10ms åï¼Œ&lt;code&gt;sysmon&lt;/code&gt; å‘å½“å‰çš„çº¿ç¨‹å‘å‡ºä¸€ä¸ªæŠ¢å ä¿¡å·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/studygolang/gctt-images2/master/20200501-Go-Asynchronous-Preemption/04.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¹‹åï¼Œå½“ä¿¡æ¯è¢«ä¿¡å·å¤„ç†å™¨æ¥æ”¶åˆ°æ—¶ï¼Œçº¿ç¨‹ä¸­æ–­å½“å‰çš„æ“ä½œæ¥å¤„ç†ä¿¡å·ï¼Œå› æ­¤ä¸ä¼šå†è¿è¡Œå½“å‰çš„åç¨‹ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯ &lt;code&gt;G7&lt;/code&gt;ã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œ&lt;code&gt;gsignal&lt;/code&gt; è¢«è°ƒåº¦ä¸ºç®¡ç†å‘é€æ¥çš„ä¿¡å·ã€‚å½“å®ƒå‘ç°å®ƒæ˜¯ä¸€ä¸ªæŠ¢å æŒ‡ä»¤åï¼Œåœ¨ç¨‹åºå¤„ç†ä¿¡å·åæ¢å¤æ—¶å®ƒå‡†å¤‡å¥½æŒ‡ä»¤æ¥ä¸­æ­¢å½“å‰çš„åç¨‹ã€‚ä¸‹é¢æ˜¯è¿™ç¬¬äºŒä¸ªé˜¶æ®µçš„ç¤ºæ„å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/studygolang/gctt-images2/master/20200501-Go-Asynchronous-Preemption/05.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äº &lt;code&gt;gsignal&lt;/code&gt; çš„ä¿¡æ¯ï¼Œæˆ‘æ¨èä½ è¯»ä¸€ä¸‹æˆ‘çš„æ–‡ç« &lt;a class=&#34;link&#34; href=&#34;https://medium.com/a-journey-with-go/go-gsignal-master-of-signals-329f7ff39391&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;â€Goï¼šgsignalï¼Œä¿¡å·çš„æŒæ§è€…â€œ&lt;/a&gt;ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&#34;å®ç°&#34;&gt;å®ç°&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨è¢«é€‰ä¸­çš„ä¿¡å· &lt;code&gt;SIGURG&lt;/code&gt; ä¸­ç¬¬ä¸€æ¬¡çœ‹åˆ°äº†å®ç°çš„ç»†èŠ‚ã€‚è¿™ä¸ªé€‰æ‹©åœ¨ææ¡ˆ&lt;a class=&#34;link&#34; href=&#34;https://github.com/golang/proposal/blob/master/design/24543-non-cooperative-preemption.md&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;â€ææ¡ˆï¼šéåˆä½œå¼åç¨‹æŠ¢å â€œ&lt;/a&gt;ä¸­æœ‰è¯¦ç»†çš„è§£é‡Šï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;å®ƒåº”è¯¥æ˜¯è°ƒè¯•è€…é»˜è®¤ä¼ é€’è¿‡æ¥çš„ä¸€ä¸ªä¿¡å·ã€‚&lt;/li&gt;
&lt;li&gt;å®ƒä¸åº”è¯¥æ˜¯ Go/C æ··åˆäºŒè¿›åˆ¶ä¸­ libc å†…éƒ¨ä½¿ç”¨çš„ä¿¡å·ã€‚&lt;/li&gt;
&lt;li&gt;å®ƒåº”è¯¥æ˜¯ä¸€ä¸ªå¯ä»¥ä¼ªé€ è€Œæ²¡æœ‰å…¶ä»–åæœçš„ä¿¡å·ã€‚&lt;/li&gt;
&lt;li&gt;æˆ‘ä»¬éœ€è¦åœ¨æ²¡æœ‰å®æ—¶ä¿¡å·æ—¶ä¸å¹³å°æ‰“äº¤é“ã€‚
ç„¶åï¼Œå½“ä¿¡å·è¢«æ³¨å…¥å’Œæ¥æ”¶æ—¶ï¼ŒGo éœ€è¦ä¸€ç§åœ¨ç¨‹åºæ¢å¤æ—¶èƒ½ç»ˆæ­¢å½“å‰åç¨‹çš„æ–¹å¼ã€‚ä¸ºäº†å®ç°è¿™ä¸ªè¿‡ç¨‹ï¼ŒGo ä¼šæŠŠä¸€æ¡æŒ‡ä»¤æ¨è¿›ç¨‹åºè®¡æ•°å™¨ï¼Œè¿™æ ·çœ‹èµ·æ¥è¿è¡Œä¸­çš„ç¨‹åºè°ƒç”¨äº†è¿è¡Œæ—¶çš„å‡½æ•°ã€‚è¯¥å‡½æ•°æš‚åœäº†åç¨‹å¹¶æŠŠå®ƒäº¤ç»™äº†è°ƒåº¦å™¨ï¼Œè°ƒåº¦å™¨ä¹‹åè¿˜ä¼šè¿è¡Œå…¶ä»–çš„åç¨‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;æˆ‘ä»¬åº”è¯¥æ³¨æ„åˆ° Go ä¸èƒ½åšåˆ°åœ¨ä»»ä½•åœ°æ–¹ç»ˆæ­¢ç¨‹åºï¼›å½“å‰çš„æŒ‡ä»¤å¿…é¡»æ˜¯ä¸€ä¸ªå®‰å…¨ç‚¹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœç¨‹åºç°åœ¨æ­£åœ¨è°ƒç”¨è¿è¡Œæ—¶ï¼Œé‚£ä¹ˆæŠ¢å åç¨‹å¹¶ä¸å®‰å…¨ï¼Œå› ä¸ºè¿è¡Œæ—¶å¾ˆå¤šå‡½æ•°ä¸åº”è¯¥è¢«æŠ¢å ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ–°çš„æŠ¢å æœºåˆ¶ä¹Ÿè®©åƒåœ¾å›æ”¶å™¨å—ç›Šï¼Œå¯ä»¥ç”¨æ›´é«˜æ•ˆçš„æ–¹å¼ç»ˆæ­¢æ‰€æœ‰çš„åç¨‹ã€‚è¯šç„¶ï¼ŒSTW ç°åœ¨éå¸¸å®¹æ˜“ï¼ŒGo ä»…éœ€è¦å‘æ‰€æœ‰è¿è¡Œçš„çº¿ç¨‹å‘å‡ºä¸€ä¸ªä¿¡å·å°±å¯ä»¥äº†ã€‚ä¸‹é¢æ˜¯åƒåœ¾å›æ”¶å™¨è¿è¡Œæ—¶çš„ä¸€ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/studygolang/gctt-images2/master/20200501-Go-Asynchronous-Preemption/06.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åï¼Œæ‰€æœ‰çš„çº¿ç¨‹éƒ½æ¥æ”¶åˆ°è¿™ä¸ªä¿¡å·ï¼Œåœ¨åƒåœ¾å›æ”¶å™¨é‡æ–°å¼€å¯å…¨å±€ä¹‹å‰ä¼šæš‚åœæ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äº STW çš„ä¿¡æ¯ï¼Œæˆ‘å»ºè®®ä½ é˜…è¯»æˆ‘çš„æ–‡ç« &lt;a class=&#34;link&#34; href=&#34;https://medium.com/a-journey-with-go/go-how-does-go-stop-the-world-1ffab8bc8846&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;â€Goï¼šGo æ€æ ·å®ç° STWï¼Ÿâ€œ&lt;/a&gt;ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œè¿™ä¸ªç‰¹æ€§è¢«å°è£…åœ¨ä¸€ä¸ªå‚æ•°ä¸­ï¼Œä½ å¯ä»¥ç”¨è¿™ä¸ªå‚æ•°å…³é—­å¼‚æ­¥æŠ¢å ã€‚ä½ å¯ä»¥ç”¨ &lt;code&gt;GODEBUG=asyncpreemptoff=1&lt;/code&gt; æ¥è¿è¡Œä½ çš„ç¨‹åºï¼Œå¦‚æœä½ å› ä¸ºå‡çº§åˆ°äº† Go 1.14 å‘ç°äº†ä¸æ­£å¸¸çš„ç°è±¡å°±å¯ä»¥è°ƒè¯•ä½ çš„ç¨‹åºï¼Œæˆ–è€…è§‚å¯Ÿä½ çš„ç¨‹åºæœ‰æ— å¼‚æ­¥æŠ¢å æ—¶çš„ä¸åŒè¡¨ç°ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://medium.com/a-journey-with-go/go-asynchronous-preemption-b5194227371c&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://medium.com/a-journey-with-go/go-asynchronous-preemption-b5194227371c&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://medium.com/@blanchon.vincent&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Vincent Blanchon&lt;/a&gt;
è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Xiaobin.Liu&lt;/a&gt;
æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/polaris1119&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;polaris1119&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/studygolang/GCTT&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://studygolang.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go ä¸­æ–‡ç½‘&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘Inlining Optimisations in Go</title>
        <link>https://lxb.wiki/6ce34c49/</link>
        <pubDate>Wed, 29 Apr 2020 21:05:10 +0000</pubDate>
        
        <guid>https://lxb.wiki/6ce34c49/</guid>
        <description>&lt;h1 id=&#34;go-ä¸­çš„å†…è”ä¼˜åŒ–&#34;&gt;Go ä¸­çš„å†…è”ä¼˜åŒ–&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡è®¨è®º Go ç¼–è¯‘å™¨æ˜¯å¦‚ä½•å®ç°å†…è”çš„ï¼Œä»¥åŠè¿™ç§ä¼˜åŒ–æ–¹æ³•å¦‚ä½•å½±å“ä½ çš„ Go ä»£ç ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;*è¯·æ³¨æ„ï¼š*æœ¬æ–‡é‡ç‚¹è®¨è®º &lt;em&gt;gc&lt;/em&gt;ï¼Œè¿™æ˜¯æ¥è‡ª &lt;a class=&#34;link&#34; href=&#34;https://github.com/golang/go&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;golang.org&lt;/a&gt; çš„äº‹å®æ ‡å‡†çš„ Go ç¼–è¯‘å™¨ã€‚è®¨è®ºåˆ°çš„æ¦‚å¿µå¯ä»¥å¹¿æ³›é€‚ç”¨äºå…¶å®ƒ Go ç¼–è¯‘å™¨ï¼Œå¦‚ gccgo å’Œ llgoï¼Œä½†å®ƒä»¬åœ¨å®ç°æ–¹å¼å’ŒåŠŸæ•ˆä¸Šå¯èƒ½æœ‰æ‰€å·®å¼‚ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å†…è”æ˜¯ä»€ä¹ˆ&#34;&gt;å†…è”æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h3&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;å†…è”&lt;!-- raw HTML omitted --&gt;inlining&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;å°±æ˜¯æŠŠç®€çŸ­çš„å‡½æ•°åœ¨è°ƒç”¨å®ƒçš„åœ°æ–¹å±•å¼€ã€‚åœ¨è®¡ç®—æœºå‘å±•å†ç¨‹çš„æ—©æœŸï¼Œè¿™ä¸ªä¼˜åŒ–æ˜¯ç”±ç¨‹åºå‘˜æ‰‹åŠ¨å®ç°çš„ã€‚ç°åœ¨ï¼Œå†…è”å·²ç»æˆä¸ºç¼–è¯‘è¿‡ç¨‹ä¸­è‡ªåŠ¨å®ç°çš„åŸºæœ¬ä¼˜åŒ–è¿‡ç¨‹çš„å…¶ä¸­ä¸€æ­¥ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸ºä»€ä¹ˆå†…è”å¾ˆé‡è¦&#34;&gt;ä¸ºä»€ä¹ˆå†…è”å¾ˆé‡è¦ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;æœ‰ä¸¤ä¸ªåŸå› ã€‚ç¬¬ä¸€ä¸ªæ˜¯å®ƒæ¶ˆé™¤äº†å‡½æ•°è°ƒç”¨æœ¬èº«çš„å¼€é”€ã€‚ç¬¬äºŒä¸ªæ˜¯å®ƒä½¿å¾—ç¼–è¯‘å™¨èƒ½æ›´é«˜æ•ˆåœ°æ‰§è¡Œå…¶ä»–çš„ä¼˜åŒ–ç­–ç•¥ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å‡½æ•°è°ƒç”¨çš„å¼€é”€&#34;&gt;å‡½æ•°è°ƒç”¨çš„å¼€é”€&lt;/h4&gt;
&lt;p&gt;åœ¨ä»»ä½•è¯­è¨€ä¸­ï¼Œè°ƒç”¨ä¸€ä¸ªå‡½æ•° &lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; éƒ½ä¼šæœ‰æ¶ˆè€—ã€‚æŠŠå‚æ•°ç¼–ç»„è¿›å¯„å­˜å™¨æˆ–æ”¾å…¥æ ˆä¸­ï¼ˆå–å†³äº ABIï¼‰ï¼Œåœ¨è¿”å›ç»“æœæ—¶çš„é€†åè¿‡ç¨‹éƒ½ä¼šæœ‰å¼€é”€ã€‚å¼•å…¥ä¸€æ¬¡å‡½æ•°è°ƒç”¨ä¼šå¯¼è‡´ç¨‹åºè®¡æ•°å™¨ä»æŒ‡ä»¤æµçš„ä¸€ç‚¹è·³åˆ°å¦ä¸€ç‚¹ï¼Œè¿™å¯èƒ½å¯¼è‡´ç®¡é“æ»åã€‚å‡½æ•°å†…éƒ¨é€šå¸¸æœ‰&lt;!-- raw HTML omitted --&gt;å‰ç½®å¤„ç†&lt;!-- raw HTML omitted --&gt;preamble&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼Œéœ€è¦ä¸ºå‡½æ•°æ‰§è¡Œå‡†å¤‡æ–°çš„æ ˆå¸§ï¼Œè¿˜æœ‰ä¸å‰ç½®ç›¸ä¼¼çš„&lt;!-- raw HTML omitted --&gt;åç»­å¤„ç†&lt;!-- raw HTML omitted --&gt;epilogue&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼Œéœ€è¦åœ¨è¿”å›ç»™è°ƒç”¨æ–¹ä¹‹å‰é‡Šæ”¾æ ˆå¸§ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ Go ä¸­å‡½æ•°è°ƒç”¨ä¼šæ¶ˆè€—é¢å¤–çš„èµ„æºæ¥æ”¯æŒæ ˆçš„åŠ¨æ€å¢é•¿ã€‚åœ¨è¿›å…¥å‡½æ•°æ—¶ï¼Œgoroutine å¯ç”¨çš„æ ˆç©ºé—´ä¸å‡½æ•°éœ€è¦çš„ç©ºé—´å¤§å°è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœå¯ç”¨ç©ºé—´ä¸åŒï¼Œå‰ç½®å¤„ç†å°±ä¼šè·³åˆ°&lt;!-- raw HTML omitted --&gt;è¿è¡Œæ—¶&lt;!-- raw HTML omitted --&gt;runtime&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;çš„é€»è¾‘ä¸­ï¼Œé€šè¿‡æŠŠæ•°æ®å¤åˆ¶åˆ°ä¸€å—æ–°çš„ã€æ›´å¤§çš„ç©ºé—´çš„æ¥å¢é•¿æ ˆç©ºé—´ã€‚å½“è¿™ä¸ªå¤åˆ¶å®Œæˆåï¼Œè¿è¡Œæ—¶å°±ä¼šè·³å›åˆ°åŸæ¥çš„å‡½æ•°å…¥å£ï¼Œå†æ‰§è¡Œæ ˆç©ºé—´æ£€æŸ¥ï¼Œç°åœ¨é€šè¿‡äº†æ£€æŸ¥ï¼Œå‡½æ•°è°ƒç”¨ç»§ç»­æ‰§è¡Œã€‚è¿™ç§æ–¹å¼ä¸‹ï¼Œgoroutine å¼€å§‹æ—¶å¯ä»¥ç”³è¯·å¾ˆå°çš„æ ˆç©ºé—´ï¼Œåœ¨æœ‰éœ€è¦æ—¶å†ç”³è¯·æ›´å¤§çš„ç©ºé—´ã€‚&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ£€æŸ¥æ¶ˆè€—å¾ˆå°ï¼Œåªæœ‰å‡ ä¸ªæŒ‡ä»¤ï¼Œè€Œä¸”ç”±äº goroutine çš„æ ˆæ˜¯æˆå‡ ä½•çº§æ•°å¢é•¿çš„ï¼Œå› æ­¤è¿™ä¸ªæ£€æŸ¥å¾ˆå°‘å¤±è´¥ã€‚è¿™æ ·ï¼Œç°ä»£å¤„ç†å™¨çš„åˆ†æ”¯é¢„æµ‹å•å…ƒå¯ä»¥é€šè¿‡å‡å®šæ£€æŸ¥è‚¯å®šä¼šæˆåŠŸæ¥éšè—æ ˆç©ºé—´æ£€æŸ¥çš„æ¶ˆè€—ã€‚å½“å¤„ç†å™¨é¢„æµ‹é”™äº†æ ˆç©ºé—´æ£€æŸ¥ï¼Œä¸å¾—ä¸æ”¾å¼ƒå®ƒåœ¨æ¨æµ‹æ€§æ‰§è¡Œæ‰€åšçš„æ“ä½œæ—¶ï¼Œä¸ä¸ºäº†å¢åŠ  goroutine çš„æ ˆç©ºé—´è¿è¡Œæ—¶æ‰€éœ€çš„æ“ä½œæ¶ˆè€—çš„èµ„æºç›¸æ¯”ï¼Œç®¡é“æ»åçš„ä»£ä»·æ›´å°ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶ç°ä»£å¤„ç†å™¨å¯ä»¥ç”¨é¢„æµ‹æ€§æ‰§è¡ŒæŠ€æœ¯ä¼˜åŒ–æ¯æ¬¡å‡½æ•°è°ƒç”¨ä¸­çš„æ³›å‹å’Œ Go ç‰¹å®šçš„å…ƒç´ çš„å¼€é”€ï¼Œä½†é‚£äº›å¼€é”€ä¸èƒ½è¢«å®Œå…¨æ¶ˆé™¤ï¼Œå› æ­¤åœ¨æ¯æ¬¡å‡½æ•°è°ƒç”¨æ‰§è¡Œå¿…è¦çš„å·¥ä½œè¿‡ç¨‹ä¸­éƒ½ä¼šæœ‰æ€§èƒ½æ¶ˆè€—ã€‚ä¸€æ¬¡å‡½æ•°è°ƒç”¨æœ¬èº«çš„å¼€é”€æ˜¯å›ºå®šçš„ï¼Œä¸æ›´å¤§çš„å‡½æ•°ç›¸æ¯”ï¼Œè°ƒç”¨å°å‡½æ•°çš„ä»£ä»·æ›´å¤§ï¼Œå› ä¸ºåœ¨æ¯æ¬¡è°ƒç”¨è¿‡ç¨‹ä¸­å®ƒä»¬åšçš„æœ‰ç”¨çš„å·¥ä½œæ›´å°‘ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œæ¶ˆé™¤è¿™äº›å¼€é”€çš„æ–¹æ³•å¿…é¡»æ˜¯è¦æ¶ˆé™¤å‡½æ•°è°ƒç”¨æœ¬èº«ï¼ŒGo çš„ç¼–è¯‘å™¨å°±æ˜¯è¿™ä¹ˆåšçš„ï¼Œåœ¨æŸäº›æ¡ä»¶ä¸‹é€šè¿‡ç”¨å‡½æ•°çš„å†…å®¹æ¥æ›¿æ¢å‡½æ•°è°ƒç”¨æ¥å®ç°ã€‚è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸º&lt;em&gt;å†…è”&lt;/em&gt;ï¼Œå› ä¸ºå®ƒåœ¨å‡½æ•°è°ƒç”¨å¤„æŠŠå‡½æ•°ä½“å±•å¼€äº†ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ”¹è¿›çš„ä¼˜åŒ–æœºä¼š&#34;&gt;æ”¹è¿›çš„ä¼˜åŒ–æœºä¼š&lt;/h4&gt;
&lt;p&gt;Cliff Click åšå£«æŠŠå†…è”æè¿°ä¸ºç°ä»£ç¼–è¯‘å™¨åšçš„ä¼˜åŒ–æªæ–½ï¼Œåƒå¸¸é‡ä¼ æ’­ï¼ˆLCTT è¯‘æ³¨ï¼šæ­¤å¤„ä½œè€…ç¬”è¯¯ï¼ŒåŸæ–‡ä¸º constant proportionï¼Œä¿®æ­£ä¸º constant propagationï¼‰å’Œæ­»ä»£ç æ¶ˆé™¤ä¸€æ ·ï¼Œéƒ½æ˜¯ç¼–è¯‘å™¨çš„åŸºæœ¬ä¼˜åŒ–æ–¹æ³•ã€‚å®é™…ä¸Šï¼Œå†…è”å¯ä»¥è®©ç¼–è¯‘å™¨çœ‹å¾—æ›´æ·±ï¼Œä½¿ç¼–è¯‘å™¨å¯ä»¥è§‚å¯Ÿè°ƒç”¨çš„ç‰¹å®šå‡½æ•°çš„ä¸Šä¸‹æ–‡å†…å®¹ï¼Œå¯ä»¥çœ‹åˆ°èƒ½ç»§ç»­ç®€åŒ–æˆ–å½»åº•æ¶ˆé™¤çš„é€»è¾‘ã€‚ç”±äºå¯ä»¥é€’å½’åœ°æ‰§è¡Œå†…è”ï¼Œå› æ­¤ä¸ä»…å¯ä»¥åœ¨æ¯ä¸ªç‹¬ç«‹çš„å‡½æ•°ä¸Šä¸‹æ–‡å¤„è¿›è¡Œè¿™ç§ä¼˜åŒ–å†³ç­–ï¼Œä¹Ÿå¯ä»¥åœ¨æ•´ä¸ªå‡½æ•°è°ƒç”¨é“¾ä¸­è¿›è¡Œã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®è·µä¸­çš„å†…è”&#34;&gt;å®è·µä¸­çš„å†…è”&lt;/h3&gt;
&lt;p&gt;ä¸‹é¢è¿™ä¸ªä¾‹å­å¯ä»¥æ¼”ç¤ºå†…è”çš„å½±å“ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;package&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;testing&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//go:noinline
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;max&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt; &amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Result&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;BenchmarkMax&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;testing&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &amp;lt; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;N&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;max&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Result&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿è¡Œè¿™ä¸ªåŸºå‡†ï¼Œä¼šå¾—åˆ°å¦‚ä¸‹ç»“æœï¼š&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;% go test -bench&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;. 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;BenchmarkMax-4   &lt;span style=&#34;color:#ae81ff&#34;&gt;530687617&lt;/span&gt;         2.24 ns/op
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨æˆ‘çš„ 2015 MacBook Air ä¸Š &lt;code&gt;max(-1, i)&lt;/code&gt; çš„è€—æ—¶çº¦ä¸º 2.24 çº³ç§’ã€‚ç°åœ¨å»æ‰ &lt;code&gt;//go:noinline&lt;/code&gt; ç¼–è¯‘æŒ‡ä»¤ï¼Œå†çœ‹ä¸‹ç»“æœï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;% go test -bench&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;. 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;BenchmarkMax-4   &lt;span style=&#34;color:#ae81ff&#34;&gt;1000000000&lt;/span&gt;         0.514 ns/op
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä» 2.24 çº³ç§’é™åˆ°äº† 0.51 çº³ç§’ï¼Œæˆ–è€…ä» &lt;code&gt;benchstat&lt;/code&gt; çš„ç»“æœå¯ä»¥çœ‹å‡ºï¼Œæœ‰ 78% çš„æå‡ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;% benchstat &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;old,new&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;.txt
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;name   old time/op  new time/op  delta
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Max-4  2.21ns Â± 1%  0.49ns Â± 6%  -77.96%  &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;p&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;0.000 n&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;18+19&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ªæå‡æ˜¯ä»å“ªå„¿æ¥çš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œç§»é™¤æ‰å‡½æ•°è°ƒç”¨ä»¥åŠä¸ä¹‹å…³è”çš„å‰ç½®å¤„ç† &lt;sup id=&#34;fnref:4&#34;&gt;&lt;a href=&#34;#fn:4&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;4&lt;/a&gt;&lt;/sup&gt; æ˜¯ä¸»è¦å› ç´ ã€‚æŠŠ &lt;code&gt;max&lt;/code&gt; å‡½æ•°çš„å‡½æ•°ä½“åœ¨è°ƒç”¨å¤„å±•å¼€ï¼Œå‡å°‘äº†å¤„ç†å™¨æ‰§è¡Œçš„æŒ‡ä»¤æ•°é‡å¹¶ä¸”æ¶ˆé™¤äº†ä¸€äº›åˆ†æ”¯ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨ç”±äºç¼–è¯‘å™¨ä¼˜åŒ–äº† &lt;code&gt;BenchmarkMax&lt;/code&gt;ï¼Œå› æ­¤å®ƒå¯ä»¥çœ‹åˆ° &lt;code&gt;max&lt;/code&gt; å‡½æ•°çš„å†…å®¹ï¼Œè¿›è€Œå¯ä»¥åšæ›´å¤šçš„æå‡ã€‚å½“ &lt;code&gt;max&lt;/code&gt; è¢«å†…è”åï¼Œ&lt;code&gt;BenchmarkMax&lt;/code&gt; å‘ˆç°ç»™ç¼–è¯‘å™¨çš„æ ·å­ï¼Œçœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;BenchmarkMax&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;testing&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &amp;lt; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;N&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt; = &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Result&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å†è¿è¡Œä¸€æ¬¡åŸºå‡†ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹æ‰‹åŠ¨å†…è”çš„ç‰ˆæœ¬å’Œç¼–è¯‘å™¨å†…è”çš„ç‰ˆæœ¬çš„è¡¨ç°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;% benchstat &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;old,new&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;.txt
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;name   old time/op  new time/op  delta
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Max-4  2.21ns Â± 1%  0.48ns Â± 3%  -78.14%  &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;p&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;0.000 n&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;18+18&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç°åœ¨ç¼–è¯‘å™¨èƒ½çœ‹åˆ°åœ¨ &lt;code&gt;BenchmarkMax&lt;/code&gt; é‡Œå†…è” &lt;code&gt;max&lt;/code&gt; çš„ç»“æœï¼Œå¯ä»¥æ‰§è¡Œä»¥å‰ä¸èƒ½æ‰§è¡Œçš„ä¼˜åŒ–æªæ–½ã€‚ä¾‹å¦‚ï¼Œç¼–è¯‘å™¨æ³¨æ„åˆ° &lt;code&gt;i&lt;/code&gt; åˆå§‹å€¼ä¸º &lt;code&gt;0&lt;/code&gt;ï¼Œä»…åšè‡ªå¢æ“ä½œï¼Œå› æ­¤æ‰€æœ‰ä¸ &lt;code&gt;i&lt;/code&gt; çš„æ¯”è¾ƒéƒ½å¯ä»¥å‡å®š &lt;code&gt;i&lt;/code&gt; ä¸æ˜¯è´Ÿå€¼ã€‚è¿™æ ·æ¡ä»¶è¡¨è¾¾å¼ &lt;code&gt;-1 &amp;gt; i&lt;/code&gt; æ°¸è¿œä¸æ˜¯ &lt;code&gt;true&lt;/code&gt;ã€‚&lt;sup id=&#34;fnref:5&#34;&gt;&lt;a href=&#34;#fn:5&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;5&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;è¯æ˜äº† &lt;code&gt;-1 &amp;gt; i&lt;/code&gt; æ°¸è¿œä¸ä¸º true åï¼Œç¼–è¯‘å™¨å¯ä»¥æŠŠä»£ç ç®€åŒ–ä¸ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;BenchmarkMax&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;testing&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &amp;lt; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;N&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt; = &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Result&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¹¶ä¸”å› ä¸ºåˆ†æ”¯é‡Œæ˜¯ä¸ªå¸¸é‡ï¼Œç¼–è¯‘å™¨å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼ç§»é™¤ä¸ä¼šèµ°åˆ°çš„åˆ†æ”¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;BenchmarkMax&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;testing&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &amp;lt; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;N&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Result&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·ï¼Œé€šè¿‡å†…è”å’Œç”±å†…è”è§£é”çš„ä¼˜åŒ–è¿‡ç¨‹ï¼Œç¼–è¯‘å™¨æŠŠè¡¨è¾¾å¼ &lt;code&gt;r = max(-1, i))&lt;/code&gt; ç®€åŒ–ä¸º &lt;code&gt;r = i&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å†…è”çš„é™åˆ¶&#34;&gt;å†…è”çš„é™åˆ¶&lt;/h3&gt;
&lt;p&gt;æœ¬æ–‡ä¸­æˆ‘è®ºè¿°çš„å†…è”ç§°ä½œ&lt;!-- raw HTML omitted --&gt;å¶å­å†…è”&lt;!-- raw HTML omitted --&gt;leaf inlining&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;ï¼šæŠŠå‡½æ•°è°ƒç”¨æ ˆä¸­æœ€åº•å±‚çš„å‡½æ•°åœ¨è°ƒç”¨å®ƒçš„å‡½æ•°å¤„å±•å¼€çš„è¡Œä¸ºã€‚å†…è”æ˜¯ä¸ªé€’å½’çš„è¿‡ç¨‹ï¼Œå½“æŠŠå‡½æ•°å†…è”åˆ°è°ƒç”¨å®ƒçš„å‡½æ•° A å¤„åï¼Œç¼–è¯‘å™¨ä¼šæŠŠå†…è”åçš„ç»“æœä»£ç å†å†…è”åˆ° A çš„è°ƒç”¨æ–¹ï¼Œè¿™æ ·æŒç»­å†…è”ä¸‹å»ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„ä»£ç ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;BenchmarkMaxMaxMax&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;testing&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &amp;lt; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;N&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;max&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;max&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;), &lt;span style=&#34;color:#a6e22e&#34;&gt;max&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Result&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸ä¹‹å‰çš„ä¾‹å­ä¸­çš„ä»£ç è¿è¡Œé€Ÿåº¦ä¸€æ ·å¿«ï¼Œå› ä¸ºç¼–è¯‘å™¨å¯ä»¥å¯¹ä¸Šé¢çš„ä»£ç é‡å¤åœ°è¿›è¡Œå†…è”ï¼Œä¹ŸæŠŠä»£ç ç®€åŒ–åˆ° &lt;code&gt;r = i&lt;/code&gt; è¡¨è¾¾å¼ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä¼šè®ºè¿°å½“ Go ç¼–è¯‘å™¨æƒ³è¦å†…è”å‡½æ•°è°ƒç”¨æ ˆä¸­é—´çš„æŸä¸ªå‡½æ•°æ—¶é€‰ç”¨çš„å¦ä¸€ç§å†…è”ç­–ç•¥ã€‚æœ€åæˆ‘ä¼šè®ºè¿°ç¼–è¯‘å™¨ä¸ºäº†å†…è”ä»£ç å‡†å¤‡å¥½è¦è¾¾åˆ°çš„æé™ï¼Œè¿™ä¸ªæé™ Go ç°åœ¨çš„èƒ½åŠ›è¿˜è¾¾ä¸åˆ°ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç›¸å…³æ–‡ç« &#34;&gt;ç›¸å…³æ–‡ç« ï¼š&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://dave.cheney.net/2014/06/07/five-things-that-make-go-fast&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ä½¿ Go å˜å¿«çš„ 5 ä»¶äº‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://dave.cheney.net/2013/06/02/why-is-a-goroutines-stack-infinite&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ä¸ºä»€ä¹ˆ Goroutine çš„æ ˆç©ºé—´ä¼šæ— é™å¢é•¿ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://dave.cheney.net/2013/06/30/how-to-write-benchmarks-in-go&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go ä¸­æ€ä¹ˆå†™åŸºå‡†æµ‹è¯•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://dave.cheney.net/2018/01/08/gos-hidden-pragmas&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go ä¸­éšè—çš„ç¼–è¯‘æŒ‡ä»¤&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://dave.cheney.net/2020/04/25/inlining-optimisations-in-go&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://dave.cheney.net/2020/04/25/inlining-optimisations-in-go&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://dave.cheney.net/author/davecheney&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Dave Cheney&lt;/a&gt;
é€‰é¢˜ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lujun9972&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;lujun9972&lt;/a&gt;
è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Xiaobin.Liu&lt;/a&gt;
æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/wxy&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;wxy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/LCTT/TranslateProject&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;LCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://linux.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Linuxä¸­å›½&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
&lt;p&gt;[3]: tmp.gBQ2tEtMHc#easy-footnote-bottom-2-4053 &amp;ldquo;Up until Go 1.14 the stack check preamble was also used by the garbage collector to stop the world by setting all active goroutineâ€™s stacks to zero, forcing them to trap into the runtime the next time they made a function call. This system was &lt;!-- raw HTML omitted --&gt;recently replaced&lt;!-- raw HTML omitted --&gt; with a mechanism which allowed the runtime to pause an goroutine without waiting for it to make a function call.&amp;rdquo;
[4]: tmp.gBQ2tEtMHc#easy-footnote-bottom-3-4053 &amp;ldquo;Iâ€™m using the &lt;!-- raw HTML omitted --&gt;//go:noinline&lt;!-- raw HTML omitted --&gt; pragma to prevent the compiler from inlining &lt;!-- raw HTML omitted --&gt;max&lt;!-- raw HTML omitted --&gt;. This is because I want to isolate the effects of inlining on &lt;!-- raw HTML omitted --&gt;max&lt;!-- raw HTML omitted --&gt; rather than disabling optimisations globally with &lt;!-- raw HTML omitted --&gt;-gcflags=&amp;rsquo;-l -N&amp;rsquo;&lt;!-- raw HTML omitted --&gt;. I go into detail about the &lt;!-- raw HTML omitted --&gt;//go:&lt;!-- raw HTML omitted --&gt; comments in &lt;!-- raw HTML omitted --&gt;this presentation&lt;!-- raw HTML omitted --&gt;.&amp;rdquo;
[5]: tmp.gBQ2tEtMHc#easy-footnote-bottom-4-4053 &amp;ldquo;You can check this for yourself by comparing the output of &lt;!-- raw HTML omitted --&gt;go test -bench=. -gcflags=-S&lt;!-- raw HTML omitted --&gt; with and without the &lt;!-- raw HTML omitted --&gt;//go:noinline&lt;!-- raw HTML omitted --&gt; annotation.&amp;rdquo;
[6]: tmp.gBQ2tEtMHc#easy-footnote-bottom-5-4053 &amp;ldquo;You can check this yourself with the &lt;!-- raw HTML omitted --&gt;-gcflags=-d=ssa/prove/debug=on&lt;!-- raw HTML omitted --&gt; flag.&amp;rdquo;
[7]: tmp.gBQ2tEtMHc#easy-footnote-1-4053
[8]: &lt;a class=&#34;link&#34; href=&#34;https://github.com/golang/proposal/blob/master/design/24543-non-cooperative-preemption.md&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/golang/proposal/blob/master/design/24543-non-cooperative-preemption.md&lt;/a&gt;
[9]: tmp.gBQ2tEtMHc#easy-footnote-2-4053
[10]: &lt;a class=&#34;link&#34; href=&#34;https://dave.cheney.net/2018/01/08/gos-hidden-pragmas&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://dave.cheney.net/2018/01/08/gos-hidden-pragmas&lt;/a&gt;
[11]: tmp.gBQ2tEtMHc#easy-footnote-3-4053
[12]: tmp.gBQ2tEtMHc#easy-footnote-4-4053
[13]: tmp.gBQ2tEtMHc#easy-footnote-5-4053
[14]: &lt;a class=&#34;link&#34; href=&#34;https://dave.cheney.net/2014/06/07/five-things-that-make-go-fast&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://dave.cheney.net/2014/06/07/five-things-that-make-go-fast&lt;/a&gt; &amp;ldquo;Five things that make Go fast&amp;rdquo;
[15]: &lt;a class=&#34;link&#34; href=&#34;https://dave.cheney.net/2013/06/02/why-is-a-goroutines-stack-infinite&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://dave.cheney.net/2013/06/02/why-is-a-goroutines-stack-infinite&lt;/a&gt; &amp;ldquo;Why is a Goroutineâ€™s stack infinite ?&amp;rdquo;
[16]: &lt;a class=&#34;link&#34; href=&#34;https://dave.cheney.net/2013/06/30/how-to-write-benchmarks-in-go&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://dave.cheney.net/2013/06/30/how-to-write-benchmarks-in-go&lt;/a&gt; &amp;ldquo;How to write benchmarks in Go&amp;rdquo;
[17]: &lt;a class=&#34;link&#34; href=&#34;https://dave.cheney.net/2018/01/08/gos-hidden-pragmas&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://dave.cheney.net/2018/01/08/gos-hidden-pragmas&lt;/a&gt; &amp;ldquo;Goâ€™s hidden #pragmas&amp;rdquo;&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;åœ¨ Go ä¸­ï¼Œä¸€ä¸ªæ–¹æ³•å°±æ˜¯ä¸€ä¸ªæœ‰é¢„å…ˆå®šä¹‰çš„å½¢å‚å’Œæ¥å—è€…çš„å‡½æ•°ã€‚å‡è®¾è¿™ä¸ªæ–¹æ³•ä¸æ˜¯é€šè¿‡æ¥å£è°ƒç”¨çš„ï¼Œè°ƒç”¨ä¸€ä¸ªæ— æ¶ˆè€—çš„å‡½æ•°æ‰€æ¶ˆè€—çš„ä»£ä»·ä¸å¼•å…¥ä¸€ä¸ªæ–¹æ³•æ˜¯ç›¸åŒçš„ã€‚&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;åœ¨ Go 1.14 ä»¥å‰ï¼Œæ ˆæ£€æŸ¥çš„å‰ç½®å¤„ç†ä¹Ÿè¢«åƒåœ¾å›æ”¶å™¨ç”¨äº STWï¼Œé€šè¿‡æŠŠæ‰€æœ‰æ´»è·ƒçš„ goroutine æ ˆç©ºé—´è®¾ä¸º 0ï¼Œæ¥å¼ºåˆ¶å®ƒä»¬åˆ‡æ¢ä¸ºä¸‹ä¸€æ¬¡å‡½æ•°è°ƒç”¨æ—¶çš„è¿è¡Œæ—¶çŠ¶æ€ã€‚è¿™ä¸ªæœºåˆ¶[æœ€è¿‘è¢«æ›¿æ¢][8]ä¸ºä¸€ç§æ–°æœºåˆ¶ï¼Œæ–°æœºåˆ¶ä¸‹è¿è¡Œæ—¶å¯ä»¥ä¸ç”¨ç­‰ goroutine è¿›è¡Œå‡½æ•°è°ƒç”¨å°±å¯ä»¥æš‚åœ goroutineã€‚&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34;&gt;
&lt;p&gt;æˆ‘ç”¨ &lt;code&gt;//go:noinline&lt;/code&gt; ç¼–è¯‘æŒ‡ä»¤æ¥é˜»æ­¢ç¼–è¯‘å™¨å†…è” &lt;code&gt;max&lt;/code&gt;ã€‚è¿™æ˜¯å› ä¸ºæˆ‘æƒ³æŠŠå†…è” &lt;code&gt;max&lt;/code&gt; çš„å½±å“ä¸å…¶ä»–å½±å“éš”ç¦»å¼€ï¼Œè€Œä¸æ˜¯ç”¨ &lt;code&gt;-gcflags=&#39;-l -N&#39;&lt;/code&gt; é€‰é¡¹åœ¨å…¨å±€èŒƒå›´å†…ç¦æ­¢ä¼˜åŒ–ã€‚å…³äº &lt;code&gt;//go:&lt;/code&gt; æ³¨é‡Šåœ¨[è¿™ç¯‡æ–‡ç« ][10]ä¸­è¯¦ç»†è®ºè¿°ã€‚&amp;#160;&lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:4&#34;&gt;
&lt;p&gt;ä½ å¯ä»¥è‡ªå·±é€šè¿‡æ¯”è¾ƒ &lt;code&gt;go test -bench=. -gcflags=-S&lt;/code&gt; æœ‰æ—  &lt;code&gt;//go:noinline&lt;/code&gt; æ³¨é‡Šæ—¶çš„ä¸åŒç»“æœæ¥éªŒè¯ä¸€ä¸‹ã€‚&amp;#160;&lt;a href=&#34;#fnref:4&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:5&#34;&gt;
&lt;p&gt;ä½ å¯ä»¥ç”¨ &lt;code&gt;-gcflags=-d=ssa/prove/debug=on&lt;/code&gt; é€‰é¡¹æ¥è‡ªå·±éªŒè¯ä¸€ä¸‹ã€‚&amp;#160;&lt;a href=&#34;#fnref:5&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        <item>
        <title>æ ‘è“æ´¾åšBTä¸‹è½½å™¨</title>
        <link>https://lxb.wiki/fb1d9193/</link>
        <pubDate>Wed, 11 Mar 2020 22:29:00 +0000</pubDate>
        
        <guid>https://lxb.wiki/fb1d9193/</guid>
        <description>&lt;p&gt;å¯ä»¥ç”¨ &lt;a class=&#34;link&#34; href=&#34;https://www.transmissionbt.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;transmission&lt;/a&gt;ï¼Œå®ƒæä¾›äº† Web ç•Œé¢&lt;/p&gt;
&lt;h4 id=&#34;1-å®‰è£…-transmission&#34;&gt;1. å®‰è£… transmissionï¼š&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo apt-get install transmission-daemon
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;2-åˆ›å»ºä¸‹è½½ç›®å½•ä¸€ä¸ªæ˜¯ä¸‹è½½å®Œæˆçš„ç›®å½•ä¸€ä¸ªæ˜¯æœªå®Œæˆçš„ç›®å½•&#34;&gt;2. åˆ›å»ºä¸‹è½½ç›®å½•ï¼Œä¸€ä¸ªæ˜¯ä¸‹è½½å®Œæˆçš„ç›®å½•ï¼Œä¸€ä¸ªæ˜¯æœªå®Œæˆçš„ç›®å½•&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkdir Public/bt_complete
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkdir Public/bt_incomplete
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;3-é…ç½®ç›®å½•æƒé™&#34;&gt;3. é…ç½®ç›®å½•æƒé™&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo usermod -a -G debian-transmission pi
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo chgrp debian-transmission bt_complete
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo chgrp debian-transmission bt_incomplete
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo chmod &lt;span style=&#34;color:#ae81ff&#34;&gt;770&lt;/span&gt; bt_complete
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo chmod &lt;span style=&#34;color:#ae81ff&#34;&gt;770&lt;/span&gt; bt_incomplete
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;4-ä¿®æ”¹é…ç½®æ–‡ä»¶-etctransmission-daemonsettingsjson&#34;&gt;4. ä¿®æ”¹é…ç½®æ–‡ä»¶ /etc/transmission-daemon/settings.json&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;#34;download-dir&amp;#34;:&amp;#34;/home/pi/Public/bt_complete&amp;#34;
&amp;#34;incomplete-dir&amp;#34;:&amp;#34;/home/pi/Public/bt_incomplete&amp;#34;
&amp;#34;rpc-host-whitelist&amp;#34;: &amp;#34;192.168.1.*&amp;#34;,
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;5-é‡å¯-transmission&#34;&gt;5. é‡å¯ transmission&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo service transmission-daemon reload
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo service transmission-daemon restart
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸¤ä¸ªå‘½ä»¤æŒ‰é¡ºåºæ‰§è¡Œï¼Œå•ç‹¬ restart çš„è¯é…ç½®ä¸ä¼šä¿å­˜ï¼š&lt;/p&gt;
&lt;p&gt;æµè§ˆå™¨ä¸­è¾“å…¥ &lt;code&gt;http://192.168.1.8:9091/&lt;/code&gt;ï¼Œé»˜è®¤ç”¨æˆ·åå¯†ç ï¼š&lt;code&gt;transmission&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¿®æ”¹ transmission ç”¨æˆ·åå’Œå¯†ç çš„æ–¹æ³•ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆåœæ­¢æœåŠ¡ï¼š &lt;code&gt;sudo service transmission-daemon stop&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œçœ‹åˆ°è¿™ä¸ªæ˜¯åŠ å¯†çš„å¯†ç ï¼Œç›´æ¥æŠŠå¯†ç æ”¹ä¸ºå¯†ç æ˜æ–‡å°±å¯ä»¥ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â€œrpc-usernameâ€: â€œæ˜æ–‡â€,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â€œrpc-passwordâ€: â€œå¯†æ–‡â€,
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;å†æ­¤å¯åŠ¨æœåŠ¡ ï¼š&lt;code&gt;sudo service transmission-daemon start&lt;/code&gt;
å¯åŠ¨çš„æ—¶å€™ transmission ä¼šè‡ªåŠ¨æŠŠæ–°å¯†ç åŠ å¯†ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;transmission é»˜è®¤ç›‘å¬ 51413 ç«¯å£ï¼Œæœ€å¥½åœ¨è·¯ç”±å™¨ä¸Šåšä¸ªç«¯å£è½¬å‘ï¼ŒæŠŠè¿™ä¸ªç«¯å£è½¬åˆ°å®ƒçš„ IP åœ°å€&lt;/strong&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>æ ‘è“æ´¾æ­å»ºGitHubé•œåƒæœåŠ¡</title>
        <link>https://lxb.wiki/2073ae8b/</link>
        <pubDate>Tue, 10 Mar 2020 19:03:42 +0000</pubDate>
        
        <guid>https://lxb.wiki/2073ae8b/</guid>
        <description>&lt;h3 id=&#34;1--æ ‘è“æ´¾ä¸Šåˆ›å»º-git-è´¦å·åˆ›å»ºç”¨äºå­˜æ”¾ä»£ç çš„ç›®å½•&#34;&gt;1.  æ ‘è“æ´¾ä¸Šåˆ›å»º git è´¦å·ï¼Œåˆ›å»ºç”¨äºå­˜æ”¾ä»£ç çš„ç›®å½•&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;/srv/&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-github-åº“-clone-åˆ°æ ‘è“æ´¾&#34;&gt;2. GitHub åº“ clone åˆ°æ ‘è“æ´¾&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;git clone git@github.com:user/XXXX.git /srv/&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-æ·»åŠ -remote&#34;&gt;3. æ·»åŠ  remote&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;git remote add upstream https://github.com/abcd/XXXX&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;4-ä¿®æ”¹-hook&#34;&gt;4. ä¿®æ”¹ hook&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#.git/hooks/post-update&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;param&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;$1&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;push_branch&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;param##refs/heads/&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;#è·å–åˆ°æ›´æ–°çš„åˆ†æ”¯å&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git push origin $push_branch
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;5-æ·»åŠ å®šæ—¶ä»»åŠ¡&#34;&gt;5. æ·»åŠ å®šæ—¶ä»»åŠ¡&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;5,35 * * * * cd /srv/XXXX &amp;amp;&amp;amp; git pull upstream master&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;6-åœ¨æœ¬åœ°ä»£ç æ·»åŠ -remote&#34;&gt;6. åœ¨æœ¬åœ°ä»£ç æ·»åŠ  remote&lt;/h3&gt;
&lt;h4 id=&#34;61-æœ‰å¤šä¸ªé¡¹ç›®æ—¶ä¸ºé¿å…ä¿®æ”¹æ¯ä¸ªé¡¹ç›®çš„-remoteç›´æ¥æ·»åŠ -host&#34;&gt;6.1 æœ‰å¤šä¸ªé¡¹ç›®æ—¶ï¼Œä¸ºé¿å…ä¿®æ”¹æ¯ä¸ªé¡¹ç›®çš„ remoteï¼Œç›´æ¥æ·»åŠ  host&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;192.168.1.8 gitsrv&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;62-åœ¨æ¯ä¸ªé¡¹ç›®åœ¨æ·»åŠ ä¸€æ¬¡-remote&#34;&gt;6.2 åœ¨æ¯ä¸ªé¡¹ç›®åœ¨æ·»åŠ ä¸€æ¬¡ remote&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;git remote add pi git@192.168.1.8:/srv/XXXX&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·å³ä½¿ä»¥ååœ°å€æ”¹å˜ï¼Œåªéœ€è¦æ”¹ä¸€æ¬¡ host å°±å¯ä»¥äº†&lt;/p&gt;
&lt;h3 id=&#34;7-æ¨æ‹‰ä»£ç æ—¶ä»-pi-æ¨æ‹‰&#34;&gt;7. æ¨æ‹‰ä»£ç æ—¶ï¼Œä» pi æ¨æ‹‰&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;git pull pi branch&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git push pi branch&lt;/code&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>éå®æ—¶ä¿¡å·è¡¨</title>
        <link>https://lxb.wiki/c77ce28f/</link>
        <pubDate>Sat, 15 Feb 2020 19:19:45 +0000</pubDate>
        
        <guid>https://lxb.wiki/c77ce28f/</guid>
        <description>&lt;h1 id=&#34;ä¿¡å·ç±»å‹&#34;&gt;ä¿¡å·ç±»å‹&lt;/h1&gt;
&lt;p&gt;Linuxç³»ç»Ÿå…±å®šä¹‰äº†64ç§ä¿¡å·ï¼Œåˆ†ä¸ºä¸¤å¤§ç±»ï¼šå¯é ä¿¡å·ä¸ä¸å¯é ä¿¡å·ï¼Œå‰32ç§ä¿¡å·ä¸ºä¸å¯é ä¿¡å·ï¼Œå32ç§ä¸ºå¯é ä¿¡å·ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ¦‚å¿µ&#34;&gt;æ¦‚å¿µ&lt;/h3&gt;
&lt;p&gt;ä¸å¯é ä¿¡å·ï¼š ä¹Ÿç§°ä¸ºéå®æ—¶ä¿¡å·ï¼Œä¸æ”¯æŒæ’é˜Ÿï¼Œä¿¡å·å¯èƒ½ä¼šä¸¢å¤±, æ¯”å¦‚å‘é€å¤šæ¬¡ç›¸åŒçš„ä¿¡å·, è¿›ç¨‹åªèƒ½æ”¶åˆ°ä¸€æ¬¡. ä¿¡å·å€¼å–å€¼åŒºé—´ä¸º&lt;code&gt;1~31&lt;/code&gt;ï¼›
å¯é ä¿¡å·ï¼š ä¹Ÿç§°ä¸ºå®æ—¶ä¿¡å·ï¼Œæ”¯æŒæ’é˜Ÿ, ä¿¡å·ä¸ä¼šä¸¢å¤±, å‘å¤šå°‘æ¬¡, å°±å¯ä»¥æ”¶åˆ°å¤šå°‘æ¬¡. ä¿¡å·å€¼å–å€¼åŒºé—´ä¸º&lt;code&gt;32~64&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä¿¡å·è¡¨&#34;&gt;ä¿¡å·è¡¨&lt;/h3&gt;
&lt;p&gt;åœ¨ç»ˆç«¯ï¼Œå¯é€šè¿‡kill -læŸ¥çœ‹æ‰€æœ‰çš„signalä¿¡å·&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å–å€¼&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;åç§°&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è§£é‡Š&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;é»˜è®¤åŠ¨ä½œ&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGHUP&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æŒ‚èµ·&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;2&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGINT&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸­æ–­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;3&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGQUIT&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é€€å‡º&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;4&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGILL&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;éæ³•æŒ‡ä»¤&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGTRAP&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ–­ç‚¹æˆ–é™·é˜±æŒ‡ä»¤&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;6&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGABRT&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;abortå‘å‡ºçš„ä¿¡å·&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;7&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGBUS&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;éæ³•å†…å­˜è®¿é—®&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;8&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGFPE&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æµ®ç‚¹å¼‚å¸¸&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;9&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGKILL&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;killä¿¡å·&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸èƒ½è¢«å¿½ç•¥ã€å¤„ç†å’Œé˜»å¡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;10&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGUSR1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç”¨æˆ·ä¿¡å·1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;11&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGSEGV&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ— æ•ˆå†…å­˜è®¿é—®&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;12&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGUSR2&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç”¨æˆ·ä¿¡å·2&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;13&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGPIPE&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç®¡é“ç ´æŸï¼Œæ²¡æœ‰è¯»ç«¯çš„ç®¡é“å†™æ•°æ®&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;14&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGALRM&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;alarmå‘å‡ºçš„ä¿¡å·&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;15&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGTERM&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç»ˆæ­¢ä¿¡å·&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;16&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGSTKFLT&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ ˆæº¢å‡º&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;17&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGCHLD&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å­è¿›ç¨‹é€€å‡º&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é»˜è®¤å¿½ç•¥&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;18&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGCONT&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¿›ç¨‹ç»§ç»­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;19&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGSTOP&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¿›ç¨‹åœæ­¢&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸èƒ½è¢«å¿½ç•¥ã€å¤„ç†å’Œé˜»å¡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;20&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGTSTP&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¿›ç¨‹åœæ­¢&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;21&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGTTIN&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¿›ç¨‹åœæ­¢ï¼Œåå°è¿›ç¨‹ä»ç»ˆç«¯è¯»æ•°æ®æ—¶&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;22&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGTTOU&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¿›ç¨‹åœæ­¢ï¼Œåå°è¿›ç¨‹æƒ³ç»ˆç«¯å†™æ•°æ®æ—¶&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;23&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGURG&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;I/Oæœ‰ç´§æ€¥æ•°æ®åˆ°è¾¾å½“å‰è¿›ç¨‹&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é»˜è®¤å¿½ç•¥&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;24&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGXCPU&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¿›ç¨‹çš„CPUæ—¶é—´ç‰‡åˆ°æœŸ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;25&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGXFSZ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ–‡ä»¶å¤§å°çš„è¶…å‡ºä¸Šé™&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;26&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGVTALRM&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è™šæ‹Ÿæ—¶é’Ÿè¶…æ—¶&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;27&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGPROF&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;profileæ—¶é’Ÿè¶…æ—¶&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;28&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGWINCH&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;çª—å£å¤§å°æ”¹å˜&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é»˜è®¤å¿½ç•¥&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;29&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGIO&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;I/Oç›¸å…³&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;30&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGPWR&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å…³æœº&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é»˜è®¤å¿½ç•¥&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;31&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SIGSYS&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç³»ç»Ÿè°ƒç”¨å¼‚å¸¸&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘å…³äº CGo çš„å­—ç¬¦ä¸²å‡½æ•°çš„è§£é‡Š</title>
        <link>https://lxb.wiki/8c45788a/</link>
        <pubDate>Sun, 09 Feb 2020 20:55:26 +0000</pubDate>
        
        <guid>https://lxb.wiki/8c45788a/</guid>
        <description>&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/golang/go/wiki/cgo&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;cgo&lt;/a&gt; çš„å¤§é‡æ–‡æ¡£éƒ½æåˆ°è¿‡ï¼Œå®ƒæä¾›äº†å››ä¸ªç”¨äºè½¬æ¢ Go å’Œ C ç±»å‹çš„å­—ç¬¦ä¸²çš„å‡½æ•°ï¼Œéƒ½æ˜¯é€šè¿‡å¤åˆ¶æ•°æ®æ¥å®ç°ã€‚åœ¨ CGo çš„æ–‡æ¡£ä¸­æœ‰ç®€æ´çš„è§£é‡Šï¼Œä½†æˆ‘è®¤ä¸ºè§£é‡Šå¾—å¤ªç®€æ´äº†ï¼Œå› ä¸ºæ–‡æ¡£åªæ¶‰åŠäº†å®šä¹‰ä¸­çš„æŸäº›ç‰¹å®šå­—ç¬¦ä¸²ï¼Œè€Œå¿½ç•¥äº†ä¸¤ä¸ªå¾ˆé‡è¦çš„æ³¨æ„äº‹é¡¹ã€‚æˆ‘æ›¾ç»è¸©è¿‡è¿™é‡Œçš„å‘ï¼Œç°åœ¨æˆ‘è¦è¯¦ç»†è§£é‡Šä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;å››ä¸ªå‡½æ•°åˆ†åˆ«æ˜¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;C&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;CString&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;C&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;char&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;C&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;GoString&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;C&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;char&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;C&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;GoStringN&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;C&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;char&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;C&lt;/span&gt;.&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;C&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;GoBytes&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;C&lt;/span&gt;.&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) []&lt;span style=&#34;color:#66d9ef&#34;&gt;byte&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;C.CString()&lt;/code&gt; ç­‰ä»·äº C çš„ &lt;code&gt;strdup()&lt;/code&gt;ï¼Œåƒæ–‡æ¡£ä¸­æåˆ°çš„é‚£æ ·ï¼ŒæŠŠ Go çš„å­—ç¬¦ä¸²å¤åˆ¶ä¸ºå¯ä»¥ä¼ é€’ç»™ C å‡½æ•°çš„ C çš„ &lt;code&gt;char *&lt;/code&gt;ã€‚å¾ˆè®¨åŒçš„ä¸€ä»¶äº‹æ˜¯ï¼Œç”±äº Go å’Œ CGo ç±»å‹çš„å®šä¹‰æ–¹å¼ï¼Œè°ƒç”¨ &lt;code&gt;C.free&lt;/code&gt; æ—¶éœ€è¦åšä¸€ä¸ªè½¬æ¢ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cs&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;C&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;CString&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;a string&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;C&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;free&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;unsafe&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Pointer&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cs&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯·ç•™æ„ï¼ŒGo å­—ç¬¦ä¸²ä¸­å¯èƒ½åµŒå…¥äº† &lt;code&gt;\0&lt;/code&gt; å­—ç¬¦ï¼Œè€Œ C å­—ç¬¦ä¸²ä¸ä¼šã€‚å¦‚æœä½ çš„ Go å­—ç¬¦ä¸²ä¸­æœ‰ &lt;code&gt;\0&lt;/code&gt; å­—ç¬¦ï¼Œå½“ä½ è°ƒç”¨ &lt;code&gt;C.CString()&lt;/code&gt; æ—¶ï¼ŒC ä»£ç ä¼šä» &lt;code&gt;\0&lt;/code&gt; å­—ç¬¦å¤„æˆªæ–­ä½ çš„å­—ç¬¦ä¸²ã€‚è¿™å¾€å¾€ä¸ä¼šè¢«æ³¨æ„åˆ°ï¼Œä½†&lt;a class=&#34;link&#34; href=&#34;https://utcc.utoronto.ca/~cks/space/blog/programming/BeSureItsACString&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æœ‰æ—¶æ–‡æœ¬å¹¶ä¸ä¿è¯ä¸å« null å­—ç¬¦&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;C.GoString()&lt;/code&gt; ä¹Ÿç­‰ä»·äº &lt;code&gt;strdup()&lt;/code&gt;ï¼Œä½†ä¸ &lt;code&gt;C.CString()&lt;/code&gt; ç›¸åï¼Œæ˜¯æŠŠ C å­—ç¬¦ä¸²è½¬æ¢ä¸º Go å­—ç¬¦ä¸²ã€‚ä½ å¯ä»¥ç”¨å®ƒå®šä¹‰ç»“æ„ä½“çš„å­—æ®µï¼Œæˆ–è€…æ˜¯å£°æ˜ä¸º C çš„ &lt;code&gt;char *&lt;/code&gt;ï¼ˆåœ¨ Go ä¸­å« &lt;code&gt;*C.cahr&lt;/code&gt;ï¼‰ çš„å…¶ä»–å˜é‡ï¼ŒæŠ‘æˆ–å…¶ä»–çš„ä¸€äº›å˜é‡ï¼ˆæˆ‘ä»¬åé¢ä¼šçœ‹åˆ°ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;C.GoStringN()&lt;/code&gt; ç­‰ä»·äº C çš„ &lt;code&gt;memmove()&lt;/code&gt;ï¼Œä¸ C ä¸­æ™®é€šçš„å­—ç¬¦ä¸²å‡½æ•°ä¸åŒã€‚**å®ƒæŠŠæ•´ä¸ª N é•¿åº¦çš„ C buffer å¤åˆ¶ä¸ºä¸€ä¸ª Go å­—ç¬¦ä¸²ï¼Œä¸å•ç‹¬å¤„ç† null å­—ç¬¦ã€‚**å†è¯¦ç»†ç‚¹ï¼Œå®ƒä¹Ÿé€šè¿‡å¤åˆ¶æ¥å®ç°ã€‚å¦‚æœä½ æœ‰ä¸€ä¸ªå®šä¹‰ä¸º &lt;code&gt;char feild[64]&lt;/code&gt; çš„ç»“æ„ä½“çš„å­—æ®µï¼Œç„¶åè°ƒç”¨äº† &lt;code&gt;C.GoStringN(&amp;amp;field, 64)&lt;/code&gt;ï¼Œé‚£ä¹ˆä½ å¾—åˆ°çš„ Go å­—ç¬¦ä¸²ä¸€å®šæ˜¯ 64 ä¸ªå­—ç¬¦ï¼Œå­—ç¬¦ä¸²çš„æœ«å°¾æœ‰å¯èƒ½æ˜¯ä¸€ä¸² &lt;code&gt;\0&lt;/code&gt; å­—ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;(æˆ‘è®¤ä¸ºè¿™æ˜¯ cgo æ–‡æ¡£ä¸­çš„ä¸€ä¸ª bugã€‚å®ƒå®£ç§° GoStringN çš„å…¥å‚æ˜¯ä¸€ä¸ª C çš„å­—ç¬¦ä¸²ï¼Œä½†å®é™…ä¸Šå¾ˆæ˜æ˜¾ä¸æ˜¯ï¼Œå› ä¸º C çš„å­—ç¬¦ä¸²ä¸èƒ½ä»¥ null å­—ç¬¦ç»“æŸï¼Œè€Œ GoStringN ä¸ä¼šåœ¨ null å­—ç¬¦å¤„ç»“æŸå¤„ç†ã€‚)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;C.GoBytes()&lt;/code&gt; æ˜¯ &lt;code&gt;C.GoStringN()&lt;/code&gt; çš„å¦ä¸€ä¸ªç‰ˆæœ¬ï¼Œä¸è¿”å› &lt;code&gt;string&lt;/code&gt; è€Œæ˜¯è¿”å› &lt;code&gt;[]byte&lt;/code&gt;ã€‚å®ƒæ²¡æœ‰å®£ç§°ä»¥ C å­—ç¬¦ä¸²ä½œä¸ºå…¥å‚ï¼Œå®ƒä»…ä»…æ˜¯å¯¹æ•´ä¸ª buffer åšäº†å†…å­˜æ‹·è´ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ è¦æ‹·è´çš„ä¸œè¥¿ä¸æ˜¯ä»¥ null å­—ç¬¦ç»“å°¾çš„ C å­—ç¬¦ä¸²ï¼Œè€Œæ˜¯å›ºå®šé•¿åº¦çš„ memory bufferï¼Œé‚£ä¹ˆ &lt;code&gt;C.GoString()&lt;/code&gt; æ­£å¥½èƒ½æ»¡è¶³éœ€æ±‚ï¼›å®ƒé¿å¼€äº† C ä¸­ä¼ ç»Ÿçš„é—®é¢˜&lt;a class=&#34;link&#34; href=&#34;https://utcc.utoronto.ca/~cks/space/blog/programming/BeSureItsACString&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å¤„ç†ä¸æ˜¯ C å­—ç¬¦ä¸²çš„ â€™stringâ€˜&lt;/a&gt;ã€‚ç„¶è€Œï¼Œå¦‚æœä½ è¦å¤„ç†å®šä¹‰ä¸º &lt;code&gt;char field[N]&lt;/code&gt; çš„ç»“æ„ä½“å­—æ®µè¿™ç§é™å®šé•¿åº¦çš„ C å­—ç¬¦ä¸²æ—¶ï¼Œè¿™äº›å‡½æ•°&lt;em&gt;éƒ½ä¸èƒ½&lt;/em&gt;æ»¡è¶³éœ€æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;ä¼ ç»Ÿè¯­ä¹‰çš„ç»“æ„ä½“ä¸­å›ºå®šé•¿åº¦çš„å­—ç¬¦ä¸²å˜é‡ï¼Œå®šä¹‰ä¸º &lt;code&gt;char field[N]&lt;/code&gt; çš„å­—æ®µï¼Œä»¥åŠâ€œåŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²â€ç­‰æè¿°ï¼Œéƒ½è¡¨ç¤ºå½“ä¸”ä»…å½“å­—ç¬¦ä¸²æœ‰è¶³å¤Ÿç©ºé—´æ—¶ä»¥ null å­—ç¬¦ç»“å°¾ï¼Œæ¢å¥è¯è¯´ï¼Œå­—ç¬¦ä¸²æœ€å¤šæœ‰ N-1 ä¸ªå­—ç¬¦ã€‚å¦‚æœå­—ç¬¦ä¸²æ­£å¥½æœ‰ N ä¸ªå­—ç¬¦ï¼Œé‚£ä¹ˆå®ƒä¸ä¼šä»¥ null å­—ç¬¦ç»“å°¾ã€‚è¿™æ˜¯ &lt;a class=&#34;link&#34; href=&#34;https://utcc.utoronto.ca/~cks/space/blog/programming/UnixAPIMistake&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;C ä»£ç ä¸­è¯¸å¤š bug çš„æ ¹æº&lt;/a&gt;ï¼Œä¹Ÿä¸æ˜¯ä¸€ä¸ªå¥½çš„ APIï¼Œä½†æˆ‘ä»¬å´æ‘†è„±ä¸äº†è¿™ä¸ª APIã€‚æ¯æ¬¡æˆ‘ä»¬é‡åˆ°è¿™æ ·çš„å­—æ®µï¼Œæ–‡æ¡£ä¸ä¼šæ˜ç¡®å‘Šè¯‰ä½ å­—æ®µçš„å†…å®¹å¹¶ä¸ä¸€å®šæ˜¯ null å­—ç¬¦ç»“å°¾çš„ï¼Œä½ éœ€è¦è‡ªå·±å‡è®¾ä½ æœ‰è¿™ç§ APIã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;C.GoString()&lt;/code&gt; æˆ– &lt;code&gt;C.GoStringN()&lt;/code&gt; éƒ½ä¸èƒ½æ­£ç¡®å¤„ç†è¿™äº›å­—æ®µã€‚ä½¿ç”¨ &lt;code&gt;GoStringN()&lt;/code&gt; ç›¸å¯¹æ¥è¯´å‡ºé”™æ›´å°‘ï¼›å®ƒä»…ä»…è¿”å›ä¸€ä¸ªæœ«å°¾æœ‰ä¸€ä¸² &lt;code&gt;\0&lt;/code&gt; å­—ç¬¦é•¿åº¦ä¸º N çš„ Go å­—ç¬¦ä¸²ï¼ˆå¦‚æœä½ ä»…ä»…æ˜¯æŠŠè¿™äº›å­—æ®µæ‰“å°å‡ºæ¥ï¼Œé‚£ä¹ˆä½ å¯èƒ½ä¸ä¼šç•™æ„åˆ°ï¼›æˆ‘ç»å¸¸å¹²è¿™ç§äº‹ï¼‰ã€‚ä½¿ç”¨æœ‰è¯±æƒ‘åŠ›çš„ &lt;code&gt;GoString()&lt;/code&gt; æ›´æ˜¯å¼•ç‹¼å…¥å®¤ï¼Œå› ä¸ºå®ƒå†…éƒ¨ä¼šå¯¹å…¥å‚åš &lt;code&gt;strlen()&lt;/code&gt;ï¼›å¦‚æœå­—ç¬¦æœ«å°¾æ²¡æœ‰ null å­—ç¬¦ï¼Œ&lt;code&gt;strlen()&lt;/code&gt; ä¼šè®¿é—®è¶Šç•Œçš„å†…å­˜åœ°å€ã€‚å¦‚æœä½ èµ°è¿ï¼Œä½ å¾—åˆ°çš„ Go å­—ç¬¦ä¸²æœ«å°¾ä¼šæœ‰å¤§é‡çš„åƒåœ¾ã€‚å¦‚æœä½ ä¸èµ°è¿ï¼Œä½ çš„ Go ç¨‹åºå‡ºç°æ®µé”™è¯¯ï¼Œå› ä¸º &lt;code&gt;strlen()&lt;/code&gt; è®¿é—®äº†æœªæ˜ å°„çš„å†…å­˜åœ°å€ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆæ€»çš„æ¥è¯´ï¼Œå¦‚æœå­—ç¬¦ä¸²æœ«å°¾å‡ºç°äº†å¤§é‡åƒåœ¾ï¼Œé€šå¸¸æ„å‘³ç€åœ¨æŸå¤„æœ‰ä¸å«ç»“æŸç¬¦çš„ C å­—ç¬¦ä¸²ã€‚ï¼‰&lt;/p&gt;
&lt;p&gt;ä½ éœ€è¦çš„æ˜¯ä¸ C çš„ &lt;code&gt;strndup()&lt;/code&gt; ç­‰ä»·çš„ Go å‡½æ•°ï¼Œä»¥æ­¤æ¥ç¡®ä¿å¤åˆ¶ä¸è¶…è¿‡ N ä¸ªå­—ç¬¦ä¸”åœ¨ null å­—ç¬¦å¤„ç»ˆæ­¢ã€‚ä¸‹é¢æ˜¯æˆ‘å†™çš„ç‰ˆæœ¬ï¼Œä¸ä¿è¯æ— é”™è¯¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;strndup&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cs&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;C&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;char&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;len&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;C&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;GoStringN&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cs&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;C&lt;/span&gt;.int(&lt;span style=&#34;color:#a6e22e&#34;&gt;len&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;strings&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;IndexByte&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;C&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;GoString&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cs&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç”±äºæœ‰ &lt;a class=&#34;link&#34; href=&#34;https://utcc.utoronto.ca/~cks/space/blog/programming/GoStringsMemoryHolding&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go çš„å­—ç¬¦ä¸²æ€æ ·å ç”¨å†…å­˜&lt;/a&gt;çš„é—®é¢˜ï¼Œè¿™æ®µä»£ç åšäº†äº›é¢å¤–çš„å·¥ä½œæ¥æœ€å°åŒ–é¢å¤–çš„å†…å­˜å ç”¨ã€‚ä½ å¯èƒ½æƒ³ç”¨å¦ä¸€ç§æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ª &lt;code&gt;GoStringN()&lt;/code&gt; å­—ç¬¦ä¸²çš„åˆ‡ç‰‡ã€‚ä½ ä¹Ÿå¯ä»¥å†™å¤æ‚çš„ä»£ç ï¼Œæ ¹æ® i å’Œ len çš„ä¸åŒæ¥å†³å®šé€‰ç”¨å“ªç§æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;æ›´æ–°ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/golang/go/issues/12428#issuecomment-136581154&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Ian Lance Taylor ç»™æˆ‘å±•ç¤ºäº†ä»½æ›´å¥½çš„ä»£ç &lt;/a&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;strndup&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cs&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;C&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;char&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;len&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;C&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;GoStringN&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cs&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;C&lt;/span&gt;.int(&lt;span style=&#34;color:#a6e22e&#34;&gt;C&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;strnlen&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;cs&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;C&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;size_t&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;len&lt;/span&gt;))))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ˜¯çš„ï¼Œè¿™é‡Œæœ‰å¤§é‡çš„è½¬æ¢ã€‚è¿™ç¯‡æ–‡ç« å°±æ˜¯ä½ çœ‹åˆ°çš„ Go å’Œ Gco ç±»å‹çš„ç»“åˆã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://utcc.utoronto.ca/~cks/space/blog/programming/GoCGoStringFunctions&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://utcc.utoronto.ca/~cks/space/blog/programming/GoCGoStringFunctions&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://utcc.utoronto.ca/~cks/space/People/ChrisSiebenmann&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ChrisSiebenmann&lt;/a&gt;
è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Xiaobin.Liu&lt;/a&gt;
æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/polaris1119&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;polaris1119&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/studygolang/GCTT&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://studygolang.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go ä¸­æ–‡ç½‘&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘Go å­—ç¬¦ä¸²ä¸­çš„æ½œåœ¨é—®é¢˜</title>
        <link>https://lxb.wiki/10e5e8ba/</link>
        <pubDate>Fri, 17 Jan 2020 00:12:58 +0000</pubDate>
        
        <guid>https://lxb.wiki/10e5e8ba/</guid>
        <description>&lt;p&gt;åœ¨æˆ‘ä¹‹å‰çš„æ–‡ç«  &lt;a class=&#34;link&#34; href=&#34;https://utcc.utoronto.ca/~cks/space/blog/programming/GoThingsILike&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go ä¸­æˆ‘å–œæ¬¢çš„ä¸œè¥¿&lt;/a&gt;ä¸­æåˆ°è¿‡ï¼Œæˆ‘å–œæ¬¢çš„ &lt;a class=&#34;link&#34; href=&#34;https://golang.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go&lt;/a&gt; çš„ä¸œè¥¿å…¶ä¸­ä¹‹ä¸€å°±æ˜¯å®ƒçš„å­—ç¬¦ä¸²ï¼ˆé€šå¸¸è¿˜æœ‰åˆ‡ç‰‡ï¼‰ã€‚ä»ä¸€ä¸ª Python å¼€å‘è€…çš„è§’åº¦çœ‹ï¼Œå®ƒä»¬ä¹‹æ‰€ä»¥ä¼Ÿå¤§ï¼Œæ˜¯å› ä¸ºåˆ›å»ºå®ƒä»¬æ—¶å¼€é”€å¾ˆå°‘ï¼Œå› ä¸ºå®ƒä»¬é€šå¸¸ä¸éœ€è¦å¤åˆ¶ã€‚åœ¨ Python ä¸­ï¼Œä»»ä½•æ—¶å€™æ“ä½œå­—ç¬¦ä¸²éƒ½éœ€è¦å¤åˆ¶ä¸€éƒ¨åˆ†æˆ–å…¨éƒ¨å­—ç¬¦ä¸²ï¼Œè€Œ &lt;a class=&#34;link&#34; href=&#34;https://utcc.utoronto.ca/~cks/space/blog/python/StringSpeedSurprises&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è¿™å¾ˆå®¹æ˜“å¯¹æ€§èƒ½é€ æˆå½±å“&lt;/a&gt;ã€‚æƒ³è¦å†™é«˜æ€§èƒ½çš„ Python ä»£ç éœ€è¦è°¨æ…è€ƒè™‘å¤åˆ¶çš„é—®é¢˜ã€‚åœ¨ Go ä¸­ï¼Œå‡ ä¹æ‰€æœ‰çš„å­—ç¬¦ä¸²æ“ä½œéƒ½æ˜¯ä¸å¤åˆ¶çš„ï¼Œä»…ä»…æ˜¯ä»åŸå­—ç¬¦ä¸²å–ä¸€ä¸ªå­é›†ï¼ˆä¾‹å¦‚å»é™¤å­—ç¬¦ä¸²é¦–å°¾çš„ç©ºç™½å­—ç¬¦ï¼‰ï¼Œå› æ­¤ä½ å¯ä»¥æ›´è‡ªç”±åœ°æ“ä½œå­—ç¬¦ä¸²ã€‚è¿™ä¸ªæœºåˆ¶å¯ä»¥éå¸¸ç›´æ¥åœ°è§£å†³ä½ çš„é—®é¢˜ï¼Œå¹¶ä¸”éå¸¸é«˜æ•ˆã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆå½“ç„¶ï¼Œä¸æ˜¯æ‰€æœ‰çš„å­—ç¬¦ä¸²æ“ä½œéƒ½ä¸å¤åˆ¶ã€‚ä¾‹å¦‚ï¼ŒæŠŠä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆå¤§å†™éœ€è¦å¤åˆ¶ï¼Œå°½ç®¡ Go ä¸­çš„å®ç°å·²ç»è¶³å¤Ÿæ™ºèƒ½ï¼Œåœ¨ä¸éœ€è¦æ”¹å˜åŸå­—ç¬¦ä¸²æ—¶ â€” ä¾‹å¦‚ç”±äºå®ƒå·²ç»æ˜¯ä¸€ä¸ªå…¨å¤§å†™çš„å­—ç¬¦ä¸² â€” å¯ä»¥è§„é¿æ‰å¤åˆ¶ã€‚ï¼‰&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¿™ä¸ªä¼˜åŠ¿ä¹Ÿå¸¦æ¥äº†æ½œåœ¨çš„åå¤„ï¼Œé‚£äº›æ²¡æœ‰å¼€é”€çš„å­å­—ç¬¦ä¸²ä½¿åŸæ¥çš„æ•´ä¸ªå­—ç¬¦ä¸²ä¸€ç›´å­˜åœ¨äºå†…å­˜ä¸­ã€‚Go ä¸­çš„å­—ç¬¦ä¸²ï¼ˆå’Œåˆ‡ç‰‡ï¼‰æ“ä½œä¹‹æ‰€ä»¥å†…å­˜å¼€é”€å¾ˆå°‘ï¼Œæ˜¯å› ä¸ºå®ƒä»¬åªæ˜¯åº•å±‚å­˜å‚¨ï¼ˆå­—ç¬¦ä¸²æˆ–åˆ‡ç‰‡åº•å±‚çš„æ•°ç»„çš„çœŸå®æ•°æ®ï¼‰çš„ä¸€äº›éƒ¨åˆ†çš„å¼•ç”¨ï¼›åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²åšçš„æ“ä½œå°±æ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¼•ç”¨ã€‚ä½†æ˜¯ Goï¼ˆç›®å‰ï¼‰ä¸ä¼šå¯¹å­—ç¬¦ä¸²æ•°æ®æˆ–æ•°ç»„è¿›è¡Œéƒ¨åˆ†çš„åƒåœ¾å›æ”¶ï¼Œæ‰€ä»¥å³ä½¿å®ƒä¸€ä¸ªå¾ˆå°çš„ bit è¢«å…¶å®ƒå…ƒç´ å¼•ç”¨ï¼Œæ•´ä¸ªå¯¹è±¡ä¹Ÿä¼šä¸€ç›´ä¿æŒåœ¨å†…å­˜ä¸­ã€‚æ¢å¥è¯è¯´ï¼Œä¸€ä¸ªå•å­—ç¬¦çš„å­—ç¬¦ä¸²ï¼ˆç›®å‰ï¼‰è¶³å¤Ÿè®©ä¸€ä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²ä¸è¢« GC å›æ”¶ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œä¸ä¼šæœ‰å¾ˆå¤šäººé‡åˆ°è¿™ä¸ªé—®é¢˜ã€‚ä¸ºäº†é‡åˆ°å®ƒï¼Œä½ éœ€è¦å¤„ç†ä¸€ä¸ªéå¸¸åºå¤§çš„åŸå­—ç¬¦ä¸²ï¼Œæˆ–é€ æˆå¤§é‡çš„å†…å­˜æ¶ˆè€—ï¼ˆæˆ–è€…ä¸¤è€…éƒ½åšï¼‰ï¼Œåœ¨è¿™ä¸ªåŸºç¡€ä¸Šï¼Œä½ å¿…é¡»åˆ›å»ºé‚£äº›ä¸æŒä¹…çš„å­—ç¬¦ä¸²çš„æŒä¹…çš„å°å­å­—ç¬¦ä¸²ï¼ˆå¥½å§ï¼Œä½ æ˜¯å¤šä¹ˆå¸Œæœ›å®ƒæ˜¯éæŒä¹…çš„ï¼‰ã€‚å¾ˆå¤šä½¿ç”¨åœºæ™¯ä¸ä¼šå¤ç°è¿™ä¸ªé—®é¢˜ï¼›è¦ä¹ˆä½ çš„åŸå­—ç¬¦ä¸²ä¸å¤Ÿå¤§ï¼Œè¦ä¹ˆä½ çš„å­é›†è·å–äº†å¤§éƒ¨åˆ†åŸå­—ç¬¦ä¸²ï¼ˆä¾‹å¦‚ä½ æŠŠåŸå­—ç¬¦ä¸²è¿›è¡Œäº†åˆ†è¯å¤„ç†ï¼‰ï¼Œè¦ä¹ˆå­å­—ç¬¦ä¸²ç”Ÿå‘½å‘¨æœŸä¸å¤Ÿé•¿ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå¦‚æœä½ æ˜¯ä¸€ä¸ªæ™®é€šçš„ Go å¼€å‘è€…ï¼Œä½ å¯ä»¥å¿½ç•¥è¿™ä¸ªé—®é¢˜ã€‚å¤„ç†é•¿å­—ç¬¦ä¸²å¹¶ä¸”é•¿æ—¶é—´ç»´æŒåŸå­—ç¬¦ä¸²çš„å¾ˆå°éƒ¨åˆ†çš„äººæ‰ä¼šå…³æ³¨è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆæˆ‘ä¹‹æ‰€ä»¥å…³æ³¨åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæ˜¯å› ä¸ºä¸€æ¬¡æˆ‘èŠ±äº†å¤§é‡ç²¾åŠ›ç”¨å°½å¯èƒ½å°‘çš„å†…å­˜å†™ Python ç¨‹åºï¼Œå°½ç®¡å®ƒæ˜¯ä»ä¸€ä¸ªå¤§çš„é…ç½®æ–‡ä»¶è§£æç»“æœç„¶ååˆ†å—å‚¨å­˜ã€‚è¿™è®©æˆ‘è”æƒ³åˆ°äº†ä¸€äº›å…¶ä»–çš„äº‹ï¼Œå¦‚å­—ç¬¦ä¸²çš„ç”Ÿå‘½å‘¨æœŸã€é™åˆ¶å­—ç¬¦ä¸²åªå¤åˆ¶ä¸€æ¬¡ï¼Œç­‰ç­‰ã€‚ç„¶åæˆ‘ç”¨ Go è¯­è¨€å†™äº†ä¸€ä¸ªè§£æå™¨ï¼Œè¿™è®©æˆ‘ç”±é‡æ–°è€ƒè™‘äº†ä¸€ä¸‹è¿™äº›é—®é¢˜ï¼Œæˆ‘æ„è¯†åˆ°ç”±äºæˆ‘çš„è§£æå™¨æˆªå–å‡ºå’Œç»´æŒçš„ bit ä¸€ç›´å­˜åœ¨äºå†…å­˜ä¸­ï¼Œä»è¾“å…¥æ–‡ä»¶è§£æå‡ºçš„åºå¤§å­—ç¬¦ä¸²ä¹Ÿä¼šä¸€ç›´å­˜åœ¨ä¸å†…å­˜ä¸­ã€‚ï¼‰&lt;/p&gt;
&lt;p&gt;é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œæˆ‘è®¤ä¸ºè¿™æ˜¯ Go åšäº†æƒè¡¡ä¹‹åçš„æ­£ç¡®ç»“æœã€‚å¤§éƒ¨åˆ†ä½¿ç”¨å­—ç¬¦ä¸²çš„å¼€å‘è€…ä¸ä¼šé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œè€Œä¸”æˆªå–å­å­—ç¬¦ä¸²å¼€é”€å¾ˆå°å¯¹äºå¼€å‘è€…æ¥è¯´ç”¨å¤„å¾ˆå¤§ã€‚è¿™ç§ä½å¼€é”€çš„æˆªå–æ“ä½œä¹Ÿå‡è½»äº† GC çš„è´Ÿæ‹…ï¼›å½“ä»£ç ä½¿ç”¨å¤§é‡çš„å­å­—ç¬¦ä¸²æˆªå–ï¼ˆåƒ Python ä¸­é‚£æ ·ï¼‰æ—¶ï¼Œä½ åªéœ€è¦å¤„ç†å›ºå®šé•¿åº¦çš„å­—ç¬¦ä¸²å¼•ç”¨å°±å¯ä»¥äº†ï¼Œè€Œä¸æ˜¯éœ€è¦å¤„ç†é•¿åº¦å˜åŒ–çš„å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;p&gt;å½“ä½ çš„ä»£ç é‡åˆ°è¿™ä¸ªé—®é¢˜æ—¶ï¼Œå½“ç„¶æœ‰æ˜æ˜¾çš„è§£å†³æ–¹æ³•ï¼šåˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œé€šè¿‡æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆ &lt;code&gt;[]byte&lt;/code&gt; æ¥ â€æœ€å°åŒ–â€œ å­—ç¬¦ä¸²ï¼Œç„¶åè¿”å›ã€‚è¿™ç§æ–¹æ³•ç”Ÿæˆäº†ä¸€ä¸ªæœ€å°åŒ–çš„å­—ç¬¦ä¸²ï¼Œå†…å­˜å¼€é”€æ˜¯ç†è®ºä¸Šæœ€å®Œç¾å®ç°çš„åªå¤åˆ¶ä¸€æ¬¡ï¼Œè€Œ Go ç°åœ¨å¾ˆå®¹æ˜“å°±å¯ä»¥å®ç°ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é™„åŠ é—®é¢˜stringstoupper-ç­‰æ€æ ·è§„é¿æ²¡æœ‰å¿…è¦çš„å¤åˆ¶&#34;&gt;é™„åŠ é—®é¢˜ï¼š&lt;code&gt;strings.ToUpper()&lt;/code&gt; ç­‰æ€æ ·è§„é¿æ²¡æœ‰å¿…è¦çš„å¤åˆ¶&lt;/h2&gt;
&lt;p&gt;æ‰€æœ‰çš„ä¸»åŠ¨è½¬æ¢å‡½æ•°åƒ &lt;code&gt;ToUpper()&lt;/code&gt; å’Œ &lt;code&gt;ToTitle()&lt;/code&gt; æ˜¯ç”¨ &lt;code&gt;strings.Map()&lt;/code&gt; å’Œ &lt;a class=&#34;link&#34; href=&#34;http://golang.org/pkg/unicode/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;unicode åŒ…&lt;/a&gt; ä¸­çš„å‡½æ•°å®ç°çš„ã€‚&lt;code&gt;Map()&lt;/code&gt; è¶³å¤Ÿæ™ºèƒ½ï¼Œåœ¨æ˜ å°„çš„å‡½æ•°è¿”å›ä¸€ä¸ªä¸å·²å­˜åœ¨çš„ &lt;code&gt;rune&lt;/code&gt; ä¸åŒçš„ç»“æœä¹‹å‰ä¸ä¼šåˆ›å»ºæ–°çš„å­—ç¬¦ä¸²ã€‚å› æ­¤ï¼Œä½ ä»£ç ä¸­æ‰€æœ‰ç±»ä¼¼çš„ç›´æ¥ä½¿ç”¨ &lt;code&gt;Map()&lt;/code&gt; çš„åœ°æ–¹éƒ½ä¸ä¼šæœ‰å†…å­˜å¼€é”€ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://utcc.utoronto.ca/~cks/space/blog/programming/GoStringsMemoryHolding&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://utcc.utoronto.ca/~cks/space/blog/programming/GoStringsMemoryHolding&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://utcc.utoronto.ca/~cks/space/People/ChrisSiebenmann&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Chris Siebenmann&lt;/a&gt;
è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;lxbwolf&lt;/a&gt;
æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/%e6%a0%a1%e5%af%b9%e8%80%85ID&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æ ¡å¯¹è€…ID&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/studygolang/GCTT&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://studygolang.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go ä¸­æ–‡ç½‘&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[è¯‘]Go GC æ€ä¹ˆæ ‡è®°å†…å­˜</title>
        <link>https://lxb.wiki/b3baee92/</link>
        <pubDate>Tue, 14 Jan 2020 00:06:31 +0000</pubDate>
        
        <guid>https://lxb.wiki/b3baee92/</guid>
        <description>&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/studygolang/gctt-images2/master/20191103-Go-How-Does-the-Garbage-Collector-Mark-the-Memory/00.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Illustration created for â€œA Journey With Goâ€, made from the original Go Gopher, created by Renee French&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;â„¹ï¸ æœ¬æ–‡åŸºäº &lt;em&gt;Go 1.13&lt;/em&gt;ã€‚å…³äºå†…å­˜ç®¡ç†çš„æ¦‚å¿µçš„è®¨è®ºåœ¨æˆ‘çš„æ–‡ç«  &lt;a class=&#34;link&#34; href=&#34;https://medium.com/a-journey-with-go/go-memory-management-and-allocation-a7396d430f44&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go ä¸­çš„å†…å­˜ç®¡ç†å’Œåˆ†é…&lt;/a&gt; ä¸­æœ‰è¯¦ç»†çš„è§£é‡Šã€‚&lt;/p&gt;
&lt;p&gt;Go GC çš„ä½œç”¨æ˜¯å›æ”¶ä¸å†ä½¿ç”¨çš„å†…å­˜ã€‚å®ç°çš„ç®—æ³•æ˜¯å¹¶å‘çš„ä¸‰è‰²æ ‡è®°å’Œæ¸…é™¤å›æ”¶æ³•ã€‚æœ¬ä¸­æ–‡ï¼Œæˆ‘ä»¬ç ”ç©¶ä¸‰è‰²æ ‡è®°æ³•ï¼Œä»¥åŠå„ä¸ªé¢œè‰²çš„ä¸åŒç”¨å¤„ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥åœ¨ Ken Fox çš„ &lt;a class=&#34;link&#34; href=&#34;https://spin.atomicobject.com/2014/09/03/visualizing-garbage-collection-algorithms/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è§£è¯»åƒåœ¾å›æ”¶ç®—æ³•&lt;/a&gt; ä¸­äº†è§£æ›´å¤šå…³äºä¸åŒåƒåœ¾å›æ”¶æœºåˆ¶çš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ ‡è®°é˜¶æ®µ&#34;&gt;æ ‡è®°é˜¶æ®µ&lt;/h2&gt;
&lt;p&gt;è¿™ä¸ªé˜¶æ®µæµè§ˆå†…å­˜æ¥äº†è§£å“ªäº›å—å„¿æ˜¯åœ¨è¢«æˆ‘ä»¬çš„ä»£ç ä½¿ç”¨å’Œå“ªäº›å—å„¿åº”è¯¥è¢«å›æ”¶ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œå› ä¸º GC å’Œæˆ‘ä»¬çš„ Go ç¨‹åºå¹¶è¡Œï¼ŒGC æ‰«ææœŸé—´å†…å­˜ä¸­æŸäº›å¯¹è±¡çš„çŠ¶æ€å¯èƒ½è¢«æ”¹å˜ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªæ£€æµ‹è¿™ç§å¯èƒ½çš„å˜åŒ–çš„æ–¹æ³•ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªæ½œåœ¨çš„é—®é¢˜ï¼Œå®ç°äº† &lt;a class=&#34;link&#34; href=&#34;https://en.wikipedia.org/wiki/Write_barrier&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å†™å±éšœ&lt;/a&gt; ç®—æ³•ï¼ŒGC å¯ä»¥è¿½è¸ªåˆ°ä»»ä½•çš„æŒ‡é’ˆä¿®æ”¹ã€‚ä½¿å†™å±éšœç”Ÿæ•ˆçš„å”¯ä¸€æ¡ä»¶æ˜¯çŸ­æš‚ç»ˆæ­¢ç¨‹åºï¼Œåˆå â€œStop the Worldâ€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/studygolang/gctt-images2/master/20191103-Go-How-Does-the-Garbage-Collector-Mark-the-Memory/01.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¿›ç¨‹å¯åŠ¨æ—¶ï¼ŒGo ä¹Ÿåœ¨æ¯ä¸ª processor èµ·äº†ä¸€ä¸ªæ ‡è®° worker æ¥è¾…åŠ©æ ‡è®°å†…å­˜ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åï¼Œå½“ root è¢«åŠ å…¥åˆ°å¤„ç†é˜Ÿåˆ—ä¸­åï¼Œæ ‡è®°é˜¶æ®µå°±å¼€å§‹éå†å’Œç”¨é¢œè‰²æ ‡è®°å†…å­˜ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†äº†è§£åœ¨æ ‡è®°é˜¶æ®µçš„æ¯ä¸€æ­¥ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„ç¨‹åºç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;struct1&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int64&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;float64&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;e&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;struct2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;struct2&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;f&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;g&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int64&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;float64&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;s1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;allocStruct1&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;s2&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;allocStruct2&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; () {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;_&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;allocStruct2&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;runtime&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;GC&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;s1 = %X, s2 = %X\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;s1&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;s2&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//go:noinline
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;allocStruct1&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;struct1&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;struct1&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;e&lt;/span&gt;: &lt;span style=&#34;color:#a6e22e&#34;&gt;allocStruct2&lt;/span&gt;(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//go:noinline
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;allocStruct2&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;struct2&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;struct2&lt;/span&gt;{}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;struct2&lt;/code&gt; ä¸åŒ…å«æŒ‡é’ˆï¼Œå› æ­¤å®ƒè¢«å‚¨å­˜åœ¨ä¸€ä¸ªä¸“é—¨å­˜æ”¾ä¸è¢«å…¶ä»–å¯¹è±¡å¼•ç”¨çš„å¯¹è±¡çš„ span ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/studygolang/gctt-images2/master/20191103-Go-How-Does-the-Garbage-Collector-Mark-the-Memory/02.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;ä¸åŒ…å«æŒ‡é’ˆçš„ç»“æ„ä½“å‚¨å­˜åœ¨ä¸“æœ‰çš„ span ä¸­&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;è¿™å‡å°‘äº† GC çš„å·¥ä½œï¼Œå› ä¸ºæ ‡è®°å†…å­˜æ—¶ä¸éœ€è¦æ‰«æè¿™ä¸ª spanã€‚&lt;/p&gt;
&lt;p&gt;åˆ†é…å·¥ä½œç»“æŸåï¼Œæˆ‘ä»¬çš„ç¨‹åºå¼ºè¿« GC é‡å¤å‰é¢çš„æ­¥éª¤ã€‚ä¸‹é¢æ˜¯æµç¨‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/studygolang/gctt-images2/master/20191103-Go-How-Does-the-Garbage-Collector-Mark-the-Memory/03.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;æ‰«æå†…å­˜&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;GC ä»æ ˆå¼€å§‹ï¼Œé€’å½’åœ°é¡ºç€æŒ‡é’ˆæ‰¾æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡ï¼Œéå†å†…å­˜ã€‚æ‰«æåˆ°è¢«æ ‡è®°ä¸º &lt;code&gt;no scan&lt;/code&gt; çš„ span æ—¶ï¼Œåœæ­¢æ‰«æã€‚ç„¶è€Œï¼Œè¿™ä¸ªå·¥ä½œæ˜¯åœ¨å¤šä¸ªåç¨‹ä¸­å®Œæˆçš„ï¼Œæ¯ä¸ªæŒ‡é’ˆè¢«åŠ å…¥åˆ°ä¸€ä¸ª work pool ä¸­çš„é˜Ÿåˆ—ã€‚ç„¶åï¼Œåå°è¿è¡Œçš„æ ‡è®° worker ä»è¿™ä¸ª work pool ä¸­æ‹¿åˆ°å‰é¢å‡ºåˆ—çš„ workï¼Œæ‰«æè¿™ä¸ªå¯¹è±¡ç„¶åæŠŠåœ¨è¿™ä¸ªå¯¹è±¡é‡Œæ‰¾åˆ°çš„æŒ‡é’ˆåŠ å…¥åˆ°é˜Ÿåˆ—ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/studygolang/gctt-images2/master/20191103-Go-How-Does-the-Garbage-Collector-Mark-the-Memory/04.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;garbage collector work pool&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;é¢œè‰²æ ‡è®°&#34;&gt;é¢œè‰²æ ‡è®°&lt;/h2&gt;
&lt;p&gt;worker éœ€è¦ä¸€ç§è®°å½•å“ªäº›å†…å­˜éœ€è¦æ‰«æçš„æ–¹æ³•ã€‚GC ä½¿ç”¨ä¸€ç§ &lt;a class=&#34;link&#34; href=&#34;https://en.wikipedia.org/wiki/Tracing_garbage_collection#Tri-color_marking&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ä¸‰è‰²æ ‡è®°ç®—æ³•&lt;/a&gt;ï¼Œå·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¼€å§‹æ—¶ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½è¢«è®¤ä¸ºæ˜¯&lt;strong&gt;ç™½è‰²&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;root å¯¹è±¡ï¼ˆæ ˆï¼Œå †ï¼Œå…¨å±€å˜é‡ï¼‰è¢«æ ‡è®°ä¸º&lt;strong&gt;ç°è‰²&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ä¸ªåˆå§‹æ­¥éª¤å®Œæˆåï¼ŒGC ä¼šï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€‰æ‹©ä¸€ä¸ª&lt;strong&gt;ç°è‰²&lt;/strong&gt;çš„å¯¹è±¡ï¼Œæ ‡è®°ä¸º&lt;strong&gt;é»‘è‰²&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è¿½è¸ªè¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰æŒ‡é’ˆï¼ŒæŠŠæ‰€æœ‰å¼•ç”¨çš„å¯¹è±¡æ ‡è®°ä¸º&lt;strong&gt;ç°è‰²&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç„¶åï¼ŒGC é‡å¤ä»¥ä¸Šä¸¤æ­¥ï¼Œç›´åˆ°æ²¡æœ‰å¯¹è±¡å¯è¢«æ ‡è®°ã€‚åœ¨è¿™ä¸€æ—¶åˆ»ï¼Œå¯¹è±¡éé»‘å³ç™½ï¼Œæ²¡æœ‰ç°è‰²ã€‚ç™½è‰²çš„å¯¹è±¡è¡¨ç¤ºæ²¡æœ‰å…¶ä»–å¯¹è±¡å¼•ç”¨ï¼Œå¯ä»¥è¢«å›æ”¶ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯å‰é¢ä¾‹å­çš„å›¾ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/studygolang/gctt-images2/master/20191103-Go-How-Does-the-Garbage-Collector-Mark-the-Memory/05.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;åˆå§‹çŠ¶æ€ä¸‹ï¼Œæ‰€æœ‰çš„å¯¹è±¡è¢«è®¤ä¸ºæ˜¯ç™½è‰²çš„ã€‚ç„¶åï¼Œéå†åˆ°çš„ä¸”è¢«å…¶ä»–å¯¹è±¡å¼•ç”¨çš„å¯¹è±¡ï¼Œè¢«æ ‡è®°ä¸ºç°è‰²ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡åœ¨è¢«æ ‡è®°ä¸º &lt;code&gt;no scan&lt;/code&gt; çš„ span ä¸­ï¼Œå› ä¸ºå®ƒä¸éœ€è¦è¢«æ‰«æï¼Œæ‰€ä»¥å¯ä»¥æ ‡è®°ä¸ºé»‘è‰²ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/studygolang/gctt-images2/master/20191103-Go-How-Does-the-Garbage-Collector-Mark-the-Memory/06.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨ç°è‰²çš„å¯¹è±¡è¢«åŠ å…¥åˆ°æ‰«æé˜Ÿåˆ—å¹¶è¢«æ ‡è®°ä¸ºé»‘è‰²ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/studygolang/gctt-images2/master/20191103-Go-How-Does-the-Garbage-Collector-Mark-the-Memory/07.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¯¹åŠ å…¥åˆ°æ‰«æé˜Ÿåˆ—çš„æ‰€æœ‰å¯¹è±¡é‡å¤åšç›¸åŒçš„æ“ä½œï¼Œç›´åˆ°æ²¡æœ‰å¯¹è±¡éœ€è¦è¢«å¤„ç†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/studygolang/gctt-images2/master/20191103-Go-How-Does-the-Garbage-Collector-Mark-the-Memory/08.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¤„ç†ç»“æŸæ—¶ï¼Œé»‘è‰²å¯¹è±¡è¡¨ç¤ºå†…å­˜ä¸­åœ¨ä½¿ç”¨çš„å¯¹è±¡ï¼Œç™½è‰²å¯¹è±¡æ˜¯è¦è¢«å›æ”¶çš„å¯¹è±¡ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œç”±äº &lt;code&gt;struct2&lt;/code&gt; çš„å®ä¾‹æ˜¯åœ¨ä¸€ä¸ªåŒ¿åå‡½æ•°ä¸­åˆ›å»ºçš„ä¸”ä¸å†å­˜åœ¨äºæ ˆä¸Šï¼Œå› æ­¤å®ƒæ˜¯ç™½è‰²çš„ä¸”å¯ä»¥è¢«å›æ”¶ã€‚&lt;/p&gt;
&lt;p&gt;å½’åŠŸäºæ¯ä¸€ä¸ª span ä¸­çš„åä¸º &lt;code&gt;gcmarkBits&lt;/code&gt; çš„ bitmap å±æ€§ï¼Œä¸‰è‰²è¢«åŸç”Ÿåœ°å®ç°äº†ï¼Œbitmap å¯¹ scan ä¸­ç›¸åº”çš„ bit è®¾ä¸º 1 æ¥è¿½è¸ª scanã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/studygolang/gctt-images2/master/20191103-Go-How-Does-the-Garbage-Collector-Mark-the-Memory/09.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œé»‘è‰²å’Œç°è‰²è¡¨ç¤ºçš„æ„ä¹‰ç›¸åŒã€‚å¤„ç†çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œæ ‡è®°ä¸ºç°è‰²æ—¶æ˜¯æŠŠå¯¹è±¡åŠ å…¥åˆ°æ‰«æé˜Ÿåˆ—ï¼Œè€Œæ ‡è®°ä¸ºé»‘è‰²æ—¶ï¼Œä¸å†æ‰«æã€‚&lt;/p&gt;
&lt;p&gt;GC æœ€ç»ˆ STWï¼Œæ¸…é™¤æ¯ä¸€æ¬¡å†™å±éšœå¯¹ work pool åšçš„æ”¹å˜ï¼Œç»§ç»­åç»­çš„æ ‡è®°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;ä½ å¯ä»¥åœ¨æˆ‘çš„æ–‡ç«  &lt;a class=&#34;link&#34; href=&#34;https://medium.com/a-journey-with-go/go-how-does-the-garbage-collector-watch-your-application-dbef99be2c35&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go GC æ€æ ·ç›‘æ§ä½ çš„åº”ç”¨&lt;/a&gt; ä¸­æ‰¾åˆ°å…³äºå¹¶å‘å¤„ç†å’Œ GC çš„æ ‡è®°é˜¶æ®µæ›´è¯¦ç»†çš„æè¿°&lt;/em&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;runtime-åˆ†æå™¨&#34;&gt;runtime åˆ†æå™¨&lt;/h2&gt;
&lt;p&gt;Go æä¾›çš„å·¥å…·ä½¿æˆ‘ä»¬å¯ä»¥å¯¹æ¯ä¸€æ­¥è¿›è¡Œå¯è§†åŒ–ï¼Œè§‚å¯Ÿ GC åœ¨æˆ‘ä»¬çš„ç¨‹åºä¸­çš„å½±å“ã€‚å¼€å¯ tracing è¿è¡Œæˆ‘ä»¬çš„ä»£ç ï¼Œå¯ä»¥çœ‹åˆ°å‰é¢æ‰€æœ‰æ­¥éª¤çš„ä¸€ä¸ªæ¦‚è§ˆã€‚ä¸‹é¢æ˜¯è¿½è¸ªç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/studygolang/gctt-images2/master/20191103-Go-How-Does-the-Garbage-Collector-Mark-the-Memory/10.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;traces of the garbage collector&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ ‡è®° worker çš„ç”Ÿå‘½å‘¨æœŸä¹Ÿå¯ä»¥åœ¨è¿½è¸ªç»“æœä¸­ä»¥åç¨‹ç­‰çº§å¯è§†åŒ–ã€‚ä¸‹é¢æ˜¯åœ¨å¯åŠ¨ä¹‹å‰å…ˆåœ¨åå°ç­‰å¾…æ ‡è®°å†…å­˜çš„ goroutine #33 çš„ä¾‹å­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/studygolang/gctt-images2/master/20191103-Go-How-Does-the-Garbage-Collector-Mark-the-Memory/11.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;marking worker&#34;
	
	
&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://medium.com/a-journey-with-go/go-how-does-the-garbage-collector-mark-the-memory-72cfc12c6976&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://medium.com/a-journey-with-go/go-how-does-the-garbage-collector-mark-the-memory-72cfc12c6976&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://medium.com/@blanchon.vincent&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Vincent Blanchon&lt;/a&gt; è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;lxbwolf&lt;/a&gt; æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/polaris1119&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;polaris1119&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/studygolang/GCTT&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://studygolang.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go ä¸­æ–‡ç½‘&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘å¾®æœåŠ¡ä¸­çš„ç†”æ–­å™¨å’Œé‡è¯•</title>
        <link>https://lxb.wiki/c9399f4/</link>
        <pubDate>Thu, 12 Dec 2019 23:02:17 +0000</pubDate>
        
        <guid>https://lxb.wiki/c9399f4/</guid>
        <description>&lt;p&gt;ä»Šå¤©æˆ‘ä»¬æ¥è®¨è®ºå¾®æœåŠ¡æ¶æ„ä¸­çš„è‡ªæˆ‘æ¢å¤èƒ½åŠ›ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼ŒæœåŠ¡é—´ä¼šé€šè¿‡åŒæ­¥æˆ–å¼‚æ­¥çš„æ–¹å¼è¿›è¡Œé€šä¿¡ã€‚æˆ‘ä»¬å‡å®šæŠŠä¸€ä¸ªåºå¤§çš„ç³»ç»Ÿåˆ†è§£æˆä¸€ä¸ªä¸ªçš„å°å—èƒ½å°†å„ä¸ªæœåŠ¡è§£è€¦ã€‚ç®¡ç†æœåŠ¡å†…éƒ¨çš„é€šä¿¡å¯èƒ½æœ‰ç‚¹å›°éš¾äº†ã€‚ä½ å¯èƒ½å¬è¯´è¿‡è¿™ä¸¤ä¸ªè‘—åçš„æ¦‚å¿µï¼šç†”æ–­å’Œé‡è¯•ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç†”æ–­å™¨&#34;&gt;ç†”æ–­å™¨&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201204010211.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æƒ³è±¡ä¸€ä¸ªç®€å•çš„åœºæ™¯ï¼šç”¨æˆ·å‘å‡ºçš„è¯·æ±‚è®¿é—®æœåŠ¡ A éšåè®¿é—®å¦ä¸€ä¸ªæœåŠ¡ Bã€‚æˆ‘ä»¬å¯ä»¥ç§° B æ˜¯ A çš„ä¾èµ–æœåŠ¡æˆ–ä¸‹æ¸¸æœåŠ¡ã€‚åˆ°æœåŠ¡ B çš„è¯·æ±‚åœ¨åˆ°è¾¾å„ä¸ªå®ä¾‹å‰ä¼šå…ˆé€šè¿‡è´Ÿè½½å‡è¡¡å™¨ã€‚&lt;/p&gt;
&lt;p&gt;åç«¯æœåŠ¡å‘ç”Ÿç³»ç»Ÿé”™è¯¯çš„åŸå› æœ‰å¾ˆå¤šï¼Œä¾‹å¦‚æ…¢æŸ¥è¯¢ã€network blip å’Œå†…å­˜äº‰ç”¨ã€‚åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œå¦‚æœè¿”å› A çš„ response æ˜¯ timeout å’Œ server errorï¼Œæˆ‘ä»¬çš„ç”¨æˆ·ä¼šå†è¯•ä¸€æ¬¡ã€‚åœ¨æ··ä¹±çš„å±€é¢ä¸­æˆ‘ä»¬æ€æ ·æ¥ä¿æŠ¤ä¸‹æ¸¸æœåŠ¡å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201204010301.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç†”æ–­å™¨å¯ä»¥è®©æˆ‘ä»¬å¯¹å¤±è´¥ç‡å’Œèµ„æºæœ‰æ›´å¥½çš„æ§åˆ¶ã€‚ç†”æ–­å™¨çš„è®¾è®¡æ€è·¯æ˜¯ä¸ç­‰å¾… TCP çš„è¿æ¥ timeout å¿«é€Ÿä¸”ä¼˜é›…åœ°å¤„ç† errorã€‚è¿™ç§ fail fast æœºåˆ¶ä¼šä¿æŠ¤ä¸‹æ¸¸çš„é‚£ä¸€å±‚ã€‚è¿™ç§æœºåˆ¶æœ€é‡è¦çš„éƒ¨åˆ†å°±æ˜¯ç«‹åˆ»å‘è°ƒç”¨æ–¹è¿”å› responseã€‚æ²¡æœ‰è¢« pending request å¡«å……çš„çº¿ç¨‹æ± ï¼Œæ²¡æœ‰ timeoutï¼Œè€Œä¸”ææœ‰å¯èƒ½çƒ¦äººçš„è°ƒç”¨é“¾ä¸­æ–­è€…ä¼šæ›´å°‘ã€‚æ­¤å¤–ï¼Œä¸‹æ¸¸æœåŠ¡ä¹Ÿæœ‰äº†å……è¶³çš„æ—¶é—´æ¥æ¢å¤æœåŠ¡èƒ½åŠ›ã€‚å®Œå…¨æœç»é”™è¯¯å¾ˆéš¾ï¼Œä½†æ˜¯å‡å°å¤±è´¥çš„å½±å“èŒƒå›´æ˜¯æœ‰å¯èƒ½çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201204011033.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡ hystrix ç†”æ–­å™¨ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨é™çº§æ–¹æ¡ˆï¼Œå¯¹ä¸Šæ¸¸è¿”å›é™çº§åçš„ç»“æœã€‚ä¾‹å¦‚ï¼ŒæœåŠ¡ B å¯ä»¥è®¿é—®ä¸€ä¸ªå¤‡ä»½æœåŠ¡æˆ– cacheï¼Œä¸å†è®¿é—®åŸæ¥çš„æœåŠ¡ Cã€‚å¼•å…¥è¿™ç§é™çº§æ–¹æ¡ˆéœ€è¦é›†æˆæµ‹è¯•ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ happy pathï¼ˆè¯‘æ³¨ï¼šæ‰€è°“ happy pathï¼Œå³æµ‹è¯•æ–¹æ³•çš„é»˜è®¤åœºæ™¯ï¼Œæ²¡æœ‰å¼‚å¸¸å’Œé”™è¯¯ä¿¡æ¯ã€‚å…·ä½“å¯å‚è§ &lt;a class=&#34;link&#34; href=&#34;https://en.wikipedia.org/wiki/Happy_path&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;wikipedia&lt;/a&gt;ï¼‰å¯èƒ½ä¸ä¼šé‡åˆ°è¿™ç§ç½‘ç»œæ¨¡å¼ã€‚&lt;/p&gt;
&lt;h2 id=&#34;çŠ¶æ€&#34;&gt;çŠ¶æ€&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201204011142.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç†”æ–­å™¨æœ‰ä¸‰ä¸ªä¸»è¦çš„çŠ¶æ€ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Closedï¼šè®©æ‰€æœ‰è¯·æ±‚éƒ½é€šè¿‡çš„é»˜è®¤çŠ¶æ€ã€‚åœ¨é˜ˆå€¼ä¸‹çš„è¯·æ±‚ä¸ç®¡æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œç†”æ–­å™¨çš„çŠ¶æ€éƒ½ä¸ä¼šæ”¹å˜ã€‚å¯èƒ½å‡ºç°çš„é”™è¯¯æ˜¯ &lt;strong&gt;Max Concurrency&lt;/strong&gt;ï¼ˆæœ€å¤§å¹¶å‘æ•°ï¼‰å’Œ &lt;strong&gt;Timeout&lt;/strong&gt;ï¼ˆè¶…æ—¶ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;Openï¼šæ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šè¿”å› &lt;strong&gt;Circuit Open&lt;/strong&gt; é”™è¯¯å¹¶è¢«æ ‡è®°ä¸ºå¤±è´¥ã€‚è¿™æ˜¯ä¸€ç§ä¸ç­‰å¾…å¤„ç†ç»“æŸçš„ timeout æ—¶é—´çš„ fail-fast æœºåˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;Half Openï¼šå‘¨æœŸæ€§åœ°å‘ä¸‹æ¸¸æœåŠ¡å‘å‡ºè¯·æ±‚ï¼Œæ£€æŸ¥å®ƒæ˜¯å¦å·²æ¢å¤ã€‚å¦‚æœä¸‹æ¸¸æœåŠ¡å·²æ¢å¤ï¼Œç†”æ–­å™¨åˆ‡æ¢åˆ° Closed çŠ¶æ€ï¼Œå¦åˆ™ç†”æ–­å™¨ä¿æŒ Open çŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ç†”æ–­å™¨åŸç†&#34;&gt;ç†”æ–­å™¨åŸç†&lt;/h2&gt;
&lt;p&gt;æ§åˆ¶ç†”æ–­çš„è®¾ç½®å…±æœ‰ 5 ä¸ªä¸»è¦å‚æ•°ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// CommandConfig is used to tune circuit settings at runtime
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;CommandConfig&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;Timeout&lt;/span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;`json:&amp;#34;timeout&amp;#34;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;MaxConcurrentRequests&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;`json:&amp;#34;max_concurrent_requests&amp;#34;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;RequestVolumeThreshold&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;`json:&amp;#34;request_volume_threshold&amp;#34;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;SleepWindow&lt;/span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;`json:&amp;#34;sleep_window&amp;#34;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;ErrorPercentThreshold&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;`json:&amp;#34;error_percent_threshold&amp;#34;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://gist.githubusercontent.com/aladine/18b38b37f838c1938131f67da0648e92/raw/8f97b8ef0b796ea5355b8f895b4009adfe472668/command.go&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æŸ¥çœ‹æºç &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡æ ¹æ®ä¸¤ä¸ªæœåŠ¡çš„ SLAï¼ˆâ€ Service Level Agreementï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://zh.wikipedia.org/zh-hans/%e6%9c%8d%e5%8a%a1%e7%ba%a7%e5%88%ab%e5%8d%8f%e8%ae%ae&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æœåŠ¡çº§åˆ«åè®®&lt;/a&gt;ï¼‰æ¥å®šå‡ºé˜ˆå€¼ã€‚å¦‚æœåœ¨æµ‹è¯•æ—¶æŠŠä¾èµ–çš„å…¶ä»–æœåŠ¡ä¹Ÿæ¶‰åŠåˆ°äº†ï¼Œè¿™äº›å€¼ä¼šå¾—åˆ°å¾ˆå¥½çš„è°ƒæ•´ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªå¥½çš„ç†”æ–­å™¨çš„åå­—åº”è¯¥èƒ½ç²¾ç¡®æŒ‡å‡ºå“ªä¸ªæœåŠ¡è¿æ¥å‡ºäº†é—®é¢˜ã€‚å®é™…ä¸Šï¼Œè¯·æ±‚ä¸€ä¸ªæœåŠ¡æ—¶å¯èƒ½ä¼šæœ‰å¾ˆå¤šä¸ª API endpointã€‚æ¯ä¸€ä¸ª endpoint éƒ½åº”è¯¥æœ‰ä¸€ä¸ªå¯¹åº”çš„ç†”æ–­å™¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç”Ÿäº§ä¸Šçš„ç†”æ–­å™¨&#34;&gt;ç”Ÿäº§ä¸Šçš„ç†”æ–­å™¨&lt;/h2&gt;
&lt;p&gt;ç†”æ–­å™¨é€šå¸¸è¢«æ”¾åœ¨èšåˆç‚¹ä¸Šã€‚å°½ç®¡ç†”æ–­å™¨æä¾›äº†ä¸€ç§ fail-fast æœºåˆ¶ï¼Œä½†æˆ‘ä»¬ä»ç„¶éœ€è¦ç¡®ä¿å¯é€‰çš„é™çº§æ–¹æ¡ˆå¯è¡Œã€‚å¦‚æœæˆ‘ä»¬å› ä¸ºå‡å®šéœ€è¦é™çº§æ–¹æ¡ˆçš„åœºæ™¯å‡ºç°çš„å¯èƒ½æ€§å¾ˆå°å°±ä¸å»æµ‹è¯•å®ƒï¼Œé‚£ï¼ˆä¹‹å‰çš„åŠªåŠ›ï¼‰å°±æ˜¯ç™½è´¹åŠ›æ°”äº†ã€‚å³ä½¿åœ¨æœ€ç®€å•çš„æ¼”ç»ƒä¸­ï¼Œæˆ‘ä»¬ä¹Ÿè¦ç¡®ä¿é˜ˆå€¼æ˜¯æœ‰æ„ä¹‰çš„ã€‚ä»¥æˆ‘çš„ä¸ªäººç»éªŒï¼ŒæŠŠå‚æ•°é…ç½®åœ¨ log ä¸­ print å‡ºæ¥å¯¹äº debug å¾ˆæœ‰å¸®åŠ©ã€‚&lt;/p&gt;
&lt;h2 id=&#34;demo&#34;&gt;Demo&lt;/h2&gt;
&lt;p&gt;è¿™æ®µå®ä¾‹ä»£ç ç”¨çš„æ˜¯ &lt;a class=&#34;link&#34; href=&#34;http://github.com/afex/hystrix-go/hystrix&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;hystrix-go&lt;/a&gt; åº“ï¼Œhystrix Netflix åº“åœ¨ Golang çš„å®ç°ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;package&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; (
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;errors&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;log&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;net/http&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;os&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;github.com/afex/hystrix-go/hystrix&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;commandName&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;producer_api&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;hystrix&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ConfigureCommand&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;commandName&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;hystrix&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;CommandConfig&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;Timeout&lt;/span&gt;:                &lt;span style=&#34;color:#ae81ff&#34;&gt;500&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;MaxConcurrentRequests&lt;/span&gt;:  &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;ErrorPercentThreshold&lt;/span&gt;:  &lt;span style=&#34;color:#ae81ff&#34;&gt;50&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;RequestVolumeThreshold&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;SleepWindow&lt;/span&gt;:            &lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;http&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;HandleFunc&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;logger&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;handle&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;listening on :8080&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;http&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ListenAndServe&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;:8080&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;handle&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;w&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;http&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ResponseWriter&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;http&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Request&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;output&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; make(&lt;span style=&#34;color:#66d9ef&#34;&gt;chan&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;errors&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;hystrix&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Go&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;commandName&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;() &lt;span style=&#34;color:#66d9ef&#34;&gt;error&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#75715e&#34;&gt;// talk to other services
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;callChargeProducerAPI&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#75715e&#34;&gt;// err := callWithRetryV1()
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#a6e22e&#34;&gt;output&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}, &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;select&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;output&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#75715e&#34;&gt;// success
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;success %v&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;errors&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#75715e&#34;&gt;// failure
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;failed %s&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// logger is Handler wrapper function for logging
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;logger&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;fn&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;http&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;HandlerFunc&lt;/span&gt;) &lt;span style=&#34;color:#a6e22e&#34;&gt;http&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;HandlerFunc&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;w&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;http&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ResponseWriter&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;http&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Request&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;URL&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Path&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Method&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;fn&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;w&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;callChargeProducerAPI&lt;/span&gt;() &lt;span style=&#34;color:#66d9ef&#34;&gt;error&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;os&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Getenv&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;SERVER_ERROR&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;os&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Getenv&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;SERVER_ERROR&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;errors&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;New&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;503 error&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;demo ä¸­åˆ†åˆ«æµ‹è¯•äº†è¯·æ±‚è°ƒç”¨é“¾ closed å’Œ open ä¸¤ç§æƒ…å†µï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/* Experiment 1: success path */
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;// server
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;go run main.go
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;// client
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; i in &lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;seq 10&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;; &lt;span style=&#34;color:#66d9ef&#34;&gt;do&lt;/span&gt; curl -x &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt; localhost:8080 ;&lt;span style=&#34;color:#66d9ef&#34;&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/* Experiment 2: circuit open */
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;// server
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;SERVER_ERROR&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; Go run main.go
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;// client
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; i in &lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;seq 10&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;; &lt;span style=&#34;color:#66d9ef&#34;&gt;do&lt;/span&gt; curl -x &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt; localhost:8080 ;&lt;span style=&#34;color:#66d9ef&#34;&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://gist.github.com/aladine/48d935c44820508e5bca2f061e3a7c1d/raw/930cdc10c41e8b9b37018f2be36bc421e6df481a/demo.sh&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æŸ¥çœ‹æºç &lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;é‡è¯•é—®é¢˜&#34;&gt;é‡è¯•é—®é¢˜&lt;/h2&gt;
&lt;p&gt;åœ¨ä¸Šé¢çš„ç†”æ–­å™¨æ¨¡å¼ä¸­ï¼Œå¦‚æœæœåŠ¡ B ç¼©å®¹ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿå¤§é‡å·²ç»ä» A å‘å‡ºçš„è¯·æ±‚ä¼šè¿”å› 5xx errorã€‚å¯èƒ½ä¼šè§¦å‘ç†”æ–­å™¨åˆ‡æ¢åˆ° open çš„é”™è¯¯æŠ¥è­¦ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦é‡è¯•ä»¥é˜²é—´æ­‡æ€§çš„ network hiccup å‘ç”Ÿã€‚&lt;/p&gt;
&lt;p&gt;ä¸€æ®µç®€å•çš„é‡è¯•ä»£ç ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;package&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;callWithRetryV1&lt;/span&gt;() (&lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;error&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;index&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;index&lt;/span&gt; &amp;lt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;index&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#75715e&#34;&gt;// call producer API
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;callChargeProducerAPI&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// adding backoff
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;// adding jitter
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://gist.githubusercontent.com/aladine/6d65d1db78b020ef9866e3a8ad2516aa/raw/a4d3b65cc4ef920cdfc7e898c130b92371007785/retry.go&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æŸ¥çœ‹æºç &lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;é‡è¯•æ¨¡å¼&#34;&gt;é‡è¯•æ¨¡å¼&lt;/h2&gt;
&lt;p&gt;ä¸ºäº†å®ç°ä¹è§‚é”ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºä¸åŒçš„æœåŠ¡é…ç½®ä¸åŒçš„é‡è¯•æ¬¡æ•°ã€‚å› ä¸ºç«‹å³é‡è¯•ä¼šå¯¹ä¸‹æ¸¸æœåŠ¡äº§ç”Ÿçˆ†å‘æ€§çš„è¯·æ±‚ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨ç«‹å³é‡è¯•ã€‚åŠ ä¸€ä¸ª backoff æ—¶é—´å¯ä»¥ç¼“è§£ä¸‹æ¸¸æœåŠ¡çš„å‹åŠ›ã€‚ä¸€äº›å…¶ä»–çš„æ¨¡å¼ä¼šç”¨ä¸€ä¸ªéšæœºçš„ backoff æ—¶é—´ï¼ˆæˆ–åœ¨ç­‰å¾…æ—¶åŠ  jitterï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èµ·æ¥çœ‹ä¸‹åˆ—ç®—æ³•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Exponential: bash * 2&lt;!-- raw HTML omitted --&gt;attemp&lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Full Jitter: sleep = rand(0, base * 2&lt;!-- raw HTML omitted --&gt;attempt&lt;!-- raw HTML omitted --&gt;)&lt;/li&gt;
&lt;li&gt;Equal Jitter: temp = base * 2&lt;!-- raw HTML omitted --&gt;attemp&lt;!-- raw HTML omitted --&gt;; sleep = temp/2+rand(0, temp/2)&lt;/li&gt;
&lt;li&gt;De-corredlated Jitter: sleep = rand(base, sleep*3)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ã€è¯‘æ³¨ã€‘å…³äºè¿™å‡ ä¸ªç®—æ³•ï¼Œå¯ä»¥å‚è€ƒ&lt;a class=&#34;link&#34; href=&#34;https://amazonaws-china.com/cn/blogs/architecture/exponential-backoff-and-jitter/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è¿™ç¯‡æ–‡ç« &lt;/a&gt; ã€‚&lt;strong&gt;Full Jitter&lt;/strong&gt;ã€ &lt;strong&gt;Equal Jitter&lt;/strong&gt;ã€ &lt;strong&gt;De-corredlated&lt;/strong&gt; ç­‰éƒ½æ˜¯åŸä½œè€…è‡ªå·±å®šä¹‰çš„åè¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201204111132.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å®¢æˆ·ç«¯çš„æ•°é‡ä¸æœåŠ¡ç«¯çš„æ€»è´Ÿè½½å’Œå¤„ç†å®Œæˆæ—¶é—´æ˜¯æœ‰å…³è”çš„ã€‚ä¸ºäº†ç¡®å®šä»€ä¹ˆæ ·çš„é‡è¯•æ¨¡å¼æœ€é€‚åˆä½ çš„ç³»ç»Ÿï¼Œåœ¨å®¢æˆ·ç«¯æ•°é‡å¢åŠ æ—¶å¾ˆæœ‰å¿…è¦è¿è¡ŒåŸºå‡†æµ‹è¯•ã€‚è¯¦ç»†çš„å®éªŒè¿‡ç¨‹å¯ä»¥åœ¨&lt;a class=&#34;link&#34; href=&#34;https://amazonaws-china.com/cn/blogs/architecture/exponential-backoff-and-jitter/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è¿™ç¯‡æ–‡ç« &lt;/a&gt;ä¸­çœ‹åˆ°ã€‚æˆ‘å»ºè®®çš„ç®—æ³•æ˜¯ de-corredlated Jitter å’Œ full jitter é€‰æ‹©å…¶ä¸­ä¸€ä¸ªã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸¤è€…ç»“åˆ&#34;&gt;ä¸¤è€…ç»“åˆ&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201204011245.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Example configuration of both tools&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç†”æ–­å™¨è¢«å¹¿æ³›ç”¨åœ¨æ— çŠ¶æ€çº¿ä¸Šäº‹åŠ¡ç³»ç»Ÿä¸­ï¼Œå°¤å…¶æ˜¯åœ¨èšåˆç‚¹ä¸Šã€‚é‡è¯•åº”è¯¥ç”¨äºè°ƒåº¦ä½œä¸šæˆ–ä¸è¢« timeout çº¦æŸçš„ workerã€‚ç»è¿‡æ·±æ€ç†Ÿè™‘åæˆ‘ä»¬å¯ä»¥åŒæ—¶ç”¨ç†”æ–­å™¨å’Œé‡è¯•ã€‚åœ¨å¤§å‹ç³»ç»Ÿä¸­ï¼Œservice mesh æ˜¯ä¸€ç§èƒ½æ›´ç²¾ç¡®åœ°ç¼–æ’ä¸åŒé…ç½®çš„ç†æƒ³æ¶æ„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‚è€ƒæ–‡ç« &#34;&gt;å‚è€ƒæ–‡ç« &lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/afex/hystrix-go/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/afex/hystrix-go/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/eapache/go-resiliency&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/eapache/go-resiliency&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/Netflix/Hystrix/wiki&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/Netflix/Hystrix/wiki&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.awsarchitectureblog.com/2015/03/backoff.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.awsarchitectureblog.com/2015/03/backoff.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://dzone.com/articles/go-microservices-part-11-hystrix-and-resilience&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://dzone.com/articles/go-microservices-part-11-hystrix-and-resilience&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://medium.com/@trongdan_tran/circuit-breaker-and-retry-64830e71d0f6&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://medium.com/@trongdan_tran/circuit-breaker-and-retry-64830e71d0f6&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://medium.com/@trongdan_tran&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Dan Tran&lt;/a&gt; è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Xiaobin.Liu&lt;/a&gt; æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/polaris1119&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;polaris1119&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/studygolang/GCTT&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://studygolang.com/articles/25295&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Goè¯­è¨€ä¸­æ–‡ç½‘&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘åç¨‹ï¼Œæ“ä½œç³»ç»Ÿçº¿ç¨‹å’Œ CPU ç®¡ç†</title>
        <link>https://lxb.wiki/4e717bb5/</link>
        <pubDate>Thu, 12 Dec 2019 23:01:35 +0000</pubDate>
        
        <guid>https://lxb.wiki/4e717bb5/</guid>
        <description>&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201206210657.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Illustration created for â€œA Journey With Goâ€, made from the original Go Gopher, created by Renee French.&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;â„¹ï¸ &lt;em&gt;æœ¬æ–‡è¿è¡Œç¯å¢ƒä¸º Go 1.13&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºä¸€ä¸ªç¨‹åºæ¥è¯´ï¼Œä»å†…å­˜å’Œæ€§èƒ½è§’åº¦è®²åˆ›å»ºä¸€ä¸ª OS çº¿ç¨‹æˆ–åˆ‡æ¢çº¿ç¨‹èŠ±è´¹å·¨å¤§ã€‚Go å¿—åœ¨æå°½æ‰€èƒ½åœ°å……åˆ†åˆ©ç”¨å†…æ ¸èµ„æºã€‚ä»ç¬¬ä¸€å¤©å¼€å§‹ï¼Œå®ƒå°±æ˜¯ä¸ºå¹¶å‘è€Œç”Ÿçš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;m-p-g-ç¼–æ’&#34;&gt;M, P, G ç¼–æ’&lt;/h2&gt;
&lt;p&gt;ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒGo æœ‰å®ƒè‡ªå·±çš„åœ¨çº¿ç¨‹é—´è°ƒåº¦åç¨‹çš„è°ƒåº¦å™¨ã€‚è¿™ä¸ªè°ƒåº¦å™¨å®šä¹‰äº†ä¸‰ä¸ªä¸»è¦æ¦‚å¿µï¼Œå¦‚æºç ä¸­è§£é‡Šçš„è¿™æ ·ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;The main concepts are:
G - goroutine.
M - worker thread, or machine.
P - processor, a resource that is required to execute Go code.
    M must have an associated P to execute Go code[...].
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;P&lt;/code&gt;, &lt;code&gt;M&lt;/code&gt;, &lt;code&gt;G&lt;/code&gt; æ¨¡å‹å›¾è§£ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201206210733.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;P, M, G diagram&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªåç¨‹ï¼ˆ&lt;code&gt;G&lt;/code&gt;ï¼‰è¿è¡Œåœ¨ä¸ä¸€ä¸ªé€»è¾‘ CPUï¼ˆ&lt;code&gt;P&lt;/code&gt;ï¼‰ç›¸å…³è”çš„ OS çº¿ç¨‹ï¼ˆ&lt;code&gt;M&lt;/code&gt;ï¼‰ä¸Šã€‚æˆ‘ä»¬ä¸€èµ·é€šè¿‡ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹æ¥çœ‹ Go æ˜¯æ€ä¹ˆç®¡ç†ä»–ä»¬çš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;wg&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sync&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;WaitGroup&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#a6e22e&#34;&gt;wg&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Add&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      println(&lt;span style=&#34;color:#e6db74&#34;&gt;`hello`&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#a6e22e&#34;&gt;wg&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Done&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   }()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      println(&lt;span style=&#34;color:#e6db74&#34;&gt;`world`&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#a6e22e&#34;&gt;wg&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Done&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   }()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#a6e22e&#34;&gt;wg&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Wait&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é¦–å…ˆï¼ŒGo æ ¹æ®æœºå™¨é€»è¾‘ CPU çš„ä¸ªæ•°æ¥åˆ›å»ºä¸åŒçš„ &lt;code&gt;P&lt;/code&gt;ï¼Œå¹¶ä¸”æŠŠå®ƒä»¬ä¿å­˜åœ¨ä¸€ä¸ªç©ºé—² &lt;code&gt;P&lt;/code&gt; çš„ list é‡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201206210931.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;P initialization&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åï¼Œä¸ºäº†æ›´å¥½åœ°å·¥ä½œæ–°åˆ›å»ºçš„å·²ç»å‡†å¤‡å¥½çš„åç¨‹ä¼šå”¤é†’ä¸€ä¸ª &lt;code&gt;P&lt;/code&gt;ã€‚è¿™ä¸ª &lt;code&gt;P&lt;/code&gt; é€šè¿‡ä¸ä¹‹ç›¸å…³è”çš„ OS çº¿ç¨‹æ¥åˆ›å»ºä¸€ä¸ª &lt;code&gt;M&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201206211012.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;OS thread creation&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œåƒ &lt;code&gt;P&lt;/code&gt; é‚£æ ·ï¼Œç³»ç»Ÿè°ƒç”¨è¿”å›çš„ç”šè‡³è¢« gc å¼ºè¡Œåœæ­¢çš„ç©ºé—²çš„ &lt;code&gt;M&lt;/code&gt; â€” æ¯”å¦‚æ²¡æœ‰åç¨‹åœ¨ç­‰å¾…è¿è¡Œ â€” ä¹Ÿä¼šè¢«åŠ åˆ°ä¸€ä¸ªç©ºé—² listï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201206211040.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;M and P idle list&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ç¨‹åºå¯åŠ¨é˜¶æ®µï¼ŒGo å°±å·²ç»åˆ›å»ºäº†ä¸€äº› OS çº¿ç¨‹å¹¶ä¸ &lt;code&gt;M&lt;/code&gt; æƒ³å…³è”äº†ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæ‰“å° &lt;code&gt;hello&lt;/code&gt; çš„ç¬¬ä¸€ä¸ªåç¨‹ä¼šä½¿ç”¨ä¸»åç¨‹ï¼Œç¬¬äºŒä¸ªä¼šä»è¿™ä¸ªç©ºé—² list ä¸­è·å–ä¸€ä¸ª &lt;code&gt;M&lt;/code&gt; å’Œ &lt;code&gt;P&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201206211126.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;M and P pulled from the idle list&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬å·²ç»æŒæ¡äº†åç¨‹å’Œçº¿ç¨‹ç®¡ç†çš„åŸºæœ¬è¦ä¹‰ï¼Œæ¥ä¸€èµ·çœ‹çœ‹ä»€ä¹ˆæƒ…å½¢ä¸‹ Go ä¼šç”¨æ¯” &lt;code&gt;P&lt;/code&gt; å¤šçš„ &lt;code&gt;M&lt;/code&gt;ï¼Œåœ¨ç³»ç»Ÿè°ƒç”¨æ—¶æ€ä¹ˆç®¡ç†åç¨‹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç³»ç»Ÿè°ƒç”¨&#34;&gt;ç³»ç»Ÿè°ƒç”¨&lt;/h2&gt;
&lt;p&gt;Go ä¼šä¼˜åŒ–ç³»ç»Ÿè°ƒç”¨ â€” æ— è®ºé˜»å¡ä¸å¦ â€” é€šè¿‡è¿è¡Œæ—¶å°è£…ä»–ä»¬ã€‚å°è£…çš„é‚£ä¸€å±‚ä¼šæŠŠ &lt;code&gt;P&lt;/code&gt; å’Œçº¿ç¨‹ &lt;code&gt;M&lt;/code&gt; åˆ†ç¦»ï¼Œå¹¶ä¸”å¯ä»¥è®©å¦ä¸€ä¸ªçº¿ç¨‹åœ¨å®ƒä¸Šé¢è¿è¡Œã€‚æˆ‘ä»¬æ‹¿æ–‡ä»¶è¯»å–ä¸¾ä¾‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#a6e22e&#34;&gt;buf&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; make([]&lt;span style=&#34;color:#66d9ef&#34;&gt;byte&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#a6e22e&#34;&gt;fd&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;_&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;os&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Open&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;number.txt&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#a6e22e&#34;&gt;fd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Read&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;buf&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#a6e22e&#34;&gt;fd&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Close&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   println(string(&lt;span style=&#34;color:#a6e22e&#34;&gt;buf&lt;/span&gt;)) &lt;span style=&#34;color:#75715e&#34;&gt;// 42
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ–‡ä»¶è¯»å–çš„æµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201206211158.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Syscall handoffs P&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;P0&lt;/code&gt; ç°åœ¨åœ¨ç©ºé—² list ä¸­ï¼Œæœ‰å¯èƒ½è¢«å”¤é†’ã€‚å½“ç³»ç»Ÿè°ƒç”¨ exit æ—¶ï¼ŒGo ä¼šéµå®ˆä¸‹é¢çš„è§„åˆ™ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå‘½ä¸­äº†ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°è¯•å»æ•è·ç›¸åŒçš„ &lt;code&gt;P&lt;/code&gt;ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­å°±æ˜¯ &lt;code&gt;P0&lt;/code&gt;ï¼Œç„¶å resume æ‰§è¡Œè¿‡ç¨‹&lt;/li&gt;
&lt;li&gt;å°è¯•ä»ç©ºé—² list ä¸­æ•è·ä¸€ä¸ª &lt;code&gt;P&lt;/code&gt;ï¼Œç„¶å resume æ‰§è¡Œè¿‡ç¨‹&lt;/li&gt;
&lt;li&gt;æŠŠåç¨‹æ”¾åˆ°å…¨å±€é˜Ÿåˆ—é‡Œï¼ŒæŠŠä¸ä¹‹ç›¸å…³è”çš„ &lt;code&gt;M&lt;/code&gt; æ”¾å›ç©ºé—² list å»&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç„¶è€Œï¼Œåœ¨åƒ http è¯·æ±‚ç­‰ non-blocking I/O æƒ…å½¢ä¸‹ï¼ŒGo åœ¨èµ„æºæ²¡æœ‰å‡†å¤‡å¥½æ—¶ä¹Ÿä¼šå¤„ç†è¯·æ±‚ã€‚åœ¨è¿™ç§æƒ…å½¢ä¸‹ï¼Œç¬¬ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ â€” éµå¾ªä¸Šè¿°æµç¨‹å›¾ â€” ç”±äºèµ„æºè¿˜æ²¡æœ‰å‡†å¤‡å¥½æ‰€ä»¥ä¸ä¼šæˆåŠŸï¼Œï¼ˆè¿™æ ·å°±ï¼‰è¿«ä½¿ Go ä½¿ç”¨ network poller å¹¶ä½¿åç¨‹åœé©»ã€‚è¯·çœ‹ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#a6e22e&#34;&gt;http&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Get&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;`https://httpstat.us/200`&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å½“ç¬¬ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨å®Œæˆä¸”æ˜¾å¼åœ°å£°æ˜äº†èµ„æºè¿˜æ²¡æœ‰å‡†å¤‡å¥½ï¼Œåç¨‹ä¼šåœ¨ network poller é€šçŸ¥å®ƒèµ„æºå‡†å¤‡å°±ç»ªä¹‹å‰ä¸€ç›´å¤„äºåœé©»çŠ¶æ€ã€‚åœ¨è¿™ç§æƒ…å½¢ä¸‹ï¼Œçº¿ç¨‹ &lt;code&gt;M&lt;/code&gt; ä¸ä¼šé˜»å¡ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201206211227.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Network poller waiting for the resource&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ Go è°ƒåº¦å™¨åœ¨ç­‰å¾…ä¿¡æ¯æ—¶åç¨‹ä¼šå†æ¬¡è¿è¡Œã€‚è°ƒåº¦å™¨åœ¨è·å–åˆ°ç­‰å¾…çš„ä¿¡æ¯åä¼šè¯¢é—® network poller æ˜¯å¦æœ‰åç¨‹åœ¨ç­‰å¾…è¢«è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201206211256.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœå¤šä¸ªåç¨‹éƒ½å‡†å¤‡å¥½äº†ï¼Œåªæœ‰ä¸€ä¸ªä¼šè¢«è¿è¡Œï¼Œå…¶ä»–çš„ä¼šè¢«åŠ åˆ°å…¨å±€çš„å¯è¿è¡Œé˜Ÿåˆ—ä¸­ï¼Œä»¥å¤‡åç»­çš„è°ƒåº¦ã€‚&lt;/p&gt;
&lt;h2 id=&#34;os-çº¿ç¨‹æ–¹é¢çš„é™åˆ¶&#34;&gt;OS çº¿ç¨‹æ–¹é¢çš„é™åˆ¶&lt;/h2&gt;
&lt;p&gt;åœ¨ç³»ç»Ÿè°ƒç”¨ä¸­ï¼ŒGo ä¸ä¼šé™åˆ¶å¯é˜»å¡çš„ OS çº¿ç¨‹æ•°ï¼Œæºç ä¸­æœ‰è§£é‡Šï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;The GOMAXPROCS variable limits the number of operating system threads that can execute user-level Go code simultaneously. There is no limit to the number of threads that can be blocked in system calls on behalf of Go code; those do not count against the GOMAXPROCS limit. This packageâ€™s GOMAXPROCS function queries and changes the limit.&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¯‘æ³¨ï¼š&lt;strong&gt;GOMAXPROCS&lt;/strong&gt; å˜é‡è¡¨ç¤ºå¯åŒæ—¶è¿è¡Œç”¨æˆ·çº§ Go ä»£ç çš„æ“ä½œç³»ç»Ÿçº¿ç¨‹çš„æœ€å¤§æ•°é‡ã€‚ç³»ç»Ÿè°ƒç”¨ä¸­å¯è¢«é˜»å¡çš„æœ€å¤§çº¿ç¨‹æ•°å¹¶æ²¡æœ‰é™åˆ¶ï¼›å¯è¢«é˜»å¡çš„çº¿ç¨‹æ•°å¯¹ &lt;strong&gt;GOMAXPROCS&lt;/strong&gt; æ²¡æœ‰å½±å“ã€‚è¿™ä¸ªåŒ…çš„ &lt;em&gt;&lt;strong&gt;GOMAXPROCS&lt;/strong&gt;&lt;/em&gt; å‡½æ•°æŸ¥è¯¢å’Œä¿®æ”¹è¿™ä¸ªæœ€å¤§æ•°é™åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹è¿™ç§æƒ…å½¢ä¸¾ä¾‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;wg&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sync&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;WaitGroup&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &amp;lt; &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt; ;&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;  {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#a6e22e&#34;&gt;wg&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Add&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;         &lt;span style=&#34;color:#a6e22e&#34;&gt;http&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Get&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;`https://httpstat.us/200?sleep=10000`&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;         &lt;span style=&#34;color:#a6e22e&#34;&gt;wg&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Done&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      }()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#a6e22e&#34;&gt;wg&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Wait&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ©ç”¨è¿½è¸ªå·¥å…·å¾—åˆ°çš„çº¿ç¨‹æ•°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201206211320.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç”±äº Go ä¼˜åŒ–äº†çº¿ç¨‹ä½¿ç”¨ï¼Œæ‰€ä»¥å½“åç¨‹é˜»å¡æ—¶ï¼Œå®ƒä»å¯å¤ç”¨ï¼Œè¿™å°±è§£é‡Šäº†ä¸ºä»€ä¹ˆå›¾ä¸­çš„æ•°è·Ÿç¤ºä¾‹ä»£ç å¾ªç¯ä¸­çš„æ•°ä¸ä¸€è‡´ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;via: &lt;a class=&#34;link&#34; href=&#34;https://medium.com/a-journey-with-go/go-goroutine-os-thread-and-cpu-management-2f5a5eaf518a&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://medium.com/a-journey-with-go/go-goroutine-os-thread-and-cpu-management-2f5a5eaf518a&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://medium.com/@blanchon.vincent&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Vincent Blanchon&lt;/a&gt; è¯‘è€…ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Xiaobin.Liu&lt;/a&gt; æ ¡å¯¹ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/polaris1119&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;polaris1119&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç”± &lt;a class=&#34;link&#34; href=&#34;https://github.com/studygolang/GCTT&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GCTT&lt;/a&gt; åŸåˆ›ç¼–è¯‘ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://studygolang.com/articles/25292&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Goè¯­è¨€ä¸­æ–‡ç½‘&lt;/a&gt; è£èª‰æ¨å‡º&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Symbol Names of Keyboard</title>
        <link>https://lxb.wiki/2d9f52fc/</link>
        <pubDate>Sat, 07 Dec 2019 10:22:50 +0000</pubDate>
        
        <guid>https://lxb.wiki/2d9f52fc/</guid>
        <description>&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ç¬¦å·	è‹±æ–‡å	ä¸­æ–‡å
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;~	tilde or swung dash	æ³¢æµªå­—ç¬¦æˆ–ä»£å­—å·
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;!	exclamation mark	æƒŠå¹å·
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;@	at sign or commercial at	çˆ±ç‰¹æˆ–å°è€é¼ 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#	number sign	äº•å·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$	dollar sign	ç¾å…ƒç¬¦
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;%	percent sign	ç™¾åˆ†å·
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;^	caret	è„±å­—ç¬¦
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;amp;	ampersand	ä¸å’Œç¬¦
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;*	asterisk	æ˜Ÿå·
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;	parentheses, round brackets, soft brackets, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	or circle brackets 	å°æ‹¬å·ï¼Œåœ†æ‹¬å·
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[]&lt;/span&gt;	brackets &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;US&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;, square brackets, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	closed brackets or hard brackets	ä¸­æ‹¬å·ï¼Œæ–¹æ‹¬å·
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;{}&lt;/span&gt;	braces &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;UK and US&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;, French brackets, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	curly brackets	å¤§æ‹¬å·ï¼ŒèŠ±æ‹¬å·
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&amp;gt; 	angle brackets or chevrons	å°–æ‹¬å·
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;_	underscore	ä¸‹åˆ’çº¿
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;+	plus sign	åŠ å·
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;âˆ’	minus sign	å‡å·
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;	equals sign	ç­‰å·
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt; 	less-than sign	å°äºå·
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; 	greater-than sign	å¤§äºå·
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.	period, full stop or dot	å¥å·ï¼Œç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;,	comma	é€—å·
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;:	colon 	å†’å·
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;;	semicolon	åˆ†å·
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;?	question mark	é—®å·
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-	hyphen	è¿å­—ç¬¦
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...	ellipsis	çœç•¥å·
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â€“	dash	ç ´æŠ˜å·
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/	slash, forward slash	æ–œçº¿
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\	&lt;/span&gt;backslash	åæ–œçº¿
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;|	vertical bar	ç«–çº¿
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â€œ	quotation mark	åŒå¼•å·
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â€˜	apostrophe	å•å¼•å·ï¼Œçœç•¥ç¬¦å·
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Goè¯­è¨€çš„å‘: String Format å¸¦æ¥çš„ Dead Lock</title>
        <link>https://lxb.wiki/1dadf84f/</link>
        <pubDate>Tue, 19 Nov 2019 23:03:37 +0800</pubDate>
        
        <guid>https://lxb.wiki/1dadf84f/</guid>
        <description>&lt;p&gt;[toc]&lt;/p&gt;
&lt;p&gt;å¦‚æœç±»å‹å®šä¹‰äº† String() æ–¹æ³•ï¼Œå®ƒä¼šè¢«ç”¨åœ¨ fmt.Printf() ä¸­ç”Ÿæˆé»˜è®¤çš„è¾“å‡ºï¼šç­‰åŒäºä½¿ç”¨æ ¼å¼åŒ–æè¿°ç¬¦ %v äº§ç”Ÿçš„è¾“å‡ºã€‚è¿˜æœ‰ fmt.Print() å’Œ fmt.Println() ä¹Ÿä¼šè‡ªåŠ¨ä½¿ç”¨ String() æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæˆ‘ä»¬çœ‹çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Customer&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutex&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sync&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;RWMutex&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;id&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;age&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Customer&lt;/span&gt;) &lt;span style=&#34;color:#a6e22e&#34;&gt;UpdateAge&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;age&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;error&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;mutex&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Lock&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;defer&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;mutex&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Unlock&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;age&lt;/span&gt; &amp;lt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Errorf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;age should be positive for customer %v&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;age&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;age&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Customer&lt;/span&gt;) &lt;span style=&#34;color:#a6e22e&#34;&gt;String&lt;/span&gt;() &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;enter string method&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;mutex&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;RLock&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;defer&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;mutex&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;RUnlock&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Sprintf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;id %s, age %d&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;id&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;age&lt;/span&gt;)}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœè°ƒç”¨ UpdateAge æ–¹æ³• age å°äº0ä¼šè°ƒç”¨ fmt.Errorfï¼Œæ ¼å¼åŒ–è¾“å‡ºï¼Œè¿™ä¸ªæ—¶å€™ String() æ–¹æ³•é‡Œé¢ä¹Ÿè¿›è¡Œäº†åŠ é”ï¼Œé‚£ä¹ˆè¿™æ ·ä¼šé€ æˆæ­»é”ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mutex.Lock -&amp;gt; check age -&amp;gt; Format error -&amp;gt; call String&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; -&amp;gt; mutex.RLock
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£å†³æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œä¸€ä¸ªæ˜¯ç¼©å°é”çš„èŒƒå›´ï¼Œåœ¨ check age ä¹‹åå†åŠ é”ï¼Œå¦ä¸€ç§æ–¹æ³•æ˜¯ Format error çš„æ—¶å€™ä¸è¦ Format æ•´ä¸ªç»“æ„ä½“ï¼Œå¯ä»¥æ”¹æˆ Format id å°±è¡Œäº†ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>goåŒ¿åå‡½æ•°å’Œé—­åŒ…</title>
        <link>https://lxb.wiki/e2c91def/</link>
        <pubDate>Sun, 17 Nov 2019 14:38:20 +0000</pubDate>
        
        <guid>https://lxb.wiki/e2c91def/</guid>
        <description>&lt;h3 id=&#34;å‡½æ•°å˜é‡å‡½æ•°å€¼&#34;&gt;å‡½æ•°å˜é‡(å‡½æ•°å€¼)&lt;/h3&gt;
&lt;p&gt;åœ¨ Go è¯­è¨€ä¸­ï¼Œå‡½æ•°è¢«çœ‹ä½œæ˜¯ç¬¬ä¸€ç±»å€¼ï¼Œè¿™æ„å‘³ç€å‡½æ•°åƒå˜é‡ä¸€æ ·ï¼Œæœ‰ç±»å‹ã€æœ‰å€¼ï¼Œå…¶ä»–æ™®é€šå˜é‡èƒ½åšçš„äº‹å®ƒä¹Ÿå¯ä»¥ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func square(x int) {
	println(x * x)
}
&lt;/code&gt;&lt;/pre&gt;&lt;ol&gt;
&lt;li&gt;ç›´æ¥è°ƒç”¨ï¼šsquare(1)&lt;/li&gt;
&lt;li&gt;æŠŠå‡½æ•°å½“æˆå˜é‡ä¸€æ ·èµ‹å€¼ï¼š&lt;code&gt;s := square&lt;/code&gt;ï¼›æ¥ç€å¯ä»¥è°ƒç”¨è¿™ä¸ªå‡½æ•°å˜é‡ï¼šs(1)ã€‚ æ³¨æ„ï¼šè¿™é‡Œ square åé¢æ²¡æœ‰åœ†æ‹¬å·ï¼Œè°ƒç”¨æ‰æœ‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;è°ƒç”¨ &lt;code&gt;nil&lt;/code&gt; çš„å‡½æ•°å˜é‡ä¼šå¯¼è‡´ panicã€‚&lt;/li&gt;
&lt;li&gt;å‡½æ•°å˜é‡çš„é›¶å€¼æ˜¯ nilï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥è·Ÿ nil æ¯”è¾ƒï¼Œä½†ä¸¤ä¸ªå‡½æ•°å˜é‡ä¹‹é—´ä¸èƒ½æ¯”è¾ƒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åŒ¿åå‡½æ•°&#34;&gt;åŒ¿åå‡½æ•°&lt;/h3&gt;
&lt;p&gt;ä½œç”¨: åœ¨goè¯­è¨€ä¸­ç›®å‰äº†è§£çš„ä½œç”¨å°±æ˜¯ç”¨äºæ„æˆé—­åŒ…&lt;/p&gt;
&lt;h3 id=&#34;é—­åŒ…&#34;&gt;é—­åŒ…&lt;/h3&gt;
&lt;p&gt;é—­åŒ…é€šè¿‡å¼•ç”¨çš„æ–¹å¼ä½¿ç”¨å¤–éƒ¨å‡½æ•°çš„å˜é‡
å‡½æ•°ä¸ ä¸å…¶(ç›´æ¥)ç›¸å…³çš„ç¯å¢ƒå½¢æˆé—­åŒ…&lt;/p&gt;
&lt;p&gt;ç®€å•æ¥è¯´: å› ä¸ºæŠŠè¿”å›çš„å‡½æ•°èµ‹ç»™äº†ä¸€ä¸ªå˜é‡, è™½ç„¶å‡½æ•°åœ¨æ‰§è¡Œå®Œä¸€ç¬é—´ä¼šé”€æ¯å…¶æ‰§è¡Œç¯å¢ƒ, ä½†æ˜¯å¦‚æœæœ‰é—­åŒ…çš„è¯, é—­åŒ…ä¼šä¿å­˜å¤–éƒ¨å‡½æ•°çš„æ´»åŠ¨å¯¹è±¡(å˜é‡), æ‰€ä»¥å¦‚æœä¸å¯¹é—­åŒ…çš„å¼•ç”¨æ¶ˆé™¤æ‰, é—­åŒ…ä¼šä¸€ç›´å­˜åœ¨å†…å­˜ä¸­, åƒåœ¾æ”¶é›†å™¨ä¸ä¼šé”€æ¯é—­åŒ…å ç”¨çš„å†…å­˜&lt;/p&gt;
&lt;h4 id=&#34;å®ä¾‹1&#34;&gt;å®ä¾‹1&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;//å‡½æ•°Aæ˜¯ä¸€ä¸ªä¸å¸¦å‚æ•°ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œä¸”è¯¥å‡½æ•°
//å¸¦æœ‰ä¸€ä¸ªintç±»å‹å‚æ•°ï¼Œè¿”å›å€¼ä¸ºä¸€ä¸ªintç±»å‹
func A() func(int) int {
	sum := 0
	return func(bb int) int {
		sum += bb
		fmt.Println(&amp;#34;bb=&amp;#34;, bb, &amp;#34;\tsum=&amp;#34;, sum)
		return sum
	}
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è°ƒç”¨1:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func main() {
	a := A()//å®šä¹‰å˜é‡a,å¹¶å°†å‡½æ•°Açš„è¿”å›å€¼èµ‹ç»™a // è¿™ä¸ªæ—¶å€™, è™½ç„¶æœ‰å°æ‹¬å·, ä½†æ˜¯func A()è¿˜æœªçœŸæ­£æ‰§è¡Œ, åªæ˜¯èµ‹å€¼ç»™äº†å˜é‡a
	b := a(4) //çœŸæ­£æ‰§è¡Œfunc A()
	fmt.Println(b)
}
/*
**    è¾“å‡ºï¼š   
**    bb= 4   sum= 4
**    4
*/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è°ƒç”¨2&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func main() {
	a := A()
	a(0)
	a(1)
	a(5)
}
/*
**ã€€ã€€è¾“å‡ºï¼š
**ã€€ã€€bb= 0 	sum= 0
**ã€€ã€€bb= 1 	sum= 1
**ã€€ã€€bb= 5 	sum= 6
*/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä»¥ä¸Šè°ƒç”¨é€šè¿‡é—­åŒ…å®ç°äº†sumçš„ç´¯åŠ &lt;/p&gt;
&lt;p&gt;è°ƒç”¨3&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func main() {
	a := A()
	c := A()
	a(0)
	a(5)
	c(10)
	c(20)
}
/*
**ã€€ã€€è¾“å‡ºï¼š
**ã€€ã€€bb= 0 	sum= 0
**ã€€ã€€bb= 5 	sum= 5
**ã€€ã€€bb= 10 	sum= 10
**ã€€ã€€bb= 20 	sum= 30   
*/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ã€€å¯ä»¥çœ‹å‡ºï¼Œä¸Šä¾‹ä¸­è°ƒç”¨äº†ä¸¤æ¬¡å‡½æ•°Aï¼Œæ„æˆäº†ä¸¤ä¸ªé—­åŒ…ï¼Œè¿™ä¸¤ä¸ªé—­åŒ…ç»´æŠ¤çš„å˜é‡sumä¸æ˜¯åŒä¸€ä¸ªå˜é‡ã€‚
ã€€
ã€€&lt;/p&gt;
&lt;h4 id=&#34;å®ä¾‹2&#34;&gt;å®ä¾‹2&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func B() []func() {
	b := make([]func(), 3, 3)
	for i := 0; i &amp;lt; 3; i++ {
		b[i] = func() {
			fmt.Println(i)
		}
	}
	return b
}

func main() {
	c := B() // è¿™ä¸ªæ—¶å€™å¹¶æœªçœŸæ­£æ‰§è¡Œå‡½æ•°, åªæ˜¯å®šä¹‰, æ‰€ä»¥ä¸ä¼šprint
	c[0]() // è¿™ä¸ªæ—¶å€™çœŸæ­£æ‰§è¡Œ, ä½†æ˜¯ç”±äºé—­åŒ…, c[0] ä¸­æ‹¿çš„içš„å¼•ç”¨
	c[1]()
	c[2]()
}
/*
**ã€€ã€€è¾“å‡ºï¼š
**ã€€ã€€3
**ã€€ã€€3
**ã€€ã€€3
*/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;é—­åŒ…é€šè¿‡å¼•ç”¨çš„æ–¹å¼ä½¿ç”¨å¤–éƒ¨å‡½æ•°çš„å˜é‡ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€ä¸Šä¾‹ä¸­åªè°ƒç”¨äº†ä¸€æ¬¡å‡½æ•°B,æ„æˆä¸€ä¸ªé—­åŒ…(&lt;code&gt;func() {fmt.Println(i)}&lt;/code&gt; ä¸å®ƒçš„ç¯å¢ƒ&lt;code&gt;func B() []func(){}&lt;/code&gt; æ„æˆé—­åŒ…)ï¼Œi åœ¨å¤–éƒ¨å‡½æ•°Bä¸­å®šä¹‰ï¼Œæ‰€ä»¥é—­åŒ…ç»´æŠ¤è¯¥å˜é‡ i ï¼Œc[0]ã€c[1]ã€c[2]ä¸­çš„ i éƒ½æ˜¯é—­åŒ…ä¸­ i çš„å¼•ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ã€€ã€€å› æ­¤æ‰§è¡Œ&lt;code&gt;c:=B()&lt;/code&gt;åï¼Œi çš„å€¼å·²ç»å˜ä¸º3ï¼Œæ•…å†è°ƒç”¨c&lt;a class=&#34;link&#34; href=&#34;&#34; &gt;0&lt;/a&gt;æ—¶çš„è¾“å‡ºæ˜¯3è€Œä¸æ˜¯0ã€‚
ã€€ã€€
å¯ä½œå¦‚ä¸‹ä¿®æ”¹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func B() []func() {
	b := make([]func(), 3, 3)
	for i := 0; i &amp;lt; 3; i++ {
		b[i] = (func(j int) func() {
			return func() {
				fmt.Println(j)
			}
		})(i) // è¿™ä¸ªåœ°æ–¹çš„å°æ‹¬å·æ˜¯çœŸæ­£æ‰§è¡Œäº†
	}
	return b
}

func main() {
	c := B()
	c[0]()
	c[1]()
	c[2]()
}
/*
**    è¾“å‡ºï¼š
**        0
**        1
**        2
*/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å‡½æ•°&lt;code&gt;func() {fmt.Println(j)}&lt;/code&gt; ä¸å®ƒçš„ç¯å¢ƒ&lt;code&gt;func(j int) func() {}&lt;/code&gt; æ„æˆé—­åŒ…, å˜é‡&lt;code&gt;i&lt;/code&gt;(å®å‚) å¹¶æ²¡æœ‰åœ¨å®ƒçš„ç¯å¢ƒèŒƒå›´å†…, ä¸” &lt;code&gt;j&lt;/code&gt;æ˜¯å½¢å‚
ä»¥ä¸Šä¿®æ”¹å¯èƒ½æ²¡æœ‰ä»€ä¹ˆå®é™…æ„ä¹‰ï¼Œæ­¤å¤„ä»…ä¸ºè¯´æ˜é—®é¢˜ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä½¿ç”¨deferçš„æ—¶å€™å¯èƒ½å‡ºç°ç±»ä¼¼é—®é¢˜ï¼Œéœ€è¦æ³¨æ„ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;for j := 0; j &amp;lt; 2; j++ {
	defer (func() {
		fmt.Println(j)
	})()
}
/*
**    è¾“å‡ºï¼š    
**    2    
**    2
*/
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;å®ä¾‹3&#34;&gt;å®ä¾‹3:&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func incr() func() int {
	var x int
	return func() int {
		x++
		return x
	}
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è°ƒç”¨è¿™ä¸ªå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå‡½æ•°å˜é‡ã€‚
&lt;code&gt;i := incr()&lt;/code&gt; : é€šè¿‡æŠŠè¿™ä¸ªå‡½æ•°å˜é‡èµ‹å€¼ç»™&lt;code&gt;i&lt;/code&gt;, &lt;code&gt;i&lt;/code&gt; å°±æˆä¸ºäº†ä¸€ä¸ªé—­åŒ…
æ‰€ä»¥&lt;code&gt;i&lt;/code&gt; ä¿å­˜ç€å¯¹&lt;code&gt;x&lt;/code&gt; çš„å¼•ç”¨, å¯ä»¥æƒ³è±¡&lt;code&gt;i&lt;/code&gt; ä¸­æœ‰ç€ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘&lt;code&gt;x&lt;/code&gt; æˆ–è€… &lt;code&gt;i&lt;/code&gt; ä¸­æœ‰&lt;code&gt;x&lt;/code&gt; çš„åœ°å€&lt;/p&gt;
&lt;p&gt;ç”±äº&lt;code&gt;i&lt;/code&gt; æœ‰ç€æŒ‡å‘&lt;code&gt;x&lt;/code&gt; çš„æŒ‡é’ˆ, æ‰€ä»¥å¯ä»¥ä¿®æ”¹&lt;code&gt;x&lt;/code&gt; , ä¸”ä¿æŒç€çŠ¶æ€:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;println(i()) // 1
println(i()) // 2
println(i()) // 3
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´, &lt;code&gt;x&lt;/code&gt; é€ƒé€¸äº†, å®ƒçš„å£°æ˜å‘¨æœŸæ²¡æœ‰éšç€å®ƒçš„ä½œç”¨åŸŸç»“æŸè€Œç»“æŸ
ä½†æ˜¯è¿™æ®µä»£ç å´ä¸ä¼šé€’å¢ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;println(incr()()) // 1
println(incr()()) // 1
println(incr()()) // 1
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™æ˜¯å› ä¸ºè¿™é‡Œè°ƒç”¨äº†ä¸‰æ¬¡ &lt;code&gt;incr()&lt;/code&gt;ï¼Œè¿”å›äº†ä¸‰ä¸ªé—­åŒ…ï¼Œè¿™ä¸‰ä¸ªé—­åŒ…å¼•ç”¨ç€ä¸‰ä¸ªä¸åŒçš„ &lt;code&gt;x&lt;/code&gt;ï¼Œå®ƒä»¬çš„çŠ¶æ€æ˜¯å„è‡ªç‹¬ç«‹çš„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å®ä¾‹4-é—­åŒ…å¼•ç”¨äº§ç”Ÿçš„é—®é¢˜&#34;&gt;å®ä¾‹4: é—­åŒ…å¼•ç”¨äº§ç”Ÿçš„é—®é¢˜&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;x := 1
f := func() {
	println(x)
}
x = 2
x = 3
f() // 3
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å› ä¸ºé—­åŒ…å¯¹å¤–å±‚è¯æ³•åŸŸå˜é‡æ˜¯å¼•ç”¨çš„ï¼Œæ‰€ä»¥è¿™æ®µä»£ç ä¼šè¾“å‡º 3ã€‚
å¯ä»¥æƒ³è±¡ f ä¸­ä¿å­˜ç€ x çš„åœ°å€ï¼Œå®ƒä½¿ç”¨ x æ—¶ä¼šç›´æ¥è§£å¼•ç”¨ï¼Œæ‰€ä»¥ x çš„å€¼æ”¹å˜äº†ä¼šå¯¼è‡´ f è§£å¼•ç”¨å¾—åˆ°çš„å€¼ä¹Ÿä¼šæ”¹å˜ã€‚
ä½†æ˜¯ï¼Œè¿™æ®µä»£ç å´ä¼šè¾“å‡º 1ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;x := 1
func() {
	println(x) // 1
}()
x = 2
x = 3
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™æ˜¯å› ä¸º f è°ƒç”¨æ—¶å°±å·²ç»è§£å¼•ç”¨å–å€¼äº†ï¼Œè¿™ä¹‹åçš„ä¿®æ”¹å°±ä¸å®ƒæ— å…³äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡å¦‚æœå†æ¬¡è°ƒç”¨ f è¿˜æ˜¯ä¼šè¾“å‡º 3ï¼Œè¿™ä¹Ÿå†ä¸€æ¬¡è¯æ˜äº† f ä¸­ä¿å­˜ç€ x çš„åœ°å€ã€‚
å¯ä»¥é€šè¿‡åœ¨é—­åŒ…å†…å¤–æ‰“å°æ‰€å¼•ç”¨å˜é‡çš„åœ°å€æ¥è¯æ˜ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;x := 1
func() {
	println(&amp;amp;x) // 0xc0000de790
}()
println(&amp;amp;x) // 0xc0000de790
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°å¼•ç”¨çš„æ˜¯åŒä¸€ä¸ªåœ°å€ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å®ä¾‹51-å¾ªç¯é—­åŒ…å¼•ç”¨&#34;&gt;å®ä¾‹5.1: å¾ªç¯é—­åŒ…å¼•ç”¨&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;for i := 0; i &amp;lt; 3; i++ {
	func() {
		println(i) // 0, 1, 2
	}()
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™æ®µä»£ç ç›¸å½“äºï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;for i := 0; i &amp;lt; 3; i++ {
	f := func() {
		println(i) // 0, 1, 2
	}
	f()
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ¯æ¬¡è¿­ä»£åéƒ½å¯¹ i è¿›è¡Œäº†è§£å¼•ç”¨å¹¶ä½¿ç”¨å¾—åˆ°çš„å€¼ä¸”ä¸å†ä½¿ç”¨ï¼Œæ‰€ä»¥è¿™æ®µä»£ç ä¼šæ­£å¸¸è¾“å‡ºã€‚&lt;/p&gt;
&lt;h4 id=&#34;å®ä¾‹52&#34;&gt;å®ä¾‹5.2&lt;/h4&gt;
&lt;p&gt;æ­£å¸¸ä»£ç ï¼šè¾“å‡º 0, 1, 2ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;var dummy [3]int
for i := 0; i &amp;lt; len(dummy); i++ {
	println(i) // 0, 1, 2
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç„¶è€Œè¿™æ®µä»£ç ä¼šè¾“å‡º 3ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;var dummy [3]int
var f func()
for i := 0; i &amp;lt; len(dummy); i++ {
	f = func() {
		println(i)
	}
}
f() // 3 è¿™ä¸ªåœ°æ–¹iæœ€åçš„å€¼æ˜¯3, è€Œä¸æ˜¯2, å› ä¸ºåªæœ‰içš„å€¼æ˜¯3æ—¶, æ‰ä¼šè·³å‡ºå¾ªç¯
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;å®ä¾‹53&#34;&gt;å®ä¾‹5.3&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;var funcSlice []func()
for i := 0; i &amp;lt; 3; i++ {
	funcSlice = append(funcSlice, func() {
		println(i)
	})

}
for j := 0; j &amp;lt; 3; j++ {
	funcSlice[j]() // 3, 3, 3
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸ºäº†è§£å†³ä¸Šé¢è¿™ç§æƒ…å†µ, å¯ä»¥å£°æ˜æ–°çš„åŒ¿åå‡½æ•°å¹¶ä¼ å‚:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;var funcSlice []func()
for i := 0; i &amp;lt; 3; i++ {
	func(k int) {
		funcSlice = append(funcSlice, func() {
			println(k)
		})
	}(i)

}
for j := 0; j &amp;lt; 3; j++ {
	funcSlice[j]() // 0, 1, 2
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç°åœ¨ &lt;code&gt;println(k)&lt;/code&gt; ä½¿ç”¨çš„ &lt;code&gt;k&lt;/code&gt; æ˜¯é€šè¿‡å‡½æ•°å‚æ•°ä¼ é€’è¿›æ¥çš„ï¼Œå¹¶ä¸” Go è¯­è¨€çš„å‡½æ•°å‚æ•°æ˜¯æŒ‰å€¼ä¼ é€’çš„ã€‚(æŠŠ&lt;code&gt;k&lt;/code&gt;æ¢æˆ&lt;code&gt;i&lt;/code&gt;ä¹Ÿæ²¡æœ‰é—®é¢˜, å³ä½¿å®ƒä¸foræ¡ä»¶çš„ä¸­çš„&lt;code&gt;i&lt;/code&gt; å’Œfuncçš„å…¥å‚&lt;code&gt;i&lt;/code&gt; é‡åä¹Ÿèƒ½æ­£å¸¸è¿è¡Œ)&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ç›¸å½“äºåœ¨è¿™ä¸ªæ–°çš„åŒ¿åå‡½æ•°å†…å£°æ˜äº†ä¸‰ä¸ªå˜é‡ï¼Œè¢«ä¸‰ä¸ªé—­åŒ…å‡½æ•°ç‹¬ç«‹å¼•ç”¨ã€‚åŸç†è·Ÿç¬¬ä¸€ç§æ–¹æ³•æ˜¯ä¸€æ ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œçš„è§£å†³æ–¹æ³•å¯ä»¥ç”¨åœ¨å¤§å¤šæ•°è·Ÿé—­åŒ…å¼•ç”¨æœ‰å…³çš„é—®é¢˜ä¸Šï¼Œä¸å±€é™äºç¬¬ä¸‰ä¸ªä¾‹å­ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Goè¯­è¨€çš„å‘: Happens Before ä¿è¯</title>
        <link>https://lxb.wiki/a81f14e2/</link>
        <pubDate>Sat, 16 Nov 2019 23:01:24 +0800</pubDate>
        
        <guid>https://lxb.wiki/a81f14e2/</guid>
        <description>&lt;p&gt;[toc]&lt;/p&gt;
&lt;p&gt;åˆ›å»º goroutine å‘ç”Ÿå…ˆäº goroutine æ‰§è¡Œï¼Œæ‰€ä»¥ä¸‹é¢è¿™æ®µä»£ç å…ˆè¯»ä¸€ä¸ªå˜é‡ï¼Œç„¶ååœ¨ goroutine ä¸­å†™å˜é‡ä¸ä¼šå‘ç”Ÿ data race é—®é¢˜ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;goroutine é€€å‡ºæ²¡æœ‰ä»»ä½• happen beforeä¿è¯ï¼Œä¾‹å¦‚ä¸‹é¢ä»£ç ä¼šæœ‰ data race ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }()    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;channel æ“ä½œä¸­ send æ“ä½œæ˜¯ happens before receive æ“ä½œ ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; = make(&lt;span style=&#34;color:#66d9ef&#34;&gt;chan&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;f&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;hello, world&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;f&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  print(&lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢æ‰§è¡Œé¡ºåºåº”è¯¥æ˜¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;variable change -&amp;gt; channel send -&amp;gt; channel receive -&amp;gt; variable read
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢èƒ½å¤Ÿä¿è¯ä¸€å®šè¾“å‡º &amp;ldquo;hello, world&amp;rdquo;ã€‚&lt;/p&gt;
&lt;p&gt;close channel æ˜¯ happens before receive æ“ä½œï¼Œæ‰€ä»¥ä¸‹é¢è¿™ä¸ªä¾‹å­ä¸­ä¹Ÿä¸ä¼šæœ‰ data race é—®é¢˜ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;ch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; make(&lt;span style=&#34;color:#66d9ef&#34;&gt;chan&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt;{})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ch&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    close(&lt;span style=&#34;color:#a6e22e&#34;&gt;ch&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨æ— ç¼“å†²çš„ channel ä¸­ receive æ“ä½œæ˜¯ happens before send æ“ä½œçš„ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; = make(&lt;span style=&#34;color:#66d9ef&#34;&gt;chan&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;f&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;hello, world&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;f&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  print(&lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡ŒåŒæ ·èƒ½ä¿è¯è¾“å‡º hello, worldã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Goè¯­è¨€çš„å‘: String ç›¸å…³</title>
        <link>https://lxb.wiki/b23a493c/</link>
        <pubDate>Fri, 15 Nov 2019 22:58:48 +0800</pubDate>
        
        <guid>https://lxb.wiki/b23a493c/</guid>
        <description>&lt;p&gt;[toc]&lt;/p&gt;
&lt;h3 id=&#34;è¿­ä»£å¸¦æ¥çš„é—®é¢˜&#34;&gt;è¿­ä»£å¸¦æ¥çš„é—®é¢˜&lt;/h3&gt;
&lt;p&gt;åœ¨ Go è¯­è¨€ä¸­ï¼Œå­—ç¬¦ä¸²æ˜¯ä¸€ç§åŸºæœ¬ç±»å‹ï¼Œ&lt;strong&gt;é»˜è®¤æ˜¯é€šè¿‡ utf8 ç¼–ç çš„å­—ç¬¦åºåˆ—&lt;/strong&gt;ï¼Œå½“å­—ç¬¦ä¸º ASCII ç æ—¶åˆ™å ç”¨ 1 ä¸ªå­—èŠ‚ï¼Œå…¶ä»–å­—ç¬¦æ ¹æ®éœ€è¦å ç”¨ 2-4 ä¸ªå­—èŠ‚ï¼Œæ¯”å¦‚ä¸­æ–‡ç¼–ç é€šå¸¸éœ€è¦ 3 ä¸ªå­—èŠ‚ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæˆ‘ä»¬åœ¨åš string è¿­ä»£çš„æ—¶å€™å¯èƒ½ä¼šäº§ç”Ÿæ„æƒ³ä¸åˆ°çš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;hÃªllo&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;range&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;position %d: %c\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;len=%d\n&amp;#34;&lt;/span&gt;, len(&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾“å‡ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;position 0: h
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;position 1: Ãƒ
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;position 3: l
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;position 4: l
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;position 5: o
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;len&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢çš„è¾“å‡ºä¸­å‘ç°ç¬¬äºŒä¸ªå­—ç¬¦æ˜¯ Ãƒï¼Œä¸æ˜¯ Ãªï¼Œå¹¶ä¸”ä½ç½®2çš„è¾“å‡ºâ€æ¶ˆå¤±â€œäº†ï¼Œè¿™å…¶å®å°±æ˜¯å› ä¸º Ãª åœ¨ utf8 é‡Œé¢å®é™…ä¸Šå ç”¨ 2 ä¸ª byteï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;s&lt;/th&gt;
&lt;th&gt;h&lt;/th&gt;
&lt;th&gt;Ãª&lt;/th&gt;
&lt;th&gt;l&lt;/th&gt;
&lt;th&gt;l&lt;/th&gt;
&lt;th&gt;o&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;[]byte(s)&lt;/td&gt;
&lt;td&gt;68&lt;/td&gt;
&lt;td&gt;c3 aa&lt;/td&gt;
&lt;td&gt;6c&lt;/td&gt;
&lt;td&gt;6c&lt;/td&gt;
&lt;td&gt;6f&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬åœ¨è¿­ä»£çš„æ—¶å€™ s[1] ç­‰äº c3 è¿™ä¸ª byte ç­‰ä»· Ãƒ è¿™ä¸ª utf8 å€¼ï¼Œæ‰€ä»¥è¾“å‡ºçš„æ˜¯ hÃƒllo è€Œä¸æ˜¯ hÃªlloã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæ ¹æ®ä¸Šé¢çš„åˆ†æï¼Œæˆ‘ä»¬å°±å¯ä»¥çŸ¥é“åœ¨è¿­ä»£è·å–å­—ç¬¦çš„æ—¶å€™ä¸èƒ½åªè·å–å•ä¸ª byteï¼Œåº”è¯¥ä½¿ç”¨ range è¿”å›çš„ valueå€¼ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;hÃªllo&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;v&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;range&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;position %d: %c\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;v&lt;/span&gt;)  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ–è€…æˆ‘ä»¬å¯ä»¥æŠŠ string è½¬æˆ rune æ•°ç»„ï¼Œåœ¨ go ä¸­ rune ä»£è¡¨ Unicodeç ä½ï¼Œç”¨å®ƒå¯ä»¥è¾“å‡ºå•ä¸ªå­—ç¬¦ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;hÃªllo&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;runes&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; []rune(&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;_&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;range&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;runes&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;position %d: %c\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;runes&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;])  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾“å‡ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;position 0: h
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;position 1: Ãª
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;position 2: l
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;position 3: l
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;position 4: o
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;æˆªæ–­å¸¦æ¥çš„é—®é¢˜&#34;&gt;æˆªæ–­å¸¦æ¥çš„é—®é¢˜&lt;/h2&gt;
&lt;p&gt;Go ä¸­&lt;strong&gt;åœ¨å¯¹sliceä½¿ç”¨ ï¼šæ“ä½œç¬¦è¿›è¡Œæˆªæ–­çš„æ—¶å€™ï¼Œåº•å±‚çš„æ•°ç»„å®é™…ä¸ŠæŒ‡å‘åŒä¸€ä¸ª&lt;/strong&gt;ï¼Œåœ¨ string é‡Œé¢ä¹Ÿéœ€è¦æ³¨æ„è¿™ä¸ªé—®é¢˜ï¼Œæ¯”å¦‚ä¸‹é¢ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;store&lt;/span&gt;) &lt;span style=&#34;color:#a6e22e&#34;&gt;handleLog&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;error&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; len(&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;) &amp;lt; &lt;span style=&#34;color:#ae81ff&#34;&gt;36&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;errors&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;New&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;log is not correctly formatted&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;uuid&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;[:&lt;span style=&#34;color:#ae81ff&#34;&gt;36&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;store&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;uuid&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// Do something    
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ®µä»£ç ç”¨äº† ï¼šæ“ä½œç¬¦è¿›è¡Œæˆªæ–­ï¼Œä½†æ˜¯å¦‚æœ log è¿™ä¸ªå¯¹è±¡å¾ˆå¤§ï¼Œæ¯”å¦‚ä¸Šé¢çš„ store æ–¹æ³•æŠŠ uuid ä¸€ç›´å­˜åœ¨å†…å­˜é‡Œï¼Œå¯èƒ½ä¼šé€ æˆåº•å±‚çš„æ•°ç»„ä¸€ç›´ä¸é‡Šæ”¾ï¼Œä»è€Œé€ æˆå†…å­˜æ³„éœ²ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå¤åˆ¶ä¸€ä»½å†å¤„ç†ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;store&lt;/span&gt;) &lt;span style=&#34;color:#a6e22e&#34;&gt;handleLog&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;error&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; len(&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;) &amp;lt; &lt;span style=&#34;color:#ae81ff&#34;&gt;36&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;errors&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;New&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;log is not correctly formatted&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;uuid&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;strings&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Clone&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;[:&lt;span style=&#34;color:#ae81ff&#34;&gt;36&lt;/span&gt;]) &lt;span style=&#34;color:#75715e&#34;&gt;// copyä¸€ä»½
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;store&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;uuid&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;// Do something    
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Goè¯­è¨€çš„å‘: Defer</title>
        <link>https://lxb.wiki/725e70e6/</link>
        <pubDate>Thu, 14 Nov 2019 22:56:42 +0800</pubDate>
        
        <guid>https://lxb.wiki/725e70e6/</guid>
        <description>&lt;p&gt;[toc]&lt;/p&gt;
&lt;h2 id=&#34;æ³¨æ„-defer-çš„è°ƒç”¨æ—¶æœº&#34;&gt;æ³¨æ„ defer çš„è°ƒç”¨æ—¶æœº&lt;/h2&gt;
&lt;p&gt;æœ‰æ—¶å€™æˆ‘ä»¬ä¼šåƒä¸‹é¢ä¸€æ ·ä½¿ç”¨ defer å»å…³é—­ä¸€äº›èµ„æºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;readFiles&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;ch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;chan&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;error&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;path&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;range&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ch&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#a6e22e&#34;&gt;file&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;os&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Open&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;path&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#66d9ef&#34;&gt;defer&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;file&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Close&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#75715e&#34;&gt;// Do something with file
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å› ä¸ºdeferä¼šåœ¨æ–¹æ³•ç»“æŸçš„æ—¶å€™è°ƒç”¨ï¼Œä½†æ˜¯&lt;strong&gt;å¦‚æœä¸Šé¢çš„ readFiles å‡½æ•°æ°¸è¿œæ²¡æœ‰ returnï¼Œé‚£ä¹ˆ defer å°†æ°¸è¿œä¸ä¼šè¢«è°ƒç”¨&lt;/strong&gt;ï¼Œä»è€Œé€ æˆå†…å­˜æ³„éœ²ã€‚å¹¶ä¸” defer å†™åœ¨ for å¾ªç¯é‡Œé¢ï¼Œç¼–è¯‘å™¨ä¹Ÿæ— æ³•åšä¼˜åŒ–ï¼Œä¼šå½±å“ä»£ç æ‰§è¡Œæ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ wrap ä¸€å±‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;readFiles&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;ch&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;chan&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;error&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;path&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;range&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ch&lt;/span&gt; { 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;readFile&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;path&lt;/span&gt;); &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                  &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          } 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;readFile&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;path&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;error&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#a6e22e&#34;&gt;file&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;os&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Open&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;path&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;              &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;defer&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;file&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Close&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#75715e&#34;&gt;// Do something with file
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;æ³¨æ„-defer-çš„å‚æ•°&#34;&gt;æ³¨æ„ defer çš„å‚æ•°&lt;/h2&gt;
&lt;p&gt;defer å£°æ˜æ—¶ä¼šå…ˆè®¡ç®—ç¡®å®šå‚æ•°çš„å€¼ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;defer&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;notice&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;// 0
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;notice&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå˜é‡ i åœ¨ defer è¢«è°ƒç”¨çš„æ—¶å€™å°±å·²ç»ç¡®å®šäº†ï¼Œè€Œä¸æ˜¯åœ¨ deferæ‰§è¡Œçš„æ—¶å€™ï¼Œæ‰€ä»¥ä¸Šé¢çš„è¯­å¥è¾“å‡ºçš„æ˜¯ 0ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬æƒ³è¦è·å–è¿™ä¸ªå˜é‡çš„çœŸå®å€¼ï¼Œåº”è¯¥ç”¨å¼•ç”¨ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;defer&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;notice&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;// 1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;defer-ä¸‹çš„é—­åŒ…&#34;&gt;defer ä¸‹çš„é—­åŒ…&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;() &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;defer&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;//12
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  }()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;TestA&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;testing&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;T&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;()) &lt;span style=&#34;color:#75715e&#34;&gt;//11
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœæ¢æˆé—­åŒ…çš„è¯ï¼Œ&lt;strong&gt;å®é™…ä¸Šé—­åŒ…ä¸­å¯¹å˜é‡iæ˜¯é€šè¿‡&lt;/strong&gt;æŒ‡é’ˆä¼ é€’&lt;strong&gt;çš„&lt;/strong&gt;ï¼Œæ‰€ä»¥å¯ä»¥è¯»åˆ°çœŸå®çš„å€¼ã€‚ä½†æ˜¯ä¸Šé¢çš„ä¾‹å­ä¸­ a å‡½æ•°è¿”å›çš„æ˜¯ 11 æ˜¯å› ä¸ºæ‰§è¡Œé¡ºåºæ˜¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;å…ˆè®¡ç®—ï¼ˆi+10ï¼‰-&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;call defer&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; -&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Goè¯­è¨€çš„å‘: Range</title>
        <link>https://lxb.wiki/ad6a336e/</link>
        <pubDate>Wed, 13 Nov 2019 22:53:37 +0800</pubDate>
        
        <guid>https://lxb.wiki/ad6a336e/</guid>
        <description>&lt;p&gt;[toc]&lt;/p&gt;
&lt;h2 id=&#34;copy-çš„é—®é¢˜&#34;&gt;copy çš„é—®é¢˜&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨ range çš„æ—¶å€™å¦‚æœæˆ‘ä»¬ç›´æ¥ä¿®æ”¹å®ƒè¿”å›çš„æ•°æ®ä¼šä¸ç”Ÿæ•ˆï¼Œå› ä¸ºè¿”å›çš„æ•°æ®å¹¶ä¸æ˜¯åŸå§‹æ•°æ®ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;account&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;balance&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;float32&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;accounts&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; []&lt;span style=&#34;color:#a6e22e&#34;&gt;account&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {&lt;span style=&#34;color:#a6e22e&#34;&gt;balance&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;100.&lt;/span&gt;},
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {&lt;span style=&#34;color:#a6e22e&#34;&gt;balance&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;200.&lt;/span&gt;},
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {&lt;span style=&#34;color:#a6e22e&#34;&gt;balance&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;300.&lt;/span&gt;},
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;_&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;range&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;accounts&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;balance&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœåƒä¸Šé¢è¿™ä¹ˆåšï¼Œé‚£ä¹ˆè¾“å‡ºçš„ accounts æ˜¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[{&lt;/span&gt;100&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;200&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;300&lt;span style=&#34;color:#f92672&#34;&gt;}]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬æƒ³è¦æ”¹å˜ range ä¸­çš„æ•°æ®å¯ä»¥è¿™ä¹ˆåšï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;range&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;accounts&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;accounts&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;].&lt;span style=&#34;color:#a6e22e&#34;&gt;balance&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;range slice çš„è¯ä¹Ÿä¼š copy ä¸€ä»½ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;{&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;range&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; = append(&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä»½ä»£ç åœ¨ range çš„æ—¶å€™ä¼š copy ä¸€ä»½ï¼Œå› æ­¤åªä¼šè°ƒç”¨ä¸‰æ¬¡ append ååœæ­¢ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æŒ‡é’ˆé—®é¢˜&#34;&gt;æŒ‡é’ˆé—®é¢˜&lt;/h2&gt;
&lt;p&gt;æ¯”æ–¹æˆ‘ä»¬æƒ³è¦ range slice å¹¶å°†è¿”å›å€¼å­˜åˆ° map é‡Œé¢ä¾›åé¢ä¸šåŠ¡ä½¿ç”¨ï¼Œç±»ä¼¼è¿™æ ·ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Customer&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;ID&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Balance&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;float64&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;test&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; []&lt;span style=&#34;color:#a6e22e&#34;&gt;Customer&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      {&lt;span style=&#34;color:#a6e22e&#34;&gt;ID&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;Balance&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;},
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      {&lt;span style=&#34;color:#a6e22e&#34;&gt;ID&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;Balance&lt;/span&gt;: &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;},
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      {&lt;span style=&#34;color:#a6e22e&#34;&gt;ID&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;Balance&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;},
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;m&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;map&lt;/span&gt;[&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Customer&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;_&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;customer&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;range&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;test&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;m&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;customer&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ID&lt;/span&gt;] = &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;customer&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½†æ˜¯è¿™æ ·éå† map é‡Œé¢å­˜çš„å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œä½ ä¼šå‘ç°å­˜çš„ value éƒ½æ˜¯æœ€åä¸€ä¸ªï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;:{&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ID&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Balance&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;},&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;:{&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ID&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Balance&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;},&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt;:{&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ID&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Balance&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;}}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ˜¯å› ä¸ºå½“æˆ‘ä»¬ä½¿ç”¨ range éå† slice çš„æ—¶å€™ï¼Œè¿”å›çš„ customer å˜é‡å®é™…ä¸Šæ˜¯ä¸€ä¸ªå›ºå®šçš„åœ°å€ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;_&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;customer&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;range&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;test&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%p\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;customer&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;//æˆ‘ä»¬æƒ³è¦è·å–è¿™ä¸ªæŒ‡é’ˆçš„æ—¶å€™
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾“å‡ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;0x1400000e240
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;0x1400000e2400x1400000e240
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ˜¯å› ä¸ºè¿­ä»£å™¨ä¼šæŠŠæ•°æ®éƒ½æ”¾å…¥åˆ° 0x1400000e240 è¿™å—ç©ºé—´é‡Œé¢ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202306072255914.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™æ ·åœ¨ range é‡Œé¢è·å–æŒ‡é’ˆï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;_&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;customer&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;range&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;test&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;current&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;customer&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;// ä½¿ç”¨å±€éƒ¨å˜é‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%p\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;current&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;// è¿™é‡Œè·å–çš„æŒ‡é’ˆæ˜¯ range copy å‡ºæ¥å…ƒç´ çš„æŒ‡é’ˆ  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ–è€…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;range&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;test&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;current&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;test&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;] &lt;span style=&#34;color:#75715e&#34;&gt;// ä½¿ç”¨å±€éƒ¨å˜é‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%p\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;current&lt;/span&gt;)  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Goè¯­è¨€çš„å‘: Slice ç›¸å…³</title>
        <link>https://lxb.wiki/46d0864d/</link>
        <pubDate>Tue, 12 Nov 2019 22:35:22 +0800</pubDate>
        
        <guid>https://lxb.wiki/46d0864d/</guid>
        <description>&lt;p&gt;[toc]&lt;/p&gt;
&lt;h2 id=&#34;slice-çš„-length-å’Œ-capacity&#34;&gt;slice çš„ length å’Œ capacity&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; make([]&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨ make å‡½æ•°é‡Œé¢ï¼Œcapacity æ˜¯å¯é€‰çš„å‚æ•°ã€‚ä¸Šé¢è¿™æ®µä»£ç æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª length æ˜¯ 3ï¼Œcapacity æ˜¯ 6 çš„ sliceï¼Œé‚£ä¹ˆåº•å±‚çš„æ•°æ®ç»“æ„æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202306072236023.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;slice çš„åº•å±‚å®é™…ä¸ŠæŒ‡å‘äº†ä¸€ä¸ªæ•°ç»„ã€‚å½“ç„¶ï¼Œç”±äºæˆ‘ä»¬çš„ length æ˜¯ 3ï¼Œæ‰€ä»¥è¿™æ ·è®¾ç½® s[4] = 0 ä¼š panic çš„ã€‚éœ€è¦ä½¿ç”¨ append æ‰èƒ½æ·»åŠ æ–°å…ƒç´ ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;panic: runtime error: index out of range &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;4&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; with length &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å½“ appned è¶…è¿‡ cap å¤§å°çš„æ—¶å€™ï¼Œslice ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬æ‰©å®¹ï¼Œ&lt;strong&gt;åœ¨å…ƒç´ æ•°é‡å°äº 1024 çš„æ—¶å€™æ¯æ¬¡ä¼šæ‰©å¤§ä¸€å€ï¼Œå½“è¶…è¿‡äº† 1024 ä¸ªå…ƒç´ æ¯æ¬¡æ‰©å¤§ 25%&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰æ—¶å€™æˆ‘ä»¬ä¼šä½¿ç”¨ ï¼šæ“ä½œç¬¦ä»å¦ä¸€ä¸ª slice ä¸Šé¢åˆ›å»ºä¸€ä¸ªæ–°åˆ‡ç‰‡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;s1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; make([]&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;s2&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;s1&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;:&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®é™…ä¸Šè¿™ä¸¤ä¸ª slice è¿˜æ˜¯æŒ‡å‘äº†åº•å±‚åŒæ ·çš„æ•°ç»„ï¼Œæ„å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202306072242263.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç”±äºæŒ‡å‘äº†åŒä¸€ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬æ”¹å˜ç¬¬ä¸€ä¸ªæ§½ä½çš„æ—¶å€™ï¼Œæ¯”å¦‚ s1[1]=2ï¼Œå®é™…ä¸Šä¸¤ä¸ª slice çš„æ•°æ®éƒ½ä¼šå‘ç”Ÿæ”¹å˜ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202306072242344.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å½“æˆ‘ä»¬ä½¿ç”¨ append çš„æ—¶å€™æƒ…å†µä¼šæœ‰æ‰€ä¸åŒï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;s2&lt;/span&gt; = append(&lt;span style=&#34;color:#a6e22e&#34;&gt;s2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;s1&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;// [0 2 0]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;s2&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;// [2 0 3]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202306072245415.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;s1 çš„ len å¹¶æ²¡æœ‰è¢«æ”¹å˜ï¼Œæ‰€ä»¥çœ‹åˆ°çš„è¿˜æ˜¯3å…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ä»¶æ¯”è¾ƒæœ‰è¶£çš„ç»†èŠ‚æ˜¯ï¼Œå¦‚æœå†æ¥ç€ append s1 é‚£ä¹ˆç¬¬å››ä¸ªå…ƒç´ ä¼šè¢«è¦†ç›–æ‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;s1&lt;/span&gt; = append(&lt;span style=&#34;color:#a6e22e&#34;&gt;s1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;s1&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;// [0 2 0 4]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;s2&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;// [2 0 4]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202306072246667.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å†ç»§ç»­ append s2 ç›´åˆ° s2 å‘ç”Ÿæ‰©å®¹ï¼Œè¿™ä¸ªæ—¶å€™ä¼šå‘ç° s2 å®é™…ä¸Šå’Œ s1 æŒ‡å‘çš„ä¸æ˜¯åŒä¸€ä¸ªæ•°ç»„äº†ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;s2&lt;/span&gt; = append(&lt;span style=&#34;color:#a6e22e&#34;&gt;s2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;s1&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;//[0 2 0 4]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;s2&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;//[2 0 4 5 6 7]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202306072247151.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;é™¤äº†ä¸Šé¢è¿™ç§æƒ…å†µï¼Œè¿˜æœ‰ä¸€ç§æƒ…å†µ append ä¼šäº§ç”Ÿæ„æƒ³ä¸åˆ°çš„æ•ˆæœï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;s1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;{&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;s2&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;s1&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;:&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;s3&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; append(&lt;span style=&#34;color:#a6e22e&#34;&gt;s2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202306072249781.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœ print å®ƒä»¬åº”è¯¥æ˜¯è¿™æ ·ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;s1&lt;/span&gt;=[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;], &lt;span style=&#34;color:#a6e22e&#34;&gt;s2&lt;/span&gt;=[&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;], &lt;span style=&#34;color:#a6e22e&#34;&gt;s3&lt;/span&gt;=[&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;slice-åˆå§‹åŒ–&#34;&gt;slice åˆå§‹åŒ–&lt;/h2&gt;
&lt;p&gt;slice çš„åˆå§‹åŒ–æœ‰å¾ˆå¤šç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; = []string(&lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; = []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;{}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; = make([]&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%d: empty=%t\tnil=%t\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;, len(&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾“å‡ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;: &lt;span style=&#34;color:#a6e22e&#34;&gt;empty&lt;/span&gt;=&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;=&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;: &lt;span style=&#34;color:#a6e22e&#34;&gt;empty&lt;/span&gt;=&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;=&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;: &lt;span style=&#34;color:#a6e22e&#34;&gt;empty&lt;/span&gt;=&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;=&lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;: &lt;span style=&#34;color:#a6e22e&#34;&gt;empty&lt;/span&gt;=&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;=&lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‰ä¸¤ç§æ–¹å¼ä¼šåˆ›å»ºä¸€ä¸ª nil çš„ sliceï¼Œåä¸¤ç§ä¼šè¿›è¡Œåˆå§‹åŒ–ï¼Œå¹¶ä¸”è¿™äº› slice çš„å¤§å°éƒ½ä¸º 0 ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äº var s []string è¿™ç§æ–¹å¼æ¥è¯´ï¼Œå¥½å¤„å°±æ˜¯&lt;strong&gt;ä¸ç”¨åšä»»ä½•çš„å†…å­˜åˆ†é…&lt;/strong&gt;ã€‚æ¯”å¦‚ä¸‹é¢åœºæ™¯å¯èƒ½å¯ä»¥èŠ‚çœä¸€æ¬¡å†…å­˜åˆ†é…:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;f&lt;/span&gt;() []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;foo&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; = append(&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;foo&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;bar&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; = append(&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;bar&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯¹äº s := []string{} è¿™ç§æ–¹å¼æ¥è¯´ï¼Œå®ƒ&lt;strong&gt;æ¯”è¾ƒé€‚åˆåˆå§‹åŒ–ä¸€ä¸ªå·²çŸ¥å…ƒç´ çš„ slice&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;{&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;foo&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;bar&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;baz&amp;#34;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœæ²¡æœ‰è¿™ä¸ªéœ€æ±‚å…¶å®ç”¨ var s []string æ¯”è¾ƒå¥½ï¼Œåæ­£åœ¨ä½¿ç”¨çš„é€‚åˆéƒ½æ˜¯é€šè¿‡ append æ·»åŠ å…ƒç´ ï¼Œ var s []string è¿˜èƒ½èŠ‚çœä¸€æ¬¡å†…å­˜åˆ†é…ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬åˆå§‹åŒ–äº†ä¸€ä¸ªç©ºçš„ sliceï¼Œ é‚£ä¹ˆ&lt;strong&gt;æœ€å¥½æ˜¯ä½¿ç”¨&lt;/strong&gt; len(xxx) == 0&lt;strong&gt;æ¥åˆ¤æ–­ slice æ˜¯ä¸æ˜¯ç©ºçš„&lt;/strong&gt;ï¼Œå¦‚æœä½¿ç”¨ nil æ¥åˆ¤æ–­å¯èƒ½ä¼šæ°¸è¿œéç©ºçš„æƒ…å†µï¼Œå› ä¸ºå¯¹äº s := []string{} å’Œ s = make([]string, 0) è¿™ä¸¤ç§åˆå§‹åŒ–éƒ½æ˜¯é nil çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äº []string(nil) è¿™ç§åˆå§‹åŒ–çš„æ–¹å¼ï¼Œä½¿ç”¨åœºæ™¯å¾ˆå°‘ï¼Œä¸€ç§æ¯”è¾ƒæ–¹ä¾¿åœ°ä½¿ç”¨åœºæ™¯æ˜¯ç”¨å®ƒæ¥è¿›è¡Œ slice çš„ copyï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;src&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;{&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;dst&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; append([]int(&lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;), &lt;span style=&#34;color:#a6e22e&#34;&gt;src&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯¹äº make æ¥è¯´ï¼Œå®ƒå¯ä»¥åˆå§‹åŒ– slice çš„ length å’Œ capacityï¼Œå¦‚æœæˆ‘ä»¬èƒ½ç¡®å®š slice é‡Œé¢ä¼šå­˜æ”¾å¤šå°‘å…ƒç´ ï¼Œ&lt;strong&gt;ä»æ€§èƒ½çš„è§’åº¦è€ƒè™‘æœ€å¥½ä½¿ç”¨ make åˆå§‹åŒ–å¥½&lt;/strong&gt;ï¼Œå› ä¸ºå¯¹äºä¸€ä¸ªç©ºçš„ slice append å…ƒç´ è¿›å»æ¯æ¬¡è¾¾åˆ°é˜ˆå€¼éƒ½éœ€è¦è¿›è¡Œæ‰©å®¹ï¼Œä¸‹é¢æ˜¯å¡«å…… 100 ä¸‡å…ƒç´ çš„ benchmarkï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;BenchmarkConvert_EmptySlice-4 &lt;span style=&#34;color:#ae81ff&#34;&gt;22&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;49739882&lt;/span&gt; ns/op
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;BenchmarkConvert_GivenCapacity-4 &lt;span style=&#34;color:#ae81ff&#34;&gt;86&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;13438544&lt;/span&gt; ns/op
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;BenchmarkConvert_GivenLength-4 &lt;span style=&#34;color:#ae81ff&#34;&gt;91&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;12800411&lt;/span&gt; ns/op
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœæˆ‘ä»¬æå‰å¡«å……å¥½ slice çš„å®¹é‡å¤§å°ï¼Œæ€§èƒ½æ˜¯ç©º slice çš„å››å€ï¼Œå› ä¸ºå°‘äº†æ‰©å®¹æ—¶å…ƒç´ å¤åˆ¶ä»¥åŠé‡æ–°ç”³è¯·æ–°æ•°ç»„çš„å¼€é”€ã€‚&lt;/p&gt;
&lt;h2 id=&#34;copy-slice&#34;&gt;copy slice&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;src&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;{&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dst&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;copy(&lt;span style=&#34;color:#a6e22e&#34;&gt;dst&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;src&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;dst&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;// []
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½¿ç”¨ copy å‡½æ•° copy slice çš„æ—¶å€™éœ€è¦æ³¨æ„ï¼Œä¸Šé¢è¿™ç§æƒ…å†µå®é™…ä¸Šä¼š copy å¤±è´¥ï¼Œå› ä¸ºå¯¹ slice æ¥è¯´æ˜¯ç”± length æ¥æ§åˆ¶å¯ç”¨æ•°æ®ï¼Œcopy å¹¶æ²¡æœ‰å¤åˆ¶è¿™ä¸ªå­—æ®µï¼Œè¦æƒ³ copy æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆåšï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;src&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;{&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;dst&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; make([]&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;, len(&lt;span style=&#34;color:#a6e22e&#34;&gt;src&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;copy(&lt;span style=&#34;color:#a6e22e&#34;&gt;dst&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;src&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;dst&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;//[0 1 2]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é™¤æ­¤ä¹‹å¤–ä¹Ÿå¯ä»¥ç”¨ä¸Šé¢æåˆ°çš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;src&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;{&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;dst&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; append([]int(&lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;), &lt;span style=&#34;color:#a6e22e&#34;&gt;src&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;slice-capacityå†…å­˜é‡Šæ”¾é—®é¢˜&#34;&gt;slice capacityå†…å­˜é‡Šæ”¾é—®é¢˜&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Foo&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;v&lt;/span&gt; []&lt;span style=&#34;color:#66d9ef&#34;&gt;byte&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;keepFirstTwoElementsOnly&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;foos&lt;/span&gt; []&lt;span style=&#34;color:#a6e22e&#34;&gt;Foo&lt;/span&gt;) []&lt;span style=&#34;color:#a6e22e&#34;&gt;Foo&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;foos&lt;/span&gt;[:&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;foos&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; make([]&lt;span style=&#34;color:#a6e22e&#34;&gt;Foo&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1_000&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;printAlloc&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &amp;lt; len(&lt;span style=&#34;color:#a6e22e&#34;&gt;foos&lt;/span&gt;); &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;foos&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;] = &lt;span style=&#34;color:#a6e22e&#34;&gt;Foo&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#a6e22e&#34;&gt;v&lt;/span&gt;: make([]&lt;span style=&#34;color:#66d9ef&#34;&gt;byte&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1024&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1024&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;printAlloc&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;two&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;keepFirstTwoElementsOnly&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;foos&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;runtime&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;GC&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;printAlloc&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;runtime&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;KeepAlive&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;two&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ä½¿ç”¨ printAlloc å‡½æ•°æ¥æ‰“å°å†…å­˜å ç”¨ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;printAlloc&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;m&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;runtime&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;MemStats&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;runtime&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;ReadMemStats&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;m&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%d KB\n&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;m&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Alloc&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1024&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢ foos åˆå§‹åŒ–äº† 1000 ä¸ªå®¹é‡çš„ slice ï¼Œé‡Œé¢ Foo struct æ¯ä¸ªéƒ½æŒæœ‰ 1M å†…å­˜çš„ sliceï¼Œç„¶åé€šè¿‡ keepFirstTwoElementsOnly è¿”å›æŒæœ‰å‰ä¸¤ä¸ªå…ƒç´ çš„ Foo åˆ‡ç‰‡ï¼Œæˆ‘ä»¬çš„æƒ³æ³•æ˜¯æ‰‹åŠ¨æ‰§è¡Œ GC ä¹‹åå…¶ä»–çš„ 998 ä¸ª Foo ä¼šè¢« GC é”€æ¯ï¼Œä½†æ˜¯è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;387&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;KB&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1024315&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;KB1024319&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;KB&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®é™…ä¸Šå¹¶æ²¡æœ‰ï¼ŒåŸå› å°±æ˜¯å®é™…ä¸Š keepFirstTwoElementsOnly è¿”å›çš„ slice åº•å±‚æŒæœ‰çš„æ•°ç»„æ˜¯å’Œ foos æŒæœ‰çš„åŒä¸€ä¸ªï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202306072252699.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬çœŸçš„è¦åªè¿”å› slice çš„å‰2ä¸ªå…ƒç´ çš„è¯åº”è¯¥è¿™æ ·åšï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;keepFirstTwoElementsOnly&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;foos&lt;/span&gt; []&lt;span style=&#34;color:#a6e22e&#34;&gt;Foo&lt;/span&gt;) []&lt;span style=&#34;color:#a6e22e&#34;&gt;Foo&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;res&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; make([]&lt;span style=&#34;color:#a6e22e&#34;&gt;Foo&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        copy(&lt;span style=&#34;color:#a6e22e&#34;&gt;res&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;foos&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;res&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸è¿‡ä¸Šé¢è¿™ç§æ–¹æ³•ä¼šåˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ sliceï¼Œç„¶åå°†ä¸¤ä¸ªå…ƒç´  copy è¿‡å»ã€‚ä¸æƒ³è¿›è¡Œå¤šä½™çš„åˆ†é…å¯ä»¥è¿™ä¹ˆåšï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;keepFirstTwoElementsOnly&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;foos&lt;/span&gt; []&lt;span style=&#34;color:#a6e22e&#34;&gt;Foo&lt;/span&gt;) []&lt;span style=&#34;color:#a6e22e&#34;&gt;Foo&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &amp;lt; len(&lt;span style=&#34;color:#a6e22e&#34;&gt;foos&lt;/span&gt;); &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#a6e22e&#34;&gt;foos&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;].&lt;span style=&#34;color:#a6e22e&#34;&gt;v&lt;/span&gt; = &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;foos&lt;/span&gt;[:&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Goè¯­è¨€çš„å‘: Float çš„ç²¾åº¦</title>
        <link>https://lxb.wiki/b936d10f/</link>
        <pubDate>Sun, 10 Nov 2019 22:26:32 +0800</pubDate>
        
        <guid>https://lxb.wiki/b936d10f/</guid>
        <description>&lt;p&gt;[toc]&lt;/p&gt;
&lt;p&gt;åœ¨ Go ä¸­æµ®ç‚¹æ•°è¡¨ç¤ºæ–¹å¼å’Œå…¶ä»–è¯­è¨€ä¸€æ ·ï¼Œéƒ½æ˜¯é€šè¿‡ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºï¼Œfloat åœ¨å­˜å‚¨ä¸­åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç¬¦å·ä½ï¼ˆSignï¼‰: 0ä»£è¡¨æ­£ï¼Œ1ä»£è¡¨ä¸ºè´Ÿ
æŒ‡æ•°ä½ï¼ˆExponentï¼‰:ç”¨äºå­˜å‚¨ç§‘å­¦è®¡æ•°æ³•ä¸­çš„æŒ‡æ•°æ•°æ®ï¼Œå¹¶ä¸”é‡‡ç”¨ç§»ä½å­˜å‚¨
å°¾æ•°éƒ¨åˆ†ï¼ˆMantissaï¼‰ï¼šå°¾æ•°éƒ¨åˆ†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202306072227340.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;è¿™ç§è®¡æ•°æ³•åœ¨ Go é‡Œé¢ä¼šæœ‰å“ªäº›é—®é¢˜ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;100000.001&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1.0001&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1.0002&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾“å‡ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;200030.00200030004
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;200030.0020003
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœæƒ³è¦å‡†ç¡®è®¡ç®—æµ®ç‚¹çš„è¯ï¼Œå¯ä»¥å°è¯• &lt;a class=&#34;link&#34; href=&#34;https://github.com/shopspring/decimal&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/shopspring/decimal&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;decimal&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;NewFromFloat&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;100000.001&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;decimal&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;NewFromFloat&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1.0001&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;decimal&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;NewFromFloat&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1.0002&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Mul&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Add&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;))) &lt;span style=&#34;color:#75715e&#34;&gt;//200030.0020003
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å…¶ä»–&#34;&gt;å…¶ä»–&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://studygolang.com/articles/14407&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;åœ¨ Go ä¸­æ¢ç´¢ IEEE-754 æ ‡å‡† - Goè¯­è¨€ä¸­æ–‡ç½‘ - Golangä¸­æ–‡ç¤¾åŒº (studygolang.com)&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Goè¯­è¨€çš„å‘: å…«è¿›åˆ¶æ•´æ•°</title>
        <link>https://lxb.wiki/8f80ddfc/</link>
        <pubDate>Sat, 09 Nov 2019 22:23:08 +0800</pubDate>
        
        <guid>https://lxb.wiki/8f80ddfc/</guid>
        <description>&lt;p&gt;[toc]&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;sum&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;011&lt;/span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;sum&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿è¡Œä¹‹åï¼Œä¸ä¼šè¾“å‡º 111ï¼Œè€Œæ˜¯ 108ï¼Œ å› ä¸º&lt;strong&gt;åœ¨ Go ä¸­ä»¥ 0 å¼€å¤´çš„æ•´æ•°è¡¨ç¤ºå…«è¿›åˆ¶&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å®ƒç»å¸¸ç”¨åœ¨å¤„ç† Linux æƒé™ç›¸å…³çš„ä»£ç ä¸Šï¼Œå¦‚ä¸‹é¢æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;file&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;os&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;OpenFile&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;foo&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;os&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;O_RDONLY&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0644&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‰€ä»¥ä¸ºäº†å¯è¯»æ€§ï¼Œæˆ‘ä»¬åœ¨ç”¨å…«è¿›åˆ¶çš„æ—¶å€™æœ€å¥½ä½¿ç”¨ &amp;ldquo;0o&amp;rdquo; çš„æ–¹å¼è¡¨ç¤ºï¼Œæ¯”å¦‚ä¸Šé¢è¿™æ®µä»£ç å¯ä»¥è¡¨ç¤ºä¸ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;file&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;os&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;OpenFile&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;foo&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;os&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;O_RDONLY&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;o644&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Goè¯­è¨€çš„å‘: Init å‡½æ•°</title>
        <link>https://lxb.wiki/dc53dc63/</link>
        <pubDate>Fri, 08 Nov 2019 22:19:41 +0800</pubDate>
        
        <guid>https://lxb.wiki/dc53dc63/</guid>
        <description>&lt;p&gt;[toc]&lt;/p&gt;
&lt;h2 id=&#34;init-å‡½æ•°ä¼šåœ¨å…¨å±€å˜é‡ä¹‹åè¢«æ‰§è¡Œ&#34;&gt;init å‡½æ•°ä¼šåœ¨å…¨å±€å˜é‡ä¹‹åè¢«æ‰§è¡Œ&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;init å‡½æ•°å¹¶ä¸æ˜¯æœ€å…ˆè¢«æ‰§è¡Œçš„ï¼Œå¦‚æœå£°æ˜äº† const æˆ–å…¨å±€å˜é‡ï¼Œé‚£ä¹ˆ init å‡½æ•°ä¼šåœ¨å®ƒä»¬ä¹‹åæ‰§è¡Œï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;package&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt; = &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;() &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;a&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;init&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;init&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;fmt&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;main&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// output
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;initmain&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;init-åˆå§‹åŒ–æŒ‰è§£æçš„ä¾èµ–å…³ç³»é¡ºåºæ‰§è¡Œ&#34;&gt;init åˆå§‹åŒ–æŒ‰è§£æçš„ä¾èµ–å…³ç³»é¡ºåºæ‰§è¡Œ&lt;/h2&gt;
&lt;p&gt;æ¯”å¦‚ main åŒ…é‡Œé¢æœ‰ init å‡½æ•°ï¼Œä¾èµ–äº† redis åŒ…ï¼Œmain å‡½æ•°æ‰§è¡Œäº† redis åŒ…çš„ Store å‡½æ•°ï¼Œæ°å¥½ redis åŒ…é‡Œé¢ä¹Ÿæœ‰ init å‡½æ•°ï¼Œé‚£ä¹ˆæ‰§è¡Œé¡ºåºä¼šæ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/202306072221755.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ç§æƒ…å†µï¼Œå¦‚æœæ˜¯ä½¿ç”¨ &amp;ldquo;import _ foo&amp;rdquo; è¿™ç§æ–¹å¼å¼•å…¥çš„ï¼Œä¹Ÿæ˜¯ä¼šå…ˆè°ƒç”¨ foo åŒ…ä¸­çš„ init å‡½æ•°ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ‰°ä¹±å•å…ƒæµ‹è¯•&#34;&gt;æ‰°ä¹±å•å…ƒæµ‹è¯•&lt;/h2&gt;
&lt;p&gt;æ¯”å¦‚æˆ‘ä»¬åœ¨ init å‡½æ•°ä¸­åˆå§‹äº†ä¸€ä¸ªå…¨å±€çš„å˜é‡ï¼Œä½†æ˜¯å•æµ‹ä¸­å¹¶ä¸éœ€è¦ï¼Œé‚£ä¹ˆå®é™…ä¸Šä¼šå¢åŠ å•æµ‹å¾—å¤æ‚åº¦ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;db&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;sql&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;DB&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;init&lt;/span&gt;(){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;dataSourceName&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;os&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Getenv&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;MYSQL_DATA_SOURCE_NAME&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sql&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Open&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;mysql&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;dataSourceName&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Panic&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;db&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ init å‡½æ•°åˆå§‹åŒ–äº†ä¸€ä¸ª db å…¨å±€å˜é‡ï¼Œé‚£ä¹ˆåœ¨å•æµ‹çš„æ—¶å€™ä¹Ÿä¼šåˆå§‹åŒ–ä¸€ä¸ªè¿™æ ·çš„å˜é‡ï¼Œä½†æ˜¯å¾ˆå¤šå•æµ‹å…¶å®æ˜¯å¾ˆç®€å•çš„ï¼Œå¹¶ä¸éœ€è¦ä¾èµ–è¿™ä¸ªä¸œè¥¿ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Goè¯­è¨€çš„å‘: Shadow å˜é‡</title>
        <link>https://lxb.wiki/7edb3d45/</link>
        <pubDate>Thu, 07 Nov 2019 22:13:56 +0800</pubDate>
        
        <guid>https://lxb.wiki/7edb3d45/</guid>
        <description>&lt;p&gt;[toc]&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;client&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;http&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Client&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tracing&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;client&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;createClientWithTracing&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;client&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;client&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;createDefaultClient&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;client&lt;/span&gt;)  }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨ä¸Šé¢è¿™æ®µä»£ç ä¸­ï¼Œå£°æ˜äº†ä¸€ä¸ª client å˜é‡ï¼Œç„¶åä½¿ç”¨ tracing æ§åˆ¶å˜é‡çš„åˆå§‹åŒ–ï¼Œå¯èƒ½æ˜¯å› ä¸ºæ²¡æœ‰å£°æ˜ err çš„ç¼˜æ•…ï¼Œä½¿ç”¨çš„æ˜¯ := è¿›è¡Œåˆå§‹åŒ–ï¼Œé‚£ä¹ˆä¼šå¯¼è‡´&lt;strong&gt;å¤–å±‚çš„ client å˜é‡æ°¸è¿œæ˜¯ nil&lt;/strong&gt;ã€‚è¿™ä¸ªä¾‹å­å®é™…ä¸Šæ˜¯å¾ˆå®¹æ˜“å‘ç”Ÿåœ¨æˆ‘ä»¬å®é™…çš„å¼€å‘ä¸­ï¼Œå°¤å…¶éœ€è¦æ³¨æ„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯å› ä¸º err æ²¡æœ‰åˆå§‹åŒ–çš„ç¼˜æ•…ï¼Œæˆ‘ä»¬åœ¨åˆå§‹åŒ–çš„æ—¶å€™å¯ä»¥è¿™ä¹ˆåšï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;client&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;http&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Client&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;error&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tracing&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;client&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;createClientWithTracing&lt;/span&gt;() 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; { &lt;span style=&#34;color:#75715e&#34;&gt;// é˜²æ­¢é‡å¤ä»£ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;err&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ–è€…å†…å±‚çš„å˜é‡å£°æ˜æ¢ä¸€ä¸ªå˜é‡åå­—ï¼Œè¿™æ ·å°±ä¸å®¹æ˜“å‡ºé”™äº†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å·¥å…·åˆ†æä»£ç æ˜¯å¦æœ‰ shadowï¼Œå…ˆå®‰è£…ä¸€ä¸‹å·¥å…·ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;go install golang.org/x/tools/go/analysis/passes/shadow/cmd/shadow
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åä½¿ç”¨ shadow å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;go vet -vettool&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/path/to/shadow ./main.go
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# command-line-arguments&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./main.go:15:3: declaration of &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;client&amp;#34;&lt;/span&gt; shadows declaration at line &lt;span style=&#34;color:#ae81ff&#34;&gt;13&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./main.go:21:3: declaration of &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;client&amp;#34;&lt;/span&gt; shadows declaration at line &lt;span style=&#34;color:#ae81ff&#34;&gt;13&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>åˆå¹¶åŒºé—´56</title>
        <link>https://lxb.wiki/a2b71d73/</link>
        <pubDate>Wed, 06 Nov 2019 23:31:03 +0000</pubDate>
        
        <guid>https://lxb.wiki/a2b71d73/</guid>
        <description>&lt;p&gt;ç»™å‡ºä¸€ä¸ªåŒºé—´çš„é›†åˆï¼Œè¯·åˆå¹¶æ‰€æœ‰é‡å çš„åŒºé—´ã€‚&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹ 1:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;è¾“å…¥: [[1,3],[2,6],[8,10],[15,18]]
è¾“å‡º: [[1,6],[8,10],[15,18]]
è§£é‡Š: åŒºé—´ [1,3] å’Œ [2,6] é‡å , å°†å®ƒä»¬åˆå¹¶ä¸º [1,6].
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç¤ºä¾‹ 2:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;è¾“å…¥: [[1,4],[4,5]]
è¾“å‡º: [[1,5]]
è§£é‡Š: åŒºé—´ [1,4] å’Œ [4,5] å¯è¢«è§†ä¸ºé‡å åŒºé—´ã€‚
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ€è·¯:&lt;/p&gt;
&lt;ol start=&#34;0&#34;&gt;
&lt;li&gt;æ€ä¹ˆåˆ¤æ–­é‡å : ä¸¤åŒºé—´çš„æœ€å°çš„å³è¾¹ç•Œ å¤§äºæˆ–ç­‰äº ä¸¤åŒºé—´æœ€å¤§çš„å·¦è¾¹ç•Œ. å¦‚&lt;code&gt;[1,5]&lt;/code&gt;å’Œ&lt;code&gt;[2,8]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å…¥å‚æ˜¯åˆ‡ç‰‡çš„åˆ‡ç‰‡(intervals), æ‹¿&lt;code&gt;intervals[0]&lt;/code&gt;ä¸å®ƒåé¢çš„æ‰€æœ‰åŒºé—´å¯¹æ¯”, ä»&lt;code&gt;intervals[1]&lt;/code&gt;å¼€å§‹, å¦‚æœæœ‰ä¸ä¹‹é‡å çš„åŒºé—´, å°±æŠŠåˆå¹¶åçš„æ–°åŒºé—´èµ‹ç»™&lt;code&gt;intervals[0]&lt;/code&gt;, å¹¶åˆ é™¤å‚ä¸åˆå¹¶çš„é‚£ä¸ªæ—§åŒºé—´&lt;/li&gt;
&lt;li&gt;&lt;code&gt;intervals[0]&lt;/code&gt;å®Œæˆå, æ‹¿``intervals[1]&lt;code&gt;ä¸å®ƒåè¾¹çš„æ‰€æœ‰åŒºé—´å¯¹æ¯”, ä»&lt;/code&gt;intervals[2]&lt;code&gt; å¼€å§‹, å¦‚æœæœ‰ä¸ä¹‹é‡å çš„åŒºé—´, å°±æŠŠåˆå¹¶åçš„æ–°åŒºé—´èµ‹ç»™&lt;/code&gt;intervals[1]`, å¹¶åˆ é™¤å‚ä¸åˆå¹¶çš„é‚£ä¸ªå°±åŒºé—´&lt;/li&gt;
&lt;li&gt;æ‹¿&lt;code&gt;intervals[i]&lt;/code&gt; ä¸å®ƒåè¾¹çš„æ‰€æœ‰åŒºé—´å¯¹æ¯”, ä»&lt;code&gt;intervals[i+1]&lt;/code&gt; å¼€å§‹, å¦‚æœæœ‰ä¸ä¹‹é‡å çš„åŒºé—´intervals[j]   , å°±æŠŠåˆå¹¶åçš„æ–°åŒºé—´èµ‹ç»™ &lt;code&gt;intervals[i]&lt;/code&gt; , å¹¶åˆ é™¤å‚ä¸åˆå¹¶çš„intervals[j]&lt;/li&gt;
&lt;li&gt;å¦‚æœç¬¬3æ­¥å‡ºç°äº†æœ‰é‡å çš„åŒºé—´&lt;code&gt;intervals[j]&lt;/code&gt;, é‚£ä¹ˆåˆå¹¶å&lt;code&gt;i&lt;/code&gt;  çš„å€¼å˜äº†, å°±æœ‰å¯èƒ½ç”±åŸæ¥ åœ¨&lt;code&gt;i&lt;/code&gt; åˆ°&lt;code&gt;j&lt;/code&gt; ä¹‹é—´æ²¡æœ‰é‡å çš„åŒºé—´ å˜æˆ æœ‰é‡å çš„åŒºé—´, æ‰€ä»¥éœ€è¦ä»å¤´(&lt;code&gt;i+1&lt;/code&gt;) å†éå†ä¸€æ¬¡, ç›´åˆ°å†ä¹Ÿæ²¡æœ‰é‡å çš„åŒºé—´&lt;/li&gt;
&lt;li&gt;é‡å¤, ä¸€ç›´åˆ°åˆ‡ç‰‡æœ«å°¾&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;code&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-golang&#34; data-lang=&#34;golang&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;min&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;x&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;y&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;x&lt;/span&gt; &amp;lt; &lt;span style=&#34;color:#a6e22e&#34;&gt;y&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;x&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;y&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;max&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;x&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;y&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;x&lt;/span&gt; &amp;gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;y&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;x&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;y&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;merge&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;intervals&lt;/span&gt; [][]&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) [][]&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &amp;lt; len(&lt;span style=&#34;color:#a6e22e&#34;&gt;intervals&lt;/span&gt;); {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;merged&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;j&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;j&lt;/span&gt; &amp;lt; len(&lt;span style=&#34;color:#a6e22e&#34;&gt;intervals&lt;/span&gt;); &lt;span style=&#34;color:#a6e22e&#34;&gt;j&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#a6e22e&#34;&gt;x&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;y&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;intervals&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;], &lt;span style=&#34;color:#a6e22e&#34;&gt;intervals&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;j&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;min&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;x&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;], &lt;span style=&#34;color:#a6e22e&#34;&gt;y&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;]) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;max&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;x&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;], &lt;span style=&#34;color:#a6e22e&#34;&gt;y&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#a6e22e&#34;&gt;merged&lt;/span&gt; = &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#75715e&#34;&gt;//é‡æ–°èµ‹å€¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;				&lt;span style=&#34;color:#a6e22e&#34;&gt;intervals&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;], &lt;span style=&#34;color:#a6e22e&#34;&gt;intervals&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;] = &lt;span style=&#34;color:#a6e22e&#34;&gt;min&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;x&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;], &lt;span style=&#34;color:#a6e22e&#34;&gt;y&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]), &lt;span style=&#34;color:#a6e22e&#34;&gt;max&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;x&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;], &lt;span style=&#34;color:#a6e22e&#34;&gt;y&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#75715e&#34;&gt;//åˆ é™¤j
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;				&lt;span style=&#34;color:#a6e22e&#34;&gt;intervals&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;j&lt;/span&gt;] = &lt;span style=&#34;color:#a6e22e&#34;&gt;intervals&lt;/span&gt;[len(&lt;span style=&#34;color:#a6e22e&#34;&gt;intervals&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#a6e22e&#34;&gt;intervals&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;intervals&lt;/span&gt;[:len(&lt;span style=&#34;color:#a6e22e&#34;&gt;intervals&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;merged&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#66d9ef&#34;&gt;continue&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;intervals&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Golangçš„åå°„</title>
        <link>https://lxb.wiki/1d3c1f0e/</link>
        <pubDate>Sun, 03 Nov 2019 21:21:59 +0000</pubDate>
        
        <guid>https://lxb.wiki/1d3c1f0e/</guid>
        <description>&lt;h4 id=&#34;ç¼–ç¨‹è¯­è¨€ä¸­åå°„çš„æ¦‚å¿µ&#34;&gt;ç¼–ç¨‹è¯­è¨€ä¸­åå°„çš„æ¦‚å¿µ&lt;/h4&gt;
&lt;p&gt;åœ¨è®¡ç®—æœºç§‘å­¦é¢†åŸŸï¼Œåå°„æ˜¯æŒ‡ä¸€ç±»åº”ç”¨ï¼Œå®ƒä»¬èƒ½å¤Ÿè‡ªæè¿°å’Œè‡ªæ§åˆ¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ç±»åº”ç”¨é€šè¿‡é‡‡ç”¨æŸç§æœºåˆ¶æ¥å®ç°å¯¹è‡ªå·±è¡Œä¸ºçš„æè¿°ï¼ˆself-representationï¼‰å’Œç›‘æµ‹ï¼ˆexaminationï¼‰ï¼Œå¹¶èƒ½æ ¹æ®è‡ªèº«è¡Œä¸ºçš„çŠ¶æ€å’Œç»“æœï¼Œè°ƒæ•´æˆ–ä¿®æ”¹åº”ç”¨æ‰€æè¿°è¡Œä¸ºçš„çŠ¶æ€å’Œç›¸å…³çš„è¯­ä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;æ¯ç§è¯­è¨€çš„åå°„æ¨¡å‹éƒ½ä¸åŒï¼Œå¹¶ä¸”æœ‰äº›è¯­è¨€æ ¹æœ¬ä¸æ”¯æŒåå°„ã€‚Golangè¯­è¨€å®ç°äº†åå°„ï¼Œåå°„æœºåˆ¶å°±æ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€çš„è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•å’Œå±æ€§ï¼Œå®˜æ–¹è‡ªå¸¦çš„reflectåŒ…å°±æ˜¯åå°„ç›¸å…³çš„ï¼Œåªè¦åŒ…å«è¿™ä¸ªåŒ…å°±å¯ä»¥ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;Golangçš„gRPCä¹Ÿæ˜¯é€šè¿‡åå°„å®ç°çš„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;interface-å’Œåå°„&#34;&gt;interface å’Œåå°„&lt;/h4&gt;
&lt;p&gt;å…ˆæ¥çœ‹çœ‹Golangå…³äºç±»å‹è®¾è®¡çš„ä¸€äº›åŸåˆ™&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å˜é‡åŒ…æ‹¬ï¼ˆvalue, typeï¼‰ä¸¤éƒ¨åˆ†
&lt;ul&gt;
&lt;li&gt;ç†è§£è¿™ä¸€ç‚¹å°±çŸ¥é“ä¸ºä»€ä¹ˆnil != niläº†&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;type åŒ…æ‹¬ static typeå’Œconcrete type. ç®€å•æ¥è¯´ static typeæ˜¯ä½ åœ¨ç¼–ç æ˜¯çœ‹è§çš„ç±»å‹(å¦‚intã€string)ï¼Œconcrete typeæ˜¯runtimeç³»ç»Ÿçœ‹è§çš„ç±»å‹&lt;/li&gt;
&lt;li&gt;ç±»å‹æ–­è¨€èƒ½å¦æˆåŠŸï¼Œå–å†³äºå˜é‡çš„concrete typeï¼Œè€Œä¸æ˜¯static type. å› æ­¤ï¼Œä¸€ä¸ª readerå˜é‡å¦‚æœå®ƒçš„concrete typeä¹Ÿå®ç°äº†writeæ–¹æ³•çš„è¯ï¼Œå®ƒä¹Ÿå¯ä»¥è¢«ç±»å‹æ–­è¨€ä¸ºwriter.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åå°„ï¼Œå°±æ˜¯å»ºç«‹åœ¨ç±»å‹ä¹‹ä¸Šçš„ï¼ŒGolangçš„æŒ‡å®šç±»å‹çš„å˜é‡çš„ç±»å‹æ˜¯é™æ€çš„ï¼ˆä¹Ÿå°±æ˜¯æŒ‡å®šintã€stringè¿™äº›çš„å˜é‡ï¼Œå®ƒçš„typeæ˜¯static typeï¼‰ï¼Œåœ¨åˆ›å»ºå˜é‡çš„æ—¶å€™å°±å·²ç»ç¡®å®šï¼Œåå°„ä¸»è¦ä¸Golangçš„interfaceç±»å‹ç›¸å…³ï¼ˆå®ƒçš„typeæ˜¯concrete typeï¼‰ï¼Œåªæœ‰interfaceç±»å‹æ‰æœ‰åå°„ä¸€è¯´ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Golangçš„å®ç°ä¸­ï¼Œæ¯ä¸ªinterfaceå˜é‡éƒ½æœ‰ä¸€ä¸ªå¯¹åº”pairï¼Œpairä¸­è®°å½•äº†å®é™…å˜é‡çš„å€¼å’Œç±»å‹:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;(value, type)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;valueæ˜¯å®é™…å˜é‡å€¼ï¼Œtypeæ˜¯å®é™…å˜é‡çš„ç±»å‹ã€‚ä¸€ä¸ªinterface{}ç±»å‹çš„å˜é‡åŒ…å«äº†2ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å€¼çš„ç±»å‹ã€å¯¹åº”concrete typeã€‘ï¼Œå¦å¤–ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å®é™…çš„å€¼ã€å¯¹åº”valueã€‘ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œåˆ›å»ºç±»å‹ä¸º*os.Fileçš„å˜é‡ï¼Œç„¶åå°†å…¶èµ‹ç»™ä¸€ä¸ªæ¥å£å˜é‡rï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;tty, err := os.OpenFile(&amp;#34;/dev/tty&amp;#34;, os.O_RDWR, 0)

var r io.Reader
r = tty
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ¥å£å˜é‡rçš„pairä¸­å°†è®°å½•å¦‚ä¸‹ä¿¡æ¯ï¼š(tty, *os.File)ï¼Œè¿™ä¸ªpairåœ¨æ¥å£å˜é‡çš„è¿ç»­èµ‹å€¼è¿‡ç¨‹ä¸­æ˜¯ä¸å˜çš„ï¼Œå°†æ¥å£å˜é‡rèµ‹ç»™å¦ä¸€ä¸ªæ¥å£å˜é‡w:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;var w io.Writer
w = r.(io.Writer)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ¥å£å˜é‡wçš„pairä¸rçš„pairç›¸åŒï¼Œéƒ½æ˜¯:(tty, *os.File)ï¼Œå³ä½¿wæ˜¯ç©ºæ¥å£ç±»å‹ï¼Œpairä¹Ÿæ˜¯ä¸å˜çš„ã€‚&lt;/p&gt;
&lt;p&gt;interfaceåŠå…¶pairçš„å­˜åœ¨ï¼Œæ˜¯Golangä¸­å®ç°åå°„çš„å‰æï¼Œç†è§£äº†pairï¼Œå°±æ›´å®¹æ˜“ç†è§£åå°„ã€‚åå°„å°±æ˜¯ç”¨æ¥æ£€æµ‹å­˜å‚¨åœ¨æ¥å£å˜é‡å†…éƒ¨(å€¼valueï¼›ç±»å‹concrete type) pairå¯¹çš„ä¸€ç§æœºåˆ¶ã€‚&lt;/p&gt;
&lt;h4 id=&#34;reflect-åŸºæœ¬åŠŸèƒ½typeofå’Œvalueof&#34;&gt;reflect åŸºæœ¬åŠŸèƒ½TypeOfå’ŒValueOf&lt;/h4&gt;
&lt;p&gt;æ—¢ç„¶åå°„å°±æ˜¯ç”¨æ¥æ£€æµ‹å­˜å‚¨åœ¨æ¥å£å˜é‡å†…éƒ¨(å€¼valueï¼›ç±»å‹concrete type) pairå¯¹çš„ä¸€ç§æœºåˆ¶ã€‚é‚£ä¹ˆåœ¨Golangçš„reflectåå°„åŒ…ä¸­æœ‰ä»€ä¹ˆæ ·çš„æ–¹å¼å¯ä»¥è®©æˆ‘ä»¬ç›´æ¥è·å–åˆ°å˜é‡å†…éƒ¨çš„ä¿¡æ¯å‘¢ï¼Ÿ å®ƒæä¾›äº†ä¸¤ç§ç±»å‹ï¼ˆæˆ–è€…è¯´ä¸¤ä¸ªæ–¹æ³•ï¼‰è®©æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„è®¿é—®æ¥å£å˜é‡å†…å®¹ï¼Œåˆ†åˆ«æ˜¯reflect.ValueOf() å’Œ reflect.TypeOf()ï¼Œçœ‹çœ‹å®˜æ–¹çš„è§£é‡Š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// ValueOf returns a new Value initialized to the concrete value
// stored in the interface i.  ValueOf(nil) returns the zero 
func ValueOf(i interface{}) Value {...}

ç¿»è¯‘ä¸€ä¸‹ï¼šValueOfç”¨æ¥è·å–è¾“å…¥å‚æ•°æ¥å£ä¸­çš„æ•°æ®çš„å€¼ï¼Œå¦‚æœæ¥å£ä¸ºç©ºåˆ™è¿”å›0


// TypeOf returns the reflection Type that represents the dynamic type of i.
// If i is a nil interface value, TypeOf returns nil.
func TypeOf(i interface{}) Type {...}

ç¿»è¯‘ä¸€ä¸‹ï¼šTypeOfç”¨æ¥åŠ¨æ€è·å–è¾“å…¥å‚æ•°æ¥å£ä¸­çš„å€¼çš„ç±»å‹ï¼Œå¦‚æœæ¥å£ä¸ºç©ºåˆ™è¿”å›nil
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;reflect.TypeOf()æ˜¯è·å–pairä¸­çš„typeï¼Œreflect.ValueOf()è·å–pairä¸­çš„valueï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;package main

import (
	&amp;#34;fmt&amp;#34;
	&amp;#34;reflect&amp;#34;
)

func main() {
	var num float64 = 1.2345

	fmt.Println(&amp;#34;type: &amp;#34;, reflect.TypeOf(num))
	fmt.Println(&amp;#34;value: &amp;#34;, reflect.ValueOf(num))
}

è¿è¡Œç»“æœ:
type:  float64
value:  1.2345
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;è¯´æ˜&#34;&gt;è¯´æ˜&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;reflect.TypeOfï¼š ç›´æ¥ç»™åˆ°äº†æˆ‘ä»¬æƒ³è¦çš„typeç±»å‹ï¼Œå¦‚float64ã€intã€å„ç§pointerã€struct ç­‰ç­‰çœŸå®çš„ç±»å‹&lt;/li&gt;
&lt;li&gt;reflect.ValueOfï¼šç›´æ¥ç»™åˆ°äº†æˆ‘ä»¬æƒ³è¦çš„å…·ä½“çš„å€¼ï¼Œå¦‚1.2345è¿™ä¸ªå…·ä½“æ•°å€¼ï¼Œæˆ–è€…ç±»ä¼¼&amp;amp;{1 &amp;ldquo;Allen.Wu&amp;rdquo; 25} è¿™æ ·çš„ç»“æ„ä½“structçš„å€¼&lt;/li&gt;
&lt;li&gt;ä¹Ÿå°±æ˜¯è¯´æ˜åå°„å¯ä»¥å°†â€œæ¥å£ç±»å‹å˜é‡â€è½¬æ¢ä¸ºâ€œåå°„ç±»å‹å¯¹è±¡â€ï¼Œåå°„ç±»å‹æŒ‡çš„æ˜¯reflect.Typeå’Œreflect.Valueè¿™ä¸¤ç§&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;ä»relfectvalueä¸­è·å–æ¥å£interfaceçš„ä¿¡æ¯&#34;&gt;ä»relfect.Valueä¸­è·å–æ¥å£interfaceçš„ä¿¡æ¯&lt;/h4&gt;
&lt;p&gt;å½“æ‰§è¡Œreflect.ValueOf(interface)ä¹‹åï¼Œå°±å¾—åˆ°äº†ä¸€ä¸ªç±»å‹ä¸ºâ€relfect.Valueâ€å˜é‡ï¼Œå¯ä»¥é€šè¿‡å®ƒæœ¬èº«çš„Interface()æ–¹æ³•è·å¾—æ¥å£å˜é‡çš„çœŸå®å†…å®¹ï¼Œç„¶åå¯ä»¥é€šè¿‡ç±»å‹åˆ¤æ–­è¿›è¡Œè½¬æ¢ï¼Œè½¬æ¢ä¸ºåŸæœ‰çœŸå®ç±»å‹ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬å¯èƒ½æ˜¯å·²çŸ¥åŸæœ‰ç±»å‹ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æœªçŸ¥åŸæœ‰ç±»å‹ï¼Œå› æ­¤ï¼Œä¸‹é¢åˆ†ä¸¤ç§æƒ…å†µè¿›è¡Œè¯´æ˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å·²çŸ¥åŸæœ‰ç±»å‹ã€è¿›è¡Œâ€œå¼ºåˆ¶è½¬æ¢â€ã€‘&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å·²çŸ¥ç±»å‹åè½¬æ¢ä¸ºå…¶å¯¹åº”çš„ç±»å‹çš„åšæ³•å¦‚ä¸‹ï¼Œç›´æ¥é€šè¿‡Interfaceæ–¹æ³•ç„¶åå¼ºåˆ¶è½¬æ¢ï¼Œå¦‚ä¸‹&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;realValue := value.Interface().(å·²çŸ¥çš„ç±»å‹)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç¤ºä¾‹:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;package main

import (
	&amp;#34;fmt&amp;#34;
	&amp;#34;reflect&amp;#34;
)

func main() {
	var num float64 = 1.2345

	pointer := reflect.ValueOf(&amp;amp;num)
	value := reflect.ValueOf(num)

	// å¯ä»¥ç†è§£ä¸ºâ€œå¼ºåˆ¶è½¬æ¢â€ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ—¶å€™ï¼Œè½¬æ¢çš„æ—¶å€™ï¼Œå¦‚æœè½¬æ¢çš„ç±»å‹ä¸å®Œå…¨ç¬¦åˆï¼Œåˆ™ç›´æ¥panic
	// Golang å¯¹ç±»å‹è¦æ±‚éå¸¸ä¸¥æ ¼ï¼Œç±»å‹ä¸€å®šè¦å®Œå…¨ç¬¦åˆ
	// å¦‚ä¸‹ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯*float64ï¼Œä¸€ä¸ªæ˜¯float64ï¼Œå¦‚æœå¼„æ··ï¼Œåˆ™ä¼španic
	convertPointer := pointer.Interface().(*float64)
	convertValue := value.Interface().(float64)

	fmt.Println(convertPointer)
	fmt.Println(convertValue)
}

è¿è¡Œç»“æœï¼š
0xc42000e238
1.2345
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;è¯´æ˜-1&#34;&gt;è¯´æ˜&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;è½¬æ¢çš„æ—¶å€™ï¼Œå¦‚æœè½¬æ¢çš„ç±»å‹ä¸å®Œå…¨ç¬¦åˆï¼Œåˆ™ç›´æ¥panicï¼Œç±»å‹è¦æ±‚éå¸¸ä¸¥æ ¼ï¼&lt;/li&gt;
&lt;li&gt;è½¬æ¢çš„æ—¶å€™ï¼Œè¦åŒºåˆ†æ˜¯æŒ‡é’ˆè¿˜æ˜¯æŒ‡&lt;/li&gt;
&lt;li&gt;ä¹Ÿå°±æ˜¯è¯´åå°„å¯ä»¥å°†â€œåå°„ç±»å‹å¯¹è±¡â€å†é‡æ–°è½¬æ¢ä¸ºâ€œæ¥å£ç±»å‹å˜é‡â€&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;æœªçŸ¥åŸæœ‰ç±»å‹ã€éå†æ¢æµ‹å…¶Filedã€‘&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½å¹¶ä¸çŸ¥é“å…¶å…·ä½“ç±»å‹ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œè¯¥å¦‚ä½•åšå‘¢ï¼Ÿéœ€è¦æˆ‘ä»¬è¿›è¡Œéå†æ¢æµ‹å…¶Filedæ¥å¾—çŸ¥ï¼Œç¤ºä¾‹å¦‚ä¸‹:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;package main

import (
	&amp;#34;fmt&amp;#34;
	&amp;#34;reflect&amp;#34;
)

type User struct {
	Id   int
	Name string
	Age  int
}

func (u User) ReflectCallFunc() {
	fmt.Println(&amp;#34;Allen.Wu ReflectCallFunc&amp;#34;)
}

func main() {

	user := User{1, &amp;#34;Allen.Wu&amp;#34;, 25}

	DoFiledAndMethod(user)

}

// é€šè¿‡æ¥å£æ¥è·å–ä»»æ„å‚æ•°ï¼Œç„¶åä¸€ä¸€æ­æ™“
func DoFiledAndMethod(input interface{}) {

	getType := reflect.TypeOf(input)
	fmt.Println(&amp;#34;get Type is :&amp;#34;, getType.Name())

	getValue := reflect.ValueOf(input)
	fmt.Println(&amp;#34;get all Fields is:&amp;#34;, getValue)

	// è·å–æ–¹æ³•å­—æ®µ
	// 1. å…ˆè·å–interfaceçš„reflect.Typeï¼Œç„¶åé€šè¿‡NumFieldè¿›è¡Œéå†
	// 2. å†é€šè¿‡reflect.Typeçš„Fieldè·å–å…¶Field
	// 3. æœ€åé€šè¿‡Fieldçš„Interface()å¾—åˆ°å¯¹åº”çš„value
	for i := 0; i &amp;lt; getType.NumField(); i++ {
		field := getType.Field(i)
		value := getValue.Field(i).Interface()
		fmt.Printf(&amp;#34;%s: %v = %v\n&amp;#34;, field.Name, field.Type, value)
	}

	// è·å–æ–¹æ³•
	// 1. å…ˆè·å–interfaceçš„reflect.Typeï¼Œç„¶åé€šè¿‡.NumMethodè¿›è¡Œéå†
	for i := 0; i &amp;lt; getType.NumMethod(); i++ {
		m := getType.Method(i)
		fmt.Printf(&amp;#34;%s: %v\n&amp;#34;, m.Name, m.Type)
	}
}

è¿è¡Œç»“æœï¼š
get Type is : User
get all Fields is: {1 Allen.Wu 25}
Id: int = 1
Name: string = Allen.Wu
Age: int = 25
ReflectCallFunc: func(main.User)
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;è¯´æ˜-2&#34;&gt;è¯´æ˜&lt;/h5&gt;
&lt;p&gt;é€šè¿‡è¿è¡Œç»“æœå¯ä»¥å¾—çŸ¥è·å–æœªçŸ¥ç±»å‹çš„interfaceçš„å…·ä½“å˜é‡åŠå…¶ç±»å‹çš„æ­¥éª¤ä¸ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆè·å–interfaceçš„reflect.Typeï¼Œç„¶åé€šè¿‡NumFieldè¿›è¡Œéå†&lt;/li&gt;
&lt;li&gt;å†é€šè¿‡reflect.Typeçš„Fieldè·å–å…¶Field&lt;/li&gt;
&lt;li&gt;æœ€åé€šè¿‡Fieldçš„Interface()å¾—åˆ°å¯¹åº”çš„value&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é€šè¿‡è¿è¡Œç»“æœå¯ä»¥å¾—çŸ¥è·å–æœªçŸ¥ç±»å‹çš„interfaceçš„æ‰€å±æ–¹æ³•ï¼ˆå‡½æ•°ï¼‰çš„æ­¥éª¤ä¸ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆè·å–interfaceçš„reflect.Typeï¼Œç„¶åé€šè¿‡NumMethodè¿›è¡Œéå†&lt;/li&gt;
&lt;li&gt;å†åˆ†åˆ«é€šè¿‡reflect.Typeçš„Methodè·å–å¯¹åº”çš„çœŸå®çš„æ–¹æ³•ï¼ˆå‡½æ•°ï¼‰&lt;/li&gt;
&lt;li&gt;æœ€åå¯¹ç»“æœå–å…¶Nameå’ŒTypeå¾—çŸ¥å…·ä½“çš„æ–¹æ³•å&lt;/li&gt;
&lt;li&gt;ä¹Ÿå°±æ˜¯è¯´åå°„å¯ä»¥å°†â€œåå°„ç±»å‹å¯¹è±¡â€å†é‡æ–°è½¬æ¢ä¸ºâ€œæ¥å£ç±»å‹å˜é‡â€&lt;/li&gt;
&lt;li&gt;struct æˆ–è€… struct çš„åµŒå¥—éƒ½æ˜¯ä¸€æ ·çš„åˆ¤æ–­å¤„ç†æ–¹å¼&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;é€šè¿‡reflect.Valueè®¾ç½®å®é™…å˜é‡çš„å€¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;reflect.Valueæ˜¯é€šè¿‡reflect.ValueOf(X)è·å¾—çš„ï¼Œåªæœ‰å½“Xæ˜¯æŒ‡é’ˆçš„æ—¶å€™ï¼Œæ‰å¯ä»¥é€šè¿‡reflec.Valueä¿®æ”¹å®é™…å˜é‡Xçš„å€¼ï¼Œå³ï¼šè¦ä¿®æ”¹åå°„ç±»å‹çš„å¯¹è±¡å°±ä¸€å®šè¦ä¿è¯å…¶å€¼æ˜¯â€œaddressableâ€çš„ã€‚&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;package main

import (
	&amp;#34;fmt&amp;#34;
	&amp;#34;reflect&amp;#34;
)

func main() {

	var num float64 = 1.2345
	fmt.Println(&amp;#34;old value of pointer:&amp;#34;, num)

	// é€šè¿‡reflect.ValueOfè·å–numä¸­çš„reflect.Valueï¼Œæ³¨æ„ï¼Œå‚æ•°å¿…é¡»æ˜¯æŒ‡é’ˆæ‰èƒ½ä¿®æ”¹å…¶å€¼
	pointer := reflect.ValueOf(&amp;amp;num)
	newValue := pointer.Elem()

	fmt.Println(&amp;#34;type of pointer:&amp;#34;, newValue.Type())
	fmt.Println(&amp;#34;settability of pointer:&amp;#34;, newValue.CanSet())

	// é‡æ–°èµ‹å€¼
	newValue.SetFloat(77)
	fmt.Println(&amp;#34;new value of pointer:&amp;#34;, num)

	////////////////////
	// å¦‚æœreflect.ValueOfçš„å‚æ•°ä¸æ˜¯æŒ‡é’ˆï¼Œä¼šå¦‚ä½•ï¼Ÿ
	pointer = reflect.ValueOf(num)
	//newValue = pointer.Elem() // å¦‚æœéæŒ‡é’ˆï¼Œè¿™é‡Œç›´æ¥panicï¼Œâ€œpanic: reflect: call of reflect.Value.Elem on float64 Valueâ€
}

è¿è¡Œç»“æœï¼š
old value of pointer: 1.2345
type of pointer: float64
settability of pointer: true
new value of pointer: 77
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;è¯´æ˜-3&#34;&gt;è¯´æ˜&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;éœ€è¦ä¼ å…¥çš„å‚æ•°æ˜¯* float64è¿™ä¸ªæŒ‡é’ˆï¼Œç„¶åå¯ä»¥é€šè¿‡pointer.Elem()å»è·å–æ‰€æŒ‡å‘çš„Valueï¼Œ&lt;strong&gt;æ³¨æ„ä¸€å®šè¦æ˜¯æŒ‡é’ˆ&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä¼ å…¥çš„å‚æ•°ä¸æ˜¯æŒ‡é’ˆï¼Œè€Œæ˜¯å˜é‡ï¼Œé‚£ä¹ˆ
&lt;ul&gt;
&lt;li&gt;é€šè¿‡Elemè·å–åŸå§‹å€¼å¯¹åº”çš„å¯¹è±¡åˆ™ç›´æ¥panic&lt;/li&gt;
&lt;li&gt;é€šè¿‡CanSetæ–¹æ³•æŸ¥è¯¢æ˜¯å¦å¯ä»¥è®¾ç½®è¿”å›false&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;newValue.CantSet()è¡¨ç¤ºæ˜¯å¦å¯ä»¥é‡æ–°è®¾ç½®å…¶å€¼ï¼Œå¦‚æœè¾“å‡ºçš„æ˜¯trueåˆ™å¯ä¿®æ”¹ï¼Œå¦åˆ™ä¸èƒ½ä¿®æ”¹ï¼Œä¿®æ”¹å®Œä¹‹åå†è¿›è¡Œæ‰“å°å‘ç°çœŸçš„å·²ç»ä¿®æ”¹äº†ã€‚&lt;/li&gt;
&lt;li&gt;reflect.Value.Elem() è¡¨ç¤ºè·å–åŸå§‹å€¼å¯¹åº”çš„åå°„å¯¹è±¡ï¼Œåªæœ‰åŸå§‹å¯¹è±¡æ‰èƒ½ä¿®æ”¹ï¼Œå½“å‰åå°„å¯¹è±¡æ˜¯ä¸èƒ½ä¿®æ”¹çš„&lt;/li&gt;
&lt;li&gt;ä¹Ÿå°±æ˜¯è¯´å¦‚æœè¦ä¿®æ”¹åå°„ç±»å‹å¯¹è±¡ï¼Œå…¶å€¼å¿…é¡»æ˜¯â€œaddressableâ€ã€å¯¹åº”çš„è¦ä¼ å…¥çš„æ˜¯æŒ‡é’ˆï¼ŒåŒæ—¶è¦é€šè¿‡Elemæ–¹æ³•è·å–åŸå§‹å€¼å¯¹åº”çš„åå°„å¯¹è±¡ã€‘&lt;/li&gt;
&lt;li&gt;struct æˆ–è€… struct çš„åµŒå¥—éƒ½æ˜¯ä¸€æ ·çš„åˆ¤æ–­å¤„ç†æ–¹å¼&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;é€šè¿‡reflect.ValueOfæ¥è¿›è¡Œæ–¹æ³•çš„è°ƒç”¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™ç®—æ˜¯ä¸€ä¸ªé«˜çº§ç”¨æ³•äº†ï¼Œå‰é¢æˆ‘ä»¬åªè¯´åˆ°å¯¹ç±»å‹ã€å˜é‡çš„å‡ ç§åå°„çš„ç”¨æ³•ï¼ŒåŒ…æ‹¬å¦‚ä½•è·å–å…¶å€¼ã€å…¶ç±»å‹ã€å¦‚æœé‡æ–°è®¾ç½®æ–°å€¼ã€‚ä½†æ˜¯åœ¨å·¥ç¨‹åº”ç”¨ä¸­ï¼Œå¦å¤–ä¸€ä¸ªå¸¸ç”¨å¹¶ä¸”å±äºé«˜çº§çš„ç”¨æ³•ï¼Œå°±æ˜¯é€šè¿‡reflectæ¥è¿›è¡Œæ–¹æ³•ã€å‡½æ•°ã€‘çš„è°ƒç”¨ã€‚æ¯”å¦‚æˆ‘ä»¬è¦åšæ¡†æ¶å·¥ç¨‹çš„æ—¶å€™ï¼Œéœ€è¦å¯ä»¥éšæ„æ‰©å±•æ–¹æ³•ï¼Œæˆ–è€…è¯´ç”¨æˆ·å¯ä»¥è‡ªå®šä¹‰æ–¹æ³•ï¼Œé‚£ä¹ˆæˆ‘ä»¬é€šè¿‡ä»€ä¹ˆæ‰‹æ®µæ¥æ‰©å±•è®©ç”¨æˆ·èƒ½å¤Ÿè‡ªå®šä¹‰å‘¢ï¼Ÿå…³é”®ç‚¹åœ¨äºç”¨æˆ·çš„è‡ªå®šä¹‰æ–¹æ³•æ˜¯æœªå¯çŸ¥çš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡reflectæ¥æå®š&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;package main

import (
	&amp;#34;fmt&amp;#34;
	&amp;#34;reflect&amp;#34;
)

type User struct {
	Id   int
	Name string
	Age  int
}

func (u User) ReflectCallFuncHasArgs(name string, age int) {
	fmt.Println(&amp;#34;ReflectCallFuncHasArgs name: &amp;#34;, name, &amp;#34;, age:&amp;#34;, age, &amp;#34;and origal User.Name:&amp;#34;, u.Name)
}

func (u User) ReflectCallFuncNoArgs() {
	fmt.Println(&amp;#34;ReflectCallFuncNoArgs&amp;#34;)
}

// å¦‚ä½•é€šè¿‡åå°„æ¥è¿›è¡Œæ–¹æ³•çš„è°ƒç”¨ï¼Ÿ
// æœ¬æ¥å¯ä»¥ç”¨u.ReflectCallFuncXXXç›´æ¥è°ƒç”¨çš„ï¼Œä½†æ˜¯å¦‚æœè¦é€šè¿‡åå°„ï¼Œé‚£ä¹ˆé¦–å…ˆè¦å°†æ–¹æ³•æ³¨å†Œï¼Œä¹Ÿå°±æ˜¯MethodByNameï¼Œç„¶åé€šè¿‡åå°„è°ƒåŠ¨mv.Call

func main() {
	user := User{1, &amp;#34;Allen.Wu&amp;#34;, 25}
	
	// 1. è¦é€šè¿‡åå°„æ¥è°ƒç”¨èµ·å¯¹åº”çš„æ–¹æ³•ï¼Œå¿…é¡»è¦å…ˆé€šè¿‡reflect.ValueOf(interface)æ¥è·å–åˆ°reflect.Valueï¼Œå¾—åˆ°â€œåå°„ç±»å‹å¯¹è±¡â€åæ‰èƒ½åšä¸‹ä¸€æ­¥å¤„ç†
	getValue := reflect.ValueOf(user)

	// ä¸€å®šè¦æŒ‡å®šå‚æ•°ä¸ºæ­£ç¡®çš„æ–¹æ³•å
	// 2. å…ˆçœ‹çœ‹å¸¦æœ‰å‚æ•°çš„è°ƒç”¨æ–¹æ³•
	methodValue := getValue.MethodByName(&amp;#34;ReflectCallFuncHasArgs&amp;#34;)
	args := []reflect.Value{reflect.ValueOf(&amp;#34;wudebao&amp;#34;), reflect.ValueOf(30)}
	methodValue.Call(args)

	// ä¸€å®šè¦æŒ‡å®šå‚æ•°ä¸ºæ­£ç¡®çš„æ–¹æ³•å
	// 3. å†çœ‹çœ‹æ— å‚æ•°çš„è°ƒç”¨æ–¹æ³•
	methodValue = getValue.MethodByName(&amp;#34;ReflectCallFuncNoArgs&amp;#34;)
	args = make([]reflect.Value, 0)
	methodValue.Call(args)
}


è¿è¡Œç»“æœï¼š
ReflectCallFuncHasArgs name:  wudebao , age: 30 and origal User.Name: Allen.Wu
ReflectCallFuncNoArgs
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;è¯´æ˜-4&#34;&gt;è¯´æ˜&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;è¦é€šè¿‡åå°„æ¥è°ƒç”¨èµ·å¯¹åº”çš„æ–¹æ³•ï¼Œå¿…é¡»è¦å…ˆé€šè¿‡reflect.ValueOf(interface)æ¥è·å–åˆ°reflect.Valueï¼Œå¾—åˆ°â€œåå°„ç±»å‹å¯¹è±¡â€åæ‰èƒ½åšä¸‹ä¸€æ­¥å¤„ç†&lt;/li&gt;
&lt;li&gt;reflect.Value.MethodByNameè¿™.MethodByNameï¼Œéœ€è¦æŒ‡å®šå‡†ç¡®çœŸå®çš„æ–¹æ³•åå­—ï¼Œå¦‚æœé”™è¯¯å°†ç›´æ¥panicï¼ŒMethodByNameè¿”å›ä¸€ä¸ªå‡½æ•°å€¼å¯¹åº”çš„reflect.Valueæ–¹æ³•çš„åå­—ã€‚&lt;/li&gt;
&lt;li&gt;[]reflect.Valueï¼Œè¿™ä¸ªæ˜¯æœ€ç»ˆéœ€è¦è°ƒç”¨çš„æ–¹æ³•çš„å‚æ•°ï¼Œå¯ä»¥æ²¡æœ‰æˆ–è€…ä¸€ä¸ªæˆ–è€…å¤šä¸ªï¼Œæ ¹æ®å®é™…å‚æ•°æ¥å®šã€‚&lt;/li&gt;
&lt;li&gt;reflect.Valueçš„ Call è¿™ä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å°†æœ€ç»ˆè°ƒç”¨çœŸå®çš„æ–¹æ³•ï¼Œå‚æ•°åŠ¡å¿…ä¿æŒä¸€è‡´ï¼Œå¦‚æœreflect.Value&amp;rsquo;Kindä¸æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆå°†ç›´æ¥panicã€‚&lt;/li&gt;
&lt;li&gt;æœ¬æ¥å¯ä»¥ç”¨u.ReflectCallFuncXXXç›´æ¥è°ƒç”¨çš„ï¼Œä½†æ˜¯å¦‚æœè¦é€šè¿‡åå°„ï¼Œé‚£ä¹ˆé¦–å…ˆè¦å°†æ–¹æ³•æ³¨å†Œï¼Œä¹Ÿå°±æ˜¯MethodByNameï¼Œç„¶åé€šè¿‡åå°„è°ƒç”¨methodValue.Call&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;golangçš„åå°„reflectæ€§èƒ½&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Golangçš„åå°„å¾ˆæ…¢ï¼Œè¿™ä¸ªå’Œå®ƒçš„APIè®¾è®¡æœ‰å…³ã€‚åœ¨ java é‡Œé¢ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨åå°„éƒ½æ˜¯è¿™æ ·æ¥å¼„çš„ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Field field = clazz.getField(&amp;#34;hello&amp;#34;);
field.get(obj1);
field.get(obj2);
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™ä¸ªå–å¾—çš„åå°„å¯¹è±¡ç±»å‹æ˜¯ java.lang.reflect.Fieldã€‚å®ƒæ˜¯å¯ä»¥å¤ç”¨çš„ã€‚åªè¦ä¼ å…¥ä¸åŒçš„objï¼Œå°±å¯ä»¥å–å¾—è¿™ä¸ªobjä¸Šå¯¹åº”çš„ fieldã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯Golangçš„åå°„ä¸æ˜¯è¿™æ ·è®¾è®¡çš„:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;type_ := reflect.TypeOf(obj)
field, _ := type_.FieldByName(&amp;#34;hello&amp;#34;)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™é‡Œå–å‡ºæ¥çš„ field å¯¹è±¡æ˜¯ reflect.StructField ç±»å‹ï¼Œä½†æ˜¯å®ƒæ²¡æœ‰åŠæ³•ç”¨æ¥å–å¾—å¯¹åº”å¯¹è±¡ä¸Šçš„å€¼ã€‚å¦‚æœè¦å–å€¼ï¼Œå¾—ç”¨å¦å¤–ä¸€å¥—å¯¹objectï¼Œè€Œä¸æ˜¯typeçš„åå°„&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;type_ := reflect.ValueOf(obj)
fieldValue := type_.FieldByName(&amp;#34;hello&amp;#34;)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™é‡Œå–å‡ºæ¥çš„ fieldValue ç±»å‹æ˜¯ reflect.Valueï¼Œå®ƒæ˜¯ä¸€ä¸ªå…·ä½“çš„å€¼ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå¯å¤ç”¨çš„åå°„å¯¹è±¡äº†ï¼Œæ¯æ¬¡åå°„éƒ½éœ€è¦mallocè¿™ä¸ªreflect.Valueç»“æ„ä½“ï¼Œå¹¶ä¸”è¿˜æ¶‰åŠåˆ°GCã€‚&lt;/p&gt;
&lt;p&gt;Golang reflectæ…¢ä¸»è¦æœ‰ä¸¤ä¸ªåŸå› &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ¶‰åŠåˆ°å†…å­˜åˆ†é…ä»¥åŠåç»­çš„GCï¼›&lt;/li&gt;
&lt;li&gt;reflectå®ç°é‡Œé¢æœ‰å¤§é‡çš„æšä¸¾ï¼Œä¹Ÿå°±æ˜¯forå¾ªç¯ï¼Œæ¯”å¦‚ç±»å‹ä¹‹ç±»çš„ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h4&gt;
&lt;p&gt;ä¸Šè¿°è¯¦ç»†è¯´æ˜äº†Golangçš„åå°„reflectçš„å„ç§åŠŸèƒ½å’Œç”¨æ³•ï¼Œéƒ½é™„å¸¦æœ‰ç›¸åº”çš„ç¤ºä¾‹ï¼Œç›¸ä¿¡èƒ½å¤Ÿåœ¨å·¥ç¨‹åº”ç”¨ä¸­è¿›è¡Œç›¸åº”å®è·µï¼Œæ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åå°„å¯ä»¥å¤§å¤§æé«˜ç¨‹åºçš„çµæ´»æ€§ï¼Œä½¿å¾—interface{}æœ‰æ›´å¤§çš„å‘æŒ¥ä½™åœ°
&lt;ul&gt;
&lt;li&gt;åå°„å¿…é¡»ç»“åˆinterfaceæ‰ç©å¾—è½¬&lt;/li&gt;
&lt;li&gt;å˜é‡çš„typeè¦æ˜¯concrete typeçš„ï¼ˆä¹Ÿå°±æ˜¯interfaceå˜é‡ï¼‰æ‰æœ‰åå°„ä¸€è¯´&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åå°„å¯ä»¥å°†â€œæ¥å£ç±»å‹å˜é‡â€è½¬æ¢ä¸ºâ€œåå°„ç±»å‹å¯¹è±¡â€
&lt;ul&gt;
&lt;li&gt;åå°„ä½¿ç”¨ TypeOf å’Œ ValueOf å‡½æ•°ä»æ¥å£ä¸­è·å–ç›®æ ‡å¯¹è±¡ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åå°„å¯ä»¥å°†â€œåå°„ç±»å‹å¯¹è±¡â€è½¬æ¢ä¸ºâ€œæ¥å£ç±»å‹å˜é‡
&lt;ul&gt;
&lt;li&gt;reflect.value.Interface().(å·²çŸ¥çš„ç±»å‹)&lt;/li&gt;
&lt;li&gt;éå†reflect.Typeçš„Fieldè·å–å…¶Field&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åå°„å¯ä»¥ä¿®æ”¹åå°„ç±»å‹å¯¹è±¡ï¼Œä½†æ˜¯å…¶å€¼å¿…é¡»æ˜¯â€œaddressableâ€
&lt;ul&gt;
&lt;li&gt;æƒ³è¦åˆ©ç”¨åå°„ä¿®æ”¹å¯¹è±¡çŠ¶æ€ï¼Œå‰ææ˜¯ interface.data æ˜¯ settable,å³ pointer-interface&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é€šè¿‡åå°„å¯ä»¥â€œåŠ¨æ€â€è°ƒç”¨æ–¹æ³•&lt;/li&gt;
&lt;li&gt;å› ä¸ºGolangæœ¬èº«ä¸æ”¯æŒæ¨¡æ¿ï¼Œå› æ­¤åœ¨ä»¥å¾€éœ€è¦ä½¿ç”¨æ¨¡æ¿çš„åœºæ™¯ä¸‹å¾€å¾€å°±éœ€è¦ä½¿ç”¨åå°„(reflect)æ¥å®ç°&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>ç¯å½¢é“¾è¡¨142</title>
        <link>https://lxb.wiki/fb68a62c/</link>
        <pubDate>Thu, 31 Oct 2019 00:09:51 +0000</pubDate>
        
        <guid>https://lxb.wiki/fb68a62c/</guid>
        <description>&lt;p&gt;ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› nullã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ pos æ˜¯ -1ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚&lt;/p&gt;
&lt;p&gt;**è¯´æ˜ï¼š**ä¸å…è®¸ä¿®æ”¹ç»™å®šçš„é“¾è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;è§£é¢˜å…³é”®æ˜¯ç†è§£ &lt;code&gt;éç¯éƒ¨åˆ†çš„é•¿åº¦&lt;/code&gt;ä¸&lt;code&gt;ç›¸é‡ç‚¹åˆ°ç¯èµ·ç‚¹é‚£éƒ¨åˆ†ç¯çš„é•¿åº¦&lt;/code&gt; æ˜¯ç›¸ç­‰çš„ è¿™ä¸ªæ•°å­¦å…³ç³»&lt;/p&gt;
&lt;p&gt;å‡è®¾éç¯éƒ¨åˆ†é•¿åº¦ä¸º&lt;code&gt;x&lt;/code&gt;, ä»ç¯èµ·ç‚¹åˆ°ç›¸é‡ç‚¹çš„é•¿åº¦ä¸º&lt;code&gt;y&lt;/code&gt; , ç¯çš„é•¿åº¦ä¸º&lt;code&gt;c&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æ…¢æŒ‡é’ˆ(slow)èµ°è¿‡çš„é•¿åº¦å¯ä»¥è¡¨ç¤ºä¸º``ds = x + n1 * c + y&lt;code&gt;, å¿«æŒ‡é’ˆ(fast) çš„é€Ÿåº¦æ˜¯æ…¢æŒ‡é’ˆçš„ä¸¤å€, æ„å‘³ç€ å¿«æŒ‡é’ˆèµ°è¿‡çš„é•¿åº¦ä¸º&lt;/code&gt;df = 2(x + n1 * c + y)`&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ä¸ªçº¦æŸæ˜¯, fast èµ°è¿‡çš„è·¯ç¨‹ä¸€å®šæ¯”slowèµ°çš„è·¯ç¨‹å¤šå‡ºç¯é•¿åº¦çš„æ•´æ•°å€(è®°ä¸º&lt;code&gt;n2 * c&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;df - ds = n2 * c
2(x + n1 * c + y) - (x + n1 * c + y) = n2 * c
x + n1 * c + y = n2 * c
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è§£è¯»ä¸‹ç¬¬ä¸‰æ­¥çš„ç­‰å¼: éç¯éƒ¨åˆ†çš„é•¿åº¦ + ç¯èµ·ç‚¹åˆ°ç›¸é‡ç‚¹ä¹‹é—´çš„é•¿åº¦ å°±æ˜¯ç¯çš„æ•´æ•°å€&lt;/p&gt;
&lt;p&gt;æ„å‘³ç€, å½“ä»¥ç¯çš„èµ·ç‚¹ä¸ºåŸç‚¹æ—¶, å·²ç»èµ°è¿‡y(å³å‰é¢&lt;code&gt;ä»ç¯èµ·ç‚¹åˆ°ç›¸é‡ç‚¹çš„é•¿åº¦&lt;/code&gt;)çš„å‰æä¸‹, å¦‚æœå†èµ°x , å°±åˆšå¥½èµ°äº†å¾ˆå¤šåœˆ(&lt;code&gt;n2 * c&lt;/code&gt;). &lt;em&gt;&amp;ldquo;å¾ˆå¤šåœˆ&amp;rdquo; çš„æ„æ€, å°±æ˜¯ä»åŸç‚¹å†åˆ°åŸç‚¹, ç»ˆç‚¹çš„ä½ç½®å’Œèµ·ç‚¹çš„ä½ç½®é‡åˆ.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;æ€ä¹ˆæ‰èƒ½å†èµ°xå‘¢? è®©ä¸€ä¸ªæŒ‡é’ˆä»&lt;code&gt;head&lt;/code&gt; å¼€å§‹èµ°, å¦ä¸€ä¸ªæŒ‡é’ˆä»ç›¸é‡ç‚¹å¼€å§‹èµ°, ç­‰è¿™ä¸¤ä¸ªæŒ‡é’ˆç›¸é‡, å°±æ˜¯èµ°äº†x. å¦‚æœä¸èƒ½ç†è§£ä¸ºä½•ç›¸é‡æ°å¥½å°±åœ¨ä¸Šé¢è¯´çš„&lt;strong&gt;åŸç‚¹&lt;/strong&gt;å¤„, åº”è¯¥åå¤ç¢ç£¨æ–œä½“&amp;quot;å¾ˆå¤šåœˆ&amp;quot;é‚£å¥è¯&lt;/p&gt;
&lt;p&gt;code&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-golang&#34; data-lang=&#34;golang&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;detectCycle&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ListNode&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ListNode&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;fast&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;slow&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fast&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fast&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fast&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Next&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;slow&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;slow&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Next&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;fast&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;fast&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Next&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Next&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fast&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;slow&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#a6e22e&#34;&gt;fast&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fast&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;slow&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#a6e22e&#34;&gt;fast&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;fast&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Next&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#a6e22e&#34;&gt;slow&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;slow&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Next&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fast&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>å¦‚ä½•ä½¿ç”¨GitHubæœç´¢</title>
        <link>https://lxb.wiki/a813d59a/</link>
        <pubDate>Mon, 28 Oct 2019 23:03:30 +0000</pubDate>
        
        <guid>https://lxb.wiki/a813d59a/</guid>
        <description>&lt;p&gt;&lt;strong&gt;1. æ˜ç¡®æœç´¢ä»“åº“æ ‡é¢˜ã€ä»“åº“æè¿°ã€README&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;in:name å…³é”®è¯&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœæƒ³æŸ¥æ‰¾æè¿°çš„å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨è¿™æ ·çš„æ–¹å¼ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;in:descripton å…³é”®è¯&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œå°±æ˜¯æœç´¢ä¸Šé¢é¡¹ç›®æè¿°çš„å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬é¡¹ç›®ï¼Œéƒ½ä¼šæœ‰ä¸ªREADMEæ–‡ä»¶ï¼Œå¦‚æœè¦æŸ¥è¯¥æ–‡ä»¶åŒ…å«ç‰¹å®šå…³é”®è¯çš„è¯&lt;/p&gt;
&lt;p&gt;&lt;code&gt;in:readme å…³é”®è¯&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. æ˜ç¡®æœç´¢ starã€fork æ•°å¤§äºå¤šå°‘çš„&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªé¡¹ç›® star æ•°çš„å¤šå°‘ï¼Œä¸€èˆ¬ä»£è¡¨è¯¥é¡¹ç›®æœ‰å—æ¬¢è¿ç¨‹åº¦ã€‚è™½ç„¶ç°åœ¨ä¹Ÿæœ‰åƒåœ¾é¡¹ç›®åˆ· star ï¼Œä½†æ¯•ç«Ÿæ˜¯å°‘æ•°ï¼Œ star ä¾ç„¶æ˜¯ä¸ªä¸é”™çš„è¡¡é‡æ ‡å‡†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;stars:&amp;gt; æ•°å­— å…³é”®å­—&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚è¦æ‰¾ star æ•°å¤§äº 3000 çš„Spring Cloud ä»“åº“ï¼Œå°±å¯ä»¥è¿™æ ·&lt;/p&gt;
&lt;p&gt;&lt;code&gt;stars:&amp;gt;3000 spring cloud&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸åŠ  &amp;gt;= çš„è¯ï¼Œæ˜¯è¦ç²¾ç¡®æ‰¾ star æ•°ç­‰äºå…·ä½“æ•°å­—çš„ï¼Œè¿™ä¸ªä¸€èˆ¬æœ‰ç‚¹å›°éš¾ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœè¦æ‰¾åœ¨æŒ‡å®šæ•°å­—åŒºé—´çš„è¯ï¼Œä½¿ç”¨&lt;/p&gt;
&lt;p&gt;&lt;code&gt;stars: 10..20 å…³é”®è¯&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;fork æ•°åŒç†ï¼Œå°†ä¸Šé¢çš„ stars æ¢æˆ &lt;strong&gt;fork&lt;/strong&gt;ï¼Œå…¶å®ƒè¯­æ³•ç›¸åŒ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. æ˜ç¡®æœç´¢ä»“åº“å¤§å°çš„&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚åªæƒ³çœ‹ä¸ªç®€å•çš„ Demoï¼Œä¸æƒ³æ‰¾ç‰¹åˆ«å¤æ‚çš„ä¸”å ç”¨ç£ç›˜ç©ºé—´è¾ƒå¤šçš„ï¼Œå¯ä»¥åœ¨æœç´¢çš„æ—¶å€™ç›´æ¥é™å®šä»“åº“çš„ &lt;strong&gt;size&lt;/strong&gt; ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨æ–¹å¼ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;size:&amp;gt;=5000 å…³é”®è¯&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæ³¨æ„ä¸‹ï¼Œè¿™ä¸ªæ•°å­—ä»£è¡¨K, 5000ä»£è¡¨ç€5Mã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4. æ˜ç¡®ä»“åº“æ˜¯å¦è¿˜åœ¨æ›´æ–°ç»´æŠ¤&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨ç¡®è®¤æ˜¯å¦è¦ä½¿ç”¨ä¸€äº›å¼€æºäº§å“ï¼Œæ¡†æ¶çš„æ—¶å€™ï¼Œæ˜¯å¦ç»§ç»­ç»´æŠ¤æ˜¯å¾ˆé‡è¦çš„ä¸€ç‚¹ã€‚å¦‚æœå·²ç»è¿‡æ—¶æ²¡äººç»´æŠ¤çš„ä¸œè¥¿ï¼Œè¸©äº†å‘å°±ä¸å¥½åŠäº†ã€‚è€Œåœ¨ GitHub ä¸Šæ‰¾é¡¹ç›®çš„æ—¶å€™ï¼Œä¸å†éœ€è¦æ¯ä¸ªéƒ½ç‚¹åˆ°é¡¹ç›®é‡Œçœ‹çœ‹æœ€è¿‘ push çš„æ—¶é—´ï¼Œç›´æ¥åœ¨æœç´¢æ¡†å³å¯å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;å…ƒæ—¦åˆšè¿‡ï¼Œæ¯”å¦‚å’±ä»¬è¦æ‰¾ä¸´è¿‘å¹´åº•ä¾ç„¶åœ¨å‹¤å¿«æ›´æ–°çš„é¡¹ç›®ï¼Œå°±å¯ä»¥ç›´æ¥æŒ‡å®š&lt;strong&gt;æ›´æ–°æ—¶é—´&lt;/strong&gt;åœ¨å“ªä¸ªæ—¶é—´å‰æˆ–åçš„&lt;/p&gt;
&lt;p&gt;é€šè¿‡è¿™æ ·ä¸€æ¡æœç´¢ &lt;code&gt;pushed:&amp;gt;2019-01-03 spring cloud&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å°±æ‰¾åˆ°äº†1æœˆ3å·ä¹‹åï¼Œè¿˜åœ¨æ›´æ–°çš„é¡¹ç›®&lt;/p&gt;
&lt;p&gt;æƒ³æ‰¾æŒ‡å®šæ—¶é—´ä¹‹å‰æˆ–ä¹‹ååˆ›å»ºçš„ä»“åº“ä¹Ÿæ˜¯å¯ä»¥çš„ï¼ŒæŠŠ &lt;strong&gt;pushed&lt;/strong&gt; æ”¹æˆ &lt;strong&gt;created&lt;/strong&gt; å°±è¡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5. æ˜ç¡®æœç´¢ä»“åº“çš„ LICENSE&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç»å¸¸ä½¿ç”¨å¼€æºè½¯ä»¶ï¼Œä¸€å®šéƒ½çŸ¥é“ï¼Œå¼€æºè½¯ä»¶ä¹Ÿæ˜¯åˆ†ä¸åŒçš„ã€Œé—¨æ´¾ã€ä¸åŒçš„&lt;strong&gt;LICENSE&lt;/strong&gt;ã€‚å¼€æºä¸ç­‰äºä¸€åˆ‡å…è´¹ï¼Œä¸åŒçš„è®¸å¯è¯è¦æ±‚ä¹Ÿå¤§ä¸ç›¸åŒã€‚ 2018å¹´å°±å‡ºç°äº† Facebook ä¿®æ”¹ React çš„è®¸å¯åè®®å¯¼è‡´å„ä¸ªå…¬å¸çº·çº·ä¿®æ”¹è‡ªå·±çš„ä»£ç ï¼Œå¯»æ‰¾æ›¿æ¢çš„æ¡†æ¶ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚è¦æ‰¾åè®®æ˜¯æœ€ä¸ºå®½æ¾çš„ Apache License 2 çš„ä»£ç ï¼Œå¯ä»¥è¿™æ ·&lt;/p&gt;
&lt;p&gt;&lt;code&gt;license:apache-2.0 spring cloud&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å…¶å®ƒåè®®å°±æŠŠ apache-2.0 æ›¿æ¢ä¸€ä¸‹å³å¯ï¼Œæ¯”å¦‚æ¢æˆ &lt;strong&gt;mit&lt;/strong&gt; ä¹‹ç±»çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;6. æ˜ç¡®æœç´¢ä»“åº“çš„è¯­è¨€&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚å’±ä»¬å°±æ‰¾ Java çš„åº“ï¼Œ é™¤äº†åƒä¸Šé¢åœ¨å·¦ä¾§ç‚¹å‡»é€‰æ‹©ä¹‹å¤–ï¼Œè¿˜å¯ä»¥åœ¨æœç´¢ä¸­è¿‡æ»¤ã€‚åƒè¿™æ ·ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;language:java å…³é”®è¯&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;7.æ˜ç¡®æœç´¢æŸä¸ªäººæˆ–ç»„ç»‡çš„ä»“åº“&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;user:joshlong&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç»„åˆä½¿ç”¨ä¸€ä¸‹ï¼ŒæŠŠ Java é¡¹ç›®è¿‡æ»¤å‡ºæ¥ï¼Œå¤šä¸ªæŸ¥è¯¢ä¹‹é—´ã€Œç©ºæ ¼ã€åˆ†éš”å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;user:joshlong language:java&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æ‰¾æŸä¸ªç»„ç»‡çš„ä»£ç è¯ï¼Œå¯ä»¥è¿™æ ·ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;org:spring-cloud&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å°±å¯ä»¥åˆ—å‡ºå…·ä½“org çš„ä»“åº“ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹</title>
        <link>https://lxb.wiki/6a0b412d/</link>
        <pubDate>Wed, 23 Oct 2019 22:50:21 +0000</pubDate>
        
        <guid>https://lxb.wiki/6a0b412d/</guid>
        <description>&lt;p&gt;leetcode-26&lt;/p&gt;
&lt;p&gt;ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„ï¼Œä½ éœ€è¦åœ¨åŸåœ°åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿å¾—æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ï¼Œè¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ç»™å®šæ•°ç»„ nums = [1,1,2], 

å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2, å¹¶ä¸”åŸæ•°ç»„ nums çš„å‰ä¸¤ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 2ã€‚ 

ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚

ç»™å®š nums = [0,0,1,1,1,2,2,3,3,4],

å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 5, å¹¶ä¸”åŸæ•°ç»„ nums çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 0, 1, 2, 3, 4ã€‚

ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç†è§£é¢˜æ„:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1. å½“ç»™å®šæ•°ç»„ä¸ºç©ºæ—¶, è¿”å›0
2. ä¸èƒ½å¼•å…¥å…¶ä»–æ•°ç»„ç©ºé—´, å³ä¸èƒ½å†ä½¿ç”¨ä¸€ä¸ªæ–°çš„æ•°ç»„æ¥å­˜æ”¾ç»“æœ
3. æœ€ç»ˆç»“æœä¸é‡å¤, æ•´ä½“æ€è·¯æ˜¯æŠŠæ•°ç»„åé¢çš„å‡ ä¸ªå…ƒç´ æŒªåˆ°å‰é¢å», ç”¨åé¢çš„å…ƒç´ è¦†ç›–æ‰å‰é¢é‡å¤äº†çš„å…ƒç´ , ä¿æŒæ•°ç»„çš„é•¿åº¦å§‹ç»ˆä¸å˜. æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦(å»é‡åçš„é•¿åº¦) åçš„å…ƒç´ æ— è§†
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç”¨å¿«æ…¢æŒ‡é’ˆçš„æ€è·¯è§£ç­”:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç»™å®šä¸¤ä¸ªæ¸¸æ ‡ leftå’Œright&lt;/li&gt;
&lt;li&gt;å½“ç»™å®šæ•°ç»„çš„ä¸‹æ ‡ä¸ºleftå’Œrightçš„å€¼ç›¸ç­‰æ—¶,  å°±ä¸ç®¡&lt;/li&gt;
&lt;li&gt;å½“ä¸ç›¸ç­‰æ—¶, åšä¸€ä¸ªæ“ä½œ: æŠŠå½“å‰rightçš„å€¼èµ‹ç»™leftçš„ä¸‹ä¸€ä¸ªåæ ‡&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;code:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func removeDuplicates(nums []int) int {
    //å¦‚æœæ˜¯ç©ºåˆ‡ç‰‡ï¼Œé‚£å°±è¿”å›0
    if len(nums) == 0 {
        return 0
    }
    //ç”¨ä¸¤ä¸ªæ ‡è®°æ¥æ¯”è¾ƒç›¸é‚»ä½ç½®çš„å€¼
    //å½“ä¸€æ ·çš„è¯ï¼Œé‚£å°±ä¸ç®¡ç»§ç»­
    //å½“ä¸ä¸€æ ·çš„æ—¶å€™ï¼Œå°±æŠŠrightæŒ‡å‘çš„å€¼èµ‹å€¼ç»™leftä¸‹ä¸€ä½
    left, right := 0, 1
    for ; right &amp;lt; len(nums); right++ {
        if nums[left] == nums[right] {
            continue
        }
        left++
        nums[left] = nums[right]
    }
    fmt.Println(nums[:left+1])
    return left + 1
}
&lt;/code&gt;&lt;/pre&gt;</description>
        </item>
        <item>
        <title>Golangç¼–è¯‘å™¨æ¼æ´å’Œæ ‡å‡†åº“è®¾è®¡å¤±è¯¯</title>
        <link>https://lxb.wiki/4fe063a2/</link>
        <pubDate>Sun, 20 Oct 2019 11:29:37 +0000</pubDate>
        
        <guid>https://lxb.wiki/4fe063a2/</guid>
        <description>&lt;p&gt;å­—èŠ‚åˆ‡ç‰‡ï¼ˆbyte sliceï¼‰ç›¸å…³çš„ç¼–è¯‘å™¨æ¼æ´å’Œæ ‡å‡†åº“è®¾è®¡å¤±è¯¯&lt;/p&gt;
&lt;p&gt;å‡å¦‚ä¸€ä¸ªç±»å‹MyByteå®šä¹‰å¦‚ä¸‹ï¼Œå¦‚ä½•å°†ä¸€ä¸ª[]MyByteåˆ‡ç‰‡å€¼å’Œä¸€ä¸ª[]byteåˆ‡ç‰‡å€¼äº’ç›¸è½¬æ¢ä¸ºå¯¹æ–¹çš„ç±»å‹ï¼Ÿ&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;package main

type MyByte byte
var (
  x = []byte{1, 2, 3}
  y = []MyByte{1, 2, 3}
)

func main() {
  x = []byte(y) // error: éæ³•çš„è½¬æ¢
  y = []MyByte(x) // error: éæ³•çš„è½¬æ¢
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦‚ä¸Šä¾‹æ‰€ç¤ºï¼Œåœ¨Goä¸­ï¼Œè¿™ä¸¤ä¸ªç±»å‹çš„å€¼ä¹‹é—´çš„ç±»å‹è½¬æ¢æ˜¯éæ³•çš„ã€‚å› ä¸ºGoè§„å®šä¸¤ä¸ªåˆ‡ç‰‡åªæœ‰åœ¨å®ƒä»¬çš„ç±»å‹çš„åº•å±‚ç±»å‹ï¼ˆunderlying typeï¼‰ç›¸åŒçš„æƒ…å†µä¸‹æ‰èƒ½è½¬æ¢åˆ°å¯¹æ–¹çš„ç±»å‹ã€‚è€Œä¸€ä¸ªéå®šä¹‰ç±»å‹ï¼ˆundefined typeï¼‰çš„åº•å±‚ç±»å‹ä¸ºæ­¤éå®šä¹‰ç±»å‹æœ¬èº«ã€‚ç±»å‹[]MyByteå’Œ[]byteå‡ä¸ºéå®šä¹‰ç±»å‹ï¼Œæ‰€ä»¥å®ƒä»¬çš„åº•å±‚ç±»å‹ä¸åŒï¼Œä»è€Œå®ƒä»¬çš„å€¼ä¹Ÿå°±ä¸èƒ½è½¬æ¢åˆ°å¯¹æ–¹çš„ç±»å‹ã€‚&lt;/p&gt;
&lt;p&gt;éš¾é“çœŸæ²¡æœ‰åŠæ³•å®ç°å®ƒä»¬ä¹‹é—´çš„è½¬æ¢äº†ï¼Ÿæœ‰ï¼Œè€Œä¸”æœ‰å¥½å‡ ç§ã€‚ç¬¬ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ç±»å‹éå®‰å…¨æŒ‡é’ˆæ¥å®ç°åŒå‘è½¬æ¢ï¼Œå¦å¤–ä¸¤ç§æ–¹æ³•åªèƒ½å®ç°å•å‘è½¬æ¢ã€‚å¦å¤–çš„è¿™ä¸¤ç§æ–¹æ³•è¦ä¹ˆåˆ©ç”¨äº†ç¼–è¯‘å™¨çš„æ¼æ´ï¼Œè¦ä¹ˆåˆ©ç”¨äº†reflectæ ‡å‡†åº“åŒ…çš„è®¾è®¡å¤±è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä½¿ç”¨ç±»å‹éå®‰å…¨æŒ‡é’ˆçš„å®ç°ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;package main

import &amp;#34;unsafe&amp;#34;

type MyByte byte
var (
  x = []byte{1, 2, 3}
  y = []MyByte{1, 2, 3}
)

func main() {
  p := unsafe.Pointer(&amp;amp;y)
  x = *(*[]byte)(p)
  x[0] = 99
  println(y[0]) // 99
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åœ¨ä½¿ç”¨ç±»å‹éå®‰å…¨æŒ‡é’ˆçš„å®ç°ä¸­ï¼Œè½¬æ¢ç»“æœå’ŒåŸåˆ‡ç‰‡å…±äº«åº•å±‚å…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åˆ©ç”¨æ ‡å‡†ç¼–è¯‘å™¨çš„bug&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ª[]byteåˆ‡ç‰‡å€¼è½¬æ¢ä¸ºstring, å†æŠŠstringè½¬æ¢ä¸ºç±»å‹[]MyByteã€‚è½¬æ¢ç»“æœå’ŒåŸåˆ‡ç‰‡ä¸å…±äº«åº•å±‚å…ƒç´ ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;package main

type MyByte byte
var (
  x = []byte{1, 2, 3}
  y = []MyByte{1, 2, 3}
)

func main() {
  // ä¸‹ä¸€è¡Œåˆ©ç”¨äº†ç¼–è¯‘å™¨æ¼æ´
  y = []MyByte(string(x))
  y[0] = 99
  println(x[0]) // 1
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Goç™½çš®ä¹¦æåˆ°ä¸€ä¸ªå­—èŠ‚åˆ‡ç‰‡å¯ä»¥è½¬æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåä¹‹äº¦ç„¶ã€‚ä½†æ˜¯ä»€ä¹ˆæ˜¯å­—èŠ‚åˆ‡ç‰‡ç±»å‹å‘¢ï¼Ÿåº•å±‚ç±»å‹ä¸º[]byteçš„åˆ‡ç‰‡ç±»å‹è¿˜æ˜¯å…ƒç´ ç±»å‹çš„åº•å±‚ç±»å‹ä¸ºbyteçš„åˆ‡ç‰‡ç±»å‹ï¼Ÿå¦‚æœå­—èŠ‚åˆ‡ç‰‡ç±»å‹å®šä¹‰ä¸º&lt;strong&gt;å…ƒç´ ç±»å‹çš„åº•å±‚ç±»å‹ä¸ºbyteçš„åˆ‡ç‰‡ç±»å‹&lt;/strong&gt;ï¼Œåˆ™[]MyByteå’Œ[]byteéƒ½å¯ç§°ä¸ºå­—èŠ‚åˆ‡ç‰‡ç±»å‹ã€‚å¦‚æœå­—èŠ‚åˆ‡ç‰‡ç±»å‹å®šä¹‰ä¸º&lt;strong&gt;åº•å±‚ç±»å‹ä¸º[]byteçš„åˆ‡ç‰‡ç±»å‹&lt;/strong&gt;ï¼Œåˆ™åªæœ‰[]byteå¯ä»¥è¢«ç§°ä¸ºå­—èŠ‚åˆ‡ç‰‡ç±»å‹ã€‚æˆ‘ä»¬è®¤ä¸ºæ ‡å‡†ç¼–è¯‘å™¨é‡‡çº³äº†&lt;strong&gt;åº•å±‚ç±»å‹ä¸º[]byteçš„åˆ‡ç‰‡ç±»å‹æ‰ç§°ä¸ºå­—èŠ‚åˆ‡ç‰‡&lt;/strong&gt;è¿™ä¸€å®šä¹‰ï¼Œå› ä¸ºä¸‹é¢è¿™ä¸ªç¨‹åºä½¿ç”¨æ ‡å‡†ç¼–è¯‘å™¨æ˜¯ç¼–è¯‘ä¸è¿‡çš„ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;package main

type MyByte byte
var (
  x = []byte{1, 2, 3}
  y = []MyByte{1, 2, 3}
)
func main() {
  _ = string(y) // error: éæ³•è½¬æ¢
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä½†æ˜¯ï¼Œæ ‡å‡†ç¼–è¯‘å™¨ï¼ˆv1.12ï¼‰å´è®¤ä¸ºè½¬æ¢[]MyByte(&amp;ldquo;abc&amp;rdquo;)æ˜¯åˆæ³•çš„ã€‚è¿™æ˜¾ç„¶æ˜¯ä¸€ä¸ªæ¼æ´ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºç ç‚¹åˆ‡ç‰‡ï¼ˆrune sliceï¼‰å’Œå­—ç¬¦ä¸²ä¹‹é—´çš„è½¬æ¢ï¼ŒåŒæ ·çš„æƒ…å†µä¹Ÿå­˜åœ¨ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºgccgoç¼–è¯‘å™¨æ¥è¯´ï¼Œæ­¤æ¼æ´æ˜¯å¯¹ç§°çš„ï¼Œå› è€Œæ›´ä¸¥é‡ã€‚æ­¤æ›´ä¸¥é‡çš„æ¼æ´ä½¿å¾—ä¸Šè¿°ä¸¤ç§ç±»å‹çš„å€¼ä¹‹é—´çš„è½¬æ¢æ˜¯åŒå‘æœ‰æ•ˆçš„ã€‚æ¯”å¦‚ï¼Œä¸‹é¢è¿™æ®µä»£ç ä½¿ç”¨gccgoï¼ˆv8.0ï¼‰ç¼–è¯‘æ˜¯æ²¡é—®é¢˜çš„ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;package main

type MyByte byte
var (
  x = []byte{1, 2, 3}
  y = []MyByte{1, 2, 3}
)

func main() {
  // ä¸‹ä¸€è¡Œåˆ©ç”¨äº†ç¼–è¯‘å™¨æ¼æ´
  y = []MyByte(string(x))
  y[0] = 99
  println(x[0]) // 1
  
  // ä¸‹ä¸€è¡Œåˆ©ç”¨äº†ç¼–è¯‘å™¨æ¼æ´
  x = []byte(string(y))
  x[0] = 127
  println(y[0]) // 99
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;äº‹å®ä¸Šï¼Œgccgoç¼–è¯‘å™¨åœ¨å†…ç½®copyå’Œappendå‡½æ•°çš„å®ç°ä¸­ä¹Ÿå­˜åœ¨ç€åŒæ ·çš„æ¼æ´ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;package main

type MyByte byte
var (
  x = []byte{1, 2, 3}
  y = []MyByte{1, 2, 3}
)

func main() {
  // ä¸‹ä¸€è¡Œåˆ©ç”¨äº†ç¼–è¯‘å™¨æ¼æ´
  copy(y, string(x))
  y[0] = 99
  println(x[0]) // 1
  
  
  // ä¸‹ä¸€è¡Œåˆ©ç”¨äº†ç¼–è¯‘å™¨æ¼æ´
  y = append([]MyByte(nil), string(x)...)
  y[0] = 99
  println(x[0]) // 1
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç¬¬ä¸‰ç§æ–¹æ³•åˆ©ç”¨äº†&lt;code&gt;reflect&lt;/code&gt;æ ‡å‡†åº“åŒ…çš„è®¾è®¡å¤±è¯¯ã€‚æ­¤å¤±è¯¯å¯¼è‡´å°†&lt;code&gt;[]MyByte&lt;/code&gt;å€¼å•å‘è½¬æ¢ä¸ºç±»å‹&lt;code&gt;[]byte&lt;/code&gt;æ˜¯å¯è¡Œçš„ï¼Œè™½ç„¶è¿™è¿åäº†Goç±»å‹ç³»ç»Ÿç¡®å®šçš„è§„åˆ™ã€‚ä½¿ç”¨ç¬¬ä¸‰ç§æ–¹æ³•å¾—åˆ°çš„ç»“æœåˆ‡ç‰‡å’ŒåŸåˆ‡ç‰‡å…±äº«åº•å±‚å…ƒç´ ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;package main

import &amp;#34;reflect&amp;#34;

type MyByte byte
var (
  x = []byte{1, 2, 3}
  y = []MyByte{1, 2, 3}
)

func main() {
  v := reflect.ValueOf(y)
  x = v.Bytes()
  x[0] = 99
  println(y[0]) // 99
}
&lt;/code&gt;&lt;/pre&gt;</description>
        </item>
        <item>
        <title>åˆ†å¸ƒå¼é”é«˜å¹¶å‘ä¼˜åŒ–</title>
        <link>https://lxb.wiki/7db296fb/</link>
        <pubDate>Fri, 18 Oct 2019 22:38:39 +0000</pubDate>
        
        <guid>https://lxb.wiki/7db296fb/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;h4 id=&#34;é—®é¢˜åœºæ™¯&#34;&gt;é—®é¢˜åœºæ™¯:&lt;/h4&gt;
&lt;p&gt;å‡å¦‚ä¸‹å•æ—¶ï¼Œç”¨åˆ†å¸ƒå¼é”æ¥é˜²æ­¢åº“å­˜è¶…å–ï¼Œä½†æ˜¯æ˜¯æ¯ç§’ä¸Šåƒè®¢å•çš„é«˜å¹¶å‘åœºæ™¯ï¼Œå¦‚ä½•å¯¹åˆ†å¸ƒå¼é”è¿›è¡Œé«˜å¹¶å‘ä¼˜åŒ–æ¥åº”å¯¹è¿™ä¸ªåœºæ™¯ï¼Ÿ&lt;/p&gt;
&lt;h4 id=&#34;åº“å­˜è¶…å–ç°è±¡æ˜¯æ€ä¹ˆäº§ç”Ÿçš„&#34;&gt;åº“å­˜è¶…å–ç°è±¡æ˜¯æ€ä¹ˆäº§ç”Ÿçš„ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201201004321.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;åº“å­˜è¶…å–&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å‡è®¾è®¢å•ç³»ç»Ÿéƒ¨ç½²ä¸¤å°æœºå™¨ä¸Šï¼Œä¸åŒçš„ç”¨æˆ·éƒ½è¦åŒæ—¶ä¹°10å°iphoneï¼Œåˆ†åˆ«å‘äº†ä¸€ä¸ªè¯·æ±‚ç»™è®¢å•ç³»ç»Ÿã€‚
æ¥ç€æ¯ä¸ªè®¢å•ç³»ç»Ÿå®ä¾‹éƒ½å»æ•°æ®åº“é‡ŒæŸ¥äº†ä¸€ä¸‹ï¼Œå½“å‰iphoneåº“å­˜æ˜¯12å°
äºæ˜¯ä¹ï¼Œæ¯ä¸ªè®¢å•ç³»ç»Ÿå®ä¾‹éƒ½å‘é€SQLåˆ°æ•°æ®åº“é‡Œä¸‹å•ï¼Œç„¶åæ‰£å‡äº†10ä¸ªåº“å­˜ï¼Œå…¶ä¸­ä¸€ä¸ªå°†åº“å­˜ä»12å°æ‰£å‡ä¸º2å°ï¼Œå¦å¤–ä¸€ä¸ªå°†åº“å­˜ä»2å°æ‰£å‡ä¸º-8å°&lt;/p&gt;
&lt;h4 id=&#34;ç”¨åˆ†å¸ƒå¼é”å¦‚ä½•è§£å†³åº“å­˜è¶…å–é—®é¢˜&#34;&gt;ç”¨åˆ†å¸ƒå¼é”å¦‚ä½•è§£å†³åº“å­˜è¶…å–é—®é¢˜ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;åˆ†å¸ƒå¼é”çš„å®ç°åŸç†:
åŒä¸€ä¸ªé”keyï¼ŒåŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªå®¢æˆ·ç«¯æ‹¿åˆ°é”ï¼Œå…¶ä»–å®¢æˆ·ç«¯ä¼šé™·å…¥æ— é™çš„ç­‰å¾…æ¥å°è¯•è·å–é‚£ä¸ªé”ï¼Œåªæœ‰è·å–åˆ°é”çš„å®¢æˆ·ç«¯æ‰èƒ½æ‰§è¡Œä¸‹é¢çš„ä¸šåŠ¡é€»è¾‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201201004449.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;åˆ†å¸ƒå¼é”ä»£ç &#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201201004607.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;fenbushisuo_yuanli&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œåªæœ‰ä¸€ä¸ªè®¢å•ç³»ç»Ÿå®ä¾‹å¯ä»¥æˆåŠŸåŠ åˆ†å¸ƒå¼é”ï¼Œç„¶ååªæœ‰ä»–ä¸€ä¸ªå®ä¾‹å¯ä»¥æŸ¥åº“å­˜ã€åˆ¤æ–­åº“å­˜æ˜¯å¦å……è¶³ã€ä¸‹å•æ‰£å‡åº“å­˜ï¼Œæ¥ç€é‡Šæ”¾é”ã€‚&lt;/p&gt;
&lt;p&gt;é‡Šæ”¾é”ä¹‹åï¼Œå¦å¤–ä¸€ä¸ªè®¢å•ç³»ç»Ÿå®ä¾‹æ‰èƒ½åŠ é”ï¼Œæ¥ç€æŸ¥åº“å­˜ï¼Œä¸€ä¸‹å‘ç°åº“å­˜åªæœ‰2å°äº†ï¼Œåº“å­˜ä¸è¶³ï¼Œæ— æ³•è´­ä¹°ï¼Œä¸‹å•å¤±è´¥ã€‚ä¸ä¼šå°†åº“å­˜æ‰£å‡ä¸º-8çš„&lt;/p&gt;
&lt;h4 id=&#34;åˆ†å¸ƒå¼é”çš„æ–¹æ¡ˆåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹&#34;&gt;åˆ†å¸ƒå¼é”çš„æ–¹æ¡ˆåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹&lt;/h4&gt;
&lt;p&gt;åˆ†å¸ƒå¼é”ä¸€æ—¦åŠ äº†ä¹‹åï¼Œå¯¹åŒä¸€ä¸ªå•†å“çš„ä¸‹å•è¯·æ±‚ï¼Œä¼šå¯¼è‡´æ‰€æœ‰å®¢æˆ·ç«¯éƒ½å¿…é¡»å¯¹åŒä¸€ä¸ªå•†å“çš„åº“å­˜é”keyè¿›è¡ŒåŠ é”ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œå¯¹iphoneè¿™ä¸ªå•†å“çš„ä¸‹å•ï¼Œéƒ½å¿…å¯¹â€œiphone_stockâ€è¿™ä¸ªé”keyæ¥åŠ é”ã€‚è¿™æ ·ä¼šå¯¼è‡´å¯¹åŒä¸€ä¸ªå•†å“çš„ä¸‹å•è¯·æ±‚ï¼Œå°±å¿…é¡»ä¸²è¡ŒåŒ–ï¼Œä¸€ä¸ªæ¥ä¸€ä¸ªçš„å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾åŠ é”ä¹‹åï¼Œé‡Šæ”¾é”ä¹‹å‰ï¼ŒæŸ¥åº“å­˜ -&amp;gt; åˆ›å»ºè®¢å• -&amp;gt; æ‰£å‡åº“å­˜ï¼Œè¿™ä¸ªè¿‡ç¨‹æ€§èƒ½å¾ˆé«˜å§ï¼Œç®—ä»–å…¨è¿‡ç¨‹20æ¯«ç§’ï¼Œè¿™åº”è¯¥ä¸é”™äº†ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆ1ç§’æ˜¯1000æ¯«ç§’ï¼Œåªèƒ½å®¹çº³50ä¸ªå¯¹è¿™ä¸ªå•†å“çš„è¯·æ±‚ä¾æ¬¡ä¸²è¡Œå®Œæˆå¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ä¸€ç§’é’Ÿæ¥50ä¸ªè¯·æ±‚ï¼Œéƒ½æ˜¯å¯¹iphoneä¸‹å•çš„ï¼Œé‚£ä¹ˆæ¯ä¸ªè¯·æ±‚å¤„ç†20æ¯«ç§’ï¼Œä¸€ä¸ªä¸€ä¸ªæ¥ï¼Œæœ€å1000æ¯«ç§’æ­£å¥½å¤„ç†å®Œ50ä¸ªè¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201201004059.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;åˆ†å¸ƒå¼é”ä¸²è¡Œ&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥, èƒ½çœ‹å‡ºæ¥ç®€å•çš„ä½¿ç”¨åˆ†å¸ƒå¼é”æ¥å¤„ç†åº“å­˜è¶…å–é—®é¢˜ï¼Œå­˜åœ¨çš„ç¼ºé™·å°±æ˜¯åŒä¸€ä¸ªå•†å“å¤šç”¨æˆ·åŒæ—¶ä¸‹å•çš„æ—¶å€™ï¼Œä¼šåŸºäºåˆ†å¸ƒå¼é”ä¸²è¡ŒåŒ–å¤„ç†ï¼Œå¯¼è‡´æ²¡æ³•åŒæ—¶å¤„ç†åŒä¸€ä¸ªå•†å“çš„å¤§é‡ä¸‹å•çš„è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§æ–¹æ¡ˆï¼Œè¦æ˜¯åº”å¯¹é‚£ç§ä½å¹¶å‘ã€æ— ç§’æ€åœºæ™¯çš„æ™®é€šå°ç”µå•†ç³»ç»Ÿï¼Œå¯èƒ½è¿˜å¯ä»¥æ¥å—ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºå¦‚æœå¹¶å‘é‡å¾ˆä½ï¼Œæ¯ç§’å°±ä¸åˆ°10ä¸ªè¯·æ±‚ï¼Œæ²¡æœ‰ç¬æ—¶é«˜å¹¶å‘ç§’æ€å•ä¸ªå•†å“çš„åœºæ™¯çš„è¯ï¼Œå…¶å®ä¹Ÿå¾ˆå°‘ä¼šå¯¹åŒä¸€ä¸ªå•†å“åœ¨ä¸€ç§’å†…ç¬é—´ä¸‹1000ä¸ªè®¢å•ï¼Œå› ä¸ºå°ç”µå•†ç³»ç»Ÿæ²¡é‚£åœºæ™¯ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å¦‚ä½•å¯¹åˆ†å¸ƒå¼é”è¿›è¡Œé«˜å¹¶å‘ä¼˜åŒ–&#34;&gt;å¦‚ä½•å¯¹åˆ†å¸ƒå¼é”è¿›è¡Œé«˜å¹¶å‘ä¼˜åŒ–ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;ç°åœ¨æŒ‰ç…§åˆšæ‰çš„è®¡ç®—ï¼Œä½ ä¸€ç§’é’Ÿåªèƒ½å¤„ç†é’ˆå¯¹iphoneçš„50ä¸ªè®¢å•ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®è¯´å‡ºæ¥ä¹Ÿå¾ˆç®€å•ï¼Œç›¸ä¿¡å¾ˆå¤šäººçœ‹è¿‡javaé‡Œçš„ConcurrentHashMapçš„æºç å’Œåº•å±‚åŸç†ï¼Œåº”è¯¥çŸ¥é“é‡Œé¢çš„æ ¸å¿ƒæ€è·¯ï¼Œå°±æ˜¯åˆ†æ®µåŠ é”ï¼&lt;/p&gt;
&lt;p&gt;æŠŠæ•°æ®åˆ†æˆå¾ˆå¤šä¸ªæ®µï¼Œæ¯ä¸ªæ®µæ˜¯ä¸€ä¸ªå•ç‹¬çš„é”ï¼Œæ‰€ä»¥å¤šä¸ªçº¿ç¨‹è¿‡æ¥å¹¶å‘ä¿®æ”¹æ•°æ®çš„æ—¶å€™ï¼Œå¯ä»¥å¹¶å‘çš„ä¿®æ”¹ä¸åŒæ®µçš„æ•°æ®ã€‚ä¸è‡³äºè¯´ï¼ŒåŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹ç‹¬å ä¿®æ”¹ConcurrentHashMapä¸­çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼ŒJava 8ä¸­æ–°å¢äº†ä¸€ä¸ªLongAdderç±»ï¼Œä¹Ÿæ˜¯é’ˆå¯¹Java 7ä»¥å‰çš„AtomicLongè¿›è¡Œçš„ä¼˜åŒ–ï¼Œè§£å†³çš„æ˜¯CASç±»æ“ä½œåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œä½¿ç”¨ä¹è§‚é”æ€è·¯ï¼Œä¼šå¯¼è‡´å¤§é‡çº¿ç¨‹é•¿æ—¶é—´é‡å¤å¾ªç¯ã€‚&lt;/p&gt;
&lt;p&gt;LongAdderä¸­ä¹Ÿæ˜¯é‡‡ç”¨äº†ç±»ä¼¼çš„åˆ†æ®µCASæ“ä½œï¼Œå¤±è´¥åˆ™è‡ªåŠ¨è¿ç§»åˆ°ä¸‹ä¸€ä¸ªåˆ†æ®µè¿›è¡ŒCASçš„æ€è·¯ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®åˆ†å¸ƒå¼é”çš„ä¼˜åŒ–æ€è·¯ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œä¹‹å‰æˆ‘ä»¬æ˜¯åœ¨å¦å¤–ä¸€ä¸ªä¸šåŠ¡åœºæ™¯ä¸‹è½åœ°äº†è¿™ä¸ªæ–¹æ¡ˆåˆ°ç”Ÿäº§ä¸­ï¼Œä¸æ˜¯åœ¨åº“å­˜è¶…å–é—®é¢˜é‡Œç”¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯åº“å­˜è¶…å–è¿™ä¸ªä¸šåŠ¡åœºæ™¯ä¸é”™ï¼Œå¾ˆå®¹æ˜“ç†è§£ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±ç”¨è¿™ä¸ªåœºæ™¯æ¥è¯´ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201201004652.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;åˆ†æ®µåŠ é”&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å…¶å®è¿™å°±æ˜¯åˆ†æ®µåŠ é”ã€‚ä½ æƒ³ï¼Œå‡å¦‚ä½ ç°åœ¨iphoneæœ‰1000ä¸ªåº“å­˜ï¼Œé‚£ä¹ˆä½ å®Œå…¨å¯ä»¥ç»™æ‹†æˆ20ä¸ªåº“å­˜æ®µï¼Œè¦æ˜¯ä½ æ„¿æ„ï¼Œå¯ä»¥åœ¨æ•°æ®åº“çš„è¡¨é‡Œå»º20ä¸ªåº“å­˜å­—æ®µï¼Œæ¯”å¦‚stock_01ï¼Œstock_02ï¼Œç±»ä¼¼è¿™æ ·çš„ï¼Œä¹Ÿå¯ä»¥åœ¨redisä¹‹ç±»çš„åœ°æ–¹æ”¾20ä¸ªåº“å­˜keyã€‚&lt;/p&gt;
&lt;p&gt;æ€»ä¹‹ï¼Œå°±æ˜¯æŠŠä½ çš„1000ä»¶åº“å­˜ç»™ä»–æ‹†å¼€ï¼Œæ¯ä¸ªåº“å­˜æ®µæ˜¯50ä»¶åº“å­˜ï¼Œæ¯”å¦‚stock_01å¯¹åº”50ä»¶åº“å­˜ï¼Œstock_02å¯¹åº”50ä»¶åº“å­˜ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ç€ï¼Œæ¯ç§’1000ä¸ªè¯·æ±‚è¿‡æ¥äº†ï¼Œå¥½ï¼æ­¤æ—¶å…¶å®å¯ä»¥æ˜¯è‡ªå·±å†™ä¸€ä¸ªç®€å•çš„éšæœºç®—æ³•ï¼Œæ¯ä¸ªè¯·æ±‚éƒ½æ˜¯éšæœºåœ¨20ä¸ªåˆ†æ®µåº“å­˜é‡Œï¼Œé€‰æ‹©ä¸€ä¸ªè¿›è¡ŒåŠ é”ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·å°±å¥½äº†ï¼ŒåŒæ—¶å¯ä»¥æœ‰æœ€å¤š20ä¸ªä¸‹å•è¯·æ±‚ä¸€èµ·æ‰§è¡Œï¼Œæ¯ä¸ªä¸‹å•è¯·æ±‚é”äº†ä¸€ä¸ªåº“å­˜åˆ†æ®µï¼Œç„¶ååœ¨ä¸šåŠ¡é€»è¾‘é‡Œé¢ï¼Œå°±å¯¹æ•°æ®åº“æˆ–è€…æ˜¯Redisä¸­çš„é‚£ä¸ªåˆ†æ®µåº“å­˜è¿›è¡Œæ“ä½œå³å¯ï¼ŒåŒ…æ‹¬æŸ¥åº“å­˜ -&amp;gt; åˆ¤æ–­åº“å­˜æ˜¯å¦å……è¶³ -&amp;gt; æ‰£å‡åº“å­˜ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç›¸å½“äºä»€ä¹ˆå‘¢ï¼Ÿç›¸å½“äºä¸€ä¸ª20æ¯«ç§’ï¼Œå¯ä»¥å¹¶å‘å¤„ç†æ‰20ä¸ªä¸‹å•è¯·æ±‚ï¼Œé‚£ä¹ˆ1ç§’ï¼Œä¹Ÿå°±å¯ä»¥ä¾æ¬¡å¤„ç†æ‰20 * 50  = 1000ä¸ªå¯¹iphoneçš„ä¸‹å•è¯·æ±‚äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€æ—¦å¯¹æŸä¸ªæ•°æ®åšäº†åˆ†æ®µå¤„ç†ä¹‹åï¼Œæœ‰ä¸€ä¸ªå‘å¤§å®¶ä¸€å®šè¦æ³¨æ„ï¼šå¦‚æœæŸä¸ªä¸‹å•è¯·æ±‚ï¼Œå’”åš“åŠ é”ï¼Œç„¶åå‘ç°è¿™ä¸ªåˆ†æ®µåº“å­˜é‡Œçš„åº“å­˜ä¸è¶³äº†ï¼Œæ­¤æ—¶å’‹åŠï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™æ—¶ä½ å¾—è‡ªåŠ¨é‡Šæ”¾é”ï¼Œç„¶åç«‹é©¬æ¢ä¸‹ä¸€ä¸ªåˆ†æ®µåº“å­˜ï¼Œå†æ¬¡å°è¯•åŠ é”åå°è¯•å¤„ç†ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸€å®šè¦å®ç°&lt;/p&gt;
&lt;h4 id=&#34;åˆ†å¸ƒå¼é”å¹¶å‘ä¼˜åŒ–æ–¹æ¡ˆæœ‰æ²¡æœ‰ä»€ä¹ˆä¸è¶³&#34;&gt;åˆ†å¸ƒå¼é”å¹¶å‘ä¼˜åŒ–æ–¹æ¡ˆæœ‰æ²¡æœ‰ä»€ä¹ˆä¸è¶³ï¼Ÿ&lt;/h4&gt;
</description>
        </item>
        <item>
        <title>CentOSé‡Šæ”¾è¢«å ç”¨ç«¯å£</title>
        <link>https://lxb.wiki/2d1cc7f9/</link>
        <pubDate>Thu, 10 Oct 2019 00:36:59 +0000</pubDate>
        
        <guid>https://lxb.wiki/2d1cc7f9/</guid>
        <description>&lt;p&gt;&lt;strong&gt;åœºæ™¯:&lt;/strong&gt;
åœ¨å‰é¢çš„æŸäº›æ“ä½œä¸­, å¯åŠ¨æŸè¿›ç¨‹æ—¶, ç›‘å¬8080 å’Œ 443 ç«¯å£, åè¿›ç¨‹å…³é—­, è¿™ä¸¤ä¸ªç«¯å£å´ä¸€ç›´å¤„äºå ç”¨çŠ¶æ€, å¯¼è‡´åé¢å†èµ·è¿›ç¨‹æƒ³ç›‘å¬è¿™ä¸¤ä¸ªç«¯å£æ—¶, å¯åŠ¨æŠ¥é”™&lt;/p&gt;
&lt;p&gt;1.è¾“å…¥netstat -tln,æŸ¥çœ‹ç³»ç»Ÿå½“å‰æ‰€æœ‰è¢«å ç”¨ç«¯å£,ä¸»è¦æ˜¯ä¸ºäº†æŸ¥çœ‹ä½ çš„ç«¯å£æ˜¯å¦çœŸæ­£çš„è¢«å ç”¨ç€,æ­å»ºå¯ä»¥çœ‹åˆ°æˆ‘çš„9001,å’Œ9002ç«¯å£éƒ½å·²ç»è¢«å ç”¨äº†,æ‰€ä»¥æˆ‘éœ€è¦é‡Šæ”¾è¿™ä¸¤ä¸ªç«¯å£&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201201003213.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;listen-port&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;2.æ ¹æ®ç«¯å£æŸ¥è¯¢è¿›ç¨‹,è¾“å…¥lsof -i :9001,åˆ‡è®°ä¸è¦å¿˜äº†æ·»åŠ å†’å·,å¦‚ä¸‹å›¾,å°±å¯ä»¥çœ‹åˆ°å½“å‰è¢«å ç”¨çš„ç«¯å£çš„è¿›ç¨‹
çš„è¿›ç¨‹ç¼–å·&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201201003347.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;kill æ‰PID&lt;/li&gt;
&lt;li&gt;å†&lt;code&gt;netstat -tln&lt;/code&gt; ç¡®è®¤ä¸‹, ç„¶åå°±å¯ä»¥èµ·è¿›ç¨‹äº†&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>ç½‘æ˜“äº‘éŸ³ä¹ç ´ç‰ˆæƒ</title>
        <link>https://lxb.wiki/c6996379/</link>
        <pubDate>Tue, 08 Oct 2019 18:07:13 +0000</pubDate>
        
        <guid>https://lxb.wiki/c6996379/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;æºç åœ°å€: &lt;a class=&#34;link&#34; href=&#34;https://github.com/lxbwolf/UnblockNeteaseMusic&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/lxbwolf/UnblockNeteaseMusic&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åŸç†:&lt;/strong&gt;
ä½¿ç”¨å…¶å®ƒéŸ³ä¹å¹³å°çš„æ­Œæ›²æ›¿æ¢ç½‘æ˜“äº‘éŸ³ä¹æ— ç‰ˆæƒæ­Œæ›²ã€‚
ç›®å‰å¤‡ç”¨çš„å¹³å°æœ‰ï¼šç½‘æ˜“äº‘æ—§é“¾ ã€QQ ã€ è™¾ç±³ ã€ ç™¾åº¦ ã€é…·ç‹— ã€é…·æˆ‘ ã€å’•å’ª ã€JOOX éŸ³æºæ›¿æ¢å˜ç°æ­Œæ›²é“¾æ¥ (é»˜è®¤ä»…å¯ç”¨å‰å››)ã€‚&lt;/p&gt;
&lt;p&gt;1ã€æ‰“å¼€ç½‘æ˜“äº‘éŸ³ä¹å®¢æˆ·ç«¯çš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯ä¸å†ç›´æ¥è®¿é—®ç½‘æ˜“äº‘æœåŠ¡å™¨è€Œæ˜¯è®¿é—®UnblockNeteaseMusicæœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;2ã€UnblockNeteaseMusicæ”¶åˆ°å®¢æˆ·ç«¯çš„è¯·æ±‚åï¼Œé€ä¼ ç»™ç½‘æ˜“äº‘éŸ³ä¹çš„æœåŠ¡å™¨ï¼Œå¹¶å†æ‹¿åˆ°ç›¸å…³çš„æ•°æ®åè¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æœå‘ç°å…¶ä¸­çš„æ­Œæ›²æ²¡æœ‰ç‰ˆæƒï¼Œé‚£ä¹ˆå»å…¶å®ƒå¹³å°æŸ¥è¯¢æ­¤æ­Œæ›²çš„ç›¸å…³ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;3ã€å°†æŸ¥åˆ°çš„æ•°æ®è¿”å›ç»™ç½‘æ˜“äº‘å®¢æˆ·ç«¯ã€‚&lt;/p&gt;
&lt;p&gt;4ã€è‡³æ­¤å®Œæˆç½‘æ˜“äº‘éŸ³ä¹çš„è§£é”ã€‚&lt;/p&gt;
&lt;p&gt;æ•´ä¸ªæµç¨‹è¦è§£å†³ä¸¤ä¸ªé‡è¦çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒå·¥ä½œ:&lt;/strong&gt;
1ã€å°†UnblockNeteaseMusicéƒ¨ç½²åˆ°æœåŠ¡å™¨ã€‚å¯ä»¥æ˜¯æœ¬åœ°æœåŠ¡å™¨ä¹Ÿå¯ä»¥æ˜¯äº‘æœåŠ¡å™¨ã€‚&lt;/p&gt;
&lt;p&gt;2ã€ä¸ºç½‘æ˜“äº‘å®¢æˆ·ç«¯è®¾ç½®ä»£ç†ï¼Œä»¥è¾¾åˆ°è®¿é—®UnblockNeteaseMusicé¡¹ç›®çš„ç›®çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;éƒ¨ç½²æœåŠ¡éƒ¨åˆ†&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®‰è£…node.js&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git clone https://github.com/lxbwolf/UnblockNeteaseMusic.git&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åœ¨&lt;code&gt;UnblockNeteaseMusic&lt;/code&gt; ç›®å½•ä¸‹, æ‰§è¡Œ&lt;code&gt;npx @nondanee/unblockneteasemusic(å®˜æ–¹)&lt;/code&gt; æˆ–è€… ç”¨docker å¯åŠ¨&lt;code&gt;docker run nondanee/unblockneteasemusic &amp;amp;&amp;amp; docker-compose up&lt;/code&gt;, è¿˜æœ‰å¦ä¸€ç§æ–¹å¼:
åœ¨&lt;code&gt;UnblockNeteaseMusic&lt;/code&gt; ç›®å½•ä¸‹, æ‰§è¡Œ
&lt;code&gt;node app.js -p 8080:443 -f 59.111.160.195&lt;/code&gt;
å…¶ä¸­&lt;code&gt;59.111.160.195&lt;/code&gt; è¿™ä¸ªåœ°å€æ˜¯é€šè¿‡
&lt;code&gt;ping music.163.com&lt;/code&gt; æµ‹å‡ºæ¥çš„&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ­£å¸¸æƒ…å†µä¸‹, æœåŠ¡ç«¯å¯åŠ¨è¿›ç¨‹, å®¢æˆ·ç«¯é…ç½®å¥½IP Port, å°±å¯ä»¥ç”¨äº†,&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶æœåŠ¡ç«¯æ¥æ”¶åˆ°è¯·æ±‚ä¼šæœ‰log, å¦‚æœæœåŠ¡ç«¯logä¸€ç›´å¡åœ¨&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;HTTP Server running @ http://0.0.0.0:8080
HTTPS Server running @ https://0.0.0.0:443
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¯´æ˜å®¢æˆ·ç«¯çš„è¯·æ±‚å¹¶æ²¡æœ‰æ‰“åˆ°æœåŠ¡å™¨ä¸Š, å¯èƒ½åŸå› æ˜¯8080å’Œ443ç«¯å£è¿˜æ²¡æœ‰å¼€å¯&lt;/p&gt;
&lt;p&gt;é…ç½®å‚æ•°&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ unblockneteasemusic -h
usage: unblockneteasemusic [-v] [-p port] [-a address] [-u url] [-f host]
                           [-o source [source ...]] [-t token] [-e url] [-s]
                           [-h]

optional arguments:
  -v, --version                   output the version number
  -p port, --port port            specify server port
  -a address, --address address   specify server host
  -u url, --proxy-url url         request through upstream proxy
  -f host, --force-host host      force the netease server ip
  -o source [source ...], --match-order source [source ...]
                                  set priority of sources
  -t token, --token token         set up proxy authentication
  -e url, --endpoint url          replace virtual endpoint with public host
  -s, --strict                    enable proxy limitation
  -h, --help                      output usage information
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;å®¢æˆ·ç«¯é…ç½®&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æºç ä¸­çš„&lt;code&gt;README&lt;/code&gt; æœ‰è¯¦ç»†è¯´æ˜&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å¹³å°&lt;/th&gt;
&lt;th&gt;åŸºç¡€è®¾ç½®&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Windows&lt;/td&gt;
&lt;td&gt;è®¾ç½® &amp;gt; å·¥å…· &amp;gt; è‡ªå®šä¹‰ä»£ç† (å®¢æˆ·ç«¯å†…)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;UWP&lt;/td&gt;
&lt;td&gt;Windows è®¾ç½® &amp;gt; ç½‘ç»œå’Œ Internet &amp;gt; ä»£ç†&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Linux&lt;/td&gt;
&lt;td&gt;ç³»ç»Ÿè®¾ç½® &amp;gt; ç½‘ç»œ &amp;gt; ç½‘ç»œä»£ç†&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;macOS&lt;/td&gt;
&lt;td&gt;ç³»ç»Ÿåå¥½è®¾ç½® &amp;gt; ç½‘ç»œ &amp;gt; é«˜çº§ &amp;gt; ä»£ç†&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Android&lt;/td&gt;
&lt;td&gt;WLAN &amp;gt; ä¿®æ”¹ç½‘ç»œ &amp;gt; é«˜çº§é€‰é¡¹ &amp;gt; ä»£ç†&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iOS&lt;/td&gt;
&lt;td&gt;æ— çº¿å±€åŸŸç½‘ &amp;gt; HTTP ä»£ç† &amp;gt; é…ç½®ä»£ç†&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Android æ‰‹æœºè¯¦ç»†é…ç½®:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è®¾ç½® &amp;gt; WLAN &amp;gt; ä¿®æ”¹ç½‘ç»œ &amp;gt; é«˜çº§é€‰é¡¹ &amp;gt; ä»£ç†&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;IP: 106.13.86.198
Port: 8080
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç ´è§£å‰æ•ˆæœ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201201004909.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;pojieqian-163&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç ´è§£åæ•ˆæœ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201201004946.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;pojiehou-163&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201201005015.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;tingge-163&#34;
	
	
&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Goé—­åŒ…æŠ€æœ¯</title>
        <link>https://lxb.wiki/eb01d7dc/</link>
        <pubDate>Fri, 04 Oct 2019 19:25:07 +0000</pubDate>
        
        <guid>https://lxb.wiki/eb01d7dc/</guid>
        <description>&lt;p&gt;æ–æ³¢é‚£å¥‘æ•°åˆ—(Fibonacci sequence),åˆç§°é»„é‡‘åˆ†å‰²æ•°åˆ— .å› æ•°å­¦å®¶åˆ—æ˜‚çº³å¤šÂ·æ–æ³¢é‚£å¥‘(Leonardoda Fibonacci)ä»¥å…”å­ç¹æ®–ä¸ºä¾‹å­è€Œå¼•å…¥,æ•…åˆç§°ä¸ºâ€œå…”å­æ•°åˆ—â€,æŒ‡çš„æ˜¯è¿™æ ·ä¸€ä¸ªæ•°åˆ—: 1ã€1ã€2ã€3ã€5ã€8ã€13ã€21ã€34ã€â€¦â€¦åœ¨æ•°å­¦ä¸Š,æ–æ³¢é‚£å¥‘æ•°åˆ—ä»¥å¦‚ä¸‹è¢«ä»¥é€’æ¨çš„æ–¹æ³•å®šä¹‰: F(1)=1ï¼ŒF(2)=1, F(n)=F(n-1)+F(n-2)ï¼ˆn&amp;gt;=3ï¼ŒnâˆˆN*ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201201002956.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ–æ³¢é‚£å¥‘æ•°åˆ—å°±æ˜¯å½¢å¦‚ 1 1 2 3 5 8 13 21 34 55 çš„é€’å¢æ•°åˆ—,ä»ç¬¬ä¸‰é¡¹å¼€å§‹èµ·,å½“å‰é¡¹æ˜¯å‰ä¸¤é¡¹ä¹‹å’Œ.
ä¸ºäº†è®¡ç®—æ–¹ä¾¿,å®šä¹‰ä¸¤ä¸ªå˜é‡ a,b è¡¨ç¤ºå‰ä¸¤é¡¹,åˆå§‹å€¼åˆ†åˆ«è®¾ç½®æˆ 0,1 ,ç¤ºä¾‹:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// 0 1 1 2 3 5 8 13 21 34 55
// a b
// a b
a, b := 0, 1
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åˆå§‹åŒ–åä¸‹ä¸€è½®ç§»åŠ¨,a, b = b, a+b ç»“æœæ˜¯ a , b = 1 , 1,åˆšå¥½èƒ½å¤Ÿè¡¨ç¤ºæ–æ³¢é‚£å¥‘æ•°åˆ—çš„å¼€å¤´.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func fibonacciByNormal() {
    a, b := 0, 1
    a, b = b, a+b
    fmt.Print(a, &amp;#34; &amp;#34;)
    fmt.Println()
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä½†æ˜¯ä¸Šè¿°ç¤ºä¾‹åªèƒ½ç”Ÿæˆæ–æ³¢é‚£å¥‘æ•°åˆ—ä¸­çš„ç¬¬ä¸€ä¸ªæ•°å­—,å‡å¦‚æˆ‘ä»¬éœ€è¦å‰åä¸ªæ•°åˆ—,åˆè¯¥å¦‚ä½•?&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func fibonacciByNormal() {
    a, b := 0, 1
    for i := 0; i &amp;lt; 10; i++ {
        a, b = b, a+b
        fmt.Print(a, &amp;#34; &amp;#34;)
    }
    fmt.Println()
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;é€šè¿‡æŒ‡å®šå¾ªç¯æ¬¡æ•°å†ç¨åŠ ä¿®æ”¹ä¸Šè¿°å•æ•°åˆ—ä»£ç ,ç°åœ¨å°±å¯ä»¥ç”Ÿæˆå‰åä½æ•°åˆ—:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// 1 1 2 3 5 8 13 21 34 55
func TestFibonacciByNormal(t *testing.T) {
    fibonacciByNormal()
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™ç§åšæ³•æ˜¯æ¥è§¦é—­åŒ…æ¦‚å¿µå‰æˆ‘ä»¬ä¸€ç›´åœ¨é‡‡ç”¨çš„è§£å†³æ–¹æ¡ˆ,ç›¸ä¿¡ç¨å¾®æœ‰ä¸€å®šç¼–ç¨‹ç»éªŒçš„å¼€å‘è€…éƒ½èƒ½å®ç°,ä½†æ˜¯é—­åŒ…å´æä¾›äº†å¦ä¸€ç§æ€è·¯!&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// 1 1 2 3 5 8 13 21 34 55
func fibonacci() func() int {
    a, b := 0, 1
    return func() int {
        a, b = b, a+b
        return a
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸è®ºæ˜¯æ™®é€šå‡½æ•°è¿˜æ˜¯é—­åŒ…å‡½æ•°,å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—ç”Ÿæˆå™¨å‡½æ•°çš„é€»è¾‘ä¸å˜,åªæ˜¯å®ç°ä¸åŒ,é—­åŒ…è¿”å›çš„æ˜¯å†…éƒ¨å‡½æ•°,ç•™ç»™ä½¿ç”¨è€…ç»§ç»­è°ƒç”¨è€Œæ™®é€šå‡½æ•°æ˜¯ç›´æ¥ç”Ÿæˆæ–æ³¢é‚£å¥‘æ•°åˆ—.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// 1 1 2 3 5 8 13 21 34 55
func TestFibonacci(t *testing.T) {
    f := fibonacci()
    for i := 0; i &amp;lt; 10; i++ {
        fmt.Print(f(), &amp;#34; &amp;#34;)
    }
    fmt.Println()
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¯¹äºè¿™ç§å‡½æ•°å†…éƒ¨åµŒå¥—å¦ä¸€ä¸ªå‡½æ•°å¹¶ä¸”å†…éƒ¨å‡½æ•°å¼•ç”¨äº†å¤–éƒ¨å˜é‡çš„è¿™ç§å®ç°æ–¹å¼,ç§°ä¹‹ä¸º&amp;quot;é—­åŒ…&amp;quot;!&lt;/p&gt;
&lt;p&gt;é—­åŒ…è‡ªå¸¦ç‹¬ç«‹çš„è¿è¡Œç¯å¢ƒ,æ¯ä¸€æ¬¡è¿è¡Œé—­åŒ…çš„ç¯å¢ƒéƒ½æ˜¯ç›¸äº’ç‹¬ç«‹çš„,æ­£å¦‚é¢å‘å¯¹è±¡ä¸­ç±»å’Œå¯¹è±¡å®ä¾‹åŒ–çš„å…³ç³»é‚£æ ·,é—­åŒ…æ˜¯ç±»,é—­åŒ…çš„å¼•ç”¨æ˜¯å®ä¾‹åŒ–å¯¹è±¡.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func autoIncrease() func() int {
    i := 0
    return func() int {
        i = i + 1
        return i
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸Šè¿°ç¤ºä¾‹æ˜¯é—­åŒ…å®ç°çš„è®¡ç®—å™¨è‡ªå¢,æ¯ä¸€æ¬¡å¼•ç”¨ autoIncrease å‡½æ•°è·å¾—çš„é—­åŒ…ç¯å¢ƒéƒ½æ˜¯å½¼æ­¤ç‹¬ç«‹çš„,ç›´æ¥ä¸Šå•å…ƒæµ‹è¯•ç”¨ä¾‹.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func TestAutoIncrease(t *testing.T) {
    a := autoIncrease()
    // 1 2 3
    t.Log(a(), a(), a())
    b := autoIncrease()
    // 1 2 3
    t.Log(b(), b(), b())
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å‡½æ•°å¼•ç”¨ a å’Œ b çš„ç¯å¢ƒæ˜¯ç‹¬ç«‹çš„,ç›¸å½“äºå¦ä¸€ä¸ªä¸€æ¨¡ä¸€æ ·è®¡æ•°å™¨é‡æ–°å¼€å§‹è®¡æ•°,å¹¶ä¸ä¼šå½±å“åŸæ¥çš„è®¡æ•°å™¨çš„è¿è¡Œç»“æœ.&lt;/p&gt;
&lt;p&gt;æ™®é€šå‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡å¯¿å‘½æœ‰é™,å‡½æ•°è¿è¡Œç»“æŸåä¹Ÿå°±è¢«ç³»ç»Ÿé”€æ¯äº†,ç»“æŸäº†è‡ªå·±çŸ­æš‚è€Œåˆå…‰è£çš„ä¸€ç”Ÿ.&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯,é—­åŒ…æ‰€å¼•ç”¨çš„å˜é‡å´ä¸ä¸€æ ·,åªè¦ä¸€ç›´å¤„äºä½¿ç”¨ä¸­çŠ¶æ€,é‚£ä¹ˆå˜é‡å°±ä¼š&amp;quot;é•¿ç”Ÿä¸è€&amp;quot;,å¹¶ä¸ä¼šå› ä¸ºå‡ºèº«äºå‡½æ•°å†…å°±å’Œæ™®é€šå˜é‡æ‹¥æœ‰ä¸€æ ·çš„çŸ­æš‚äººç”Ÿ.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func fightWithHorse() func() int {
    horseShowTime := 0
    return func() int {
        horseShowTime++
        fmt.Printf(&amp;#34;(%d)ç¥–å›½éœ€è¦æˆ‘,æˆ‘å°±ææªä¸Šé©¬ç«‹å³æˆ˜æ–—!\n&amp;#34;,horseShowTime)
        return horseShowTime
    }
}

func TestFightWithHorse(t *testing.T) {
    f := fightWithHorse()
    // 1 2 3
    t.Log(f(), f(), f())
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å‡¡äº‹æœ‰åˆ©å¿…æœ‰å¼Š,é—­åŒ…ä¸æ­»åˆ™å¼•ç”¨å˜é‡ä¸ç­,å¦‚æœä¸ç†è§£å˜é‡é•¿ç”Ÿä¸è€çš„ç‰¹æ€§,ç¼–å†™é—­åŒ…å‡½æ•°æ—¶å¯èƒ½ä¸€ä¸å°å¿ƒå°±æ‰è¿›ä½œç”¨åŸŸé™·é˜±äº†,åƒä¸‡è¦å°å¿ƒ!
ä¸‹é¢ä»¥ç»‘å®šå¾ªç¯å˜é‡ä¸ºä¾‹è®²è§£é—­åŒ…ä½œç”¨åŸŸçš„é™·é˜±,ç¤ºä¾‹å¦‚ä¸‹:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func countByClosureButWrong() []func() int {
    var arr []func() int
 for i := 1; i &amp;lt;= 3; i++ {
        arr = append(arr, func() int {
            return i
        })
    }
    return arr
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;countByClosureButWrong é—­åŒ…å‡½æ•°å¼•ç”¨çš„è‡ªç”±å˜é‡ä¸ä»…æœ‰ arr æ•°ç»„è¿˜æœ‰å¾ªç¯å˜é‡ i ,å‡½æ•°çš„æ•´ä½“é€»è¾‘æ˜¯: é—­åŒ…å‡½æ•°å†…éƒ¨ç»´æŠ¤ä¸€ä¸ªå‡½æ•°æ•°ç»„,ä¿å­˜çš„å‡½æ•°ä¸»è¦è¿”å›äº†å¾ªç¯å˜é‡.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func TestCountByClosure(t *testing.T) {
    // 4 4 4
    for _, c := range countByClosureButWrong() {
        t.Log(c())
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å½“æˆ‘ä»¬è¿è¡Œ countByClosureButWrong å‡½æ•°è·å¾—é—­åŒ…è¿”å›çš„å‡½æ•°æ•°ç»„ arr,ç„¶åé€šè¿‡ range å…³é”®å­—è¿›è¡Œéå†æ•°ç»„,å¾—åˆ°æ­£åœ¨éå†çš„å‡½æ•°é¡¹ c.&lt;/p&gt;
&lt;p&gt;å½“æˆ‘ä»¬è¿è¡Œ c() æ—¶,æœŸæœ›è¾“å‡ºçš„ 1,2,3 å¾ªç¯å˜é‡çš„å€¼,ä½†æ˜¯å®é™…ç»“æœå´æ˜¯ 4,4,4.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201201003531.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;åŸå› ä»ç„¶æ˜¯å˜é‡é•¿ç”Ÿä¸è€çš„ç‰¹æ€§:éå†å¾ªç¯æ—¶ç»‘å®šçš„å˜é‡å€¼è‚¯å®šæ˜¯ 1,2,3,ä½†æ˜¯å¾ªç¯å˜é‡ i å´æ²¡æœ‰åƒæ™®é€šå‡½æ•°é‚£æ ·æ¶ˆäº¡è€Œæ˜¯ä¸€ç›´é•¿ç”Ÿä¸è€,æ‰€ä»¥å˜é‡çš„å¼•ç”¨å‘ç”Ÿå˜åŒ–äº†!&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201201003721.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;é•¿ç”Ÿä¸è€çš„å¾ªç¯å˜é‡çš„å€¼åˆšå¥½æ˜¯å½“åˆå¾ªç¯çš„ç»ˆæ­¢æ¡ä»¶ i=4,åªè¦è¿è¡Œé—­åŒ…å‡½æ•°,ä¸è®ºæ˜¯æ•°ç»„ä¸­çš„å“ªä¸€é¡¹å‡½æ•°å¼•ç”¨çš„éƒ½æ˜¯ç›¸åŒçš„å˜é‡ i,æ‰€ä»¥å…¨éƒ¨éƒ½æ˜¯ 4,4,4.&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶æ˜¯å˜é‡å¼•ç”¨å‡ºç°é—®é¢˜,é‚£ä¹ˆè§£å†³èµ·æ¥å°±å¾ˆç®€å•äº†,ä¸ç”¨å˜é‡å¼•ç”¨å°±å¥½äº†å˜›!&lt;/p&gt;
&lt;p&gt;æœ€ç®€å•çš„åšæ³•å°±æ˜¯ä½¿ç”¨çŸ­æš‚çš„ä¸´æ—¶å˜é‡ n æš‚å­˜èµ·æ¥æ­£åœ¨éå†çš„å€¼,é—­åŒ…å†…å¼•ç”¨çš„å˜é‡ä¸å†æ˜¯ i è€Œæ˜¯ä¸´æ—¶å˜é‡ n.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func countByClosureButWrong() []func() int {
    var arr []func() int
 for i := 1; i &amp;lt;= 3; i++ {
        n := i
        fmt.Printf(&amp;#34;for i=%d n=%d \n&amp;#34;, i,n)
        arr = append(arr, func() int {
            fmt.Printf(&amp;#34;append i=%d n=%d\n&amp;#34;, i, n)
            return n
        })
    }
    return arr
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201201003831.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šè¿°è§£å†³åŠæ³•å¾ˆç®€å•å°±æ˜¯é‡‡ç”¨ä¸´æ—¶å˜é‡ç»‘å®šå¾ªç¯å˜é‡çš„å€¼,è€Œä¸æ˜¯åŸæ¥çš„é•¿ç”Ÿä¸è€çš„å˜é‡å¼•ç”¨,ä½†æ˜¯è¿™ç§åšæ³•ä¸å¤Ÿä¼˜é›…,è¿˜å¯ä»¥ç»§ç»­ç®€åŒ–è¿›è¡Œç‰ˆæœ¬å‡çº§.&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶æ˜¯é‡‡ç”¨å˜é‡èµ‹å€¼çš„åšæ³•,æ˜¯ä¸æ˜¯å’Œå‚æ•°ä¼ é€’ä¸­çš„å€¼ä¼ é€’å¾ˆç›¸åƒ?é‚£æˆ‘ä»¬å°±å¯ä»¥ç”¨å€¼ä¼ é€’çš„æ–¹å¼é‡æ–°å¤åˆ¶ä¸€ä»½å˜é‡çš„å€¼ä¼ é€’ç»™é—­åŒ…å‡½æ•°.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func countByClosureWithOk() []func() int {
    var arr []func() int
 for i := 1; i &amp;lt;= 3; i++ {
        fmt.Printf(&amp;#34;for i=%d \n&amp;#34;, i)
        func(n int) {
            arr = append(arr, func() int {
                fmt.Printf(&amp;#34;append n=%d \n&amp;#34;, n)
                return n
            })
        }(i)
    }
    return arr
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;é‡‡ç”¨åŒ¿åå‡½æ•°è¿›è¡Œå€¼ä¼ é€’è¿›è¡Œæ”¹é€ å,æˆ‘ä»¬å†æ¬¡è¿è¡Œæµ‹è¯•ç”¨ä¾‹éªŒè¯ä¸€ä¸‹æ”¹é€ ç»“æœ:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func TestCountByClosureWithOk(t *testing.T) {
    // 1 2 3
    for _, c := range countByClosureWithOk() {
        t.Log(c())
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;æ¨¡æ‹Ÿç±»å’Œå¯¹è±¡çš„å…³ç³»,ä¹Ÿå¯ä»¥å®ç°å°è£…,å…·å¤‡ä¸€å®šé¢å‘å¯¹è±¡èƒ½åŠ›
&lt;ul&gt;
&lt;li&gt;æ¯æ¬¡è°ƒç”¨é—­åŒ…å‡½æ•°æ‰€å¤„çš„ç¯å¢ƒéƒ½æ˜¯ç›¸äº’ç‹¬ç«‹çš„,è¿™ç§ç‰¹æ€§ç±»ä¼¼äºé¢å‘å¯¹è±¡ä¸­ç±»å’Œå®ä¾‹åŒ–å¯¹è±¡çš„å…³ç³».&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç¼“å­˜å¤æ‚é€»è¾‘,å¸¸é©»å†…å­˜,é¿å…æ»¥ç”¨å…¨å±€å˜é‡å¾’å¢ç»´æŠ¤æˆæœ¬.
&lt;ul&gt;
&lt;li&gt;é•¿ç”Ÿä¸è€çš„ç‰¹æ€§ä½¿å¾—é—­åŒ…å¼•ç”¨å˜é‡å¯ä»¥å¸¸é©»å†…å­˜,ç”¨äºç¼“å­˜ä¸€äº›å¤æ‚é€»è¾‘ä»£ç éå¸¸åˆé€‚,é¿å…äº†åŸæ¥çš„å…¨å±€å˜é‡çš„æ»¥ç”¨.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å®ç°é—­åŒ…æˆæœ¬è¾ƒé«˜,åŒæ—¶ä¹Ÿå¢åŠ äº†ç†è§£éš¾åº¦.
&lt;ul&gt;
&lt;li&gt;æ™®é€šå‡½æ•°è½¬å˜æˆé—­åŒ…å‡½æ•°ä¸ä»…å®ç°èµ·æ¥æœ‰ä¸€å®šéš¾åº¦,è€Œä¸”ç†è§£èµ·æ¥ä¹Ÿä¸å®¹æ˜“,ä¸ä»…è¦æ±‚å¤šæµ‹è¯•å‡ éè¿˜è¦ç†è§£é—­åŒ…çš„ç‰¹æ€§.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ»¥ç”¨å®¹æ˜“å ç”¨è¿‡å¤šå†…å­˜,å¯èƒ½é€ æˆå†…å­˜æ³„æ¼.
&lt;ul&gt;
&lt;li&gt;è¿‡å¤šä½¿ç”¨é—­åŒ…åŠ¿å¿…é€ æˆå¼•ç”¨å˜é‡ä¸€ç›´å¸¸é©»å†…å­˜,å¦‚æœå‡ºç°å¾ªç¯å¼•ç”¨æˆ–è€…åƒåœ¾å›æ”¶ä¸åŠæ—¶æœ‰å¯èƒ½é€ æˆå†…å­˜æ³„æ¼é—®é¢˜.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>github åšå®¢ç»‘å®šåŸŸå</title>
        <link>https://lxb.wiki/e9fbcad9/</link>
        <pubDate>Fri, 27 Sep 2019 00:54:15 +0000</pubDate>
        
        <guid>https://lxb.wiki/e9fbcad9/</guid>
        <description>&lt;p&gt;æŸç¯‡æ–‡ç« è¯´, CNAME è§£æåªæ”¯æŒ www ä¸æ”¯æŒ@
æ‰€ä»¥@ åªèƒ½ è§£æåˆ°ä¸€ä¸ªä¸€ä¸ªçš„ IP&lt;/p&gt;
&lt;h4 id=&#34;1-source-æ·»åŠ -cname-æ–‡ä»¶&#34;&gt;1. source æ·»åŠ  CNAME æ–‡ä»¶&lt;/h4&gt;
&lt;p&gt;åœ¨æºç çš„&lt;code&gt;source&lt;/code&gt; ç›®å½•ä¸‹, æ·»åŠ ä¸€ä¸ª&lt;code&gt;CNAME&lt;/code&gt;æ–‡ä»¶
æ–‡ä»¶å†…å®¹ä¸º&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;lxb.wiki
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;2-dns-è®¾ç½®&#34;&gt;2. DNS è®¾ç½®&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è®°å½•ç±»å‹&lt;/th&gt;
&lt;th&gt;ä¸»æœºè®°å½•&lt;/th&gt;
&lt;th&gt;è§£æè·¯çº¿(isp)&lt;/th&gt;
&lt;th&gt;è®°å½•å€¼&lt;/th&gt;
&lt;th&gt;MXä¼˜å…ˆçº§&lt;/th&gt;
&lt;th&gt;TTL&lt;/th&gt;
&lt;th&gt;çŠ¶æ€&lt;/th&gt;
&lt;th&gt;æ“ä½œ&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CNAME&lt;/td&gt;
&lt;td&gt;www&lt;/td&gt;
&lt;td&gt;é»˜è®¤&lt;/td&gt;
&lt;td&gt;lxbwolf.github.io&lt;/td&gt;
&lt;td&gt;&amp;ndash;&lt;/td&gt;
&lt;td&gt;10 åˆ†é’Ÿ&lt;/td&gt;
&lt;td&gt;æ­£å¸¸&lt;/td&gt;
&lt;td&gt;ä¿®æ”¹æš‚åœåˆ é™¤å¤‡æ³¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;A&lt;/td&gt;
&lt;td&gt;@&lt;/td&gt;
&lt;td&gt;é»˜è®¤&lt;/td&gt;
&lt;td&gt;185.199.108.153&lt;/td&gt;
&lt;td&gt;&amp;ndash;&lt;/td&gt;
&lt;td&gt;10 åˆ†é’Ÿ&lt;/td&gt;
&lt;td&gt;æ­£å¸¸&lt;/td&gt;
&lt;td&gt;ä¿®æ”¹æš‚åœåˆ é™¤å¤‡æ³¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;A&lt;/td&gt;
&lt;td&gt;@&lt;/td&gt;
&lt;td&gt;é»˜è®¤&lt;/td&gt;
&lt;td&gt;185.199.111.153&lt;/td&gt;
&lt;td&gt;&amp;ndash;&lt;/td&gt;
&lt;td&gt;10 åˆ†é’Ÿ&lt;/td&gt;
&lt;td&gt;æ­£å¸¸&lt;/td&gt;
&lt;td&gt;ä¿®æ”¹æš‚åœåˆ é™¤å¤‡æ³¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;A&lt;/td&gt;
&lt;td&gt;@&lt;/td&gt;
&lt;td&gt;é»˜è®¤&lt;/td&gt;
&lt;td&gt;185.199.110.153&lt;/td&gt;
&lt;td&gt;&amp;ndash;&lt;/td&gt;
&lt;td&gt;10 åˆ†é’Ÿ&lt;/td&gt;
&lt;td&gt;æ­£å¸¸&lt;/td&gt;
&lt;td&gt;ä¿®æ”¹æš‚åœåˆ é™¤å¤‡æ³¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;A&lt;/td&gt;
&lt;td&gt;@&lt;/td&gt;
&lt;td&gt;é»˜è®¤&lt;/td&gt;
&lt;td&gt;185.199.109.153&lt;/td&gt;
&lt;td&gt;&amp;ndash;&lt;/td&gt;
&lt;td&gt;10 åˆ†é’Ÿ&lt;/td&gt;
&lt;td&gt;æ­£å¸¸&lt;/td&gt;
&lt;td&gt;ä¿®æ”¹æš‚åœåˆ é™¤å¤‡æ³¨&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;3-hexo-éƒ¨ç½²&#34;&gt;3. hexo éƒ¨ç½²&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;hexo clean &amp;amp;&amp;amp; hexo g &amp;amp;&amp;amp; hexo d
&lt;/code&gt;&lt;/pre&gt;</description>
        </item>
        <item>
        <title>xargs</title>
        <link>https://lxb.wiki/38dfadad/</link>
        <pubDate>Tue, 20 Aug 2019 01:14:58 +0000</pubDate>
        
        <guid>https://lxb.wiki/38dfadad/</guid>
        <description>&lt;p&gt;xargs æ˜¯ç»™å‘½ä»¤ä¼ é€’å‚æ•°çš„ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œä¹Ÿæ˜¯ç»„åˆå¤šä¸ªå‘½ä»¤çš„ä¸€ä¸ªå·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;xargs å¯ä»¥å°†ç®¡é“æˆ–æ ‡å‡†è¾“å…¥ï¼ˆstdinï¼‰æ•°æ®è½¬æ¢æˆå‘½ä»¤è¡Œå‚æ•°ï¼Œä¹Ÿèƒ½å¤Ÿä»æ–‡ä»¶çš„è¾“å‡ºä¸­è¯»å–æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;xargs ä¹Ÿå¯ä»¥å°†å•è¡Œæˆ–å¤šè¡Œæ–‡æœ¬è¾“å…¥è½¬æ¢ä¸ºå…¶ä»–æ ¼å¼ï¼Œä¾‹å¦‚å¤šè¡Œå˜å•è¡Œï¼Œå•è¡Œå˜å¤šè¡Œã€‚&lt;/p&gt;
&lt;p&gt;xargs é»˜è®¤çš„å‘½ä»¤æ˜¯ echoï¼Œè¿™æ„å‘³ç€é€šè¿‡ç®¡é“ä¼ é€’ç»™ xargs çš„è¾“å…¥å°†ä¼šåŒ…å«æ¢è¡Œå’Œç©ºç™½ï¼Œä¸è¿‡é€šè¿‡ xargs çš„å¤„ç†ï¼Œæ¢è¡Œå’Œç©ºç™½å°†è¢«ç©ºæ ¼å–ä»£ã€‚&lt;/p&gt;
&lt;p&gt;xargs æ˜¯ä¸€ä¸ªå¼ºæœ‰åŠ›çš„å‘½ä»¤ï¼Œå®ƒèƒ½å¤Ÿæ•è·ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºï¼Œç„¶åä¼ é€’ç»™å¦å¤–ä¸€ä¸ªå‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;ä¹‹æ‰€ä»¥èƒ½ç”¨åˆ°è¿™ä¸ªå‘½ä»¤ï¼Œå…³é”®æ˜¯ç”±äºå¾ˆå¤šå‘½ä»¤ä¸æ”¯æŒ|ç®¡é“æ¥ä¼ é€’å‚æ•°ï¼Œè€Œæ—¥å¸¸å·¥ä½œä¸­æœ‰æœ‰è¿™ä¸ªå¿…è¦ï¼Œæ‰€ä»¥å°±æœ‰äº† xargs å‘½ä»¤&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;find /sbin -perm 700 |ls -l       #è¿™ä¸ªå‘½ä»¤æ˜¯é”™è¯¯çš„
find /sbin -perm 700 |xargs ls -l   #è¿™æ ·æ‰æ˜¯æ­£ç¡®çš„
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;å‘½ä»¤æ ¼å¼&lt;/strong&gt;
&lt;code&gt;somecommand |xargs -item command&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é‡è¦å‚æ•°:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;-i æˆ–è€…æ˜¯-Iï¼Œè¿™å¾—çœ‹linuxæ”¯æŒäº†ï¼Œå°†xargsçš„æ¯é¡¹åç§°ï¼Œä¸€èˆ¬æ˜¯ä¸€è¡Œä¸€è¡Œèµ‹å€¼ç»™ {}ï¼Œå¯ä»¥ç”¨ {} ä»£æ›¿ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;å…¶ä»–å‚æ•°:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;-a file ä»æ–‡ä»¶ä¸­è¯»å…¥ä½œä¸ºsdtin&lt;/li&gt;
&lt;li&gt;-e flag ï¼Œæ³¨æ„æœ‰çš„æ—¶å€™å¯èƒ½ä¼šæ˜¯-Eï¼Œflagå¿…é¡»æ˜¯ä¸€ä¸ªä»¥ç©ºæ ¼åˆ†éš”çš„æ ‡å¿—ï¼Œå½“xargsåˆ†æåˆ°å«æœ‰flagè¿™ä¸ªæ ‡å¿—çš„æ—¶å€™å°±åœæ­¢ã€‚&lt;/li&gt;
&lt;li&gt;-p å½“æ¯æ¬¡æ‰§è¡Œä¸€ä¸ªargumentçš„æ—¶å€™è¯¢é—®ä¸€æ¬¡ç”¨æˆ·ã€‚&lt;/li&gt;
&lt;li&gt;-n num åé¢åŠ æ¬¡æ•°ï¼Œè¡¨ç¤ºå‘½ä»¤åœ¨æ‰§è¡Œçš„æ—¶å€™ä¸€æ¬¡ç”¨çš„argumentçš„ä¸ªæ•°ï¼Œé»˜è®¤æ˜¯ç”¨æ‰€æœ‰çš„ã€‚&lt;/li&gt;
&lt;li&gt;-t è¡¨ç¤ºå…ˆæ‰“å°å‘½ä»¤ï¼Œç„¶åå†æ‰§è¡Œã€‚&lt;/li&gt;
&lt;li&gt;-r no-run-if-empty å½“xargsçš„è¾“å…¥ä¸ºç©ºçš„æ—¶å€™åˆ™åœæ­¢xargsï¼Œä¸ç”¨å†å»æ‰§è¡Œäº†ã€‚&lt;/li&gt;
&lt;li&gt;-s num å‘½ä»¤è¡Œçš„æœ€å¤§å­—ç¬¦æ•°ï¼ŒæŒ‡çš„æ˜¯ xargs åé¢é‚£ä¸ªå‘½ä»¤çš„æœ€å¤§å‘½ä»¤è¡Œå­—ç¬¦æ•°ã€‚&lt;/li&gt;
&lt;li&gt;-L num ä»æ ‡å‡†è¾“å…¥ä¸€æ¬¡è¯»å– num è¡Œé€ç»™ command å‘½ä»¤ã€‚&lt;/li&gt;
&lt;li&gt;-l åŒ -Lã€‚&lt;/li&gt;
&lt;li&gt;-d delim åˆ†éš”ç¬¦ï¼Œé»˜è®¤çš„xargsåˆ†éš”ç¬¦æ˜¯å›è½¦ï¼Œargumentçš„åˆ†éš”ç¬¦æ˜¯ç©ºæ ¼ï¼Œè¿™é‡Œä¿®æ”¹çš„æ˜¯xargsçš„åˆ†éš”ç¬¦ã€‚&lt;/li&gt;
&lt;li&gt;-x exitçš„æ„æ€ï¼Œä¸»è¦æ˜¯é…åˆ-sä½¿ç”¨ã€‚ã€‚&lt;/li&gt;
&lt;li&gt;-P ä¿®æ”¹æœ€å¤§çš„è¿›ç¨‹æ•°ï¼Œé»˜è®¤æ˜¯1ï¼Œä¸º0æ—¶å€™ä¸ºas many as it can ï¼Œè¿™ä¸ªä¾‹å­æˆ‘æ²¡æœ‰æƒ³åˆ°ï¼Œåº”è¯¥å¹³æ—¶éƒ½ç”¨ä¸åˆ°çš„å§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å®ä¾‹&#34;&gt;å®ä¾‹:&lt;/h4&gt;
&lt;h5 id=&#34;1-å¤šè¡Œå˜æˆå•è¡Œ&#34;&gt;1. å¤šè¡Œå˜æˆå•è¡Œ&lt;/h5&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# cat test.txt

a b c d e f g
h i j k l m n
o p q
r s t
u v w x y z
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# cat test.txt | xargs
a b c d e f g h i j k l m n o p q r s t u v w x y z
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;2-ä¸€æ¬¡ä½¿ç”¨nä¸ªå‚æ•°&#34;&gt;2. ä¸€æ¬¡ä½¿ç”¨nä¸ªå‚æ•°&lt;/h5&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# cat test.txt | xargs -n3

a b c
d e f
g h i
j k l
m n o
p q r
s t u
v w x
y z
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;3-dé€‰é¡¹æŒ‡å®šåˆ†éš”ç¬¦&#34;&gt;3. dé€‰é¡¹æŒ‡å®šåˆ†éš”ç¬¦&lt;/h5&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# echo &amp;#34;nameXnameXnameXname&amp;#34; | xargs -dX

name name name name
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç»“åˆ&lt;code&gt;-n&lt;/code&gt; é€‰é¡¹ä½¿ç”¨&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# echo &amp;#34;nameXnameXnameXname&amp;#34; | xargs -dX -n2

name name
name name
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;4-ié€‰é¡¹çš„ä½¿ç”¨&#34;&gt;4. Ié€‰é¡¹çš„ä½¿ç”¨&lt;/h5&gt;
&lt;h6 id=&#34;41-è·å–å‚æ•°å¹¶æ›¿æ¢&#34;&gt;4.1 è·å–å‚æ•°å¹¶æ›¿æ¢&lt;code&gt;{}&lt;/code&gt;&lt;/h6&gt;
&lt;p&gt;å‡è®¾ä¸€ä¸ªå‘½ä»¤ä¸º &lt;a class=&#34;link&#34; href=&#34;http://sk.sh/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;sk.sh&lt;/a&gt; å’Œä¸€ä¸ªä¿å­˜å‚æ•°çš„æ–‡ä»¶ arg.txtï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;#!/bin/bash
#sk.shå‘½ä»¤å†…å®¹ï¼Œæ‰“å°å‡ºæ‰€æœ‰å‚æ•°ã€‚

echo $*
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;arg.txt.æ–‡ä»¶å†…å®¹&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# cat arg.txt

aaa
bbb
ccc
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;xargs&lt;/code&gt; çš„ä¸€ä¸ªé€‰é¡¹ &lt;code&gt;-I&lt;/code&gt;ï¼Œä½¿ç”¨ &lt;code&gt;-I&lt;/code&gt; æŒ‡å®šä¸€ä¸ªæ›¿æ¢å­—ç¬¦ä¸² &lt;code&gt;{}&lt;/code&gt;ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²åœ¨ &lt;code&gt;xargs&lt;/code&gt; æ‰©å±•æ—¶ä¼šè¢«æ›¿æ¢æ‰ï¼Œå½“ &lt;code&gt;-I&lt;/code&gt; ä¸ &lt;code&gt;xargs&lt;/code&gt; ç»“åˆä½¿ç”¨ï¼Œæ¯ä¸€ä¸ªå‚æ•°å‘½ä»¤éƒ½ä¼šè¢«æ‰§è¡Œä¸€æ¬¡ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# cat arg.txt | xargs -I {} ./sk.sh sombefore {} someafter

sombefore aaa someafter
sombefore bbb someafter
sombefore ccc someafter
&lt;/code&gt;&lt;/pre&gt;&lt;h6 id=&#34;42-å¤åˆ¶æ–‡ä»¶å®ä¾‹&#34;&gt;4.2 å¤åˆ¶æ–‡ä»¶å®ä¾‹&lt;/h6&gt;
&lt;p&gt;å¤åˆ¶æ‰€æœ‰å›¾ç‰‡æ–‡ä»¶åˆ° /data/images ç›®å½•ä¸‹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ls *.jpg | xargs -n1 -I {} cp {} /data/images/
&lt;/code&gt;&lt;/pre&gt;&lt;h6 id=&#34;43-xargs-ç»“åˆfind-ä½¿ç”¨&#34;&gt;4.3 xargs ç»“åˆfind ä½¿ç”¨&lt;/h6&gt;
&lt;p&gt;ç”¨ rm åˆ é™¤å¤ªå¤šçš„æ–‡ä»¶æ—¶å€™ï¼Œå¯èƒ½å¾—åˆ°ä¸€ä¸ªé”™è¯¯ä¿¡æ¯ï¼š&lt;code&gt;/bin/rm Argument list too long.&lt;/code&gt; ç”¨ xargs å»é¿å…è¿™ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;find . -type f -name &amp;quot;*.log&amp;quot; -print0 | xargs -0 rm -f&lt;/code&gt; xargs -0 å°† \0 ä½œä¸ºå®šç•Œç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;ç»Ÿè®¡ä¸€ä¸ªæºä»£ç ç›®å½•ä¸­æ‰€æœ‰ php æ–‡ä»¶çš„è¡Œæ•°ï¼š &lt;code&gt;find . -type f -name &amp;quot;*.php&amp;quot; -print0 | xargs -0 wc -l&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æŸ¥æ‰¾æ‰€æœ‰çš„ jpg æ–‡ä»¶ï¼Œå¹¶ä¸”å‹ç¼©å®ƒä»¬ï¼š &lt;code&gt;find . -type f -name &amp;quot;*.jpg&amp;quot; -print | xargs tar -czvf images.tar.gz&lt;/code&gt;&lt;/p&gt;
&lt;h6 id=&#34;44-ä¸‹è½½å¤šä¸ªæ–‡ä»¶&#34;&gt;4.4 ä¸‹è½½å¤šä¸ªæ–‡ä»¶&lt;/h6&gt;
&lt;p&gt;å‡å¦‚ä½ æœ‰ä¸€ä¸ªæ–‡ä»¶åŒ…å«äº†å¾ˆå¤šä½ å¸Œæœ›ä¸‹è½½çš„ URLï¼Œä½ èƒ½å¤Ÿä½¿ç”¨ xargsä¸‹è½½æ‰€æœ‰é“¾æ¥ï¼š &lt;code&gt;# cat url-list.txt | xargs wget -c&lt;/code&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>å‡çº§https</title>
        <link>https://lxb.wiki/ddf7de45/</link>
        <pubDate>Thu, 08 Aug 2019 02:53:34 +0000</pubDate>
        
        <guid>https://lxb.wiki/ddf7de45/</guid>
        <description>&lt;p&gt;&lt;em&gt;ç¯å¢ƒ&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;CentOS
nginx
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è·å–è¯ä¹¦&#34;&gt;è·å–è¯ä¹¦&lt;/h3&gt;
&lt;p&gt;HTTPS è¯ä¹¦åˆ†ä¸‰ç±»ï¼š1. DV åŸŸåéªŒè¯è¯ä¹¦ 2. OV ç»„ç»‡æœºæ„éªŒè¯è¯ä¹¦ 3. EV å¢å¼ºçš„ç»„ç»‡æœºæ„éªŒè¯è¯ä¹¦ã€‚æ¯ç±»è¯ä¹¦çš„å®¡æ ¸è¦æ±‚ä¸åŒï¼Œåœ¨æµè§ˆå™¨åœ°å€æ ä¹Ÿä¼šæœ‰åŒºåˆ†ï¼Œå¯¹äºä¸ªäººç½‘ç«™è€Œè¨€ï¼Œä½¿ç”¨å…è´¹çš„ DV è¯ä¹¦å°±è¶³å¤Ÿäº†ã€‚ æˆ‘ä½¿ç”¨äº†å¤§åé¼é¼çš„ Let&amp;rsquo;s Encrypt æ¥ç”Ÿæˆè¯ä¹¦ã€‚&lt;/p&gt;
&lt;h4 id=&#34;1-å®‰è£…-certbot&#34;&gt;1. å®‰è£… certbot&lt;/h4&gt;
&lt;p&gt;certbot æ˜¯ Let&amp;rsquo;s Encrypt æä¾›çš„ä¸€å¥—è‡ªåŠ¨åŒ–å·¥å…·ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;yum install epel-release
yum install certbot
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;2-ç”Ÿæˆè¯ä¹¦&#34;&gt;2. ç”Ÿæˆè¯ä¹¦&lt;/h4&gt;
&lt;p&gt;è¿™é‡Œé‡‡ç”¨ webroot ä½œä¸º Let&amp;rsquo;s Encrypt çš„è®¤è¯æ–¹å¼ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;certbot certonly -a webroot --webroot-path=/your/project/path -d example.com -d www.example.com
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;webroot-pathå°±æ˜¯é¡¹ç›®æ ¹è·¯å¾„ï¼Œä½¿ç”¨ -d å¯ä»¥æ·»åŠ å¤šä¸ªåŸŸåã€‚è¿™æ—¶è¯ä¹¦å°±å·²ç»ç”ŸæˆæˆåŠŸäº†ï¼Œé»˜è®¤ä¿å­˜åœ¨ /etc/letsencrypt/live/example.com/ ä¸‹ã€‚è¯ä¹¦æ–‡ä»¶åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;cert.pem: æœåŠ¡ç«¯è¯ä¹¦&lt;/li&gt;
&lt;li&gt;chain.pem: æµè§ˆå™¨éœ€è¦çš„æ‰€æœ‰è¯ä¹¦ä½†ä¸åŒ…æ‹¬æœåŠ¡ç«¯è¯ä¹¦ï¼Œæ¯”å¦‚æ ¹è¯ä¹¦å’Œä¸­é—´è¯ä¹¦&lt;/li&gt;
&lt;li&gt;fullchain.pem: åŒ…æ‹¬äº†cert.pemå’Œchain.pemçš„å†…å®¹&lt;/li&gt;
&lt;li&gt;privkey.pem: è¯ä¹¦ç§é’¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3-ç”Ÿæˆè¿ªè²-èµ«å°”æ›¼å¯†é’¥äº¤æ¢ç»„-strong-diffie-hellman-group&#34;&gt;3. ç”Ÿæˆè¿ªè²-èµ«å°”æ›¼å¯†é’¥äº¤æ¢ç»„ï¼ˆ Strong Diffie-Hellman Groupï¼‰&lt;/h4&gt;
&lt;p&gt;ä¸ºäº†è¿›ä¸€æ­¥æé«˜å®‰å…¨æ€§ï¼Œä¹Ÿå¯ä»¥ç”Ÿæˆä¸€ä¸ª Strong Diffie-Hellman Groupã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;openssl dhparam -out /etc/ssl/certs/dhparam.pem 2048
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;é…ç½®nginx&#34;&gt;é…ç½®nginx&lt;/h3&gt;
&lt;p&gt;ç¼–è¾‘ Nginx é…ç½®æ–‡ä»¶ï¼Œå¦‚æœä½ ä¸çŸ¥é“é…ç½®æ–‡ä»¶åœ¨å“ªï¼Œå¯ä»¥ç”¨ locate /nginx.conf å‘½ä»¤æŸ¥æ‰¾ã€‚æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼Œå…·ä½“å‚æ•°ä»¥ä½ çš„å®é™…æƒ…å†µä¸ºå‡†ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;server {
        listen 443 ssl;
        # å¯ç”¨http2
        # éœ€è¦å®‰è£… Nginx Http2 Module
        # listen 443 http2 ssl;
        server_name my_server_name;
        #è¯ä¹¦æ–‡ä»¶
        ssl_certificate /etc/letsencrypt/live/my_server_name/fullchain.pem;
        #ç§é’¥æ–‡ä»¶
        ssl_certificate_key /etc/letsencrypt/live/my_server_name/privkey.pem;

        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        # ä¼˜å…ˆé‡‡å–æœåŠ¡å™¨ç®—æ³•
        ssl_prefer_server_ciphers on;
        # å®šä¹‰ç®—æ³•
        ssl_ciphers &amp;amp;quot;EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH&amp;amp;quot;;
        ssl_ecdh_curve secp384r1;
        ssl_session_cache shared:SSL:10m;
        ssl_session_tickets off;
        ssl_stapling on;
        ssl_stapling_verify on;
        resolver 8.8.8.8 8.8.4.4 valid=300s;
        resolver_timeout 5s;

        add_header Strict-Transport-Security &amp;amp;quot;max-age=63072000; includeSubdomains&amp;amp;quot;;
        add_header X-Frame-Options DENY;
        add_header X-Content-Type-Options nosniff;
        # ä½¿ç”¨DHæ–‡ä»¶
        ssl_dhparam /etc/ssl/certs/dhparam.pem;

        location ~ /.well-known {
            allow all;
        }

        location ~ \.php$ {
            root           my_root;
            fastcgi_pass   my_host:my_port;
            fastcgi_index  index.php;
            fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;
            include        fastcgi_params;
        }

        root my_root;
        index index.html index.php;

        location / {
            root my_root;
            autoindex on;
            index index.html index.php;
            client_max_body_size 1024m;
        }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å…¶ä¸­çš„å‡ é¡¹é…ç½®: &lt;code&gt;ssl_stapling on;&lt;/code&gt; å¼€å¯ OCSP Staplingï¼Œä½¿æœåŠ¡ç«¯ä¸»åŠ¨è·å– OCSP æŸ¥è¯¢ç»“æœå¹¶éšç€è¯ä¹¦ä¸€èµ·å‘é€ç»™å®¢æˆ·ç«¯ï¼Œä»è€Œè®©å®¢æˆ·ç«¯è·³è¿‡è‡ªå·±å»éªŒè¯çš„è¿‡ç¨‹ï¼Œæé«˜ TLS æ¡æ‰‹æ•ˆç‡ã€‚ &lt;code&gt;add_header Strict-Transport-Security &amp;amp;quot;max-age=63072000; includeSubdomains&amp;amp;quot;;&lt;/code&gt; å¯ç”¨ HSTS ç­–ç•¥ï¼Œå¼ºåˆ¶æµè§ˆå™¨ä½¿ç”¨ HTTPS è¿æ¥ï¼Œmax-ageè®¾ç½®å•ä½æ—¶é—´å†…å¼·åˆ¶ä½¿ç”¨ HTTPS è¿æ¥ï¼›includeSubDomains å¯é€‰ï¼Œè®¾ç½®æ‰€æœ‰å­åŸŸåŒæ—¶ç”Ÿæ•ˆã€‚æµè§ˆå™¨åœ¨è·å–è¯¥å“åº”å¤´åï¼Œåœ¨ max-age çš„æ—¶é—´å†…ï¼Œå¦‚æœé‡åˆ° HTTP è¿æ¥ï¼Œå°±ä¼šé€šè¿‡ 307 è·³è½¬å¼·åˆ¶ä½¿ç”¨ HTTPS è¿›è¡Œè¿æ¥ &lt;code&gt;add_header X-Frame-Options DENY;&lt;/code&gt; æ·»åŠ  X-Frame-Options å“åº”å¤´ï¼Œå¯ä»¥ç¦æ­¢ç½‘ç«™è¢«åµŒå…¥åˆ° iframe ä¸­ï¼Œå‡å°‘ç‚¹å‡»åŠ«æŒ (clickjacking)æ”»å‡»ã€‚ &lt;code&gt;add_header X-Content-Type-Options nosniff;&lt;/code&gt; æ·»åŠ  X-Content-Type-Options å“åº”å¤´ï¼Œé˜²æ­¢ MIME ç±»å‹å—…æ¢æ”»å‡» æµ‹è¯•nginx.conf æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ &lt;code&gt;nginx -t&lt;/code&gt; é‡å¯nginx &lt;code&gt;nginx -s reload&lt;/code&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>dockeræŒ‚è½½ç›®å½•å¤±è´¥/æƒé™æ‹’ç»</title>
        <link>https://lxb.wiki/498654c2/</link>
        <pubDate>Tue, 23 Jul 2019 17:32:38 +0000</pubDate>
        
        <guid>https://lxb.wiki/498654c2/</guid>
        <description>&lt;p&gt;æŠŠå®¿ä¸»æœºçš„ä¸€ä¸ªç›®å½•æŒ‚è½½åˆ°å®¹å™¨ä¸­çš„ä¸€ä¸ªç›®å½•ï¼Œå½“è®¿é—®å®¹å™¨ä¸­çš„è¿™ä¸ªç›®å½•æ—¶ï¼Œå‡ºç°å¦‚ä¸‹é—®é¢˜ï¼š
&lt;code&gt;ls: cannot open directory .: Permission denied&lt;/code&gt;
æ— æ³•è®¿é—®ç›®å½•ï¼Œæƒé™æ‹’ç»ã€‚
è¯¥é—®é¢˜é€šå¸¸åœ¨centos7ä¸‹å‡ºç°ã€‚æˆ–è€…ä¸€ä¸ªå®¹å™¨å¯åŠ¨æˆåŠŸåï¼Œé‡Œé¢çš„æœåŠ¡æ— æ³•æˆåŠŸè®¿é—®ï¼Œè¿™æ˜¯å› ä¸ºcentos7ä¸­çš„å®‰å…¨æ¨¡å—selinuxæŠŠæƒé™ç¦æ‰äº†ï¼Œä¸€èˆ¬çš„è§£å†³æ–¹æ¡ˆæœ‰ä»¥ä¸‹ä¸¤ç§ï¼š
ï¼ˆ1ï¼‰ä¸´æ—¶å…³é—­selinux
ç›´æ¥åœ¨centosæœåŠ¡å™¨ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ã€‚æ‰§è¡Œå®Œæˆä»¥åå»ºè®®é‡æ–°&lt;code&gt;docker run&lt;/code&gt;ã€‚ &lt;code&gt;setenforce 0&lt;/code&gt;
ï¼ˆ2ï¼‰ç»™å®¹å™¨åŠ æƒé™
åœ¨&lt;code&gt;docker run&lt;/code&gt;æ—¶ç»™è¯¥å®¹å™¨åŠ æƒé™ï¼ŒåŠ ä¸Šä»¥ä¸‹å‚æ•°å³å¯ï¼š
&lt;code&gt;--privileged=true&lt;/code&gt;
ä¸€èˆ¬éƒ½æ¨èä½¿ç”¨è¿™ç§æ–¹å¼ã€‚
æŒ‰ä¸Šè¿°æ–¹æ³•ä¿®æ”¹å, å¦‚æœæ‰§è¡Œä¸‹é¢å‘½ä»¤å¤±è´¥
&lt;code&gt;docker run --name rookie-nginx-test -d -p 8082:80 -v ~/nginx/www:/usr/share/nginx/html -v ~/nginx/conf/nginx.conf:/etc/nginx/nginx.conf -v ~/nginx/logs:/var/log/nginx -v ~/nginx/conf/conf.d:/etc/nginx/conf.d --link php7-fpm:php nginx&lt;/code&gt;
åˆ™æ˜¯å› ä¸º&lt;code&gt;~/nginx/www/&lt;/code&gt; ç›®å½•ä¸‹æ²¡æœ‰index æ–‡ä»¶å¯¼è‡´. æ‰‹åŠ¨åˆ›å»º&lt;code&gt;index.php&lt;/code&gt; æ–‡ä»¶è§£å†³&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Mac iTerm2ç™»é™†CentOSæç¤ºwarning: setlocale: LC_CTYPE: cannot change locale (UTF-8): No such file or directory</title>
        <link>https://lxb.wiki/784beb8f/</link>
        <pubDate>Tue, 02 Jul 2019 11:48:53 +0000</pubDate>
        
        <guid>https://lxb.wiki/784beb8f/</guid>
        <description>&lt;p&gt;ã€æŠ¥é”™åŸå› ã€‘ï¼šæ²¡æœ‰utf-8è¿™ä¸ªè¯­ç³»ï¼ˆæ²¡æ·»åŠ è¯­è¨€_å›½åå‰ç¼€ï¼‰ï¼ŒLC_ALLåˆæ²¡è®¾å®šå€¼ã€‚ &lt;strong&gt;æœåŠ¡ç«¯è§£å†³æ–¹æ³•ï¼š&lt;/strong&gt; åœ¨è¿œç¨‹ç³»ç»Ÿä¸Šï¼Œ &lt;code&gt;/etc/environment&lt;/code&gt;åŠ å…¥ä»¥ä¸‹ä¸¤è¡Œï¼Œé‡æ–°ç™»é™†å³å¯ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;LANG=en_US.utf-8
LC_ALL=en_US.utf-8
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Macç»ˆç«¯è§£å†³æ–¹æ³•ï¼š&lt;/strong&gt; ç¼–è¾‘&lt;code&gt;~/.bashrc&lt;/code&gt;æˆ–è€…&lt;code&gt;~/.zshrc&lt;/code&gt;æ–‡ä»¶ï¼Œæ·»åŠ &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;export LC_ALL=en_US.UTF-8  
export LANG=en_US.UTF-8
&lt;/code&gt;&lt;/pre&gt;
</description>
        </item>
        <item>
        <title>å‡çº§åˆ°php7.1ä¹‹åwordpress ç½‘ç«™å‡ºç°Error establishing a database connectionçš„è§£å†³æ–¹æ³•</title>
        <link>https://lxb.wiki/b6b408b2/</link>
        <pubDate>Wed, 12 Jun 2019 23:37:00 +0000</pubDate>
        
        <guid>https://lxb.wiki/b6b408b2/</guid>
        <description>&lt;p&gt;ç°åœ¨å¾ˆå¤šWordPressçš„æ’ä»¶éƒ½æ¨èå°†phpç‰ˆæœ¬å‡çº§åˆ°7.0æˆ–è€…7.1ä»¥ä¸Šï¼Œäºæ˜¯å°±æŠ˜è…¾äº†ä¸€ä¸‹æŠŠå‡ ä¸ªblogå‡çº§åˆ°äº†7.1.5ï¼Œå‡çº§çš„è¿‡ç¨‹ä¸éš¾ï¼Œæ— éå°±æ˜¯é¢å¤–å®‰è£…ä¸€ä¸ªphpï¼Œç„¶åå¯åŠ¨è‡ªå¸¦çš„é…å¥—php-fpm7ï¼Œç„¶ånginxé‡Œlocationè½¬å‘åˆ°æ–°çš„php socketæ–‡ä»¶ï¼Œè¿™é‡Œå°±ä¸è¡¨äº†ã€‚ å‡çº§å®Œäº†ï¼Œphpinfo()å‘ç°ä¸€åˆ‡éƒ½æ­£å¸¸ï¼Œä½†æ˜¯è®¿é—®WordPressï¼Œå´æ„å¤–æç¤ºError establishing a database connectionï¼Œä½†æ˜¯dbçš„è¿æ¥ä¿¡æ¯æ˜æ˜æ²¡æœ‰é—®é¢˜ï¼Œç»è¿‡åå¤æœç´¢å°è¯•ï¼Œå‘ç°åªè¦å°† &lt;code&gt;/usr/share/nginx/html/wp-config.php&lt;/code&gt; æ–‡ä»¶é‡Œçš„ &lt;code&gt;define(&#39;DB_HOST&#39;, &#39;localhost&#39;);&lt;/code&gt; ä¿®æ”¹ä¸º &lt;code&gt;define(&#39;DB_HOST&#39;, &#39;127.0.0.1&#39;);&lt;/code&gt; å³å¯è§£å†³ï¼ŒçŒœæµ‹åŸå› å¯èƒ½æ˜¯php7.1ä¸­å¯¹åŸŸçš„resolveé—®é¢˜ å¦å¤–, ä¸ºäº† Debug, å¯ä»¥æŠŠ &lt;code&gt;/usr/share/nginx/html/wp-config.php&lt;/code&gt; çš„ debug æ”¹ä¸º true &lt;code&gt;define(&#39;WP_DEBUG&#39;, true);&lt;/code&gt; æ”¹å¥½äº†, å†æ”¹æˆ false.&lt;/p&gt;
</description>
        </item>
        <item>
        <title>date å‘½ä»¤è½¬æ¢æ—¶é—´æˆ³</title>
        <link>https://lxb.wiki/7b4019ad/</link>
        <pubDate>Mon, 10 Jun 2019 16:59:14 +0000</pubDate>
        
        <guid>https://lxb.wiki/7b4019ad/</guid>
        <description>&lt;p&gt;ç»™å®šæ—¶é—´æˆ³, è½¬æ¢æˆæ—¥æœŸ
ç½‘ä¸Šæ‰€æœ‰çš„å‘½ä»¤éƒ½æ˜¯
&lt;code&gt;date -d @$stamp &amp;quot;+%Y-%m-%d&amp;quot;&lt;/code&gt;
ä½†æ˜¯ä¸€ç›´æç¤º
&lt;code&gt;date: invalid date&lt;/code&gt;@stamp&amp;rsquo;&lt;code&gt; å¸¦ä¸Š&amp;quot;@&amp;quot; ç¬¦å·, å°±å‚æ•°é”™è¯¯ æ­£ç¡®ä½¿ç”¨æ–¹æ³•:&lt;/code&gt;date -d &amp;ldquo;1970-01-01 UTC 1287331200 seconds&amp;rdquo; +%F&lt;code&gt; æˆ–è€…ä½¿ç”¨awk&lt;/code&gt;awk &amp;lsquo;{print strftime(&amp;quot;%Y%m&amp;quot;, 1287331200)}&amp;rsquo;&lt;code&gt; è°ƒç”¨å¤–éƒ¨å‘½ä»¤è€—æ—¶æ¯”è¾ƒé•¿, æ›´é«˜æ•ˆçš„æ–¹æ³•:&lt;/code&gt;printf &amp;ldquo;%(%Y%m)T\n&amp;rdquo; &amp;ldquo;$str&amp;rdquo; &amp;raquo; file&lt;code&gt; å¦‚æœbash ç‰ˆæœ¬ä½äº4, printf ä¸æ”¯æŒæ‰“å°æ—¥æœŸæ ¼å¼, å› æ­¤ä½¿ç”¨ ä¸‹é¢è¿™ä¸ªbash&lt;/code&gt;/opt/compiler/gcc-4.8.2/bin/bash`&lt;/p&gt;
</description>
        </item>
        <item>
        <title>å¤§å°ç«¯</title>
        <link>https://lxb.wiki/7ee0edaa/</link>
        <pubDate>Fri, 24 May 2019 18:37:53 +0000</pubDate>
        
        <guid>https://lxb.wiki/7ee0edaa/</guid>
        <description>&lt;p&gt;è®¡ç®—æœºç³»ç»Ÿä¸­å†…å­˜æ˜¯ä»¥å­—èŠ‚ä¸ºå•ä½è¿›è¡Œç¼–å€çš„ï¼Œæ¯ä¸ªåœ°å€å•å…ƒéƒ½å”¯ä¸€çš„å¯¹åº”ç€1ä¸ªå­—èŠ‚ï¼ˆ8 bitï¼‰ã€‚è¿™å¯ä»¥åº”å¯¹charç±»å‹æ•°æ®çš„å­˜å‚¨è¦æ±‚ï¼Œå› ä¸ºcharç±»å‹é•¿åº¦åˆšå¥½æ˜¯1ä¸ªå­—èŠ‚ï¼Œä½†æ˜¯æœ‰äº›ç±»å‹çš„é•¿åº¦æ˜¯è¶…è¿‡1ä¸ªå­—èŠ‚çš„ï¼ˆå­—ç¬¦ä¸²è™½ç„¶æ˜¯å¤šå­—èŠ‚çš„ï¼Œä½†å®ƒæœ¬è´¨æ˜¯ç”±ä¸€ä¸ªä¸ªcharç±»å‹ç»„æˆçš„ç±»ä¼¼æ•°ç»„çš„ç»“æ„è€Œå·²ï¼‰ï¼Œæ¯”å¦‚C/C++ä¸­ï¼Œshortç±»å‹ä¸€èˆ¬æ˜¯2ä¸ªå­—èŠ‚ï¼Œintç±»å‹ä¸€èˆ¬4ä¸ªå­—èŠ‚ç­‰ã€‚å› æ­¤è¿™é‡Œå°±å­˜åœ¨ç€ä¸€ä¸ªå¦‚ä½•å®‰æ’å¤šä¸ªå­—èŠ‚æ•°æ®ä¸­å„å­—èŠ‚å­˜æ”¾é¡ºåºçš„é—®é¢˜ã€‚æ­£æ˜¯å› ä¸ºä¸åŒçš„å®‰æ’é¡ºåºå¯¼è‡´äº†å¤§ç«¯å­˜å‚¨æ¨¡å¼å’Œå°ç«¯å­˜å‚¨æ¨¡å¼çš„å­˜åœ¨ã€‚&lt;/p&gt;
&lt;h4 id=&#34;1-è§£é‡Š&#34;&gt;1. è§£é‡Š&lt;/h4&gt;
&lt;p&gt;å‡å¦‚æœ‰ä¸€ä¸ª4å­—èŠ‚çš„æ•°æ®ä¸º 0x12 34 56 78ï¼ˆåè¿›åˆ¶ï¼š305419896ï¼Œ0x12ä¸ºé«˜å­—èŠ‚ï¼Œ0x78ä¸ºä½å­—èŠ‚ï¼‰ï¼Œè‹¥å°†å…¶å­˜æ”¾äºåœ°å€ 0x4000 8000ä¸­ï¼Œåˆ™æœ‰ï¼š&lt;/p&gt;
&lt;p&gt;å†…å­˜åœ°å€&lt;/p&gt;
&lt;p&gt;0x4000 8000ï¼ˆä½åœ°å€ï¼‰&lt;/p&gt;
&lt;p&gt;0x4000 8001&lt;/p&gt;
&lt;p&gt;0x4000 8002&lt;/p&gt;
&lt;p&gt;0x4000 8003ï¼ˆé«˜åœ°å€ï¼‰&lt;/p&gt;
&lt;p&gt;å¤§ç«¯æ¨¡å¼&lt;/p&gt;
&lt;p&gt;0x12ï¼ˆé«˜å­—èŠ‚ï¼‰&lt;/p&gt;
&lt;p&gt;0x34&lt;/p&gt;
&lt;p&gt;0x56&lt;/p&gt;
&lt;p&gt;0x78ï¼ˆä½å­—èŠ‚ï¼‰&lt;/p&gt;
&lt;p&gt;å°ç«¯æ¨¡å¼&lt;/p&gt;
&lt;p&gt;0x78ï¼ˆä½å­—èŠ‚ï¼‰&lt;/p&gt;
&lt;p&gt;0x56&lt;/p&gt;
&lt;p&gt;0x34&lt;/p&gt;
&lt;p&gt;0x12ï¼ˆé«˜å­—èŠ‚ï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤§ç«¯æ¨¡å¼ï¼šæ˜¯æŒ‡æ•°æ®çš„é«˜å­—èŠ‚ä¿å­˜åœ¨å†…å­˜çš„ä½åœ°å€ä¸­ï¼Œè€Œæ•°æ®çš„ä½å­—èŠ‚ä¿å­˜åœ¨å†…å­˜çš„é«˜åœ°å€ä¸­&lt;/li&gt;
&lt;li&gt;å°ç«¯æ¨¡å¼ï¼Œæ˜¯æŒ‡æ•°æ®çš„é«˜å­—èŠ‚ä¿å­˜åœ¨å†…å­˜çš„é«˜åœ°å€ä¸­ï¼Œè€Œæ•°æ®çš„ä½å­—èŠ‚ä¿å­˜åœ¨å†…å­˜çš„ä½åœ°å€ä¸­&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆæˆªç„¶ç›¸åçš„å¤§å°ç«¯å­˜å‚¨æ¨¡å¼èƒ½å¤Ÿå¹¶å­˜è‡³ä»Šï¼Ÿåœ¨æ ‡å‡†åŒ–å¤‡å—æ¨å´‡çš„ä»Šå¤©ï¼Œä¸ºä»€ä¹ˆå¤§å°ç«¯è°éƒ½æ²¡æœ‰è¢«å¦å¤–ä¸€ä¸ªæ‰€åŒåŒ–ï¼Ÿæˆ‘æƒ³è¿™é™¤äº†å†å²çš„æƒ¯æ€§ä½¿ç„¶ï¼Œè¿˜ä¸å®ƒä»¬å„è‡ªçš„ä¼˜ç¼ºç‚¹æœ‰å…³ã€‚ å¤§ç«¯æ¨¡å¼ä¼˜ç‚¹ï¼šç¬¦å·ä½åœ¨æ‰€è¡¨ç¤ºçš„æ•°æ®çš„å†…å­˜çš„ç¬¬ä¸€ä¸ªå­—èŠ‚ä¸­ï¼Œä¾¿äºå¿«é€Ÿåˆ¤æ–­æ•°æ®çš„æ­£è´Ÿå’Œå¤§å° å°ç«¯æ¨¡å¼ä¼˜ç‚¹ï¼š1. å†…å­˜çš„ä½åœ°å€å¤„å­˜æ”¾ä½å­—èŠ‚ï¼Œæ‰€ä»¥åœ¨å¼ºåˆ¶è½¬æ¢æ•°æ®æ—¶ä¸éœ€è¦è°ƒæ•´å­—èŠ‚çš„å†…å®¹ï¼ˆæ³¨è§£ï¼šæ¯”å¦‚æŠŠintçš„4å­—èŠ‚å¼ºåˆ¶è½¬æ¢æˆshortçš„2å­—èŠ‚æ—¶ï¼Œå°±ç›´æ¥æŠŠintæ•°æ®å­˜å‚¨çš„å‰ä¸¤ä¸ªå­—èŠ‚ç»™shortå°±è¡Œï¼Œå› ä¸ºå…¶å‰ä¸¤ä¸ªå­—èŠ‚åˆšå¥½å°±æ˜¯æœ€ä½çš„ä¸¤ä¸ªå­—èŠ‚ï¼Œç¬¦åˆè½¬æ¢é€»è¾‘ï¼‰ï¼› 2. CPUåšæ•°å€¼è¿ç®—æ—¶ä»å†…å­˜ä¸­ä¾é¡ºåºä¾æ¬¡ä»ä½ä½åˆ°é«˜ä½å–æ•°æ®è¿›è¡Œè¿ç®—ï¼Œç›´åˆ°æœ€ååˆ·æ–°æœ€é«˜ä½çš„ç¬¦å·ä½ï¼Œè¿™æ ·çš„è¿ç®—æ–¹å¼ä¼šæ›´é«˜æ•ˆ å…¶å„è‡ªçš„ä¼˜ç‚¹å°±æ˜¯å¯¹æ–¹çš„ç¼ºç‚¹ï¼Œæ­£å› ä¸ºä¸¤è€…å½¼æ­¤ä¸åˆ†ä¼¯ä»²ï¼Œå†åŠ ä¸Šä¸€äº›ç¡¬ä»¶å‚å•†çš„åšæŒï¼ˆè§1.3èŠ‚ï¼‰ï¼Œå› æ­¤åœ¨å¤šå­—èŠ‚å­˜å‚¨é¡ºåºä¸Šå§‹ç»ˆæ²¡æœ‰ä¸€ä¸ªç»Ÿä¸€çš„æ ‡å‡†&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Intelçš„80Ã—86ç³»åˆ—èŠ¯ç‰‡ä½¿ç”¨å°ç«¯å­˜å‚¨æ¨¡å¼&lt;/li&gt;
&lt;li&gt;ARMèŠ¯ç‰‡é»˜è®¤é‡‡ç”¨å°ç«¯ï¼Œä½†å¯ä»¥åˆ‡æ¢ä¸ºå¤§ç«¯&lt;/li&gt;
&lt;li&gt;MIPSèŠ¯ç‰‡é‡‡ç”¨å¤§ç«¯ï¼Œä½†å¯ä»¥åœ¨å¤§å°ç«¯ä¹‹é—´åˆ‡æ¢&lt;/li&gt;
&lt;li&gt;åœ¨ç½‘ç»œä¸Šä¼ è¾“çš„æ•°æ®æ™®éé‡‡ç”¨çš„éƒ½æ˜¯å¤§ç«¯&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-åˆ¤æ–­&#34;&gt;2. åˆ¤æ–­&lt;/h4&gt;
&lt;p&gt;æ–¹æ³•ä¸€ï¼šé€šè¿‡å°†å¤šå­—èŠ‚æ•°æ®å¼ºåˆ¶ç±»å‹è½¬æ¢æˆå•å­—èŠ‚æ•°æ®ï¼Œå†é€šè¿‡åˆ¤æ–­èµ·å§‹å­˜å‚¨ä½ç½®æ˜¯æ•°æ®é«˜å­—èŠ‚è¿˜æ˜¯ä½å­—èŠ‚è¿›è¡Œæ£€æµ‹&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// @Ret: å¤§ç«¯ï¼Œè¿”å›true; å°ç«¯ï¼Œè¿”å›false
bool IsBigEndian_1()
{
    int nNum = 0x12345678;
    char cLowAddressValue = *(char*)&amp;amp;nNum;

    // ä½åœ°å€å¤„æ˜¯é«˜å­—èŠ‚ï¼Œåˆ™ä¸ºå¤§ç«¯
    if ( cLowAddressValue == 0x12 )    return true;

    return false; 
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ–¹æ³•äºŒï¼šåˆ©ç”¨è”åˆä½“unionçš„å­˜æ”¾é¡ºåºæ˜¯æ‰€æœ‰æˆå‘˜éƒ½ä»ä½åœ°å€å¼€å§‹å­˜æ”¾è¿™ä¸€ç‰¹æ€§è¿›è¡Œæ£€æµ‹&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// @Ret: å¤§ç«¯ï¼Œè¿”å›true; å°ç«¯ï¼Œè¿”å›false
bool isBigEndian_2()
{
    union uendian
    {
       int nNum;
       char cLowAddressValue;
    };

    uendian u;
    u.nNum = 0x12345678;

    if ( u.cLowAddressValue == 0x12 )     return true;

    return false;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;3-è½¬æ¢&#34;&gt;3. è½¬æ¢&lt;/h4&gt;
&lt;p&gt;å¤§å°ç«¯è½¬æ¢&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// å®ç°16bitçš„æ•°æ®ä¹‹é—´çš„å¤§å°ç«¯è½¬æ¢
#define BLSWITCH16(A)   (  ( ( (uint16)(A) &amp;amp; 0xff00 ) &amp;gt;&amp;gt; 8  )    | \  
                           ( ( (uint16)(A) &amp;amp; 0x00ff ) &amp;lt;&amp;lt; 8  )     )  

// å®ç°32bitçš„æ•°æ®ä¹‹é—´çš„å¤§å°ç«¯è½¬æ¢
#define BLSWITCH32(A)   (  ( ( (uint32)(A) &amp;amp; 0xff000000) &amp;gt;&amp;gt; 24) |\
         (((uint32)(A) &amp;amp; 0x00ff0000) &amp;gt;&amp;gt; 8) | \
         (((unit32)(A) &amp;amp; 0x0000ff00) &amp;lt;&amp;lt; 8) | \
         (((uint32)(A) &amp;amp; 0x000000ff) &amp;lt;&amp;lt; 32)  )
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç”±äºç½‘ç»œå­—èŠ‚åºä¸€å¾‹ä¸ºå¤§ç«¯ï¼Œè€Œç›®å‰ä¸ªäººPCå¤§éƒ¨åˆ†éƒ½æ˜¯X86çš„å°ç«¯æ¨¡å¼ï¼Œå› æ­¤ç½‘ç»œç¼–ç¨‹ä¸­ä¸å¯é¿å…å¾—è¦è¿›è¡Œç½‘ç»œå­—èŠ‚åºå’Œä¸»æœºå­—èŠ‚åºä¹‹é—´çš„ç›¸äº’è½¬æ¢&lt;/p&gt;
</description>
        </item>
        <item>
        <title>åˆ†å¸ƒå¼å‘å·å™¨æ¶æ„è®¾è®¡</title>
        <link>https://lxb.wiki/3d5a1f1d/</link>
        <pubDate>Fri, 10 May 2019 14:04:04 +0000</pubDate>
        
        <guid>https://lxb.wiki/3d5a1f1d/</guid>
        <description>&lt;h3 id=&#34;ä¸€-éœ€æ±‚è®¾è®¡&#34;&gt;ä¸€ éœ€æ±‚è®¾è®¡&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ï¼Œä¿è¯æ¯ä¸ªåºåˆ—å·ï¼ˆsequenceï¼‰æ˜¯å…¨ç³»ç»Ÿå”¯ä¸€çš„ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åºåˆ—å·å¯æ’åºï¼Œæ»¡è¶³å•è°ƒé€’å¢çš„è§„å¾‹ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç‰¹å®šåœºæ™¯ä¸‹ï¼Œèƒ½ç”Ÿæˆæ— è§„åˆ™ï¼ˆæˆ–è€…çœ‹ä¸å‡ºè§„åˆ™ï¼‰çš„åºåˆ—å·ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”Ÿæˆçš„åºåˆ—å·å°½é‡çŸ­ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åºåˆ—å·å¯è¿›è¡ŒäºŒæ¬¡æ··æ·†ï¼Œæä¾›å¯æ‰©å±•çš„interfaceï¼Œä¸šåŠ¡æ–¹è‡ªå®šä¹‰å®ç°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;äºŒ-æ–¹æ¡ˆè®¾è®¡&#34;&gt;äºŒ æ–¹æ¡ˆè®¾è®¡&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†æ»¡è¶³ä¸Šè¿°éœ€æ±‚ï¼Œå‘å·å™¨å¿…é¡»èƒ½å¤Ÿæ”¯æŒä¸åŒçš„ç”Ÿæˆç­–ç•¥ï¼Œæœ€å¥½æ˜¯è¿˜èƒ½æ”¯æŒè‡ªå®šä¹‰çš„ç”Ÿæˆç­–ç•¥ï¼Œè¿™å°±å¯¹ç³»ç»Ÿæœ¬èº«çš„å¯æ‰©å±•æ€§æå‡ºäº†è¦æ±‚ã€‚ ç›®å‰ï¼Œå‘å·å™¨è®¾è®¡äº†ä¸¤ç§æ¯”è¾ƒé€šç”¨çš„åŸºç¡€ç­–ç•¥ï¼Œå„æœ‰ä¼˜ç¼ºç‚¹ï¼Œä½†ç»“åˆèµ·æ¥ï¼Œèƒ½è¾¾åˆ°ä¼˜åŠ¿äº’è¡¥çš„ç›®çš„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;1-segment&#34;&gt;1. segment&lt;/h4&gt;
&lt;p&gt;ç¬¬ä¸€ç§ç­–ç•¥ç§°ä¹‹ä¸ºã€åˆ†æ®µã€ï¼ˆsegmentï¼‰ï¼Œä¸‹æ–‡å°†å¯¹å…¶è¿›è¡Œè¯¦ç»†é˜è¿°ï¼š æ•´ä¸ªsegmentå‘å·å™¨æœ‰ä¸¤ä¸ªé‡è¦çš„è§’è‰²ï¼šRediså’ŒMongoDBï¼Œç†è®ºä¸ŠMongoDBæ˜¯å¯ä»¥è¢«MySQLæˆ–å…¶ä»–DBäº§å“æ‰€æ›¿ä»£çš„ã€‚ segmentå‘å·å™¨æ‰€äº§ç”Ÿçš„å·ç æ»¡è¶³å•è°ƒé€’å¢çš„è§„å¾‹ï¼ŒçŸ­æ—¶é—´å†…äº§ç”Ÿçš„å·ç ä¸ä¼šæœ‰è¿‡é•¿çš„é—®é¢˜ï¼ˆå¯æ ¹æ®å®é™…éœ€è¦ï¼Œè®¾ç½®åˆå§‹å€¼ï¼Œæ¯”å¦‚ 100ï¼‰ã€‚&lt;/p&gt;
&lt;h5 id=&#34;redisæ•°æ®ç»“æ„hashç±»å‹&#34;&gt;Redisæ•°æ®ç»“æ„ï¼ˆHashç±»å‹ï¼‰&lt;/h5&gt;
&lt;pre&gt;&lt;code&gt;key: &amp;lt;string&amp;gt;ï¼Œè¡¨ç¤ºä¸šåŠ¡ä¸»é”®/åç§°
value: {
  cur: &amp;lt;long&amp;gt;ï¼Œè¡¨ç¤ºå½“å‰åºåˆ—å·
  max: &amp;lt;long&amp;gt;ï¼Œè¡¨ç¤ºè¿™ä¸ªå·æ®µæœ€å¤§çš„å¯ç”¨åºåˆ—å·
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å–å·çš„å¤§éƒ¨åˆ†æ“ä½œéƒ½é›†ä¸­åœ¨Redisï¼Œä¸ºäº†ä¿è¯åºåˆ—å·é€’å¢çš„åŸå­æ€§ï¼Œå–å·çš„åŠŸèƒ½å¯ä»¥ç”¨Luaè„šæœ¬å®ç°ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;--[[
  ç”±äºRedisTemplateè®¾ç½®çš„HashValueSerializeræ˜¯GenericToStringSerializerï¼Œæ•…æ­¤å¤„çš„HASHç»“æ„ä¸­çš„
  VALUEéƒ½æ˜¯stringç±»å‹ï¼Œéœ€è¦ä½¿ç”¨tonumberå‡½æ•°è½¬æ¢æˆæ•°å­—ç±»å‹ã€‚
]]
local max = redis.pcall(&amp;quot;HGET&amp;quot;, KEYS[1], &amp;quot;max&amp;quot;)  --è·å–ä¸€æ®µåºåˆ—å·çš„max
local cur = redis.pcall(&amp;quot;HGET&amp;quot;, KEYS[1], &amp;quot;cur&amp;quot;)  --è·å–å½“å‰å‘å·ä½ç½®
if tonumber(cur) &amp;gt;= tonumber(max) then  --æ²¡æœ‰è¶…è¿‡è¿™æ®µåºåˆ—å·çš„ä¸Šé™
    local step = ARGV[1]
    if (step == nil) then  --æ²¡æœ‰ä¼ å…¥stepå‚æ•°
        step = redis.pcall(&amp;quot;HGET&amp;quot;, KEYS[1], &amp;quot;step&amp;quot;)  --è·å–è¿™æ®µåºåˆ—å·çš„stepé…ç½®å‚æ•°å€¼
    end
    redis.pcall(&amp;quot;HSET&amp;quot;, KEYS[1], &amp;quot;max&amp;quot;, tonumber(max) + tonumber(step))  --è°ƒæ•´maxå‚æ•°å€¼ï¼Œæ‰©å±•ä¸Šé™
end
return redis.pcall(&amp;quot;HINCRBY&amp;quot;, KEYS[1], &amp;quot;cur&amp;quot;, 1)  --è§¦å‘HINCRBYæ“ä½œï¼Œå¯¹curè‡ªå¢ï¼Œå¹¶è¿”å›è‡ªå¢åçš„å€¼
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šåœ¨redisæ‰§è¡Œlua scriptæœŸé—´ï¼Œrediså¤„äºBUSYçŠ¶æ€ï¼Œè¿™ä¸ªæ—¶å€™å¯¹redisçš„ä»»ä½•å½¢å¼çš„è®¿é—®éƒ½ä¼šæŠ›å‡ºJedisBusyExceptionå¼‚å¸¸ï¼Œæ‰€ä»¥lua scriptä¸­çš„å¤„ç†é€»è¾‘ä¸å¾—å¤ªå¤æ‚ã€‚&lt;/p&gt;
&lt;p&gt;å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå³ä½¿åˆ‡æ¢åˆ°ä¸€ä¸ªæ–°çš„databaseï¼Œæˆ–è€…å¼€å¯æ–°çº¿ç¨‹æ‰§è¡Œlua scriptï¼Œéƒ½å°†ä¼šé‡åˆ°åŒæ ·çš„é—®é¢˜ï¼Œæ¯•ç«Ÿredisæ˜¯å•è¿›ç¨‹å•çº¿ç¨‹çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸å¹¸é‡åˆ°ä¸Šè¿°é—®é¢˜ï¼Œéœ€è¦ä½¿ç”¨redis-cliå®¢æˆ·ç«¯è¿ä¸Šredis-serverï¼Œå‘å…¶å‘é€SCRIPT KILLå‘½ä»¤ï¼Œå³å¯ç»ˆæ­¢è„šæœ¬æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæƒ³é¿å…ä¸Šè¿°é—®é¢˜ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨Springbootæä¾›çš„RedisTemplateï¼Œèƒ½æ”¯æŒç»å¤§éƒ¨åˆ†redis commandã€‚&lt;/p&gt;
&lt;h5 id=&#34;mongodb-æ•°æ®ç»“æ„&#34;&gt;MongoDB æ•°æ®ç»“æ„&lt;/h5&gt;
&lt;pre&gt;&lt;code&gt;{
 bizTag: &amp;lt;string&amp;gt;,  è¡¨ç¤ºä¸šåŠ¡ä¸»é”®/åç§°
 max: &amp;lt;long&amp;gt;,  è¡¨ç¤ºè¿™ä¸ªå·æ®µæœ€å¤§çš„å¯ç”¨åºåˆ—å·
 step: &amp;lt;int&amp;gt;, æ¯æ¬¡åˆ†æ®µçš„æ­¥é•¿
 timestamp: &amp;lt;long&amp;gt;,  æ›´æ–°æ•°æ®çš„æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;MongoDBéƒ¨åˆ†ä¸»è¦æ˜¯å¯¹å·æ®µçš„åˆ†é…è¿›è¡Œç®¡ç†ï¼Œä¸€ä¸ªå·æ®µä¸èƒ½å¤šå‘ï¼Œä¹Ÿå¯ä»¥æ ¹æ®å‘å·æƒ…å†µï¼Œé€‚å½“æ”¾ç¼©å·æ®µæ­¥é•¿ï¼ˆstepï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;åˆ°æ­¤ä¸ºæ­¢ï¼Œsegmentå‘å·å™¨çš„é›å½¢å·²ç»å½¢æˆäº†ã€‚ ä¸€ä¸ªæ¯”è¾ƒçªå‡ºçš„é—®é¢˜æ˜¯åœ¨ä¸¤ä¸ªå·æ®µè¡”æ¥çš„æ—¶é—´ç‚¹ï¼Œå½“ä¸€ä¸ªsegmentæ´¾å‘å®Œäº†åï¼Œä¼šå¯¹MongoDBå’ŒRedisä¸­çš„æ•°æ®ä¸­çš„maxæ‰©å®¹ï¼ŒI/Oæ¶ˆè€—æ¯”æ­£å¸¸å‘å·è¦ç¨å¤šï¼Œä¼šé‡åˆ°â€œå°–åˆºâ€&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201206210219.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æ¶ˆé™¤â€œå°–åˆºâ€ï¼Œå¯ä»¥ä½¿ç”¨åŒBufferæ¨¡å‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201206210239.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ¨¡å‹çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯â€œ&lt;strong&gt;é¢„åˆ†é…&lt;/strong&gt;â€ã€‚å¯ä»¥è®¾ç½®ä¸€ä¸ªé˜ˆå€¼ï¼ˆthresholdï¼‰ï¼Œæ¯”å¦‚20%ï¼Œå½“Buffer-1é‡Œé¢çš„å·æ®µå·²ç»æ¶ˆè€—äº†20%ï¼Œé‚£ä¹ˆç«‹åˆ»æ ¹æ®Buffer-1çš„maxå’Œstepï¼Œå¼€è¾ŸBuffer-2ã€‚ å½“Buffer-1å®Œå…¨æ¶ˆè€—äº†ï¼Œå¯ä»¥æ— ç¼è¡”æ¥Buffer-2,ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœBuffer-2çš„æ¶ˆè€—ä¹Ÿè¾¾åˆ°é˜ˆå€¼äº†ï¼Œåˆå¯ä»¥å¼€è¾ŸBuffer-1ï¼Œå¦‚æ­¤å¾€å¤ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥è®¨è®ºä¸€ä¸‹&lt;strong&gt;å¼‚å¸¸/æ•…éšœ&lt;/strong&gt;æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;â‘  Rediså®•æœºã€‚å› ä¸ºå¤§éƒ¨åˆ†å‘å·å·¥ä½œéƒ½æ˜¯ä¾é Rediså®Œæˆçš„ï¼Œæ‰€ä»¥å‘ç”Ÿäº†è¿™ç§æƒ…å†µæ˜¯éå¸¸ç³Ÿç³•çš„ã€‚å¦‚æœæƒ³æœ‰æ•ˆé™ä½æ­¤é£é™©ï¼Œæœ€è¡Œä¹‹æœ‰æ•ˆçš„åŠæ³•æ˜¯å¯¹Redisè¿›è¡Œé›†ç¾¤åŒ–ï¼Œé€šå¸¸æ˜¯1ä¸»2ä»ï¼Œè¿™æ ·å¯ä»¥æŒºä½éå¸¸é«˜çš„QPSäº†ã€‚ å½“ç„¶ä¹Ÿæœ‰é€€è€Œæ±‚å…¶æ¬¡çš„åŠæ³•ï¼Œå°±æ˜¯åˆ©ç”¨ä¸Šè¿°æåˆ°çš„åŒBufferæ¨¡å‹ã€‚ä¸ä¾èµ–Rediså–å·ï¼Œç›´æ¥é€šè¿‡ç¨‹åºæ§åˆ¶ï¼Œåˆ©ç”¨æœºå™¨å†…å­˜ã€‚æ‰€ä»¥å½“éœ€è¦é‡å¯å‘å·æœåŠ¡ä¹‹å‰ï¼Œè¦ç¡®ä¿ä¾èµ–çš„ç»„ä»¶æ˜¯è¿è¡Œè‰¯å¥½çš„ï¼Œä¸ç„¶å·æ®µå°±ä¸¢å¤±äº†ã€‚&lt;/p&gt;
&lt;p&gt;â‘¡ è¦ä¸è¦æŒä¹…åŒ–çš„é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜ä¸»è¦æ˜¯é’ˆå¯¹Redisï¼Œå¦‚æœæ²¡æœ‰è®°å½•ä¸‹å½“å‰çš„å–å·è¿›åº¦ï¼Œé‚£ä¹ˆéšç€Redisçš„å®•æœºï¼Œå–å·ç°åœºå°±å˜å¾—éš¾ä»¥æ¢å¤äº†ï¼›å¦‚æœæ¯æ¬¡éƒ½è®°å½•å–å·è¿›åº¦ï¼Œé‚£ä¹ˆè¿™ç§I/Oé«˜å¯†åº¦å‹çš„ä½œä¸šä¼šå¯¹æœåŠ¡æ€§èƒ½ é€ æˆä¸€å®šå½±å“ï¼Œå¹¶ä¸”éšç€å–å·çš„æ—¶é—´å»¶é•¿ï¼Œæ¢å¤å–å·ç°åœºå°±å˜å¾—è¶Šæ¥è¶Šæ…¢äº†ï¼Œç”šè‡³åˆ°æœ€åæ˜¯æ— æ³•å¿å—çš„ã€‚é™¤äº†å¯¹Redisåšé«˜å¯ç”¨ä¹‹å¤–ï¼Œå¼•å…¥MongoDBä¹Ÿæ˜¯å‡ºäºå¯¹RedisæŒä¹…åŒ–åŠŸèƒ½è¾…åŠ©çš„è€ƒè™‘ã€‚ ä¸ªäººå»ºè®®ï¼šå¦‚æœRediså·²ç»é›†ç¾¤åŒ–äº†ï¼Œè€Œä¸”è¿˜å¼€å¯äº†åŒBufferçš„ç­–ç•¥ï¼Œä»¥åŠMongoDBçš„åŠ æŒï¼Œå¯ä»¥ä¸ç”¨å†å¼€å¯Redisçš„æŒä¹…åŒ–äº†ã€‚ å¦‚æœè€ƒè™‘åˆ°æç«¯æƒ…å†µä¸‹ï¼ŒRedisè¿˜æ˜¯å®•æœºäº†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨MongoDBé‡Œé¢å­˜ä¸‹æ¥çš„maxï¼Œå°±max+1èµ‹å€¼ç»™curï¼ˆé¿å…ä¸Šä¸ªå·æ®µå–å®Œï¼Œæ­£å¥½å®•æœºäº†ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;â‘¢ MongoDBå®•æœºã€‚è¿™ä¸ªé—®é¢˜ä¸æ˜¯å¾ˆä¸¥é‡ï¼Œåªè¦å°†stepé€‚å½“æ‹‰é•¿ä¸€äº›ï¼ˆè‡³å°‘å–å·èƒ½æ”¯æ’‘20åˆ†é’Ÿï¼‰ï¼Œåˆ©ç”¨Redisè¿˜åœ¨æ­£å¸¸å–å·çš„æ—¶é—´æ¥æŠ¢æ•‘MongoDBã€‚ä¸è¿‡ï¼Œè€ƒè™‘åˆ°å®é™…å¯èƒ½æ²¡è¿™ä¹ˆå¿«æ¢å¤mongoæœåŠ¡ï¼Œå¯ä»¥åœ¨ç¨‹åºä¸­é‡‡å– ä¸€äº›å®¹é”™æªæ–½ï¼Œæ¯”å¦‚å·æ®µç”¨å®Œäº†ï¼ŒmongoæœåŠ¡æ— æ³•åˆ°è¾¾ï¼Œç›´æ¥å…³é—­å–å·é€šé“ï¼Œç›´åˆ°MongoDBèƒ½æ­£å¸¸ä½¿ç”¨ï¼›æˆ–è€…ç¨‹åºç»™ä¸€ä¸ªé»˜è®¤çš„stepï¼Œè®©MongoDBä¸­çš„maxå»¶é•¿åˆ°max+step*nï¼ˆå¯èƒ½å–äº†Nä¸ªå·æ®µMongoDBæ‰æ¢å¤è¿‡æ¥ï¼‰ï¼Œ è¿™æ ·å–å·æœåŠ¡ä¹Ÿå¯ä»¥ç»§ç»­ã€‚ä¾é ç¨‹åºæœ¬èº«ç»§ç»­æœåŠ¡ï¼Œé‚£ä¹ˆéœ€è¦æœ‰ç›¸å…³çš„logï¼Œè¿™æ ·æ‰æœ‰åˆ©äºæ¢å¤MongoDBä¸­çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;â‘£ å–å·æœåŠ¡å®•æœºã€‚è¿™ä¸ªæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œåªèƒ½å°½å¿«æ¢å¤æœåŠ¡è¿è¡Œäº†ã€‚&lt;/p&gt;
&lt;p&gt;â‘¤ Redisï¼ŒMongoDBéƒ½å®•æœºäº†ã€‚è¿™ç§æƒ…å†µå·²ç»å¾ˆæç«¯äº†ï¼Œåªèƒ½åˆ©ç”¨åŒBufferç­–ç•¥ï¼Œä»¥åŠç¨‹åºé»˜è®¤çš„è®¾ç½®è¿›è¡Œå·¥ä½œäº†ï¼ŒåŒæ ·è¦æœ‰ç›¸å…³çš„logï¼Œä»¥ä¾¿æ¢å¤Rediså’ŒMongoDBã€‚&lt;/p&gt;
&lt;p&gt;â‘¥ éƒ½å®•æœºäº†ã€‚æˆ‘æœ‰ä¸€å¥mmpä¸çŸ¥å½“è®²ä¸å½“è®²â€¦â€¦&lt;/p&gt;
&lt;h4 id=&#34;2snowflake&#34;&gt;2ã€snowflake&lt;/h4&gt;
&lt;p&gt;ç¬¬äºŒç§ç­–ç•¥æ˜¯Twitterå‡ºå“ï¼Œç®—æ³•æ€æƒ³æ¯”è¾ƒå·§å¦™ï¼Œå®ç°çš„éš¾åº¦ä¹Ÿä¸å¤§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201206210341.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šç¤ºæ„å›¾æè¿°äº†ä¸€ä¸ªåºåˆ—å·çš„äºŒè¿›åˆ¶ç»„æˆç»“æ„ã€‚ ç¬¬ä¸€ä½ä¸ç”¨ï¼Œæ’ä¸º0ï¼Œå³è¡¨ç¤ºæ­£æ•´æ•°ï¼› æ¥ä¸‹æ¥çš„41ä½è¡¨ç¤ºæ—¶é—´æˆ³ï¼Œç²¾ç¡®åˆ°æ¯«ç§’ã€‚ä¸ºäº†èŠ‚çº¦ç©ºé—´ï¼Œå¯ä»¥å°†æ­¤æ—¶é—´æˆ³å®šä¹‰ä¸ºè·ç¦»æŸä¸ªæ—¶é—´ç‚¹æ‰€ç»å†çš„æ¯«ç§’æ•°ï¼ˆJavaé»˜è®¤æ˜¯1970-01-01 00:00:00ï¼‰ï¼› å†åæ¥çš„10ä½ç”¨æ¥æ ‡è¯†å·¥ä½œæœºå™¨ï¼Œå¦‚æœå‡ºç°äº†è·¨IDCçš„æƒ…å†µï¼Œå¯ä»¥å°†è¿™10ä½ä¸€åˆ†ä¸ºäºŒï¼Œä¸€éƒ¨åˆ†ç”¨äºæ ‡è¯†IDCï¼Œä¸€éƒ¨åˆ†ç”¨äºæ ‡è¯†æœåŠ¡å™¨ï¼› æœ€å12ä½æ˜¯åºåˆ—å·ï¼Œè‡ªå¢é•¿ã€‚&lt;/p&gt;
&lt;p&gt;snowflakeçš„æ ¸å¿ƒæ€æƒ³æ˜¯64bitçš„åˆç†åˆ†é…ï¼Œä½†ä¸å¿…è¦ä¸¥æ ¼æŒ‰ç…§ä¸Šå›¾æ‰€ç¤ºçš„åˆ†æ³•ã€‚ å¦‚æœåœ¨æœºå™¨è¾ƒå°‘çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é€‚å½“ç¼©çŸ­æœºå™¨idçš„é•¿åº¦ï¼Œç•™å‡ºæ¥ç»™åºåˆ—å·ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œsnowflakeçš„ç®—æ³•å°†ä¼šé¢ä¸´ä¸¤ä¸ªæŒ‘æˆ˜ï¼š&lt;/p&gt;
&lt;p&gt;â‘  æœºå™¨idçš„æŒ‡å®šã€‚è¿™ä¸ªé—®é¢˜åœ¨åˆ†å¸ƒå¼çš„ç¯å¢ƒä¸‹ä¼šæ¯”è¾ƒçªå‡ºï¼Œé€šå¸¸çš„è§£å†³æ–¹æ¡ˆæ˜¯åˆ©ç”¨Redisæˆ–è€…Zookeeperè¿›è¡Œæœºå™¨æ³¨å†Œï¼Œç¡®ä¿æ³¨å†Œä¸Šå»çš„æœºå™¨idæ˜¯å”¯ä¸€çš„ã€‚ä¸ºäº†è§£å†³ å¼ºä¾èµ–Redisæˆ–è€…Zookeeperçš„é—®é¢˜ï¼Œå¯ä»¥å°†æœºå™¨idå†™å…¥æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;â‘¡ æœºå™¨idçš„ç”Ÿæˆè§„åˆ™ã€‚è¿™ä¸ªé—®é¢˜ä¼šæœ‰ä¸€äº›çº ç»“ï¼Œå› ä¸ºæœºå™¨idçš„ç”Ÿæˆå¤§è‡´è¦æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶ï¼ša. intç±»å‹(10bit)çº¯æ•°å­—ï¼Œb. ç›¸å¯¹ç¨³å®šï¼Œc. ä¸å…¶ä»–æœºå™¨è¦æœ‰æ‰€åŒºåˆ«ã€‚è‡³äºä¼˜é›…ç¾è§‚ï¼Œéƒ½æ˜¯å…¶æ¬¡äº†ã€‚å¯¹äºæœºå™¨idçš„å­˜å‚¨ï¼Œå¯ä»¥ä½¿ç”¨HASHç»“æ„ï¼ŒKEYçš„è§„åˆ™æ˜¯â€œapplication-name.port.ipâ€ï¼Œå…¶ä¸­ipæ˜¯é€šè¿‡ç®—æ³•è½¬æ¢æˆäº†ä¸€æ®µé•¿æ•´å‹çš„çº¯æ•°å­—ï¼ŒVALUEåˆ™æ˜¯æœºå™¨idï¼Œ æœåŠ¡idï¼Œæœºæˆ¿idï¼Œå…¶ä¸­ï¼Œå¯ä»¥é€šè¿‡æœåŠ¡idå’Œæœºæˆ¿idåæ¨å‡ºæœºå™¨idã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾æœåŠ¡id(workerId)å 8bitï¼Œæœºæˆ¿id(rackId)å 2bitï¼Œä»1å¼€å§‹ï¼ŒworkerId=00000001ï¼ŒrackId=01ï¼ŒmachineId=00000000101 å¦‚æœç”¨Rediså­˜å‚¨ï¼Œå…¶è¡¨ç°å½¢å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201206210414.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœå­˜å‚¨åœ¨æ–‡ä»¶ä¸­ï¼ˆå»ºè®®propertiesæ–‡ä»¶ï¼‰ï¼Œåˆ™æ–‡ä»¶åæ˜¯sequence-client:8112:3232235742.propertiesï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201206210429.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœå‘å·æœåŠ¡ä¸Šçº¿ï¼Œç›´æ¥æŒ‰ç…§â€œapplication-name.port.ipâ€çš„è§„åˆ™å–å…¶å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;â‘¢ æ—¶é’Ÿå›æ‹¨ã€‚å› ä¸ºsnowflakeå¯¹ç³»ç»Ÿæ—¶é—´æ˜¯å¾ˆä¾èµ–çš„ï¼Œæ‰€ä»¥å¯¹äºæ—¶é’Ÿçš„æ³¢åŠ¨æ˜¯å¾ˆæ•æ„Ÿçš„ï¼Œå°¤å…¶æ˜¯æ—¶é’Ÿå›æ‹¨ï¼Œå¾ˆæœ‰å¯èƒ½å°±ä¼šå‡ºç°é‡å¤å‘å·çš„æƒ…å†µã€‚æ—¶é’Ÿå›æ‹¨é—®é¢˜è§£å†³ç­–ç•¥é€šå¸¸æ˜¯ç›´æ¥æ‹’ç»å‘å·ï¼Œç›´åˆ°æ—¶é’Ÿæ­£å¸¸ï¼Œå¿…è¦æ—¶è¿›è¡Œå‘Šè­¦ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸‰-ç¨‹åºè®¾è®¡&#34;&gt;ä¸‰ ç¨‹åºè®¾è®¡&lt;/h3&gt;
&lt;p&gt;æ•´ä¸ªå‘å·è¿‡ç¨‹å¯ä»¥åˆ†æˆä¸‰ä¸ªå±‚æ¬¡ï¼š&lt;/p&gt;
&lt;p&gt;1ã€ç­–ç•¥å±‚(strategy layer)ï¼šè¿™ä¸ªå±‚é¢å†³å®šçš„æ˜¯å‘å·æ–¹æ³•/ç®—æ³•ï¼Œæ¶µç›–äº†ä¸Šè¿°æ‰€è®²çš„segmentå’Œsnowflakeä¸¤ç§æ–¹å¼ï¼Œå½“ç„¶ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥è‡ªå·±æ‰©å±•å®ç°å…¶ä»–å‘å·ç­–ç•¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201206210445.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æœ€é¡¶ä¸Šå®šä¹‰Sequenceå®é™…ä¸Šå°±æ˜¯å‘å·çš„ç»“æœã€‚bizTypeæ˜¯å¯¹å‘å·ä¸šåŠ¡åœºæ™¯çš„å®šä¹‰ï¼Œæ¯”å¦‚è®¢å•å·ï¼Œç”¨æˆ·IDï¼Œé‚€è¯·å¥½å‹çš„åˆ†äº«ç ã€‚ å‘å·ç­–ç•¥çš„initæ¥å£æ˜¯å‘å·å‰çš„åˆå§‹åŒ–å·¥ä½œï¼Œè€Œgenerateæ¥å£å°±æ˜¯è°ƒç”¨å‘å·å™¨çš„ä¸»å…¥å£äº†ã€‚ å½“ç„¶ï¼Œè€ƒè™‘åˆ°å„ç§å¼‚å¸¸æƒ…å†µï¼ŒåŠ å…¥äº†æ‹’ç»å‘å·çš„å¤„ç†å™¨ï¼ˆSequenceRejectedHandlerï¼‰ï¼Œé»˜è®¤å®ç°åªæ˜¯è®°å½•æ—¥å¿—ï¼Œç”¨æˆ·å¯æ ¹æ®éœ€æ±‚å»å®ç°è¯¥å¤„ç†å™¨ï¼Œç„¶åç”¨setæ–¹æ³•è®¾ç½®å‘å·ç­–ç•¥çš„æ‹’ç»å¤„ç†å™¨ã€‚&lt;/p&gt;
&lt;p&gt;2ã€æ’ä»¶å±‚(plugin layer)ï¼šæ­¤å¤„çš„æ’ä»¶å¯ä»¥ç†è§£æ˜¯ä¸€ç§æ‹¦æˆªå™¨ï¼Œè´¯ç©¿SequenceStrategyçš„å‘å·å…¨å‘¨æœŸã€‚å¼•å…¥æ’ä»¶åï¼Œæ— ç–‘æ˜¯ä¸°å¯Œäº†æ•´ä¸ªå‘å·çš„æ“ä½œè¿‡ç¨‹ï¼Œç”¨æˆ·å¯ä»¥ä»ä¸­å¹²é¢„åˆ°å‘å·çš„æ•´ä¸ªæµç¨‹ï¼Œä»¥ä¾¿è¾¾åˆ°å…¶ä»–çš„ç›®çš„ï¼Œæ¯”å¦‚ï¼šè®°å½•å‘å·å†å²ï¼Œç»Ÿè®¡å‘å·é€Ÿç‡ï¼Œå‘å·äºŒæ¬¡æ··æ·†ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201206210511.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹å‡ºï¼Œæ’ä»¶è¢«è®¾è®¡æˆã€æ³¨å†Œå¼ã€çš„ï¼Œå‘å·ç­–ç•¥åªæœ‰æ³¨å†Œäº†ç›¸å…³æ’ä»¶ä¹‹åï¼Œæ’ä»¶æ‰èƒ½ç”Ÿæ•ˆï¼Œ å½“ç„¶ï¼Œä¸€ä¸ªæ’ä»¶èƒ½è¢«å¤šä¸ªå‘å·ç­–ç•¥æ‰€æ³¨å†Œï¼Œä¸€ä¸ªå‘å·ç­–ç•¥ä¹Ÿèƒ½åŒæ—¶æ³¨å†Œå¤šä¸ªæ’ä»¶ï¼Œæ‰€ä»¥ä¸¤è€…æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ï¼ŒPluginManagerçš„å‡ºç°å°±æ˜¯è§£å†³æ’ä»¶çš„æ³¨å†Œç®¡ç†é—®é¢˜ã€‚ ä»SequencePluginçš„å®šä¹‰ä¸­å¯ä»¥å‘ç°ï¼Œæ’ä»¶æ˜¯æœ‰ä¼˜å…ˆçº§ï¼ˆOrderï¼‰çš„ï¼Œé€šè¿‡getOrder()å¯ä»¥è·å¾—ï¼Œåœ¨è¿™å¥—å‘å·ç³»ç»Ÿé‡Œï¼ŒOrderå€¼è¶Šå°ï¼Œè¡¨ç¤ºè¯¥æ’ä»¶è¶Šä¼˜å…ˆæ‰§è¡Œã€‚æ­¤å¤–ï¼Œæ’ä»¶æœ‰ä¸‰ä¸ªé‡è¦çš„æ“ä½œï¼š beforeï¼Œè¡¨ç¤ºå‘å·ä¹‹å‰çš„å¤„ç†ã€‚è‹¥è¿”å›äº†falseï¼Œé‚£ä¹ˆè¯¥æ’ä»¶åé¢çš„æ“ä½œéƒ½å¤±æ•ˆäº†ï¼Œå¦åˆ™ç»§ç»­æ‰§è¡Œå‘å·æµç¨‹ã€‚ afterï¼Œè¡¨ç¤ºå‘å·ä¹‹åçš„å¤„ç†ã€‚ doExceptionï¼Œè¡¨ç¤ºæ’ä»¶å‘ç”Ÿå¼‚å¸¸çš„å¤„ç†æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;3ã€æŒä¹…å±‚(persistence layer)ï¼šè¿™ä¸ªå±‚é¢æŒ‡ä»£çš„æ˜¯ä¸Šè¿°æ‰€æçš„MongoDBéƒ¨åˆ†ï¼Œå¦‚æœä¸éœ€è¦æŒä¹…åŒ–çš„æ”¯æŒï¼Œå¯ä»¥ä¸å®ç°æ­¤æ¥å£ï¼Œé‚£ä¹ˆæ•´ä¸ªå‘å·å™¨å°±å˜æˆçº¯å†…å­˜ç®¡ç†çš„äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201206210529.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;PersistRepositoryå®šä¹‰äº†åŸºæœ¬çš„CRUDæ–¹æ³•ï¼Œå…¶ä¸­persistIdå¯ä»¥ç†è§£æˆä¸Šè¿°æåˆ°çš„BizTypeã€‚ ä¸€åˆ‡çš„æŒä¹…åŒ–å¯¹è±¡éƒ½æ˜¯ä»PersistModelå¼€å§‹çš„ï¼Œä¸Šå›¾ä¸­çš„Segmentã€PersistDocumentéƒ½æ˜¯ä¸ºäº†å®ç°åˆ†æ®µå‘å·å™¨è€Œå®šä¹‰çš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å››-æ€»ç»“&#34;&gt;å›› æ€»ç»“&lt;/h3&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« è¯¦ç»†é˜è¿°äº†åˆ†å¸ƒå¼å‘å·å™¨ç³»ç»Ÿçš„è®¾è®¡ï¼Œæ—¨åœ¨èƒ½åšå‡ºä¸€ä¸ªå¯æ‰©å±•ï¼Œæ˜“ç»´æŠ¤çš„å‘å·ç³»ç»Ÿã€‚ä¸šç•Œæ¯”è¾ƒçŸ¥åçš„å‘å·ç®—æ³•ä¼¼ä¹ä¹Ÿä¸å¤šï¼Œæ•´ä¸ªå‘å·ç³»ç»Ÿä¸ä¸€å®šå°±æŒ‰ç…§ç¬”è€…æ‰€åšçš„è®¾è®¡ï¼Œè¿˜æ˜¯è¦ç«‹è¶³äºå…·ä½“çš„ä¸šåŠ¡éœ€æ±‚ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Go åŸºç¡€è¯­æ³•</title>
        <link>https://lxb.wiki/936ea20/</link>
        <pubDate>Fri, 03 May 2019 23:19:02 +0000</pubDate>
        
        <guid>https://lxb.wiki/936ea20/</guid>
        <description>&lt;p&gt;æœ‰æ„æ€çš„å˜é‡å’Œä¸å®‰åˆ†çš„å¸¸é‡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å˜é‡é»˜è®¤åˆå§‹åŒ–æœ‰é›¶å€¼&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func TestVariableZeroValue(t *testing.T) {
    var a int
    var s string
    // 0
    t.Log(a, s)
    // 0 &amp;#34;&amp;#34;
    t.Logf(&amp;#34;%d %q&amp;#34;, a, s)
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;int ç±»å‹çš„å˜é‡åˆå§‹åŒ–é»˜è®¤é›¶å€¼æ˜¯é›¶ 0, string ç±»å‹çš„å˜é‡é»˜è®¤åˆå§‹åŒ–é›¶å€¼æ˜¯ç©ºå­—ç¬¦ä¸² ,å…¶ä»–ç±»å‹ä¹Ÿæœ‰ç›¸åº”çš„é›¶å€¼.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤šä¸ªå˜é‡å¯ä»¥åŒæ—¶èµ‹å€¼&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func TestVariableInitialValue(t *testing.T) {
    var a, b int = 1, 2
    var s string = &amp;#34;hello Go&amp;#34;
    // 1 2 hello Go
    t.Log(a, b, s)
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å…¶ä»–ä¸»è¦çš„ç¼–ç¨‹è¯­è¨€å¤§å¤šæ”¯æŒå¤šä¸ªå˜é‡åˆå§‹åŒ–,ä½†æå°‘æ•°æœ‰åƒ Go è¯­è¨€è¿™æ ·,ä¸ä»…æ”¯æŒåŒæ—¶åˆå§‹åŒ–,è¿˜å¯ä»¥åŒæ—¶èµ‹å€¼.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤šä¸ªå˜é‡å¯ä»¥ç”¨å°æ‹¬å· () ç»Ÿä¸€å®šä¹‰&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func TestVariableShorter(t *testing.T) {
    var (
    a int    = 1
    b int    = 2
    s string = &amp;#34;hello go&amp;#34;
    )
    // 1 2 hello Go
    t.Log(a, b, s)
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç”¨å°æ‹¬å· () æ–¹å¼,çœç•¥äº†ç›¸åŒçš„ var å…³é”®å­—,çœ‹èµ·æ¥æ›´åŠ ç»Ÿä¸€&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å˜é‡ç±»å‹å¯ä»¥è¢«è‡ªåŠ¨æ¨æ–­&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;TestVariableTypeDeduction&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;testing&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;T&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; = &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;hello Go&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// 1 2 hello Go
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Log&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Go è¯­è¨€å¯ä»¥æ ¹æ®å˜é‡å€¼æ¨æµ‹å‡ºå˜é‡ç±»å‹,æ‰€ä»¥å¯ä»¥çœç•¥å˜é‡ç±»å‹,å†ä¸€æ¬¡ç®€åŒ–äº†å˜é‡å®šä¹‰,ä½†æ˜¯å˜é‡ç±»å‹ä»ç„¶æ˜¯å¼ºç±»å‹,å¹¶ä¸åƒ Js é‚£æ ·çš„å¼±ç±»å‹.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å˜é‡å¯ä»¥ç”¨ := å½¢å¼æ›´åŠ ç®€åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;func TestVariableTypeDeductionShorter(t *testing.T) {
    a, b, s := 1, 2, &amp;#34;hello Go&amp;#34;
    // 1 2 hello Go
    t.Log(a, b, s)
    s = &amp;#34;hello golang&amp;#34;
    // 1 2 hello golang

    t.Log(a, b, s)
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;çœç•¥äº†å…³é”®å­— var,è½¬è€Œä½¿ç”¨ := ç¬¦å·å£°æ˜å¹¶åˆå§‹åŒ–å˜é‡å€¼ä¸”åˆ©ç”¨è‡ªåŠ¨ç±»å‹æ¨æ–­èƒ½åŠ›è¿›ä¸€æ­¥å°±ç®€åŒ–å˜é‡å®šä¹‰,å†æ¬¡èµ‹å€¼æ—¶ä¸èƒ½å†ä½¿ç”¨ := ç¬¦å·.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å˜é‡ var å£°æ˜ä½œç”¨åŸŸå¤§äºå˜é‡ := å£°æ˜&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;1. var globalTestId = 2

2. // globalTestName := &amp;#34;type_test&amp;#34; is not supported

3. var globalTestName = &amp;#34;type_test&amp;#34;

4. 

5. func TestVariableScope(t *testing.T) {

6. ```
    // 2 type_test
    ```

7. ```
    t.Log(globalTestId, globalTestName)
    ```

8. 

9. ```
    globalTestName = &amp;#34;TestVariableScope&amp;#34;
    ```

10. 

11. ```
    // 2 TestVariableScope
    ```

12. ```
    t.Log(globalTestId, globalTestName)
    ```

13. }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;var å£°æ˜çš„å˜é‡å¯ä»¥ä½œç”¨äºå‡½æ•°å¤–æˆ–å‡½æ•°å†…,è€Œ := å£°æ˜çš„å˜é‡åªèƒ½ä½œç”¨äºå‡½æ•°å†…, Go å¹¶æ²¡æœ‰å…¨å±€å˜é‡çš„æ¦‚å¿µ,å˜é‡çš„ä½œç”¨èŒƒå›´åªæ˜¯é’ˆå¯¹åŒ…è€Œè¨€.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¸¸é‡çš„ä½¿ç”¨æ–¹å¼å’Œå˜é‡ä¸€è‡´&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;1. func TestConstant(t *testing.T) {

2. ```
    const a, b = 3, 4
    ```

3. ```
    const s = &amp;#34;hello Go&amp;#34;
    ```

4. 

5. ```
    // 3 4 hello Go
    ```

6. ```
    t.Log(a, b, s)
    ```

7. }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¸¸é‡å£°æ˜å…³é”®å­— const,å¸¸é‡å’Œå˜é‡çš„ä½¿ç”¨æ–¹å¼ä¸€è‡´,å…·å¤‡ç±»å‹æ¨æ–­èƒ½åŠ›,ä¹Ÿå­˜åœ¨å¤šç§ç®€åŒ–å¸¸é‡å®šä¹‰çš„å½¢å¼.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è™½ç„¶æ²¡æœ‰æšä¸¾ç±»å‹,ä½†å¯ä»¥ç”¨ iota é…åˆå¸¸é‡æ¥å®ç°æšä¸¾&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;1. func TestConstant2Enum(t *testing.T) {

2. ```
    const (
    ```

3. ```
    java = iota
    ```

4. ```
    golang
    ```

5. ```
    cpp
    ```

6. ```
    python
    ```

7. ```
    javascript
    ```

8. ```
    )
    ```

9. ```
    // 0 1 2 3 4
    ```

10. ```
    t.Log(java, golang,cpp,python,javascript)
    ```

11. }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;iota åœ¨ä¸€ç»„å¸¸é‡å®šä¹‰ä¸­é¦–æ¬¡å‡ºç°æ—¶,å…¶å€¼ä¸º 0,åº”ç”¨åˆ°ä¸‹ä¸€ä¸ªå¸¸é‡æ—¶,å…¶å€¼ä¸ºå¼€å§‹è‡ªå¢ 1,å†æ¬¡é‡åˆ° iota æ¢å¤ 0 .æ•ˆæœéå¸¸åƒ for å¾ªç¯ä¸­çš„å¾ªç¯ç´¢å¼• i,æ˜æ˜æ˜¯å¸¸é‡,ååç©å‡ºäº†å˜é‡çš„å‘³é“,ä¹Ÿæ˜¯æˆ‘è§‰å¾— iota ä¸å®‰åˆ†çš„åŸå› .&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¸¸é‡ iota æœ‰å¦™ç”¨,è¿˜å¯ä»¥è¿›è¡Œä½è¿ç®—&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;1. func TestConstantIotaBitCalculate(t *testing.T){

2. ```
    const (
    ```

3. ```
    Readable = 1 &amp;lt;&amp;lt; iota
    ```

4. ```
    Writable
    ```

5. ```
    Executable
    ```

6. ```
    )
    ```

7. ```
    // 0001 0010 0100 å³ 1 2 4
    ```

8. ```
    t.Log(Readable, Writable, Executable)
    ```

9. 

10. ```
    // 0111 å³ 7,è¡¨ç¤ºå¯è¯»,å¯å†™,å¯æ‰§è¡Œ
    ```

11. ```
    accessCode := 7
    ```

12. ```
    t.Log(accessCode&amp;amp;Readable == Readable, accessCode&amp;amp;Writable == Writable, accessCode&amp;amp;Executable == Executable)
    ```

13. }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å®šä¹‰äºŒè¿›åˆ¶ä½æœ€ä½ä½ä¸º 1 æ—¶è¡¨ç¤ºå¯è¯»çš„,å·¦ç§»ä¸€ä½è¡¨ç¤ºå¯å†™çš„,å·¦ç§»ä¸¤ä½è¡¨ç¤ºå¯æ‰§è¡Œçš„,æŒ‰ç…§æŒ‰ä½ä¸è¿ç®—é€»è¾‘,ç›®æ ‡æƒé™ä½è‹¥æ‹¥æœ‰å¯è¯»æƒé™,æ­¤æ—¶å’Œå¯è¯»å¸¸é‡è¿›è¡ŒæŒ‰ä½ä¸è¿ç®—ä¹‹åçš„ç»“æœä¸€å®šæ˜¯å¯è¯»çš„,ç”±æ­¤å¯è§, iota éå¸¸é€‚åˆæ­¤ç±»æ“ä½œ.&lt;/p&gt;
&lt;p&gt;æ€»ä½“æ¥è¯´, Go è¯­è¨€ä¸­çš„å˜é‡å¾ˆæœ‰æ„æ€,å¸¸é‡ iota ä¸é‚£ä¹ˆå®‰åˆ†,ä»ä¸Šè¿°å½’çº³æ€»ç»“ä¸­ä¸éš¾çœ‹å‡º, Go è¯­è¨€å’Œå…¶ä»–ä¸»æµçš„ç¼–ç¨‹è¯­è¨€è¿˜æ˜¯æœ‰å¾ˆå¤§ä¸åŒçš„,å­¦ä¹ æ—¶è¦ä¾§é‡äºè¿™äº›ç‰¹æ®Šä¹‹å¤„.&lt;/p&gt;
&lt;p&gt;å¦‚æœæƒ³è¦å›é¡¾æœ¬èŠ‚çŸ¥è¯†ç‚¹,å¯ä»¥å…³æ³¨å…¬ä¼—å·[é›ªä¹‹æ¢¦æŠ€æœ¯é©¿ç«™]æ‰¾åˆ°&lt;a class=&#34;link&#34; href=&#34;https://mp.weixin.qq.com/s?__biz=MzU3NTc1MDMwOQ==&amp;amp;mid=2247484101&amp;amp;idx=1&amp;amp;sn=e93944978b6b88d2594e40d8ca9527fa&amp;amp;scene=21#wechat_redirect&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;go å­¦ä¹ ç¬”è®°ä¹‹æœ‰æ„æ€çš„å˜é‡å’Œä¸å®‰åˆ†çš„å¸¸é‡&lt;/a&gt; è¿™ç¯‡æ–‡ç« è¿›è¡ŒæŸ¥çœ‹.&lt;/p&gt;
&lt;p&gt;ç®€æ´çš„ç±»å‹ä¸­æ ¼å¤–å…³ç…§äº†å¤æ•°&lt;/p&gt;
&lt;p&gt;åœ¨å­¦ä¹  Go è¯­è¨€ä¸­çš„å˜é‡å’Œå¸¸é‡æ—¶,è™½ç„¶æ²¡æœ‰ç‰¹æ„å¼ºè°ƒå˜é‡æˆ–å¸¸é‡çš„ç±»å‹,ä½†æ˜¯å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€çš„ç±»å‹åŸºæœ¬éƒ½æ˜¯å·®ä¸å¤šçš„,æ¯•ç«Ÿå¤§å®¶æ‰€å¤„çš„ç°å®ä¸–ç•Œæ˜¯ä¸€æ ·çš„å˜›!&lt;/p&gt;
&lt;p&gt;å…‰æ˜¯çŒœæµ‹æ˜¯ä¸å¤Ÿçš„,ç°åœ¨æˆ‘ä»¬è¦æ¢³ç†ä¸€é Go è¯­è¨€çš„ç±»å‹æœ‰å“ªäº›,å’Œå…¶ä»–ä¸»æµçš„ç¼–ç¨‹è¯­è¨€ç›¸æ¯”æœ‰ä»€ä¹ˆä¸åŒ?&lt;/p&gt;
&lt;p&gt;Go è¯­è¨€çš„å˜é‡ç±»å‹å¤§è‡´å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç§:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;bool&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¸ƒå°”ç±»å‹ bool,è¡¨ç¤ºçœŸå‡ true|false&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;(u)int , (u)int8 , (u)int16, (u)int32, (u)int64, uintptr&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;int ç±»å‹è¡¨ç¤ºæ•´æ•°,è™½ç„¶ä¸å¸¦ä½æ•°å¹¶ä¸è¡¨ç¤ºæ²¡æœ‰ä½æ•°, 32 ä½æ“ä½œç³»ç»Ÿæ—¶é•¿åº¦ä¸º 32 ä½, 64 ä½æ“ä½œç³»ç»Ÿæ—¶é•¿åº¦ä¸º 64 ä½.æœ€åä¸€ä¸ª uintptr æ˜¯æŒ‡é’ˆç±»å‹.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;byte(uint8) , rune(int32), string&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;byte æ˜¯å­—èŠ‚ç±»å‹,ä¹Ÿæ˜¯ uint8 çš„åˆ«å,è€Œ rune æ˜¯ Go ä¸­çš„å­—ç¬¦ç±»å‹,ä¹Ÿæ˜¯ int32 çš„åˆ«å.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;float32 , float64 , complex64 , complex128&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åªæœ‰ float ç±»å‹è¡¨ç¤ºå°æ•°,æ²¡æœ‰ double ç±»å‹,ç±»å‹è¶Šå°‘å¯¹äºå¼€å‘è€…è€Œè¨€è¶Šç®€å•,ä¸æ˜¯å—? complex64=float32+float32 æ˜¯å¤æ•°ç±»å‹,æ²¡é”™!å°±æ˜¯é«˜ä¸­æ•°å­¦ä¹¦æœ¬ä¸Šçš„å¤æ•°, 3+4i é‚£ç§å¥‡æ€ªçš„æ•°å­—!&lt;/p&gt;
&lt;p&gt;Go çš„ç±»å‹è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„,æ•´æ•°,å°æ•°,å¤æ•°,å­—èŠ‚,å­—ç¬¦å’Œå¸ƒå°”ç±»å‹,ç›¸åŒç§ç±»çš„ç±»å‹æ²¡æœ‰ç»§ç»­ç»†åˆ†ä¸åŒçš„åç§°è€Œæ˜¯ç›´æ¥æ ¹æ®ç±»å‹é•¿åº¦è¿›è¡Œå‘½åçš„,è¿™æ ·æ˜¯éå¸¸ç›´è§‚çš„,è§åçŸ¥æ„,æ ¹æ®æ•°æ®å¤§å°ç›´æ¥é€‰ç”¨ç±»å‹,ä¸è´¹è„‘!&lt;/p&gt;
&lt;p&gt;ä½œä¸ºä¸€ç§é€šç”¨çš„ç¼–ç¨‹è¯­è¨€, Go å†…å»ºç±»å‹ä¸­å±…ç„¶æ ¼å¤–å…³ç…§äº†å¤æ•°è¿™ç§æ•°å­¦æ¦‚å¿µç±»å‹,æ˜¯ä¸€ä»¶æœ‰æ„æ€çš„äº‹æƒ…,æ˜¯ä¸æ˜¯æ„å‘³ç€ Go åœ¨å·¥ç¨‹åŒ–é¡¹ç›®ä¸Šåšå¾—æ›´å¥½?å°±åƒ Go å¤©ç”Ÿæ”¯æŒå¹¶å‘ä¸€æ ·?&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶ä¸ºæ•°ä¸å¤šçš„ç±»å‹ä¸­æ ¼å¤–å…³ç…§äº†å¤æ•°ç±»å‹,é‚£æˆ‘ä»¬ç®€å•ä½¿ç”¨ä¸‹å¤æ•°ç±»å‹å§,æ¯•ç«Ÿå…¶ä»–ç±»å‹å’Œå…¶ä»–ä¸»æµçš„ç¼–ç¨‹è¯­è¨€ç›¸å·®ä¸å¤§.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;1. func TestComplex(t *testing.T) {

2. ```
    c := 3 + 4i
    ```

3. 

4. ```
    // 5
    ```

5. ```
    t.Log(cmplx.Abs(c))
    ```

6. }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç”Ÿå‘½è‹¦çŸ­,ç›´æ¥åˆ©ç”¨å˜é‡ç±»å‹æ¨æ–­ç®€åŒ–å˜é‡å£°æ˜,æ±‚å‡ºå¤æ•°ç±»å‹ c çš„æ¨¡(ç»å¯¹å€¼)&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶å­¦ä¹ äº†å¤æ•°,æ€ä¹ˆèƒ½å°‘å¾—äº†æ¬§æ‹‰å…¬å¼,æ¯•ç«Ÿæ˜¯&amp;quot;ä¸–ç•Œä¸Šæœ€ç¾çš„å…¬å¼&amp;quot;,åˆšå¥½ç”¨åˆ°äº†å¤æ•°çš„ç›¸å…³çŸ¥è¯†,é‚£æˆ‘ä»¬å°±ç®€å•éªŒè¯ä¸€ä¸‹å§!&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;//note.youdao.com/src/39fd719ebc6278f7fddaf5a345fde1be&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;e&lt;!-- raw HTML omitted --&gt;iÏ€&lt;!-- raw HTML omitted --&gt; + 1 = 0&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;1. func TestEuler(t *testing.T) {

2. ```
    // (0+1.2246467991473515e-16i)
    ```

3. ```
    t.Log(cmplx.Pow(math.E, 1i*math.Pi) + 1)
    ```

4. 

5. ```
    // (0+1.2246467991473515e-16i)
    ```

6. ```
    t.Log(cmplx.Exp(1i*math.Pi) + 1)
    ```

7. 

8. ```
    // (0.000+0.000i)
    ```

9. ```
    t.Logf(&amp;#34;%.3f&amp;#34;, cmplx.Exp(1i*math.Pi)+1)
    ```

10. }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç”±äºå¤æ•° complex æ˜¯ä½¿ç”¨ float ç±»å‹è¡¨ç¤ºçš„,è€Œ float ç±»å‹æ— è®ºæ˜¯ä»€ä¹ˆç¼–ç¨‹è¯­è¨€éƒ½æ˜¯ä¸å‡†ç¡®çš„,æ‰€ä»¥æ¬§æ‹‰å…¬å¼çš„è®¡ç®—ç»“æœéå¸¸éå¸¸æ¥è¿‘äºé›¶,å½“åªä¿ç•™å°æ•°ç‚¹åä¸‰ä½æ—¶,è®¡ç®—ç»“æœä¾¿æ˜¯ (0.000+0.000i) ,å¤æ•°çš„æ¨¡ä¹Ÿå°±æ˜¯ 0,è‡³æ­¤éªŒè¯äº†æ¬§æ‹‰å…¬å¼.&lt;/p&gt;
&lt;p&gt;çœ‹è¿‡å¤æ•°è¿˜æ˜¯è¦ç ”ç©¶ç±»å‹ç‰¹ç‚¹&lt;/p&gt;
&lt;p&gt;å¤æ•°å¾ˆé‡è¦,ä½†å…¶ä»–ç±»å‹ä¹Ÿå¾ˆé‡è¦,ç®€å•äº†è§£è¿‡å¤æ•°çš„ç›¸å…³çŸ¥è¯†å,æˆ‘ä»¬ä»ç„¶è¦æŠŠæ³¨æ„åŠ›æ”¾åˆ°ç ”ç©¶è¿™äº›å†…å»ºç±»å‹çš„ç‰¹æ®Šä¹‹å¤„ä¸Šæˆ–è€…è¯´è¿™äº›ç±»å‹æ€»ä½“æ¥è¯´ç›¸å¯¹äºå…¶ä»–ä¸»æµçš„ç¼–ç¨‹è¯­è¨€æœ‰ä»€ä¹ˆå¼‚åŒ.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åªæœ‰æ˜¾ç¤ºç±»å‹è½¬æ¢,ä¸å­˜åœ¨éšå¼ç±»å‹è½¬æ¢&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;1. func TestExplicitTypeConvert(t *testing.T) {

2. ```
    var a, b int = 3, 4
    ```

3. ```
    var c int
    ```

4. ```
    c = int(math.Sqrt(float64(a*a + b*b)))
    ```

5. 

6. ```
    // 3 4 5
    ```

7. ```
    t.Log(a, b, c)
    ```

8. }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å·²çŸ¥å‹¾è‚¡å®šç†çš„ä¸¤æ¡ç›´è§’è¾¹è®¡ç®—æ–œè¾¹,æ ¹æ®å‹¾è‚¡å®šç†å¾—,ç›´è§’è¾¹é•¿åº¦çš„å¹³æ–¹å’Œå†å¼€æ ¹å·å³æ–œè¾¹é•¿åº¦,ç„¶è€Œ math.Sqrt æ–¹æ³•æ¥æ”¶çš„ float64 ç±»å‹,è¿”å›çš„ä¹Ÿæ˜¯ float64 ç±»å‹,å¯å®é™…å€¼å…¨æ˜¯ int ç±»å‹,è¿™ç§æƒ…å†µä¸‹å¹¶ä¸ä¼šè‡ªåŠ¨è¿›è¡Œç±»å‹è½¬æ¢,åªèƒ½è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢æ‰èƒ½å¾—åˆ°æˆ‘ä»¬çš„æœŸæœ›å€¼,è¿™å°±æ˜¯æ˜¾ç¤ºç±»å‹è½¬æ¢.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ«åç±»å‹å’ŒåŸç±»å‹ä¹Ÿä¸èƒ½è¿›è¡Œéšå¼ç±»å‹è½¬æ¢&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;1. func TestImplicitTypeConvert2(t *testing.T) {

2. ```
    type MyInt64 int64
    ```

3. 

4. ```
    var a int64 = 1
    ```

5. ```
    var b MyInt64
    ```

6. 

7. ```
    // b = a : cannot use a (type int64) as type MyInt64 in assignment
    ```

8. ```
    b = MyInt64(a)
    ```

9. ```
    t.Log(a, b)
    ```

10. }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;MyInt64 æ˜¯ int64 çš„åˆ«å,åˆ«åç±»å‹çš„ b å’ŒåŸç±»å‹çš„ a ä¹Ÿä¸èƒ½è¿›è¡Œä¹Ÿä¸èƒ½è¿›è¡Œéšå¼ç±»å‹è½¬æ¢,ä¼šæŠ¥é”™ cannotusea(type int64)astypeMyInt64inassignment,åªèƒ½è¿›è¡Œæ˜¾ç¤ºç±»å‹è½¬æ¢.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ”¯æŒæŒ‡é’ˆç±»å‹,ä½†ä¸æ”¯æŒä»»ä½•å½¢å¼çš„è®¡ç®—&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;1. func TestPointer(t *testing.T) {

2. ```
    var a int = 1
    ```

3. ```
    var pa *int = &amp;amp;a
    ```

4. 

5. ```
    // 0xc0000921d0 1 1
    ```

6. ```
    t.Log(pa, *pa, a)
    ```

7. 

8. ```
    *pa = 2
    ```

9. 

10. ```
    // 0xc0000901d0 2 2
    ```

11. ```
    t.Log(pa, *pa, a)
    ```

12. }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åŒæ ·çš„,æŒ‡é’ˆç±»å‹ä¹Ÿæ˜¯å…¶ä»–ç¼–ç¨‹è¯­è¨€åè¿‡æ¥ä¹¦å†™çš„,ä¸ªäººè§‰å¾—è¿™ç§åè€Œä¸é”™,æŒ‡å‘ int ç±»å‹çš„æŒ‡é’ˆ *int, &amp;amp;aæ˜¯å˜é‡ a çš„å†…å­˜åœ°å€,æ‰€ä»¥å˜é‡ pa å­˜çš„å°±æ˜¯å˜é‡ a çš„åœ°å€, *pa åˆšå¥½ä¹Ÿå°±æ˜¯å˜é‡ a çš„å€¼.&lt;/p&gt;
&lt;p&gt;ä¸Šä¾‹æ˜¾ç¤ºå£°æ˜äº†å˜é‡ç±»å‹å´æ²¡æœ‰åˆ©ç”¨åˆ° Go çš„ç±»å‹æ¨æ–­èƒ½åŠ›,æ‘†åœ¨é‚£çš„èƒ½åŠ›å´ä¸åˆ©ç”¨ç®€ç›´æ˜¯æµªè´¹,æ‰€ä»¥æä¾›ä¸€ç§æ›´ç®€çŸ­çš„æ–¹å¼é‡å†™ä¸Šè¿°ç¤ºä¾‹,å¹¶é¡ºä¾¿è§£é‡ŠååŠå¥: &amp;ldquo;æŒ‡é’ˆç±»å‹ä¸æ”¯æŒä»»ä½•å½¢å¼çš„è®¡ç®—&amp;rdquo;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;func TestPointerShorter(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;a := 1
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pa := &amp;amp;a
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// 0xc0000e6010 1 1
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(pa, *pa, a)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;*pa = 2
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;// 0xc0000e6010 2 2&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;11. ```
t.Log(pa, *pa, a)
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;12&#34;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;// pa = pa + 1 : invalid operation: pa + 1 (mismatched types *int and int)&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;14. ```
//pa = pa + 1
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;15&#34;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;// *int int int&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;17. ```
t.Logf(&amp;#34;%T %T %T&amp;#34;, pa, *pa,a)
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;18&#34;&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å˜é‡ pa æ˜¯æŒ‡é’ˆç±»å‹,å­˜å‚¨çš„æ˜¯å˜é‡çš„å†…å­˜åœ°å€,åªå¯è¿œè§‚è€Œä¸å¯äºµç©, *pa å°±æ˜¯æŒ‡é’ˆæ‰€æŒ‡å‘çš„å˜é‡çš„å€¼,å¯ä»¥è¿›è¡Œä¿®æ”¹,å½“ç„¶æ²¡é—®é¢˜å°±åƒå¯ä»¥é‡æ–°èµ‹å€¼å˜é‡ a ä¸€æ ·,ä½†æ˜¯æŒ‡é’ˆ pa æ˜¯ä¸å¯ä»¥è¿›è¡Œä»»ä½•å½¢å¼çš„è¿ç®—çš„, pa=pa+1 å°±ä¼šæŠ¥é”™ invalid operation.&lt;/p&gt;
&lt;p&gt;ä½ çŒœè¿ç®—ç¬¦æ“ä½œæœ‰æ²¡æœ‰å½©è›‹å‘¢&lt;/p&gt;
&lt;p&gt;å˜é‡å’Œç±»å‹è¿˜åªæ˜¯å­¤ç«‹çš„å£°æ˜è¯­å¥,æ²¡æœ‰è®¡ç®—ä¸æˆé€»è¾‘,å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç¨‹åºéƒ½æ˜¯é¢„å®šä¹‰çš„å˜é‡, Go çš„è¿ç®—ç¬¦æ˜¯ç®€å•è¿˜æ˜¯å¤æ‚å‘¢,è®©æˆ‘ä»¬äº²è‡ªä½“éªŒä¸€ä¸‹!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç®—æœ¯è¿ç®—ç¬¦å°‘äº† ++i å’Œ &amp;ndash;i&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;func TestArithmeticOperator(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;a := 0
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// 0
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(a)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;a = a + 1
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// 1
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(a)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;a = a * 2&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;11. ```
// 2
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;12&#34;&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;t.Log(a)&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;13. 
14. ```
a = a % 2
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;15&#34;&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;// 0&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;16. ```
t.Log(a)
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;17&#34;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;a++&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;19. ```
// 1
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;20&#34;&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;t.Log(a)&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;21. }

æ”¯æŒå¤§éƒ¨åˆ†æ­£å¸¸çš„è¿ç®—ç¬¦,ä¸æ”¯æŒå‰ç½®è‡ªå¢,å‰ç½®è‡ªå‡,è¿™ä¹Ÿæ˜¯å¥½äº‹,å†ä¹Ÿä¸ä¼šå¼„é”™ i++ å’Œ ++i çš„è¿ç®—ç»“æœå•¦,å› ä¸ºæ ¹æœ¬ä¸æ”¯æŒ ++i !

* æ¯”è¾ƒè¿ç®—ç¬¦æ˜¯å¦ç›¸ç­‰æœ‰èŠ±æ ·

1. func TestComparisonOperator(t *testing.T) {
2. ```
a, b := 0, 1
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(a, b)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// false true true
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(a &amp;gt; b, a &amp;lt; b, a != b)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¤§äº,å°äº,ä¸ç­‰äºè¿™ç§å…³ç³»å¾ˆæ­£å¸¸, Golang ä¹Ÿæ²¡ç©å‡ºæ–°èŠ±æ ·,å’Œå…¶ä»–ä¸»æµçš„ç¼–ç¨‹è¯­è¨€é€»è¾‘ä¸€æ ·,ä¸ç”¨ç‰¹åˆ«å…³å¿ƒ.ä½†æ˜¯å…³äºæ¯”è¾ƒæ•°ç»„ ==, Go è¡¨ç¤ºæœ‰è¯è¦è¯´!&lt;/p&gt;
&lt;p&gt;Go ä¸­çš„æ•°ç»„æ˜¯å¯ä»¥è¿›è¡Œæ¯”è¾ƒçš„,å½“å¾…æ¯”è¾ƒçš„ä¸¤ä¸ªæ•°ç»„çš„ç»´åº¦å’Œæ•°ç»„å…ƒç´ çš„ä¸ªæ•°ç›¸åŒæ—¶,ä¸¤ä¸ªæ•°ç»„å…ƒç´ é¡ºåºä¸€è‡´ä¸”ç›¸åŒæ—¶,åˆ™ä¸¤ä¸ªæ•°ç»„ç›¸ç­‰,è€Œå…¶ä»–ä¸»æµçš„ç¼–ç¨‹è¯­è¨€ä¸€èˆ¬è€Œè¨€æ¯”è¾ƒçš„éƒ½æ˜¯æ•°ç»„çš„å¼•ç”¨,æ‰€ä»¥è¿™ä¸€ç‚¹éœ€è¦ç‰¹åˆ«æ³¨æ„.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;func TestCompareArray(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;a := [...]int{1, 2, 3}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;//b := [...]int{2, 4}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;c := [...]int{1, 2, 3}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;d := [...]int{1, 2, 4}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// a == b --&amp;gt; invalid operation: a == b (mismatched types [3]int and [2]int)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;//t.Log(a == b)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;// true false&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;11. ```
t.Log(a == c,a == d)
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;12&#34;&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ•°ç»„ a å’Œ c å‡æ˜¯ä¸€ç»´æ•°ç»„ä¸”å…ƒç´ ä¸ªæ•°éƒ½æ˜¯ 3,å› æ­¤ä¸¤ä¸ªæ•°ç»„å¯ä»¥æ¯”è¾ƒä¸”ç›¸ç­‰,è‹¥æ•°ç»„ a å’Œ b è¿›è¡Œæ¯”è¾ƒ,åˆ™æŠ¥é”™ invalid operation,æ˜¯å› ä¸ºä¸¤ä¸ªæ•°ç»„çš„å…ƒç´ ä¸ªæ•°ä¸ç›¸åŒ,æ— æ³•æ¯”è¾ƒ!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€»è¾‘è¿ç®—ç¬¦è€å®æœ¬åˆ†æ— å¼‚å¸¸&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;func TestLogicalOperator(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;a, b := true, false
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(a, b)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// false true false true
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(a&amp;amp;&amp;amp;b,a||b,!a,!b)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;ä½è¿ç®—ç¬¦æ–°å¢æŒ‰ä½æ¸…é›¶ &amp;amp;^ å¾ˆå·§å¦™&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Go è¯­è¨€ä¸­å®šä¹‰æŒ‰ä½æ¸…é›¶è¿ç®—ç¬¦æ˜¯ &amp;amp;^,è®¡ç®—è§„å¾‹å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;å½“å³è¾¹æ“ä½œä½æ•°ä¸º 1 æ—¶,å·¦è¾¹æ“ä½œä¸ºä¸è®ºæ˜¯ 1 è¿˜æ˜¯ 0 ,ç»“æœå‡ä¸º 0;
å½“å³è¾¹æ“ä½œä½æ•°ä¸º 0 æ—¶,ç»“æœåŒå·¦è¾¹æ“ä½œä½æ•°.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;func TestClearZeroOperator(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// 0 0 1 0
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(1&amp;amp;^1, 0&amp;amp;^1, 1&amp;amp;^0, 0&amp;amp;^1)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸çŸ¥é“è¿˜è®°ä¸è®°å¾—,åœ¨ä»‹ç»å¸¸é‡ iota æ—¶,æ›¾ç»ä»¥æ–‡ä»¶æƒé™ä¸ºä¾‹,åˆ¤æ–­ç»™å®šçš„æƒé™ç æ˜¯å¦æ‹¥æœ‰ç‰¹å®šæƒé™,åŒæ ·æ˜¯ç»™å®šçš„æƒé™ç ,åˆè¯¥å¦‚ä½•æ’¤é”€ç‰¹å®šæƒé™å‘¢?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;func TestClearZeroOperator(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;const (
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Readable = 1 &amp;lt;&amp;lt; iota
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Writable
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Executable
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// 0001 0010 0100 å³ 1 2 4
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(Readable, Writable, Executable)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;// 0111 å³ 7,è¡¨ç¤ºå¯è¯»,å¯å†™,å¯æ‰§è¡Œ&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;11. ```
accessCode := 7
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;12&#34;&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;t.Log(accessCode&amp;amp;Readable == Readable, accessCode&amp;amp;Writable == Writable, accessCode&amp;amp;Executable == Executable)&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;13. 
14. ```
// 0111 &amp;amp;^ 0001 = 0110 å³æ¸…é™¤å¯è¯»æƒé™
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;15&#34;&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;accessCode = accessCode &amp;amp;^ Readable&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;16. ```
t.Log(accessCode&amp;amp;Readable == Readable, accessCode&amp;amp;Writing == Writing, accessCode&amp;amp;Executable == Executable)
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;17&#34;&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;accessCode=accessCode&amp;amp;^Readable è¿›è¡ŒæŒ‰ä½æ¸…é›¶æ“ä½œåå°±å¤±å»äº†å¯è¯»æƒé™, accessCode&amp;amp;Readable==Readable å†æ¬¡åˆ¤æ–­æ—¶å°±æ²¡æœ‰å¯è¯»æƒé™äº†.&lt;/p&gt;
&lt;p&gt;æµç¨‹æ§åˆ¶è¯­å¥ä¹Ÿæœ‰è‡ªå·±çš„å‚²å¨‡&lt;/p&gt;
&lt;p&gt;if æœ‰è¯è¦è¯´&lt;/p&gt;
&lt;p&gt;æœ‰äº†å˜é‡ç±»å‹å’Œå„ç§è¿ç®—ç¬¦çš„åŠ å…¥,ç°åœ¨å®ç°ç®€å•çš„è¯­å¥å·²ç»ä¸æ˜¯é—®é¢˜äº†,å¦‚æœå†è¾…åŠ©æµç¨‹æ§åˆ¶è¯­å¥,é‚£ä¹ˆå®ç°è¾ƒä¸ºå¤æ‚æ‹¥æœ‰ä¸€å®šé€»è¾‘çš„è¯­å¥ä¾¿å¯æ›´ä¸Šä¸€å±‚æ¥¼.&lt;/p&gt;
&lt;p&gt;Go è¯­è¨€çš„ if æ¡ä»¶è¯­å¥å’Œå…¶ä»–ä¸»æµçš„ç¼–ç¨‹è¯­è¨€çš„è¯­ä¹‰æ˜¯ä¸€æ ·çš„,ä¸ä¸€æ ·çš„æ˜¯ä¹¦å†™è§„åˆ™å’Œä¸€äº›ç»†èŠ‚ä¸Šæœ‰ç€è‡ªå·±ç‰¹ç‚¹.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¡ä»¶è¡¨è¾¾å¼ä¸éœ€è¦å°æ‹¬å· ()&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;func TestIfCondition(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;for i := 0; i &amp;lt; 10; i++ {
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;if i%2 == 0 {
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(i)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Go è¯­è¨€çš„å„ç§çœç•¥å½¢å¼ä½¿å¾—æ•´ä½“ä¸Šéå¸¸ç®€æ´,ä½†ä¹Ÿè®©æ‹¥æœ‰å…¶ä»–ä¸»æµç¼–ç¨‹è¯­è¨€çš„å¼€å‘è€…åˆæ¬¡æ¥è§¦æ—¶å¾ˆä¸ä¹ æƒ¯,è¯­å¥ç»“æŸä¸ç”¨åˆ†å· ;,æ¡ä»¶è¡¨è¾¾å¼ä¸ç”¨å°æ‹¬å· () ç­‰ç­‰ç»†èŠ‚,å¦‚æœä¸ç”¨ IDE çš„è‡ªåŠ¨æç¤ºåŠŸèƒ½,è¿™äº›ç»†èŠ‚è‚¯å®šè¦è€—è´¹ä¸å°‘æ—¶é—´.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¡ä»¶è¡¨è¾¾å¼ä¸­å¯ä»¥å®šä¹‰å˜é‡,åªè¦æœ€åçš„è¡¨è¾¾å¼ç»“æœæ˜¯å¸ƒå°”ç±»å‹å³å¯&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;func TestIfConditionMultiReturnValue(t *testing.T) {&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;const filename = &amp;#34;test.txt&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;if content, err := ioutil.ReadFile(filename); err != nil {
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(err)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;} else {
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Logf(&amp;#34;%s
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&amp;ldquo;, content)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Go è¯­è¨€çš„å‡½æ•°æ”¯æŒè¿”å›å¤šä¸ªå€¼,è¿™ä¸€ç‚¹ç¨åå†ç»†è¯´, ioutil.ReadFile å‡½æ•°è¿”å›æ–‡ä»¶å†…å®¹å’Œé”™è¯¯ä¿¡æ¯,å½“å­˜åœ¨é”™è¯¯ä¿¡æ¯æ—¶ err!=nil,è¾“å‡ºé”™è¯¯ä¿¡æ¯,å¦åˆ™è¾“å‡ºæ–‡ä»¶å†…å®¹.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¡ä»¶è¡¨è¾¾å¼ä¸­å®šä¹‰çš„å˜é‡ä½œç”¨åŸŸä»…é™äºå½“å‰è¯­å¥å—&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;//note.youdao.com/src/fd5c4b52006416939abd0b6a472d596c&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœå°è¯•åœ¨ if è¯­å¥å—å¤–è®¿é—®å˜é‡ content,åˆ™æŠ¥é”™ undefined:content&lt;/p&gt;
&lt;p&gt;switch ä¸ç”˜ç¤ºå¼±&lt;/p&gt;
&lt;p&gt;åŒå…¶ä»–ä¸»æµçš„ç¼–ç¨‹è¯­è¨€ç›¸æ¯”, switch è¯­å¥æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯å¤šä¸ª case ä¸éœ€è¦ break, Go ä¼šè‡ªåŠ¨è¿›è¡Œ break,è¿™ä¸€ç‚¹å¾ˆäººæ€§åŒ–.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;switch ä¼šè‡ªåŠ¨ break,é™¤éä½¿ç”¨ fallthrough&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;func TestSwitchCondition(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;switch os := runtime.GOOS; os {
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;case &amp;#34;darwin&amp;#34;:
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(&amp;#34;Mac&amp;#34;)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;case &amp;#34;linux&amp;#34;:
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(&amp;#34;Linux&amp;#34;)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;case &amp;#34;windows&amp;#34;:
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(&amp;#34;Windows&amp;#34;)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;default:
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;t.Log(os)&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;11. ```
}
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;12&#34;&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;æ¡ä»¶è¡¨è¾¾å¼ä¸é™åˆ¶ä¸ºå¸¸é‡æˆ–æ•´æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…¶ä»–ä¸»æµçš„ç¼–ç¨‹è¯­è¨€ä¸­ switch çš„æ¡ä»¶è¡¨è¾¾å¼ä»…æ”¯æŒæœ‰é™ç±»å‹,ä½¿ç”¨æ–¹å¼å­˜åœ¨ä¸€å®šå±€é™æ€§, Go è¯­è¨€åˆ™ä¸åŒ,è¿™ä¸€ç‚¹å˜åŒ–ä¹Ÿæ˜¯å¾ˆæœ‰æ„æ€çš„,ä½¿ç”¨ switch åšåˆ†æ”¯æ§åˆ¶æ—¶ä¸ç”¨æ‹…å¿ƒå˜é‡ç±»å‹äº†!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;case è¯­è¨€æ”¯æŒå¤šç§æ¡ä»¶,ç”¨é€—å· , åˆ†å¼€,é€»è¾‘æˆ–&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;func TestSwitchMultiCase(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;for i := 0; i &amp;lt; 10; i++ {
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;switch i {
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;case 0, 2, 4, 6, 8, 10:
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(&amp;#34;Even&amp;#34;, i)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;case 1, 3, 5, 7, 9:
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(&amp;#34;odd&amp;#34;, i)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;default:
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(&amp;#34;default&amp;#34;, i)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;11. ```
}
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;12&#34;&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;çœç•¥ switch çš„æ¡ä»¶è¡¨è¾¾å¼æ—¶, switch çš„é€»è¾‘å’Œå¤šä¸ª ifelse é€»è¾‘ç›¸åŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;func TestSwitchCaseCondition(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;for i := 0; i &amp;lt; 10; i++ {
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;switch {
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;case i%2 == 0:
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(&amp;#34;Even&amp;#34;, i)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;case i%2 == 1:
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(&amp;#34;odd&amp;#34;, i)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;default:
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(&amp;#34;default&amp;#34;, i)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;11. ```
}
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;12&#34;&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;for å§—å§—æ¥è¿Ÿ&lt;/p&gt;
&lt;p&gt;æœ€åç™»åœºçš„æ˜¯ for å¾ªç¯,ä¸€ä¸ªäººå®Œæˆäº†å…¶ä»–ä¸»æµç¼–ç¨‹è¯­è¨€ä¸‰ä¸ªäººçš„å·¥ä½œ, Go è¯­è¨€ä¸­æ—¢æ²¡æœ‰ while å¾ªç¯ä¹Ÿ,ä¹Ÿæ²¡æœ‰ dowhile å¾ªç¯,æœ‰çš„åªæ˜¯ for å¾ªç¯.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¾ªç¯æ¡ä»¶ä¸éœ€è¦å°æ‹¬å· ()&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;func TestForLoop(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sum := 0
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;for i := 1; i &amp;lt;= 100; i++ {
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sum += i
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// 1+2+3+...+99+100=5050
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(sum)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å†ä¸€æ¬¡çœ‹åˆ°æ¡ä»¶è¡¨è¾¾å¼ä¸éœ€è¦å°æ‹¬å· () åº”è¯¥ä¸ä¼šæƒŠè®¶äº†å§? if çš„æ¡ä»¶è¯­å¥è¡¨è¾¾å¼ä¹Ÿæ˜¯ç±»ä¼¼çš„,ç›®å‰ä¸ºæ­¢,æ¥è§¦åˆ°æ˜ç¡®éœ€è¦å°æ‹¬å·çš„ () ä¹Ÿåªæœ‰å˜é‡æˆ–å¸¸é‡å®šä¹‰æ—¶çœç•¥å½¢å¼äº†.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥çœç•¥åˆå§‹æ¡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;func convert2Binary(n int) string {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;result := &amp;#34;&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;for ; n &amp;gt; 0; n /= 2 {
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;lsb := n % 2
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;result = strconv.Itoa(lsb) + result
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;return result
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;func TestConvert2Binary(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;// 1 100 101 1101&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;12. ```
t.Log(
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;13&#34;&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;convert2Binary(1),&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;14. ```
convert2Binary(4),
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;15&#34;&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;convert2Binary(5),&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;16. ```
convert2Binary(13),
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;17&#34;&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;)&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;18. }

åˆ©ç”¨æ•´æ•°ç›¸é™¤æ³•,ä¸æ–­å–ä½™ç›¸é™¤,å¾—åˆ°ç»™å®šæ•´æ•°çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²,è¿™é‡Œå°±çœç•¥äº†åˆå§‹æ¡ä»¶,åªæœ‰ç»“æŸæ¡ä»¶å’Œé€’å¢è¡¨è¾¾å¼.è¿™ç§å†™æ³•åŒæ ·åœ¨å…¶ä»–ä¸»æµçš„ç¼–ç¨‹è¯­è¨€æ˜¯æ²¡æœ‰çš„,ä½“ç°äº† Go è®¾è®¡çš„ç®€æ´æ€§,è¿™ç§ç‰¹æ€§åœ¨ä»¥åçš„ç¼–ç¨‹ä¸­ä¼šè¶Šæ¥è¶Šå¤šçš„ç”¨åˆ°,æ—¢ç„¶å¯ä»¥çœç•¥åˆå§‹æ¡ä»¶,ç›¸ä¿¡ä½ ä¹Ÿèƒ½çŒœåˆ°å¯ä¸å¯ä»¥çœç•¥å…¶ä»–ä¸¤ä¸ªæ¡ä»¶å‘¢?

* å¯ä»¥çœç•¥åˆå§‹æ¡ä»¶å’Œé€’å¢è¡¨è¾¾å¼

1. func printFile(filename string) {
2. ```
if file, err := os.Open(filename); err != nil {
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;panic(err)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;} else {
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;scanner := bufio.NewScanner(file)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;for scanner.Scan() {
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;fmt.Println(scanner.Text())
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;func TestPrintFile(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;const filename = &amp;ldquo;test.txt&amp;rdquo;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;14. ```
printFile(filename)
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;15&#34;&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ‰“å¼€æ–‡ä»¶å¹¶é€è¡Œè¯»å–å†…å®¹,å…¶ä¸­ scanner.Scan() çš„è¿”å›å€¼ç±»å‹æ˜¯ bool,è¿™é‡Œçœç•¥äº†å¾ªç¯çš„åˆå§‹æ¡ä»¶å’Œé€’å¢è¡¨è¾¾å¼,åªæœ‰å¾ªç¯çš„ç»ˆæ­¢æ¡ä»¶,ä¹Ÿé¡ºä¾¿å®ç°äº† while å¾ªç¯çš„æ•ˆæœ.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆå§‹æ¡ä»¶,ç»ˆæ­¢æ¡ä»¶å’Œé€’å¢è¡¨è¾¾å¼å¯ä»¥å…¨éƒ¨çœç•¥&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;func forever() {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;for {
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;fmt.Println(&amp;#34;hello go&amp;#34;)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;func TestForever(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;forever()
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;for å¾ªç¯ä¸­æ²¡æœ‰ä»»ä½•è¡¨è¾¾å¼,æ„å‘³ç€è¿™æ˜¯ä¸€ä¸ªæ­»å¾ªç¯,å¸¸ç”¨äº Web è¯·æ±‚ä¸­ç›‘æ§æœåŠ¡ç«¯å£,æ˜¯ä¸æ˜¯æ¯” while(true) è¦æ›´åŠ ç®€å•?&lt;/p&gt;
&lt;p&gt;å‹è½´çš„ä¸€ç­‰å…¬æ°‘å‡½æ•°éš†é‡ç™»åœº&lt;/p&gt;
&lt;p&gt;è™½ç„¶æ²¡æœ‰ç‰¹æ„å¼ºåˆ¶å‡½æ•°,ä½†æ˜¯ç¤ºä¾‹ä»£ç ä¸­å…¨éƒ¨éƒ½æ˜¯ä»¥å‡½æ•°å½¢å¼ç»™å‡ºçš„,å‡½æ•°æ˜¯å°è£…çš„ä¸€ç§å½¢å¼,æ›´æ˜¯ Goè¯­è¨€çš„ä¸€ç­‰å…¬æ°‘.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿”å›å€¼åœ¨å‡½æ•°å£°æ˜çš„æœ€å,å¤šä¸ªè¿”å›å€¼æ—¶ç”¨å°æ‹¬å· ()&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;func eval(a, b int, op string) int {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;var result int
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;switch op {
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;case &amp;#34;+&amp;#34;:
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;result = a + b
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;case &amp;#34;-&amp;#34;:
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;result = a - b
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;case &amp;#34;*&amp;#34;:
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;result = a * b
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;case &amp;ldquo;/&amp;rdquo;:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;11. ```
result = a / b
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;12&#34;&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;default:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;13. ```
panic(&amp;#34;unsupported operator: &amp;#34; + op)
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;14&#34;&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;15. ```
return result
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;16&#34;&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;func TestEval(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;t.Log(&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;20. ```
eval(1, 2, &amp;#34;+&amp;#34;),
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;21&#34;&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;eval(1, 2, &amp;ldquo;-&amp;rdquo;),&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;22. ```
eval(1, 2, &amp;#34;*&amp;#34;),
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;23&#34;&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;eval(1, 2, &amp;ldquo;/&amp;rdquo;),&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;24. ```
//eval(1, 2, &amp;#34;%&amp;#34;),
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;25&#34;&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;)&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;26. }

ä¸è®ºæ˜¯å˜é‡çš„å®šä¹‰è¿˜æ˜¯å‡½æ•°çš„å®šä¹‰, Go æ€»æ˜¯å’Œå…¶ä»–ä¸»æµçš„ç¼–ç¨‹è¯­è¨€ç›¸å,ä¸ªäººè§‰å¾—æŒºç¬¦åˆæ€ç»´é¡ºåº,æ¯•ç«Ÿéƒ½æ˜¯å…ˆæœ‰è¾“å…¥æ‰èƒ½è¾“å‡º,å¤šä¸ªè¾“å‡ºå½“ç„¶è¦ç»Ÿä¸€éš”ç¦»åœ¨ä¸€å—äº†.

* å¯ä»¥æœ‰é›¶ä¸ªæˆ–ä¸€ä¸ªæˆ–å¤šä¸ªè¿”å›å€¼

1. func divide(a, b int) (int, int) {
2. ```
return a / b, a % b
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;func TestDivide(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// 2 1
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(divide(5, 2))
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å°å­¦æ—¶å°±çŸ¥é“ä¸¤ä¸ªæ•´æ•°ç›¸é™¤,é™¤ä¸å°½çš„æƒ…å†µä¸‹è¿˜æœ‰ä½™æ•°.åªä¸è¿‡ç¼–ç¨‹ä¸­å•†å’Œä½™æ•°éƒ½æ˜¯åˆ†åˆ«è®¡ç®—çš„, Go è¯­è¨€æ”¯æŒè¿”å›å¤šä¸ªç»“æœ,ç»ˆäºå¯ä»¥å®ç°å°å­¦é™¤æ³•äº†!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿”å›å¤šä¸ªç»“æœæ—¶å¯ä»¥ç»™è¿”å›å€¼èµ·åå­—&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;func divideReturnName(a, b int) (q, r int) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;return a / b, a % b
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;func TestDivideReturnName(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;q, r := divideReturnName(5, 2)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// 2 1
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(q, r)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿˜æ˜¯æ•´æ•°é™¤æ³•çš„ç¤ºä¾‹,åªä¸è¿‡ç»™è¿”å›å€¼èµ·äº†å˜é‡åç§° (q,rint),ä½†è¿™å¹¶ä¸å½±å“è°ƒç”¨è€…,æŸäº› IDE å¯èƒ½ä¼šåŸºäºæ¬¡ç‰¹æ€§è‡ªåŠ¨è¿›è¡Œä»£ç è¡¥å…¨,è°ƒç”¨è€…æ¥æ”¶æ—¶çš„å˜é‡åä¸ä¸€å®šéè¦æ˜¯ q,r .&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…¶ä»–å‡½æ•°å¯ä»¥ä½œä¸ºå½“å‰å‡½æ•°çš„å‚æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;func apply(op func(int, int) int, a, b int) int {&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;p := reflect.ValueOf(op).Pointer()
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;opName := runtime.FuncForPC(p).Name()
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;fmt.Printf(&amp;#34;Calling function %s with args (%d,%d)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&amp;ldquo;, opName, a, b)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;return op(a, b)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;func pow(a, b int) int {&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;return int(math.Pow(float64(a), float64(b)))&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;11. }
12. 
13. func TestApply(t *testing.T) {
14. ```
// 1
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;15&#34;&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;t.Log(apply(func(a int, b int) int {&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;16. ```
return a % b
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;17&#34;&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;}, 5, 2))&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;18. 
19. ```
// 25
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;20&#34;&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;t.Log(apply(pow, 5, 2))&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;21. }

apply å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ op å‡½æ•°,ç¬¬äºŒ,ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ int ç±»å‹çš„ a,b.å…¶ä¸­ op å‡½æ•°ä¹Ÿæ¥æ”¶ä¸¤ä¸ª intå‚æ•°,è¿”å›ä¸€ä¸ª int ç»“æœ,å› æ­¤ apply å‡½æ•°çš„åŠŸèƒ½å°±æ˜¯å°† a,b å‚æ•°ä¼ é€’ç»™ op å‡½æ•°å»æ‰§è¡Œ,è¿™ç§æ–¹å¼æ¯” switch å›ºå®šè¿ç®—ç±»å‹è¦çµæ´»æ–¹ä¾¿!

* æ²¡æœ‰é»˜è®¤å‚æ•°,å¯é€‰å‚æ•°ç­‰å¤æ‚æ¦‚å¿µ,åªæœ‰å¯å˜å‚æ•°åˆ—è¡¨

1. func sum(numbers ...int) int {
2. ```
result := 0
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;for i := range numbers {
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;result += numbers[i]
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;return result
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;func TestSum(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;// 15&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;11. ```
t.Log(sum(1, 2, 3, 4, 5))
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;12&#34;&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;range éå†æ–¹å¼åç»­å†è¯´,è¿™é‡Œå¯ä»¥ç®€å•ç†è§£ä¸ºå…¶ä»–ä¸»æµç¼–ç¨‹è¯­è¨€ä¸­çš„ foreach å¾ªç¯,ä¸€èˆ¬åŒ…æ‹¬å½“å‰å¾ªç¯ç´¢å¼•å’Œå¾ªç¯é¡¹.&lt;/p&gt;
&lt;p&gt;æŒ‡é’ˆç±»å‹å¾ˆæ–¹ä¾¿åŒæ—¶ä¹Ÿå¾ˆç®€å•&lt;/p&gt;
&lt;p&gt;Go çš„è¯­è¨€æ•´ä½“ä¸Šæ¯”è¾ƒç®€å•,æ²¡æœ‰å¤ªå¤šèŠ±é‡Œèƒ¡å“¨çš„è¯­æ³•,ç¨å¾®æœ‰ç‚¹ç‰¹æ®Šçš„å½“å±å˜é‡çš„å®šä¹‰æ–¹å¼äº†,ç”±äºå…·å¤‡ç±»å‹æ¨æ–­èƒ½åŠ›,å®šä¹‰å˜é‡çš„æ–¹å¼æœ‰ç‚¹å¤š,åè€Œè§‰å¾—é€‰æ‹©å›°éš¾ç—‡,ä¸çŸ¥é“è¿™ç§æƒ…å†µåç»­ä¼šä¸ä¼šæœ‰æ‰€æ”¹å˜?&lt;/p&gt;
&lt;p&gt;åœ¨ Go è¯­è¨€çš„ä¸ºæ•°ä¸å¤šçš„ç±»å‹ä¸­å°±æœ‰æŒ‡é’ˆç±»å‹,æŒ‡é’ˆæœ¬æ¥æ˜¯ c è¯­è¨€çš„æ¦‚å¿µ,å…¶ä»–ä¸»æµçš„ç¼–ç¨‹è¯­è¨€ä¹Ÿæœ‰ç±»ä¼¼çš„æ¦‚å¿µ,å¯èƒ½ä¸å«åšæŒ‡é’ˆè€Œæ˜¯å¼•ç”¨,ä½† Go è¯­è¨€çš„å‘å±•å’Œ c++ æœ‰ä¸€å®šå…³ç³»,ä¿ç•™äº†æŒ‡é’ˆçš„æ¦‚å¿µ.&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¿™å¹¶ä¸æ„å‘³ç€ Go è¯­è¨€çš„æŒ‡é’ˆåƒ C è¯­è¨€é‚£æ ·å¤æ‚,ç›¸å, Go è¯­è¨€çš„æŒ‡é’ˆå¾ˆæ–¹ä¾¿ä¹Ÿå¾ˆç®€å•,æ–¹ä¾¿æ˜¯ç”±äºæä¾›æˆ‘ä»¬æ“ä½œå†…å­˜åœ°å€çš„æ–¹å¼,ç®€å•æ˜¯å› ä¸ºä¸èƒ½å¯¹æŒ‡é’ˆåšä»»ä½•è¿ç®—!&lt;/p&gt;
&lt;p&gt;ç®€å•å›å¿†ä¸€ä¸‹æŒ‡é’ˆçš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;func TestPointerShorter(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;a := 1
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pa := &amp;amp;a
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// 0xc0000e6010 1 1
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t.Log(pa, *pa, a)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;*pa = 2
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;// 0xc0000e6010 2 2&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;11. ```
t.Log(pa, *pa, a)
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;12&#34;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;// pa = pa + 1 : invalid operation: pa + 1 (mismatched types *int and int)&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;14. ```
//pa = pa + 1
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;15&#34;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;// *int int int&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;17. ```
t.Logf(&amp;#34;%T %T %T&amp;#34;, pa, *pa,a)
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;18&#34;&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;amp; å¯ä»¥è·å–å˜é‡çš„æŒ‡é’ˆç±»å‹, * æŒ‡å‘å˜é‡,ä½†ä¸å¯ä»¥å¯¹æŒ‡é’ˆè¿›è¡Œè¿ç®—,æ‰€ä»¥æŒ‡é’ˆå¾ˆç®€å•!&lt;/p&gt;
&lt;p&gt;å½“æŒ‡é’ˆç±»å‹å’Œå…¶ä»–ç±»å‹å’Œå‡½æ•°ä¸€èµ·å‘ç”ŸåŒ–å­¦ååº”æ—¶,æˆ‘ä»¬å¯èƒ½æ›´åŠ å…³å¿ƒå‚æ•°ä¼ é€’é—®é¢˜,å…¶ä»–ä¸»æµçš„ç¼–ç¨‹è¯­è¨€å¯èƒ½æœ‰å€¼ä¼ é€’å’Œå¼•ç”¨ä¼ é€’ä¸¤ç§æ–¹å¼, Go è¯­è¨€è¿›è¡Œå‚æ•°ä¼ é€’æ—¶åˆæ˜¯å¦‚ä½•è¡¨ç°çš„å‘¢?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;func swapByVal(a, b int) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;a, b = b, a
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;func TestSwapByVal(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;a, b := 3, 4
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;swapByVal(a, b)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;// 3 4&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;11. ```
t.Log(a, b)
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;12&#34;&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;swapByVal å‡½æ•°å†…éƒ¨å®ç°äº†å˜é‡äº¤æ¢çš„é€»è¾‘,ä½†å¤–éƒ¨å‡½æ•° TestSwapByVal è°ƒç”¨åå˜é‡ a,b å¹¶æ²¡æœ‰æ”¹å˜,å¯è§ Go è¯­è¨€è¿™ç§å‚æ•°ä¼ é€’æ˜¯å€¼ä¼ é€’è€Œä¸æ˜¯å¼•ç”¨ä¼ é€’.&lt;/p&gt;
&lt;p&gt;ä¸Šé¢ç¤ºä¾‹ä¸­å‚æ•°ä¼ é€’çš„ç±»å‹éƒ½æ˜¯æ™®é€šç±»å‹,å¦‚æœå‚æ•°æ˜¯æŒ‡é’ˆç±»å‹çš„è¯,ç»“æœä¼šä¸ä¼šä¸ä¸€æ ·å‘¢?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;func swapByRef(a, b *int) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;*a, *b = *b, *a
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;func TestSwapByRef(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;a, b := 3, 4
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;swapByRef(&amp;amp;a, &amp;amp;b)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;// 4 3&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;11. ```
t.Log(a, b)
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;12&#34;&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æŒ‡é’ˆç±»å‹è¿›è¡Œå‚æ•°ä¼ é€’æ—¶å¯ä»¥äº¤æ¢å˜é‡çš„å€¼,æ‹·è´çš„æ˜¯å†…å­˜åœ°å€,æ›´æ”¹å†…å­˜åœ°å€çš„æŒ‡å‘å®ç°äº†åŸå§‹å˜é‡çš„äº¤æ¢,å‚æ•°ä¼ é€’çš„ä»ç„¶æ˜¯å€¼ç±»å‹.&lt;/p&gt;
&lt;p&gt;å®é™…ä¸Š, Go è¯­è¨€è¿›è¡Œå‚æ•°ä¼ é€’çš„åªæœ‰å€¼ç±»å‹ä¸€ç§,è¿™ä¸€ç‚¹ä¸åƒå…¶ä»–ä¸»æµçš„ç¼–ç¨‹è¯­è¨€é‚£æ ·å¯èƒ½æ—¢å­˜åœ¨å€¼ç±»å‹åˆå­˜åœ¨å¼•ç”¨ç±»å‹.&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶æ˜¯å€¼ç±»å‹è¿›è¡Œå‚æ•°ä¼ é€’,ä¹Ÿå°±æ„å‘³ç€å‚æ•°ä¼ é€’æ—¶ç›´æ¥æ‹·è´ä¸€ä»½å˜é‡ä¾›å‡½æ•°è°ƒç”¨,å‡½æ•°å†…éƒ¨å¦‚ä½•ä¿®æ”¹å‚æ•°å¹¶ä¸ä¼šå½±å“åˆ°è°ƒç”¨è€…çš„åŸå§‹æ•°æ®.&lt;/p&gt;
&lt;p&gt;å¦‚æœåªæ˜¯ç®€å•ç±»å‹å¹¶ä¸”ä¸å¸Œæœ›å‚æ•°å€¼è¢«ä¿®æ”¹,é‚£æœ€å¥½ä¸è¿‡,å¦‚æœå¸Œæœ›å‚æ•°å€¼è¢«ä¿®æ”¹å‘¢?é‚£åªèƒ½åƒä¸Šä¾‹é‚£æ ·ä¼ é€’æŒ‡é’ˆç±»å‹.&lt;/p&gt;
&lt;p&gt;ç®€å•ç±»å‹ä¸è®ºæ˜¯ä¼ é€’æ™®é€šç±»å‹è¿˜æ˜¯æŒ‡é’ˆç±»å‹,å˜é‡çš„æ‹·è´è¿‡ç¨‹ä¸ä¼šå¤ªè€—è´¹å†…å­˜ä¹Ÿä¸ä¼šå½±å“çŠ¶æ€.&lt;/p&gt;
&lt;p&gt;å¦‚æœä¼ é€’çš„å‚æ•°æœ¬èº«æ˜¯æ¯”è¾ƒå¤æ‚çš„ç±»å‹,ä»ç„¶è¿›è¡Œå˜é‡æ‹·è´è¿‡ç¨‹ä¼°è®¡å°±ä¸èƒ½æ»¡è¶³ç‰¹å®šéœ€æ±‚äº†,å¯èƒ½ä¼šè®¾è®¡æˆå‡ºä¼ é€’å¤æ‚å¯¹è±¡çš„æŸç§å†…éƒ¨æŒ‡é’ˆ,ä¸ç„¶çœŸçš„è¦è¿›è¡Œå€¼ä¼ é€’,é‚£è¿˜æ€ä¹ˆç©?&lt;/p&gt;
&lt;p&gt;Go åªæœ‰å€¼ä¼ é€’ä¸€ç§æ–¹å¼,è™½ç„¶ç®€å•,ä½†å®é™…ä¸­å¦‚ä½•ä½¿ç”¨åº”è¯¥æœ‰ç‰¹æ®ŠæŠ€å·§,ä»¥åå†å…·ä½“åˆ†æ,ç°åœ¨å›åˆ°äº¤æ¢å˜é‡çš„ä¾‹å­,æ¢ä¸€ç§æ€è·¯.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;func swap(a, b int) (int, int) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;return b, a
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;func TestSwap(t *testing.T) {&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;a, b := 3, 4
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;a, b = swap(a, b)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;// 4 3&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;11. ```
t.Log(a, b)
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;12&#34;&gt;
&lt;li&gt;}&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åˆ©ç”¨ Go å‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼ç‰¹æ€§,è¿”å›äº¤æ¢åçš„å˜é‡å€¼,è°ƒç”¨è€…æ¥æ”¶æ—¶ç›¸å½“äºé‡æ–°èµ‹å€¼,æ¯”ä¼ é€’æŒ‡é’ˆç±»å‹è¦ç®€å•ä¸å°‘!&lt;/p&gt;
&lt;p&gt;åŸºç¡€è¯­æ³•çŸ¥è¯†æ€»ç»“å’Œä¸‹æ–‡é¢„å‘Š&lt;/p&gt;
&lt;p&gt;åˆšåˆšæ¥è§¦ Go è¯­è¨€æ—¶è§‰å¾— Go çš„è¯­è¨€å¾ˆç®€å•ä¹Ÿå¾ˆç‰¹åˆ«,å’Œå…¶ä»–ä¸»æµçš„ç¼–ç¨‹è¯­è¨€ç›¸æ¯”,æœ‰ç€è‡ªå·±ç‹¬ç‰¹çš„æƒ³æ³•.&lt;/p&gt;
&lt;p&gt;è¯­å¥ç»“æŸä¸ç”¨åˆ†å· ; è€Œæ˜¯ç›´æ¥å›è½¦æ¢è¡Œ,è¿™ä¸€ç‚¹æœ‰äº›ä¸ä¹ æƒ¯,å¥½åœ¨å¼ºå¤§çš„ IDE å¯ä»¥çº æ­£è¿™äº›ç»†èŠ‚.&lt;/p&gt;
&lt;p&gt;å˜é‡å£°æ˜æ—¶å˜é‡ååœ¨å‰,å˜é‡ç±»å‹åœ¨å,å¯èƒ½æ›´åŠ ç¬¦åˆå¤§è„‘æ€ç»´,ä½†æ˜¯ä¹ æƒ¯äº†å…ˆå†™å˜é‡ç±»å‹å†å†™å˜é‡å,è¿™ç¡®å®æœ‰ä¸€å®šç¨‹åº¦çš„ä¸æ–¹ä¾¿,åæ¥ç´¢æ€§ä¸å†™å˜é‡ç±»å‹,è‡ªç„¶å°±æ²¡æœ‰é—®é¢˜äº†.&lt;/p&gt;
&lt;p&gt;å‡½æ•°å£°æ˜åŒå˜é‡å£°æ˜ç±»ä¼¼,è¿”å›å€¼æ”¾åˆ°äº†æœ€åéƒ¨åˆ†,å¹¶ä¸”è¿˜å¯ä»¥æœ‰å¤šä¸ªè¿”å›å€¼,ç»è¿‡äº†å˜é‡çš„æ´—ç¤¼,å†ç†Ÿæ‚‰å‡½æ•°çš„è¿™ä¸€ç‰¹ç‚¹ä¹Ÿå°±ä¸é‚£ä¹ˆæƒŠè®¶äº†,å…ˆè¾“å…¥åè¾“å‡º,æƒ³ä¸€æƒ³ä¹Ÿæœ‰é“ç†,éš¾é“å…¶ä»–ç¼–ç¨‹è¯­è¨€çš„é¡ºåºéƒ½æ˜¯é”™çš„?&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥å°±æ˜¯è¯­æ³•çš„ç»†èŠ‚,æ¯”å¦‚ if çš„æ¡ä»¶è¡¨è¾¾å¼å¯ä»¥è¿›è¡Œå˜é‡èµ‹å€¼, switch è¡¨è¾¾å¼å¯ä»¥ä¸ç”¨ break,åªæœ‰ for å¾ªç¯ä¸€ç§å½¢å¼ç­‰ç­‰.&lt;/p&gt;
&lt;p&gt;è¿™äº›ç»†èŠ‚æ€»ä½“æ¥è¯´æ¯”è¾ƒç®€å•æ–¹ä¾¿,ä¸ç”¨å…³å¿ƒç»†èŠ‚,æ”¾å¿ƒå¤§èƒ†ä½¿ç”¨,ä»è€Œä¸“æ³¨äºä¸šåŠ¡é€»è¾‘,ç­‰åˆ°è¯­æ³•ä¸å¯¹æ—¶, IDE è‡ªç„¶ä¼šç»™å‡ºç›¸åº”çš„æŠ¥é”™æé†’,æ”¾å¿ƒå¤§èƒ† Go !&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä¸»è¦ä»‹ç»äº† Go çš„åŸºæœ¬è¯­æ³•ä»¥åŠå’Œå…¶ä»–ä¸»æµçš„ç¼–ç¨‹è¯­è¨€çš„å¼‚åŒ,ä½  Get åˆ°äº†å—?&lt;/p&gt;
&lt;p&gt;ä¸‹æ–‡å°†å¼€å§‹ä»‹ç» Go çš„å†…å»ºå®¹å™¨ç±»å‹,æ•°ç»„,åˆ‡ç‰‡, Map æ¥ä¸€é!&lt;/p&gt;
&lt;p&gt;æ¬¢è¿å¤§å®¶ä¸€èµ·å­¦ä¹ äº¤æµ,å¦‚æœ‰ä¸å½“ä¹‹å¤„,æ³è¯·æŒ‡æ­£,å¦‚éœ€å®Œæ•´æºç ,è¯·åœ¨å…¬ä¼—å·[é›ªä¹‹æ¢¦æŠ€æœ¯é©¿ç«™]ç•™è¨€å›å¤,æ„Ÿè°¢ä½ çš„è¯„è®ºä¸è½¬å‘!&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;//note.youdao.com/src/b06096c411b66b176cfc4c48c64b44fd&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>mysqldump: Got error: 1044: Access denied for user</title>
        <link>https://lxb.wiki/a333bc04/</link>
        <pubDate>Sat, 27 Apr 2019 11:24:27 +0000</pubDate>
        
        <guid>https://lxb.wiki/a333bc04/</guid>
        <description>&lt;p&gt;&lt;code&gt;mysqldump -u username -p dbname &amp;gt; dbname.sql&lt;/code&gt; mysqldump: Got error: 1044: Access denied for user XXX to database XXX when using LOCK TABLES è§£å†³æ–¹æ³•: &lt;code&gt;mysqldump -u dbuser -ppass db --skip-lock-tables &amp;gt; db.sql&lt;/code&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>åˆ†å¸ƒå¼æ•°æ®åº“ç³»ç»Ÿ(DDBS)</title>
        <link>https://lxb.wiki/728c18a3/</link>
        <pubDate>Wed, 10 Apr 2019 14:00:41 +0000</pubDate>
        
        <guid>https://lxb.wiki/728c18a3/</guid>
        <description>&lt;p&gt;ä¸šåŠ¡è§„æ¨¡è¾ƒå°æ—¶ï¼Œä½¿ç”¨å•æœºmysqlä½œå­˜å‚¨ã€‚ä½†ä¼´éšä¸šåŠ¡å‘å±•ï¼Œå­˜å‚¨å®¹é‡å’Œå¹¶å‘èƒ½åŠ›ä¼šæœ‰ç“¶é¢ˆã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œå‡è®¾å•æœºçš„ç¡¬ç›˜ä¸º1.8Tï¼Œä¹Ÿå¯ä»¥æŒ‚æ›´å¤§å®¹é‡ç¡¬ç›˜ï¼Œä½†ä»æœ‰é™ã€‚&lt;/p&gt;
&lt;p&gt;å…¶æ¬¡ï¼Œå•æœºçš„è¯»å†™å¹¶å‘èƒ½åŠ›æœ‰é™ï¼Œå‡è®¾å³°å€¼å†™å…¥qps1000ï¼Œå³°å€¼è¯»å–qps3000ï¼Œç½‘å¡å¯¹è¯»å–æ—¶æµé‡ä¹Ÿæœ‰è¦æ±‚ï¼Œå•æ¬¡è®¿é—®çš„è¯»å–é‡ä¸åº”è¿‡å¤§ã€‚&lt;/p&gt;
&lt;p&gt;å•æœºçš„é“¾æ¥æ•°ä¹Ÿæœ‰é™ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œå½“ä½¿ç”¨å•æœºmysqlçš„ä¸šåŠ¡å‘å±•ï¼Œå—åˆ°ä»¥ä¸Šç“¶é¢ˆæ—¶ï¼Œä¸€èˆ¬çš„æ€è·¯ä¼šæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿä¸€å°æœºå™¨ä¸è¡Œï¼Œç”¨ä¸¤å°å‘¢ï¼Œå†ä¸è¡Œï¼Œæ‰©å±•æ›´å¤šå°ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€å°æ‰©å±•ä¸ºä¸¤å°ï¼Œç£ç›˜å®¹é‡æ‰©å¤§äº†ï¼Œé€šè¿‡åˆ†è¡¨ï¼Œå°†è¡¨æ‰“æ•£åœ¨ä¸åŒæœºå™¨ä¸Šï¼Œå…±åŒæ‰¿æ‹…å†™å…¥ä»»åŠ¡ï¼Œå¹¶å‘ä¹Ÿæé«˜äº†ï¼Œæ„Ÿè§‰è¿™ä¸ªæ€è·¯æ˜¯å¯¹çš„ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åšä»€ä¹ˆï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¸šåŠ¡å‘å±•åˆ°å•æœºæ— æ³•æ‰¿å—ï¼Œå³ä½¿åœ¨å•æœºä¸Šï¼Œå¾ˆå¤šè¡¨åº”è¯¥ä¹Ÿåšè¿‡åˆ†è¡¨äº†ã€‚ä¸€èˆ¬ä¼šæ ¹æ®ä¸šåŠ¡é€‰æ‹©åˆ†è¡¨é”®ã€‚å•ä¸ªè¡¨çš„å¤§å°mysqlä¹Ÿæœ‰ä¸€å®šè¦æ±‚ï¼Œä¸€èˆ¬å­˜å‚¨é‡ä¸å¤§äº1Gï¼Œå•æ¡è®°å½•å°ä¸€äº›ï¼Œä¸€èˆ¬ä¸è¶…è¿‡1kï¼Œæ¡æ•°ä¸€èˆ¬ä¸è¶…è¿‡1000ä¸‡æ¡ï¼Œæœ€å¤šä¸è¶…è¿‡5000ä¸‡æ¡ï¼Œå¦åˆ™è¡¨çš„ä½¿ç”¨å’Œç»´æŠ¤æ•ˆç‡éƒ½å¾ˆä½ã€‚å‡è®¾ä¸šåŠ¡å·²ç»åšäº†è¶³å¤Ÿå¤šçš„åˆ†è¡¨ï¼Œæ»¡è¶³ä¸‰å¹´çš„æ•°æ®å¢é•¿éœ€è¦ï¼Œç¬¬ä¸€å¹´è¿‡åï¼Œæ¯ä¸ªåˆ†è¡¨çš„æ¡æ•°è¾¾åˆ°200ä¸‡æ¡ï¼Œæ•´æœºå­˜å‚¨å®¹é‡ä½¿ç”¨äº†ä¸€åŠï¼Œæ­¤æ—¶æˆ‘ä»¬æƒ³æ‹†åˆ†ä¸ºä¸¤å°æœºå™¨ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶æˆ‘ä»¬å¯ä»¥å°†åŸæœºå™¨ä¸Šéƒ¨åˆ†è¡¨æ•°æ®åŒæ­¥åˆ°æ–°æœºå™¨ä¸Šï¼Œå¹¶åœ¨modelå±‚æŠ½è±¡ä¸€ä¸ªè·¯ç”±å±‚ï¼Œå°†å¯¹æ•°æ®åº“çš„æ“ä½œå‘åˆ°ä¸åŒçš„æœºå™¨ä¸Šï¼Œä¸Šå±‚ä¸šåŠ¡ä»å¯ä»¥è®¤ä¸ºåœ¨ä½¿ç”¨å•æœºã€‚æ­¤æ—¶å¯ä»¥å°†åŸæœºå™¨ä¸Šä¸å½’å±è‡ªå·±ç®¡ç†èŒƒå›´çš„è¡¨åˆ é™¤ï¼Œè…¾å‡ºç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€å°å˜æˆäº†ä¸¤å°ï¼Œå‘åˆ†å¸ƒå¼èµ°äº†ä¸€æ­¥ã€‚æ­¤æ—¶å­˜å‚¨å®¹é‡å’Œå¹¶å‘éƒ½æé«˜äº†ï¼Œç”±è·¯ç”±å±‚ç®¡ç†ä¸¤å°æœºå™¨ã€‚å¦‚æœä¸¤å°æˆ–ä»Šåçš„å¤šå°æœºå™¨ï¼Œå¹¶å‘æ•°é«˜äºè·¯ç”±å±‚å¤„ç†èƒ½åŠ›æ€ä¹ˆåŠï¼Ÿé‚£è¿˜è¦æŠŠè·¯ç”±å±‚æœºå™¨ä¹Ÿæ‰©ä¸€ä¸‹ï¼ŒæŠŠè·¯ç”±è§„åˆ™éƒ½å†™è¿›å»ï¼Œå¤§å®¶æŒ‰ä¸€ä¸ªæ ¼åˆ™åŠäº‹ã€‚&lt;/p&gt;
&lt;p&gt;ç»è¿‡ä¸Šé¢çš„ä¸€ç•ªæŠ˜è…¾ï¼Œæ•°æ®åº“æœºå™¨æ°´å¹³æ‰©å±•ï¼Œè§£å†³äº†å•æœºå­˜åœ¨çš„ä¸€äº›é—®é¢˜ã€‚åœ¨è¿™ä¸ªæ‰©å±•çš„è¿‡ç¨‹ä¸­ï¼Œæ˜¯å¦ä¼šå¯¹ä¸šåŠ¡äº§ç”Ÿä¸­æ–­å½±å“å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¼šæœ‰ä¸€ç‚¹å½±å“ã€‚è‡³å°‘åœ¨è·¯ç”±å±‚æ”¹è·¯ç”±è¡¨æ—¶ï¼Œä¼šä¸­æ–­æ•°æ®åº“çš„å†™å…¥ï¼Œè¯»å–æ­¤æ—¶å¯ä»¥ä¸ä¸­æ–­ã€‚&lt;/p&gt;
&lt;p&gt;ddbsä¸­ï¼Œä½¿ç”¨åˆ°çš„å¤šå°æœºå™¨ï¼Œéƒ½å«åšåˆ†ç‰‡ã€‚åˆ†ç‰‡æé«˜äº†ç³»ç»Ÿå­˜å‚¨å®¹é‡å’Œå¹¶å‘èƒ½åŠ›ï¼Œå¼•å…¥åˆ†ç‰‡ï¼Œä¹Ÿæ˜¯ç³»ç»Ÿçš„å¤æ‚åº¦æé«˜äº†ï¼Œéœ€è¦å¼•å…¥è·¯ç”±å±‚æœºå™¨ï¼Œè·¯ç”±æœºå™¨ä¹Ÿå¯èƒ½éœ€è¦æ‰©å±•ï¼Œå¤æ‚æ“ä½œï¼Œè¿˜éœ€è¦æ·»åŠ æ›´å¤šé€»è¾‘åŠŸèƒ½ã€‚ä½†è‡³å°‘å¯ä»¥å¯ä¸šåŠ¡é€»è¾‘åŒºåˆ†å¼€ï¼Œä¸šåŠ¡å¯ä»¥æŠŠddbså½“åšå•æœºåœ¨ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆddbsæœ‰å“ªäº›ä¸è¶³å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ddbsè¿˜æ˜¯è¦åŸºäºåˆ†è¡¨ã€åˆ†ç‰‡å®ç°çš„ã€‚é‚£ä¹ˆå¯¹æ•°æ®åº“çš„ä»»ä½•æ“ä½œï¼Œé¦–è¦æ¡ä»¶æ˜¯éœ€è¦æŒ‡æ˜æ“ä½œçš„åˆ†è¡¨é”®ã€‚æ²¡æœ‰è¿™ä¸ªç»´åº¦çš„å‡†ç¡®å€¼ï¼Œå°±ä¸èƒ½å¯¹æ•°æ®åº“æ“ä½œï¼Œå½“ç„¶é™¤éæ˜¯å¤‡ç”¨åº“ï¼Œé‚£ä½ éšä¾¿æ‰«è¡¨ï¼Œå› ä¸ºå¤‡ç”¨åº“å¯ä»¥è½¬ä¸ºå†—ä½™å®‰å…¨ï¼Œä¸èµ°çº¿ä¸Šæµé‡ï¼Œå¯ä»¥åšç»Ÿè®¡ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;å•æŒ‡æ˜åˆ†è¡¨é”®è¿˜ä¸è¡Œï¼Œè¿˜è¦æ³¨æ„æ“ä½œçš„æ•°æ®å¯èƒ½ä¼šåˆ†å¸ƒåœ¨ä¸åŒåˆ†è¡¨ã€ä¸åŒåˆ†ç‰‡ä¸­ï¼Œè¿™æ ·çš„æ“ä½œä¼šå¼•å‘ddbsäº§ç”Ÿå¤§é‡å¹¶å‘æ“ä½œï¼Œä¸šåŠ¡çš„ä¸€ä¸ªè¯·æ±‚å°±ä¼šå ç”¨å¤šä¸ªæœºå™¨å¤šä¸ªé“¾æ¥ï¼Œä½¿ddbså¾—å¹¶å‘èƒ½åŠ›å¤§æ‰“æŠ˜æ‰£ã€‚æ¯”å¦‚ â€˜where åˆ†è¡¨é”® in ï¼ˆï¼‰â€™æ“ä½œï¼Œè¿™ç§æ“ä½œè¦æ…é‡ï¼Œinä¸­ä¸ªæ•°ä¸å¯å¤ªå¤šã€‚&lt;/p&gt;
&lt;p&gt;åˆ†è¡¨é”®æœ€å¥½é€‰ç”¨æ•´å½¢ï¼Œå­—ç¬¦ä¸²å‹ï¼Œå¯èƒ½hashååˆ†é…ä¸å‡ï¼Œè¡¨å¤§å°ä¸å‡è¡¡ã€‚&lt;/p&gt;
&lt;p&gt;äº‹ç‰©æ“ä½œåœ¨ddbsä¸­çš„å®ç°ï¼Œéå¸¸è€—è´¹ç³»ç»Ÿæ€§èƒ½ã€‚äº‹åŠ¡ç±»æ“ä½œéœ€è¦è·¯ç”±æ§åˆ¶å±‚æ§åˆ¶æ•´ä¸ªæ“ä½œè¿‡ç¨‹ï¼ŒæœŸä¸­å¯èƒ½æ¶‰åŠå¤šä¸ªåˆ†ç‰‡ï¼Œå¤šä¸ªä¸åŒçš„è¡¨çš„æ“ä½œï¼Œå¯¹ç³»ç»Ÿæ•´ä½“å¯ç”¨æ€§è¦æ±‚é«˜&lt;/p&gt;
</description>
        </item>
        <item>
        <title>è·‘é“é—®é¢˜</title>
        <link>https://lxb.wiki/81be14b5/</link>
        <pubDate>Tue, 12 Mar 2019 23:20:56 +0000</pubDate>
        
        <guid>https://lxb.wiki/81be14b5/</guid>
        <description>&lt;p&gt;25ä¸ªäººï¼Œæ¯5ä¸ªäººä¸€ä¸ªè·‘é“ï¼Œæœ€å°‘ç»è¿‡å‡ æ¬¡æ¯”èµ›ï¼Œå¾—åˆ°å‰ä¸‰å&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åˆæ­¥æ€è·¯&lt;/strong&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æ¯5äººä¸€ç»„, å…¨è·‘å®Œå, æ¯ç»„çš„åä¸¤åä¸€å®šä¸åœ¨æœ€ç»ˆè¦çš„&amp;quot;å‰ä¸‰å&amp;quot; ç»“æœå†…, æ‰€ä»¥æ¯ç»„å¯ä»¥æ’é™¤2äºº, å‰©ä¸‹25-2*5=15äºº. å…±ç»è¿‡5æ¬¡æ¯”èµ›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‰©ä¸‹çš„15äºº, æ¯5äººä¸€ç»„, è·‘å®Œå, æ¯ç»„æ·˜æ±°2äºº, å‰©ä¸‹ 15-2*3=9äºº. ç»è¿‡3æ¬¡æ¯”èµ›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‰©ä¸‹çš„9ä¸ªäººåˆ†ä¸¤ç»„, Aç»„5äººBç»„4äºº, è·‘å®Œå, Aç»„æ·˜æ±°2äºº, Bç»„æ·˜æ±°1äºº, å‰©ä¸‹ 9-2-1=6äºº. ç»è¿‡2æ¬¡æ¯”èµ›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‰©ä¸‹çš„6äººåˆ†ä¸¤ç»„, Cç»„5äººDç»„1äºº, Aç»„è·‘å®Œå, æ·˜æ±°2äºº, Bç»„1äººä¸éœ€è¦è·‘, å‰©ä¸‹ 6-2=4äºº. ç»è¿‡1æ¬¡æ¯”èµ›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‰©ä¸‹çš„4ä¸ªäºº, è·‘ä¸€æ¬¡, å¾—å‡ºå‰ä¸‰å. ç»è¿‡1æ¬¡æ¯”èµ› å…±ç»è¿‡ 5+3+2+1+1=12æ¬¡&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;æ€è·¯2ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ç¬¬ä¸€æ­¥ä¸­, 5ç»„å…¨è·‘å®Œå, æ¯ç»„çš„ç¬¬ä¸€åå†è·‘ä¸€æ¬¡, æŒ‰é€Ÿåº¦å¿«æ…¢åˆ†åˆ«æ ‡ä¸ºA1 B1 C1 D1 E1. åˆ™A1 ä¸º25äººä¸­çš„ç¬¬ä¸€å. ç»è¿‡5+1=6æ¬¡æ¯”èµ›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ç¬¬6æ¬¡æ¯”èµ›ä¸­, è½åçš„ä¸¤åD1 å’ŒE1, å¯ä»¥è¢«æ’é™¤, è¿›è€Œæ•´ä¸ªDç»„å’ŒEç»„éƒ½å¯ä»¥æ’é™¤. C1ä¸å¯èƒ½æ˜¯ç¬¬äºŒå. ç¬¬äºŒåå¯èƒ½çš„äººå‘˜æœ‰A2 B1, ç¬¬ä¸‰åå¯èƒ½çš„äººå‘˜æœ‰ B1 A3 B2 A2 C1. ç¬¬äºŒåçš„é›†åˆæ˜¯ç¬¬ä¸‰åé›†åˆçš„å­é›†. ç¬¬ä¸‰åæ‰€æœ‰å¯èƒ½çš„5ä¸ªäººè·‘ä¸€æ¬¡, å¾—å‡ºç¬¬äºŒåå’Œç¬¬ä¸‰å.ç»è¿‡1æ¬¡æ¯”èµ› å…±ç»è¿‡7æ¬¡æ¯”èµ›&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;å¦ä¸€ç§æ€è·¯ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;5æ¬¡è·‘å®Œåï¼Œæ¯ç»„ç¬¬ä¸€åå†è·‘ä¸€æ¬¡ï¼Œè¿™æ¬¡è·‘çš„ç¬¬1åï¼Œå°±æ˜¯25ä¸­çš„ç¬¬1åï¼›è·‘å®Œåï¼Œè¿™ä¸ªç¬¬1åå‡ºå»ï¼Œä»–åŸæ¥æ‰€åœ¨çš„ç»„çš„ç¬¬2åè¡¥ä¸Šï¼Œå†ä¸ç¬¬6æ¬¡ä¸­çš„å…¶ä»–4ä¸ªäººè·‘ï¼Œè¿™æ ·å†³å‡ºæœ€å¿«çš„é‚£ä¸ªäººï¼Œå°±æ˜¯25ä¸­çš„ç¬¬2åï¼ŒåŒæ ·è¿‡ç¨‹ï¼Œå†³å‡ºç¬¬3åã€‚å…± 8 æ¬¡&lt;/p&gt;
</description>
        </item>
        <item>
        <title>æ¶æ„è®¾è®¡åŸåˆ™</title>
        <link>https://lxb.wiki/88049151/</link>
        <pubDate>Fri, 01 Mar 2019 22:52:22 +0000</pubDate>
        
        <guid>https://lxb.wiki/88049151/</guid>
        <description>&lt;h4 id=&#34;grasp-é€šç”¨èŒè´£åˆ†é…è½¯ä»¶æ¨¡å¼&#34;&gt;GRASP é€šç”¨èŒè´£åˆ†é…è½¯ä»¶æ¨¡å¼&lt;/h4&gt;
&lt;p&gt;æ¥è‡ª Craig Larman çš„è½¯ä»¶è®¾è®¡ä¹¦ã€ŠUML å’Œæ¨¡å¼åº”ç”¨ã€‹[é™„å½• 1]ï¼ŒLarman åœ¨ä¹¦ä¸­æå‡ºè½¯ä»¶è®¾è®¡çš„å…³é”®ä»»åŠ¡æ˜¯èŒè´£åˆ†é…ï¼Œå¹¶æç‚¼æ€»ç»“å‡º 9 ç§ (5 ç§æ ¸å¿ƒ +4 ç§æ‰©å±•) è½¯ä»¶èŒè´£åˆ†é…æ¨¡å¼ï¼Œè¿™äº›æ¨¡å¼æ˜¯æ¯” GoF è®¾è®¡æ¨¡å¼æ›´æŠ½è±¡çš„å…ƒæ¨¡å¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. ä¿¡æ¯ä¸“å®¶ (Information Expert)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºå¯¹è±¡åˆ†é…èŒè´£çš„é€šç”¨åŸåˆ™ â€“ æŠŠèŒè´£åˆ†é…ç»™æ‹¥æœ‰è¶³å¤Ÿä¿¡æ¯å¯ä»¥å±¥è¡ŒèŒè´£çš„ä¸“å®¶&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. åˆ›å»ºè€… (Creator)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å°†åˆ›å»º A çš„èŒè´£èµ‹ç»™ Bï¼Œå¦‚æœè‡³å°‘ä¸‹é¢ä¸€ç§æƒ…å†µä¸ºçœŸï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bâ€œåŒ…å«â€æˆ–è€…èšåˆ A&lt;/li&gt;
&lt;li&gt;B è®°å½• A çš„å®ä¾‹&lt;/li&gt;
&lt;li&gt;B å¯†åˆ‡åœ°ä½¿ç”¨ A&lt;/li&gt;
&lt;li&gt;B æ‹¥æœ‰ A çš„åˆå§‹åŒ–æ•°æ®&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;3. ä½è€¦åˆ (Low Coupling)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;èµ‹äºˆèŒè´£ä½¿å¾—å¯¹è±¡é—´çš„è€¦åˆåº¦å°½å¯èƒ½ä½ï¼Œæœ€å°åŒ–å¯¹è±¡é—´çš„ä¾èµ–å’Œå˜æ›´å½±å“ï¼Œæœ€å¤§åŒ–é‡ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4. é«˜å†…èš (High Cohesion)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;èµ‹äºˆèŒè´£ä½¿å¾—æ¯ä¸ªå¯¹è±¡çš„èŒè´£å°½å¯èƒ½ä¿æŒèšç„¦å’Œå•ä¸€ï¼Œæ˜“äºç®¡ç†å’Œç†è§£ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5. æ§åˆ¶å™¨ (Controller)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æŠŠèŒè´£èµ‹äºˆç³»ç»Ÿã€è®¾å¤‡æˆ–è€…å­ç³»ç»Ÿçš„è¡¨ç¤ºç±» (é—¨é¢æ§åˆ¶å™¨)ï¼Œæˆ–è€…æŸä¸ªç”¨ä¾‹çš„è¡¨ç¤ºç±» (ç”¨ä¾‹æ§åˆ¶å™¨)ï¼Œè®©æ§åˆ¶å™¨æ¥æ”¶äº‹ä»¶å¹¶åè°ƒæ•´ä¸ªç³»ç»Ÿçš„è¿ä½œã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;6. å¤šæ€ (Polymorphism)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å°†èŒè´£åˆ†é…ç»™å¤šä¸ªå…·æœ‰åŒåæ–¹æ³•çš„å¤šæ€å­ç±»ï¼Œè¿è¡Œæ—¶æ ¹æ®éœ€è¦åŠ¨æ€åˆ‡æ¢å­ç±»ï¼Œè®©ç³»ç»Ÿè¡Œä¸ºå˜å¾—å¯æ’æ‹”ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;7. çº¯è™šæ„ (Pure Fabrication)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é’ˆå¯¹çœŸå®é—®é¢˜åŸŸä¸­ä¸å­˜åœ¨ï¼Œä½†æ˜¯è®¾è®¡å»ºæ¨¡ä¸­æœ‰ç”¨çš„æ¦‚å¿µï¼Œè®¾è®¡è™šæ„ç±»å¹¶èµ‹äºˆèŒè´£ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;8. é—´æ¥ (Indirection)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ä¸¤ä¸ªæˆ–è€…å¤šä¸ªå¯¹è±¡é—´æœ‰äº¤äº’çš„æƒ…å†µä¸‹ï¼Œä¸ºé¿å…ç›´æ¥è€¦åˆï¼Œæé«˜é‡ç”¨æ€§ï¼Œåˆ›å»ºä¸­é—´ç±»å¹¶èµ‹äºˆèŒè´£ï¼Œå¯¹è±¡çš„äº¤äº’äº¤ç”±ä¸­é—´ç±»åè°ƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;9. å—ä¿æŠ¤çš„å˜åŒ– (Protected Variation)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç®€å•è®²å°±æ˜¯å°è£…å˜åŒ–ã€‚è¯†åˆ«ç³»ç»Ÿä¸­å¯èƒ½çš„ä¸ç¨³å®šæˆ–è€…å˜åŒ–ï¼Œåœ¨ä¸ç¨³å®šç»„ä»¶ä¸Šåˆ›å»ºç¨³å®šçš„æŠ½è±¡æ¥å£ï¼Œå°†å¯èƒ½çš„å˜åŒ–å°è£…åœ¨æ¥å£ä¹‹åï¼Œä½¿å¾—ç³»ç»Ÿå†…éƒ¨çš„ä¸ç¨³å®šæˆ–è€…å˜åŒ–ä¸ä¼šå¯¹ç³»ç»Ÿçš„å…¶å®ƒéƒ¨åˆ†äº§ç”Ÿä¸è‰¯å½±å“ã€‚&lt;/p&gt;
&lt;h4 id=&#34;solid-é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™&#34;&gt;SOLID é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™&lt;/h4&gt;
&lt;p&gt;S.O.L.I.D æ˜¯é¢å‘å¯¹è±¡è®¾è®¡å’Œç¼–ç¨‹ (OOD&amp;amp;OOP) ä¸­å‡ ä¸ªé‡è¦åŸåˆ™çš„é¦–å­—æ¯ç¼©å†™ï¼Œå— Robert Martin æ¨å´‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. å•ä¸€èŒè´£åŸåˆ™ (The Single Responsibility Principle)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹æŸä¸ªç±»çš„ç†ç”±åº”è¯¥åªæœ‰ä¸€ä¸ªï¼Œå¦‚æœè¶…è¿‡ä¸€ä¸ªï¼Œè¯´æ˜ç±»æ‰¿æ‹…ä¸æ­¢ä¸€ä¸ªèŒè´£ï¼Œè¦è§†æƒ…å†µæ‹†åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. å¼€æ”¾å°é—­åŸåˆ™ (The Open Closed Principle)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è½¯ä»¶å®ä½“åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­ã€‚ä¸€èˆ¬ä¸è¦ç›´æ¥ä¿®æ”¹ç±»åº“æºç ï¼ˆå³ä½¿ä½ æœ‰æºä»£ç ï¼‰ï¼Œé€šè¿‡ç»§æ‰¿ç­‰æ–¹å¼æ‰©å±•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. é‡Œæ°æ›¿ä»£åŸåˆ™ (The Liskov Substitution Principle)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å½“ä¸€ä¸ªå­ç±»çš„å®ä¾‹èƒ½å¤Ÿè¢«æ›¿æ¢æˆä»»ä½•è¶…ç±»çš„å®ä¾‹æ—¶ï¼Œå®ƒä»¬ä¹‹é—´æ‰æ˜¯çœŸæ­£çš„ is-a å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4. ä¾èµ–å€’ç½®åŸåˆ™ (The Dependency Inversion Principle)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºåº•å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡ã€‚æ¢å¥è¯è¯´ï¼Œä¾èµ–äºæŠ½è±¡ï¼Œä¸è¦ä¾èµ–äºå…·ä½“å®ç°ã€‚æ¯”æ–¹è¯´ï¼Œä½ ä¸ä¼šæŠŠç”µå™¨ç”µæºçº¿ç„Šæ­»åœ¨å®¤å†…ç”µæºæ¥å£å¤„ï¼Œè€Œæ˜¯ç”¨æ ‡å‡†çš„æ’å¤´æ’åœ¨æ ‡å‡†çš„æ’åº§ (æŠ½è±¡) ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5. æ¥å£åˆ†ç¦»åŸåˆ™ (The Interface Segregation Principle)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸è¦å¼ºè¿«ç”¨æˆ·å»ä¾èµ–å®ƒä»¬ä¸ä½¿ç”¨çš„æ¥å£ã€‚æ¢å¥è¯è¯´ï¼Œä½¿ç”¨å¤šä¸ªä¸“é—¨çš„æ¥å£æ¯”ä½¿ç”¨å•ä¸€çš„å¤§è€Œå…¨æ¥å£è¦å¥½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¤‡æ³¨&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é«˜å†…èš + ä½è€¦åˆï¼Œå°±åƒé“ä¸­çš„ä¸€é˜´ä¸€é˜³ï¼Œæ˜¯æ‰€æœ‰å…¶å®ƒ OO è®¾è®¡åŸåˆ™çš„åŸåˆ™ (å…ƒåŸåˆ™)ï¼Œå…¶å®ƒè®¾è®¡åŸåˆ™éƒ½æ˜¯åœ¨è¿™ä¸¤ä¸ªåŸºç¡€ä¸Šæ³›åŒ–è¡ç”Ÿå‡ºæ¥çš„ã€‚&lt;/li&gt;
&lt;li&gt;ä¸Šè¿°åŸåˆ™è™½ç„¶æ˜¯é’ˆå¯¹ OO è®¾è®¡å’Œç¼–ç¨‹æå‡ºï¼Œä½†æ˜¯å¯¹äºå¤§è§„æ¨¡ç³»ç»Ÿæ¶æ„ä»ç„¶é€‚ç”¨ã€‚æ¯”å¦‚ï¼Œå¾®æœåŠ¡æ¶æ„å°±ä½“ç°äº†ï¼š&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;å•ä¸€èŒè´£ï¼šä¸€ä¸ªå¾®æœåŠ¡å°½å¯èƒ½è¦èŒè´£å•ä¸€ï¼Œæä¾›çš„æ¥å£ä¹Ÿå°½å¯èƒ½å•ä¸€ (æ¥å£åˆ†ç¦»åŸåˆ™)ï¼Œå®‰å…¨ / è·¯ç”± / é™æµç­‰è·¨æ¨ªåˆ‡é¢çš„å…³æ³¨ç‚¹ (Cross-Cutting Concerns) ç”±ç‹¬ç«‹ç½‘å…³è´Ÿè´£ï¼Œä½“ç°å…³æ³¨åˆ†ç¦» (Separation of Concerns)ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;ä¿¡æ¯ä¸“å®¶ï¼šå½“ä¸ç¡®å®šå“ªä¸ªå›¢é˜Ÿåº”è¯¥è´Ÿè´£æŸä¸ªå¾®æœåŠ¡æ—¶ï¼Œä¸€èˆ¬åŸåˆ™ä¹Ÿæ˜¯è°æ‹¥æœ‰æ•°æ®è°è´Ÿè´£ï¼ŒåŸºäºæœ‰ç•Œä¸Šä¸‹æ–‡ Bounded Contextï¼ˆä¸€èˆ¬æ˜¯è¾¹ç•Œæ¯”è¾ƒæ¸…æ™°çš„é¢†åŸŸæ•°æ®æºï¼‰æ„å»ºå¾®æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;æ¾æ•£è€¦åˆï¼šæœåŠ¡ä¹‹é—´é€šè¿‡ HTTP/JSON ç­‰è½»é‡æœºåˆ¶é€šä¿¡ï¼ŒæœåŠ¡ä¹‹é—´ä¸å¼ºè€¦åˆã€‚&lt;/li&gt;
&lt;li&gt;å—ä¿æŠ¤çš„å˜åŒ–å’Œä¾èµ–å€’ç½®ï¼šæœåŠ¡ä¹‹é—´åªä¾èµ–æŠ½è±¡æ¥å£ï¼Œå®ç°å¯èƒ½éšæ—¶å˜åŒ–ã€‚&lt;/li&gt;
&lt;li&gt;é—´æ¥ï¼šç½‘å…³åœ¨å¤–é¢çš„å®¢æˆ·ç«¯å’Œå†…éƒ¨çš„æœåŠ¡ä¹‹é—´å¢åŠ äº†ä¸€å±‚é—´æ¥ï¼Œä½¿ä¸¤è€…ä¸å¼ºè€¦åˆï¼Œå¯ä»¥ç›¸äº’ç‹¬ç«‹æ¼”åŒ–ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;ä½œä¸ºæ¶æ„å¸ˆæˆ–è€…è®¾è®¡å¸ˆï¼Œæœ‰ä¸¤ä¸ªè®¾è®¡èƒ½åŠ›æ˜¯éœ€è¦é‡ç‚¹åŸ¹å…»çš„ï¼Œä¹Ÿæ˜¯æœ€éš¾å’Œæœ€èƒ½ä½“ç°æ¶æ„è®¾è®¡æ°´å¹³çš„ï¼š&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;åˆç†çš„èŒè´£åˆ†é…èƒ½åŠ›ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªç±» / ç»„ä»¶ / å­ç³»ç»Ÿåº”è¯¥æ‰¿æ‹…ä»€ä¹ˆèŒè´£ï¼Œå¦‚ä½•ä¿è¯èŒè´£å•ä¸€ï¼Œå®ƒä»¬ä¹‹é—´å¦‚ä½•åä½œï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;ç³»ç»ŸæŠ½è±¡å’Œæ ¸å¿ƒé¢†åŸŸå»ºæ¨¡èƒ½åŠ›ï¼Œéœ€è¦æ·±å…¥ä¸€çº¿ä¸šåŠ¡åŸŸã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åˆ†å¸ƒå¼ç³»ç»Ÿæ¶æ„è®¾è®¡åŸåˆ™å’Œç†è®º&#34;&gt;åˆ†å¸ƒå¼ç³»ç»Ÿæ¶æ„è®¾è®¡åŸåˆ™å’Œç†è®º&lt;/h3&gt;
&lt;h4 id=&#34;akf-æ¶æ„åŸåˆ™&#34;&gt;AKF æ¶æ„åŸåˆ™&lt;/h4&gt;
&lt;p&gt;è¿™ 15 ä¸ªæ¶æ„åŸåˆ™æ¥è‡ªã€Šæ¶æ„å³æœªæ¥ (The Art of Scalability)ã€‹[é™„å½• 2] ä¸€ä¹¦ï¼Œä½œè€…é©¬ä¸ L. é˜¿ä¼¯ç‰¹å’Œè¿ˆå…‹å°” T. è´¹èˆå°”åˆ†åˆ«æ˜¯ eBay å’Œ PayPal çš„å‰ CTOï¼Œä»–ä»¬ç»å†è¿‡ eBay å’Œ PayPal å¤§è§„æ¨¡åˆ†å¸ƒå¼ç”µå•†å¹³å°çš„æ¶æ„æ¼”è¿›ï¼Œåœ¨ä¸€çº¿å®æˆ˜ç»éªŒçš„åŸºç¡€ä¸Šæ€»ç»“å¹¶æç‚¼å‡º 15 æ¡æ¶æ„åŸåˆ™ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.N + 1 è®¾è®¡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ°¸è¿œä¸è¦å°‘äºä¸¤ä¸ªï¼Œé€šå¸¸ä¸ºä¸‰ä¸ªã€‚æ¯”æ–¹è¯´æ— çŠ¶æ€çš„ Web/API ä¸€èˆ¬éƒ¨ç½²è‡³å°‘&amp;gt;=2 ä¸ªã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. å›æ»šè®¾è®¡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç¡®ä¿ç³»ç»Ÿå¯ä»¥å›æ»šåˆ°ä»¥å‰å‘å¸ƒè¿‡çš„ä»»ä½•ç‰ˆæœ¬ã€‚å¯ä»¥é€šè¿‡å‘å¸ƒç³»ç»Ÿä¿ç•™å†å²ç‰ˆæœ¬ï¼Œæˆ–è€…ä»£ç ä¸­å¼•å…¥åŠ¨æ€å¼€å…³åˆ‡æ¢æœºåˆ¶ (Feature Switch)ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. ç¦ç”¨è®¾è®¡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;èƒ½å¤Ÿå…³é—­ä»»ä½•å‘å¸ƒçš„åŠŸèƒ½ã€‚æ–°åŠŸèƒ½éšè—åœ¨åŠ¨æ€å¼€å…³æœºåˆ¶ (Feature Switch) åé¢ï¼Œå¯ä»¥æŒ‰éœ€ä¸€é”®æ‰“å¼€ï¼Œå¦‚å‘ç°é—®é¢˜éšæ—¶å…³é—­ç¦ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4. ç›‘æ§è®¾è®¡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è®¾è®¡é˜¶æ®µå°±å¿…é¡»è€ƒè™‘ç›‘æ§ï¼Œè€Œä¸æ˜¯åœ¨å®æ–½å®Œæ¯•ä¹‹åè¡¥å……ã€‚ä¾‹å¦‚åœ¨éœ€æ±‚é˜¶æ®µå°±è¦è€ƒè™‘å…³é”®æŒ‡æ ‡ç›‘æ§é¡¹ï¼Œè¿™å°±æ˜¯åº¦é‡é©±åŠ¨å¼€å‘ (Metrics Driven Development) çš„ç†å¿µã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5. è®¾è®¡å¤šæ´»æ•°æ®ä¸­å¿ƒ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸è¦è¢«ä¸€ä¸ªæ•°æ®ä¸­å¿ƒçš„è§£å†³æ–¹æ¡ˆæŠŠè‡ªå·±é™åˆ¶ä½ã€‚å½“ç„¶ä¹Ÿè¦è€ƒè™‘æˆæœ¬å’Œå…¬å¸è§„æ¨¡å‘å±•é˜¶æ®µã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;6. ä½¿ç”¨æˆç†Ÿçš„æŠ€æœ¯&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åªç”¨ç¡®å®å¥½ç”¨çš„æŠ€æœ¯ã€‚å•†ä¸šç»„ç»‡æ¯•ç«Ÿä¸æ˜¯ç ”ç©¶æœºæ„ï¼ŒæŠ€æœ¯è¦è½åœ°å®ç”¨ï¼Œæˆç†Ÿçš„æŠ€æœ¯ä¸€èˆ¬å‘éƒ½è¢«è¸©å¹³äº†ï¼Œæ–°æŠ€æœ¯åœ¨å®Œå…¨æˆç†Ÿå‰ä¸€èˆ¬éœ€è¦è¸©å‘èººå‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;7. å¼‚æ­¥è®¾è®¡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;èƒ½å¼‚æ­¥å°½é‡ç”¨å¼‚æ­¥ï¼Œåªæœ‰å½“ç»å¯¹å¿…è¦æˆ–è€…æ— æ³•å¼‚æ­¥æ—¶ï¼Œæ‰ä½¿ç”¨åŒæ­¥è°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;8. æ— çŠ¶æ€ç³»ç»Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å°½å¯èƒ½æ— çŠ¶æ€ï¼Œåªæœ‰å½“ä¸šåŠ¡ç¡®å®éœ€è¦ï¼Œæ‰ä½¿ç”¨çŠ¶æ€ã€‚æ— çŠ¶æ€ç³»ç»Ÿæ˜“äºæ‰©å±•ï¼Œæœ‰çŠ¶æ€ç³»ç»Ÿä¸æ˜“æ‰©å±•ä¸”çŠ¶æ€å¤æ‚æ—¶æ›´æ˜“å‡ºé”™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;9. æ°´å¹³æ‰©å±•è€Œéå‚ç›´å‡çº§&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ°¸è¿œä¸è¦ä¾èµ–æ›´å¤§ã€æ›´å¿«çš„ç³»ç»Ÿã€‚ä¸€èˆ¬å…¬å¸æˆé•¿åˆ°ä¸€å®šé˜¶æ®µæ™®éç»å†è¿‡ä¹°æ›´å¤§ã€æ›´å¿«ç³»ç»Ÿçš„é˜¶æ®µï¼Œå³ä½¿æ·˜å®å½“å¹´ä¹Ÿä¹°å°å‹æœºæ‰›æµé‡ï¼Œåæ¥æ‰›ä¸ä½æ‰ä½“ä¼šè¿™æ ·åšä¸ scalableï¼Œæ‰€ä»¥æ‰æœ‰åæ¥çš„å» IOE è¡ŒåŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;10. è®¾è®¡æ—¶è‡³å°‘è¦æœ‰ä¸¤æ­¥å‰ç»æ€§&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨æ‰©å±•æ€§é—®é¢˜å‘ç”Ÿå‰è€ƒè™‘å¥½ä¸‹ä¸€æ­¥çš„è¡ŒåŠ¨è®¡åˆ’ã€‚æ¶æ„å¸ˆçš„ä»·å€¼å°±ä½“ç°åœ¨è¿™é‡Œï¼Œæ¶æ„è®¾è®¡å¯¹äºæµé‡çš„å¢é•¿è¦æœ‰æå‰é‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;11. éæ ¸å¿ƒåˆ™è´­ä¹°&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸æ˜¯ä½ æœ€æ“…é•¿ï¼Œä¹Ÿæä¾›ä¸äº†å·®å¼‚åŒ–çš„ç«äº‰ä¼˜åŠ¿åˆ™ç›´æ¥è´­ä¹°ã€‚é¿å… Not Invented Here ç—‡çŠ¶ï¼Œé¿å…å‡¡äº‹éƒ½è¦é‡é€ è½®å­ï¼Œæ¯•ç«Ÿè¾¾æˆä¸šåŠ¡ç›®æ ‡æ‰æ˜¯é‡ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;12. ä½¿ç”¨å•†å“åŒ–ç¡¬ä»¶&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä¾¿å®œçš„å°±æ˜¯æœ€å¥½çš„ã€‚è¿™ç‚¹å’Œç¬¬ 9 ç‚¹æ˜¯ä¸€è‡´çš„ï¼Œé€šè¿‡å•†å“åŒ–ç¡¬ä»¶æ°´å¹³æ‰©å±•ï¼Œè€Œä¸æ˜¯ä¹°æ›´å¤§ã€æ›´å¿«çš„ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;13. å°æ„å»ºã€å°å‘å¸ƒå’Œå¿«è¯•é”™&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å…¨éƒ¨ç ”å‘è¦å°æ„å»ºï¼Œä¸æ–­è¿­ä»£ï¼Œè®©ç³»ç»Ÿä¸æ–­æˆé•¿ã€‚è¿™ä¸ªå’Œå¾®æœåŠ¡ç†å¿µä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;14. éš”ç¦»æ•…éšœ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å®ç°æ•…éšœéš”ç¦»è®¾è®¡ï¼Œé€šè¿‡æ–­è·¯ä¿æŠ¤é¿å…æ•…éšœä¼ æ’­å’Œäº¤å‰å½±å“ã€‚é€šè¿‡èˆ±å£æ³³é“ç­‰æœºåˆ¶éš”ç¦»å¤±è´¥å•å…ƒ (Failure Unit)ï¼Œä¸€ä¸ªå•å…ƒçš„å¤±è´¥ä¸è‡³å½±å“å…¶å®ƒå•å…ƒçš„æ­£å¸¸å·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;15. è‡ªåŠ¨åŒ–&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è®¾è®¡å’Œæ„å»ºè‡ªåŠ¨åŒ–çš„è¿‡ç¨‹ã€‚å¦‚æœæœºå™¨å¯ä»¥åšï¼Œå°±ä¸è¦ä¾èµ–äºäººã€‚è‡ªåŠ¨åŒ–æ˜¯ DevOps çš„åŸºç¡€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¤‡æ³¨&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¿™ 15 æ¡æ¶æ„åŸåˆ™åŸºæœ¬ä¸Šæ˜¯ eBay åœ¨å‘å±•ï¼Œç»å†è¿‡æµé‡æ•°é‡çº§å¢é•¿å†²å‡»è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡ä¸æ–­è¸©å‘è¸©å‡ºæ¥çš„ï¼Œæ˜¯å¹²è´§ä¸­çš„å¹²è´§ã€‚æ¶ˆåŒ–å¸æ”¶è¿™ 15 æ¡åŸåˆ™ï¼ŒåŸºæœ¬å¯ä¿ç³»ç»Ÿæ¶æ„ä¸ä¼šæœ‰åŸåˆ™æ€§é—®é¢˜ã€‚&lt;/li&gt;
&lt;li&gt;è¿™ 15 æ¡åŸåˆ™åŒæ ·é€‚ç”¨äºç°åœ¨çš„å¾®æœåŠ¡æ¶æ„ã€‚eBay å‘å±•è¾ƒæ—©ï¼Œå®ƒå†…éƒ¨å…¶å®å¾ˆæ—© (å·®ä¸å¤š 2010 å¹´å‰) å°±å·²å½¢æˆå®Œå–„çš„å¾®æœåŠ¡ç”Ÿæ€ï¼Œåªæ˜¯æ²¡æœ‰æå‡ºå¾®æœåŠ¡è¿™ä¸ªæ¦‚å¿µã€‚&lt;/li&gt;
&lt;li&gt;è¿™ 15 æ¡åŸåˆ™å¯æ ¹æ® TTM(Time To Market)ï¼Œå¯ç”¨æ€§ / å¯æ‰©å±•æ€§ / è´¨é‡ï¼Œæˆæœ¬ / æ•ˆç‡åˆ†å¸ƒåœ¨ä¸‰ä¸ªç¯å†…ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;12-è¦ç´ åº”ç”¨&#34;&gt;12 è¦ç´ åº”ç”¨&lt;/h4&gt;
&lt;p&gt;åŸºäºä¸Šç™¾ä¸‡åº”ç”¨çš„æ‰˜ç®¡å’Œè¿è¥ç»éªŒï¼Œåˆ›å§‹äºº Adam Wiggins æå‡ºäº† 12 è¦ç´ åº”ç”¨å®£è¨€ ã€‚ç®€å•è®²ï¼Œæ»¡è¶³è¿™ 12 ä¸ªè¦ç´ çš„åº”ç”¨æ˜¯æ¯”è¾ƒå®¹æ˜“äº‘åŒ–å¹¶å±…ä½åœ¨ Heroku å¹³å°ä¸Šçš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. åŸºå‡†ä»£ç &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ä»½åŸºå‡†ä»£ç ï¼Œå¤šä»½éƒ¨ç½²ã€‚å¦‚æœç”¨é•œåƒéƒ¨ç½²æ–¹å¼ï¼Œåˆ™ä¸€ä¸ªé•œåƒå¯ä»¥éƒ¨ç½²åˆ°å¤šä¸ªç¯å¢ƒ (æµ‹è¯•ï¼Œé¢„å‘ï¼Œç”Ÿäº§)ï¼Œè€Œä¸æ˜¯ç»™æ¯ä¸ªç¯å¢ƒåˆ¶ä½œä¸€ä¸ªä¸åŒé•œåƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. ä¾èµ–&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ˜¾å¼å£°æ˜ä¾èµ–ã€‚å¦‚æœç”¨é•œåƒéƒ¨ç½²ï¼Œåˆ™ä¸€èˆ¬ä¾èµ–è¢«ç›´æ¥æ‰“åœ¨é•œåƒä¸­ï¼Œæˆ–è€…å£°æ˜åœ¨ docker file ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. é…ç½®&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ç¯å¢ƒä¸­å­˜å‚¨é…ç½®ã€‚åœ¨ Heroku æˆ–è€…ç±»ä¼¼çš„ PaaS å¹³å°ä¸Šï¼Œé…ç½®ä¸€èˆ¬æ˜¯æ¨èæ³¨å…¥åˆ°ç¯å¢ƒå˜é‡ä¸­çš„ã€‚ç°åœ¨é‡‡ç”¨é›†ä¸­å¼é…ç½®ä¸­å¿ƒä¹Ÿæ˜¯ä¸€ç§æµè¡Œæ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4. åç«¯æœåŠ¡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æŠŠåç«¯æœåŠ¡ (ä¾‹å¦‚ç¼“å­˜ï¼Œæ•°æ®åº“ï¼ŒMQ ç­‰) å½“ä½œé™„åŠ èµ„æºï¼Œç›¸å…³é…ç½®å’Œè¿æ¥å­—ç¬¦ä¸²é€šè¿‡ç¯å¢ƒå˜é‡æ³¨å…¥ï¼Œæˆ–è€…é‡‡ç”¨é…ç½®ä¸­å¿ƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5. æ„å»ºã€å‘å¸ƒå’Œè¿è¡Œ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸¥æ ¼åˆ†ç¦»æ„å»ºå’Œè¿è¡Œã€‚å¦‚æœä½¿ç”¨é•œåƒéƒ¨ç½²ï¼Œåˆ™æ„å»ºã€å‘å¸ƒ / è¿è¡Œæ˜¯é€šè¿‡é•œåƒè¿™ç§ä¸­é—´æ ¼å¼ä¸¥æ ¼åˆ†ç¦»çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;6. è¿›ç¨‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ— çŠ¶æ€çš„è¿›ç¨‹è¿è¡Œåº”ç”¨ã€‚å®¹å™¨è¿è¡Œæ—¶ç›¸å½“äºè¿›ç¨‹ï¼Œé€‚ç”¨äºæ— çŠ¶æ€ Web/APIã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;7. ç«¯å£ç»‘å®š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡ç«¯å£ç»‘å®šæä¾›æœåŠ¡ã€‚å®¹å™¨ä¹Ÿæ˜¯é€šè¿‡ç«¯å£ç»‘å®šå¯¹å¤–æä¾›æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;8. å¹¶å‘&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡è¿›ç¨‹æ¨¡å‹è¿›è¡Œæ‰©å±•ã€‚å®¹å™¨è¿è¡Œæ—¶ç›¸å½“äºè¿›ç¨‹ï¼Œé€šè¿‡èµ·å¤šä¸ªå®¹å™¨å¯ä»¥ä»»æ„æ‰©å±•å¹¶å‘æ•°é‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;9. æ˜“å¤„ç†&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¿«é€Ÿå¯åŠ¨å’Œä¼˜é›…ç»ˆæ­¢å¯æœ€å¤§åŒ–å¥å£®æ€§ã€‚docker å®¹å™¨æ”¯æŒç§’çº§å¯åŠ¨å’Œå…³é—­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;10. å¼€å‘ç¯å¢ƒå’Œçº¿ä¸Šç¯å¢ƒç­‰ä»·&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å°½å¯èƒ½ä¿æŒå¼€å‘ã€æµ‹è¯•ã€é¢„å‘å’Œçº¿ä¸Šç¯å¢ƒç›¸åŒã€‚å®¹å™¨å¯ä»¥ä¿è¯å®¹å™¨å†…è¿è¡Œæ—¶ç¯å¢ƒçš„ä¸€è‡´æ€§ï¼Œè¿˜éœ€è¦ä¿è¯ä¸åŒç¯å¢ƒçš„ä¸€è‡´æ€§ï¼Œä¾‹å¦‚ä¸åŒç¯å¢ƒå†…çš„æ“ä½œç³»ç»Ÿï¼Œè´Ÿè½½å‡è¡¡ï¼ŒæœåŠ¡å‘ç°ï¼Œåå°æœåŠ¡ï¼Œç›‘æ§å‘Šè­¦ç­‰è¦å°½å¯èƒ½ä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;11. æ—¥å¿—&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æŠŠæ—¥å¿—å½“ä½œæ•°æ®æµã€‚Heroku ä¸æ”¯æŒæœ¬åœ°æ–‡ä»¶ï¼Œæ‰€ä»¥å¿…é¡»ä»¥æµæ–¹å¼æŠŠæ—¥å¿—è¾“é€åˆ°åå°æ—¥å¿—æœåŠ¡ã€‚é™¤äº†æ—¥å¿—ä»¥å¤–è¿˜è¦è¡¥å……è€ƒè™‘ metrics æµçš„é‡‡é›†å’Œè¾“é€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;12. ç®¡ç†è¿›ç¨‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åå°ç®¡ç†ä»»åŠ¡å½“ä½œä¸€æ¬¡æ€§çš„è¿›ç¨‹ã€‚å…¶å®ç›¸å½“äºåœ¨ Heroku ä¸Šä»¥ç‹¬ç«‹è¿›ç¨‹æ–¹å¼è¿è¡Œä»»åŠ¡ Jobã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¤‡æ³¨&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;12 è¦ç´ åº”ç”¨ä¹Ÿæ˜¯å½“å‰äº‘åŸç”Ÿåº”ç”¨ (Cloud Native App) çš„å‚è€ƒæ ‡å‡†ï¼Œä¹Ÿç§°ä¸ºäº‘åº”ç”¨è¿ç§»åŸåˆ™ã€‚æ»¡è¶³è¿™ 12 ä¸ªè¦ç´ çš„åº”ç”¨ï¼Œå¯ä»¥æ¯”è¾ƒé¡ºåˆ©è¿ç§»åˆ°å„ç§äº‘å¹³å° (Kubernetes, Marathon, Cloud Foundry ç­‰) ä¸Šã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºé¢ä¸´ä¼ä¸šé—ç•™åº”ç”¨æ”¹é€ å’Œäº‘åŒ–è¿ç§»çš„æ¶æ„å¸ˆï¼Œå¯ä»¥é‡ç‚¹å‚è€ƒè¿™ 12 æ¡è¿ç§»åŸåˆ™ã€‚&lt;/li&gt;
&lt;li&gt;Docker å®¹å™¨æŠ€æœ¯å¯ä»¥è®¤ä¸ºæ˜¯ä¸ºäº‘è¿ç§»é‡èº«å®šåˆ¶çš„æŠ€æœ¯ã€‚å®¹å™¨åŒ–æ˜¯åç»­äº‘è¿ç§»çš„æ·å¾„ï¼Œæ‰€ä»¥é—ç•™åº”ç”¨æ”¹é€ å¯ä»¥å…ˆæƒ³åŠæ³•åšåˆ°å®¹å™¨åŒ–ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;cap-å®šç†&#34;&gt;CAP å®šç†&lt;/h4&gt;
&lt;p&gt;2000 å¹´ 7 æœˆï¼ŒåŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡çš„ Eric Brewer æ•™æˆåœ¨ ACM PODC ä¼šè®®ä¸Šæå‡º CAP çŒœæƒ³ã€‚2 å¹´åï¼Œéº»çœç†å·¥å­¦é™¢çš„ Seth Gilbert å’Œ Nancy Lynch ä»ç†è®ºä¸Šè¯æ˜äº† CAPã€‚ä¹‹åï¼ŒCAP ç†è®ºæ­£å¼æˆä¸ºåˆ†å¸ƒå¼è®¡ç®—é¢†åŸŸçš„å…¬è®¤å®šç†ã€‚&lt;/p&gt;
&lt;p&gt;CAP è®¤ä¸ºï¼šä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿæœ€å¤šåŒæ—¶æ»¡è¶³ä¸€è‡´æ€§ (Consistency)ï¼Œå¯ç”¨æ€§ (Availability) å’Œåˆ†åŒºå®¹å¿æ€§ (Partition Tolerance) è¿™ä¸‰é¡¹ä¸­çš„ä¸¤é¡¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.ä¸€è‡´æ€§ (Consistency)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸€è‡´æ€§æŒ‡â€œall nodes see the same data at the same timeâ€ï¼Œå³æ›´æ–°æ“ä½œæˆåŠŸï¼Œæ‰€æœ‰èŠ‚ç‚¹åœ¨åŒä¸€æ—¶é—´çš„æ•°æ®å®Œå…¨ä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.å¯ç”¨æ€§ (Availability)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¯ç”¨æ€§æŒ‡â€œReads and writes always succeedâ€ï¼Œå³æœåŠ¡ä¸€ç›´å¯ç”¨ï¼Œè€Œä¸”å“åº”æ—¶é—´æ­£å¸¸ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.åˆ†åŒºå®¹å¿æ€§ (Partition tolerance)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åˆ†åŒºå®¹å¿æ€§æŒ‡â€œthe system continue to operate despite arbitrary message loss or failure of part of the system.â€ï¼Œå³åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨é‡åˆ°æŸèŠ‚ç‚¹æˆ–ç½‘ç»œåˆ†åŒºæ•…éšœæ—¶ï¼Œä»ç„¶èƒ½å¤Ÿå¯¹å¤–æä¾›æ»¡è¶³ä¸€è‡´æ€§å’Œå¯ç”¨æ€§çš„æœåŠ¡ã€‚&lt;/p&gt;
&lt;h4 id=&#34;base-ç†è®º&#34;&gt;BASE ç†è®º&lt;/h4&gt;
&lt;p&gt;eBay æ¶æ„å¸ˆ Dan Pritchett åŸºäºå¯¹å¤§è§„æ¨¡åˆ†å¸ƒå¼ç³»ç»Ÿçš„å®è·µæ€»ç»“ï¼Œåœ¨ ACM ä¸Šå‘è¡¨æ–‡ç« æå‡ºäº† BASE ç†è®ºï¼ŒBASE ç†è®ºæ˜¯å¯¹äº CAP ç†è®ºçš„å»¶ä¼¸ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯å³ä½¿æ— æ³•åšåˆ°å¼ºä¸€è‡´æ€§ (Strong Consistencyï¼ŒCAP ä¸­çš„ä¸€è‡´æ€§æŒ‡å¼ºä¸€è‡´æ€§)ï¼Œä½†æ˜¯å¯ä»¥é‡‡ç”¨é€‚å½“çš„æ–¹å¼è¾¾åˆ°æœ€ç»ˆä¸€è‡´æ€§ (Eventual Consistency)ã€‚&lt;/p&gt;
&lt;p&gt;BASE æŒ‡åŸºæœ¬å¯ç”¨ (Basically Available)ã€è½¯çŠ¶æ€ (Soft State) å’Œæœ€ç»ˆä¸€è‡´æ€§ (Eventual Consistency)ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.åŸºæœ¬å¯ç”¨ (Basically Available)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åŸºæœ¬å¯ç”¨æ˜¯æŒ‡åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨å‡ºç°æ•…éšœæ—¶ï¼Œå…è®¸æŸå¤±éƒ¨åˆ†å¯ç”¨æ€§ï¼Œå³ä¿è¯æ ¸å¿ƒå¯ç”¨ã€‚æ¯”å¦‚æœåŠ¡é™çº§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.è½¯çŠ¶æ€ (Soft State)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è½¯çŠ¶æ€æ˜¯æŒ‡å…è®¸ç³»ç»Ÿå­˜åœ¨ä¸­é—´çŠ¶æ€ï¼Œè€Œè¯¥ä¸­é—´çŠ¶æ€ä¸ä¼šå½±å“ç³»ç»Ÿçš„æ•´ä½“å¯ç”¨æ€§ã€‚åˆ†å¸ƒå¼å­˜å‚¨ä¸­ä¸€èˆ¬ä¸€ä»½æ•°æ®è‡³å°‘å­˜ä¸‰ä¸ªå‰¯æœ¬ï¼Œå…è®¸ä¸åŒèŠ‚ç‚¹é—´å‰¯æœ¬åŒæ­¥çš„å»¶è¿Ÿå°±æ˜¯è½¯çŠ¶æ€çš„ä½“ç°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.æœ€ç»ˆä¸€è‡´æ€§ (Eventual Consistency)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆä¸€è‡´æ€§æ˜¯æŒ‡ç³»ç»Ÿä¸­çš„æ‰€æœ‰æ•°æ®å‰¯æœ¬ç»è¿‡ä¸€æ®µæ—¶é—´åï¼Œæœ€ç»ˆèƒ½å¤Ÿè¾¾æˆä¸€è‡´çŠ¶æ€ã€‚å¼±ä¸€è‡´æ€§å’Œå¼ºä¸€è‡´æ€§ç›¸åï¼Œæœ€ç»ˆä¸€è‡´æ€§æ˜¯å¼±ä¸€è‡´æ€§çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¤‡æ³¨&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;CAP å’Œ BASE ç†è®ºå¯ä»¥æŠ å¾—å¾ˆæ·±ï¼ŒèƒŒåç”šè‡³æœ‰å¾ˆå¤æ‚çš„æ•°å­¦è¯æ˜ã€‚æˆ‘ç†è§£å¾—ç›¸å¯¹ç®€å•æµ…æ˜¾ï¼šæ€§èƒ½ã€é«˜å¯ç”¨ã€ä¸ä¸¢æ•°æ®å’Œæ•°æ®ä¸€è‡´æ€§å¯¹åˆ†å¸ƒå¼ç³»ç»Ÿæ¥è¯´ä¸€èˆ¬æ˜¯å¼ºéœ€æ±‚ï¼Œéšç€æµé‡çš„å¢é•¿ï¼Œå¤åˆ¶å’Œåˆ†åŒºåœ¨æ‰€éš¾å…ï¼š&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;å¤åˆ¶ (replication)ï¼šæ•°æ®åœ¨å¤šä¸ªèŠ‚ç‚¹ä¸Šå­˜å¤šä»½ä¿è¯ä¸ä¸¢å’Œé«˜å¯ç”¨ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;åˆ†åŒº (partition)ï¼šæ•°æ®æŒ‰æŸä¸ªçº¬åº¦åˆ‡åˆ†åˆ†å¸ƒåœ¨ä¸åŒèŠ‚ç‚¹ä¸Šåˆ†æ‘Šæµé‡å‹åŠ›ä¿è¯é«˜æ€§èƒ½ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸ºäº†é™ä½æ¯ä¸ªèŠ‚ç‚¹çš„å¤æ‚æ€§ã€‚ä¾‹å¦‚æ•°æ®åº“çš„åˆ†åº“åˆ†è¡¨ï¼Œç³»ç»Ÿæ‹†åˆ†å¾®æœåŠ¡åŒ–ä¹Ÿæ˜¯ä¸€ç§åˆ†åŒºã€‚è¿™ä¸¤è€…éƒ½ä¼šå¸¦æ¥ä¸€è‡´æ€§é—®é¢˜ï¼Œä¸€è‡´æ€§åœ¨æ—¶é—´ä¸Šæœ‰ä¸€ç‚¹å¦¥åçš„ä½™åœ° - å³æ˜¯æœ€ç»ˆä¸€è‡´æ€§ï¼›æ—¶é—´ä¸Šè¦æ±‚å¼ºä¸€è‡´çš„è¯ï¼Œåªæœ‰å¯ç”¨æ€§å¯ä»¥é€‚å½“æŠ˜ä¸­ã€‚ç³»ç»Ÿæ¶æ„çš„æ¸¸æˆå¾ˆå¤§éƒ¨åˆ†æ˜¯å’ŒçŠ¶æ€ä¸€è‡´æ€§ä½œæ–—äº‰çš„æ¸¸æˆã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;é€‰æ‹©ä½¿ç”¨åˆ†å¸ƒå¼äº§å“æ—¶ï¼Œæ¯”å¦‚ NoSQL æ•°æ®åº“ï¼Œä½ éœ€è¦äº†è§£å®ƒåœ¨ CAP ç¯ä¸­æ‰€åœ¨çš„ä½ç½®ï¼Œç¡®ä¿å®ƒæ»¡è¶³ä½ çš„åœºæ™¯éœ€è¦ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ç»„ç»‡å’Œç³»ç»Ÿæ”¹è¿›åŸåˆ™&#34;&gt;ç»„ç»‡å’Œç³»ç»Ÿæ”¹è¿›åŸåˆ™&lt;/h3&gt;
&lt;h4 id=&#34;åº·å¨æ³•åˆ™&#34;&gt;åº·å¨æ³•åˆ™&lt;/h4&gt;
&lt;p&gt;Melvin Conway åœ¨ 1967 å¹´æå‡ºæ‰€è°“åº·å¨æ³•åˆ™ ï¼ŒæŒ‡å‡ºç»„ç»‡æ¶æ„å’Œç³»ç»Ÿæ¶æ„ä¹‹é—´æœ‰ä¸€ç§éšå«çš„æ˜ å°„å…³ç³»ï¼š&lt;/p&gt;
&lt;p&gt;Organization which design system [â€¦] are constrained to produce designs which are copies of the communication structures of these organization. è®¾è®¡ç³»ç»Ÿçš„ç»„ç»‡å…¶äº§ç”Ÿçš„è®¾è®¡ç­‰ä»·äºç»„ç»‡é—´çš„æ²Ÿé€šç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;åº·å¨æ³•åˆ™ä¹Ÿå¯ä»¥å€’è¿‡æ¥é˜è¿°ï¼š&lt;/p&gt;
&lt;p&gt;Conwayâ€™s law reversedï¼šYou wonâ€™t be able to successfully establish an efficient organization structure that is not supported by your system design(architecture)ã€‚ å¦‚æœç³»ç»Ÿæ¶æ„ä¸æ”¯æŒï¼Œä½ æ— æ³•å»ºç«‹ä¸€ä¸ªé«˜æ•ˆçš„ç»„ç»‡ï¼›åŒæ ·ï¼Œå¦‚æœä½ çš„ç»„ç»‡æ¶æ„ä¸æ”¯æŒï¼Œä½ ä¹Ÿæ— æ³•å»ºç«‹ä¸€ä¸ªé«˜æ•ˆçš„ç³»ç»Ÿæ¶æ„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç³»ç»Ÿæ”¹è¿›ä¸‰åŸåˆ™&#34;&gt;ç³»ç»Ÿæ”¹è¿›ä¸‰åŸåˆ™&lt;/h4&gt;
&lt;p&gt;IT è¿ç»´ç®¡ç†ç•…é”€ä¹¦ã€Šå‡¤å‡°é¡¹ç›®ã€‹[é™„å½• 8] çš„ä½œè€… Gene Kim åœ¨è°ƒç ”äº†ä¼—å¤šé«˜æ•ˆèƒ½ IT ç»„ç»‡åæ€»ç»“å‡ºæ”¯æ’‘ DevOps è¿ä½œçš„ä¸‰ä¸ªåŸç† (The Three Ways: The Principles Underpinning DevOps)[é™„å½• 9]ï¼Œæˆ‘è®¤ä¸ºä¹Ÿæ˜¯ç³»ç»Ÿæ”¹è¿›æå‡çš„ä¸€èˆ¬æ€§åŸç† [é™„å½• 7]ï¼Œè§ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åŸç†ä¸€ï¼šç³»ç»Ÿæ€è€ƒ (System Thinking)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¼€å‘é©±åŠ¨çš„ç»„ç»‡ï¼Œå…¶èƒ½åŠ›ä¸æ˜¯åˆ¶ä½œè½¯ä»¶ï¼Œè€Œæ˜¯æŒç»­çš„äº¤ä»˜å®¢æˆ·ä»·å€¼ã€‚ä»·å€¼ä»ä¸šåŠ¡éœ€æ±‚å¼€å§‹ï¼Œç»è¿‡ç ”å‘æµ‹è¯•ï¼Œåˆ°éƒ¨ç½²è¿ç»´ï¼Œä¾æ¬¡æµåŠ¨ï¼Œå¹¶æœ€ç»ˆä»¥æœåŠ¡å½¢å¼äº¤ä»˜åˆ°å®¢æˆ·æ‰‹ä¸­ã€‚æ•´ä¸ªä»·å€¼é“¾æµé€Ÿå¹¶ä¸ä¾èµ–å•ä¸ªéƒ¨åˆ† (å›¢é˜Ÿæˆ–ä¸ªäºº) çš„æ°å‡ºå·¥ä½œï¼Œè€Œæ˜¯å—æ•´ä¸ªä»·å€¼é“¾æœ€è–„å¼±ç¯èŠ‚ (ç“¶é¢ˆ) çš„é™åˆ¶ã€‚æ‰€ä»¥å±€éƒ¨ä¼˜åŒ–é€šå¸¸æ— æ•ˆï¼Œåè€Œæ‹›è‡´å…¨å±€å—æŸã€‚&lt;/p&gt;
&lt;p&gt;Gene Kim ç‰¹åˆ«æŒ‡å‡ºï¼šAny improvements made anywhere besides the bottleneck are an illusion. åœ¨ç“¶é¢ˆä¹‹å¤–çš„ä»»ä½•ä¼˜åŒ–æå‡éƒ½åªæ˜¯å¹»è±¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åŸç†äºŒï¼šå¼ºåŒ–åé¦ˆç¯ (Amplify Feedback Loops)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿‡ç¨‹æ”¹è¿›å¸¸å¸¸é€šè¿‡åŠ å¼ºåé¦ˆç¯æ¥è¾¾æˆã€‚åŸç†äºŒå¼ºè°ƒä¼ä¸šå’Œå®¢æˆ·ä¹‹é—´ã€ç»„ç»‡å›¢é˜Ÿé—´ã€æµç¨‹ä¸Šå’Œç³»ç»Ÿå†…çš„åé¦ˆç¯ã€‚æ²¡æœ‰æµ‹é‡å°±æ²¡æœ‰æå‡ï¼Œåé¦ˆè¦ä»¥æµ‹é‡æ•°æ®ä¸ºå‡†ï¼Œé€šè¿‡åé¦ˆæ•°æ®ä¼˜åŒ–æ”¹è¿›ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åŸç†ä¸‰ï¼šæŒç»­è¯•éªŒå’Œå­¦ä¹ çš„æ–‡åŒ– (Culture of Continual Experimentation And Learning)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ä¼ä¸šç®¡ç†æ–‡åŒ–å±‚é¢å¼ºè°ƒå‹‡äºè¯•é”™å’ŒæŒç»­è¯•éªŒã€å­¦ä¹ å’Œæ”¹è¿›çš„æ–‡åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¤‡æ³¨&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åº·å¨æ³•åˆ™ç»™æˆ‘ä»¬çš„å¯ç¤ºï¼šç³»ç»Ÿæ¶æ„å’Œç»„ç»‡æ¶æ„ä¹‹é—´æœ‰éšå«çš„æ˜ å°„å…³ç³»ï¼Œä½ ä¸èƒ½å•æ–¹é¢æ”¹å˜ä¸€æ–¹çš„ç»“æ„ï¼Œè°ƒæ•´æ—¶å¿…é¡»ä¸¤è¾¹è”åŠ¨ã€‚ç³»ç»Ÿæ¶æ„å¦‚æœæ˜¯è€¦åˆçš„ï¼Œå°±å¾ˆéš¾ç»„ç»‡åˆ†æ•£å¼çš„å›¢é˜Ÿç»“æ„ï¼Œä¸¤è¾¹æ˜ å°„ä¸èµ·æ¥ï¼Œå›¢é˜Ÿä¹‹é—´å®¹æ˜“æ‘©æ“¦å¯¼è‡´ç”Ÿäº§ç‡ä¸‹é™ã€‚æ‰€ä»¥ä¸€èˆ¬å…ˆæŒ‰ä¸šåŠ¡è¾¹ç•Œå¯¹å•å—åº”ç”¨è¿›è¡Œè§£è€¦æ‹†åˆ†ï¼ŒåŒæ—¶åšç›¸åº”çš„å›¢é˜Ÿæ‹†åˆ†ï¼Œä½¿ä¸¤è¾¹å¯ä»¥æ˜ å°„ï¼Œæ¯ä¸ªå›¢é˜Ÿå¯ä»¥ç‹¬ç«‹å¼€å‘ã€æµ‹è¯•å’Œéƒ¨ç½²å„è‡ªçš„å¾®æœåŠ¡ï¼Œè¿›è€Œæå‡ç”Ÿäº§ç‡ã€‚è¿™å°±æ˜¯è¿‘å¹´æµè¡Œçš„å¾®æœåŠ¡æ¶æ„èƒŒåçš„ç»„ç»‡åŸåˆ™ã€‚è¯¦è§æˆ‘ä¹‹å‰å‘è¡¨çš„æ–‡ç« ã€Šä¼ä¸šçš„ç»„ç»‡æ¶æ„æ˜¯å¦‚ä½•å½±å“æŠ€æœ¯æ¶æ„çš„ã€‹[é™„å½• 6]ã€‚&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿæ€è€ƒè¦æ±‚æˆ‘ä»¬åŠ å¼ºå›¢é˜Ÿåˆä½œï¼ŒåŸ¹å…»æµå¼æ€ç»´å’Œç“¶é¢ˆçº¦æŸæ€ç»´ï¼Œæ‰¾å‡ºç“¶é¢ˆå¹¶é’ˆå¯¹æ€§åœ°ä¼˜åŒ–ã€‚åœ¨ç ”å‘å‹ç»„ç»‡ä¸­ï¼Œå¸¸è§çš„ç³»ç»Ÿç“¶é¢ˆå¦‚è¿ç»´æœºå™¨èµ„æºæä¾› (Provisioning) ç¼“æ…¢ï¼Œå‘å¸ƒæµç¨‹ç¹çå®¹æ˜“å‡ºé”™ï¼Œå¼€å‘ / æµ‹è¯•ï¼UAT ç¯å¢ƒç¼ºå¤±æˆ–ä¸å®Œå–„ï¼Œé—ç•™ç³»ç»Ÿè€¦åˆå†å²è´Ÿæ‹…é‡ï¼ŒåŸºç¡€ç ”å‘å¹³å°è–„å¼±ç­‰ç­‰ã€‚è¿™äº›ç“¶é¢ˆç‚¹ç‰¹åˆ«éœ€è¦å…³æ³¨ä¼˜åŒ–ã€‚&lt;/li&gt;
&lt;li&gt;åé¦ˆåŸç†è¦æ±‚æˆ‘ä»¬å…³æ³¨åŸºäºæ•°æ®çš„åé¦ˆï¼ŒæŠ€æœ¯ä¸Šçš„æ‰‹æ®µåŒ…æ‹¬å¤§æ•°æ®åˆ†æå’Œç³»ç»Ÿå„ä¸ªå±‚æ¬¡çš„æµ‹é‡ç›‘æ§ã€‚æ²¡æœ‰æµ‹é‡å°±æ²¡æœ‰åé¦ˆï¼Œæ²¡æœ‰åé¦ˆå°±æ²¡æœ‰æå‡ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ç®¡ç†æ–‡åŒ–å±‚é¢ï¼š&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;ç®¡ç†å±‚è¦æ‰¿è®¤ä¼ä¸šå†…éƒ¨è¿‘ 50% çš„åˆ›æ–°æˆ–æµç¨‹æ”¹è¿›é¡¹ç›®æ˜¯æœ‰å¯èƒ½å¤±è´¥çš„ï¼Œå³ä½¿å¤±è´¥ï¼Œå‘˜å·¥ä¸ä¼šå—åˆ°è´£ç½šï¼Œé¼“åŠ±æŒç»­çš„è¯•éªŒå’Œä»ä¸­å­¦ä¹ ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;ç®¡ç†å±‚è¦æœ‰æŠ€æœ¯å¿å€ºæ„è¯†ï¼Œå‹¿è¿½æ±‚ 100% å‘˜å·¥åˆ©ç”¨ç‡ï¼Œè¦é¢„ç•™ 20%~30% çš„æ—¶é—´ç»™å‘˜å·¥åšåˆ›æ–°å’Œç³»ç»Ÿæ”¹è¿›æå‡é¡¹ç›®&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>ç§’æ€ç³»ç»Ÿä¼˜åŒ–æ€è·¯</title>
        <link>https://lxb.wiki/bcca3074/</link>
        <pubDate>Tue, 26 Feb 2019 22:13:12 +0000</pubDate>
        
        <guid>https://lxb.wiki/bcca3074/</guid>
        <description>&lt;h3 id=&#34;ä¸€ç§’æ€ä¸šåŠ¡ä¸ºä»€ä¹ˆéš¾åš&#34;&gt;ä¸€ã€ç§’æ€ä¸šåŠ¡ä¸ºä»€ä¹ˆéš¾åš&lt;/h3&gt;
&lt;p&gt;1ï¼‰imç³»ç»Ÿï¼Œä¾‹å¦‚qqæˆ–è€…å¾®åšï¼Œæ¯ä¸ªäººéƒ½è¯»è‡ªå·±çš„æ•°æ®ï¼ˆå¥½å‹åˆ—è¡¨ã€ç¾¤åˆ—è¡¨ã€ä¸ªäººä¿¡æ¯ï¼‰ï¼› 2ï¼‰å¾®åšç³»ç»Ÿï¼Œæ¯ä¸ªäººè¯»ä½ å…³æ³¨çš„äººçš„æ•°æ®ï¼Œä¸€ä¸ªäººè¯»å¤šä¸ªäººçš„æ•°æ®ï¼› 3ï¼‰ç§’æ€ç³»ç»Ÿï¼Œåº“å­˜åªæœ‰ä¸€ä»½ï¼Œæ‰€æœ‰äººä¼šåœ¨é›†ä¸­çš„æ—¶é—´è¯»å’Œå†™è¿™äº›æ•°æ®ï¼Œå¤šä¸ªäººè¯»ä¸€ä¸ªæ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼šå°ç±³æ‰‹æœºæ¯å‘¨äºŒçš„ç§’æ€ï¼Œå¯èƒ½æ‰‹æœºåªæœ‰1ä¸‡éƒ¨ï¼Œä½†ç¬æ—¶è¿›å…¥çš„æµé‡å¯èƒ½æ˜¯å‡ ç™¾å‡ åƒä¸‡ã€‚ åˆä¾‹å¦‚ï¼š12306æŠ¢ç¥¨ï¼Œç¥¨æ˜¯æœ‰é™çš„ï¼Œåº“å­˜ä¸€ä»½ï¼Œç¬æ—¶æµé‡éå¸¸å¤šï¼Œéƒ½è¯»ç›¸åŒçš„åº“å­˜ã€‚è¯»å†™å†²çªï¼Œé”éå¸¸ä¸¥é‡ï¼Œè¿™æ˜¯ç§’æ€ä¸šåŠ¡éš¾çš„åœ°æ–¹ã€‚é‚£æˆ‘ä»¬æ€ä¹ˆä¼˜åŒ–ç§’æ€ä¸šåŠ¡çš„æ¶æ„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;h3 id=&#34;äºŒä¼˜åŒ–æ–¹å‘&#34;&gt;äºŒã€ä¼˜åŒ–æ–¹å‘&lt;/h3&gt;
&lt;p&gt;ä¼˜åŒ–æ–¹å‘æœ‰ä¸¤ä¸ªï¼ˆä»Šå¤©å°±è®²è¿™ä¸¤ä¸ªç‚¹ï¼‰ï¼š ï¼ˆ1ï¼‰å°†è¯·æ±‚å°½é‡æ‹¦æˆªåœ¨ç³»ç»Ÿä¸Šæ¸¸ï¼ˆä¸è¦è®©é”å†²çªè½åˆ°æ•°æ®åº“ä¸Šå»ï¼‰ã€‚ä¼ ç»Ÿç§’æ€ç³»ç»Ÿä¹‹æ‰€ä»¥æŒ‚ï¼Œè¯·æ±‚éƒ½å‹å€’äº†åç«¯æ•°æ®å±‚ï¼Œæ•°æ®è¯»å†™é”å†²çªä¸¥é‡ï¼Œå¹¶å‘é«˜å“åº”æ…¢ï¼Œå‡ ä¹æ‰€æœ‰è¯·æ±‚éƒ½è¶…æ—¶ï¼Œæµé‡è™½å¤§ï¼Œä¸‹å•æˆåŠŸçš„æœ‰æ•ˆæµé‡ç”šå°ã€‚ä»¥12306ä¸ºä¾‹ï¼Œä¸€è¶Ÿç«è½¦å…¶å®åªæœ‰2000å¼ ç¥¨ï¼Œ200wä¸ªäººæ¥ä¹°ï¼ŒåŸºæœ¬æ²¡æœ‰äººèƒ½ä¹°æˆåŠŸï¼Œè¯·æ±‚æœ‰æ•ˆç‡ä¸º0ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰å……åˆ†åˆ©ç”¨ç¼“å­˜ï¼Œç§’æ€ä¹°ç¥¨ï¼Œè¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„è¯»å¤šå†™å°‘çš„åº”ç”¨åœºæ™¯ï¼Œå¤§éƒ¨åˆ†è¯·æ±‚æ˜¯è½¦æ¬¡æŸ¥è¯¢ï¼Œç¥¨æŸ¥è¯¢ï¼Œä¸‹å•å’Œæ”¯ä»˜æ‰æ˜¯å†™è¯·æ±‚ã€‚ä¸€è¶Ÿç«è½¦å…¶å®åªæœ‰2000å¼ ç¥¨ï¼Œ200wä¸ªäººæ¥ä¹°ï¼Œæœ€å¤š2000ä¸ªäººä¸‹å•æˆåŠŸï¼Œå…¶ä»–äººéƒ½æ˜¯æŸ¥è¯¢åº“å­˜ï¼Œå†™æ¯”ä¾‹åªæœ‰0.1%ï¼Œè¯»æ¯”ä¾‹å 99.9%ï¼Œéå¸¸é€‚åˆä½¿ç”¨ç¼“å­˜æ¥ä¼˜åŒ–ã€‚å¥½ï¼Œåç»­è®²è®²æ€ä¹ˆä¸ªâ€œå°†è¯·æ±‚å°½é‡æ‹¦æˆªåœ¨ç³»ç»Ÿä¸Šæ¸¸â€æ³•ï¼Œä»¥åŠæ€ä¹ˆä¸ªâ€œç¼“å­˜â€æ³•ï¼Œè®²è®²ç»†èŠ‚ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸‰å¸¸è§ç§’æ€æ¶æ„&#34;&gt;ä¸‰ã€å¸¸è§ç§’æ€æ¶æ„&lt;/h3&gt;
&lt;p&gt;ï¼ˆ1ï¼‰æµè§ˆå™¨ç«¯ï¼Œæœ€ä¸Šå±‚ï¼Œä¼šæ‰§è¡Œåˆ°ä¸€äº›JSä»£ç  ï¼ˆ2ï¼‰ç«™ç‚¹å±‚ï¼Œè¿™ä¸€å±‚ä¼šè®¿é—®åç«¯æ•°æ®ï¼Œæ‹¼htmlé¡µé¢è¿”å›ç»™æµè§ˆå™¨ ï¼ˆ3ï¼‰æœåŠ¡å±‚ï¼Œå‘ä¸Šæ¸¸å±è”½åº•å±‚æ•°æ®ç»†èŠ‚ï¼Œæä¾›æ•°æ®è®¿é—® ï¼ˆ4ï¼‰æ•°æ®å±‚ï¼Œæœ€ç»ˆçš„åº“å­˜æ˜¯å­˜åœ¨è¿™é‡Œçš„ï¼Œmysqlæ˜¯ä¸€ä¸ªå…¸å‹ï¼ˆå½“ç„¶è¿˜æœ‰ä¼šç¼“å­˜ï¼‰&lt;/p&gt;
&lt;h3 id=&#34;å››å„å±‚æ¬¡ä¼˜åŒ–ç»†èŠ‚&#34;&gt;å››ã€å„å±‚æ¬¡ä¼˜åŒ–ç»†èŠ‚&lt;/h3&gt;
&lt;h4 id=&#34;ç¬¬ä¸€å±‚å®¢æˆ·ç«¯æ€ä¹ˆä¼˜åŒ–æµè§ˆå™¨å±‚appå±‚&#34;&gt;ç¬¬ä¸€å±‚ï¼Œå®¢æˆ·ç«¯æ€ä¹ˆä¼˜åŒ–ï¼ˆæµè§ˆå™¨å±‚ï¼ŒAPPå±‚ï¼‰&lt;/h4&gt;
&lt;p&gt;å¾®ä¿¡çš„æ‘‡ä¸€æ‘‡æŠ¢çº¢åŒ…ï¼Œæ¯æ¬¡æ‘‡ä¸€æ‘‡ï¼Œå°±ä¼šå¾€åç«¯å‘é€è¯·æ±‚ä¹ˆï¼Ÿä¸‹å•æŠ¢ç¥¨çš„åœºæ™¯ï¼Œç‚¹å‡»äº†â€œæŸ¥è¯¢â€æŒ‰é’®ä¹‹åï¼Œç³»ç»Ÿé‚£ä¸ªå¡å‘€ï¼Œè¿›åº¦æ¡æ¶¨çš„æ…¢å‘€ï¼Œä½œä¸ºç”¨æˆ·ï¼Œæˆ‘ä¼šä¸è‡ªè§‰çš„å†å»ç‚¹å‡»â€œæŸ¥è¯¢â€ï¼Œå¯¹ä¹ˆï¼Ÿç»§ç»­ç‚¹ï¼Œç»§ç»­ç‚¹ï¼Œç‚¹ç‚¹ç‚¹ã€‚ã€‚ã€‚æœ‰ç”¨ä¹ˆï¼Ÿå¹³ç™½æ— æ•…çš„å¢åŠ äº†ç³»ç»Ÿè´Ÿè½½ï¼Œä¸€ä¸ªç”¨æˆ·ç‚¹5æ¬¡ï¼Œ80%çš„è¯·æ±‚æ˜¯è¿™ä¹ˆå¤šå‡ºæ¥çš„ï¼Œæ€ä¹ˆæ•´ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ï¼ˆaï¼‰äº§å“å±‚é¢ï¼Œç”¨æˆ·ç‚¹å‡»â€œæŸ¥è¯¢â€æˆ–è€…â€œè´­ç¥¨â€åï¼ŒæŒ‰é’®ç½®ç°ï¼Œç¦æ­¢ç”¨æˆ·é‡å¤æäº¤è¯·æ±‚ï¼› ï¼ˆbï¼‰JSå±‚é¢ï¼Œé™åˆ¶ç”¨æˆ·åœ¨xç§’ä¹‹å†…åªèƒ½æäº¤ä¸€æ¬¡è¯·æ±‚ï¼›&lt;/p&gt;
&lt;p&gt;APPå±‚é¢ï¼Œå¯ä»¥åšç±»ä¼¼çš„äº‹æƒ…ï¼Œè™½ç„¶ä½ ç–¯ç‹‚çš„åœ¨æ‘‡å¾®ä¿¡ï¼Œå…¶å®xç§’æ‰å‘åç«¯å‘èµ·ä¸€æ¬¡è¯·æ±‚ã€‚è¿™å°±æ˜¯æ‰€è°“çš„â€œå°†è¯·æ±‚å°½é‡æ‹¦æˆªåœ¨ç³»ç»Ÿä¸Šæ¸¸â€ï¼Œè¶Šä¸Šæ¸¸è¶Šå¥½ï¼Œæµè§ˆå™¨å±‚ï¼ŒAPPå±‚å°±ç»™æ‹¦ä½ï¼Œè¿™æ ·å°±èƒ½æŒ¡ä½80%+çš„è¯·æ±‚ï¼Œè¿™ç§åŠæ³•åªèƒ½æ‹¦ä½æ™®é€šç”¨æˆ·ï¼ˆä½†99%çš„ç”¨æˆ·æ˜¯æ™®é€šç”¨æˆ·ï¼‰å¯¹äºç¾¤å†…çš„é«˜ç«¯ç¨‹åºå‘˜æ˜¯æ‹¦ä¸ä½çš„ã€‚firebugä¸€æŠ“åŒ…ï¼Œhttpé•¿å•¥æ ·éƒ½çŸ¥é“ï¼Œjsæ˜¯ä¸‡ä¸‡æ‹¦ä¸ä½ç¨‹åºå‘˜å†™forå¾ªç¯ï¼Œè°ƒç”¨httpæ¥å£çš„ï¼Œè¿™éƒ¨åˆ†è¯·æ±‚æ€ä¹ˆå¤„ç†ï¼Ÿ&lt;/p&gt;
&lt;h4 id=&#34;ç¬¬äºŒå±‚ç«™ç‚¹å±‚é¢çš„è¯·æ±‚æ‹¦æˆª&#34;&gt;ç¬¬äºŒå±‚ï¼Œç«™ç‚¹å±‚é¢çš„è¯·æ±‚æ‹¦æˆª&lt;/h4&gt;
&lt;p&gt;æ€ä¹ˆæ‹¦æˆªï¼Ÿæ€ä¹ˆé˜²æ­¢ç¨‹åºå‘˜å†™forå¾ªç¯è°ƒç”¨ï¼Œæœ‰å»é‡ä¾æ®ä¹ˆï¼Ÿipï¼Ÿcookie-idï¼Ÿâ€¦æƒ³å¤æ‚äº†ï¼Œè¿™ç±»ä¸šåŠ¡éƒ½éœ€è¦ç™»å½•ï¼Œç”¨uidå³å¯ã€‚åœ¨ç«™ç‚¹å±‚é¢ï¼Œå¯¹uidè¿›è¡Œè¯·æ±‚è®¡æ•°å’Œå»é‡ï¼Œç”šè‡³ä¸éœ€è¦ç»Ÿä¸€å­˜å‚¨è®¡æ•°ï¼Œç›´æ¥ç«™ç‚¹å±‚å†…å­˜å­˜å‚¨ï¼ˆè¿™æ ·è®¡æ•°ä¼šä¸å‡†ï¼Œä½†æœ€ç®€å•ï¼‰ã€‚ä¸€ä¸ªuidï¼Œ5ç§’åªå‡†é€è¿‡1ä¸ªè¯·æ±‚ï¼Œè¿™æ ·åˆèƒ½æ‹¦ä½99%çš„forå¾ªç¯è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;5såªé€è¿‡ä¸€ä¸ªè¯·æ±‚ï¼Œå…¶ä½™çš„è¯·æ±‚æ€ä¹ˆåŠï¼Ÿç¼“å­˜ï¼Œé¡µé¢ç¼“å­˜ï¼ŒåŒä¸€ä¸ªuidï¼Œé™åˆ¶è®¿é—®é¢‘åº¦ï¼Œåšé¡µé¢ç¼“å­˜ï¼Œxç§’å†…åˆ°è¾¾ç«™ç‚¹å±‚çš„è¯·æ±‚ï¼Œå‡è¿”å›åŒä¸€é¡µé¢ã€‚åŒä¸€ä¸ªitemçš„æŸ¥è¯¢ï¼Œä¾‹å¦‚è½¦æ¬¡ï¼Œåšé¡µé¢ç¼“å­˜ï¼Œxç§’å†…åˆ°è¾¾ç«™ç‚¹å±‚çš„è¯·æ±‚ï¼Œå‡è¿”å›åŒä¸€é¡µé¢ã€‚å¦‚æ­¤é™æµï¼Œæ—¢èƒ½ä¿è¯ç”¨æˆ·æœ‰è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒï¼ˆæ²¡æœ‰è¿”å›404ï¼‰åˆèƒ½ä¿è¯ç³»ç»Ÿçš„å¥å£®æ€§ï¼ˆåˆ©ç”¨é¡µé¢ç¼“å­˜ï¼ŒæŠŠè¯·æ±‚æ‹¦æˆªåœ¨ç«™ç‚¹å±‚äº†ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;é¡µé¢ç¼“å­˜ä¸ä¸€å®šè¦ä¿è¯æ‰€æœ‰ç«™ç‚¹è¿”å›ä¸€è‡´çš„é¡µé¢ï¼Œç›´æ¥æ”¾åœ¨æ¯ä¸ªç«™ç‚¹çš„å†…å­˜ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ä¼˜ç‚¹æ˜¯ç®€å•ï¼Œåå¤„æ˜¯httpè¯·æ±‚è½åˆ°ä¸åŒçš„ç«™ç‚¹ï¼Œè¿”å›çš„è½¦ç¥¨æ•°æ®å¯èƒ½ä¸ä¸€æ ·ï¼Œè¿™æ˜¯ç«™ç‚¹å±‚çš„è¯·æ±‚æ‹¦æˆªä¸ç¼“å­˜ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;å¥½ï¼Œè¿™ä¸ªæ–¹å¼æ‹¦ä½äº†å†™forå¾ªç¯å‘httpè¯·æ±‚çš„ç¨‹åºå‘˜ï¼Œæœ‰äº›é«˜ç«¯ç¨‹åºå‘˜ï¼ˆé»‘å®¢ï¼‰æ§åˆ¶äº†10wä¸ªè‚‰é¸¡ï¼Œæ‰‹é‡Œæœ‰10wä¸ªuidï¼ŒåŒæ—¶å‘è¯·æ±‚ï¼ˆå…ˆä¸è€ƒè™‘å®ååˆ¶çš„é—®é¢˜ï¼Œå°ç±³æŠ¢æ‰‹æœºä¸éœ€è¦å®ååˆ¶ï¼‰ï¼Œè¿™ä¸‹æ€ä¹ˆåŠï¼Œç«™ç‚¹å±‚æŒ‰ç…§uidé™æµæ‹¦ä¸ä½äº†ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¬¬ä¸‰å±‚-æœåŠ¡å±‚æ¥æ‹¦æˆªåæ­£å°±æ˜¯ä¸è¦è®©è¯·æ±‚è½åˆ°æ•°æ®åº“ä¸Šå»&#34;&gt;ç¬¬ä¸‰å±‚ æœåŠ¡å±‚æ¥æ‹¦æˆªï¼ˆåæ­£å°±æ˜¯ä¸è¦è®©è¯·æ±‚è½åˆ°æ•°æ®åº“ä¸Šå»ï¼‰&lt;/h4&gt;
&lt;p&gt;æœåŠ¡å±‚æ€ä¹ˆæ‹¦æˆªï¼Ÿå¤§å“¥ï¼Œæˆ‘æ˜¯æœåŠ¡å±‚ï¼Œæˆ‘æ¸…æ¥šçš„çŸ¥é“å°ç±³åªæœ‰1ä¸‡éƒ¨æ‰‹æœºï¼Œæˆ‘æ¸…æ¥šçš„çŸ¥é“ä¸€åˆ—ç«è½¦åªæœ‰2000å¼ è½¦ç¥¨ï¼Œæˆ‘é€10wä¸ªè¯·æ±‚å»æ•°æ®åº“æœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿæ²¡é”™ï¼Œè¯·æ±‚é˜Ÿåˆ—ï¼&lt;/p&gt;
&lt;p&gt;å¯¹äºå†™è¯·æ±‚ï¼Œåšè¯·æ±‚é˜Ÿåˆ—ï¼Œæ¯æ¬¡åªé€æœ‰é™çš„å†™è¯·æ±‚å»æ•°æ®å±‚ï¼ˆä¸‹è®¢å•ï¼Œæ”¯ä»˜è¿™æ ·çš„å†™ä¸šåŠ¡ï¼‰&lt;/p&gt;
&lt;p&gt;1wéƒ¨æ‰‹æœºï¼Œåªé€1wä¸ªä¸‹å•è¯·æ±‚å»db&lt;/p&gt;
&lt;p&gt;3kå¼ ç«è½¦ç¥¨ï¼Œåªé€3kä¸ªä¸‹å•è¯·æ±‚å»db&lt;/p&gt;
&lt;p&gt;å¦‚æœå‡æˆåŠŸå†æ”¾ä¸‹ä¸€æ‰¹ï¼Œå¦‚æœåº“å­˜ä¸å¤Ÿåˆ™é˜Ÿåˆ—é‡Œçš„å†™è¯·æ±‚å…¨éƒ¨è¿”å›â€œå·²å”®å®Œâ€ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºè¯»è¯·æ±‚ï¼Œæ€ä¹ˆä¼˜åŒ–ï¼ŸcacheæŠ—ï¼Œä¸ç®¡æ˜¯memcachedè¿˜æ˜¯redisï¼Œå•æœºæŠ—ä¸ªæ¯ç§’10wåº”è¯¥éƒ½æ˜¯æ²¡ä»€ä¹ˆé—®é¢˜çš„ã€‚å¦‚æ­¤é™æµï¼Œåªæœ‰éå¸¸å°‘çš„å†™è¯·æ±‚ï¼Œå’Œéå¸¸å°‘çš„è¯»ç¼“å­˜misçš„è¯·æ±‚ä¼šé€åˆ°æ•°æ®å±‚å»ï¼Œåˆæœ‰99.9%çš„è¯·æ±‚è¢«æ‹¦ä½äº†ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œè¿˜æœ‰ä¸šåŠ¡è§„åˆ™ä¸Šçš„ä¸€äº›ä¼˜åŒ–ã€‚å›æƒ³12306æ‰€åšçš„ï¼Œåˆ†æ—¶åˆ†æ®µå”®ç¥¨ï¼ŒåŸæ¥ç»Ÿä¸€10ç‚¹å–ç¥¨ï¼Œç°åœ¨8ç‚¹ï¼Œ8ç‚¹åŠï¼Œ9ç‚¹ï¼Œ&amp;hellip;æ¯éš”åŠä¸ªå°æ—¶æ”¾å‡ºä¸€æ‰¹ï¼šå°†æµé‡æ‘ŠåŒ€ã€‚&lt;/p&gt;
&lt;p&gt;å…¶æ¬¡ï¼Œæ•°æ®ç²’åº¦çš„ä¼˜åŒ–ï¼šä½ å»è´­ç¥¨ï¼Œå¯¹äºä½™ç¥¨æŸ¥è¯¢è¿™ä¸ªä¸šåŠ¡ï¼Œç¥¨å‰©äº†58å¼ ï¼Œè¿˜æ˜¯26å¼ ï¼Œä½ çœŸçš„å…³æ³¨ä¹ˆï¼Œå…¶å®æˆ‘ä»¬åªå…³å¿ƒæœ‰ç¥¨å’Œæ— ç¥¨ï¼Ÿæµé‡å¤§çš„æ—¶å€™ï¼Œåšä¸€ä¸ªç²—ç²’åº¦çš„â€œæœ‰ç¥¨â€â€œæ— ç¥¨â€ç¼“å­˜å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ï¼Œä¸€äº›ä¸šåŠ¡é€»è¾‘çš„å¼‚æ­¥ï¼šä¾‹å¦‚ä¸‹å•ä¸šåŠ¡ä¸ æ”¯ä»˜ä¸šåŠ¡çš„åˆ†ç¦»ã€‚è¿™äº›ä¼˜åŒ–éƒ½æ˜¯ç»“åˆ ä¸šåŠ¡ æ¥çš„ï¼Œæˆ‘ä¹‹å‰åˆ†äº«è¿‡ä¸€ä¸ªè§‚ç‚¹â€œä¸€åˆ‡è„±ç¦»ä¸šåŠ¡çš„æ¶æ„è®¾è®¡éƒ½æ˜¯è€æµæ°“â€æ¶æ„çš„ä¼˜åŒ–ä¹Ÿè¦é’ˆå¯¹ä¸šåŠ¡ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¬¬å››å±‚-æœ€åæ˜¯æ•°æ®åº“å±‚&#34;&gt;ç¬¬å››å±‚ æœ€åæ˜¯æ•°æ®åº“å±‚&lt;/h4&gt;
&lt;p&gt;æµè§ˆå™¨æ‹¦æˆªäº†80%ï¼Œç«™ç‚¹å±‚æ‹¦æˆªäº†99.9%å¹¶åšäº†é¡µé¢ç¼“å­˜ï¼ŒæœåŠ¡å±‚åˆåšäº†å†™è¯·æ±‚é˜Ÿåˆ—ä¸æ•°æ®ç¼“å­˜ï¼Œæ¯æ¬¡é€åˆ°æ•°æ®åº“å±‚çš„è¯·æ±‚éƒ½æ˜¯å¯æ§çš„ã€‚dbåŸºæœ¬å°±æ²¡ä»€ä¹ˆå‹åŠ›äº†ï¼Œé—²åº­ä¿¡æ­¥ï¼Œå•æœºä¹Ÿèƒ½æ‰›å¾—ä½ï¼Œè¿˜æ˜¯é‚£å¥è¯ï¼Œåº“å­˜æ˜¯æœ‰é™çš„ï¼Œå°ç±³çš„äº§èƒ½æœ‰é™ï¼Œé€è¿™ä¹ˆå¤šè¯·æ±‚æ¥æ•°æ®åº“æ²¡æœ‰æ„ä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;å…¨éƒ¨é€åˆ°æ•°æ®åº“ï¼Œ100wä¸ªä¸‹å•ï¼Œ0ä¸ªæˆåŠŸï¼Œè¯·æ±‚æœ‰æ•ˆç‡0%ã€‚é€3kä¸ªåˆ°æ•°æ®ï¼Œå…¨éƒ¨æˆåŠŸï¼Œè¯·æ±‚æœ‰æ•ˆç‡100%ã€‚&lt;/p&gt;
&lt;h3 id=&#34;äº”æ€»ç»“&#34;&gt;äº”ã€æ€»ç»“&lt;/h3&gt;
&lt;p&gt;ä¸Šæ–‡åº”è¯¥æè¿°çš„éå¸¸æ¸…æ¥šäº†ï¼Œæ²¡ä»€ä¹ˆæ€»ç»“äº†ï¼Œå¯¹äºç§’æ€ç³»ç»Ÿï¼Œå†æ¬¡é‡å¤ä¸‹æˆ‘ä¸ªäººç»éªŒçš„ä¸¤ä¸ªæ¶æ„ä¼˜åŒ–æ€è·¯ï¼š ï¼ˆ1ï¼‰å°½é‡å°†è¯·æ±‚æ‹¦æˆªåœ¨ç³»ç»Ÿä¸Šæ¸¸ï¼ˆè¶Šä¸Šæ¸¸è¶Šå¥½ï¼‰ï¼› ï¼ˆ2ï¼‰è¯»å¤šå†™å°‘çš„å¸¸ç”¨å¤šä½¿ç”¨ç¼“å­˜ï¼ˆç¼“å­˜æŠ—è¯»å‹åŠ›ï¼‰ï¼›&lt;/p&gt;
&lt;p&gt;æµè§ˆå™¨å’ŒAPPï¼šåšé™é€Ÿ&lt;/p&gt;
&lt;p&gt;ç«™ç‚¹å±‚ï¼šæŒ‰ç…§uidåšé™é€Ÿï¼Œåšé¡µé¢ç¼“å­˜&lt;/p&gt;
&lt;p&gt;æœåŠ¡å±‚ï¼šæŒ‰ç…§ä¸šåŠ¡åšå†™è¯·æ±‚é˜Ÿåˆ—æ§åˆ¶æµé‡ï¼Œåšæ•°æ®ç¼“å­˜&lt;/p&gt;
&lt;p&gt;æ•°æ®å±‚ï¼šé—²åº­ä¿¡æ­¥&lt;/p&gt;
&lt;p&gt;å¹¶ä¸”ï¼šç»“åˆä¸šåŠ¡åšä¼˜åŒ–&lt;/p&gt;
</description>
        </item>
        <item>
        <title>åˆ¶ä½œç§å­</title>
        <link>https://lxb.wiki/7592d71b/</link>
        <pubDate>Thu, 01 Nov 2018 21:20:18 +0000</pubDate>
        
        <guid>https://lxb.wiki/7592d71b/</guid>
        <description>&lt;p&gt;1.ä¸‹è½½mktorrent
&lt;code&gt;git clone https://github.com/lxbwolf/mktorrent.git&lt;/code&gt;
2.ä¸‹è½½å®Œæˆåè¿›å…¥åˆ°æ–‡ä»¶å¤¹é‡Œé¢
ä¾‹å¦‚ï¼š&lt;code&gt;cd mktorrent&lt;/code&gt;ï¼ˆå¦‚æœæ˜¯æ ¹ç›®å½•çš„è¯ï¼‰
3. &lt;code&gt;make&lt;/code&gt;
4. &lt;code&gt;make install&lt;/code&gt;
5. é»˜è®¤å®‰è£…ç›®å½•ä½äº&lt;code&gt;/usr/local/bin&lt;/code&gt;ï¼Œä½¿ç”¨cdå‘½ä»¤ï¼Œä»é»˜è®¤çš„/rootè·¯å¾„åˆ‡æ¢åˆ°è¦åˆ¶ä½œæˆç§å­çš„æ–‡ä»¶ä¸Šä¸€çº§ã€‚
ä¾‹å¦‚&lt;code&gt;cd /Downloads&lt;/code&gt;
6. åˆ¶ä½œç§å­å‘½ä»¤ä¸ºï¼š &lt;code&gt;mktorrent -v -p -l 22 -a tracker_address -o name.torrent file_name&lt;/code&gt;
å‚æ•°è¯´æ˜ï¼š tracker_addressä¸ºä½ è¦å‘å¸ƒçš„ç½‘ç«™çš„trackerã€‚ name.torrentä¸ºå¯¹ç”Ÿæˆtorrentç§å­æ–‡ä»¶çš„å‘½åï¼Œè§„åˆ™ä¸ºï¼šxxx.torrentã€‚ file_nameä¸ºä½ è¦åšç§çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ã€‚é¿å…å«æœ‰ç©ºæ ¼ã€‚
7. ç­‰å¾…ä¸€ä¼šå„¿ä¼šæç¤ºåšç§å®Œæˆï¼Œåœ¨å½“å‰ç›®å½•ä¸‹å³å¯æ‰¾åˆ°ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>æ ‘è“æ´¾æ­å»ºè¿…é›·è¿œç¨‹ä¸‹è½½æœåŠ¡å™¨</title>
        <link>https://lxb.wiki/1846a864/</link>
        <pubDate>Thu, 01 Nov 2018 20:09:55 +0000</pubDate>
        
        <guid>https://lxb.wiki/1846a864/</guid>
        <description>&lt;h3 id=&#34;1-ä¸‹è½½è·¯ç”±å™¨å›ºä»¶&#34;&gt;1. ä¸‹è½½è·¯ç”±å™¨å›ºä»¶&lt;/h3&gt;
&lt;p&gt;ä» &lt;a class=&#34;link&#34; href=&#34;http://luyou.xunlei.com/forum-51-1.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å®˜ç½‘&lt;/a&gt; æˆ–è€… ç™¾åº¦ç½‘ç›˜&lt;/p&gt;
&lt;p&gt;è§£å‹åˆ°æŒ‡å®šç›®å½•å¦‚ &lt;code&gt;/root/xunlei&lt;/code&gt; è¿›å…¥ç›®å½• æ‰§è¡Œ&lt;code&gt;./portal&lt;/code&gt; ç¨ç­‰ç‰‡åˆ»ï¼Œä¼šåœ¨æœ€åè¾“å‡ºä¸€ä¸ªæ¿€æ´»ç &lt;/p&gt;
&lt;h3 id=&#34;2-åœ¨è¿…é›·è¿œç¨‹ä¸‹è½½é¡µé¢ç»‘å®šæ ‘è“æ´¾&#34;&gt;2. åœ¨è¿…é›·è¿œç¨‹ä¸‹è½½é¡µé¢ç»‘å®šæ ‘è“æ´¾&lt;/h3&gt;
&lt;p&gt;ç™»å½•&lt;a class=&#34;link&#34; href=&#34;http://yuancheng.xunlei.com/login.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è¿…é›·è¿œç¨‹ä¸‹è½½&lt;/a&gt;ä¸»é¡µ,ç™»å½•ä¹‹åï¼Œå·¦ä¾§ä¼šæœ‰ä¸€ä¸ªæ·»åŠ æŒ‰é’®ï¼Œç‚¹å‡»æ·»åŠ æŒ‰é’®&lt;/p&gt;
&lt;p&gt;ä¸éœ€è¦é€‰æ‹©ç»‘å®šè®¾å¤‡ç±»å‹, ç›´æ¥å°†æ ‘è“æ´¾ä¸Šè·å¾—çš„æ¿€æ´»ç å¡«å…¥æ¡†ä¸­ï¼Œç‚¹å‡»ç»‘å®šåå·¦ä¾§å°±ä¼šå‡ºç°æ ‘è“æ´¾å¯¹åº”çš„è®¾å¤‡åˆ—è¡¨äº†ï¼Œä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æ­¤æ—¶å°±åœ¨å³ä¾§ç‚¹å‡»æ–°å»ºä¹‹åä¼šå‘ç°,å¼¹å‡ºçš„æ–°å»ºé¡µé¢ä¸­ä¼šæç¤ºæ‰¾ä¸åˆ°æŒ‚è½½ç£ç›˜&lt;/p&gt;
&lt;h3 id=&#34;3-è‡ªå®šä¹‰è¿…é›·çš„ä¸‹è½½ç›®å½•&#34;&gt;3. è‡ªå®šä¹‰è¿…é›·çš„ä¸‹è½½ç›®å½•&lt;/h3&gt;
&lt;p&gt;è¿›å…¥/mntç›®å½•ï¼Œåˆ›å»ºç›®å½•TDDOWNLOAD(åå­—éšæ„) æ‰§è¡Œ&lt;code&gt;mount --bind /data/TDDOWNLOAD /mnt/TDDOWNLOAD&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­/data/TDDOWNLOADå°±æ˜¯è‡ªå®šä¹‰çš„ä¸‹è½½ç›®å½•ï¼Œä½ å¯ä»¥æŒ‡å®šä¸ºå…¶ä»–ä»»ä½•ç›®å½•ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åå†åˆšåˆšè¿…é›·å›ºä»¶çš„è§£å‹ç›®å½•ä¸‹åˆ›å»ºç›®å½•etc,åŒæ—¶åœ¨etcä¸‹åˆ›å»ºæ–‡ä»¶thunder_mounts.cfg,ç¼–è¾‘æ­¤æ–‡ä»¶, å†™å…¥å†…å®¹&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;avaliable_mount_path_pattern
{
/mnt/TDDOWNLOAD
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é‡å¯è·¯ç”±å™¨å›ºä»¶ &lt;code&gt;./root/xunlei/portal&lt;/code&gt; å†è¿›å…¥è¿œç¨‹ä¸‹è½½ç•Œé¢æ–°å»ºä¸‹è½½å°±æ²¡æœ‰äº†æ²¡æŒ‚è½½ç£ç›˜çš„æç¤ºäº†&lt;/p&gt;
&lt;h3 id=&#34;4-è¿…é›·è·¯ç”±å™¨å›ºä»¶å¼€æœºå¯åŠ¨&#34;&gt;4. è¿…é›·è·¯ç”±å™¨å›ºä»¶å¼€æœºå¯åŠ¨&lt;/h3&gt;
&lt;p&gt;åœ¨/etc/init.d/ä¸‹æ–°å»ºxunleiè„šæœ¬ï¼Œå†™å…¥:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/sh
#
# Xunlei initscript
#
### BEGIN INIT INFO
# Provides:          xunlei
# Required-Start:    $network $local_fs $remote_fs
# Required-Stop::    $network $local_fs $remote_fs
# Should-Start:      $all
# Should-Stop:       $all
# Default-Start:     2 3 4 5
# Default-Stop:      0 1 6
# Short-Description: Start xunlei at boot time
# Description:       A downloader
### END INIT INFO

do_start()
{
./root/xunlei/portal
}

do_stop()
{
./root/xunlei/portal -s
}

case &amp;quot;$1&amp;quot; in
start)
do_start
;;
stop)
do_stop
;;
esac
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç„¶åå°†è¯¥è„šæœ¬åŠ å…¥é»˜è®¤è‡ªå¯åŠ¨ä¸­ &lt;code&gt;update-rc.d xunlei defaults&lt;/code&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>æ ‘è“æ´¾åŸºç¡€ç¯å¢ƒ</title>
        <link>https://lxb.wiki/5976aace/</link>
        <pubDate>Thu, 18 Oct 2018 22:24:19 +0000</pubDate>
        
        <guid>https://lxb.wiki/5976aace/</guid>
        <description>&lt;h3 id=&#34;ä¿®æ”¹è½¯ä»¶æº&#34;&gt;ä¿®æ”¹è½¯ä»¶æº&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;sudo -s
echo -e &amp;quot;deb http://mirrors.ustc.edu.cn/raspbian/raspbian/ stretch main contrib non-free rpi \n deb-src http://mirrors.ustc.edu.cn/raspbian/raspbian/ stretch main contrib non-free rpi&amp;quot; &amp;amp;gt; /etc/apt/sources.list
echo -e &amp;quot;deb http://mirrors.ustc.edu.cn/archive.raspberrypi.org/ stretch main ui&amp;quot; &amp;amp;gt; /etc/apt/sources.list.d/raspi.list
exit
sudo apt update &amp;amp;amp;&amp;amp;amp; sudo apt -y upgrade
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä¸­æ–‡è¾“å…¥æ³•&#34;&gt;ä¸­æ–‡è¾“å…¥æ³•&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;sudo apt-get install -y ttf-wqy-zenhei
sudo apt-get install -y scim-pinyin
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;çœ‹é—¨ç‹—é˜²æ­¢æ ‘è“æ´¾æ­»æœºçš„ç›‘æ§&#34;&gt;çœ‹é—¨ç‹—(é˜²æ­¢æ ‘è“æ´¾æ­»æœºçš„ç›‘æ§)&lt;/h3&gt;
&lt;p&gt;å½“åˆ©ç”¨æ ‘è“æ´¾æ¥åšä¸€äº›éœ€è¦é•¿æœŸå¾…æœºçš„åº”ç”¨æ—¶ï¼Œå¦‚ä¸‹è½½æœºã€äº‘å‚¨å­˜ã€å®¶åº­å½±é™¢ç­‰åº”ç”¨ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šé‡åˆ°çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯æ ‘è“æ´¾ä¼šå› ä¸ºè¿‡çƒ­è€Œæ­»æœºï¼Œéœ€è¦æˆ‘ä»¬é‡æ–°å¯åŠ¨æ ‘è“æ´¾ï¼Œç„¶åå†æ¬¡å¼€å¯æ ‘è“æ´¾ä¸Šçš„åº”ç”¨ã€‚è¿™ä¼šç»™æˆ‘ä»¬çš„æ—¥å¸¸æ“ä½œå¸¦æ¥è®¸å¤šéº»çƒ¦ã€‚ Watchdogï¼ˆçœ‹é—¨ç‹—ï¼‰å°±èƒ½è®©æ ‘è“æ´¾æ°¸ä¸æ­»æœºã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//æ ‘è“æ´¾è‡ªå¸¦çœ‹é—¨ç‹—æ¨¡å—ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ è¿›å»å°±å¥½ã€‚
sudo modprobe bcm2708_wdog
echo -e &amp;quot;\nbcm2708_wdog&amp;quot; &amp;amp;gt; sudo tee -a /etc/modules
// å®‰è£…çœ‹é—¨ç‹—è½¯ä»¶
sudo apt-get install -y chkconfig watchdog
// é…ç½®
sudo vim /etc/watchdog.conf
// å»æ‰&amp;quot;watchdog-device=/dev/watchdog&amp;quot;è¿™ä¸€è¡Œçš„#æ³¨é‡Š
// å…¶å®ƒé…ç½®å‚è€ƒå¦‚ä¸‹:
# ç”¨äºè®¾å®šCPUæ¸©åº¦é‡å¯æ¡ä»¶
temperature-device = /sys/class/thermal/thermal_zone0/temp
# æœ€å¤§æ¸©åº¦ä¸º100åº¦ï¼Œè¶…è¿‡ç«‹å³é‡å¯
max-temperature = 100000
# 1åˆ†é’Ÿæœ€å¤šè¿›ç¨‹ä¸º24ä¸ªï¼Œè¶…è¿‡å³é‡å¯
max-load-15=12
# 5åˆ†é’Ÿæœ€å¤šè¿›ç¨‹ä¸º18ä¸ªï¼Œè¶…è¿‡å³é‡å¯
max-load-15=12
# 15åˆ†é’Ÿæœ€å¤šè¿›ç¨‹ä¸º12ä¸ªï¼Œè¶…è¿‡å³é‡å¯
max-load-15=12

// å®Œæˆé…ç½®åï¼Œå¯åŠ¨çœ‹é—¨ç‹—
sudo /etc/init.d/watchdog start
// è®¾ç½®ä¸ºå¼€æœºè‡ªå¯
chkconfig watchdog on
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;screenè®©æ ‘è“æ´¾æ°¸ä¸å¤±è”&#34;&gt;Screen(è®©æ ‘è“æ´¾æ°¸ä¸å¤±è”)&lt;/h3&gt;
&lt;p&gt;åˆ©ç”¨SSHï¼ˆSerare Shellï¼Œå®‰å…¨å¤–å£³åè®®ï¼‰æ¥è¿œç¨‹æ§åˆ¶æ ‘è“æ´¾åº”è¯¥æ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨çš„ æ“ä½œæ ‘è“æ´¾çš„æ–¹å¼ï¼Œä½†åœ¨ç”¨SSHè¿æ¥æ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šé‡åˆ°è¿æ¥çªç„¶æ–­å¼€çš„é—®é¢˜ã€‚è¿ æ¥ä¸€æ—¦æ–­å¼€ï¼ŒåŸç±³æˆ‘ä»¬è¿›è¡Œçš„æ“ä½œä¹Ÿå°±ä¸­æ–­äº†ï¼Œè‹¥å†ä½¿ç”¨ï¼Œå°±å¾—ä»å¤´å†æ¥äº†ã€‚ç›¸ä¿¡ä½ è‚¯å®šå› ä¸ºç”µè„‘å¾…æœºè€Œä¸­æ–­æ ‘è“æ´¾çš„ä»»åŠ¡è€Œè‹¦æ¼è¿‡ã€‚ Screenæ¥è®©æ ‘è“æ´¾æ°¸ä¸å¤±è”çš„æ–¹æ³•ã€‚æ­¤æ–¹æ³•ä¸‹ï¼Œå°±ç®—è¿æ¥æ–­å¼€äº†ï¼Œå½“æˆ‘ä»¬é‡æ–°è¿æ¥åä¾æ—§è¿›è¡ŒåŸæ¥çš„æ“ä½œï¼Œè€Œä¸éœ€è¦ä»å¤´å†æ¥ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// ç›´æ¥å®‰è£…Screen
sudo apt-get install -y screen
// å¼€å¯ä¸€ä¸ªåå°viewï¼ˆåå°çš„ç»ˆç«¯ï¼Œä¸ä¼šå› ä¸ºæ–­å¼€è¿æ¥è€Œç»ˆæ­¢ï¼‰
screen -S ç»ˆç«¯å
// ç„¶åå°±å¯ä»¥ç»§ç»­ä½ çš„æ“ä½œäº†
&lt;/code&gt;&lt;/pre&gt;
</description>
        </item>
        <item>
        <title>æ ‘è“æ´¾3B&#43; å®‰è£…ç³»ç»Ÿ</title>
        <link>https://lxb.wiki/cfbe6b0a/</link>
        <pubDate>Wed, 17 Oct 2018 22:11:38 +0000</pubDate>
        
        <guid>https://lxb.wiki/cfbe6b0a/</guid>
        <description>&lt;p&gt;å®‰è£…æ­¥éª¤: &lt;code&gt;å®˜ç½‘ä¸‹è½½ç³»ç»Ÿ -- åˆ·å…¥TFå¡ -- è®¾ç½®å¼€å¯æ˜¾ç¤ºå™¨å’ŒSSH -- é€šç”µ -- è¿›å…¥ç³»ç»Ÿ&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;0-å¾ˆé‡è¦&#34;&gt;0. å¾ˆé‡è¦&lt;/h3&gt;
&lt;p&gt;è£…å®Œç³»ç»Ÿï¼Œå†™å®Œ &lt;code&gt;wpa_supplicant.conf&lt;/code&gt; é…ç½®æ–‡ä»¶åï¼Œæ— è®ºå¦‚ä½•ä¸è¦ &lt;code&gt;reboot&lt;/code&gt;ï¼Œä¸è¦ &lt;code&gt;reboot&lt;/code&gt;ï¼Œ ä¸è¦ &lt;code&gt;reboot&lt;/code&gt; ï¼ï¼ï¼
3B+ æœ‰æå¤§çš„æ¦‚ç‡ï¼Œ&lt;code&gt;reboot&lt;/code&gt; åæ— æ³•æ­£å¸¸è¿æ¥ WIFIï¼Œåªèƒ½é‡æ–°çƒ§å½•ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;h3 id=&#34;1-è¿›å…¥å®˜æ–¹ç½‘ç«™ä¸‹è½½ç³»ç»Ÿé•œåƒ&#34;&gt;1. è¿›å…¥å®˜æ–¹ç½‘ç«™ä¸‹è½½ç³»ç»Ÿé•œåƒ&lt;/h3&gt;
&lt;p&gt;å®˜æ–¹ç³»ç»Ÿ raspbianåœ°å€ &lt;a class=&#34;link&#34; href=&#34;https://www.raspberrypi.org/downloads/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.raspberrypi.org/downloads/&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-windowsç³»ç»Ÿä¸‹çš„å®‰è£…&#34;&gt;2. Windowsç³»ç»Ÿä¸‹çš„å®‰è£…&lt;/h3&gt;
&lt;h4 id=&#34;21-ä¸‹è½½sdæ ¼å¼åŒ–å·¥å…·&#34;&gt;2.1 ä¸‹è½½SDæ ¼å¼åŒ–å·¥å…·&lt;/h4&gt;
&lt;p&gt;SDFormatter åœ°å€ &lt;a class=&#34;link&#34; href=&#34;https://www.sdcard.org/downloads/formatter&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.sdcard.org/downloads/formatter&lt;/a&gt;_4/eula_windows/&lt;/p&gt;
&lt;p&gt;å®‰è£…åç›´æ¥ç”¨é»˜è®¤é€‰é¡¹ æ ¼å¼åŒ–SDå¡&lt;/p&gt;
&lt;h4 id=&#34;22-ä¸‹è½½å†™é•œåƒå·¥å…·&#34;&gt;2.2 ä¸‹è½½å†™é•œåƒå·¥å…·&lt;/h4&gt;
&lt;p&gt;Win32 DiskImager åœ°å€ &lt;a class=&#34;link&#34; href=&#34;http://sourceforge.net/projects/win32diskimager/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://sourceforge.net/projects/win32diskimager/&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-macç³»ç»Ÿä¸‹çš„å®‰è£…&#34;&gt;3. MACç³»ç»Ÿä¸‹çš„å®‰è£…&lt;/h3&gt;
&lt;h4 id=&#34;31-æŸ¥çœ‹å½“å‰å·²æŒ‚è½½çš„å·&#34;&gt;3.1 æŸ¥çœ‹å½“å‰å·²æŒ‚è½½çš„å·&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;[liuxb@liuxb-mac]$ df -h
Filesystem      Size   Used  Avail Capacity iused      ifree %iused  Mounted on
/dev/disk1     112Gi   81Gi   30Gi    73% 1014786 4293952493    0%   /
devfs          188Ki  188Ki    0Bi   100%     654          0  100%   /dev
map -hosts       0Bi    0Bi    0Bi   100%       0          0  100%   /net
map auto_home    0Bi    0Bi    0Bi   100%       0          0  100%   /home
/dev/disk2s3    92Gi   51Gi   41Gi    56%  336662   42525054    1%   /Volumes/ç³»ç»Ÿ
/dev/disk2s4    20Gi   15Gi  4.4Gi    78%   92859    4579733    2%   /Volumes/æ•°æ®
/dev/disk3s1    29Gi  2.3Mi   29Gi     1%  107876    8373436    2%   /Volumes/æœªå‘½å
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;å¯¹æ¯”Sizeå’ŒNameå¯ä»¥æ‰¾åˆ°SDå¡çš„åˆ†åŒºåœ¨ç³»ç»Ÿé‡Œå¯¹åº”çš„è®¾å¤‡æ–‡ä»¶ï¼ˆè¿™é‡Œæ˜¯/dev/disk3s1ï¼‰ï¼Œå¦‚æœä½ æœ‰å¤šä¸ªåˆ†åŒºï¼Œå¯èƒ½è¿˜ä¼šæœ‰disk3s2ä¹‹ç±»çš„&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;32-ä½¿ç”¨diskutil-unmountå°†åˆ†åŒºå¸è½½&#34;&gt;3.2 ä½¿ç”¨diskutil unmountå°†åˆ†åŒºå¸è½½&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;[liuxb@liuxb-mac]$ diskutil unmount /dev/disk3s1
Volume æœªå‘½å on disk3s1 unmounted
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;33-å…ˆå¯¹ä¸‹è½½çš„zipå‹ç¼©åŒ…è¿›è¡Œè§£å‹ç„¶åä½¿ç”¨ddå‘½ä»¤å°†ç³»ç»Ÿé•œåƒå†™å…¥éœ€è¦ç‰¹åˆ«ç‰¹åˆ«æ³¨æ„diskåçš„æ•°å­—ä¸èƒ½æé”™&#34;&gt;3.3 å…ˆå¯¹ä¸‹è½½çš„zipå‹ç¼©åŒ…è¿›è¡Œè§£å‹ï¼Œç„¶åä½¿ç”¨ddå‘½ä»¤å°†ç³»ç»Ÿé•œåƒå†™å…¥ï¼Œéœ€è¦ç‰¹åˆ«ç‰¹åˆ«æ³¨æ„diskåçš„æ•°å­—ï¼Œä¸èƒ½æé”™&lt;/h4&gt;
&lt;p&gt;è¿™éƒ¨åˆ†å¯ä»¥å‚è€ƒ&lt;a class=&#34;link&#34; href=&#34;#correct&#34; &gt;Mac çƒ§å½•ç³»ç»Ÿ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯´æ˜ï¼š/dev/disk3s1æ˜¯åˆ†åŒºï¼Œ/dev/disk3æ˜¯å—è®¾å¤‡ï¼Œ/dev/rdisk3æ˜¯åŸå§‹å­—ç¬¦è®¾å¤‡&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[liuxb@liuxb-mac]$ unzip 2017-09-07-raspbian-stretch.zip
[liuxb@liuxb-mac]$ sudo dd bs=16m if=2017-09-07-raspbian-stretch.img of=/dev/rdisk3
_
è¾“å…¥ç”¨æˆ·å¯†ç 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç»è¿‡å‡ åˆ†é’Ÿçš„ç­‰å¾…ï¼Œå‡ºç°ä¸‹é¢çš„æç¤ºï¼Œè¯´æ˜TFå¡åˆ·å¥½äº†ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1172+1 records in
1172+1 records out
4916019200 bytes transferred in 127.253638 secs (9691442 bytes/sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;4-å¼€å¯ssh&#34;&gt;4. å¼€å¯SSH&lt;/h3&gt;
&lt;p&gt;åœ¨TFå¡åˆ†åŒºé‡Œåˆ›å»ºä¸€ä¸ªåä¸º&amp;quot;ssh&amp;quot;çš„ä¸å¸¦åç¼€çš„ç©ºæ–‡ä»¶&lt;/p&gt;
&lt;h3 id=&#34;5-å¼€å¯å¼ºåˆ¶hdmiè¾“å‡º&#34;&gt;5. å¼€å¯å¼ºåˆ¶HDMIè¾“å‡º&lt;/h3&gt;
&lt;p&gt;åœ¨TFå¡åˆ†åŒºï¼Œæ‰“å¼€config.txtæ–‡ä»¶(å¼€æœºåä½ç½®ï¼š /boot/config.txt)ï¼Œä¿®æ”¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;hdmi_safe=1
config_hdmi_boost=4
hdmi_ignore_edid=0xa5000080
hdmi_group=2
hdmi_mode=82
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å‚æ•°ä»‹ç»:&lt;/p&gt;
&lt;p&gt;é¡¹&lt;/p&gt;
&lt;p&gt;è§£é‡Š&lt;/p&gt;
&lt;p&gt;hdmi_safe=1&lt;/p&gt;
&lt;p&gt;å®‰å…¨å¯åŠ¨HDMI&lt;/p&gt;
&lt;p&gt;config_hdmi_boost=4&lt;/p&gt;
&lt;p&gt;å¼€å¯çƒ­æ’æ‹”&lt;/p&gt;
&lt;p&gt;hdmi_group=1&lt;/p&gt;
&lt;p&gt;CEAç”µè§†æ˜¾ç¤ºå™¨&lt;/p&gt;
&lt;p&gt;hdmi_group=2&lt;/p&gt;
&lt;p&gt;DMTç”µè„‘æ˜¾ç¤ºå™¨&lt;/p&gt;
&lt;p&gt;hdmi_ignore_edid=0xa5000080&lt;/p&gt;
&lt;p&gt;å¿½ç•¥è‡ªåŠ¨æ¢æµ‹çš„åˆ†è¾¨ç‡&lt;/p&gt;
&lt;p&gt;è¾“å‡ºåˆ†è¾¨ç‡ï¼š&lt;/p&gt;
&lt;p&gt;hdmi_mode=4&lt;/p&gt;
&lt;p&gt;640x480 60Hz&lt;/p&gt;
&lt;p&gt;hdmi_mode=9&lt;/p&gt;
&lt;p&gt;800x600 60Hz&lt;/p&gt;
&lt;p&gt;hdmi_mode=16&lt;/p&gt;
&lt;p&gt;1024x768 60Hz&lt;/p&gt;
&lt;p&gt;hdmi_mode=82&lt;/p&gt;
&lt;p&gt;1080p 60Hz&lt;/p&gt;
&lt;h3 id=&#34;6è®¾ç½®æ— çº¿wi-fiè¿æ¥å‡è®¾æ²¡æœ‰ç½‘çº¿è€Œä¸”æ²¡èƒ½è¿æ¥æ˜¾ç¤ºå™¨&#34;&gt;6.è®¾ç½®æ— çº¿WI-FIè¿æ¥ï¼šï¼ˆå‡è®¾æ²¡æœ‰ç½‘çº¿ï¼Œè€Œä¸”æ²¡èƒ½è¿æ¥æ˜¾ç¤ºå™¨ï¼‰&lt;/h3&gt;
&lt;p&gt;åœ¨TFå¡çš„bootåˆ†åŒºï¼Œåˆ›å»ºwpa_supplicant.confæ–‡ä»¶ï¼ŒåŠ å…¥å¦‚ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;country=CN
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1

network={
ssid=&amp;quot;lxb-wifi&amp;quot;
psk=&amp;quot;123456789&amp;quot;
priority=1
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨æ ‘è“æ´¾é€šç”µåä¼šè‡ªåŠ¨æ·»åŠ åˆ°&lt;code&gt;/etc/wpa_supplicant/wpa_supplicant.conf&lt;/code&gt;æ–‡ä»¶é‡Œé¢ï¼Œè¿›è¡Œè‡ªåŠ¨è¿æ¥ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// è¯¦ç»†ä»‹ç»ï¼š
#ssid:ç½‘ç»œçš„ssid
#psk:å¯†ç 
#priority:è¿æ¥ä¼˜å…ˆçº§ï¼Œæ•°å­—è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ï¼ˆä¸å¯ä»¥æ˜¯è´Ÿæ•°ï¼‰
#scan_ssid:è¿æ¥éšè—WiFiæ—¶éœ€è¦æŒ‡å®šè¯¥å€¼ä¸º1

// å¦‚æœWiFi æ²¡æœ‰å¯†ç 
network={
ssid=&amp;quot;æ— çº¿ç½‘ç»œåç§°ï¼ˆssidï¼‰&amp;quot;
key_mgmt=NONE
}
// å¦‚æœWiFi ä½¿ç”¨WEPåŠ å¯†

network={
ssid=&amp;quot;æ— çº¿ç½‘ç»œåç§°ï¼ˆssidï¼‰&amp;quot;
key_mgmt=NONE
wep_key0=&amp;quot;wifiå¯†ç &amp;quot;
}
// å¦‚æœä½ çš„ WiFi ä½¿ç”¨WPA/WPA2åŠ å¯†

network={
ssid=&amp;quot;æ— çº¿ç½‘ç»œåç§°ï¼ˆssidï¼‰&amp;quot;
key_mgmt=WPA-PSK
psk=&amp;quot;wifiå¯†ç &amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»¥ä¸Šè®¾ç½®å®Œæˆå, TFå¡å¯ä»¥æ’å…¥æ ‘è“æ´¾äº†, é€šç”µ. é»˜è®¤ç™»å½•è´¦å·:&lt;code&gt;pi&lt;/code&gt; å¯†ç : &lt;code&gt;raspberry&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;Mac çƒ§å½•æ“ä½œï¼š&lt;!-- raw HTML omitted --&gt;&amp;gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;æ ¸å¿ƒå°±ä¸€è¡ŒæŒ‡ä»¤
sudo dd bs=4m if=2017-11-29-raspbian-stretch.img of=/dev/rdisk4

å…¶ä¸­ifå‚æ•°ä¸ºé•œåƒæ–‡ä»¶ï¼Œofå‚æ•°ä¸ºè®¾å¤‡åç§°ã€‚ä½†æ˜¯çƒ§å†™ç³»ç»Ÿè¿›sdå¡å‰éœ€è¦ä¸€ä¸ªå‡†å¤‡å·¥ä½œï¼Œå…¶ä¸€æ˜¯å°†sdå¡æŠ¹æ‰æ ¼å¼åŒ–ä¸€ä¸‹ï¼Œç„¶åå¸è½½sdå¡åˆ†åŒºï¼Œæœ€åå°†ç³»ç»Ÿçƒ§è¿›æŒ‡å®šsdå¡ä½ç½®ã€‚

æŠ¹æ‰sdå¡å¾ˆç®€å•ï¼Œmacçš„ç£ç›˜å·¥å…·ï¼Œé€‰ä¸­sdå¡ï¼Œç‚¹æŠ¹æ‰ï¼Œæ ¼å¼é€‰æ‹©MS-DOS(FAT)ã€‚
sdå¡æ ¼å¼åŒ–ä¹‹åï¼ŒMacå‘½ä»¤è¡Œè¾“å…¥df -hï¼Œå¾—åˆ°æŒ‚è½½çš„SDå¡ä½ç½®ï¼ˆå·ï¼‰ï¼Œæ¯”å¦‚/dev/disk4s1ã€‚
ç„¶åä½¿ç”¨ diskutil unmount /dev/disk4s1 å¸è½½è¿™ä¸ªåˆ†åŒº
æœ€åï¼Œä½¿ç”¨ diskutil list è¿™ä¸ªå‘½ä»¤ï¼Œè·å¾—æˆ‘ä»¬è¦å®‰è£…ç³»ç»Ÿçš„è®¾å¤‡ã€‚
æ³¨æ„ï¼šæ­¤å¤„æˆ‘ä»¬çœ‹åˆ°çš„æ˜¯ /dev/disk4ï¼Œä½†æ˜¯å†™æ ¸å¿ƒæŒ‡ä»¤çš„æ—¶å€™è¦åŠ ä¸€ä¸ªå­—æ¯rï¼Œå³/dev/rdisk4ã€‚
æœ€ç»ˆå¾—åˆ°çš„å°±æ˜¯
sudo dd bs=4m if=2017-11-29-raspbian-stretch.img of=/dev/rdisk4

æœ€åå®‰å…¨é€€å‡ºsdå¡
diskutil unmountDisk /dev/disk4
&lt;/code&gt;&lt;/pre&gt;</description>
        </item>
        <item>
        <title>Go å‘é€é‚®ä»¶</title>
        <link>https://lxb.wiki/c296dcc8/</link>
        <pubDate>Sat, 01 Sep 2018 22:26:49 +0000</pubDate>
        
        <guid>https://lxb.wiki/c296dcc8/</guid>
        <description>&lt;p&gt;éœ€è¦å¼•å…¥ smtpåŒ… mail.go&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;package main

import (
    &amp;quot;bytes&amp;quot;
    &amp;quot;encoding/base64&amp;quot;
    &amp;quot;fmt&amp;quot;
    &amp;quot;io/ioutil&amp;quot;
    &amp;quot;net/smtp&amp;quot;
    &amp;quot;strings&amp;quot;
)

const const_smtp_server = &amp;quot;server-ip:port&amp;quot;

//const const_email_content_type = &amp;quot;Content-Type: text/plain; charset=UTF-8&amp;quot;
const const_email_content_type = &amp;quot;Content-Type: text/html; charset=UTF-8&amp;quot;
const const_boundary = &amp;quot;THIS_IS_THE_BOUNDARY_FOR_EMAIL_BY_LXB&amp;quot;

func SendEmail(sender string, receivers []string, subject string, content string, attach_files []string) error {

    var buf bytes.Buffer
    buf.WriteString(&amp;quot;To: &amp;quot;)
    buf.WriteString(strings.Join(receivers, &amp;quot;,&amp;quot;))
    buf.WriteString(&amp;quot;\r\nFrom: &amp;quot;)
    //nickname := strings.Split(sender,&amp;quot;@&amp;quot;)[0]
    //buf.WriteString(nickname)
    buf.WriteString(&amp;quot;&amp;lt;&amp;quot;)
    buf.WriteString(sender)
    buf.WriteString(&amp;quot;&amp;gt;&amp;quot;)
    buf.WriteString(&amp;quot;\r\nSubject: &amp;quot;)
    buf.WriteString(subject)
    buf.WriteString(&amp;quot;\r\nContent-Type: multipart/mixed; boundary=&amp;quot;)
    buf.WriteString(const_boundary)
    buf.WriteString(&amp;quot;\r\n--&amp;quot;)
    buf.WriteString(const_boundary)
    buf.WriteString(&amp;quot;\r\n&amp;quot;)
    buf.WriteString(const_email_content_type)
    buf.WriteString(&amp;quot;\r\n\r\n&amp;quot;)
    buf.WriteString(content)
    buf.WriteString(&amp;quot;\r\n\r\n--&amp;quot;)
    buf.WriteString(const_boundary)
    buf.WriteString(&amp;quot;\r\n&amp;quot;)

    for _, filepath := range attach_files {
        // ç¬¬ä¸€ä¸ªé™„ä»¶
        filedepts := strings.Split(filepath, &amp;quot;/&amp;quot;)
        filename := filedepts[len(filedepts)-1]
        buf.WriteString(&amp;quot;Content-Type: application/octet-stream\r\n&amp;quot;)
        buf.WriteString(&amp;quot;Content-Description: é™„ä»¶\r\n&amp;quot;)
        buf.WriteString(&amp;quot;Content-Transfer-Encoding: base64\r\n&amp;quot;)
        buf.WriteString(&amp;quot;Content-Disposition: attachment; filename=\&amp;quot;&amp;quot; + filename + &amp;quot;\&amp;quot;\r\n\r\n&amp;quot;)
        //è¯»å–å¹¶ç¼–ç æ–‡ä»¶å†…å®¹
        attaData, err := ioutil.ReadFile(filepath)
        if err != nil {
            print(err)
            return err
        }
        b := make([]byte, base64.StdEncoding.EncodedLen(len(attaData)))
        base64.StdEncoding.Encode(b, attaData)
        buf.Write(b)
        buf.WriteString(fmt.Sprintf(&amp;quot;\r\n--%s\r\n&amp;quot;, const_boundary))
    }

    fmt.Println(buf.String())
    err := smtp.SendMail(const_smtp_server, nil, sender, receivers, buf.Bytes())

    fmt.Println(&amp;quot;send mail err:&amp;quot;, err)
    return err
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;main.go&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;package main

import (
    //&amp;quot;flag&amp;quot;
    //&amp;quot;fmt&amp;quot;
    &amp;quot;os&amp;quot;
)

func main() {

    //var task string

    //flag.StringVar(&amp;amp;task, &amp;quot;t&amp;quot;, &amp;quot;&amp;quot;, &amp;quot;task id&amp;quot;)
    //flag.Parse()

    //if task == &amp;quot;&amp;quot; {
    //  fmt.Println(&amp;quot;task is required.&amp;quot;)
    //  flag.Usage()
    //  os.Exit(2)
    //}

    testStr := os.Args[1]

    cont := &amp;quot;&amp;lt;html&amp;gt;&amp;lt;body&amp;gt;&amp;lt;p align=\&amp;quot;center\&amp;quot;&amp;gt;è¡¨: 1&amp;lt;/p&amp;gt;&amp;lt;table align=\&amp;quot;center\&amp;quot; border=\&amp;quot;1\&amp;quot; cellpadding=\&amp;quot;10\&amp;quot;&amp;gt;&amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;ä»»åŠ¡ID&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;åˆ—1&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;åˆ—2&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;åˆ—3&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt; &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&amp;quot; + testStr + &amp;quot;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&amp;quot; + testStr + &amp;quot;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&amp;quot; + testStr + &amp;quot;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&amp;quot; + testStr + &amp;quot;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/table&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&amp;quot;

    sender := &amp;quot;&amp;quot;
    rcvs := []string{}
    sbj := &amp;quot;test email&amp;quot;
    //  cont := &amp;quot;This is content&amp;quot;
    file := []string{}

    SendEmail(sender, rcvs, sbj, cont, file)

}
&lt;/code&gt;&lt;/pre&gt;
</description>
        </item>
        <item>
        <title>Shellæ•°ç»„ç¬”è®°</title>
        <link>https://lxb.wiki/21c4d609/</link>
        <pubDate>Thu, 30 Aug 2018 22:33:15 +0000</pubDate>
        
        <guid>https://lxb.wiki/21c4d609/</guid>
        <description>&lt;p&gt;Bash shell åªæ”¯æŒä¸€ç»´æ•°ç»„. åˆå§‹åŒ–æ—¶ä¸éœ€è¦å®šä¹‰æ•°ç»„å¤§å°(ä¸ PHP ç±»ä¼¼). æ•°ç»„å…ƒç´ çš„ä¸‹æ ‡ç”±0å¼€å§‹&lt;/p&gt;
&lt;p&gt;shell æ•°ç»„ç”¨æ‹¬å·æ¥è¡¨ç¤º, å…ƒç´ ç”¨&amp;quot;ç©ºæ ¼&amp;quot;ç¬¦å·åˆ†éš”å¼€, è¯­æ³•: &lt;code&gt;array_name=(value1 value2 ...valuen)&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;å®ä¾‹&#34;&gt;å®ä¾‹&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
my_array=(A B &amp;quot;C&amp;quot; D)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥ç”¨ä¸‹æ ‡æ¥å®šä¹‰æ•°ç»„&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;array_name[0]=value0
array_name[1]=value1
array_name[2]=value2
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è¯»å–æ•°ç»„&#34;&gt;è¯»å–æ•°ç»„&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;${array_name[index]}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;å®ä¾‹-1&#34;&gt;å®ä¾‹&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash

my_array=(A B &amp;quot;C&amp;quot; D)

echo &amp;quot;ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º: ${my_array[0]}&amp;quot;
echo &amp;quot;ç¬¬äºŒä¸ªå…ƒç´ ä¸º: ${my_array[1]}&amp;quot;
echo &amp;quot;ç¬¬ä¸‰ä¸ªå…ƒç´ ä¸º: ${my_array[2]}&amp;quot;
echo &amp;quot;ç¬¬å››ä¸ªå…ƒç´ ä¸º: ${my_array[3]}&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è·å–æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ &#34;&gt;è·å–æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ &lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;@&lt;/code&gt; æˆ– &lt;code&gt;*&lt;/code&gt; å¯ä»¥åå»æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash

my_array[0]=A
my_array[1]=B
my_array[2]=C
my_array[3]=D

echo &amp;quot;æ•°ç»„çš„å…ƒç´ ä¸º: ${my_array[*]}&amp;quot;
echo &amp;quot;æ•°ç»„çš„å…ƒç´ ä¸º: ${my_array[@]}&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è·å–æ•°ç»„çš„é•¿åº¦&#34;&gt;è·å–æ•°ç»„çš„é•¿åº¦&lt;/h3&gt;
&lt;p&gt;è·å–æ•°ç»„é•¿åº¦çš„æ–¹æ³•ä¸è·å–å­—ç¬¦ä¸²é•¿åº¦çš„æ–¹æ³•ç›¸åŒ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash

my_array[0]=A
my_array[1]=B
my_array[2]=C
my_array[3]=D

echo &amp;quot;æ•°ç»„å…ƒç´ ä¸ªæ•°ä¸º: ${#my_array[*]}&amp;quot;
echo &amp;quot;æ•°ç»„å…ƒç´ ä¸ªæ•°ä¸º: ${#my_array[@]}&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
</description>
        </item>
        <item>
        <title>splitå‘½ä»¤</title>
        <link>https://lxb.wiki/aa4c47b6/</link>
        <pubDate>Thu, 30 Aug 2018 22:23:34 +0000</pubDate>
        
        <guid>https://lxb.wiki/aa4c47b6/</guid>
        <description>&lt;h3 id=&#34;é€‰é¡¹&#34;&gt;é€‰é¡¹&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;-b å€¼ä¸ºæ¯ä¸€ä¸ªè¾“å‡ºæ¡£æ¡ˆçš„å¤§å°, å•ä½ä¸ºbyte
-C æ¯ä¸€ä¸ªè¾“å‡ºæ¡£ä¸­, å•è¡Œçš„æœ€å¤§byte æ•°
-d ä½¿ç”¨æ•°å­—ä½œä¸ºåç¼€
-l å€¼ä¸ºæ¯ä¸€ä¸ªè¾“å‡ºæ¡£çš„è¡Œæ•°å¤§å°
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å®ä¾‹&#34;&gt;å®ä¾‹&lt;/h3&gt;
&lt;p&gt;ç”Ÿæˆä¸€ä¸ªå¤§å°ä¸º100KB çš„æµ‹è¯•æ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;dd if=/dev/zero bs=100k count=1 of=date.file
1+0 records in
1+0 records out
102400 bytes (102 kB) copied, 0.00043 seconds, 238 MB/s
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä½¿ç”¨split å‘½ä»¤å°†ä¸Šé¢åˆ›å»ºçš„date.fileæ–‡ä»¶åˆ†å‰²æˆå¤§å°ä¸º10KB çš„å°æ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ split -b 10k date.file
$ ls
date.file  xaa  xab  xac  xad  xae  xaf  xag  xah  xai  xaj
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ–‡ä»¶è¢«åˆ†å‰²æˆå¸¦æœ‰å­—æ¯çš„åç¼€æ–‡ä»¶, å¦‚æœæƒ³ç”¨æ•°å­—åç¼€å¯ä½¿ç”¨&lt;code&gt;-d&lt;/code&gt;å‚æ•°, åŒæ—¶å¯ä»¥ä½¿ç”¨&lt;code&gt;-a length&lt;/code&gt;æŒ‡å®šåç¼€çš„é•¿åº¦&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[root@localhost split]# split -b 10k date.file -d -a 3
[root@localhost split]# ls
date.file  x000  x001  x002  x003  x004  x005  x006  x007  x008  x009
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸ºåˆ†å‰²åçš„æ–‡ä»¶æŒ‡å®šæ–‡ä»¶åçš„å‰ç¼€&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[root@localhost split]# split -b 10k date.file -d -a 3 split_file
[root@localhost split]# ls
date.file  split_file000  split_file001  split_file002  split_file003  split_file004  split_file005  split_file006  split_file007  split_file008  split_file009
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;-l&lt;/code&gt;é€‰é¡¹æ ¹æ®æ–‡ä»¶çš„è¡Œæ•°æ¥åˆ†å‰²æ–‡ä»¶,å¦‚æŠŠæ–‡ä»¶åˆ†å‰²æˆæ¯ä¸ªåŒ…å«10è¡Œçš„å°æ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;split -l 10 date.file
&lt;/code&gt;&lt;/pre&gt;
</description>
        </item>
        <item>
        <title>mysqlå¯åŠ¨æ—¶ &amp;quot;No space left on device&amp;quot;</title>
        <link>https://lxb.wiki/77f38978/</link>
        <pubDate>Tue, 28 Aug 2018 19:04:37 +0000</pubDate>
        
        <guid>https://lxb.wiki/77f38978/</guid>
        <description>&lt;p&gt;å…ˆç”¨&lt;code&gt;free&lt;/code&gt; å‘½ä»¤æŸ¥çœ‹å‰©ä½™ç©ºé—´&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[root@tokyo mysqld]# free
              total        used        free      shared  buff/cache   available
Mem:        1016108      632132      205776       66344      178200      180496
Swap:             0           0           0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å‘ç°swap ä¸ºé›¶äº†&lt;/p&gt;
&lt;p&gt;æ‰§è¡Œ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;dd if=/dev/zero of=/swapfile bs=1M count=1024
mkswap /swapfile
wapon /swapfile
swapon /swapfile
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å†ç”¨&lt;code&gt;free&lt;/code&gt;æŸ¥çœ‹&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[root@tokyo ~]# free
              total        used        free      shared  buff/cache   available
Mem:        1016108      732148       63984       51400      219976       71132
Swap:       1048572      209240      839332
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯åŠ¨mysql, è§£å†³&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Linux åå°æ‰§è¡Œå‘½ä»¤</title>
        <link>https://lxb.wiki/be78f922/</link>
        <pubDate>Tue, 28 Aug 2018 01:01:30 +0000</pubDate>
        
        <guid>https://lxb.wiki/be78f922/</guid>
        <description>&lt;p&gt;å½“æˆ‘ä»¬åœ¨ç»ˆç«¯æˆ–æ§åˆ¶å°å·¥ä½œæ—¶ï¼Œå¯èƒ½ä¸å¸Œæœ›ç”±äºè¿è¡Œä¸€ä¸ªä½œä¸šè€Œå ä½äº†å±å¹•ï¼Œå› ä¸ºå¯èƒ½è¿˜æœ‰æ›´é‡è¦çš„äº‹æƒ…è¦åšï¼Œæ¯”å¦‚é˜…è¯»ç”µå­é‚®ä»¶ã€‚å¯¹äºå¯†é›†è®¿é—®ç£ç›˜çš„è¿›ç¨‹ï¼Œæˆ‘ä»¬æ›´å¸Œæœ›å®ƒèƒ½å¤Ÿåœ¨æ¯å¤©çš„éè´Ÿè·é«˜å³°æ—¶é—´æ®µè¿è¡Œ(ä¾‹å¦‚å‡Œæ™¨)ã€‚ä¸ºäº†ä½¿è¿™äº›è¿›ç¨‹èƒ½å¤Ÿåœ¨åå°è¿è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ä¸åœ¨ç»ˆç«¯å±å¹•ä¸Šè¿è¡Œï¼Œæœ‰å‡ ç§é€‰æ‹©æ–¹æ³•å¯ä¾›ä½¿ç”¨&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;amp;&lt;/li&gt;
&lt;li&gt;nohup&lt;/li&gt;
&lt;li&gt;ctrl + z&lt;/li&gt;
&lt;li&gt;ctrl + c&lt;/li&gt;
&lt;li&gt;jobs&lt;/li&gt;
&lt;li&gt;bg&lt;/li&gt;
&lt;li&gt;fg&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;heading&#34;&gt;&amp;amp;&lt;/h4&gt;
&lt;p&gt;å½“åœ¨å‰å°è¿è¡ŒæŸä¸ªä½œä¸šæ—¶ï¼Œç»ˆç«¯è¢«è¯¥ä½œä¸šå æ®ï¼›å¯ä»¥åœ¨å‘½ä»¤åé¢åŠ ä¸Š&amp;amp; å®ç°åå°è¿è¡Œã€‚ä¾‹å¦‚ï¼šsh test.sh &amp;amp; é€‚åˆåœ¨åå°è¿è¡Œçš„å‘½ä»¤æœ‰f i n dã€è´¹æ—¶çš„æ’åºåŠä¸€äº›s h e l lè„šæœ¬ã€‚åœ¨åå°è¿è¡Œä½œä¸šæ—¶è¦å½“å¿ƒï¼šéœ€è¦ç”¨æˆ·äº¤äº’çš„å‘½ä»¤ä¸è¦æ”¾åœ¨åå°æ‰§è¡Œï¼Œå› ä¸ºè¿™æ ·ä½ çš„æœºå™¨å°±ä¼šåœ¨é‚£é‡Œå‚»ç­‰ã€‚ä¸è¿‡ï¼Œä½œä¸šåœ¨åå°è¿è¡Œä¸€æ ·ä¼šå°†ç»“æœè¾“å‡ºåˆ°å±å¹•ä¸Šï¼Œå¹²æ‰°ä½ çš„å·¥ä½œã€‚å¦‚æœæ”¾åœ¨åå°è¿è¡Œçš„ä½œä¸šä¼šäº§ç”Ÿå¤§é‡çš„è¾“å‡ºï¼Œæœ€å¥½ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•æŠŠå®ƒçš„è¾“å‡ºé‡å®šå‘åˆ°æŸä¸ªæ–‡ä»¶ä¸­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;command  &amp;gt;  out.file  2&amp;gt;&amp;amp;1  &amp;amp; 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å½“ä½ æˆåŠŸåœ°æäº¤è¿›ç¨‹ä»¥åï¼Œå°±ä¼šæ˜¾ç¤ºå‡ºä¸€ä¸ªè¿›ç¨‹å·ï¼Œå¯ä»¥ç”¨å®ƒæ¥ç›‘æ§è¯¥è¿›ç¨‹ï¼Œæˆ–æ€æ­»å®ƒã€‚(&lt;code&gt;ps -ef | grep è¿›ç¨‹å·&lt;/code&gt; æˆ–è€… &lt;code&gt;kill -9 è¿›ç¨‹å·&lt;/code&gt;ï¼‰&lt;/p&gt;
&lt;h4 id=&#34;nohup&#34;&gt;nohup&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;&amp;amp;&lt;/code&gt;å‘½ä»¤åï¼Œä½œä¸šè¢«æäº¤åˆ°åå°è¿è¡Œï¼Œå½“å‰æ§åˆ¶å°æ²¡æœ‰è¢«å ç”¨ï¼Œä½†æ˜¯ä¸€ä½†æŠŠå½“å‰æ§åˆ¶å°å…³æ‰(é€€å‡ºå¸æˆ·æ—¶)ï¼Œä½œä¸šå°±ä¼šåœæ­¢è¿è¡Œã€‚nohupå‘½ä»¤å¯ä»¥åœ¨ä½ é€€å‡ºå¸æˆ·ä¹‹åç»§ç»­è¿è¡Œç›¸åº”çš„è¿›ç¨‹ã€‚nohupå°±æ˜¯ä¸æŒ‚èµ·çš„æ„æ€( no hang up)ã€‚è¯¥å‘½ä»¤çš„ä¸€èˆ¬å½¢å¼ä¸ºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;nohup command &amp;amp;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚æœä½¿ç”¨nohupå‘½ä»¤æäº¤ä½œä¸šï¼Œé‚£ä¹ˆåœ¨ç¼ºçœæƒ…å†µä¸‹è¯¥ä½œä¸šçš„æ‰€æœ‰è¾“å‡ºéƒ½è¢«é‡å®šå‘åˆ°ä¸€ä¸ªåä¸ºnohup.outçš„æ–‡ä»¶ä¸­ï¼Œé™¤éå¦å¤–æŒ‡å®šäº†è¾“å‡ºæ–‡ä»¶ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;nohup command &amp;gt; myout.file 2&amp;gt;&amp;amp;1 &amp;amp;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä½¿ç”¨äº†nohupä¹‹åï¼Œå¾ˆå¤šäººå°±è¿™æ ·ä¸ç®¡äº†ï¼Œå…¶å®è¿™æ ·æœ‰å¯èƒ½åœ¨å½“å‰è´¦æˆ·éæ­£å¸¸é€€å‡ºæˆ–è€…ç»“æŸçš„æ—¶å€™ï¼Œå‘½ä»¤è¿˜æ˜¯è‡ªå·±ç»“æŸäº†ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨nohupå‘½ä»¤åå°è¿è¡Œå‘½ä»¤ä¹‹åï¼Œ&lt;strong&gt;éœ€è¦ä½¿ç”¨exitæ­£å¸¸é€€å‡ºå½“å‰è´¦æˆ·&lt;/strong&gt;ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯å‘½ä»¤ä¸€ç›´åœ¨åå°è¿è¡Œ&lt;/p&gt;
&lt;h4 id=&#34;ctrl--z&#34;&gt;ctrl + z&lt;/h4&gt;
&lt;p&gt;å¯ä»¥å°†ä¸€ä¸ªæ­£åœ¨å‰å°æ‰§è¡Œçš„å‘½ä»¤æ”¾åˆ°åå°ï¼Œå¹¶ä¸”å¤„äºæš‚åœçŠ¶æ€&lt;/p&gt;
&lt;h4 id=&#34;ctrl--c&#34;&gt;ctrl + c&lt;/h4&gt;
&lt;p&gt;ç»ˆæ­¢å‰å°å‘½ä»¤&lt;/p&gt;
&lt;h4 id=&#34;jobs&#34;&gt;jobs&lt;/h4&gt;
&lt;p&gt;æŸ¥çœ‹å½“å‰æœ‰å¤šå°‘åœ¨åå°è¿è¡Œçš„å‘½ä»¤ã€‚ &lt;code&gt;jobs -l&lt;/code&gt;é€‰é¡¹å¯æ˜¾ç¤ºæ‰€æœ‰ä»»åŠ¡çš„PIDï¼Œjobsçš„çŠ¶æ€å¯ä»¥æ˜¯running, stopped, Terminatedã€‚ä½†æ˜¯å¦‚æœä»»åŠ¡è¢«ç»ˆæ­¢äº†ï¼ˆkillï¼‰ï¼Œshell ä»å½“å‰çš„shellç¯å¢ƒå·²çŸ¥çš„åˆ—è¡¨ä¸­åˆ é™¤ä»»åŠ¡çš„è¿›ç¨‹æ ‡è¯†&lt;/p&gt;
&lt;h4 id=&#34;bg&#34;&gt;bg&lt;/h4&gt;
&lt;p&gt;å°†ä¸€ä¸ªåœ¨åå°æš‚åœçš„å‘½ä»¤ï¼Œå˜æˆç»§ç»­æ‰§è¡Œ ï¼ˆåœ¨åå°æ‰§è¡Œï¼‰ å¦‚æœåå°ä¸­æœ‰å¤šä¸ªå‘½ä»¤ï¼Œå¯ä»¥ç”¨bg %jobnumberå°†é€‰ä¸­çš„å‘½ä»¤è°ƒå‡ºï¼Œ%jobnumberæ˜¯é€šè¿‡jobså‘½ä»¤æŸ¥åˆ°çš„åå°æ­£åœ¨æ‰§è¡Œçš„å‘½ä»¤çš„åºå·(ä¸æ˜¯pid) å°†ä»»åŠ¡è½¬ç§»åˆ°åå°è¿è¡Œï¼š å…ˆctrl + zï¼›å†bgï¼Œè¿™æ ·è¿›ç¨‹å°±è¢«ç§»åˆ°åå°è¿è¡Œï¼Œç»ˆç«¯è¿˜èƒ½ç»§ç»­æ¥å—å‘½ä»¤ã€‚&lt;/p&gt;
&lt;h4 id=&#34;fg&#34;&gt;fg&lt;/h4&gt;
&lt;p&gt;å°†åå°ä¸­çš„å‘½ä»¤è°ƒè‡³å‰å°ç»§ç»­è¿è¡Œ å¦‚æœåå°ä¸­æœ‰å¤šä¸ªå‘½ä»¤ï¼Œå¯ä»¥ç”¨ fg %jobnumberå°†é€‰ä¸­çš„å‘½ä»¤è°ƒå‡ºï¼Œ%jobnumberæ˜¯é€šè¿‡jobså‘½ä»¤æŸ¥åˆ°çš„åå°æ­£åœ¨æ‰§è¡Œçš„å‘½ä»¤çš„åºå·(ä¸æ˜¯pid)&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Golang select çš„ç”¨æ³•</title>
        <link>https://lxb.wiki/e353ee8e/</link>
        <pubDate>Mon, 27 Aug 2018 00:27:40 +0000</pubDate>
        
        <guid>https://lxb.wiki/e353ee8e/</guid>
        <description>&lt;h4 id=&#34;åŸºæœ¬ä½¿ç”¨&#34;&gt;åŸºæœ¬ä½¿ç”¨&lt;/h4&gt;
&lt;p&gt;select æ˜¯ Go ä¸­çš„ä¸€ä¸ªæ§åˆ¶ç»“æ„, ç±»ä¼¼äºswitch è¯­å¥, ç”¨äºå¤„ç†å¼‚æ­¥ IO æ“ä½œ. select è¯­å¥ä¼šç›‘å¬ caseè¯­å¥ä¸­channel çš„è¯»å†™æ“ä½œ, å½“case ä¸­ channel è¯»å†™æ“ä½œä¸ºéé˜»å¡çŠ¶æ€(å³èƒ½è¯»å†™)æ—¶, å°†ä¼šè§¦å‘ç›¸åº”çš„åŠ¨ä½œ.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;select ä¸­çš„ case è¯­å¥å¿…é¡»æ˜¯ä¸€ä¸ª channel æ“ä½œ
select ä¸­çš„ default å­å¥æ€»æ˜¯å¯è¿è¡Œçš„
&lt;/code&gt;&lt;/pre&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœæœ‰å¤šä¸ª case éƒ½å¯ä»¥è¿è¡Œ, select ä¼šéšæœºå…¬å¹³åœ°é€‰å‡ºä¸€ä¸ªæ‰§è¡Œ, å…¶ä»–ä¸ä¼šæ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰å¯è¿è¡Œçš„ case è¯­å¥, ä¸”æœ‰ default è¯­å¥, åˆ™ä¼šæ‰§è¡Œ default çš„åŠ¨ä½œ&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰å¯è¿è¡Œçš„ case è¯­å¥, ä¸”æ²¡æœ‰ default è¯­å¥, select å°†é˜»å¡, çŸ¥é“æŸä¸ª case é€šä¿¡å¯ä»¥è¿è¡Œ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;package main

import &amp;quot;fmt&amp;quot;

func main() {
   var c1, c2, c3 chan int
   var i1, i2 int
   select {
      case i1 = &amp;lt;-c1:
         fmt.Printf(&amp;quot;received &amp;quot;, i1, &amp;quot; from c1\n&amp;quot;)
      case c2 &amp;lt;- i2:
         fmt.Printf(&amp;quot;sent &amp;quot;, i2, &amp;quot; to c2\n&amp;quot;)
      case i3, ok := (&amp;lt;-c3):  // same as: i3, ok := &amp;lt;-c3
         if ok {
            fmt.Printf(&amp;quot;received &amp;quot;, i3, &amp;quot; from c3\n&amp;quot;)
         } else {
            fmt.Printf(&amp;quot;c3 is closed\n&amp;quot;)
         }
      default:
         fmt.Printf(&amp;quot;no communication\n&amp;quot;)
   }    
}

//è¾“å‡ºï¼šno communication
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;å…¸å‹ç”¨æ³•&#34;&gt;å…¸å‹ç”¨æ³•&lt;/h4&gt;
&lt;h5 id=&#34;1-è¶…æ—¶åˆ¤æ–­&#34;&gt;1. è¶…æ—¶åˆ¤æ–­&lt;/h5&gt;
&lt;pre&gt;&lt;code&gt;//æ¯”å¦‚åœ¨ä¸‹é¢çš„åœºæ™¯ä¸­ï¼Œä½¿ç”¨å…¨å±€resChanæ¥æ¥å—responseï¼Œå¦‚æœæ—¶é—´è¶…è¿‡3S,resChanä¸­è¿˜æ²¡æœ‰æ•°æ®è¿”å›ï¼Œåˆ™ç¬¬äºŒæ¡caseå°†æ‰§è¡Œ
var resChan = make(chan int)
// do request
func test() {
    select {
    case data := &amp;lt;-resChan:
        doData(data)
    case &amp;lt;-time.After(time.Second * 3):
        fmt.Println(&amp;quot;request time out&amp;quot;)
    }
}

func doData(data int) {
    //...
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2-é€€å‡º&#34;&gt;2. é€€å‡º&lt;/h5&gt;
&lt;pre&gt;&lt;code&gt;//ä¸»çº¿ç¨‹ï¼ˆåç¨‹ï¼‰ä¸­å¦‚ä¸‹ï¼š
var shouldQuit=make(chan struct{})
fun main(){
    {
        //loop
    }
    //...out of the loop
    select {
        case &amp;lt;-c.shouldQuit:
            cleanUp()
            return
        default:
        }
    //...
}

//å†å¦å¤–ä¸€ä¸ªåç¨‹ä¸­ï¼Œå¦‚æœè¿è¡Œé‡åˆ°éæ³•æ“ä½œæˆ–ä¸å¯å¤„ç†çš„é”™è¯¯ï¼Œå°±å‘shouldQuitå‘é€æ•°æ®é€šçŸ¥ç¨‹åºåœæ­¢è¿è¡Œ
close(shouldQuit)
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;3-åˆ¤æ–­-channel-æ˜¯å¦é˜»å¡&#34;&gt;3. åˆ¤æ–­ channel æ˜¯å¦é˜»å¡&lt;/h5&gt;
&lt;pre&gt;&lt;code&gt;//åœ¨æŸäº›æƒ…å†µä¸‹æ˜¯å­˜åœ¨ä¸å¸Œæœ›channelç¼“å­˜æ»¡äº†çš„éœ€æ±‚çš„ï¼Œå¯ä»¥ç”¨å¦‚ä¸‹æ–¹æ³•åˆ¤æ–­
ch := make (chan int, 5)
//...
dataï¼š=0
select {
case ch &amp;lt;- data:
default:
    //åšç›¸åº”æ“ä½œï¼Œæ¯”å¦‚ä¸¢å¼ƒdataã€‚è§†éœ€æ±‚è€Œå®š
}
&lt;/code&gt;&lt;/pre&gt;
</description>
        </item>
        <item>
        <title>Redis ç¬”è®°</title>
        <link>https://lxb.wiki/9f188831/</link>
        <pubDate>Thu, 19 Jul 2018 18:51:37 +0000</pubDate>
        
        <guid>https://lxb.wiki/9f188831/</guid>
        <description>&lt;h4 id=&#34;æ•°æ®ç±»å‹&#34;&gt;æ•°æ®ç±»å‹&lt;/h4&gt;
&lt;p&gt;Redis æ”¯æŒ5ä¸­æ•°æ®ç±»å‹&lt;/p&gt;
&lt;h5 id=&#34;å­—ç¬¦ä¸²string&#34;&gt;å­—ç¬¦ä¸²(string)&lt;/h5&gt;
&lt;p&gt;Redis ä¸­å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªå­—èŠ‚åºåˆ—. Redis ä¸­çš„å­—ç¬¦ä¸²æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„, è¿™æ„å‘³ç€å®ƒä»¬çš„é•¿åº¦ä¸ç”±ä»»ä½•ç‰¹æ®Šçš„ç»ˆæ­¢å­—ç¬¦å†³å®šã€‚å› æ­¤ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­å­˜å‚¨é«˜è¾¾512å…†å­—èŠ‚çš„ä»»ä½•å†…å®¹ &lt;strong&gt;ä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;redis 127.0.0.1:6379&amp;gt; SET name &amp;quot;value&amp;quot;
OK
redis 127.0.0.1:6379&amp;gt; GET name
&amp;quot;value&amp;quot;


Rediså‘½ä»¤ä¸åŒºåˆ†å¤§å°å†™.å­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦ä¸º512M
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;æ•£åˆ—å“ˆå¸Œhash&#34;&gt;æ•£åˆ—/å“ˆå¸Œ(Hash)&lt;/h5&gt;
&lt;p&gt;Redisæ•£åˆ—/å“ˆå¸Œ(Hashes)æ˜¯é”®å€¼å¯¹çš„é›†åˆã€‚Redisæ•£åˆ—/å“ˆå¸Œæ˜¯å­—ç¬¦ä¸²å­—æ®µå’Œå­—ç¬¦ä¸²å€¼ä¹‹é—´çš„æ˜ å°„ã€‚å› æ­¤ï¼Œå®ƒä»¬ç”¨äºè¡¨ç¤ºå¯¹è±¡ã€‚ &lt;strong&gt;ä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;redis 127.0.0.1:6379&amp;gt; HMSET ukey username &amp;quot;yiibai&amp;quot; password &amp;quot;passswd123&amp;quot; points 200
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ•£åˆ—/å“ˆå¸Œæ•°æ®ç±»å‹ç”¨äºå­˜å‚¨åŒ…å«ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯çš„ç”¨æˆ·å¯¹è±¡ã€‚è¿™é‡ŒHMSETï¼ŒHGETALLæ˜¯Redisçš„å‘½ä»¤ï¼Œè€Œukeyæ˜¯é”®çš„åç§°ã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªæ•£åˆ—/å“ˆå¸Œå¯ä»¥å­˜å‚¨å¤šè¾¾2^32 - 1ä¸ªå¥-å€¼å¯¹(è¶…è¿‡40äº¿ä¸ª)ã€‚&lt;/p&gt;
&lt;h5 id=&#34;åˆ—è¡¨list&#34;&gt;åˆ—è¡¨(List)&lt;/h5&gt;
&lt;p&gt;Redisåˆ—è¡¨åªæ˜¯å­—ç¬¦ä¸²åˆ—è¡¨ï¼ŒæŒ‰æ’å…¥é¡ºåºæ’åºã€‚å¯ä»¥å‘Redisåˆ—è¡¨çš„å¤´éƒ¨æˆ–å°¾éƒ¨æ·»åŠ å…ƒç´ ã€‚ &lt;strong&gt;ä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;redis 127.0.0.1:6379&amp;gt; lpush alist redis 
(integer) 1 
redis 127.0.0.1:6379&amp;gt; lpush alist mongodb 
(integer) 2 
redis 127.0.0.1:6379&amp;gt; lpush alist sqlite 
(integer) 3 
redis 127.0.0.1:6379&amp;gt; lrange alist 0 10  

1) &amp;quot;sqlite&amp;quot; 
2) &amp;quot;mongodb&amp;quot; 
3) &amp;quot;redis&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;é›†åˆset&#34;&gt;é›†åˆ(Set)&lt;/h5&gt;
&lt;p&gt;Redisé›†åˆæ˜¯å­—ç¬¦ä¸²çš„æ— åºé›†åˆã€‚åœ¨Redisä¸­ï¼Œå¯ä»¥æ·»åŠ ï¼Œåˆ é™¤å’Œæµ‹è¯•æˆå‘˜å­˜åœ¨çš„æ—¶é—´O(1)å¤æ‚æ€§ &lt;strong&gt;ä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;redis 127.0.0.1:6379&amp;gt; sadd yiibailist redis 
(integer) 1 
redis 127.0.0.1:6379&amp;gt; sadd yiibailist mongodb 
(integer) 1 
redis 127.0.0.1:6379&amp;gt; sadd yiibailist sqlite 
(integer) 1 
redis 127.0.0.1:6379&amp;gt; sadd yiibailist sqlite 
(integer) 0 
redis 127.0.0.1:6379&amp;gt; smembers yiibailist  

1) &amp;quot;sqlite&amp;quot; 
2) &amp;quot;mongodb&amp;quot; 
3) &amp;quot;redis&amp;quot;


æ³¨æ„ - åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œsqliteè¢«æ·»åŠ äº†ä¸¤æ¬¡ï¼Œä½†æ˜¯ç”±äºé›†åˆçš„å”¯ä¸€å±æ€§ï¼Œæ‰€ä»¥å®ƒåªç®—æ·»åŠ ä¸€æ¬¡
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;å¯æ’åºé›†åˆzset&#34;&gt;å¯æ’åºé›†åˆ(ZSET)&lt;/h5&gt;
&lt;p&gt;Rediså¯æ’åºé›†åˆç±»ä¼¼äºRedisé›†åˆï¼Œæ˜¯ä¸é‡å¤çš„å­—ç¬¦é›†åˆã€‚ ä¸åŒä¹‹å¤„åœ¨äºï¼Œæ’åºé›†åˆçš„æ¯ä¸ªæˆå‘˜éƒ½ä¸åˆ†æ•°ç›¸å…³è”ï¼Œè¿™ä¸ªåˆ†æ•°ç”¨äºæŒ‰æœ€å°åˆ†æ•°åˆ°æœ€å¤§åˆ†æ•°æ¥æ’åºçš„æ’åºé›†åˆã€‚è™½ç„¶æˆå‘˜æ˜¯å”¯ä¸€çš„ï¼Œä½†åˆ†æ•°å€¼å¯ä»¥é‡å¤ &lt;strong&gt;ä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;redis 127.0.0.1:6379&amp;gt; zadd yiibaiset 0 redis
(integer) 1 
redis 127.0.0.1:6379&amp;gt; zadd yiibaiset 0 mongodb
(integer) 1 
redis 127.0.0.1:6379&amp;gt; zadd yiibaiset 1 sqlite
(integer) 1 
redis 127.0.0.1:6379&amp;gt; zadd yiibaiset 1 sqlite
(integer) 0 
redis 127.0.0.1:6379&amp;gt; ZRANGEBYSCORE yiibaiset 0 1000  

1) &amp;quot;mongodb&amp;quot; 
2) &amp;quot;redis&amp;quot; 
3) &amp;quot;sqlite&amp;quot;


å› ä¸º â€˜sqliteâ€˜ çš„æ’åºå€¼æ˜¯ 1 ï¼Œå…¶å®ƒä¸¤ä¸ªå…ƒç´ çš„æ’åºå€¼æ˜¯ 0 ï¼Œæ‰€ä»¥ â€˜sqliteâ€˜ æ’åœ¨æœ€åä¸€ä¸ªä½ç½®ä¸Š
&lt;/code&gt;&lt;/pre&gt;
</description>
        </item>
        <item>
        <title>Go ç¯å¢ƒå˜é‡</title>
        <link>https://lxb.wiki/2ddd6919/</link>
        <pubDate>Wed, 18 Jul 2018 00:57:36 +0000</pubDate>
        
        <guid>https://lxb.wiki/2ddd6919/</guid>
        <description>&lt;h5 id=&#34;goroot&#34;&gt;GOROOT&lt;/h5&gt;
&lt;p&gt;ï¼Œåœ¨Linuxç³»ç»Ÿä¸­ä¸€èˆ¬å®‰è£…åœ¨&lt;code&gt;/usr/go&lt;/code&gt;æˆ–è€…&lt;code&gt;/usr/local/go&lt;/code&gt;ï¼Œè¿™æ ·Linuxç³»ç»Ÿä¸­çš„PATHå˜é‡ä¸€èˆ¬éƒ½åŒ…å«äº†è¿™ä¸¤ä¸ªç›®å½•ï¼Œæ‰€ä»¥å°±å¯ä»¥ç›´æ¥è¿è¡Œgoå‘½ä»¤ï¼Œè€ŒWindowsç³»ç»Ÿä¸­ä¸€èˆ¬é»˜è®¤å®‰è£…åœ¨&lt;code&gt;C:\go&lt;/code&gt;ä¸­&lt;/p&gt;
&lt;p&gt;è‡ªå®šä¹‰ GOå®‰è£…è·¯å¾„, å¯ä¿®æ”¹ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ &lt;code&gt;export GOROOT=$HOME/go&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;gopath&#34;&gt;GOPATH&lt;/h5&gt;
&lt;p&gt;goçš„å·¥ä½œç›®å½•ï¼Œè¿™ä¸ªç›®å½•æŒ‡å®šäº†éœ€è¦ä»å“ªä¸ªåœ°æ–¹å¯»æ‰¾GOçš„åŒ…ã€å¯æ‰§è¡Œç¨‹åºç­‰ï¼Œè¿™ä¸ªç›®å½•å¯ä»¥æ˜¯å¤šä¸ªç›®å½•è¡¨ç¤ºï¼Œgoç¼–è¯‘æˆ–è€…è¿è¡Œæ—¶ä¼šä»è¿™ä¸ªç¯å¢ƒå˜é‡ä¸­å»å¯¹åº”æŸ¥æ‰¾ï¼Œå·¥ä½œç›®å½•æˆ–è€…å¦‚å®˜æ–¹æ–‡æ¡£ä¸­è¯´çš„workspace åœ¨è¿™ä¸ªç›®å½•è¿›è¡Œç¼–è¯‘ã€é“¾æ¥æœ€åç”Ÿæˆæ‰€éœ€è¦çš„åº“ã€å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯¹æ¯”Cç¨‹åºçš„ç›®å½•ï¼Œä¹Ÿè®¸æ›´èƒ½æ–¹ä¾¿ç†è§£ï¼Œä¸€èˆ¬åœ¨Cçš„å·¥ç¨‹é¡¹ç›®ä¸­åŒ…å«ä¸‰ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªincludeç›®å½•ã€srcç›®å½•ã€Makefileæ–‡ä»¶ã€‚ &lt;code&gt;include&lt;/code&gt;ç›®å½•å­˜æ”¾äº†æ‰€æœ‰çš„å¤´æ–‡ä»¶å¯ä¾›å…¶ä»–åœ°æ–¹åŒ…å« &lt;code&gt;src&lt;/code&gt;ç›®å½•åˆ™å­˜æ”¾æ‰€æœ‰çš„.cåç¼€çš„æºæ–‡ä»¶ &lt;code&gt;Makefile&lt;/code&gt;åˆ™æ˜¯è¯¥é¡¹ç›®çš„ç¼–è¯‘ï¼Œåœ¨ç¼–è¯‘æ•´ä¸ªå·¥ç¨‹æ—¶éœ€è¦æ‰§è¡Œmakeå‘½ä»¤ï¼Œè¿™é‡Œå°±å‘ç°GOå°±ä¸éœ€è¦å»å†™ä»€ä¹ˆMakefileäº†ï¼Œæ‰§è¡Œ&lt;code&gt;go build xxx.go&lt;/code&gt;å‘½ä»¤å°±å¯ä»¥ç¼–è¯‘&lt;/p&gt;
&lt;p&gt;GOPATH ä¸‹çš„ç›®å½•ä¸‹, ä¸€èˆ¬æœ‰ä¸‰ä¸ª ç›®å½• &lt;code&gt;bin&lt;/code&gt; &lt;code&gt;pkg&lt;/code&gt; &lt;code&gt;src&lt;/code&gt; &lt;code&gt;bin&lt;/code&gt;ç›®å½•åŒ…å«äº†å¯æ‰§è¡Œç¨‹åºï¼Œæ³¨æ„æ˜¯å¯æ‰§è¡Œçš„ï¼Œä¸éœ€è¦è§£é‡Šæ‰§è¡Œã€‚ &lt;code&gt;pkg&lt;/code&gt;ç›®å½•åŒ…å«äº†ä½¿ç”¨çš„åŒ…æˆ–è€…è¯´åº“ã€‚ &lt;code&gt;src&lt;/code&gt;é‡Œé¢åŒ…å«äº†goçš„ä»£ç æºæ–‡ä»¶ï¼Œå…¶ä¸­ä»æŒ‰åŒ…çš„ä¸åŒè¿›è¡Œç»„ç»‡&lt;/p&gt;
&lt;p&gt;åŒ…åä¸€èˆ¬å’Œç›®å½•åç›¸åŒ, ç¼–è¯‘æ—¶, å¯ä»¥åœ¨æŸä¸ªåŒ…ä¸‹, æ‰§è¡Œ&lt;code&gt;go build&lt;/code&gt; , ä¹Ÿå¯ä»¥åœ¨åŒ…ä¸Šå±‚ç›´æ¥ç¼–è¯‘åŒ…å&lt;code&gt;go build pkg_name&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;go install &amp;lt;pkg_name/exe_name/all&amp;gt;&lt;/code&gt; å…ˆç¼–è¯‘åæŠŠç¼–è¯‘ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶å¤åˆ¶åˆ°&lt;code&gt;bin&lt;/code&gt; ä¸‹&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Linux å®‰è£…bashmarks</title>
        <link>https://lxb.wiki/472d58f/</link>
        <pubDate>Fri, 13 Jul 2018 00:34:43 +0000</pubDate>
        
        <guid>https://lxb.wiki/472d58f/</guid>
        <description>&lt;h6 id=&#34;ä¸‹è½½æºç &#34;&gt;ä¸‹è½½æºç &lt;/h6&gt;
&lt;p&gt;&lt;code&gt;git clone https://github.com/lxbwolf/bashmarks.git&lt;/code&gt; æŠŠ&lt;code&gt;bashmarks.sh&lt;/code&gt;å¤åˆ¶åˆ°&lt;code&gt;~/bin/&lt;/code&gt;&lt;/p&gt;
&lt;h6 id=&#34;æ·»åŠ ç¯å¢ƒå˜é‡&#34;&gt;æ·»åŠ ç¯å¢ƒå˜é‡&lt;/h6&gt;
&lt;p&gt;åœ¨ç¯å¢ƒå˜é‡æ–‡ä»¶é‡Œ, æ·»åŠ  &lt;code&gt;. ~/bin/bashmarks.sh&lt;/code&gt;&lt;/p&gt;
&lt;h6 id=&#34;ç›¸å…³å‘½ä»¤&#34;&gt;ç›¸å…³å‘½ä»¤&lt;/h6&gt;
&lt;pre&gt;&lt;code&gt;s &amp;lt;bookmark_name&amp;gt; - Saves the current directory as &amp;quot;bookmark_name&amp;quot;
g &amp;lt;bookmark_name&amp;gt; - Goes (cd) to the directory associated with &amp;quot;bookmark_name&amp;quot;
p &amp;lt;bookmark_name&amp;gt; - Prints the directory associated with &amp;quot;bookmark_name&amp;quot;
d &amp;lt;bookmark_name&amp;gt; - Deletes the bookmark
l                 - Lists all available bookmarks
&lt;/code&gt;&lt;/pre&gt;
</description>
        </item>
        <item>
        <title>Linux å®‰è£…thefuck</title>
        <link>https://lxb.wiki/42c1114f/</link>
        <pubDate>Fri, 13 Jul 2018 00:30:33 +0000</pubDate>
        
        <guid>https://lxb.wiki/42c1114f/</guid>
        <description>&lt;h6 id=&#34;ä¸‹è½½æºç &#34;&gt;ä¸‹è½½æºç &lt;/h6&gt;
&lt;p&gt;&lt;code&gt;git clone https://github.com/lxbwolf/thefuck.git&lt;/code&gt;&lt;/p&gt;
&lt;h6 id=&#34;é…ç½®ç¯å¢ƒå˜é‡&#34;&gt;é…ç½®ç¯å¢ƒå˜é‡&lt;/h6&gt;
&lt;ol&gt;
&lt;li&gt;æŠŠ&lt;code&gt;thefuck/**/libexec/bin&lt;/code&gt; æ·»åŠ è¿›ç¯å¢ƒå˜é‡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;eval $(thefuck --alias fuck)&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>Linux å®‰è£…thefuck</title>
        <link>https://lxb.wiki/42c1114f/</link>
        <pubDate>Fri, 13 Jul 2018 00:30:33 +0000</pubDate>
        
        <guid>https://lxb.wiki/42c1114f/</guid>
        <description>&lt;h6 id=&#34;ä¸‹è½½æºç &#34;&gt;ä¸‹è½½æºç &lt;/h6&gt;
&lt;p&gt;&lt;code&gt;git clone https://github.com/lxbwolf/thefuck.git&lt;/code&gt;&lt;/p&gt;
&lt;h6 id=&#34;é…ç½®ç¯å¢ƒå˜é‡&#34;&gt;é…ç½®ç¯å¢ƒå˜é‡&lt;/h6&gt;
&lt;ol&gt;
&lt;li&gt;æŠŠ&lt;code&gt;thefuck/**/libexec/bin&lt;/code&gt; æ·»åŠ è¿›ç¯å¢ƒå˜é‡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;eval $(thefuck --alias fuck)&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>Linux å®‰è£…samba</title>
        <link>https://lxb.wiki/8f5b70d0/</link>
        <pubDate>Fri, 13 Jul 2018 00:22:04 +0000</pubDate>
        
        <guid>https://lxb.wiki/8f5b70d0/</guid>
        <description>&lt;h5 id=&#34;å¼€å‘æœºå®‰è£…-samba&#34;&gt;å¼€å‘æœºå®‰è£… samba&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;yum install samba samba-client samba-swat&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;æ·»åŠ è´¦å·&#34;&gt;æ·»åŠ è´¦å·&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;sampasswd -a ç”¨æˆ·å&lt;/code&gt; ç”¨æˆ·ååªèƒ½ä¸ºå·²ç»å­˜åœ¨çš„è´¦å·&lt;/p&gt;
&lt;h5 id=&#34;é…ç½®å…±äº«æ–‡ä»¶å¤¹&#34;&gt;é…ç½®å…±äº«æ–‡ä»¶å¤¹&lt;/h5&gt;
&lt;p&gt;ç¼–è¾‘&lt;code&gt;etc/samba/smb.conf&lt;/code&gt;, è¿½åŠ å†…å®¹:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[samba_share_dir]

comment = samba_share
path = /home/lxb/samba_share
create mask = 0664
directory mask = 0775
writable = yes
valid users = lxb
browseable = yes
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;é…ç½®ç¯å¢ƒå˜é‡&#34;&gt;é…ç½®ç¯å¢ƒå˜é‡&lt;/h5&gt;
&lt;p&gt;ç¯å¢ƒå˜é‡æ–‡ä»¶æ·»åŠ :&lt;/p&gt;
&lt;p&gt;&lt;code&gt;export LD_LIBRARY_PATH=/usr/local/samba/lib:$LD_LIBRARY_PATH&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;samba-é‡å¯&#34;&gt;samba é‡å¯&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;sudo /etc/init.d/smb restart&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;macå®¢æˆ·ç«¯è¿æ¥&#34;&gt;MACå®¢æˆ·ç«¯è¿æ¥&lt;/h5&gt;
&lt;p&gt;Finder -&amp;gt; å‰å¾€ -&amp;gt; è¿æ¥æœåŠ¡å™¨ -&amp;gt; è¾“å…¥smbåœ°å€&lt;/p&gt;
&lt;p&gt;&lt;code&gt;smb://user_name@IP/samba_share_dir&lt;/code&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>nginx é…ç½®ä¸­çš„rewrite</title>
        <link>https://lxb.wiki/389c639/</link>
        <pubDate>Sat, 02 Jun 2018 22:35:47 +0000</pubDate>
        
        <guid>https://lxb.wiki/389c639/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;&lt;strong&gt;è¯­æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rewrite regex replacement flag&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;flagæœ‰å¦‚ä¸‹:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;last&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;break ä¸­æ­¢ rewrite, ä¸å†ç»§ç»­åŒ¹é…&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;redirect è¿”å›ä¸´æ—¶é‡å®šå‘çš„ HTTP çŠ¶æ€302&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;permanet è¿”å›æ°¸ä¹…é‡å®šå‘çš„ HTTP çŠ¶æ€301&lt;/p&gt;
&lt;p&gt;last å’Œ break çš„ä¸åŒ:&lt;br&gt;
break æ˜¯ç»ˆæ­¢å½“å‰location çš„ rewrite æ£€æµ‹, ä¸”ä¸å†è¿›è¡Œ location åŒ¹é…;&lt;br&gt;
lastæ˜¯ç»ˆæ­¢å½“å‰locationçš„rewriteæ£€æµ‹,ä½†ä¼šç»§ç»­é‡è¯•locationåŒ¹é…å¹¶å¤„ç†åŒºå—ä¸­çš„rewriteè§„åˆ™&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;ä¸‹é¢æ˜¯å¯ä»¥ç”¨æ¥åˆ¤æ–­çš„è¡¨è¾¾å¼:
&lt;code&gt;-f&lt;/code&gt; å’Œ&lt;code&gt;!-f&lt;/code&gt; åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ–‡ä»¶
&lt;code&gt;-d&lt;/code&gt; å’Œ&lt;code&gt;!-d&lt;/code&gt; åˆ¤æ–­æ˜¯å¦å­˜åœ¨ç›®å½•
&lt;code&gt;-e&lt;/code&gt; å’Œ&lt;code&gt;!-e&lt;/code&gt; åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ–‡ä»¶æˆ–ç›®å½•
&lt;code&gt;-x&lt;/code&gt; å’Œ&lt;code&gt;!-x&lt;/code&gt; åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;2.ä¸‹é¢æ˜¯å¯ä»¥ç”¨ä½œåˆ¤æ–­çš„å…¨å±€å˜é‡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$args ç­‰äºè¯·æ±‚è¡Œä¸­çš„å‚æ•°&lt;/li&gt;
&lt;li&gt;$content_length è¯·æ±‚å¤´ä¸­çš„&lt;code&gt;Content-length&lt;/code&gt; å­—æ®µ&lt;/li&gt;
&lt;li&gt;$content_type è¯·æ±‚å¤´ä¸­çš„&lt;code&gt;Content-Type&lt;/code&gt; å­—æ®µ&lt;/li&gt;
&lt;li&gt;$document_root å½“å‰è¯·æ±‚åœ¨&lt;code&gt;root&lt;/code&gt; æŒ‡ä»¤ä¸­æŒ‡å®šçš„å€¼&lt;/li&gt;
&lt;li&gt;$host è¯·æ±‚ä¸»æœºå¤´å­—æ®µ, å¦åˆ™ä¸ºæœåŠ¡å™¨åç§°&lt;/li&gt;
&lt;li&gt;$http_user_agent å®¢æˆ·ç«¯&lt;code&gt;agent&lt;/code&gt; ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;$http_cookie å®¢æˆ·ç«¯&lt;code&gt;cookie&lt;/code&gt; ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;$limit_rate è¿™ä¸ªå˜é‡å¯ä»¥é™åˆ¶è¿æ¥é€Ÿç‡&lt;/li&gt;
&lt;li&gt;$request_body_file å®¢æˆ·ç«¯è¯·æ±‚ä¸»é¢˜ä¿¡æ¯çš„ä¸´æ—¶æ–‡ä»¶å&lt;/li&gt;
&lt;li&gt;$request_method #å®¢æˆ·ç«¯è¯·æ±‚çš„åŠ¨ä½œï¼Œé€šå¸¸ä¸ºGETæˆ–POSTã€‚&lt;/li&gt;
&lt;li&gt;$remote_addr #å®¢æˆ·ç«¯çš„IPåœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;$remote_port #å®¢æˆ·ç«¯çš„ç«¯å£ã€‚&lt;/li&gt;
&lt;li&gt;$remote_user #å·²ç»ç»è¿‡Auth Basic ModuleéªŒè¯çš„ç”¨æˆ·åã€‚&lt;/li&gt;
&lt;li&gt;$request_filename #å½“å‰è¯·æ±‚çš„æ–‡ä»¶è·¯å¾„ï¼Œç”±rootæˆ–aliasæŒ‡ä»¤ä¸URIè¯·æ±‚ç”Ÿæˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$query_string&lt;/code&gt; #ä¸$argsç›¸åŒã€‚&lt;/li&gt;
&lt;li&gt;$scheme #HTTPæ–¹æ³•ï¼ˆå¦‚httpï¼Œhttpsï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;$server_protocol #è¯·æ±‚ä½¿ç”¨çš„åè®®ï¼Œé€šå¸¸æ˜¯HTTP/1.0æˆ–HTTP/1.1ã€‚&lt;/li&gt;
&lt;li&gt;$server_addr #æœåŠ¡å™¨åœ°å€ï¼Œåœ¨å®Œæˆä¸€æ¬¡ç³»ç»Ÿè°ƒç”¨åå¯ä»¥ç¡®å®šè¿™ä¸ªå€¼ã€‚&lt;/li&gt;
&lt;li&gt;$server_name #æœåŠ¡å™¨åç§°ã€‚&lt;/li&gt;
&lt;li&gt;$server_port #è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨çš„ç«¯å£å·ã€‚&lt;/li&gt;
&lt;li&gt;$request_uri #åŒ…å«è¯·æ±‚å‚æ•°çš„åŸå§‹URIï¼Œä¸åŒ…å«ä¸»æœºåï¼Œå¦‚ï¼šâ€/foo/bar.php?arg=bazâ€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$uri&lt;/code&gt; ä¸å¸¦è¯·æ±‚å‚æ•°çš„å½“å‰URIï¼Œ$uriä¸åŒ…å«ä¸»æœºåï¼Œå¦‚â€/foo/bar.htmlâ€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$document_uri&lt;/code&gt; #ä¸&lt;code&gt;$uri&lt;/code&gt;ç›¸åŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¾‹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;http://localhost:88/test1/test2/test.php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$host: &lt;span style=&#34;color:#e6db74&#34;&gt;localhost&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$server_post: &lt;span style=&#34;color:#ae81ff&#34;&gt;88&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$request_uri: &lt;span style=&#34;color:#e6db74&#34;&gt;http://localhost:88/test1/test2/test.php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$document_uri: &lt;span style=&#34;color:#e6db74&#34;&gt;/test1/test2/test.php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$document_root: &lt;span style=&#34;color:#e6db74&#34;&gt;/usr/share/nginx/html&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;(åœ¨nginx.confé‡Œé…ç½®çš„)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$request_filename: &lt;span style=&#34;color:#e6db74&#34;&gt;/usr/share/nginx/html/test1/test2/test.php&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;(åœ¨nginx.confé‡Œé…ç½®çš„)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;è¯¦ä¾‹:&lt;/strong&gt;&lt;br&gt;
&lt;em&gt;å¤šç›®å½•è½¬æˆå‚æ•°&lt;/em&gt;&lt;br&gt;
&lt;code&gt;abc.domain.com/sort/2&lt;/code&gt; =&amp;gt; &lt;code&gt;abc.domain.com/index.php?act=sort&amp;amp;name=abc&amp;amp;id=2&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;(&lt;/span&gt;$host ~&lt;span style=&#34;color:#e6db74&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;(.*)\.domain\.com)&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;set&lt;/span&gt; $sub_name $1;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;rewrite&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;^/sort\/(\d+)\/?&lt;/span&gt;$ &lt;span style=&#34;color:#e6db74&#34;&gt;/index.php?act=sort&amp;amp;cid=&lt;/span&gt;$sub_name&amp;amp;id=$1 &lt;span style=&#34;color:#e6db74&#34;&gt;last&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;em&gt;ç›®å½•å¯¹æ¢&lt;/em&gt;&lt;br&gt;
&lt;code&gt;/123456/xxxx&lt;/code&gt; =&amp;gt; &lt;code&gt;/xxxx?id=123456&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;rewrite&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;^/(\d+)\/(.+)/&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;/&lt;/span&gt;$2?id=$1 &lt;span style=&#34;color:#e6db74&#34;&gt;last&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;//&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;rewrite&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;^/\/(\d+)\/(\w+)\/?&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;/&lt;/span&gt;$2?id=$1 &lt;span style=&#34;color:#e6db74&#34;&gt;last&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;em&gt;å¦‚æœä½¿ç”¨IEæµè§ˆå™¨, åˆ™é‡å®šå‘åˆ°/nginx-ie ç›®å½•ä¸‹&lt;/em&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;(&lt;/span&gt;$http_user_agent ~ &lt;span style=&#34;color:#e6db74&#34;&gt;MSIE)&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#f92672&#34;&gt;rewrite&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;^(.*)&lt;/span&gt;$ &lt;span style=&#34;color:#e6db74&#34;&gt;/nginx-ie/&lt;/span&gt;$1 &lt;span style=&#34;color:#e6db74&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;em&gt;ç›®å½•è‡ªåŠ¨åŠ  /&lt;/em&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;(-d&lt;/span&gt; $request_filename&lt;span style=&#34;color:#e6db74&#34;&gt;)&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;rewrite&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;^/(.*)([^/])&lt;/span&gt;$ &lt;span style=&#34;color:#e6db74&#34;&gt;http://&lt;/span&gt;$host/$1$2/ &lt;span style=&#34;color:#e6db74&#34;&gt;permanent&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;em&gt;ç¦æ­¢htaccess&lt;/em&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;location&lt;/span&gt; ~&lt;span style=&#34;color:#e6db74&#34;&gt;/\.ht&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;deny&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;all&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;em&gt;ç¦æ­¢å¤šä¸ªç›®å½•&lt;/em&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;location&lt;/span&gt; ~ &lt;span style=&#34;color:#e6db74&#34;&gt;^/(cron|templates)/&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;deny&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;all&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;em&gt;ç¦æ­¢ä»¥/dataå¼€å¤´çš„æ–‡ä»¶&lt;/em&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;å¯ä»¥ç¦æ­¢/data/ä¸‹å¤šçº§ç›®å½•ä¸‹.log.txtç­‰è¯·æ±‚&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;location&lt;/span&gt; ~ &lt;span style=&#34;color:#e6db74&#34;&gt;^/data&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;deny&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;all&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;em&gt;ç¦æ­¢å•ä¸ªç›®å½•&lt;/em&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;ä¸èƒ½ç¦æ­¢.log.txtèƒ½è¯·æ±‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;location&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;/searchword/cron/&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;deny&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;all&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;em&gt;ç¦æ­¢å•ä¸ªæ–‡ä»¶&lt;/em&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;location&lt;/span&gt; ~ &lt;span style=&#34;color:#e6db74&#34;&gt;/data/sql/data.sql&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;deny&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;all&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;em&gt;ç»™ favicon.icoå’Œ robots.txtè®¾ç½®è¿‡æœŸæ—¶é—´;&lt;/em&gt;&lt;br&gt;
è¿™é‡Œä¸º favicon.icoä¸º99 å¤©,robots.txt ä¸º 7 å¤©å¹¶ä¸è®°å½• 404 é”™è¯¯æ—¥å¿—&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;1.&lt;/span&gt;     &lt;span style=&#34;color:#e6db74&#34;&gt;location&lt;/span&gt; ~&lt;span style=&#34;color:#e6db74&#34;&gt;(favicon.ico)&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;2.&lt;/span&gt;                      &lt;span style=&#34;color:#e6db74&#34;&gt;log_not_found&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;off&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;3.&lt;/span&gt;     &lt;span style=&#34;color:#e6db74&#34;&gt;expires&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;99d&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;4.&lt;/span&gt;     &lt;span style=&#34;color:#e6db74&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;5.&lt;/span&gt;          &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;.&lt;/span&gt;      
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;.&lt;/span&gt;          &lt;span style=&#34;color:#e6db74&#34;&gt;location&lt;/span&gt; ~&lt;span style=&#34;color:#e6db74&#34;&gt;(robots.txt)&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;8.&lt;/span&gt;                      &lt;span style=&#34;color:#e6db74&#34;&gt;log_not_found&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;off&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;9.&lt;/span&gt;     &lt;span style=&#34;color:#e6db74&#34;&gt;expires&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;7d&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;10.&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;11.&lt;/span&gt;      &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;em&gt;è®¾å®šæŸä¸ªæ–‡ä»¶çš„è¿‡æœŸæ—¶é—´;è¿™é‡Œä¸º600ç§’ï¼Œå¹¶ä¸è®°å½•è®¿é—®æ—¥å¿—&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1.     location ^~ /html/scripts/loadhead_1.js {
2.                      access_log   off;
3.                      root /opt/lampp/htdocs/web;
4.     expires 600;
5.     break;
6.            }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;æ–‡ä»¶åç›—é“¾å¹¶è®¾ç½®è¿‡æœŸæ—¶é—´&lt;/em&gt;&lt;br&gt;
è¿™é‡Œçš„return 412 ä¸ºè‡ªå®šä¹‰çš„httpçŠ¶æ€ç ï¼Œé»˜è®¤ä¸º403ï¼Œæ–¹ä¾¿æ‰¾å‡ºæ­£ç¡®çš„ç›—é“¾çš„è¯·æ±‚&lt;br&gt;
â€œrewrite ^/ &lt;a class=&#34;link&#34; href=&#34;http://leech.c1gstudio.com/leech.gif;&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://leech.c1gstudio.com/leech.gif;&lt;/a&gt;â€æ˜¾ç¤ºä¸€å¼ é˜²ç›—é“¾å›¾ç‰‡&lt;br&gt;
â€œaccess_log off;â€ä¸è®°å½•è®¿é—®æ—¥å¿—ï¼Œå‡è½»å‹åŠ›&lt;br&gt;
â€œexpires 3dâ€æ‰€æœ‰æ–‡ä»¶3å¤©çš„æµè§ˆå™¨ç¼“å­˜&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1.     location ~* ^.+\.(jpg|jpeg|gif|png|swf|rar|zip|css|js)$ {
2.     valid_referers none blocked *.c1gstudio.com *.c1gstudio.net localhost 208.97.167.194;
3.     if ($invalid_referer) {
4.         rewrite ^/ http://leech.c1gstudio.com/leech.gif;
5.         return 412;
6.         break;
7.     }
8.                      access_log   off;
9.                      root /opt/lampp/htdocs/web;
10. expires 3d;
11. break;
12.      }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;åªå……è®¸å›ºå®šipè®¿é—®ç½‘ç«™ï¼Œå¹¶åŠ ä¸Šå¯†ç &lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1.     root  /opt/htdocs/www;
2.     allow   208.97.167.194;
3.     allow   222.33.1.2;
4.     allow   231.152.49.4;
5.     deny    all;
6.     auth_basic &amp;quot;C1G_ADMIN&amp;quot;;
7.     auth_basic_user_file htpasswd;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;å°†å¤šçº§ç›®å½•ä¸‹çš„æ–‡ä»¶è½¬æˆä¸€ä¸ªæ–‡ä»¶ï¼Œå¢å¼ºseoæ•ˆæœ&lt;/em&gt;&lt;br&gt;
&lt;code&gt;/job-123-456-789.html&lt;/code&gt; æŒ‡å‘ &lt;code&gt;/job/123/456/789.html&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1.     rewrite ^/job-([0-9]+)-([0-9]+)-([0-9]+)\.html$ /job/$1/$2/jobshow_$3.html last;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;å°†æ ¹ç›®å½•ä¸‹æŸä¸ªæ–‡ä»¶å¤¹æŒ‡å‘2çº§ç›®å½•&lt;/em&gt;&lt;br&gt;
å¦‚&lt;code&gt;/shanghaijob/&lt;/code&gt; æŒ‡å‘ &lt;code&gt;/area/shanghai/&lt;/code&gt; å¦‚æœä½ å°†lastæ”¹æˆpermanentï¼Œé‚£ä¹ˆæµè§ˆå™¨åœ°å€æ æ˜¾æ˜¯ &lt;code&gt;/location/shanghai/&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1.     rewrite ^/([0-9a-z]+)job/(.*)$ /area/$1/$2 last;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢ä¾‹å­æœ‰ä¸ªé—®é¢˜æ˜¯è®¿é—®/shanghai æ—¶å°†ä¸ä¼šåŒ¹é…&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1.     rewrite ^/([0-9a-z]+)job$ /area/$1/ last;
2.     rewrite ^/([0-9a-z]+)job/(.*)$ /area/$1/$2 last;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™æ ·/shanghai ä¹Ÿå¯ä»¥è®¿é—®äº†ï¼Œä½†é¡µé¢ä¸­çš„ç›¸å¯¹é“¾æ¥æ— æ³•ä½¿ç”¨ï¼Œ å¦‚&lt;code&gt;./list_1.html&lt;/code&gt;çœŸå®åœ°å€æ˜¯&lt;code&gt;/area /shanghia/list_1.html&lt;/code&gt;ä¼šå˜æˆ&lt;code&gt;/list_1.html&lt;/code&gt;,å¯¼è‡³æ— æ³•è®¿é—®ã€‚&lt;br&gt;
é‚£æˆ‘åŠ ä¸Šè‡ªåŠ¨è·³è½¬ä¹Ÿæ˜¯ä¸è¡Œå’¯ &lt;code&gt;(-d $request_filename)&lt;/code&gt;å®ƒæœ‰ä¸ªæ¡ä»¶æ˜¯å¿…éœ€ä¸ºçœŸå®ç›®å½•ï¼Œè€Œæˆ‘çš„rewriteä¸æ˜¯çš„ï¼Œæ‰€ä»¥æ²¡æœ‰æ•ˆæœ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1.     if (-d $request_filename){
2.     rewrite ^/(.*)([^/])$ http://$host/$1$2/ permanent;
3.     }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;çŸ¥é“åŸå› åå°±å¥½åŠäº†ï¼Œè®©æˆ‘æ‰‹åŠ¨è·³è½¬å§&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1.     rewrite ^/([0-9a-z]+)job$ /$1job/ permanent;
2.     rewrite ^/([0-9a-z]+)job/(.*)$ /area/$1/$2 last;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;æ–‡ä»¶å’Œç›®å½•ä¸å­˜åœ¨çš„æ—¶å€™é‡å®šå‘ï¼š&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1.     if (!-e $request_filename) {
2.     proxy_pass http://127.0.0.1;
3.     }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;åŸŸåè·³è½¬&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1.     server
2.          {
3.                  listen       80;
4.                  server_name  jump.c1gstudio.com;
5.                  index index.html index.htm index.php;
6.                  root  /opt/lampp/htdocs/www;
7.                  rewrite ^/ http://www.c1gstudio.com/;
8.                  access_log  off;
9.          }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;å¤šåŸŸåè½¬å‘&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1.     server_name  www.c1gstudio.com www.c1gstudio.net;
2.                  index index.html index.htm index.php;
3.                  root  /opt/lampp/htdocs;
4.     if ($host ~ &amp;quot;c1gstudio\.net&amp;quot;) {
5.     rewrite ^(.*) http://www.c1gstudio.com$1 permanent;
6.     }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;ä¸‰çº§åŸŸåè·³è½¬&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1.     if ($http_host ~* &amp;quot;^(.*)\.i\.c1gstudio\.com$&amp;quot;) {
2.     rewrite ^(.*) http://top.yingjiesheng.com$1;
3.     break;
4.     }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;åŸŸåé•œå‘&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1.     server
2.          {
3.                  listen       80;
4.                  server_name  mirror.c1gstudio.com;
5.                  index index.html index.htm index.php;
6.                  root  /opt/lampp/htdocs/www;
7.                  rewrite ^/(.*) http://www.c1gstudio.com/$1 last;
8.                  access_log  off;
9.          }
&lt;/code&gt;&lt;/pre&gt;
</description>
        </item>
        <item>
        <title>nginxé…ç½®ä¸­çš„location</title>
        <link>https://lxb.wiki/a209000e/</link>
        <pubDate>Sat, 02 Jun 2018 22:30:30 +0000</pubDate>
        
        <guid>https://lxb.wiki/a209000e/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;&lt;strong&gt;è¯­æ³•&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;location [=|~|~*|^~] /uri/ {...}&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šä¸‹æ–‡: &lt;code&gt;server&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æ­¤å‘½ä»¤éšURL ä¸åŒè€Œæ¥å—ä¸åŒçš„ç»“æ„. å¯ä»¥é…ç½®ä½¿ç”¨å¸¸è§„å­—ç¬¦ä¸²å’Œæ­£åˆ™è¡¨è¾¾å¼. è‹¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼, åˆ™å¿…é¡»ä½¿ç”¨&lt;code&gt;~*&lt;/code&gt;å‰ç¼€(é€‰æ‹©ä¸åŒºåˆ†å¤§å°å†™çš„åŒ¹é…) æˆ–&lt;code&gt;~&lt;/code&gt;å‰ç¼€(åŒºåˆ†å¤§å°å†™çš„åŒ¹é…)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;=&lt;/code&gt; è¡¨ç¤º&lt;code&gt;uri&lt;/code&gt; ä»¥æŸä¸ªå¸¸è§„å­—ç¬¦ä¸²å¼€å¤´, ç†è§£ä¸ºåŒ¹é…url è·¯å¾„å³å¯. nginx ä¸å¯¹url åšç¼–ç , å› æ­¤è¯·æ±‚ä¸º&lt;code&gt;/static/%20%/aa&lt;/code&gt; å¯ä»¥è¢«è§„åˆ™&lt;code&gt;^~ /static/ /aa&lt;/code&gt; (æœ‰ç©ºæ ¼) åŒ¹é…åˆ°.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;~&lt;/code&gt; è¡¨ç¤ºåŒºåˆ†å¤§å°å†™çš„æ­£åˆ™åŒ¹é…&lt;/li&gt;
&lt;li&gt;&lt;code&gt;~*&lt;/code&gt; è¡¨ç¤ºä¸åŒºåˆ†å¤§å°å†™çš„æ­£åˆ™åŒ¹é…&lt;/li&gt;
&lt;li&gt;&lt;code&gt;!~&lt;/code&gt; å’Œ &lt;code&gt;!~*&lt;/code&gt; åˆ†åˆ«ä¸ºåŒºåˆ†å¤§å°å†™ä¸åŒ¹é… å’Œ ä¸åŒºåˆ†å¤§å°å†™ä¸åŒ¹é… çš„æ­£åˆ™&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/&lt;/code&gt; é€šç”¨åŒ¹é…, ä»»ä½•è¯·æ±‚éƒ½ä¼šåŒ¹é…åˆ°&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¤šä¸ª&lt;code&gt;location&lt;/code&gt; é…ç½®çš„æƒ…å†µä¸‹, åŒ¹é…é¡ºåºä¸º:&lt;/p&gt;
&lt;p&gt;å…ˆåŒ¹é…&lt;code&gt;=&lt;/code&gt;, å…¶æ¬¡åŒ¹é…&lt;code&gt;^~&lt;/code&gt;, å†åŒ¹é…æŒ‰æ–‡ä»¶ä¸­é¡ºåºçš„æ­£åˆ™åŒ¹é…, æœ€ååŒ¹é…&lt;code&gt;/&lt;/code&gt;. å½“æœ‰åŒ¹é…æˆåŠŸçš„æ—¶å€™, åœæ­¢åŒ¹é…, æŒ‰å½“å‰åŒ¹é…è§„åˆ™å¤„ç†è¯·æ±‚.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¾‹1:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;location&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;/&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# è§„åˆ™A
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;location&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;/login&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# è§„åˆ™B
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;location&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;^~&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;/static&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# è§„åˆ™C
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;location&lt;/span&gt; ~ &lt;span style=&#34;color:#e6db74&#34;&gt;\.(gif|jpg|png|js|css)$&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# è§„åˆ™D
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;location&lt;/span&gt; ~&lt;span style=&#34;color:#e6db74&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;\.png&lt;/span&gt;$ {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# è§„åˆ™E
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;location&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;!~&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;\.xhtml&lt;/span&gt;$ {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# è§„åˆ™F
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;location&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;!~*&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;\.xhtml&lt;/span&gt;$ {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# è§„åˆ™G
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;location&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;/&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# è§„åˆ™H
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;äº§ç”Ÿæ•ˆæœå¦‚ä¸‹:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è®¿é—®&lt;code&gt;/&lt;/code&gt; æ ¹ç›®å½•, å¦‚&lt;code&gt;http://localhost/&lt;/code&gt; å°†åŒ¹é…è§„åˆ™A&lt;/li&gt;
&lt;li&gt;è®¿é—®&lt;code&gt;http://localhost/login&lt;/code&gt; å°†åŒ¹é…è§„åˆ™B; &lt;code&gt;http://localhost/register&lt;/code&gt; å°†åŒ¹é…è§„åˆ™H&lt;/li&gt;
&lt;li&gt;è®¿é—®&lt;code&gt;http://localhost/static/a.html&lt;/code&gt; å°†åŒ¹é…è§„åˆ™C&lt;/li&gt;
&lt;li&gt;è®¿é—®&lt;code&gt;http://localhost/a.png&lt;/code&gt; è®²åŒ¹é…è§„åˆ™D å’Œè§„åˆ™E, ä½†è§„åˆ™D é¡ºåºä¼˜å…ˆ, è§„åˆ™E ä¸èµ·ä½œç”¨&lt;/li&gt;
&lt;li&gt;è®¿é—®&lt;code&gt;http://localhost/static/c.png&lt;/code&gt; ä¼˜å…ˆåŒ¹é…åˆ°è§„åˆ™C&lt;/li&gt;
&lt;li&gt;è®¿é—®&lt;code&gt;http://localhost/a.PNG&lt;/code&gt; å°†åŒ¹é…è§„åˆ™E&lt;/li&gt;
&lt;li&gt;è®¿é—®&lt;code&gt;http://localhost/a.xhtml&lt;/code&gt; ä¸ä¼šåŒ¹é…åˆ°è§„åˆ™F å’Œè§„åˆ™G, &lt;code&gt;http://localhost/a.XHTML&lt;/code&gt; ä¸ä¼šåŒ¹é…åˆ°è§„åˆ™G&lt;/li&gt;
&lt;li&gt;è®¿é—®&lt;code&gt;http://localhost/category/id/1111&lt;/code&gt; åŒ¹é…åˆ°è§„åˆ™H, å› ä¸ºä»¥ä¸Šè§„åˆ™éƒ½ä¸åŒ¹é…, è¿™ä¸ªæ—¶å€™åº”è¯¥æ˜¯nginx è½¬å‘ç»™åç«¯åº”ç”¨æœåŠ¡å™¨, å¦‚FastCGI(php), tomcat(jsp), nginx ä½œä¸ºåå‘ä»£ç†æœåŠ¡å™¨å­˜åœ¨.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€ä»¥å®é™…ä½¿ç”¨ä¸­, é€šå¸¸æœ‰è‡³å°‘ä¸‰ä¸ªåŒ¹é…è§„åˆ™å®šä¹‰, å¦‚ä¸‹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ç¬¬ä¸€ä¸ªå¿…é€‰è§„åˆ™ ç›´æ¥åŒ¹é…ç½‘ç«™æ ¹, é€šè¿‡åŸŸåè®¿é—®ç½‘ç«™é¦–é¡µæ¯”è¾ƒé¢‘ç¹, ä½¿ç”¨è¿™ä¸ªä¼šåŠ é€Ÿå¤„ç†; è¿™é‡Œç›´æ¥è½¬å‘ç»™åç«¯åº”ç”¨æœåŠ¡å™¨äº†, ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªé™æ€é¦–é¡µ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;location&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;/&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;proxy_pass&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;http://tomcat:8080/index&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ç¬¬äºŒä¸ªå¿…é€‰è§„åˆ™ å¤„ç†é™æ€æ–‡ä»¶è¯·æ±‚, è¿™æ˜¯nginx ä½œä¸ºhttp æœåŠ¡å™¨çš„å¼ºé¡¹. æœ‰å¦‚ä¸‹ä¸¤ç§é…ç½®æ¨¡å¼, ç›®å½•åŒ¹é…æˆ–åç¼€åŒ¹é…, ä»»é€‰å…¶ä¸€æˆ–æ­é…ä½¿ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;location&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;^~&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;/static/&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;root&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;/webroot/static/&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;location&lt;/span&gt; ~&lt;span style=&#34;color:#e6db74&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;\.(gif|jpg|jpeg|png|css|js|ico)&lt;/span&gt;$ {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;root&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;/webroot/res/&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ç¬¬ä¸‰ä¸ªå¿…é€‰è§„åˆ™ é€šç”¨è§„åˆ™, ç”¨æ¥è½¬å‘åŠ¨æ€è¯·æ±‚åˆ°åç«¯åº”ç”¨æœåŠ¡å™¨. éé™æ€æ–‡ä»¶è¯·æ±‚å°±é»˜è®¤æ˜¯åŠ¨æ€è¯·æ±‚. 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;location&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;/&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;proxy_pass&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;http://tomcat:8080/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>nginx å¯»æ‰¾index åŸç†</title>
        <link>https://lxb.wiki/ab14d5fa/</link>
        <pubDate>Fri, 01 Jun 2018 22:32:04 +0000</pubDate>
        
        <guid>https://lxb.wiki/ab14d5fa/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;&lt;strong&gt;1. nginx æ˜¯æ€ä¹ˆæ‰¾index.php æ–‡ä»¶çš„&lt;/strong&gt;&lt;br&gt;
å½“nginxå‘ç°éœ€è¦&lt;code&gt;/web/echo/index.php&lt;/code&gt; æ–‡ä»¶æ—¶, å°±ä¼šå‘å†…æ ¸å‘èµ· IO ç³»ç»Ÿè°ƒç”¨(å› ä¸ºè¦è·Ÿç¡¬ä»¶æ‰“äº¤é“, è¿™é‡Œçš„ç¡¬ä»¶æ˜¯æŒ‡ç¡¬ç›˜, é€šå¸¸éœ€è¦é å†…æ ¸æ¥æ“ä½œ, è€Œå†…æ ¸æä¾›çš„è¿™äº›åŠŸèƒ½æ˜¯é€šè¿‡ç³»ç»Ÿè°ƒç”¨æ¥å®ç°çš„), å‘Šè¯‰å†…æ ¸, æˆ‘éœ€è¦è¿™ä¸ªæ–‡ä»¶, å†…æ ¸ä»&lt;code&gt;/&lt;/code&gt; å¼€å§‹æ‰¾åˆ°&lt;code&gt;web&lt;/code&gt; ç›®å½•, å†åœ¨&lt;code&gt;web&lt;/code&gt; ç›®å½•ä¸‹æ‰¾åˆ°&lt;code&gt;echo&lt;/code&gt; ç›®å½•, æœ€ååœ¨&lt;code&gt;echo&lt;/code&gt; ç›®å½•ä¸‹æ‰¾åˆ°&lt;code&gt;index.php&lt;/code&gt; æ–‡ä»¶, äºæ˜¯æŠŠè¿™ä¸ª&lt;code&gt;index.php&lt;/code&gt; ä»ç¡¬ç›˜ä¸Šè¯»å–åˆ°å†…æ ¸è‡ªèº«çš„å†…å­˜ç©ºé—´, ç„¶åå†æŠŠè¿™ä¸ªæ–‡ä»¶å¤åˆ¶åˆ°nginxè¿›ç¨‹æ‰€åœ¨çš„å†…å­˜ç©ºé—´, äºæ˜¯ nginxå°±å¾—åˆ°äº†è‡ªå·±æƒ³è¦çš„æ–‡ä»¶äº†&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. å¯»æ‰¾æ–‡ä»¶åœ¨æ–‡ä»¶ç³»ç»Ÿå±‚é¢æ˜¯æ€ä¹ˆæ“ä½œçš„&lt;/strong&gt;&lt;br&gt;
å¦‚, nginx éœ€è¦å¾—åˆ°&lt;code&gt;/web/echo/index.php&lt;/code&gt; è¿™ä¸ªæ–‡ä»¶ æ¯ä¸ªåˆ†åŒº(åƒext3 ç­‰æ–‡ä»¶ç³»ç»Ÿ, blockå—æ˜¯æ–‡ä»¶å­˜å‚¨çš„æœ€å°å•å…ƒ, é»˜è®¤æ˜¯4096å­—èŠ‚) éƒ½æ˜¯åŒ…å«å…ƒæ•°æ®åŒºå’Œæ•°æ®åŒº, æ¯ä¸ªæ–‡ä»¶åœ¨å…ƒæ•°æ®åŒºéƒ½æœ‰å…ƒæ•°æ®æ¡ç›®(ä¸€èˆ¬æ˜¯128å­—èŠ‚å¤§å°), æ¯ä¸ªæ¡ç›®éƒ½æœ‰ä¸€ä¸ªç¼–å·, ç§°ä¹‹ä¸º inode(index node), è¿™ä¸ªinode é‡ŒåŒ…å« æ–‡ä»¶ç±»å‹, æƒé™, è¿æ¥æ¬¡æ•°, å±ä¸»å’Œæ•°ç»„çš„ ID&amp;amp;æ—¶é—´æˆ³, è¿™ä¸ªæ–‡ä»¶å æ®äº†å“ªäº›ç£ç›˜å—ä¹Ÿå°±æ˜¯å—çš„ç¼–å·(block, æ¯ä¸ªæ–‡ä»¶å¯ä»¥å ç”¨å¤šä¸ª block, ä¸” block ä¸ä¸€å®šæ˜¯è¿ç»­çš„, æ¯ä¸ª block éƒ½æœ‰ç¼–å·), å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201207010354.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç›®å½•å…¶å®ä¹Ÿæ˜¯æ™®é€šæ–‡ä»¶, ä¹Ÿéœ€è¦å ç”¨ç£ç›˜å—, ç›®å½•ä¸æ˜¯ä¸€ä¸ªå®¹å™¨. é»˜è®¤åˆ›å»ºçš„ç›®å½•å¤§å°ä¸º4096å­—èŠ‚, å³åªéœ€è¦å ç”¨ä¸€ä¸ªç£ç›˜å—, ä½†è¿™æ˜¯ä¸ç¡®å®šçš„. æ‰€ä»¥è¦æ‰¾åˆ°ç›®å½•ä¹Ÿæ˜¯éœ€è¦åˆ°å…ƒæ•°æ®åŒºé‡Œæ‰¾åˆ°å¯¹åº”çš„æ¡ç›®, åªè¦æ‰¾åˆ°å¯¹åº”çš„inodeå°±å¯ä»¥æ‰¾åˆ°ç›®å½•æ‰€å ç”¨çš„ç£ç›˜å—. ç›®å½•é‡Œå­˜ç€ä¸€å¼ è¡¨(æ˜ å°„è¡¨), é‡Œé¢æ”¾ç€ ç›®å½•æˆ–æ–‡ä»¶çš„åç§°å’Œå¯¹åº”çš„inodeå·, å¦‚ä¸‹:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;-&lt;/th&gt;
&lt;th&gt;-&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;æ–‡ä»¶åç§°(åªæ˜¯å­—ç¬¦ä¸²)&lt;/td&gt;
&lt;td&gt;inode å·&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;test.txt&lt;/td&gt;
&lt;td&gt;100&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;å‡å¦‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/           åœ¨æ•°æ®åŒºå æ®1, 2å· block, &lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;/&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt; å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªç›®å½•, é‡Œé¢æœ‰ä¸¤ä¸ªç›®å½•, web å’Œ &lt;span style=&#34;color:#ae81ff&#34;&gt;111&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;web         å æ®5å· block, æ˜¯ç›®å½•, é‡Œé¢æœ‰2ä¸ªç›®å½• echo å’Œ data
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo        å æ®11å· block, æ˜¯ç›®å½•, é‡Œé¢æœ‰ä¸€ä¸ªæ–‡ä»¶ index.php
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;index.php   å æ®15, 16å· block, æ˜¯æ–‡ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…¶åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­åˆ†å¸ƒå¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201207010430.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆå†…æ ¸ç©¶ç«Ÿæ˜¯æ€ä¹ˆæ‰¾åˆ°&lt;code&gt;index.php&lt;/code&gt; è¿™ä¸ªæ–‡ä»¶çš„å‘¢? å†…æ ¸æ‹¿åˆ° nginx çš„ IO ç³»ç»Ÿè°ƒç”¨è¦è·å–&lt;code&gt;/web/echo/index.php&lt;/code&gt; è¿™ä¸ªæ–‡ä»¶è¯·æ±‚ä¹‹å,&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1. å†…æ ¸è¯»å–å…ƒæ•°æ®åŒº / çš„inode, ä» inode é‡Œè¯»å– / æ‰€å¯¹åº”çš„æ•°æ®å—çš„ç¼–å·, ç„¶ååœ¨æ•°æ®åŒºæ‰¾åˆ°å…¶å¯¹åº”çš„å—(1, 2å·å—), è¯»å–1å·å—ä¸Šçš„æ˜ å°„è¡¨æ‰¾åˆ° web è¿™ä¸ªåç§°åœ¨å…ƒæ•°æ®åŒºå¯¹åº”çš„ inode å·
2. å†…æ ¸è¯»å– web å¯¹åº”çš„ inode(3å·), ä»ä¸­å¾—åˆ° web åœ¨æ•°æ®åŒºå¯¹åº”çš„å—æ˜¯5å·å—, äºæ˜¯åˆ°æ•°æ®åŒºæ‰¾åˆ°5å·å—, ä»ä¸­è¯»å–æ˜ å°„è¡¨, çŸ¥é“ echo å¯¹åº”çš„ inode æ˜¯5å·, äºæ˜¯åˆ°å…ƒæ•°æ®åŒºæ‰¾åˆ°5å· inode
3. å†…æ ¸è¯»å–5å· inode, å¾—åˆ° echo åœ¨æ•°æ®åŒºå¯¹åº”çš„äº‹11å·å—, äºæ˜¯åˆ°æ•°æ®åŒºè¯»å–11å·å—å¾—åˆ°æ˜ å°„è¡¨, å¾—åˆ°index.php å¯¹åº”çš„ inode äº‹9å·
4. å†…æ ¸åˆ°å…ƒæ•°æ®åŒºè¯»å–9å· inode, å¾—åˆ° index.php å¯¹åº”çš„äº‹15å·å’Œ16å·æ•°æ®å—, äºæ˜¯å°±åˆ°æ•°æ®åŒºåŸŸæ‰¾åˆ°15 16å·å—, è¯»å–å…¶ä¸­çš„å†…å®¹, å¾—åˆ° index.php çš„å®Œæ•´å†…å®¹
&lt;/code&gt;&lt;/pre&gt;
</description>
        </item>
        <item>
        <title>HTTPåè®®ç¬”è®°</title>
        <link>https://lxb.wiki/4e7c79/</link>
        <pubDate>Wed, 30 May 2018 23:11:26 +0000</pubDate>
        
        <guid>https://lxb.wiki/4e7c79/</guid>
        <description>&lt;p&gt;HTTPåè®®çš„ç‰¹ç‚¹: 1. æ”¯æŒå®¢æˆ·ç«¯/æœåŠ¡å™¨æ¨¡å¼ 2. ç®€å•å¿«é€Ÿ: å®¢æˆ·ç«¯å‘æœåŠ¡å™¨è¯·æ±‚æœåŠ¡æ—¶, åªéœ€ä¼ é€è¯·æ±‚æ–¹æ³•å’Œè·¯å¾„. è¯·æ±‚æ–¹æ³•å¸¸ç”¨çš„æœ‰GET, HEAD, POST. æ¯ç§æ–¹æ³•è§„å®šäº†å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨è”ç³»çš„ç±»å‹. ç”±äºHTTPåè®®ç®€å•, ä½¿å¾—HTTPæœåŠ¡å™¨çš„ç¨‹åºè§„æ¨¡å°, å› è€Œé€šä¿¡é€Ÿåº¦å¾ˆå¿«. 3. çµæ´»: HTTP å…è®¸ä¼ è¾“ä»»æ„ç±»å‹çš„æ•°æ®å¯¹è±¡. æ­£åœ¨ä¼ è¾“çš„ç±»å‹ç”±Content-TypeåŠ ä»¥æ ‡è®°. 4. æ— è¿æ¥: é™åˆ¶æ¯æ¬¡è¿æ¥åªå¤„ç†ä¸€ä¸ªè¯·æ±‚. æœåŠ¡å™¨å¤„ç†å®Œå®¢æˆ·ç«¯çš„è¯·æ±‚, å¹¶æ”¶åˆ°å®¢æˆ·ç«¯çš„åº”ç­”å, å³æ–­å¼€è¿æ¥. é‡‡ç”¨ç€ç”¨æ–¹å¼å¯ä»¥èŠ‚çœä¼ è¾“æ—¶é—´. 5. æ— çŠ¶æ€: æ— çŠ¶æ€æ˜¯æŒ‡åè®®å¯¹äºäº‹åŠ¡å¤„ç†æ²¡æœ‰è®°å¿†èƒ½åŠ›. ç¼ºå°‘çŠ¶æ€æ„å‘³ç€å¦‚æœåç»­å¤„ç†éœ€è¦å‰é¢çš„ä¿¡æ¯, åˆ™å®ƒå¿…é¡»é‡ä¼ , è¿™æ ·å¯èƒ½å¯¼è‡´æ¯æ¬¡ä¼ é€çš„æ•°æ®é‡å¢å¤§. å¦ä¸€æ–¹é¢, åœ¨æœåŠ¡å™¨ä¸éœ€è¦å…ˆå‰ä¿¡æ¯æ—¶, å®ƒçš„åº”ç­”å°±è¾ƒå¿«.&lt;/p&gt;
&lt;h5 id=&#34;url&#34;&gt;URL&lt;/h5&gt;
&lt;p&gt;HTTPæ˜¯ä¸€ç§åŸºäºè¯·æ±‚ä¸å“åº”æ¨¡å¼çš„, æ— çŠ¶æ€çš„, åº”ç”¨å±‚çš„åè®®, å¸¸åŸºäºTCPçš„è¿æ¥æ–¹å¼, HTTP1.1ç‰ˆæœ¬ä¸­ç»™å‡ºä¸€ç§æŒç»­è¿æ¥çš„æœºåˆ¶, ç»å¤§å¤šæ•°çš„webå¼€å‘, éƒ½æ˜¯æ„å»ºåœ¨HTTPåè®®ä¹‹ä¸Šçš„webåº”ç”¨.&lt;/p&gt;
&lt;p&gt;HTTP URL(URLæ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„URI, åŒ…å«äº†ç”¨äºæŸ¥æ‰¾æŸä¸ªèµ„æºçš„è¶³å¤Ÿçš„ä¿¡æ¯)çš„æ ¼å¼å¦‚ä¸‹: &lt;code&gt;http://host[:port][abs_path]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;http è¡¨ç¤ºè¦é€šè¿‡HTTPåè®®æ¥å®šä½ç½‘ç»œèµ„æº&lt;/li&gt;
&lt;li&gt;host è¡¨ç¤ºåˆæ³•çš„Internetä¸»æœºåŸŸåæˆ–è€…IPåœ°å€&lt;/li&gt;
&lt;li&gt;port æŒ‡å®šç«¯å£å·, ç¼ºçœç«¯å£ä¸º80&lt;/li&gt;
&lt;li&gt;abs_path æŒ‡å®šè¯·æ±‚èµ„æºçš„URI&lt;/li&gt;
&lt;li&gt;è‹¥URI ä¸­æ²¡æœ‰ç»™å‡ºabs_path, é‚£å½“å®ƒä½œä¸ºè¯·æ±‚URIæ—¶, å¿…é¡»ä»¥&amp;quot;/&amp;quot; çš„å½¢å¼ç»™å‡º, é€šå¸¸è¿™ä¸ªå·¥ä½œæµè§ˆå™¨ä¼šè‡ªåŠ¨å®Œæˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è¯·æ±‚&#34;&gt;è¯·æ±‚&lt;/h5&gt;
&lt;p&gt;HTTPè¯·æ±‚ç”±ä¸‰éƒ¨åˆ†ç»„æˆ: è¯·æ±‚è¡Œ, æ¶ˆæ¯æŠ¥å¤´, è¯·æ±‚æ­£æ–‡&lt;/p&gt;
&lt;h6 id=&#34;è¯·æ±‚è¡Œ&#34;&gt;è¯·æ±‚è¡Œ&lt;/h6&gt;
&lt;p&gt;ä»¥ä¸€ä¸ªæ–¹æ³•ç¬¦å·å¼€å¤´, ä»¥ç©ºæ ¼åˆ†å¼€, åé¢è·Ÿè¯·æ±‚çš„URIå’Œåè®®çš„ç‰ˆæœ¬, æ ¼å¼å¦‚ä¸‹: &lt;code&gt;Method Request-URI HTTP-Version CRLF&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¯·æ±‚æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ç§ - GET è¯·æ±‚è·å–Request-URI æ‰€æ ‡è¯†çš„èµ„æº - POST åœ¨Request-URI è¡¨æ ‡è¯†çš„èµ„æºåé™„åŠ æ–°çš„æ•°æ® - HEAD è¯·æ±‚è·å–ç”±Request-URI æ‰€æ ‡è¯†çš„èµ„æºçš„å“åº”æ¶ˆæ¯æŠ¥å¤´ - PUT è¯·æ±‚æœåŠ¡å™¨å­˜å‚¨ä¸€ä¸ªèµ„æº, å¹¶ç”¨Request-URI ä½œä¸ºå…¶æ ‡è¯† - DELETE è¯·æ±‚æœåŠ¡å™¨åˆ é™¤Request-URI æ‰€æ ‡è¯†çš„èµ„æº - TRACE è¯·æ±‚æœåŠ¡å™¨ä¼šé€æ”¶åˆ°çš„è¯·æ±‚ä¿¡æ¯, ä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­ - CONNECT ä¿ç•™å°†æ¥ä½¿ç”¨ - OPTIONS è¯·æ±‚æŸ¥è¯¢æœåŠ¡å™¨çš„æ€§èƒ½, æˆ–æŸ¥è¯¢ä¸èµ„æºç›¸å…³çš„é€‰é¡¹å’Œéœ€æ±‚&lt;/p&gt;
&lt;h5 id=&#34;å“åº”&#34;&gt;å“åº”&lt;/h5&gt;
&lt;p&gt;HTTPå“åº”ç”±ä¸‰éƒ¨åˆ†ç»„æˆ: çŠ¶æ€è¡Œ, æ¶ˆæ¯æŠ¥å¤´, å“åº”æ­£æ–‡&lt;/p&gt;
&lt;h6 id=&#34;çŠ¶æ€è¡Œ&#34;&gt;çŠ¶æ€è¡Œ&lt;/h6&gt;
&lt;p&gt;æ ¼å¼: &lt;code&gt;HTTP-Version Status-Code Reason-Phrase CRLF&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;çŠ¶æ€ç ç”±ä¸‰ä½æ•°å­—ç»„æˆ, ç¬¬ä¸€ä¸ªæ•°å­—å®šä¹‰äº†å“åº”çš„ç±»åˆ«: - 1xx: æŒ‡ç¤ºä¿¡æ¯ &amp;ndash; è¡¨ç¤ºè¯·æ±‚å·²æ¥å—, ç»§ç»­å¤„ç† - 2xx: æˆåŠŸ &amp;ndash; è¡¨ç¤ºè¯·æ±‚å·²è¢«æˆåŠŸæ¥æ”¶, ç†è§£, æ¥å— - 3xx: é‡å®šå‘ &amp;ndash; è¦å®Œæˆè¯·æ±‚å¿…é¡»è¿›è¡Œæ›´è¿›ä¸€æ­¥çš„æ“ä½œ - 4xx: å®¢æˆ·ç«¯é”™è¯¯ &amp;ndash; è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯æˆ–è¯·æ±‚æ— æ³•å®ç° - 5xx: æœåŠ¡å™¨ç«¯é”™è¯¯ &amp;ndash; æœåŠ¡å™¨æœªèƒ½å®ç°åˆæ³•çš„è¯·æ±‚&lt;/p&gt;
&lt;h5 id=&#34;æŠ¥å¤´&#34;&gt;æŠ¥å¤´&lt;/h5&gt;
&lt;p&gt;HTTP æ¶ˆæ¯ç”±å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨çš„è¯·æ±‚å’ŒæœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯çš„å“åº”ç»„æˆ. è¯·æ±‚æ¶ˆæ¯å’Œç›¸åº”æ¶ˆæ¯éƒ½æ˜¯ç”±å¼€å§‹è¡Œ(å¯¹äºè¯·æ±‚æ¶ˆæ¯, å¼€å§‹è¡Œå°±æ˜¯è¯·æ±‚è¡Œ, å¯¹äºå“åº”æ¶ˆæ¯, å¼€å§‹è¡Œå°±æ˜¯çŠ¶æ€è¡Œ), æ¶ˆæ¯æŠ¥å¤´(å¯é€‰), ç©ºè¡Œ(åªæœ‰CRLFçš„è¡Œ), æ¶ˆæ¯æ­£æ–‡(å¯é€‰) ç»„æˆ&lt;/p&gt;
&lt;p&gt;HTTP æ¶ˆæ¯æŠ¥å¤´åŒ…æ‹¬ æ™®é€šæŠ¥å¤´, è¯·æ±‚æŠ¥å¤´, å“åº”æŠ¥å¤´, å®ä½“æŠ¥å¤´ æ¯ä¸€ä¸ªæŠ¥å¤´åŸŸéƒ½æ˜¯ç”±&lt;code&gt;åå­— + &amp;quot;:&amp;quot; + ç©ºæ ¼ + å€¼&lt;/code&gt; ç»„æˆ, æ¶ˆæ¯æŠ¥å¤´åŸŸçš„åå­—æ˜¯å¤§å°å†™æ— å…³çš„.&lt;/p&gt;
&lt;h6 id=&#34;æ™®é€šæŠ¥å¤´&#34;&gt;æ™®é€šæŠ¥å¤´&lt;/h6&gt;
&lt;p&gt;åœ¨æ™®é€šæŠ¥å¤´ä¸­, æœ‰å°‘æ•°æŠ¥å¤´åŸŸç”¨äºæ‰€æœ‰çš„è¯·æ±‚å’Œå“åº”æ¶ˆæ¯, ä½†å¹¶ç”¨äºè¢«ä¼ è¾“çš„å®ä½“, åªç”¨äºä¼ è¾“çš„æ¶ˆæ¯ &lt;strong&gt;ä¾‹:&lt;/strong&gt; Cache-Control ç”¨äºæŒ‡å®šç¼“å­˜æŒ‡ä»¤, ç¼“å­˜æŒ‡ä»¤æ˜¯å•å‘çš„(å“åº”ä¸­å‡ºç°çš„ç¼“å­˜æŒ‡ä»¤åœ¨è¯·æ±‚ä¸­æœªå¿…ä¼šå‡ºç°), ä¸”æ˜¯ç‹¬ç«‹çš„(ä¸€ä¸ªæ¶ˆæ¯çš„ç¼“å­˜æŒ‡ä»¤ä¸ä¼šå½±å“å¦ä¸€ä¸ªæ¶ˆæ¯å¤„ç†çš„ç¼“å­˜æœºåˆ¶), HTTP1.0ä½¿ç”¨ç±»ä¼¼çš„æŠ¥å¤´åŸŸä¸ºPragma. è¯·æ±‚æ—¶çš„ç¼“å­˜æŒ‡ä»¤åŒ…æ‹¬: no-cache(ç”¨äºæŒ‡ç¤ºè¯·æ±‚æˆ–ç›¸åº”æ¶ˆæ¯ä¸èƒ½ç¼“å­˜), no-store, max-age, max-stale, min-fresh, only-if-cached; å“åº”æ—¶çš„ç¼“å­˜æŒ‡ä»¤åŒ…æ‹¬: public, private, no-cache, no-store, no-transform, must-revalidate, proxy-revalidate, max-age, s-maxage &lt;strong&gt;eg:&lt;/strong&gt; ä¸ºäº†æŒ‡ç¤ºIEæµè§ˆå™¨(å®¢æˆ·ç«¯)ä¸è¦ç¼“å­˜é¡µé¢, æœåŠ¡å™¨ç«¯çš„JSPç¨‹åºå¯ä»¥ç¼–å†™å¦‚ä¸‹: &lt;code&gt;response.setHeader(&amp;quot;Cache-Control&amp;quot;, &amp;quot;no-cache&amp;quot;);&lt;/code&gt; æˆ– &lt;code&gt;response.setHeader(&amp;quot;Pragma&amp;quot;, &amp;quot;no-cache&amp;quot;);&lt;/code&gt; ä¸¤è€…ä½œç”¨ç›¸åŒ, åœ¨å‘é€çš„å“åº”æ¶ˆæ¯ä¸­è®¾ç½®æ™®é€šæŠ¥å¤´åŸŸ: Cache-Control: no-cache.&lt;/p&gt;
&lt;h6 id=&#34;è¯·æ±‚æŠ¥å¤´&#34;&gt;è¯·æ±‚æŠ¥å¤´&lt;/h6&gt;
&lt;p&gt;è¯·æ±‚æŠ¥å¤´å…è®¸å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯ä¼ é€’è¯·æ±‚çš„é™„åŠ ä¿¡æ¯ä»¥åŠå®¢æˆ·ç«¯è‡ªèº«çš„ä¿¡æ¯.&lt;/p&gt;
&lt;p&gt;å¸¸ç”¨çš„è¯·æ±‚æŠ¥å¤´åŸŸ: &lt;em&gt;Accept&lt;/em&gt; Accept è¯·æ±‚æŠ¥å¤´åŸŸç”¨äºæŒ‡å®šå®¢æˆ·ç«¯æ¥æ”¶å“ªäº›ç±»å‹çš„ä¿¡æ¯. å¦‚: &lt;code&gt;Accept:image/gif&lt;/code&gt;, è¡¨æ˜å®¢æˆ·ç«¯å¸Œæœ›æ¥æ”¶GIFå›¾åƒæ ¼å¼çš„èµ„æº; &lt;code&gt;Accept:text/html&lt;/code&gt;, è¡¨æ˜å®¢æˆ·ç«¯å¸Œæœ›æ¥å—html æ–‡æœ¬&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Accept-Charset&lt;/em&gt; æŒ‡å®šå®¢æˆ·ç«¯æ¥å—çš„å­—ç¬¦é›†. å¦‚: &lt;code&gt;Accept-Charset:iso-8859-1,GB2312&lt;/code&gt;. å¦‚æœè¯·æ±‚æ¶ˆæ¯ä¸­æ²¡æœ‰è®¾ç½®è¿™ä¸ªåŸŸ, ç¼ºçœæ˜¯ä»»ä½•å­—ç¬¦é›†éƒ½å¯ä»¥æ¥å—.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Accept-Encoding&lt;/em&gt; æŒ‡å®šå¯æ¥å—çš„å†…å®¹ç¼–ç . å¦‚&lt;code&gt;Accept-Encoding:gzip.deflate&lt;/code&gt; ç¼ºçœæ˜¯ä»»ä½•å†…å®¹ç¼–ç éƒ½å¯ä»¥æ¥å—&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Accept-Language&lt;/em&gt; æŒ‡å®šä¸€ç§è‡ªç„¶è¯­è¨€. å¦‚ &lt;code&gt;Accept-Language:zh-cn&lt;/code&gt; ç¼ºçœæ˜¯ä»»ä½•è¯­è¨€éƒ½å¯ä»¥æ¥å—&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Authorization&lt;/em&gt; ç”¨äºè¯æ˜å®¢æˆ·ç«¯æœ‰æƒæŸ¥çœ‹æŸä¸ªèµ„æº. å½“æµè§ˆå™¨è®¿é—®ä¸€ä¸ªé¡µé¢æ—¶, å¦‚æœæ”¶åˆ°æœåŠ¡å™¨çš„å“åº”ä»£ç ä¸º401, å¯ä»¥å‘é€ä¸€ä¸ªåŒ…å«Authorizationè¯·æ±‚æŠ¥å¤´åŸŸçš„è¯·æ±‚, è¦æ±‚æœåŠ¡å™¨å¯¹å…¶è¿›è¡ŒéªŒè¯&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Host&lt;/em&gt;(å‘é€è¯·æ±‚æ—¶, è¯¥æŠ¥å¤´åŸŸæ˜¯å¿…éœ€çš„) æŒ‡å®šè¢«è¯·æ±‚èµ„æºçš„Internetä¸»æœºå’Œç«¯å£å·, é€šå¸¸ä»HTTP URLä¸­æå–å‡ºæ¥&lt;/p&gt;
&lt;p&gt;&lt;em&gt;User-Agent&lt;/em&gt; å…è®¸å®¢æˆ·ç«¯å°†å®ƒçš„æ“ä½œç³»ç»Ÿ, æµè§ˆå™¨å’Œå…¶ä»–å±æ€§å‘Šè¯‰æœåŠ¡å™¨. ä¸è¿‡è¿™ä¸ªæŠ¥å¤´åŸŸä¸æ˜¯å¿…éœ€çš„, å¦‚æœæˆ‘ä»¬è‡ªå·±å†™ä¸€ä¸ªæµè§ˆå™¨, ä¸ä½¿ç”¨User-Agent è¯·æ±‚æŠ¥å¤´åŸŸ, é‚£ä¹ˆæœåŠ¡å™¨ç«¯å°±æ— æ³•å¾—çŸ¥æˆ‘ä»¬çš„ä¿¡æ¯äº†.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;è¯·æ±‚æŠ¥å¤´ç¤ºä¾‹&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;GET /form.html HTTP/1.1 (CRLF)
Accept:image/gif,image/x-xbigmap,image/jpeg,application/x-shockwave-flash,application/vnd.ms-excel,application/vnd.ms-powerpoint,application/msword,*/* (CRLF)
Accept-Language:zh-cn (CRLF)
Acdept-Encoding:gzip,deflate (CRLF)
If-Modified-Since:Wed,05 Jan 2007 11:21:25 GMT (CRLF)
If-None-Match:Mozilla/4.0(compatible;MSIE6.0,Windows NT 5.0) (CRLF)
Host:www.guet.edu.cn (CRLF)
Connection:Keep-Alive (CRLF)
(CRLF)
&lt;/code&gt;&lt;/pre&gt;
&lt;h6 id=&#34;å“åº”æŠ¥å¤´&#34;&gt;å“åº”æŠ¥å¤´&lt;/h6&gt;
&lt;p&gt;å“åº”æŠ¥å¤´å…è®¸æœåŠ¡å™¨ä¼ é€’ä¸èƒ½æ”¾åœ¨çŠ¶æ€è¡Œä¸­çš„é™„åŠ å“åº”ä¿¡æ¯, ä»¥åŠå…³äºæœåŠ¡å™¨çš„ä¿¡æ¯å’Œå¯¹Request-URIæ‰€æ ‡è¯†çš„èµ„æºè¿›è¡Œä¸‹ä¸€æ­¥è®¿é—®çš„ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Location&lt;/em&gt; é‡å®šå‘æ¥å—è€…åˆ°ä¸€ä¸ªæ–°çš„ä½ç½®. Locationå“åº”æŠ¥å¤´åŸŸå¸¸ç”¨åœ¨æ›´æ¢åŸŸåçš„æ—¶å€™&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Server&lt;/em&gt; åŒ…å«äº†æœåŠ¡å™¨ç”¨æ¥å¤„ç†è¯·æ±‚çš„è½¯ä»¶ä¿¡æ¯. ä¸&lt;code&gt;User-Agent&lt;/code&gt; è¯·æ±‚æŠ¥å¤´åŸŸæ˜¯ç›¸å¯¹åº”çš„ ä¾‹: &lt;code&gt;Server:Apache-Coyote/1.1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;WWW-Authenticate&lt;/em&gt; WWW-Authenticate å“åº”æŠ¥å¤´åŸŸå¿…é¡»åŒ…å«åœ¨401å“åº”æ¶ˆæ¯ä¸­, å®¢æˆ·ç«¯æ”¶åˆ°401å“åº”æ¶ˆæ¯çš„æ—¶å€™, å¹¶å‘é€AuthorizationæŠ¥å¤´åŸŸè¯·æ±‚æœåŠ¡å™¨å¯¹å…¶è¿›è¡ŒéªŒè¯æ—¶, æœåŠ¡ç«¯å“åº”æŠ¥å¤´å°±åŒ…å«è¯¥æŠ¥å¤´åŸŸ ä¾‹: &lt;code&gt;WWW-Authenticate:Basic realm=&amp;quot;Basic Auth Test!&lt;/code&gt;&lt;/p&gt;
&lt;h6 id=&#34;å®ä½“æŠ¥å¤´&#34;&gt;å®ä½“æŠ¥å¤´&lt;/h6&gt;
&lt;p&gt;è¯·æ±‚å’Œå“åº”æ¶ˆæ¯éƒ½å¯ä»¥ä¼ é€ä¸€ä¸ªå®ä½“. ä¸€ä¸ªå®ä½“ç”±å®ä½“æŠ¥å¤´åŸŸå’Œå®ä½“æ­£æ–‡ç»„æˆ, ä½†å¹¶ä¸æ˜¯å®ä½“æŠ¥å¤´åŸŸå’Œå®ä½“æ­£æ–‡è¦åœ¨ä¸€èµ·å‘é€, å¯ä»¥åªå‘é€å®ä½“æŠ¥å¤´åŸŸ. å®ä½“æŠ¥å¤´å®šä¹‰äº†å…³äºå®ä½“æ­£æ–‡(å¦‚: æœ‰æ— å®ä½“æ­£æ–‡) å’Œè¯·æ±‚æ‰€æ ‡è¯†çš„èµ„æºçš„å…ƒä¿¡æ¯.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Content-Encoding&lt;/em&gt; è¢«ç”¨ä½œåª’ä½“ç±»å‹çš„ä¿®é¥°ç¬¦, å®ƒçš„å€¼æŒ‡ç¤ºäº†å·²ç»è¢«åº”ç”¨åˆ°å®ä½“æ­£æ–‡çš„é™„åŠ å†…å®¹çš„ç¼–ç , å› è€Œè¦è·å¾—Content-Type æŠ¥å¤´åŸŸä¸­æ‰€å¼•ç”¨çš„åª’ä½“ç±»å‹, å¿…é¡»é‡‡ç”¨ç›¸åº”çš„è§£ç æœºåˆ¶.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Content-Language&lt;/em&gt; æè¿°äº†èµ„æºæ‰€ç”¨çš„è‡ªç„¶è¯­è¨€. æ²¡æœ‰è®¾ç½®è¯¥åŸŸåˆ™è®¤ä¸ºå®ä½“å†…å®¹å°†æä¾›ç»™æ‰€æœ‰çš„è¯­è¨€é˜…è¯»&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Content-Length&lt;/em&gt; æŒ‡æ˜å®ä½“æ­£æ–‡çš„é•¿åº¦, ä»¥å­—èŠ‚æ–¹å¼å­˜å‚¨çš„åè¿›åˆ¶æ•°å­—æ¥è¡¨ç¤º&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Content-Type&lt;/em&gt; æŒ‡æ˜å‘é€ç»™æ¥å—è€…çš„å®ä½“æ­£æ–‡çš„åª’ä½“ç±»å‹ ä¾‹: &lt;code&gt;Content-Type:text/html;charset=ISO-8859-1&lt;/code&gt; &lt;code&gt;Content-Type:text/html;charset=GB2312&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Last-Modified&lt;/em&gt; æŒ‡ç¤ºèµ„æºçš„æœ€åä¿®æ”¹æ—¥æœŸå’Œæ—¶é—´&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Expires&lt;/em&gt; ç»™å‡ºå“åº”å›½ä¼çš„æ—¥æœŸå’Œæ—¶é—´. ä¸ºäº†è®©ä»£ç†æœåŠ¡å™¨æˆ–æµè§ˆå™¨åœ¨ä¸€æ®µæ—¶é—´ä»¥åæ›´æ–°ç¼“å­˜ä¸­(å†æ¬¡è®¿é—®æ›¾è®¿é—®è¿‡çš„é¡µé¢æ—¶, ç›´æ¥ä»ç¼“å­˜ä¸­åŠ è½½, ç¼©çŸ­å“åº”æ—¶é—´å’Œé™ä½æœåŠ¡å™¨è´Ÿè½½) çš„é¡µé¢, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Expires å®ä½“æŠ¥å¤´åŸŸæŒ‡å®šé¡µé¢è¿‡æœŸçš„æ—¶é—´. ä¾‹: &lt;code&gt;Expires:Thu, 15 Sep 2006 16:23:12 GMT&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;HTTP1.1 çš„å®¢æˆ·ç«¯å’Œç¼“å­˜å¿…é¡»å°†å…¶ä»–éæ³•çš„æ—¥æœŸæ ¼å¼(åŒ…æ‹¬0) çœ‹ä½œå·²ç»è¿‡æœŸ ä¸ºäº†è®©æµè§ˆå™¨ä¸è¦ç¼“å­˜é¡µé¢, æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ©ç”¨Expires å®ä½“æŠ¥å¤´åŸŸè®¾ç½®ä¸º0, jspä¸­ç¨‹åºå¦‚ä¸‹: &lt;code&gt;response.setDateHeader(&amp;quot;Expires&amp;quot;, &amp;quot;0&amp;quot;);&lt;/code&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>qt åŒæ­¥æ–¹å¼å‘é€post è¯·æ±‚</title>
        <link>https://lxb.wiki/c57f4e3b/</link>
        <pubDate>Tue, 22 May 2018 11:12:38 +0000</pubDate>
        
        <guid>https://lxb.wiki/c57f4e3b/</guid>
        <description>&lt;p&gt;ä¸æˆåŠŸçš„æ–¹å¼: 1. QNetworkReplyçš„isFinished()å‡½æ•°, é€šè¿‡whileå¾ªç¯åˆ¤æ–­replyæ˜¯å¦å·²ç»ç»“æŸ, ç»“æŸåå†è°ƒç”¨readAll()è¯»å–å“åº”ä¿¡æ¯, ç»“æœä¸åˆ¤æ–­isRunning() æ–¹å¼ç»“æœä¸€æ ·, éƒ½ä¼šè¿›å…¥æ­»å¾ªç¯, æ²¡æœ‰å“åº”. 2. QNetworkReplyç»§æ‰¿è‡ªQIODevice, å°è¯•è°ƒç”¨QIODeviceçš„waitForReadyRead()æ–¹æ³•, ç»“æœä¸é˜»å¡, ç›´æ¥è¿”å›&lt;/p&gt;
&lt;p&gt;æˆåŠŸçš„æ–¹å¼: ä½¿ç”¨QEventLoopæ¥é˜»å¡è¿è¡Œ, çŸ¥é“ä¿¡å·å‘å‡º&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;QNetworkReply *reply = _manager-&amp;gt;post(QNetworkRequest(QUrl(SERVER_URL)), data);
QByteArray responseData;
QEventLoop eventLoop;
connect(_manager, SIGNAL(finished(QNetworkReply*)), &amp;amp;eventLoop, SLOT(quit()));
eventLoop.exec();       //block until finish
responseData = reply-&amp;gt;readAll();
&lt;/code&gt;&lt;/pre&gt;
</description>
        </item>
        <item>
        <title>qt ç¨‹åºæ‰“åŒ…</title>
        <link>https://lxb.wiki/7e8574d1/</link>
        <pubDate>Thu, 03 May 2018 23:03:09 +0000</pubDate>
        
        <guid>https://lxb.wiki/7e8574d1/</guid>
        <description>&lt;h6 id=&#34;è®¾ç½®ç¨‹åºå›¾æ ‡&#34;&gt;è®¾ç½®ç¨‹åºå›¾æ ‡&lt;/h6&gt;
&lt;ol&gt;
&lt;li&gt;æŠŠicoæ–‡ä»¶æ”¾åˆ°æºæ–‡ä»¶ç›®å½•ä¸‹, å‘½åä¸º&amp;quot;test.ico&amp;quot;&lt;/li&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ª&lt;code&gt;myico.rc&lt;/code&gt; æ–‡ä»¶, è¾“å…¥å¦‚ä¸‹å†…å®¹ &lt;code&gt;IDI_ICON1 ICON DISCARDABLE &amp;quot;test.ico&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åœ¨proæ–‡ä»¶å†™å…¥ &lt;code&gt;RC_FILE = myico.rc&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œqmake, ç¼–è¯‘&lt;/li&gt;
&lt;/ol&gt;
&lt;h6 id=&#34;ç¼–è¯‘-æ‰“åŒ…&#34;&gt;ç¼–è¯‘, æ‰“åŒ…&lt;/h6&gt;
&lt;ol&gt;
&lt;li&gt;é€‰æ‹©releaseç¼–è¯‘è¿è¡Œ&lt;/li&gt;
&lt;li&gt;å°†ç”Ÿæˆçš„exeæ–‡ä»¶æ”¾åˆ°æŸä¸ªè·¯å¾„ä¸‹, å¦‚ &lt;code&gt;Desktop/Test&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åœ¨cmdé‡Œ, è¿›å…¥åˆ°exeå­˜æ”¾è·¯å¾„, ä½¿ç”¨wendeployqtå·¥å…·æ‹·è´exeè¿è¡Œéœ€è¦çš„dll&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨Inno Setup Compilerç”Ÿæˆå®‰è£…æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;h6 id=&#34;inno-setup-å·¥å…·ä½¿ç”¨æ³¨æ„äº‹é¡¹&#34;&gt;Inno Setup å·¥å…·ä½¿ç”¨æ³¨æ„äº‹é¡¹&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;æ·»åŠ ä¸»æ‰§è¡Œæ–‡ä»¶å¤–çš„å…¶ä»–åº”ç”¨ç¨‹åºæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶æ—¶, éœ€è¦ç¼–è¾‘ä¸€æ¬¡, é‡æ–°æŒ‡å®šç›®æ ‡å­æ–‡ä»¶å¤¹&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘è„šæœ¬ä¸º&lt;code&gt;*.iss&lt;/code&gt; æ–‡ä»¶, ç¼–è¯‘åé»˜è®¤åœ¨æºexeçš„Base ç›®å½•ä¸‹ç”ŸæˆOutputæ–‡ä»¶å¤¹, æŒ‡å®šçš„setup.exeæ–‡ä»¶ç”Ÿæˆåœ¨Output æ–‡ä»¶å¤¹ä¸‹&lt;/li&gt;
&lt;li&gt;Inno Setup å·¥å…·åŸºç¡€ç‰ˆä¸æ”¯æŒä¸­æ–‡. å¦‚éœ€æ˜¾ç¤ºä¸­æ–‡, éœ€è¦æ‰¾æ±‰åŒ–ç‰ˆ&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Gerrit &#43; apache å®‰è£…</title>
        <link>https://lxb.wiki/2eb2e06d/</link>
        <pubDate>Wed, 02 May 2018 23:56:55 +0000</pubDate>
        
        <guid>https://lxb.wiki/2eb2e06d/</guid>
        <description>&lt;p&gt;ä½¿ç”¨gerritè‡ªå¸¦çš„æ•°æ®åº“h2, éªŒè¯æ–¹å¼ä¸ºHTTP, SMTP æœåŠ¡å™¨æœªé…ç½®&lt;/p&gt;
&lt;h6 id=&#34;git-å®‰è£…&#34;&gt;git å®‰è£…&lt;/h6&gt;
&lt;p&gt;å¯ç›´æ¥ä»yum æºå®‰è£…&lt;/p&gt;
&lt;h6 id=&#34;gerrit-å®‰è£…&#34;&gt;gerrit å®‰è£…&lt;/h6&gt;
&lt;p&gt;å…ˆæ·»åŠ gerrit ç”¨æˆ·. gerrit ä»2.10å¼€å§‹, æ¢æˆäº†æ–°ç‰ˆç•Œé¢. å‡ ä¹å›½å†…æ‰€æœ‰çš„é•œåƒéƒ½ä¼šä¸‹è½½å¤±è´¥, éœ€è¦ç¿»å¢™ä¸‹è½½. ä¸‹è½½å®Œæˆå, åˆå§‹åŒ–å‘½ä»¤ä¸º: &lt;code&gt;java -jar gerrrit-war init -d /home/gerrit/repository&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åˆå§‹åŒ–å¯åŠ¨æ—¶, &amp;ldquo;Authentication method&amp;rdquo; è®¾ä¸º&amp;quot;http&amp;quot; ,å…¶ä»–é»˜è®¤ &amp;ldquo;Listen on port [8080]&amp;rdquo; å¯ç”¨é»˜è®¤, å¦‚ç«¯å£è¢«å ç”¨, åˆå§‹åŒ–åä¹Ÿå¯åœ¨é…ç½®æ–‡ä»¶ä¿®æ”¹&lt;/p&gt;
&lt;h6 id=&#34;apache-å®‰è£…&#34;&gt;apache å®‰è£…&lt;/h6&gt;
&lt;p&gt;ç›´æ¥ä»yumæºå®‰è£… apacheåå­—ä¸ºhttpd, æœåŠ¡åä¹Ÿæ˜¯httpd. æœåŠ¡å¯åŠ¨å, é»˜è®¤ä»¥apacheç”¨æˆ·è¿è¡Œ. å¦‚éœ€è®¿é—®å…¶ä»–ç”¨æˆ·çš„æ–‡ä»¶, å¦‚&lt;code&gt;/home/gerrit/repository/htpasswd&lt;/code&gt;, éœ€è¦ç¡®ä¿apache ç”¨æˆ·æœ‰è¶³å¤Ÿçš„æƒé™&lt;/p&gt;
&lt;h6 id=&#34;é…ç½®-apache&#34;&gt;é…ç½® apache&lt;/h6&gt;
&lt;p&gt;ä¿®æ”¹ apache çš„conf æ–‡ä»¶, ä¸€èˆ¬è·¯å¾„ä¸º&lt;code&gt;/etc/httpd/conf/httpd.conf&lt;/code&gt; windows ä¸‹çš„é…ç½®æ–‡ä»¶è·¯å¾„ä¸º &lt;code&gt;INSTALL_DIR/conf/httpd.conf&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å»æ‰ä¸‹é¢å‡ è¡Œçš„æ³¨é‡Š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;LoadModule proxy_module modules/mod_proxy.so
LoadModule proxy_connect_module modules/mod_proxy_connect.so
LoadModule proxy_http_module modules/mod_proxy_http.so
LoadModule proxy_ftp_module modules/mod_proxy_ftp.so
LoadModule negotiation_module modules/mod_negotiation.so
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨æœ€åè¿½åŠ ä¸‹é¢é…ç½®&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;VirtualHost *:8080&amp;gt;  
  ServerName v3server
  ProxyRequests Off  
  ProxyVia Off  
  ProxyPreserveHost On  


  &amp;lt;Proxy *:8080&amp;gt;  
        Order deny,allow  
        Allow from all  
  &amp;lt;/Proxy&amp;gt;  


    &amp;lt;Location /login/&amp;gt;
      AuthType Basic
      AuthName &amp;quot;Gerrit Code Review&amp;quot;
      Require valid-user
     AuthUserFile D:/git/htpasswd
    &amp;lt;/Location&amp;gt;


  ProxyPass / http://10.14.132.179:9080/
  ProxyPassReverse / http://10.14.132.179:9080/
&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚ç«¯å£è¢«å ç”¨, ä¿®æ”¹confæ–‡ä»¶çš„&amp;quot;Listen 8080&amp;quot; å­—æ®µ, æ¢æˆå…¶ä»–çš„ç«¯å£ æŸ¥çœ‹æŸä¸ªç«¯å£æ˜¯å¦è¢«å ç”¨ : &lt;code&gt;netstat -lnp | grep 8080&lt;/code&gt; &lt;code&gt;ProxyPass&lt;/code&gt; å’Œ &lt;code&gt;proxyPassReverse&lt;/code&gt; çš„ç«¯å£éœ€ä¸gerritçš„confæ–‡ä»¶é‡Œç«¯å£ä¸€è‡´&lt;/p&gt;
&lt;h6 id=&#34;é…ç½®-gerrit&#34;&gt;é…ç½® gerrit&lt;/h6&gt;
&lt;p&gt;ä¿®æ”¹&lt;code&gt;GERRIT_DIR/etc/gerrit.config&lt;/code&gt; æ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[gerrit]
basePath = git
canonicalWebUrl = http://10.14.132.179:9080/
[database]
type = H2
database = db/ReviewDB
[auth]
type = HTTP
logoutUrl = http://aa:aa@10.14.132.179:8080/
[sendemail]
smtpServer = smtp.163.com
smtpUser = useremail@163.com
  smtpPass = userpass
  from = useremail@163.com
[container]
user = admin
javaHome = C:\\Program Files\\Java\\jdk1.6.0_27\\jre
[sshd]
listenAddress = *:29418
[httpd]
listenUrl = http://10.14.132.179:9080/
[cache]
directory = cache
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;éœ€è¦ä¿®æ”¹çš„å†…å®¹: - canonicalWebUrl - auth/type&lt;/p&gt;
&lt;p&gt;éœ€è¦æ³¨æ„: canonicalWebUrl å’Œ listenAddress ä¸æ˜¯8080. apache çš„ç«¯å£å’Œ gerrit çš„ç«¯å£æ˜¯ä¸åŒçš„, ç”¨æˆ·è®¿é—®åœ°å€ä¸º apache çš„åœ°å€&lt;/p&gt;
&lt;h6 id=&#34;å¯åŠ¨-gerrit&#34;&gt;å¯åŠ¨ gerrit&lt;/h6&gt;
&lt;p&gt;&lt;code&gt;GERRIT_DIR/bin/gerrit.sh start&lt;/code&gt;&lt;/p&gt;
&lt;h6 id=&#34;å¯åŠ¨-apache&#34;&gt;å¯åŠ¨ apache&lt;/h6&gt;
&lt;p&gt;&lt;code&gt;service httpd start&lt;/code&gt;&lt;/p&gt;
&lt;h6 id=&#34;æ·»åŠ è´¦å·å’Œå¯†ç &#34;&gt;æ·»åŠ è´¦å·å’Œå¯†ç &lt;/h6&gt;
&lt;p&gt;&lt;code&gt;htpasswd -cm /home/gerrit/repository/htpasswd USER_NAME&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;htpasswd ä¸ºapache çš„å‘½ä»¤å·¥å…·&lt;/li&gt;
&lt;li&gt;å‚æ•°c æ„ä¸ºæ–°å»ºæ–‡ä»¶, å³ &lt;code&gt;/home/gerrit/repository/htpasswd&lt;/code&gt; æ–‡ä»¶ä¸å­˜åœ¨æ—¶, æ–°å»ºåä¸ºhtpasswdçš„æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;å‚æ•°m ä¸ºä½¿ç”¨md5 åŠ å¯†&lt;/li&gt;
&lt;li&gt;å½“htpasswdæ–‡ä»¶å­˜åœ¨æ—¶, å¯ä»¥ä½¿ç”¨&lt;code&gt;htpasswd -m /PATH_TO_HTPASSWD USER_NAME&lt;/code&gt; æ·»åŠ è´¦å·&lt;/li&gt;
&lt;li&gt;ä¿å­˜è´¦å·å¯†ç ä¿¡æ¯çš„æ–‡ä»¶(htpasswd), åå­—ä¸ºè‡ªå®šä¹‰çš„, ä½†éœ€è¦ä¸apache çš„conf é…ç½®æ–‡ä»¶é‡Œ &lt;code&gt;AuthUserFile&lt;/code&gt; ä¸€è‡´&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Qt å·¥ç¨‹çš„å‡ ç§æ–‡ä»¶</title>
        <link>https://lxb.wiki/924904f6/</link>
        <pubDate>Fri, 20 Apr 2018 22:25:51 +0000</pubDate>
        
        <guid>https://lxb.wiki/924904f6/</guid>
        <description>&lt;h4 id=&#34;pro&#34;&gt;&lt;code&gt;*.pro&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;qmakeçš„å·¥ç¨‹(project)æ–‡ä»¶ ä¾‹å­:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;TEMPLATE = app
CONFIG += QT
QT += core gui

TARGET = somename

SOURCES += main.cpp \
          widget.cpp
HEADERS += widget.h
FORMS += widget.ui
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;å‰ä¸‰è¡Œæ˜¯qmakeçš„é»˜è®¤å€¼, éƒ½å¯ä»¥çœç•¥&lt;/li&gt;
&lt;li&gt;TARGET è¡ŒæŒ‡å®šå·¥ç¨‹å, ä¹Ÿå¯ä»¥çœç•¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;pri&#34;&gt;&lt;code&gt;*.pri&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;include æ–‡ä»¶ æ¥ä¸Šé¢çš„ä¾‹å­, æˆ‘ä»¬å¯ä»¥å°†æºæ–‡ä»¶çš„è®¾ç½®ç‹¬ç«‹å¤„ç†, æ”¾åˆ°somename.priæ–‡ä»¶å†…:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;SOURCES += main.cpp \
          widget.cpp
HEADERS += widget.h
FORMS += widget.ui
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™æ—¶, pro æ–‡ä»¶å°±å¯ä»¥ç®€åŒ–ä¸º:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;TEMPLATE = app
CONFIG += QT
QT += core gui

TARGET = somename
include(somename.pri)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;prf&#34;&gt;&lt;code&gt;*.prf&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;ç‰¹æ€§(feature) æ–‡ä»¶ å’Œpriæ–‡ä»¶ç±»ä¼¼, prfæ–‡ä»¶ä¹Ÿæ˜¯è¦è¢«åŒ…å«è¿›proæ–‡ä»¶. åªæ˜¯å®ƒæ›´éšè”½.&lt;/p&gt;
&lt;p&gt;åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­, å…¶å®å·²ç»ç”¨åˆ°äº†prf, å°±æ˜¯ &lt;code&gt;CONFIG += QT&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å½“åœ¨CONFIG ä¸­æŒ‡å®šä¸€ä¸ªå€¼æ—¶, qmakeå°±ä¼šå°è¯•å»åŠ è½½ç›¸åº”çš„featureæ–‡ä»¶: - Qtå®‰è£…ç›®å½•ä¸‹çš„&lt;code&gt;mkspecs/features/qt.prf&lt;/code&gt; - features æ–‡ä»¶çš„æ–‡ä»¶åå¿…é¡»å°å†™&lt;/p&gt;
&lt;p&gt;ä¾‹å­:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;win32:CONFIG += console // ä¸ºwin32ç¨‹åºæ·»åŠ æ§åˆ¶å°
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æŠŠè¯¥æ–‡ä»¶å‘½åä¸º&lt;code&gt;a.prf&lt;/code&gt;, æ”¾åˆ°å‰é¢æåˆ°çš„ç›®å½•ä¸­, ç„¶ååœ¨proæ–‡ä»¶å†…æ·»åŠ  &lt;code&gt;CONFIG += a&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥ä½¿ç”¨loadå‘½ä»¤æ¥åŠ è½½prfæ–‡ä»¶ &lt;code&gt;load(a)&lt;/code&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Qt UI ç¼–ç è§„èŒƒ</title>
        <link>https://lxb.wiki/9c64b54d/</link>
        <pubDate>Mon, 02 Apr 2018 11:27:52 +0000</pubDate>
        
        <guid>https://lxb.wiki/9c64b54d/</guid>
        <description>&lt;h5 id=&#34;å˜é‡å£°æ˜&#34;&gt;å˜é‡å£°æ˜&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ¯è¡Œåªå£°æ˜ä¸€ä¸ªå˜é‡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é¿å…ä½¿ç”¨çŸ­çš„/æ— æ„ä¹‰çš„å‘½å&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å½“ä¸€ä¸ªå˜é‡è¢«ç”¨åˆ°æ—¶å†å£°æ˜&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// Wrong
int a, b;
char* c, * d;

// Correct
int height;
int width;
char* nameOfOne;
char* nameOfOther;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å˜é‡å‘½å&#34;&gt;å˜é‡å‘½å&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å˜é‡å/å‡½æ•°åé‡‡ç”¨é©¼å³°å‘½åæ³•(lowerCaseCamel), é¦–å­—æ¯ç¼©å†™è¯å‡ºç°çš„å‘½åä¸­, ç¼©å†™ä¹Ÿç”¨é©¼å³°å‘½å&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// Wrong 
short Cntr;
char ITEM_DELIM = &#39;&#39;;

void myXMLStreamReader();

// Correct
short counter;
char itemDelimiter = &#39;&#39;;

void myXmlStreamReader();
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ç©ºè¡Œç©ºæ ¼&#34;&gt;ç©ºè¡Œ/ç©ºæ ¼&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç”¨ä¸€ä¸ªä¸”ä»…ç”¨ä¸€ä¸ªç©ºè¡Œåœ¨é€‚å½“çš„åœ°æ–¹åˆ’åˆ†ä»£ç å—&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨å…³é”®è¯å’Œå°æ‹¬å·ä¹‹é—´æ€»æ˜¯åªç”¨ä¸€ä¸ªç©ºæ ¼ç¬¦&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// Wrong
if(foo)
{
}

// Correct
if (foo)
{
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æŒ‡é’ˆå¼•ç”¨&#34;&gt;æŒ‡é’ˆ/å¼•ç”¨&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ç±»å‹åå’Œ&lt;code&gt;*&lt;/code&gt;æˆ–&lt;code&gt;&amp;amp;&lt;/code&gt;ä¹‹é—´æ²¡æœ‰ç©ºæ ¼, åœ¨&lt;code&gt;*&lt;/code&gt;æˆ–&lt;code&gt;&amp;amp;&lt;/code&gt;ä¸å˜é‡åä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;char* someValue;
const QString&amp;amp; myString;
const char* const WOR = &amp;quot;hello&amp;quot;;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ç¬¦å·ä¸ç©ºæ ¼&#34;&gt;ç¬¦å·ä¸ç©ºæ ¼&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;äºŒå…ƒæ“ä½œç¬¦å·¦å³ä¸¤è¾¹éƒ½æœ‰ä¸€ä¸ªç©ºæ ¼&lt;/li&gt;
&lt;li&gt;ä¸€å…ƒæ“ä½œç¬¦ä¸å˜é‡ä¹‹é—´ä¸ç•™ç©ºæ ¼&lt;/li&gt;
&lt;li&gt;é€—å·å·¦å³æ²¡æœ‰ç©ºæ ¼, å³è¾¹ä¸€ä¸ªç©ºæ ¼&lt;/li&gt;
&lt;li&gt;åˆ†å·å·¦è¾¹æ²¡æœ‰ç©ºæ ¼; åˆ†å·ä½œä¸ºè¯­å¥çš„ç»“æŸç¬¦, å³è¾¹ä¸€èˆ¬ä¸å†æœ‰å†…å®¹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;#&lt;/code&gt;å·å³è¾¹æ²¡æœ‰ç©ºæ ¼&lt;/li&gt;
&lt;li&gt;å·¦å¼•å·çš„å·¦è¾¹å’Œå³å¼•å·çš„å„ä¸€ä¸ªç©ºæ ¼, å·¦å¼•å·çš„å³è¾¹å’Œå³å¼•å·çš„å·¦è¾¹æ²¡æœ‰ç©ºæ ¼&lt;/li&gt;
&lt;li&gt;å¦‚æœå³å¼•å·å³è¾¹æ˜¯å³æ‹¬å·, å®ƒä»¬ä¹‹é—´æ²¡æœ‰ç©ºæ ¼&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;cast&#34;&gt;cast&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é¿å…Cè¯­è¨€çš„cast, å°½é‡ç”¨C++çš„cast(static_cast, const_cast, reinterpret_cast). reinterpret_cast å’Œ Cé£æ ¼çš„castç”¨èµ·æ¥éƒ½æ˜¯å±é™©çš„ï¼Œä½†è‡³å°‘ reinterpret_cast ä¸ä¼šæŠŠconstä¿®é¥°ç¬¦å»æ‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¶‰åŠåˆ°QObjectsæˆ–é‡æ„è‡ªå·±çš„ä»£ç æ—¶ï¼Œä¸è¦ä½¿ç”¨dynamic_cast,è€Œæ˜¯ç”¨qobject_castï¼Œä¾‹å¦‚åœ¨å¼•è¿›ä¸€ä¸ªç±»å‹çš„æ–¹æ³•æ—¶&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”¨æ„é€ å‡½æ•°å»castç®€å•ç±»å‹,ä¾‹å¦‚ï¼šç”¨int(myFloat)ä»£æ›¿(int)myFloat&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// Wrong
char* blockOfMemory = (char* ) malloc(data.size());

// Correct
char *blockOfMemory = reinterpret_cast&amp;lt;char *&amp;gt;(malloc(data.size()));
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è¯­å¥&#34;&gt;è¯­å¥&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;ä¸è¦åœ¨ä¸€è¡Œå†™å¤šæ¡è¯­å¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æ‹¬å·&#34;&gt;æ‹¬å·&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ¯ä¸ªå¤§æ‹¬å·å•ç‹¬ä¸€è¡Œ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸è®ºæ¡ä»¶è¯­å¥çš„æ‰§è¡Œéƒ¨åˆ†æœ‰å‡ è¡Œ, å¿…é¡»ä½¿ç”¨å¤§æ‹¬å·&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°æ‹¬å·ç”¨æ¥ç»™è¯­å¥åˆ†ç»„&lt;/p&gt;
&lt;p&gt;// Wrong
if (address.isEmpty()) {
return false;
}&lt;/p&gt;
&lt;p&gt;for (int i = 0; i &amp;lt; 10; +&amp;lsquo;&amp;lsquo;i) {
qDebug(&amp;quot;%i&amp;quot;, i);
}&lt;/p&gt;
&lt;p&gt;// Correct
if (address.isEmpty())
{
return false;
}
else
{
return true;
}&lt;/p&gt;
&lt;p&gt;for (int i = 0; i &amp;lt; 10;i)
{
qDebug(&amp;quot;%i&amp;quot;, i);
}&lt;/p&gt;
&lt;p&gt;// Wrong
if (a &amp;amp;&amp;amp; b || c)&lt;/p&gt;
&lt;p&gt;// Correct
if ((a &amp;amp;&amp;amp; b) || c)&lt;/p&gt;
&lt;p&gt;// Wrong
a + b &amp;amp; c&lt;/p&gt;
&lt;p&gt;// Correct
(a + b) &amp;amp; c&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;switchè¯­å¥&#34;&gt;switchè¯­å¥&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;caseç¼©è¿›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é™¤enumå¤–, æ¯ç»„caseæœ€åéƒ½è¦åŠ default;&lt;/p&gt;
&lt;p&gt;switch (myEnum)
{
case Value1:
doSomething();
break;
case Value2:
case Value3:
doSomethingElse();
// fall through
break;
default:
defaultHandling();
break;
}&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;goto&#34;&gt;goto&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;ç¦æ­¢ä½¿ç”¨goto&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æ¢è¡Œ&#34;&gt;æ¢è¡Œ&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ¯è¡Œä»£ç ä¸å¤šäº120å­—ç¬¦&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€—å·åœ¨è¡Œå°¾. æ“ä½œç¬¦åœ¨æ–°è¡Œçš„å¼€å¤´ä½ç½®&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¢è¡Œæ—¶å°½é‡é¿å…è¡Œä¸è¡Œä¹‹é—´çœ‹èµ·æ¥å‚å·®ä¸é½&lt;/p&gt;
&lt;p&gt;// Wrong
if (longExpression +
otherLongExpression +
otherOtherLongExpression) {
}&lt;/p&gt;
&lt;p&gt;// Correct
if (longExpression
+ otherLongExpression
+ otherOtherLongExpression) {
}&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;cç‰¹æ€§&#34;&gt;&lt;code&gt;C++&lt;/code&gt;ç‰¹æ€§&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;ä¸è¦ä½¿ç”¨å¼‚å¸¸å¤„ç†&lt;/li&gt;
&lt;li&gt;ä¸è¦ä½¿ç”¨è¿è¡Œæ—¶ç±»å‹è¯†åˆ«&lt;/li&gt;
&lt;li&gt;ç†æ™ºåœ°ä½¿ç”¨æ¨¡æ¿&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;qtæºç ä¸­çš„è§„èŒƒ&#34;&gt;Qtæºç ä¸­çš„è§„èŒƒ&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;æ‰€æœ‰ä»£ç éƒ½æ˜¯asciiï¼Œä½¿ç”¨è€…å¦‚æœä¸ç¡®å®šçš„è¯ï¼Œåªå¯èƒ½æ˜¯7å­—èŠ‚&lt;/li&gt;
&lt;li&gt;æ¯ä¸€ä¸ªQObjectçš„å­ç±»éƒ½å¿…é¡»æœ‰Q_OBJECTå®ï¼Œå³ä½¿è¿™ä¸ªç±»æ²¡ç”¨åˆ°ä¿¡å·æˆ–æ§½ã€‚å¦åˆ™qobject_castå°†ä¸èƒ½ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;åœ¨connectè¯­å¥ä¸­ï¼Œä½¿ä¿¡å·å’Œæ§½çš„å‚æ•°è§„èŒƒåŒ–ï¼ˆå‚çœ‹ QMetaObject::normalizedSignatureï¼‰ï¼Œå¯ä»¥åŠ å¿«ä¿¡å·/æ§½çš„æŸ¥æ‰¾é€Ÿåº¦ã€‚å¯ä»¥ä½¿ç”¨qtrepotools/util/normalizeè§„èŒƒå·²æœ‰ä»£ç &lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;åŒ…å«å¤´æ–‡ä»¶é¡ºåº&#34;&gt;åŒ…å«å¤´æ–‡ä»¶é¡ºåº&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;æºæ–‡ä»¶å¯¹åº”çš„å¤´æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&amp;lt;åˆ†éš”&amp;gt;&lt;/li&gt;
&lt;li&gt;Cç³»ç»Ÿæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&amp;lt;åˆ†éš”&amp;gt;&lt;/li&gt;
&lt;li&gt;C++ç³»ç»Ÿæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&amp;lt;åˆ†éš”&amp;gt;&lt;/li&gt;
&lt;li&gt;Qtåº“æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&amp;lt;åˆ†éš”&amp;gt;&lt;/li&gt;
&lt;li&gt;å…¶ä»–ç›®å½•&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ¯ç»„æ–‡ä»¶æŒ‰å­—æ¯å‡åºæ’åˆ—&lt;/p&gt;
&lt;h5 id=&#34;ç¼–è¯‘å™¨å¹³å°&#34;&gt;ç¼–è¯‘å™¨/å¹³å°&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦ ï¼Ÿæ—¶è¦ç‰¹åˆ«å°å¿ƒï¼Œå¦‚æœæ¯æ¬¡çš„è¿”å›å€¼çš„ç±»å‹å¯èƒ½ä¸ä¸€æ ·çš„è¯ï¼Œä¸€äº›ç¼–è¯‘å™¨ä¼šåœ¨è¿è¡Œæ—¶ç”Ÿæˆå†²çªçš„ä»£ç ï¼ˆæ­¤æ—¶ç¼–è¯‘å™¨ç”šè‡³ä¸ä¼šæŠ¥é”™ï¼‰ &lt;code&gt;QString s; return condition ? s : &amp;quot;nothing&amp;quot;; // crash at runtime - QString vs. const char *&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¦ç‰¹åˆ«å°å¿ƒå¯¹é½é—®é¢˜ã€‚æ— è®ºä½•æ—¶ï¼Œå½“ä¸€ä¸ªæŒ‡é’ˆè¢«caståçš„å¯¹é½æ•°æ˜¯å¢åŠ çš„æ—¶å€™ï¼Œå®ƒéƒ½å¯èƒ½ä¼šå´©æºƒã€‚ä¾‹å¦‚ä¸€ä¸ªconst char è¢«castæˆäº†cons intï¼Œå½“castä¹‹åçš„æ•°å­—ä¸å¾—ä¸åœ¨2æˆ–4ä¸ªå­—èŠ‚ä¹‹é—´å¯¹é½æ—¶ï¼ŒæŒ‡é’ˆå°±ä¼šåœ¨æœºå™¨ä¸Šå´©æºƒ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä»»ä½•éœ€è¦éœ€è¦æ‰§è¡Œæ„é€ å‡½æ•°æˆ–ç›¸å…³ä»£ç è¿›è¡Œåˆå§‹åŒ–çš„å®ä¾‹ï¼Œéƒ½ä¸èƒ½ç”¨ä½œåº“ä»£ç ä¸­çš„å…¨å±€å®ä¾‹ã€‚å› ä¸ºå½“æ„é€ å‡½æ•°æˆ–ä»£ç å°†è¦è¿è¡Œçš„æ—¶å€™ï¼Œè¯¥å®ä¾‹è¿˜æ²¡æœ‰è¢«å®šä¹‰ï¼ˆåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨è¯¥å®ä¾‹æ—¶ï¼Œåœ¨åŠ è½½åº“æ—¶ï¼Œåœ¨æ‰§è¡Œmain()ä¹‹å‰ï¼‰ &lt;code&gt;// global scope static const QString x; // Wrong - default constructor needs to be run to initialize x static const QString y = &amp;quot;Hello&amp;quot;; // Wrong - constructor that takes a const char * has to be run QString z; // super wrong static const int i = foo(); // wrong - call time of foo() undefined, might not be called at all&lt;/code&gt; å¯ä»¥ä½¿ç”¨ä¸‹é¢æ–¹æ³•: &lt;code&gt;// global scope static const char x[] = &amp;quot;someText&amp;quot;; // Works - no constructor must be run, x set at compile time static int y = 7; // Works - y will be set at compile time static MyStruct s = {1, 2, 3}; // Works - will be initialized statically, no code being run static QString *ptr = 0; // Pointers to objects are ok - no code needed to be run to initialize ptr&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”¨Q_GLOBAL_STATICå®šä¹‰å…¨å±€å®ä¾‹&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; Q_GLOBAL_STATIC(QString, s)

void foo()
{
 s()-&amp;gt;append(&amp;quot;moo&amp;quot;);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;charå‹å˜é‡æ˜¯æœ‰ç¬¦å·çš„è¿˜æ˜¯æ— ç¬¦å·çš„å–å†³äºå®ƒè¿è¡Œç¯å¢ƒçš„æ¶æ„ã€‚å¦‚æœä½ æ˜ç¡®åœ°æƒ³ä½¿ç”¨ä¸€ä¸ªsignedæˆ–unsinged charï¼Œå°±ä½¿ç”¨signed charæˆ–unsigned charã€‚ä»¥ä¸‹ä»£ç è¿è¡Œåœ¨æŠŠcharé»˜è®¤ä¸ºæ— ç¬¦å·çš„å¹³å°ä¸Šæ—¶ï¼Œå…¶æ¡ä»¶åˆ¤æ–­æ’ä¸ºçœŸ &lt;code&gt;char c; // c can&#39;t be negative if it is unsigned /********/ /*******/ if (c &amp;gt; 0) { â€¦ } // WRONG - condition is always true on platforms where the default is unsigned&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é¿å…64ä½çš„æšä¸¾å€¼&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åµŒå…¥å¼åº”ç”¨ç³»ç»ŸäºŒè¿›åˆ¶æ¥å£å°†æ‰€æœ‰çš„æšä¸¾ç±»å‹çš„å€¼ç¡¬ç¼–ç æˆ32ä½intå€¼&lt;/li&gt;
&lt;li&gt;å¾®è½¯çš„ç¼–è¯‘å™¨ä¸æ”¯æŒ64ä½çš„æšä¸¾å€¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;ç¼–ç¨‹åå¥½&#34;&gt;ç¼–ç¨‹åå¥½&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨æšä¸¾å€¼å®šä¹‰å¸¸é‡è€Œéç”¨const intæˆ–defines
&lt;ul&gt;
&lt;li&gt;æšä¸¾å€¼ä¼šåœ¨ç¼–è¯‘æ—¶è¢«ç¼–è¯‘å™¨ç”¨å®é™…å€¼æ›¿æ¢æ‰ï¼Œå› è€Œè¿è¡Œæ—¶å¾—å‡ºç»“æœçš„é€Ÿåº¦æ›´å¿«&lt;/li&gt;
&lt;li&gt;definesä¸æ˜¯å‘½åç©ºé—´å®‰å…¨çš„ï¼ˆå¹¶ä¸”çœ‹èµ·æ¥å¾ˆä¸‘ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å½“é‡æ–°å®ç°ä¸€ä¸ªè™šæ–¹æ³•æ—¶ï¼Œåœ¨Qt5ä¸­ï¼Œç”¨ Q_DECL_OVERRIDEå®åœ¨å‡½æ•°å£°æ˜ä¹‹åï¼Œåˆ†å·ä¹‹å‰æ³¨è§£å®ƒ&lt;/li&gt;
&lt;li&gt;ä¸è¦æŠŠconst-iteratorå’Œnone-const iteratorææ·· &lt;code&gt;for (Container::const_iterator it = c.begin(); it != c.end(); ++it) // Wrong for (Container::const_iterator it = c.cbegin(); it != c.cend(); ++it) // Right&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å‘½åç©ºé—´&#34;&gt;å‘½åç©ºé—´&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;é™¤è·ŸUIç›´æ¥äº¤äº’çš„ç±»å¤–, å…¶ä»–ç±»å¿…é¡»å¤„åœ¨å‘½åç©ºé—´å†…&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;floatå€¼&#34;&gt;floatå€¼&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨qFuzzyCompareå»å’Œdeltaæ¯”è¾ƒå…¶å€¼&lt;/li&gt;
&lt;li&gt;ç”¨qIsNullå»åˆ¤æ–­floatå€¼æ˜¯ä¸æ˜¯äºŒè¿›åˆ¶0ï¼Œè€Œä¸æ˜¯å’Œ0.0æ¯”è¾ƒ &lt;code&gt;[static] bool qFuzzyCompare(double p1, double p2) // Instead of comparing with 0.0 qFuzzyCompare(0.0,1.0e-200); // This will return false // Compare adding 1 to both values will fix the problem qFuzzyCompare(1 + 0.0, 1 + 1.0e-200); // This will return true&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ç±»çš„æˆå‘˜å‘½å&#34;&gt;ç±»çš„æˆå‘˜å‘½å&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æˆå‘˜å˜é‡ä¸€èˆ¬ä¸ºåè¯&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‡½æ•°æˆå‘˜ä¸€èˆ¬ä¸ºåŠ¨è¯/åŠ¨è¯+åè¯ï¼Œä½†æ˜¯å½“åŠ¨è¯ä¸ºgetæ—¶ï¼Œgetå¸¸å¸¸çœç•¥ã€‚å½“è¿”å›å€¼ä¸ºBoolå‹å˜é‡æ—¶ï¼Œå‡½æ•°åä¸€èˆ¬ä»¥å‰ç¼€â€™isâ€™å¼€å¤´&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;public:
    void setColor(const QColor&amp;amp; c);
    QColor color() const;
    void setDirty(bool b);
    bool isDirty() const;

private Q_SLOTS:
    void onParentChanged();
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æ„é€ å‡½æ•°&#34;&gt;æ„é€ å‡½æ•°&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ºäº†ä½¿æ„é€ å‡½æ•°è¢«é”™è¯¯ä½¿ç”¨çš„å¯èƒ½æ€§é™åˆ°æœ€å°ï¼Œæ¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼ˆé™¤äº†æ‹·è´æ„å‡½æ•°ï¼‰éƒ½åº”è¯¥æ£€æŸ¥è‡ªå·±æ˜¯å¦éœ€è¦åŠ ä¸Šexplicit ç¬¦å·&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æ³¨æ„ä»£ç é™·é˜±&#34;&gt;æ³¨æ„ä»£ç é™·é˜±&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;ä¸è¦ä¸ºäº†å›¾æ–¹ä¾¿å°‘äº›ä¸€äº›ä»£ç ã€‚å› ä¸ºä»£ç æ˜¯ä¸€æ¬¡ä¹¦å†™ï¼ŒåæœŸä¸æ­¢ä¸€æ¬¡åœ°è¦å»ç†è§£ã€‚ä¾‹å¦‚ &lt;code&gt;QSlider *slider = new QSlider(12, 18, 3, 13, Qt::Vertical, 0, &amp;quot;volume&amp;quot;);&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ”¹æˆä¸‹é¢çš„æ–¹å¼ä¼šæ›´å®¹æ˜“ç†è§£ &lt;code&gt;QSlider *slider = new QSlider(Qt::Vertical); slider-&amp;gt;setRange(12, 18); slider-&amp;gt;setPageStep(3); slider-&amp;gt;setValue(13); slider-&amp;gt;setObjectName(&amp;quot;volume&amp;quot;);&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;å‚è€ƒèµ„æ–™&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://wiki.qt.io/Qt&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://wiki.qt.io/Qt&lt;/a&gt;_Contribution_Guidelines&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://wiki.qt.io/Qt&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://wiki.qt.io/Qt&lt;/a&gt;_Coding_Style&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://wiki.qt.io/Coding_Conventions&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://wiki.qt.io/Coding_Conventions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://community.kde.org/Policies/Library&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://community.kde.org/Policies/Library&lt;/a&gt;_Code_Policy&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://wiki.qt.io/UI&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://wiki.qt.io/UI&lt;/a&gt;_Text_Conventions&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://wiki.qt.io/API&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://wiki.qt.io/API&lt;/a&gt;_Design_Principles&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;http://doc.qt.io/qt-5/qml-codingconventions.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://doc.qt.io/qt-5/qml-codingconventions.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://google.github.io/styleguide/cppguide.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://google.github.io/styleguide/cppguide.html&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>CentOS7å‡çº§gcc å’Œgdb</title>
        <link>https://lxb.wiki/ec9feff6/</link>
        <pubDate>Wed, 28 Mar 2018 11:37:20 +0000</pubDate>
        
        <guid>https://lxb.wiki/ec9feff6/</guid>
        <description>&lt;p&gt;å‡çº§åç‰ˆæœ¬: &lt;code&gt;gcc-5.4.0&lt;/code&gt; &lt;code&gt;gdb-7.11.1&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;å®‰è£…å¼€å‘å¿…å¤‡ç¯å¢ƒ&#34;&gt;å®‰è£…å¼€å‘å¿…å¤‡ç¯å¢ƒ&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;yum groupinstall &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Development Tools&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;yum install glibc-static libstdc++-static
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç¼–è¯‘å®‰è£…gcc-540&#34;&gt;ç¼–è¯‘å®‰è£…gcc-5.4.0&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;http://ftp.tsukuba.wide.ad.jp/software/gcc/releases/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;gccä¸‹è½½åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tar -xvf gcc-5.4.0.tar.bz2
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd gcc-5.4.0
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./contrib/download_prerequisits
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkdir build
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd build
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;../configure --enable-checking&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;release --enable-languages&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;c,c++ --disable-multilib
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;makeï¼ˆå»ºè®®ä¸è¦ä½¿ç”¨make -jæ¥ç¼–è¯‘ï¼Œè™½ç„¶å¯ä»¥ç¼©çŸ­ç¼–è¯‘æ—¶é—´ï¼Œä½†æå¤§å¯èƒ½ä¼šç¼–è¯‘å¤±è´¥ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;make install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…¶ä¸­æ‰§è¡Œ&lt;code&gt;./contrib/download_prerequisits&lt;/code&gt;å°†è‡ªåŠ¨ä¸‹è½½ä»¥ä¸‹å‡ ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸ªå‡ ä¸ªæ–‡ä»¶åœ¨gccç¼–è¯‘æ—¶éœ€è¦ï¼š &lt;code&gt;- mpfr-2.4.2.tar.bz2 - gmp-4.3.2.tar.bz2 - mpc-0.8.1.tar.gz - isl-0.15.tar.bz2&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;make install&lt;/code&gt; æ—¶, è‡ªåŠ¨å®‰è£…åˆ°&lt;code&gt;/usr/local/gcc-5.40&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;è§£å†³è¿è¡Œç¨‹åºæ—¶-gcc-æŠ¥é”™glibcxx_3421-not-found&#34;&gt;è§£å†³è¿è¡Œç¨‹åºæ—¶, gcc æŠ¥é”™&amp;rsquo;GLIBCXX_3.4.21&amp;rsquo; not found&lt;/h2&gt;
&lt;p&gt;è¿™æ˜¯å› ä¸ºå‡çº§gccæ—¶ï¼Œç”Ÿæˆçš„åŠ¨æ€åº“æ²¡æœ‰æ›¿æ¢è€ç‰ˆæœ¬gccçš„åŠ¨æ€åº“å¯¼è‡´çš„ï¼Œå°†gccæœ€æ–°ç‰ˆæœ¬çš„åŠ¨æ€åº“æ›¿æ¢ç³»ç»Ÿä¸­è€ç‰ˆæœ¬çš„åŠ¨æ€åº“å³å¯è§£å†³ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ£€æŸ¥åŠ¨æ€åº“ï¼š &lt;code&gt;strings /lib64/libstdc++.so.6 | grep GLIBC&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯è¾“å‡ºç»“æœï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBCXX_3.4
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBCXX_3.4.1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBCXX_3.4.2
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBCXX_3.4.3
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBCXX_3.4.4
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBCXX_3.4.5
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBCXX_3.4.6
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBCXX_3.4.7
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBCXX_3.4.8
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBCXX_3.4.9
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBCXX_3.4.10
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBCXX_3.4.11
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBCXX_3.4.12
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBCXX_3.4.13
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBCXX_3.4.14
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBCXX_3.4.15
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBCXX_3.4.16
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBCXX_3.4.17
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBCXX_3.4.18
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBCXX_3.4.19
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBC_2.3
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBC_2.2.5
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBC_2.14
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBC_2.4
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBC_2.3.2
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GLIBCXX_DEBUG_MESSAGE_LENGTH
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»è¾“å‡ºç»“æœå¯ä»¥çœ‹åˆ°å¹¶æ²¡æœ‰&lt;code&gt;GLIBCXX_3.4.21&lt;/code&gt;,æ‰€ä»¥å¯ä»¥æ–­å®šæˆ‘ä»¬çš„ç¨‹åºè¿è¡Œæ—¶åŠ¨æ€åŠ è½½çš„æ˜¯è€çš„åŠ¨æ€åº“ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜éœ€è¦å°†å½“å‰é“¾æ¥æ–‡ä»¶çš„é“¾æ¥æŒ‡å‘æ”¹æˆæœ€æ–°çš„åŠ¨æ€åº“åœ°å€ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cp /usr/local/lib64/libstdc++.so.6.0.21 /lib64
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd /lib64
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rm -rf libstdc++.so.6
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ln -s libstdc++.so.6.0.21 libstdc++.so.6
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åä½ å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹&lt;code&gt;GLIBCXX_3.4.21&lt;/code&gt;å·²ç»å¯ä»¥æ‰¾åˆ°äº†:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;strings /lib64/libstdc++.so.6 | grep GLIBC
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£å†³äº†è¿™ä¸ªé—®é¢˜ç»ˆäºå¯ä»¥æ‰§è¡Œç¨‹åºäº†ï¼Œç„¶ååˆæµ‹è¯•äº†&lt;code&gt;-g&lt;/code&gt;é€‰é¡¹æ¥ç¼–è¯‘ç¨‹åºï¼Œç¼–è¯‘å¥½ç¨‹åºè°ƒè¯•ç¨‹åºæ—¶å¹¶ä¸èƒ½å¤Ÿè®¾ç½®æ–­ç‚¹ä»¥åŠprintå˜é‡çš„å€¼ï¼Œgdbè°ƒè¯•ä¸­å‡ºç°ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Missing separate debuginfos, use: debuginfo-install glibc-2.17-106.e17\_2.6.x86\_4 libgcc-4.8.5-4.e17.x86_64&lt;/code&gt; çš„é—®é¢˜ï¼Œé€šè¿‡ä¸Šç½‘æŸ¥é˜…èµ„æ–™ï¼Œæ˜¯å› ä¸ºgccç‰ˆæœ¬å’Œgdbç‰ˆæœ¬å¹¶ä¸åŒ¹é…ï¼Œæˆ–è€…è¯´gdbç‰ˆæœ¬è¿‡ä½&lt;/p&gt;
&lt;h2 id=&#34;ç¼–è¯‘å®‰è£…gdb-7111&#34;&gt;ç¼–è¯‘å®‰è£…gdb-7.11.1&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;http://ftp.gnu.org/gnu/gdb/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;gdbä¸‹è½½åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tar -xvf gdb-7.11.1.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd gdb-7.11.1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./configure
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;make
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;make install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å½“æ‰§è¡Œ &lt;code&gt;make install&lt;/code&gt; æ—¶gdbå®‰è£…å‡ºç°äº†é”™è¯¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;WARNING: &#39;makeinfo&#39; is missing on your sysem&lt;/code&gt;ï¼Œ&lt;/p&gt;
&lt;p&gt;åˆ™éœ€å®‰è£…ç›¸å…³ä¾èµ–ç¨‹åº:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;yum install texinfo libncurses5-dev
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœè°ƒè¯•ç¨‹åºæ—¶å‡ºç°ä¸‹é¢ä¿¡æ¯æ—¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;warning: File &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/usr/local/lib64/libstdc++.so.6.0.21-gdb.py&amp;#34;&lt;/span&gt; auto-loading has been declined by your &lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;auto-load safe-path&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#39;&lt;/span&gt; set to &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;$debugdir&lt;span style=&#34;color:#e6db74&#34;&gt;:&lt;/span&gt;$datadir&lt;span style=&#34;color:#e6db74&#34;&gt;/auto-load&amp;#34;&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;To enable execution of this file add
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    add-auto-load-safe-path /usr/local/lib64/libstdc++.so.6.0.21-gdb.py
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;line to your configuration file &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/root/.gdbinit&amp;#34;&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;To completely disable this security protection add
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    set auto-load safe-path /
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;line to your configuration file &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/root/.gdbinit&amp;#34;&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£å†³æ–¹æ³•: å°†ä»¥ä¸‹ä¿¡æ¯æ”¾å…¥&lt;code&gt;~/.gdbinit&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;add-auto-load-safe-path /usr/local/lib64/libstdc++.so.6.0.21-gdb.py
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;set auto-load safe-path /
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è‹¥æƒ³é€šè¿‡gdbæ¥è°ƒè¯•STLå®¹å™¨ï¼Œåˆ™è¿˜éœ€è¦åšä¸€äº›é…ç½®ï¼Œå¯ä»¥é€šè¿‡&lt;code&gt;GDB Python pretty printers&lt;/code&gt;æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;svn checkout svn://gcc.gnu.org/svn/gcc/trunk/libstdc++-v3/python stlPrettyPrinter
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mv stlPrettyPrinter /usr/local
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå°†ä¸‹é¢çš„é…ç½®ä¿¡æ¯æ”¾å…¥&lt;code&gt;~/.gdbinit&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;python
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;import sys
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sys.path.insert&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;0, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/usr/local/stlPrettyPrinter&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;from libstdcxx.v6.printers import register_libstdcxx_printers
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;register_libstdcxx_printers &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;None&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;end
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>ffmpeg è§†éŸ³é¢‘åŒæ­¥</title>
        <link>https://lxb.wiki/aeb01c06/</link>
        <pubDate>Tue, 27 Mar 2018 14:41:52 +0000</pubDate>
        
        <guid>https://lxb.wiki/aeb01c06/</guid>
        <description>&lt;p&gt;åŸæ–‡åœ°å€: &lt;a class=&#34;link&#34; href=&#34;https://blog.csdn.net/nonmarking/article/details/50522413&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://blog.csdn.net/nonmarking/article/details/50522413&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºç›´æ’­æµæ¥è¯´, åªè€ƒè™‘å‘é€ç«¯çš„åŒæ­¥é—®é¢˜, åŸç†å¦‚ä¸‹: 1. è§£æè§†éŸ³é¢‘, è®²è§†é¢‘æµå’ŒéŸ³é¢‘æµçš„æ—¶é—´æˆ³ç”¨åŒæ ·çš„æ—¶é—´åŸºå‡†è¡¨ç¤º 2. æ¯”è¾ƒè½¬æ¢åçš„ä¸¤ä¸ªæ—¶é—´æˆ³, æ‰¾å‡ºè¾ƒå°å€¼, å¯¹åº”å‘é€åæ…¢çš„æµ 3. è¯»å–, è½¬ç , å‘é€ç›¸åº”çš„æµ, åŒæ—¶, è‹¥è¯¥æµçš„è½¬ç æ—¶é—´å¾ˆå¿«, è¶…å‰äºwall clock, åˆ™è¿˜éœ€è¦è¿›è¡Œç›¸åº”çš„å»¶æ—¶ 4. é‡å¤ä»¥ä¸Šè¿‡ç¨‹&lt;/p&gt;
&lt;p&gt;ä¸‹æ–‡åŒ…æ‹¬ä¸¤éƒ¨åˆ†, ä¸€æ˜¯éŸ³é¢‘è½¬ç éƒ¨åˆ†, äºŒæ˜¯è§†éŸ³é¢‘åŒæ­¥&lt;/p&gt;
&lt;h6 id=&#34;éŸ³é¢‘è½¬ç åŸºæœ¬æµç¨‹&#34;&gt;éŸ³é¢‘è½¬ç åŸºæœ¬æµç¨‹&lt;/h6&gt;
&lt;p&gt;é¦–å…ˆæ˜¯ä¸€äº›éŸ³é¢‘è¾“å…¥è¾“å‡ºçš„åŸºæœ¬è®¾ç½®&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//Set own audio device&#39;s name
    if (avformat_open_input(&amp;amp;ifmt_ctx_a, device_name_a, ifmt, &amp;amp;device_param) != 0){

        printf(&amp;quot;Couldn&#39;t open input audio stream.ï¼ˆæ— æ³•æ‰“å¼€è¾“å…¥æµï¼‰\n&amp;quot;);
        return -1;
    }
â€¦â€¦
//input audio initialize
    if (avformat_find_stream_info(ifmt_ctx_a, NULL) &amp;lt; 0)
    {
        printf(&amp;quot;Couldn&#39;t find audio stream information.ï¼ˆæ— æ³•è·å–æµä¿¡æ¯ï¼‰\n&amp;quot;);
        return -1;
    }
    audioindex = -1;
    for (i = 0; i &amp;lt; ifmt_ctx_a-&amp;gt;nb_streams; i++)
    if (ifmt_ctx_a-&amp;gt;streams[i]-&amp;gt;codec-&amp;gt;codec_type == AVMEDIA_TYPE_AUDIO)
    {
        audioindex = i;
        break;
    }
    if (audioindex == -1)
    {
        printf(&amp;quot;Couldn&#39;t find a audio stream.ï¼ˆæ²¡æœ‰æ‰¾åˆ°è§†é¢‘æµï¼‰\n&amp;quot;);
        return -1;
    }
    if (avcodec_open2(ifmt_ctx_a-&amp;gt;streams[audioindex]-&amp;gt;codec, avcodec_find_decoder(ifmt_ctx_a-&amp;gt;streams[audioindex]-&amp;gt;codec-&amp;gt;codec_id), NULL) &amp;lt; 0)
    {
        printf(&amp;quot;Could not open audio codec.ï¼ˆæ— æ³•æ‰“å¼€è§£ç å™¨ï¼‰\n&amp;quot;);
        return -1;
    }
â€¦â€¦
 //output audio encoder initialize
    pCodec_a = avcodec_find_encoder(AV_CODEC_ID_AAC);
    if (!pCodec_a){
        printf(&amp;quot;Can not find output audio encoder! (æ²¡æœ‰æ‰¾åˆ°åˆé€‚çš„ç¼–ç å™¨ï¼)\n&amp;quot;);
        return -1;
    }
    pCodecCtx_a = avcodec_alloc_context3(pCodec_a);
    pCodecCtx_a-&amp;gt;channels = 2;
    pCodecCtx_a-&amp;gt;channel_layout = av_get_default_channel_layout(2);
    pCodecCtx_a-&amp;gt;sample_rate = ifmt_ctx_a-&amp;gt;streams[audioindex]-&amp;gt;codec-&amp;gt;sample_rate;
    pCodecCtx_a-&amp;gt;sample_fmt = pCodec_a-&amp;gt;sample_fmts[0];
    pCodecCtx_a-&amp;gt;bit_rate = 32000;
    pCodecCtx_a-&amp;gt;time_base.num = 1;
    pCodecCtx_a-&amp;gt;time_base.den = pCodecCtx_a-&amp;gt;sample_rate;
    /** Allow the use of the experimental AAC encoder */
    pCodecCtx_a-&amp;gt;strict_std_compliance = FF_COMPLIANCE_EXPERIMENTAL;
    /* Some formats want stream headers to be separate. */
    if (ofmt_ctx-&amp;gt;oformat-&amp;gt;flags &amp;amp; AVFMT_GLOBALHEADER)
        pCodecCtx_a-&amp;gt;flags |= CODEC_FLAG_GLOBAL_HEADER;
    if (avcodec_open2(pCodecCtx_a, pCodec_a, NULL) &amp;lt; 0){
        printf(&amp;quot;Failed to open ouput audio encoder! (ç¼–ç å™¨æ‰“å¼€å¤±è´¥ï¼)\n&amp;quot;);
        return -1;
    }

    //Add a new stream to output,should be called by the user before avformat_write_header() for muxing
    audio_st = avformat_new_stream(ofmt_ctx, pCodec_a);
    if (audio_st == NULL){
        return -1;
    }
    audio_st-&amp;gt;time_base.num = 1;
    audio_st-&amp;gt;time_base.den = pCodecCtx_a-&amp;gt;sample_rate;
    audio_st-&amp;gt;codec = pCodecCtx_a;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ¥ä¸‹æ¥, è€ƒè™‘åˆ°è¾“å…¥éŸ³é¢‘çš„sample format å¯èƒ½éœ€è¦è¿›è¡Œè½¬æ¢, éœ€è¦ç”¨åˆ°swresampleåº“çš„åŠŸèƒ½ å…ˆåšå¥½ç›¸åº”çš„åˆå§‹åŒ–&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// Initialize the resampler to be able to convert audio sample formats
    aud_convert_ctx = swr_alloc_set_opts(NULL,
        av_get_default_channel_layout(pCodecCtx_a-&amp;gt;channels),
        pCodecCtx_a-&amp;gt;sample_fmt,
        pCodecCtx_a-&amp;gt;sample_rate,
        av_get_default_channel_layout(ifmt_ctx_a-&amp;gt;streams[audioindex]-&amp;gt;codec-&amp;gt;channels),
        ifmt_ctx_a-&amp;gt;streams[audioindex]-&amp;gt;codec-&amp;gt;sample_fmt,
        ifmt_ctx_a-&amp;gt;streams[audioindex]-&amp;gt;codec-&amp;gt;sample_rate,
        0, NULL);
swr_init(aud_convert_ctx);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ­¤å¤–, å‚ç…§transcode_aac.cçš„åšæ³•, ä½¿ç”¨FIFO bufferå­˜å‚¨ä»è¾“å…¥ç«¯è§£ç å¾—åˆ°çš„éŸ³é¢‘é‡‡æ ·æ•°æ®, è¿™äº›æ•°æ®åœ¨åç»­å°†è½¬æ¢sample formatå¹¶è¿›è¡Œç¼–ç , ç”±æ­¤å³å®Œæˆäº†ä¸€ä¸ªéŸ³é¢‘è½¬ç åŠŸ.&lt;/p&gt;
&lt;p&gt;æ­¤å¤–, è¿˜éœ€è¦å¦å¤–çš„ä¸€ä¸ªbufferæ¥å­˜å‚¨è½¬æ¢åˆé€‚ä¹‹åçš„éŸ³é¢‘æ•°æ®&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//Initialize the FIFO buffer to store audio samples to be encoded. 
    AVAudioFifo *fifo = NULL;
    fifo = av_audio_fifo_alloc(pCodecCtx_a-&amp;gt;sample_fmt, pCodecCtx_a-&amp;gt;channels, 1);

    //Initialize the buffer to store converted samples to be encoded.
    uint8_t **converted_input_samples = NULL;
    /**
    * Allocate as many pointers as there are audio channels.
    * Each pointer will later point to the audio samples of the corresponding
    * channels (although it may be NULL for interleaved formats).
    */
    if (!(converted_input_samples = (uint8_t**)calloc(pCodecCtx_a-&amp;gt;channels,
        sizeof(**converted_input_samples)))) {
        printf(&amp;quot;Could not allocate converted input sample pointers\n&amp;quot;);
        return AVERROR(ENOMEM);
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è‡³æ­¤, ä¸€äº›åŸºæœ¬çš„åˆå§‹åŒ–å·¥ä½œå®Œæˆ.&lt;/p&gt;
&lt;p&gt;éŸ³é¢‘è®¡ç®—ptsçš„æ–¹æ³•å’Œè§†é¢‘ç±»ä¼¼. å³å…ˆé€šè¿‡sample rateç®—å‡ºæ¯ä¸¤ä¸ªéŸ³é¢‘sampleä¹‹é—´çš„æ—¶é—´é—´éš”, å†é€šè¿‡è®¡æ•°å½“å‰å·²ç¼–ç çš„éŸ³é¢‘sampleæ€»æ•°(nb_sampleså˜é‡çš„ä½œç”¨) æ¥ç®—å‡ºå½“å‰ç¼–ç éŸ³é¢‘å¸§çš„æ—¶é—´æˆ³. å¦‚æœå’Œè§†é¢‘çš„æµç¨‹åšç±»æ¯”, å¤§æ¦‚ä¸º: framerate ç›¸å½“äºsample rate, framecntç›¸å½“äºnb_samples.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//audio trancoding here
        const int output_frame_size = pCodecCtx_a-&amp;gt;frame_size;

        /**
        * Make sure that there is one frame worth of samples in the FIFO
        * buffer so that the encoder can do its work.
        * Since the decoder&#39;s and the encoder&#39;s frame size may differ, we
        * need to FIFO buffer to store as many frames worth of input samples
        * that they make up at least one frame worth of output samples.
        */
        while (av_audio_fifo_size(fifo) &amp;lt; output_frame_size) {
            /**
            * Decode one frame worth of audio samples, convert it to the
            * output sample format and put it into the FIFO buffer.
            */
            AVFrame *input_frame = av_frame_alloc();
            if (!input_frame)
            {
                ret = AVERROR(ENOMEM);
                return ret;
            }           

            /** Decode one frame worth of audio samples. */
            /** Packet used for temporary storage. */
            AVPacket input_packet;
            av_init_packet(&amp;amp;input_packet);
            input_packet.data = NULL;
            input_packet.size = 0;

            /** Read one audio frame from the input file into a temporary packet. */
            if ((ret = av_read_frame(ifmt_ctx_a, &amp;amp;input_packet)) &amp;lt; 0) {
                /** If we are at the end of the file, flush the decoder below. */
                if (ret == AVERROR_EOF)
                {
                    encode_audio = 0;
                }
                else
                {
                    printf(&amp;quot;Could not read audio frame\n&amp;quot;);
                    return ret;
                }                   
            }

            /**
            * Decode the audio frame stored in the temporary packet.
            * The input audio stream decoder is used to do this.
            * If we are at the end of the file, pass an empty packet to the decoder
            * to flush it.
            */
            if ((ret = avcodec_decode_audio4(ifmt_ctx_a-&amp;gt;streams[audioindex]-&amp;gt;codec, input_frame,
                &amp;amp;dec_got_frame_a, &amp;amp;input_packet)) &amp;lt; 0) {
                printf(&amp;quot;Could not decode audio frame\n&amp;quot;);
                return ret;
            }
            av_packet_unref(&amp;amp;input_packet);
            /** If there is decoded data, convert and store it */
            if (dec_got_frame_a) {
                /**
                * Allocate memory for the samples of all channels in one consecutive
                * block for convenience.
                */
                if ((ret = av_samples_alloc(converted_input_samples, NULL,
                    pCodecCtx_a-&amp;gt;channels,
                    input_frame-&amp;gt;nb_samples,
                    pCodecCtx_a-&amp;gt;sample_fmt, 0)) &amp;lt; 0) {
                    printf(&amp;quot;Could not allocate converted input samples\n&amp;quot;);
                    av_freep(&amp;amp;(*converted_input_samples)[0]);
                    free(*converted_input_samples);
                    return ret;
                }

                /**
                * Convert the input samples to the desired output sample format.
                * This requires a temporary storage provided by converted_input_samples.
                */
                /** Convert the samples using the resampler. */
                if ((ret = swr_convert(aud_convert_ctx,
                    converted_input_samples, input_frame-&amp;gt;nb_samples,
                    (const uint8_t**)input_frame-&amp;gt;extended_data, input_frame-&amp;gt;nb_samples)) &amp;lt; 0) {
                    printf(&amp;quot;Could not convert input samples\n&amp;quot;);
                    return ret;
                }

                /** Add the converted input samples to the FIFO buffer for later processing. */
                /**
                * Make the FIFO as large as it needs to be to hold both,
                * the old and the new samples.
                */
                if ((ret = av_audio_fifo_realloc(fifo, av_audio_fifo_size(fifo) + input_frame-&amp;gt;nb_samples)) &amp;lt; 0) {
                    printf(&amp;quot;Could not reallocate FIFO\n&amp;quot;);
                    return ret;
                }

                /** Store the new samples in the FIFO buffer. */
                if (av_audio_fifo_write(fifo, (void **)converted_input_samples,
                    input_frame-&amp;gt;nb_samples) &amp;lt; input_frame-&amp;gt;nb_samples) {
                    printf(&amp;quot;Could not write data to FIFO\n&amp;quot;);
                    return AVERROR_EXIT;
                }               
            }
        }

        /**
        * If we have enough samples for the encoder, we encode them.
        * At the end of the file, we pass the remaining samples to
        * the encoder.
        */
        if (av_audio_fifo_size(fifo) &amp;gt;= output_frame_size)
            /**
            * Take one frame worth of audio samples from the FIFO buffer,
            * encode it and write it to the output file.
            */
        {
            /** Temporary storage of the output samples of the frame written to the file. */
            AVFrame *output_frame=av_frame_alloc();
            if (!output_frame)
            {
                ret = AVERROR(ENOMEM);
                return ret;
            }
            /**
            * Use the maximum number of possible samples per frame.
            * If there is less than the maximum possible frame size in the FIFO
            * buffer use this number. Otherwise, use the maximum possible frame size
            */
            const int frame_size = FFMIN(av_audio_fifo_size(fifo),
                pCodecCtx_a-&amp;gt;frame_size);

            /** Initialize temporary storage for one output frame. */
            /**
            * Set the frame&#39;s parameters, especially its size and format.
            * av_frame_get_buffer needs this to allocate memory for the
            * audio samples of the frame.
            * Default channel layouts based on the number of channels
            * are assumed for simplicity.
            */
            output_frame-&amp;gt;nb_samples = frame_size;
            output_frame-&amp;gt;channel_layout = pCodecCtx_a-&amp;gt;channel_layout;
            output_frame-&amp;gt;format = pCodecCtx_a-&amp;gt;sample_fmt;
            output_frame-&amp;gt;sample_rate = pCodecCtx_a-&amp;gt;sample_rate;

            /**
            * Allocate the samples of the created frame. This call will make
            * sure that the audio frame can hold as many samples as specified.
            */
            if ((ret = av_frame_get_buffer(output_frame, 0)) &amp;lt; 0) {
                printf(&amp;quot;Could not allocate output frame samples\n&amp;quot;);
                av_frame_free(&amp;amp;output_frame);
                return ret;
            }

            /**
            * Read as many samples from the FIFO buffer as required to fill the frame.
            * The samples are stored in the frame temporarily.
            */
            if (av_audio_fifo_read(fifo, (void **)output_frame-&amp;gt;data, frame_size) &amp;lt; frame_size) {
                printf(&amp;quot;Could not read data from FIFO\n&amp;quot;);
                return AVERROR_EXIT;
            }

            /** Encode one frame worth of audio samples. */
            /** Packet used for temporary storage. */
            AVPacket output_packet;
            av_init_packet(&amp;amp;output_packet);
            output_packet.data = NULL;
            output_packet.size = 0;

            /** Set a timestamp based on the sample rate for the container. */
            if (output_frame) {
                nb_samples += output_frame-&amp;gt;nb_samples;
            }

            /**
            * Encode the audio frame and store it in the temporary packet.
            * The output audio stream encoder is used to do this.
            */
            if ((ret = avcodec_encode_audio2(pCodecCtx_a, &amp;amp;output_packet,
                output_frame, &amp;amp;enc_got_frame_a)) &amp;lt; 0) {
                printf(&amp;quot;Could not encode frame\n&amp;quot;);
                av_packet_unref(&amp;amp;output_packet);
                return ret;
            }

            /** Write one audio frame from the temporary packet to the output file. */
            if (enc_got_frame_a) {

                output_packet.stream_index = 1;

                AVRational time_base = ofmt_ctx-&amp;gt;streams[1]-&amp;gt;time_base;
                AVRational r_framerate1 = { ifmt_ctx_a-&amp;gt;streams[audioindex]-&amp;gt;codec-&amp;gt;sample_rate, 1 };// { 44100, 1};  
                int64_t calc_duration = (double)(AV_TIME_BASE)*(1 / av_q2d(r_framerate1));  //å†…éƒ¨æ—¶é—´æˆ³  

                output_packet.pts = av_rescale_q(nb_samples*calc_duration, time_base_q, time_base);
                output_packet.dts = output_packet.pts;
                output_packet.duration = output_frame-&amp;gt;nb_samples;

                //printf(&amp;quot;audio pts : %d\n&amp;quot;, output_packet.pts);
                aud_next_pts = nb_samples*calc_duration;

                int64_t pts_time = av_rescale_q(output_packet.pts, time_base, time_base_q);
                int64_t now_time = av_gettime() - start_time;

                if ((pts_time &amp;gt; now_time) &amp;amp;&amp;amp; ((aud_next_pts + pts_time - now_time)&amp;lt;vid_next_pts))
                    av_usleep(pts_time - now_time);

                if ((ret = av_interleaved_write_frame(ofmt_ctx, &amp;amp;output_packet)) &amp;lt; 0) {
                    printf(&amp;quot;Could not write frame\n&amp;quot;);
                    av_packet_unref(&amp;amp;output_packet);
                    return ret;
                }

                av_packet_unref(&amp;amp;output_packet);
            }           
            av_frame_free(&amp;amp;output_frame);       
        }     
&lt;/code&gt;&lt;/pre&gt;
&lt;h6 id=&#34;è§†éŸ³é¢‘åŒæ­¥&#34;&gt;è§†éŸ³é¢‘åŒæ­¥&lt;/h6&gt;
&lt;p&gt;é¦–å…ˆå®šä¹‰å‡ ä¸ªå˜é‡&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    int aud_next_pts = 0;//è§†é¢‘æµç›®å‰çš„pts,å¯ä»¥ç†è§£ä¸ºç›®å‰çš„è¿›åº¦
    int vid_next_pts = 0;//éŸ³é¢‘æµç›®å‰çš„pts
    int encode_video = 1, encode_audio = 1;//æ˜¯å¦è¦ç¼–ç è§†é¢‘ã€éŸ³é¢‘
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åˆ™ç›¸åº”çš„è§†éŸ³é¢‘åŒæ­¥æ–¹æ³•å¦‚ä¸‹: 1. ç¡®å®šè§†é¢‘, éŸ³é¢‘äºŒè€…ä¸­è‡³å°‘æœ‰ä¸€ä¸ªæ˜¯éœ€è¦è¿›è¡Œè½¬ç çš„ 2. æ¯”è¾ƒä¸¤ä¸ªæµçš„è¿›åº¦, ä½¿ç”¨av_compare_tså‡½æ•°, æ³¨æ„ï¼šæ­¤æ—¶çš„vid_next_ptså’Œaud_next_ptsçš„time baseéƒ½æ˜¯ffmpegå†…éƒ¨åŸºå‡†ï¼Œå³&lt;code&gt;AVRational time_base_q = { 1, AV_TIME_BASE };&lt;/code&gt; 3. å¯¹è¿›åº¦è½åçš„æµè¿›è¡Œè½¬ç , å¹¶ç›¸åº”åœ°å¯¹è¿›åº¦è¿›è¡Œæ›´æ–°. å¯¹äºè§†é¢‘ï¼Œæœ‰ vid_next_pts=framecnt_calc_duration;ï¼Œå¯¹äºéŸ³é¢‘ï¼Œæœ‰ aud_next_pts = nb_samples_calc_duration;è¿™é‡Œframecntå’Œnb_sampleséƒ½ç›¸å½“äºè®¡æ•°å™¨ï¼Œè€Œcalc_durationæ˜¯å¯¹åº”æµæ¯ä¸¤ä¸ªframeæˆ–sampleä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œä¹Ÿæ˜¯ä»¥ffmpegå†…éƒ¨æ—¶é—´åŸºå‡†ä¸ºå•ä½çš„ 4. è‹¥è½¬ç è¿›åº¦å¾ˆå¿«å®Œæˆ, åˆ™ä¸èƒ½æ€¥äºå†™å…¥è¾“å‡ºæµ, è€Œæ˜¯éœ€è¦å…ˆè¿›è¡Œå»¶æ—¶, ä½†æ˜¯ä¹Ÿè¦ä¿è¯å»¶æ—¶åçš„æ—¶é—´ä¸ä¼šè¶…è¿‡å¦ä¸€ä¸ªæµçš„è¿›åº¦&lt;/p&gt;
&lt;p&gt;ç»¼ä¸Š, æµç¨‹å¦‚ä¸‹:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; //start decode and encode
    int64_t start_time = av_gettime();
    while (encode_video || encode_audio)
    {
        if (encode_video &amp;amp;&amp;amp;
            (!encode_audio || av_compare_ts(vid_next_pts, time_base_q,
            aud_next_pts, time_base_q) &amp;lt;= 0))
        {
              è¿›è¡Œè§†é¢‘è½¬ç ï¼›
              è½¬ç å®Œæˆåï¼›
              vid_next_pts=framecnt*calc_duration; //general timebase

                        //Delay
                        int64_t pts_time = av_rescale_q(enc_pkt.pts, time_base, time_base_q);
                        int64_t now_time = av_gettime() - start_time;                       
                        if ((pts_time &amp;gt; now_time) &amp;amp;&amp;amp; ((vid_next_pts + pts_time - now_time)&amp;lt;aud_next_pts))
                            av_usleep(pts_time - now_time);
              å†™å…¥æµï¼›
}
else
{
              è¿›è¡ŒéŸ³é¢‘è½¬ç ï¼›
              è½¬ç å®Œæˆåï¼›
          aud_next_pts = nb_samples*calc_duration;

                int64_t pts_time = av_rescale_q(output_packet.pts, time_base, time_base_q);
                int64_t now_time = av_gettime() - start_time;
                if ((pts_time &amp;gt; now_time) &amp;amp;&amp;amp; ((aud_next_pts + pts_time - now_time)&amp;lt;vid_next_pts))
                    av_usleep(pts_time - now_time);
              å†™å…¥æµï¼›
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è‡³æ­¤, è§†éŸ³é¢‘åŒæ­¥å®Œæˆ. æœ€åå†å®Œæˆä¸€äº›flush_encoderçš„å·¥ä½œå³å¯.&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ffmpeg æ¨æµæŠ¥é”™</title>
        <link>https://lxb.wiki/eaddfbfe/</link>
        <pubDate>Tue, 27 Mar 2018 14:39:47 +0000</pubDate>
        
        <guid>https://lxb.wiki/eaddfbfe/</guid>
        <description>&lt;p&gt;åœ¨ä½¿ç”¨dshowè®¾å¤‡æ¨æµæ—¶ï¼Œç»å¸¸ä¼šæŠ¥å‡ºreal time buffer too full dropping framesçš„é”™è¯¯ä¿¡æ¯ï¼Œå…¶åŸå› åœ¨&lt;a class=&#34;link&#34; href=&#34;https://trac.ffmpeg.org/wiki/DirectShow&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è¿™ç¯‡æ–‡ç« &lt;/a&gt;é‡Œæœ‰å†™åˆ°ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ rtbufsizeå‚æ•°æ¥è§£å†³ï¼Œç ç‡è¶Šé«˜å¯¹åº”çš„rtbufsizeå°±éœ€è¦è¶Šé«˜ï¼Œä½†è¿‡é«˜çš„rtbufsizeä¼šå¸¦æ¥è§†é¢‘çš„å»¶æ—¶ï¼Œè‹¥è¦ä¿æŒåŒæ­¥ï¼Œå¯èƒ½å°±éœ€è¦å¯¹éŸ³é¢‘äººä¸ºå¢åŠ ä¸€å®šçš„å»¶æ—¶ã€‚è€Œæ ¹æ®æˆ‘çš„æµ‹è¯•ï¼Œå³ä½¿ä¸æ·»åŠ rtbufszieå‚æ•°ï¼Œè™½ç„¶ä¼šæŠ¥å‡ºé”™è¯¯ä¿¡æ¯ï¼Œä½†å¹¶ä¸å½±å“ç›´æ’­æµçš„è§‚çœ‹æˆ–å½•åˆ¶ï¼Œè€Œä¸”å¯ä»¥ä¿æŒåŒæ­¥ã€‚è¿™å°±æ˜¯ä¸€ä¸ªtrade offçš„é—®é¢˜äº†ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>protocol buffer</title>
        <link>https://lxb.wiki/66065582/</link>
        <pubDate>Wed, 21 Mar 2018 17:47:31 +0000</pubDate>
        
        <guid>https://lxb.wiki/66065582/</guid>
        <description>&lt;h5 id=&#34;developer-guide&#34;&gt;Developer Guide&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;.proto&lt;/code&gt; æ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-protobuf&#34; data-lang=&#34;protobuf&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;message&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Person&lt;/span&gt; {&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;required&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; name &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;required&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int32&lt;/span&gt; id &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;optional&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; email &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;enum&lt;/span&gt; PhoneType {&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;    MOBILE &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;    HOME &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;    WORK &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  }&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;message&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;PhoneNumber&lt;/span&gt; {&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;required&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; number &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;optional&lt;/span&gt; PhoneType type &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; [&lt;span style=&#34;color:#66d9ef&#34;&gt;default&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; HOME];&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  }&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;repeated&lt;/span&gt; PhoneNumber phone &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;}&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Once you&amp;rsquo;ve defined your messages, you run the protocol buffer compiler for your application&amp;rsquo;s language on your .proto file to generate data access classes. These provide simple accessors for each field (like name() and set_name()) as well as methods to serialize/parse the whole structure to/from raw bytes&lt;/p&gt;
&lt;p&gt;You can add new fields to your message formats without breaking backwards-compatibility; old binaries simply ignore the new field when parsing. So if you have a communications protocol that uses protocol buffers as its data format, you can extend your protocol without having to worry about breaking existing code.&lt;/p&gt;
&lt;h5 id=&#34;language-guide&#34;&gt;Language Guide&lt;/h5&gt;
&lt;h6 id=&#34;defining-a-message-type&#34;&gt;Defining A Message Type&lt;/h6&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-protobuf&#34; data-lang=&#34;protobuf&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;syntax &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;proto3&amp;#34;&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;// First non-empty; first non-comment line
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;message&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;SearchRequest&lt;/span&gt; {&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; query &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;// unique numbered tag
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;int32&lt;/span&gt; page_number &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;int32&lt;/span&gt; result_per_page &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;}&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;specifying-field-types&#34;&gt;Specifying Field Types&lt;/h6&gt;
&lt;h6 id=&#34;assigning-tags&#34;&gt;Assigning Tags&lt;/h6&gt;
&lt;p&gt;1-15 one byte 16-2047 two bytes you should reserve the tags 1 through 15 for very frequently occurring message elements. Remember to leave some room for frequently occurring elements that might be added in the future.&lt;/p&gt;
&lt;p&gt;range: 1 to 536,870,911 You also cannot use the numbers 19000 through 19999 (FieldDescriptor::kFirstReservedNumber through FieldDescriptor::kLastReservedNumber)&lt;/p&gt;
&lt;h6 id=&#34;specifying-field-rules&#34;&gt;Specifying Field Rules&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;singular zero or one of this field&lt;/li&gt;
&lt;li&gt;repeated any number of times&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;adding-more-message-types&#34;&gt;Adding More Message Types&lt;/h6&gt;
&lt;h6 id=&#34;reserved-fields&#34;&gt;Reserved Fields&lt;/h6&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-protobuf&#34; data-lang=&#34;protobuf&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;message&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Foo&lt;/span&gt; {&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  reserved &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  reserved &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;foo&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;bar&amp;#34;&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;}&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Note that you can&amp;rsquo;t mix field names and tag numbers in the same reserved statement.&lt;/p&gt;
&lt;h6 id=&#34;whats-generated-from-your-proto&#34;&gt;What&amp;rsquo;s Generated From Your .proto?&lt;/h6&gt;
&lt;h6 id=&#34;default-values&#34;&gt;Default Values&lt;/h6&gt;
&lt;p&gt;sigular: - string - byte - bool - numeric type - enum - message field&lt;/p&gt;
&lt;p&gt;repeated: - repeated filed&lt;/p&gt;
&lt;h6 id=&#34;enumerations&#34;&gt;Enumerations&lt;/h6&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-protobuf&#34; data-lang=&#34;protobuf&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;message&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;SearchRequest&lt;/span&gt; {&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; query &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;int32&lt;/span&gt; page_number &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;int32&lt;/span&gt; result_per_page &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;enum&lt;/span&gt; Corpus {&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;    UNIVERSAL &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;    WEB &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;    IMAGES &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;    LOCAL &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;    NEWS &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;    PRODUCTS &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;    VIDEO &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  }&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  Corpus corpus &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;}&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can define aliases by assigning the same value to different enum constants&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-protobuf&#34; data-lang=&#34;protobuf&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;enum&lt;/span&gt; EnumAllowingAlias {&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;option&lt;/span&gt; allow_alias &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  UNKNOWN &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  STARTED &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  RUNNING &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;}&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;enum&lt;/span&gt; EnumNotAllowingAlias {&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  UNKNOWN &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  STARTED &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;// RUNNING = 1;  // Uncommenting this line will cause a compile error inside Google and a warning message outside.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;reserved-values&#34;&gt;Reserved Values&lt;/h6&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-protobuf&#34; data-lang=&#34;protobuf&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;enum&lt;/span&gt; Foo {&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  reserved &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;40&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;max&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  reserved &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;FOO&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;BAR&amp;#34;&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;}&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Note that you can&amp;rsquo;t mix field names and numeric values in the same reserved statement.&lt;/p&gt;
&lt;h6 id=&#34;using-other-message-types&#34;&gt;Using Other Message Types&lt;/h6&gt;
&lt;p&gt;Define a message in the same &lt;code&gt;.proto&lt;/code&gt; file.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-protobuf&#34; data-lang=&#34;protobuf&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;message&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;SearchResponse&lt;/span&gt; {&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;repeated&lt;/span&gt; Result results &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;}&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;message&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Result&lt;/span&gt; {&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; url &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; title &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;repeated&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; snippets &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;}&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;importing-definitions&#34;&gt;Importing Definitions&lt;/h6&gt;
&lt;p&gt;By default you can only use definitions from directly imported .proto files. &lt;code&gt;import &amp;quot;myproject/other_protos.proto&amp;quot;;&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-protobuf&#34; data-lang=&#34;protobuf&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// new.proto
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// All definitions are moved here
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;======================================================&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// old.proto
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// This is the proto that all clients are importing.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; public &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;new.proto&amp;#34;&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;other.proto&amp;#34;&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;======================================================&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// client.proto
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;old.proto&amp;#34;&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// You use definitions from old.proto and new.proto, but not other.proto
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The protocol compiler searches for imported files in a set of directories specified on the protocol compiler command line using the -I/&amp;ndash;proto_path flag. If no flag was given, it looks in the directory in which the compiler was invoked. In general you should set the &amp;ndash;proto_path flag to the root of your project and use fully qualified names for all imports.&lt;/p&gt;
&lt;h6 id=&#34;using-proto2-message-types&#34;&gt;Using proto2 Message Types&lt;/h6&gt;
&lt;p&gt;It&amp;rsquo;s possible to import proto2 message types and use them in your proto3 messages, and vice versa. However, proto2 enums cannot be used directly in proto3 syntax (it&amp;rsquo;s okay if an imported proto2 message uses them).&lt;/p&gt;
&lt;h6 id=&#34;nested-types&#34;&gt;Nested Types&lt;/h6&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-protobuf&#34; data-lang=&#34;protobuf&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;message&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;SearchResponse&lt;/span&gt; {&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;message&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Result&lt;/span&gt; {&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; url &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; title &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;repeated&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; snippets &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  }&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;repeated&lt;/span&gt; Result results &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;}&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If you want to reuse this message type outside its parent message type, you refer to it as &lt;code&gt;Parent.Type&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-protobuf&#34; data-lang=&#34;protobuf&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;message&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;SomeOtherMessage&lt;/span&gt; {&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  SearchResponse.Result result &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;}&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can nest messages as deeply as you like&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-protobuf&#34; data-lang=&#34;protobuf&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;message&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Outer&lt;/span&gt; {                  &lt;span style=&#34;color:#75715e&#34;&gt;// Level 0
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;message&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MiddleAA&lt;/span&gt; {  &lt;span style=&#34;color:#75715e&#34;&gt;// Level 1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;message&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Inner&lt;/span&gt; {   &lt;span style=&#34;color:#75715e&#34;&gt;// Level 2
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;int64&lt;/span&gt; ival &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;  booly &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;    }&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  }&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;message&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MiddleBB&lt;/span&gt; {  &lt;span style=&#34;color:#75715e&#34;&gt;// Level 1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;message&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Inner&lt;/span&gt; {   &lt;span style=&#34;color:#75715e&#34;&gt;// Level 2
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;int32&lt;/span&gt; ival &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;  booly &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;    }&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  }&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;}&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;updating-a-message-type&#34;&gt;Updating A Message Type&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;Don&amp;rsquo;t change the numeric tags for any existing fields&lt;/li&gt;
&lt;li&gt;If you add new fields, any messages serialized by code using your &amp;ldquo;old&amp;rdquo; message format can still be parsed by your new generated code&lt;/li&gt;
&lt;li&gt;Fields can be removed, as long as the tag number is not used again in your updated message type
&lt;ul&gt;
&lt;li&gt;You may want to rename the field instead, perhaps adding the prefix &amp;ldquo;OBSOLETE_&amp;rdquo;, or make the tag reserved, so that future users of your .proto can&amp;rsquo;t accidentally reuse the number.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Compatibility
&lt;ul&gt;
&lt;li&gt;int32, uint32, int64, uint64, and bool are all compatible&lt;/li&gt;
&lt;li&gt;sint32 and sint64 are compatible with each other but are not compatible with the other integer types&lt;/li&gt;
&lt;li&gt;string and bytes are compatible as long as the bytes are valid UTF-8&lt;/li&gt;
&lt;li&gt;Embedded messages are compatible with bytes if the bytes contain an encoded version of the message&lt;/li&gt;
&lt;li&gt;fixed32 is compatible with sfixed32, and fixed64 with sfixed64&lt;/li&gt;
&lt;li&gt;enum is compatible with int32, uint32, int64, and uint64 in terms of wire format (note that values will be truncated if they don&amp;rsquo;t fit)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Moving any fields into an existing oneof is not safe&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;any&#34;&gt;Any&lt;/h6&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-protobuf&#34; data-lang=&#34;protobuf&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;google/protobuf/any.proto&amp;#34;&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;message&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ErrorStatus&lt;/span&gt; {&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;message&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;repeated&lt;/span&gt; google.protobuf.Any details &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;}&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;oneof&#34;&gt;Oneof&lt;/h6&gt;
&lt;p&gt;You can add fields of any type, but cannot use &lt;code&gt;repeated&lt;/code&gt; fields&lt;/p&gt;
&lt;p&gt;Features: - Setting a oneof field will automatically clear all other members of the oneof - If the parser encounters multiple members of the same oneof on the wire, only the last member seen is used in the parsed message - If you&amp;rsquo;re using C++, make sure your code doesn&amp;rsquo;t cause memory crashes - Again in C++, if you Swap() two messages with oneofs, each message will end up with the otherâ€™s oneof case&lt;/p&gt;
&lt;h6 id=&#34;maps&#34;&gt;Maps&lt;/h6&gt;
&lt;p&gt;&lt;code&gt;map&amp;lt;key_type, value_type&amp;gt; map_field = N&lt;/code&gt; The &lt;code&gt;key_type&lt;/code&gt; can be any integral or string type. The &lt;code&gt;value_type&lt;/code&gt; can be any type except another map.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Map fields cannot be &lt;code&gt;repeated&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Wire format ordering and map iteration ordering of map values is undefined&lt;/li&gt;
&lt;li&gt;When generating text format for a &lt;code&gt;.proto&lt;/code&gt;, maps are sorted by key&lt;/li&gt;
&lt;li&gt;When parsing from the wire or when merging, if there are duplicate map keys the last key seen is used. When parsing a map from text format, parsing may fail if there are duplicate keys&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;backwords compatibility:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-protobuf&#34; data-lang=&#34;protobuf&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;message&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MapFieldEntry&lt;/span&gt; {&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  key_type key &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;  value_type value &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;}&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;repeated&lt;/span&gt; MapFieldEntry map_field &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; N;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;packages&#34;&gt;Packages&lt;/h6&gt;
&lt;h6 id=&#34;json-mapping&#34;&gt;JSON Mapping&lt;/h6&gt;
</description>
        </item>
        <item>
        <title>qt çš„ pro æ–‡ä»¶</title>
        <link>https://lxb.wiki/8304997e/</link>
        <pubDate>Wed, 21 Mar 2018 09:49:25 +0000</pubDate>
        
        <guid>https://lxb.wiki/8304997e/</guid>
        <description>&lt;h4 id=&#34;æ³¨é‡Š&#34;&gt;æ³¨é‡Š&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;#&lt;/code&gt; è¿›è¡Œè¡Œæ³¨é‡Š&lt;/p&gt;
&lt;h4 id=&#34;æ¨¡æ¿&#34;&gt;æ¨¡æ¿&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;TEMPLATE = app&lt;/code&gt; å‘Šè¯‰&lt;code&gt;qmake&lt;/code&gt;ä¸ºè¿™ä¸ªåº”ç”¨ç¨‹åºç”Ÿæˆå“ªç§&lt;code&gt;makefile&lt;/code&gt;. - app é»˜è®¤å€¼. ç”Ÿæˆappçš„makefile - lib ç”Ÿæˆä¸€ä¸ªåº“çš„makefile - vcapp ç”Ÿæˆä¸€ä¸ªåº”ç”¨ç¨‹åºçš„&lt;code&gt;VisualStudio&lt;/code&gt;é¡¹ç›®æ–‡ä»¶ - vclib ç”Ÿæˆä¸€ä¸ªåº“çš„&lt;code&gt;VisualStudio&lt;/code&gt; é¡¹ç›®æ–‡ä»¶ - subdirs ç”Ÿæˆ&lt;code&gt;makefile&lt;/code&gt;æ–‡ä»¶ç¼–è¯‘&lt;code&gt;subdirs&lt;/code&gt;æŒ‡å®šçš„å­æ–‡ä»¶å¤¹&lt;/p&gt;
&lt;h4 id=&#34;åº”ç”¨ç¨‹åºç›®å½•&#34;&gt;åº”ç”¨ç¨‹åºç›®å½•&lt;/h4&gt;
&lt;p&gt;æŒ‡å®šç”Ÿæˆçš„åº”ç”¨ç¨‹åºæ”¾ç½®çš„ç›®å½• &lt;code&gt;DESTDIR += ../bin&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;é…ç½®ä¿¡æ¯&#34;&gt;é…ç½®ä¿¡æ¯&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;COFNIG&lt;/code&gt; ç”¨æ¥å‘Šè¯‰&lt;code&gt;qmake&lt;/code&gt; å…³äºåº”ç”¨ç¨‹åºçš„é…ç½®ä¿¡æ¯ &lt;code&gt;CONFIG += qt warn_on release&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;uiç›®å½•&#34;&gt;uiç›®å½•&lt;/h4&gt;
&lt;p&gt;æŒ‡å®šuicå‘½ä»¤å°†&lt;code&gt;.ui&lt;/code&gt;æ–‡ä»¶è½¬åŒ–æˆçš„&lt;code&gt;ui_*.h&lt;/code&gt;æ–‡ä»¶çš„å­˜æ”¾ç›®å½• &lt;code&gt;UI_DIR += forms&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;rccç›®å½•&#34;&gt;rccç›®å½•&lt;/h4&gt;
&lt;p&gt;æŒ‡å®šrccå‘½ä»¤å°†&lt;code&gt;.qrc&lt;/code&gt;æ–‡ä»¶è½¬æ¢æˆçš„&lt;code&gt;qrc_*.h&lt;/code&gt;æ–‡ä»¶çš„å­˜æ”¾ç›®å½• &lt;code&gt;RCC_DIR += ../tmp&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;mocç›®å½•&#34;&gt;mocç›®å½•&lt;/h4&gt;
&lt;p&gt;æŒ‡å®šmocå‘½ä»¤å°†&lt;strong&gt;å«Q_OBJECTçš„å¤´æ–‡ä»¶è½¬æ¢æˆæ ‡å‡†&lt;code&gt;.h&lt;/code&gt;æ–‡ä»¶çš„å­˜æ”¾ç›®å½•&lt;/strong&gt; &lt;code&gt;MOC_DIR += ../tmp&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;ç›®æ ‡æ–‡ä»¶ç›®å½•&#34;&gt;ç›®æ ‡æ–‡ä»¶ç›®å½•&lt;/h4&gt;
&lt;p&gt;æŒ‡å®šç›®æ ‡æ–‡ä»¶(obj)çš„å­˜æ”¾ç›®å½• &lt;code&gt;OBJECTS_DIR += ../tmp&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;ä¾èµ–ç›¸å…³è·¯å¾„&#34;&gt;ä¾èµ–ç›¸å…³è·¯å¾„&lt;/h4&gt;
&lt;p&gt;ç¨‹åºç¼–è¯‘æ—¶ä¾èµ–çš„ç›¸å…³è·¯å¾„ &lt;code&gt;DEPENDPATH += . forms include qrc sources&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;å¤´æ–‡ä»¶åŒ…å«è·¯å¾„&#34;&gt;å¤´æ–‡ä»¶åŒ…å«è·¯å¾„&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;INCLUDEPATH += .&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;qmakeæ—¶äº§ç”Ÿçš„ä¿¡æ¯&#34;&gt;qmakeæ—¶äº§ç”Ÿçš„ä¿¡æ¯&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;message($$(PATH))&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;æºæ–‡ä»¶ç¼–ç æ–¹å¼&#34;&gt;æºæ–‡ä»¶ç¼–ç æ–¹å¼&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;CODECFORSRC = GBK&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;å·¥ç¨‹ä¸­åŒ…å«çš„å¤´æ–‡ä»¶&#34;&gt;å·¥ç¨‹ä¸­åŒ…å«çš„å¤´æ–‡ä»¶&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;HEADERS += include/aa.h&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;å·¥ç¨‹ä¸­åŒ…å«çš„uiæ–‡ä»¶&#34;&gt;å·¥ç¨‹ä¸­åŒ…å«çš„&lt;code&gt;.ui&lt;/code&gt;æ–‡ä»¶&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;FORMS += forms/aa.ui&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;å·¥ç¨‹ä¸­åŒ…å«çš„æºæ–‡ä»¶&#34;&gt;å·¥ç¨‹ä¸­åŒ…å«çš„æºæ–‡ä»¶&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;SOURCES += sources/main.cpp sources/aa.cpp&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;å·¥ç¨‹ä¸­åŒ…å«çš„èµ„æºæ–‡ä»¶&#34;&gt;å·¥ç¨‹ä¸­åŒ…å«çš„èµ„æºæ–‡ä»¶&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;RESOURCES += qrc/aa.qrc
LIBS += -LfolderPath
Release: LIBS += -LfolderReleasePath
Debug: LIBS += -LfolderDebugPath
DEFINES += XX_XX_XXX // å®šä¹‰ç¼–è¯‘é€‰é¡¹, åœ¨.hæ–‡ä»¶ä¸­å°±å¯ä»¥ç”¨ #ifdefine XX_XX_XXX
RC_FIELS = xxx.icns
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;å¹³å°ç›¸å…³æ€§å¤„ç†&#34;&gt;å¹³å°ç›¸å…³æ€§å¤„ç†&lt;/h4&gt;
&lt;p&gt;æ ¹æ®qmakeæ‰€è¿è¡Œçš„å¹³å°æ¥ä½¿ç”¨ç›¸åº”çš„ä½œç”¨åŸŸæ¥è¿›è¡Œå¤„ç†.&lt;/p&gt;
&lt;p&gt;ä¸ºWindowså¹³å°æ·»åŠ çš„ä¾èµ–å¹³å°çš„æ–‡ä»¶ç¤ºä¾‹:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;win32{
SOURCES += hello_win.cpp
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ç”Ÿæˆmakefile&#34;&gt;ç”ŸæˆMakefile&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;qmake -oMakefile hello.pro&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºVisualStudioç”¨æˆ·, qmakeä¹Ÿå¯ä»¥ç”Ÿæˆ&lt;code&gt;.dsp&lt;/code&gt;æ–‡ä»¶ &lt;code&gt;qmake -tvcapp -o hello.dsp hello.pro&lt;/code&gt;&lt;/p&gt;
&lt;h6 id=&#34;proæ–‡ä»¶å®ä¾‹&#34;&gt;proæ–‡ä»¶å®ä¾‹&lt;/h6&gt;
&lt;pre&gt;&lt;code&gt;TEMPLATE = app #æ¨¡å—é…ç½®
LANGUAGE = C++ #C++è¯­è¨€

CONFIG += qt warn_on debug release

#å¼•å…¥çš„libæ–‡ä»¶,ç”¨äºå¼•å…¥åŠ¨æ€é“¾æ¥åº“
LIBS += qaxcontainer.lib

#å¤´æ–‡ä»¶åŒ…å«è·¯å¾„
INCLUDEPATH += ../../qtcompnent/qtchklisten/inc ../../qtcompnent/qtclearfile/inc ../../validator/inc/validerrcode ../../qtcompnent/qtdir/inc ../inc ../../utillib/inc/xmlapi ../../utillib/inc/util ../../xercesc ../../qtcompnent/qteditor/inc ../../qtcompnent/qtfunreview/inc ../../qtcompnent/qttable/inc ../../qtcompnent/qtversion/inc ../../qtcompnent/qtini/inc ../../icdtool/icdservices/inc ../../icdtool/dataset/inc ../../icdtool/doi/inc ../../icdtool/reportcontrol/inc ../../icdtool/GSEconctrol/inc ../../icdtool/inputs/inc ../../icdtool/SMVconctrol/inc ../../icdtool/logcontrol/inc ../../scdpreview/inc/scdpreviewtoollib ../../scdpreview/form ../../icdtool/sclcontrol/inc ../../icdtool/log/inc ../../icdtool/settingcontrol/inc ../../qtcompnent/qteditor/inc ../../qtcompnent/qttreeview/inc ../../qtcompnent/qttabwidget/inc ../../communication/inc ../../qtcompnent/qtabout/inc ../iedmanage/inc ../ldmanage/inc ../foriecrun/inc ../../qtcompnent/validset/inc

#å·¥ç¨‹ä¸­åŒ…å«çš„å¤´æ–‡ä»¶
HEADERS += ../inc/exportstable.h /
../inc/maintabwidget.h /
../inc/outputtab.h /
../inc/strutil.h /
../inc/treeeditview.h /
../inc/MainForm.h /
../inc/recenfileini.h /
../inc/ExportCIDFunction.h

#å·¥ç¨‹ä¸­åŒ…å«çš„æºæ–‡ä»¶
SOURCES += ../src/main.cpp /
../src/exportstable.cpp /
../src/maintabwidget.cpp /
../src/outputtab.cpp /
../src/treeeditview.cpp /
../src/MainForm.cpp /
../src/recenfileini.cpp /
../src/ExportCIDFunction.cpp

#å·¥ç¨‹ä¸­åŒ…å«çš„.uiè®¾è®¡æ–‡ä»¶
FORMS = ../form/scdmainform.ui /
../form/exportiedform.ui /
../form/Exportsedform.ui /
../form/Importsedform.ui /
../form/formiminputs.ui

#å›¾åƒæ–‡ä»¶

IMAGES = images/substation.png /
images/communication.png /
images/autocom.png /
images/reportcfg.png /
images/comcfg.png /
images/filetrans.png /
images/review.png /
images/setting.png

#å·¥ç¨‹ä¸­åŒ…å«çš„èµ„æºæ–‡ä»¶
RESOURCES = Scintilla.qrc

#CONFIG -= release
CONFIG -= debug


RC_FILE = scdtool.rc


BINLIB = ../../bin ../../xercesc/lib

UI_HEADERS_DIR = ../inc # .uiæ–‡ä»¶è½¬ä¼šä¸º**.h å­˜æ”¾çš„ç›®å½•
UI_SOURCES_DIR = ../src # .uiæ–‡ä»¶è½¬ä¼šä¸º**.cpp å­˜æ”¾çš„ç›®å½•
QMAKE_LIBDIR = $${BINLIB}

release {
TARGET = scdtool #æŒ‡å®šç”Ÿæˆçš„åº”ç”¨ç¨‹åºå
OBJECTS_DIR = ../../obj/scdtool/release #æŒ‡å®šç›®æ ‡æ–‡ä»¶(obj)çš„å­˜æ”¾ç›®å½•
}
debug {
TARGET = scdtool_d #æŒ‡å®šç”Ÿæˆçš„åº”ç”¨ç¨‹åºå
OBJECTS_DIR = ../../obj/scdtool/debug #æŒ‡å®šç›®æ ‡æ–‡ä»¶(obj)çš„å­˜æ”¾ç›®å½•
}

MOC_DIR = $${OBJECTS_DIR}
DESTDIR = ../../bin #æŒ‡å®šç”Ÿæˆçš„åº”ç”¨ç¨‹åºæ”¾ç½®çš„ç›®å½•
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¡¥å……: &lt;a class=&#34;link&#34; href=&#34;https://www.cnblogs.com/Braveliu/p/5107550.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;cnblogs&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>åŸºäºFFmpegçš„æ‘„åƒå¤´ç›´æ’­(æ¨æµ)</title>
        <link>https://lxb.wiki/ae1aac27/</link>
        <pubDate>Sat, 13 Jan 2018 20:50:43 +0000</pubDate>
        
        <guid>https://lxb.wiki/ae1aac27/</guid>
        <description>&lt;p&gt;åŸæ–‡åœ°å€: &lt;a class=&#34;link&#34; href=&#34;http://blog.csdn.net/wh8_2011/article/details/73506154&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://blog.csdn.net/wh8_2011/article/details/73506154&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å®ç°: è¯»å–PCæ‘„åƒå¤´è§†é¢‘æ•°æ®å¹¶ä»¥RTMPåè®®å‘é€ä¸ºç›´æ’­æµ. ç¤ºä¾‹åŒ…å« 1. FFmpegçš„libavdeviceçš„ä½¿ç”¨ 2. è§†é¢‘ç¼–ç , è§£ç , æ¨æµçš„åŸºæœ¬æµç¨‹&lt;/p&gt;
&lt;p&gt;è¦ä½¿ç”¨libavdeviceçš„ç›¸å…³å‡½æ•°, é¦–å…ˆéœ€è¦æ³¨å†Œç›¸å…³ç»„ä»¶ &lt;code&gt;avdevice_register_all()&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åˆ—å‡ºç”µè„‘ä¸­å¯ç”¨çš„DShowè®¾å¤‡&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;AVFormatContext *pFmtCtx = avformat_alloc_context();  
    AVDeviceInfoList *device_info = NULL;  
    AVDictionary* options = NULL;  
    av_dict_set(&amp;amp;options, &amp;quot;list_devices&amp;quot;, &amp;quot;true&amp;quot;, 0);  
    AVInputFormat *iformat = av_find_input_format(&amp;quot;dshow&amp;quot;);  
    printf(&amp;quot;Device Info=============\n&amp;quot;);  
    avformat_open_input(&amp;amp;pFmtCtx, &amp;quot;video=dummy&amp;quot;, iformat, &amp;amp;options);  
    printf(&amp;quot;========================\n&amp;quot;); 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨FFmpegçš„å·¥å…· &lt;code&gt;ffmpeg -list_devices true -f dshow -i dummy&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;PS: avdeviceæœ‰ä¸€ä¸ªavdevice_list_deviceså‡½æ•°å¯ä»¥æšä¸¾ç³»ç»Ÿçš„é‡‡é›†è®¾å¤‡, åŒ…æ‹¬è®¾å¤‡åå’Œè®¾å¤‡æè¿°, å¯ä»¥è®©ç”¨æˆ·é€‰æ‹©è¦ä½¿ç”¨çš„è®¾å¤‡, ä½†æ˜¯ä¸æ”¯æŒDShowè®¾å¤‡.&lt;/p&gt;
&lt;p&gt;åƒæ‰“å¼€æ™®é€šæ–‡ä»¶ä¸€æ ·å°†ä¸Šé¢çš„å…·ä½“è®¾å¤‡åä½œä¸ºè¾“å…¥æ‰“å¼€, å¹¶è¿›è¡Œç›¸åº”çš„åˆå§‹åŒ–è®¾ç½®&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;av_register_all();  
    //Register Device  
    avdevice_register_all();  
    avformat_network_init();  

    //Show Dshow Device    
    show_dshow_device();  

    printf(&amp;quot;\nChoose capture device: &amp;quot;);  
    if (gets(capture_name) == 0)  
    {  
        printf(&amp;quot;Error in gets()\n&amp;quot;);  
        return -1;  
    }  
    sprintf(device_name, &amp;quot;video=%s&amp;quot;, capture_name);  

    ifmt=av_find_input_format(&amp;quot;dshow&amp;quot;);  

    //Set own video device&#39;s name  
    if (avformat_open_input(&amp;amp;ifmt_ctx, device_name, ifmt, NULL) != 0){  
        printf(&amp;quot;Couldn&#39;t open input stream.ï¼ˆæ— æ³•æ‰“å¼€è¾“å…¥æµï¼‰\n&amp;quot;);  
        return -1;  
    }  
    //input initialize  
    if (avformat_find_stream_info(ifmt_ctx, NULL)&amp;lt;0)  
    {  
        printf(&amp;quot;Couldn&#39;t find stream information.ï¼ˆæ— æ³•è·å–æµä¿¡æ¯ï¼‰\n&amp;quot;);  
        return -1;  
    }  
    videoindex = -1;  
    for (i = 0; i&amp;lt;ifmt_ctx-&amp;gt;nb_streams; i++)  
        if (ifmt_ctx-&amp;gt;streams[i]-&amp;gt;codec-&amp;gt;codec_type == AVMEDIA_TYPE_VIDEO)  
        {  
            videoindex = i;  
            break;  
        }  
    if (videoindex == -1)  
    {  
        printf(&amp;quot;Couldn&#39;t find a video stream.ï¼ˆæ²¡æœ‰æ‰¾åˆ°è§†é¢‘æµï¼‰\n&amp;quot;);  
        return -1;  
    }  
    if (avcodec_open2(ifmt_ctx-&amp;gt;streams[videoindex]-&amp;gt;codec, avcodec_find_decoder(ifmt_ctx-&amp;gt;streams[videoindex]-&amp;gt;codec-&amp;gt;codec_id), NULL)&amp;lt;0)  
    {  
        printf(&amp;quot;Could not open codec.ï¼ˆæ— æ³•æ‰“å¼€è§£ç å™¨ï¼‰\n&amp;quot;);  
        return -1;  
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¾“å…¥è®¾å¤‡åˆå§‹åŒ–å, éœ€è¦å¯¹è¾“å‡ºåšç›¸åº”çš„åˆå§‹åŒ–. FFmpegå°†ç½‘ç»œåè®®å’Œæ–‡ä»¶åŒç­‰çœ‹å¾…, åŒæ—¶å› ä¸ºä½¿ç”¨RTMPåè®®è¿›è¡Œä¼ è¾“, å› æ­¤åˆ¶å®šè¾“å‡ºä¸ºflvæ ¼å¼, ç¼–ç å™¨ä½¿ç”¨H.264&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//output initialize  
    avformat_alloc_output_context2(&amp;amp;ofmt_ctx, NULL, &amp;quot;flv&amp;quot;, out_path);  
    //output encoder initialize  
    pCodec = avcodec_find_encoder(AV_CODEC_ID_H264);  
    if (!pCodec){  
        printf(&amp;quot;Can not find encoder! (æ²¡æœ‰æ‰¾åˆ°åˆé€‚çš„ç¼–ç å™¨ï¼)\n&amp;quot;);  
        return -1;  
    }  
    pCodecCtx=avcodec_alloc_context3(pCodec);  
    pCodecCtx-&amp;gt;pix_fmt = PIX_FMT_YUV420P;  
    pCodecCtx-&amp;gt;width = ifmt_ctx-&amp;gt;streams[videoindex]-&amp;gt;codec-&amp;gt;width;  
    pCodecCtx-&amp;gt;height = ifmt_ctx-&amp;gt;streams[videoindex]-&amp;gt;codec-&amp;gt;height;  
    pCodecCtx-&amp;gt;time_base.num = 1;  
    pCodecCtx-&amp;gt;time_base.den = 25;  
    pCodecCtx-&amp;gt;bit_rate = 400000;  
    pCodecCtx-&amp;gt;gop_size = 250;  
    /* Some formats,for example,flv, want stream headers to be separate. */  
    if (ofmt_ctx-&amp;gt;oformat-&amp;gt;flags &amp;amp; AVFMT_GLOBALHEADER)  
        pCodecCtx-&amp;gt;flags |= CODEC_FLAG_GLOBAL_HEADER;  

    //H264 codec param  
    //pCodecCtx-&amp;gt;me_range = 16;  
    //pCodecCtx-&amp;gt;max_qdiff = 4;  
    //pCodecCtx-&amp;gt;qcompress = 0.6;  
    pCodecCtx-&amp;gt;qmin = 10;  
    pCodecCtx-&amp;gt;qmax = 51;  
    //Optional Param  
    pCodecCtx-&amp;gt;max_b_frames = 3;  
    // Set H264 preset and tune  
    AVDictionary *param = 0;  
    av_dict_set(&amp;amp;param, &amp;quot;preset&amp;quot;, &amp;quot;fast&amp;quot;, 0);  
    av_dict_set(&amp;amp;param, &amp;quot;tune&amp;quot;, &amp;quot;zerolatency&amp;quot;, 0);  

    if (avcodec_open2(pCodecCtx, pCodec,&amp;amp;param) &amp;lt; 0){  
        printf(&amp;quot;Failed to open encoder! (ç¼–ç å™¨æ‰“å¼€å¤±è´¥ï¼)\n&amp;quot;);  
        return -1;  
    }  

    //Add a new stream to output,should be called by the user before avformat_write_header() for muxing  
    video_st = avformat_new_stream(ofmt_ctx, pCodec);  
    if (video_st == NULL){  
        return -1;  
    }  
    video_st-&amp;gt;time_base.num = 1;  
    video_st-&amp;gt;time_base.den = 25;  
    video_st-&amp;gt;codec = pCodecCtx;  

    //Open output URL,set before avformat_write_header() for muxing  
    if (avio_open(&amp;amp;ofmt_ctx-&amp;gt;pb,out_path, AVIO_FLAG_READ_WRITE) &amp;lt; 0){  
    printf(&amp;quot;Failed to open output file! (è¾“å‡ºæ–‡ä»¶æ‰“å¼€å¤±è´¥ï¼)\n&amp;quot;);  
    return -1;  
    }  

    //Show some Information  
    av_dump_format(ofmt_ctx, 0, out_path, 1);  

    //Write File Header  
    avformat_write_header(ofmt_ctx,NULL); 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å®Œæˆè¾“å…¥å’Œè¾“å‡ºçš„åˆå§‹åŒ–å, å°±å¯ä»¥æ­£å¼å¼€å§‹è§£ç å’Œç¼–ç å¹¶æ¨æµçš„æµç¨‹äº†. éœ€è¦æ³¨æ„çš„æ˜¯, æ‘„åƒå¤´æ•°æ®å¾€å¾€æ˜¯RGBæ ¼å¼çš„, éœ€è¦å°†å…¶è½¬æ¢ä¸ºYUV420Pæ ¼å¼, æ‰èƒ½æ¨æµ, å› æ­¤è¦å…ˆåšå¦‚ä¸‹çš„å‡†å¤‡å·¥ä½œ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//prepare before decode and encode  
    dec_pkt = (AVPacket *)av_malloc(sizeof(AVPacket));  
    //enc_pkt = (AVPacket *)av_malloc(sizeof(AVPacket));  
    //camera data has a pix fmt of RGB,convert it to YUV420  
    img_convert_ctx = sws_getContext(ifmt_ctx-&amp;gt;streams[videoindex]-&amp;gt;codec-&amp;gt;width, ifmt_ctx-&amp;gt;streams[videoindex]-&amp;gt;codec-&amp;gt;height,   
        ifmt_ctx-&amp;gt;streams[videoindex]-&amp;gt;codec-&amp;gt;pix_fmt, pCodecCtx-&amp;gt;width, pCodecCtx-&amp;gt;height, PIX_FMT_YUV420P, SWS_BICUBIC, NULL, NULL, NULL);  
    pFrameYUV = avcodec_alloc_frame();  
    uint8_t *out_buffer = (uint8_t *)av_malloc(avpicture_get_size(PIX_FMT_YUV420P, pCodecCtx-&amp;gt;width, pCodecCtx-&amp;gt;height));  
    avpicture_fill((AVPicture *)pFrameYUV, out_buffer, PIX_FMT_YUV420P, pCodecCtx-&amp;gt;width, pCodecCtx-&amp;gt;height);  
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç°åœ¨, å°±å¯ä»¥æ­£å¼å¼€å§‹è§£ç , ç¼–ç  å’Œæ¨æµäº†&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//start decode and encode  
    int64_t start_time=av_gettime();  
    while (av_read_frame(ifmt_ctx, dec_pkt) &amp;gt;= 0){     
        if (exit_thread)  
            break;  
        av_log(NULL, AV_LOG_DEBUG, &amp;quot;Going to reencode the frame\n&amp;quot;);  
        pframe = av_frame_alloc();  
        if (!pframe) {  
            ret = AVERROR(ENOMEM);  
            return -1;  
        }  
        //av_packet_rescale_ts(dec_pkt, ifmt_ctx-&amp;gt;streams[dec_pkt-&amp;gt;stream_index]-&amp;gt;time_base,  
        //  ifmt_ctx-&amp;gt;streams[dec_pkt-&amp;gt;stream_index]-&amp;gt;codec-&amp;gt;time_base);  
        ret = avcodec_decode_video2(ifmt_ctx-&amp;gt;streams[dec_pkt-&amp;gt;stream_index]-&amp;gt;codec, pframe,  
            &amp;amp;dec_got_frame, dec_pkt);  
        if (ret &amp;lt; 0) {  
            av_frame_free(&amp;amp;pframe);  
            av_log(NULL, AV_LOG_ERROR, &amp;quot;Decoding failed\n&amp;quot;);  
            break;  
        }  
        if (dec_got_frame){  
            sws_scale(img_convert_ctx, (const uint8_t* const*)pframe-&amp;gt;data, pframe-&amp;gt;linesize, 0, pCodecCtx-&amp;gt;height, pFrameYUV-&amp;gt;data, pFrameYUV-&amp;gt;linesize);     

            enc_pkt.data = NULL;  
            enc_pkt.size = 0;  
            av_init_packet(&amp;amp;enc_pkt);  
            ret = avcodec_encode_video2(pCodecCtx, &amp;amp;enc_pkt, pFrameYUV, &amp;amp;enc_got_frame);  
            av_frame_free(&amp;amp;pframe);  
            if (enc_got_frame == 1){  
                //printf(&amp;quot;Succeed to encode frame: %5d\tsize:%5d\n&amp;quot;, framecnt, enc_pkt.size);  
                framecnt++;   
                enc_pkt.stream_index = video_st-&amp;gt;index;  

                //Write PTS  
                AVRational time_base = ofmt_ctx-&amp;gt;streams[videoindex]-&amp;gt;time_base;//{ 1, 1000 };  
                AVRational r_framerate1 = ifmt_ctx-&amp;gt;streams[videoindex]-&amp;gt;r_frame_rate;// { 50, 2 };  
                AVRational time_base_q = { 1, AV_TIME_BASE };  
                //Duration between 2 frames (us)  
                int64_t calc_duration = (double)(AV_TIME_BASE)*(1 / av_q2d(r_framerate1));  //å†…éƒ¨æ—¶é—´æˆ³  
                //Parameters  
                //enc_pkt.pts = (double)(framecnt*calc_duration)*(double)(av_q2d(time_base_q)) / (double)(av_q2d(time_base));  
                enc_pkt.pts = av_rescale_q(framecnt*calc_duration, time_base_q, time_base);  
                enc_pkt.dts = enc_pkt.pts;  
                enc_pkt.duration = av_rescale_q(calc_duration, time_base_q, time_base); //(double)(calc_duration)*(double)(av_q2d(time_base_q)) / (double)(av_q2d(time_base));  
                enc_pkt.pos = -1;  

                //Delay  
                int64_t pts_time = av_rescale_q(enc_pkt.dts, time_base, time_base_q);  
                int64_t now_time = av_gettime() - start_time;  
                if (pts_time &amp;gt; now_time)  
                    av_usleep(pts_time - now_time);  

                ret = av_interleaved_write_frame(ofmt_ctx, &amp;amp;enc_pkt);  
                av_free_packet(&amp;amp;enc_pkt);  
            }  
        }  
        else {  
            av_frame_free(&amp;amp;pframe);  
        }  
        av_free_packet(dec_pkt);  
    }  
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è§£ç æ¯”è¾ƒç®€å•, ç¼–ç éƒ¨åˆ†éœ€è¦è‡ªå·±è®¡ç®—PTS, DTS, æ¯”è¾ƒå¤æ‚ è¿™é‡Œé€šè¿‡å¸§ç‡è®¡ç®—PTSå’ŒDTS, é¦–å…ˆé€šè¿‡å¸§ç‡è®¡ç®—ä¸¤å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”, ä½†æ˜¯è¦æ¢ç®—&lt;/p&gt;
</description>
        </item>
        <item>
        <title>åŸºäºFFmpegçš„æ¨é€æ–‡ä»¶åˆ°RTMPæœåŠ¡å™¨</title>
        <link>https://lxb.wiki/5722b57a/</link>
        <pubDate>Sat, 13 Jan 2018 11:51:28 +0000</pubDate>
        
        <guid>https://lxb.wiki/5722b57a/</guid>
        <description>&lt;p&gt;åŸæ–‡åœ°å€: &lt;a class=&#34;link&#34; href=&#34;http://blog.csdn.net/leixiaohua1020/article/details/39803457&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://blog.csdn.net/leixiaohua1020/article/details/39803457&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å°†æœ¬åœ°çš„MOV/AVI/MKV/MP4/FLVç­‰æ ¼å¼çš„åª’ä½“æ–‡ä»¶ï¼Œ é€šè¿‡æµåª’ä½“åè®®(RTMP, HTTP, UDP, TCP, RTPç­‰)ä»¥ç›´æ’­æµçš„å½¢å¼æ¨é€å‡ºå».&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ä¸ªæ¨æµå™¨çš„åŸºç¡€ä¸Š, å¯ä»¥è¿›è¡Œä»¥ä¸‹å‡ ç§æ–¹å¼çš„ä¿®æ”¹, å®ç°å„å¼å„æ ·çš„æ¨æµå™¨. ä¾‹å¦‚: * å°†è¾“å…¥æ–‡ä»¶æ”¹ä¸ºç½‘ç»œæµURL, å¯ä»¥æ˜¾ç¤ºè½¬æµå™¨ * å°†è¾“å…¥æ–‡ä»¶æ”¹ä¸ºå›è°ƒå‡½æ•°(å†…å­˜è¯»å–)çš„å½¢å¼, å¯ä»¥æ¨é€å†…å­˜ä¸­çš„è§†é¢‘æ•°æ® * å°†è¾“å…¥æ–‡ä»¶æ”¹ä¸ºç³»ç»Ÿè®¾å¤‡(é€šè¿‡libavdevice), åŒæ—¶åŠ ä¸Šç¼–ç çš„åŠŸèƒ½, å¯ä»¥å®ç°å®æ—¶æ¨æµå™¨(ç°åœºç›´æ’­)&lt;/p&gt;
&lt;h3 id=&#34;éœ€è¦æ³¨æ„çš„åœ°æ–¹&#34;&gt;éœ€è¦æ³¨æ„çš„åœ°æ–¹&lt;/h3&gt;
&lt;h4 id=&#34;å°è£…æ ¼å¼&#34;&gt;å°è£…æ ¼å¼&lt;/h4&gt;
&lt;p&gt;RTMPé‡‡ç”¨çš„å°è£…æ ¼å¼FLV, å› æ­¤åœ¨æŒ‡å®šè¾“å‡ºæµåª’ä½“çš„æ—¶å€™éœ€è¦åˆ¶å®šå…¶å°è£…æ ¼å¼ä¸º&amp;quot;flv&amp;quot;. åŒç†, å…¶ä»–æµåª’ä½“åè®®ä¹Ÿéœ€è¦æŒ‡å®šå…¶å°è£…æ ¼å¼. ä¾‹å¦‚é‡‡ç”¨UDPæ¨é€æµåª’ä½“çš„æ—¶å€™, å¯ä»¥æŒ‡å®šå…¶å°è£…æ ¼å¼ä¸º&amp;quot;mpegts&amp;quot;.&lt;/p&gt;
&lt;h4 id=&#34;å»¶æ—¶&#34;&gt;å»¶æ—¶&lt;/h4&gt;
&lt;p&gt;å‘é€æµåª’ä½“çš„æ•°æ®çš„æ—¶å€™éœ€è¦å»¶æ—¶. å¦åˆ™, FFmpegå¤„ç†æ•°æ®é€Ÿåº¦å¾ˆå¿«, ç¬é—´å°±èƒ½æŠŠæ‰€æœ‰çš„æ•°æ®å‘é€å‡ºå», æµåª’ä½“æœåŠ¡å™¨æ˜¯æ‰¿å—ä¸äº†çš„. å› æ­¤éœ€è¦æŒ‰ç…§è§†é¢‘å®é™…çš„å¸§ç‡å‘é€æ•°æ®. æœ¬æ–‡çš„æ¨æµå™¨åœ¨è§†é¢‘å¸§ä¸å¸§ä¹‹é—´é‡‡ç”¨av_usleep()å‡½æ•°ä¼‘çœ çš„æ–¹å¼æ¥å»¶è¿Ÿå‘é€. è¿™æ ·å°±å¯ä»¥æŒ‰ç…§è§†é¢‘çš„å¸§ç‡å‘é€æ•°æ®äº†, ä»£ç å¦‚ä¸‹&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//â€¦  
int64_t start_time=av_gettime();  
while (1) {  
//â€¦  
    //Important:Delay  
    if(pkt.stream_index==videoindex){  
        AVRational time_base=ifmt_ctx-&amp;gt;streams[videoindex]-&amp;gt;time_base;  
        AVRational time_base_q={1,AV_TIME_BASE};  
        int64_t pts_time = av_rescale_q(pkt.dts, time_base, time_base_q);  
        int64_t now_time = av_gettime() - start_time;  
        if (pts_time &amp;gt; now_time)  
            av_usleep(pts_time - now_time);  
    }  
//â€¦  
}  
//â€¦ 
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ptsdtsé—®é¢˜&#34;&gt;PTS/DTSé—®é¢˜&lt;/h4&gt;
&lt;p&gt;æ²¡æœ‰å°è£…æ ¼å¼çš„è£¸æµ(ä¾‹å¦‚H.264è£¸æµ)æ˜¯ä¸åŒ…å«PTS, DTSè¿™äº›å‚æ•°çš„. åœ¨å‘é€è¿™ç§æ•°æ®çš„æ—¶å€™, éœ€è¦è‡ªå·±è®¡ç®—å¹¶å†™å…¥AVPacketçš„PTS, DTS, durationç­‰å‚æ•°.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//FIXï¼šNo PTS (Example: Raw H.264)  
//Simple Write PTS  
if(pkt.pts==AV_NOPTS_VALUE){  
    //Write PTS  
    AVRational time_base1=ifmt_ctx-&amp;gt;streams[videoindex]-&amp;gt;time_base;  
    //Duration between 2 frames (us)  
    int64_t calc_duration=(double)AV_TIME_BASE/av_q2d(ifmt_ctx-&amp;gt;streams[videoindex]-&amp;gt;r_frame_rate);  
    //Parameters  
    pkt.pts=(double)(frame_index*calc_duration)/(double)(av_q2d(time_base1)*AV_TIME_BASE);  
    pkt.dts=pkt.pts;  
    pkt.duration=(double)calc_duration/(double)(av_q2d(time_base1)*AV_TIME_BASE);  
} 
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;sequence&#34;&gt;sequence&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;http://img.blog.csdn.net/20180113202019583?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbHhid29sZg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;è¿™é‡Œå†™å›¾ç‰‡æè¿°&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/** 
 * æœ€ç®€å•çš„åŸºäºFFmpegçš„æ¨æµå™¨ï¼ˆæ¨é€RTMPï¼‰ 
 * Simplest FFmpeg Streamer (Send RTMP) 
 *  
 * é›·éœ„éª… Lei Xiaohua 
 * leixiaohua1020@126.com 
 * ä¸­å›½ä¼ åª’å¤§å­¦/æ•°å­—ç”µè§†æŠ€æœ¯ 
 * Communication University of China / Digital TV Technology 
 * http://blog.csdn.net/leixiaohua1020 
 *  
 * æœ¬ä¾‹å­å®ç°äº†æ¨é€æœ¬åœ°è§†é¢‘è‡³æµåª’ä½“æœåŠ¡å™¨ï¼ˆä»¥RTMPä¸ºä¾‹ï¼‰ã€‚ 
 * æ˜¯ä½¿ç”¨FFmpegè¿›è¡Œæµåª’ä½“æ¨é€æœ€ç®€å•çš„æ•™ç¨‹ã€‚ 
 * 
 * This example stream local media files to streaming media  
 * server (Use RTMP as example).  
 * It&#39;s the simplest FFmpeg streamer. 
 *  
 */  

#include &amp;lt;stdio.h&amp;gt;  

#define __STDC_CONSTANT_MACROS  

#ifdef _WIN32  
//Windows  
extern &amp;quot;C&amp;quot;  
{  
#include &amp;quot;libavformat/avformat.h&amp;quot;  
#include &amp;quot;libavutil/mathematics.h&amp;quot;  
#include &amp;quot;libavutil/time.h&amp;quot;  
};  
#else  
//Linux...  
#ifdef __cplusplus  
extern &amp;quot;C&amp;quot;  
{  
#endif  
#include &amp;lt;libavformat/avformat.h&amp;gt;  
#include &amp;lt;libavutil/mathematics.h&amp;gt;  
#include &amp;lt;libavutil/time.h&amp;gt;  
#ifdef __cplusplus  
};  
#endif  
#endif  

int main(int argc, char* argv[])  
{  
    AVOutputFormat *ofmt = NULL;  
    //è¾“å…¥å¯¹åº”ä¸€ä¸ªAVFormatContextï¼Œè¾“å‡ºå¯¹åº”ä¸€ä¸ªAVFormatContext  
    //ï¼ˆInput AVFormatContext and Output AVFormatContextï¼‰  
    AVFormatContext *ifmt_ctx = NULL, *ofmt_ctx = NULL;  
    AVPacket pkt;  
    const char *in_filename, *out_filename;  
    int ret, i;  
    int videoindex=-1;  
    int frame_index=0;  
    int64_t start_time=0;  
    //in_filename  = &amp;quot;cuc_ieschool.mov&amp;quot;;  
    //in_filename  = &amp;quot;cuc_ieschool.mkv&amp;quot;;  
    //in_filename  = &amp;quot;cuc_ieschool.ts&amp;quot;;  
    //in_filename  = &amp;quot;cuc_ieschool.mp4&amp;quot;;  
    //in_filename  = &amp;quot;cuc_ieschool.h264&amp;quot;;  
    in_filename  = &amp;quot;cuc_ieschool.flv&amp;quot;;//è¾“å…¥URLï¼ˆInput file URLï¼‰  
    //in_filename  = &amp;quot;shanghai03_p.h264&amp;quot;;  

    out_filename = &amp;quot;rtmp://localhost/publishlive/livestream&amp;quot;;//è¾“å‡º URLï¼ˆOutput URLï¼‰[RTMP]  
    //out_filename = &amp;quot;rtp://233.233.233.233:6666&amp;quot;;//è¾“å‡º URLï¼ˆOutput URLï¼‰[UDP]  

    av_register_all();  
    //Network  
    avformat_network_init();  
    //è¾“å…¥ï¼ˆInputï¼‰  
    if ((ret = avformat_open_input(&amp;amp;ifmt_ctx, in_filename, 0, 0)) &amp;lt; 0) {  
        printf( &amp;quot;Could not open input file.&amp;quot;);  
        goto end;  
    }  
    if ((ret = avformat_find_stream_info(ifmt_ctx, 0)) &amp;lt; 0) {  
        printf( &amp;quot;Failed to retrieve input stream information&amp;quot;);  
        goto end;  
    }  

    for(i=0; i&amp;lt;ifmt_ctx-&amp;gt;nb_streams; i++)   
        if(ifmt_ctx-&amp;gt;streams[i]-&amp;gt;codec-&amp;gt;codec_type==AVMEDIA_TYPE_VIDEO){  
            videoindex=i;  
            break;  
        }  

    av_dump_format(ifmt_ctx, 0, in_filename, 0);  

    //è¾“å‡ºï¼ˆOutputï¼‰  

    avformat_alloc_output_context2(&amp;amp;ofmt_ctx, NULL, &amp;quot;flv&amp;quot;, out_filename); //RTMP  
    //avformat_alloc_output_context2(&amp;amp;ofmt_ctx, NULL, &amp;quot;mpegts&amp;quot;, out_filename);//UDP  

    if (!ofmt_ctx) {  
        printf( &amp;quot;Could not create output context\n&amp;quot;);  
        ret = AVERROR_UNKNOWN;  
        goto end;  
    }  
    ofmt = ofmt_ctx-&amp;gt;oformat;  
    for (i = 0; i &amp;lt; ifmt_ctx-&amp;gt;nb_streams; i++) {  
        //æ ¹æ®è¾“å…¥æµåˆ›å»ºè¾“å‡ºæµï¼ˆCreate output AVStream according to input AVStreamï¼‰  
        AVStream *in_stream = ifmt_ctx-&amp;gt;streams[i];  
        AVStream *out_stream = avformat_new_stream(ofmt_ctx, in_stream-&amp;gt;codec-&amp;gt;codec);  
        if (!out_stream) {  
            printf( &amp;quot;Failed allocating output stream\n&amp;quot;);  
            ret = AVERROR_UNKNOWN;  
            goto end;  
        }  
        //å¤åˆ¶AVCodecContextçš„è®¾ç½®ï¼ˆCopy the settings of AVCodecContextï¼‰  
        ret = avcodec_copy_context(out_stream-&amp;gt;codec, in_stream-&amp;gt;codec);  
        if (ret &amp;lt; 0) {  
            printf( &amp;quot;Failed to copy context from input to output stream codec context\n&amp;quot;);  
            goto end;  
        }  
        out_stream-&amp;gt;codec-&amp;gt;codec_tag = 0;  
        if (ofmt_ctx-&amp;gt;oformat-&amp;gt;flags &amp;amp; AVFMT_GLOBALHEADER)  
            out_stream-&amp;gt;codec-&amp;gt;flags |= CODEC_FLAG_GLOBAL_HEADER;  
    }  
    //Dump Format------------------  
    av_dump_format(ofmt_ctx, 0, out_filename, 1);  
    //æ‰“å¼€è¾“å‡ºURLï¼ˆOpen output URLï¼‰  
    if (!(ofmt-&amp;gt;flags &amp;amp; AVFMT_NOFILE)) {  
        ret = avio_open(&amp;amp;ofmt_ctx-&amp;gt;pb, out_filename, AVIO_FLAG_WRITE);  
        if (ret &amp;lt; 0) {  
            printf( &amp;quot;Could not open output URL &#39;%s&#39;&amp;quot;, out_filename);  
            goto end;  
        }  
    }  
    //å†™æ–‡ä»¶å¤´ï¼ˆWrite file headerï¼‰  
    ret = avformat_write_header(ofmt_ctx, NULL);  
    if (ret &amp;lt; 0) {  
        printf( &amp;quot;Error occurred when opening output URL\n&amp;quot;);  
        goto end;  
    }  

    start_time=av_gettime();  
    while (1) {  
        AVStream *in_stream, *out_stream;  
        //è·å–ä¸€ä¸ªAVPacketï¼ˆGet an AVPacketï¼‰  
        ret = av_read_frame(ifmt_ctx, &amp;amp;pkt);  
        if (ret &amp;lt; 0)  
            break;  
        //FIXï¼šNo PTS (Example: Raw H.264)  
        //Simple Write PTS  
        if(pkt.pts==AV_NOPTS_VALUE){  
            //Write PTS  
            AVRational time_base1=ifmt_ctx-&amp;gt;streams[videoindex]-&amp;gt;time_base;  
            //Duration between 2 frames (us)  
            int64_t calc_duration=(double)AV_TIME_BASE/av_q2d(ifmt_ctx-&amp;gt;streams[videoindex]-&amp;gt;r_frame_rate);  
            //Parameters  
            pkt.pts=(double)(frame_index*calc_duration)/(double)(av_q2d(time_base1)*AV_TIME_BASE);  
            pkt.dts=pkt.pts;  
            pkt.duration=(double)calc_duration/(double)(av_q2d(time_base1)*AV_TIME_BASE);  
        }  
        //Important:Delay  
        if(pkt.stream_index==videoindex){  
            AVRational time_base=ifmt_ctx-&amp;gt;streams[videoindex]-&amp;gt;time_base;  
            AVRational time_base_q={1,AV_TIME_BASE};  
            int64_t pts_time = av_rescale_q(pkt.dts, time_base, time_base_q);  
            int64_t now_time = av_gettime() - start_time;  
            if (pts_time &amp;gt; now_time)  
                av_usleep(pts_time - now_time);  

        }  

        in_stream  = ifmt_ctx-&amp;gt;streams[pkt.stream_index];  
        out_stream = ofmt_ctx-&amp;gt;streams[pkt.stream_index];  
        /* copy packet */  
        //è½¬æ¢PTS/DTSï¼ˆConvert PTS/DTSï¼‰  
        pkt.pts = av_rescale_q_rnd(pkt.pts, in_stream-&amp;gt;time_base, out_stream-&amp;gt;time_base, (AVRounding)(AV_ROUND_NEAR_INF|AV_ROUND_PASS_MINMAX));  
        pkt.dts = av_rescale_q_rnd(pkt.dts, in_stream-&amp;gt;time_base, out_stream-&amp;gt;time_base, (AVRounding)(AV_ROUND_NEAR_INF|AV_ROUND_PASS_MINMAX));  
        pkt.duration = av_rescale_q(pkt.duration, in_stream-&amp;gt;time_base, out_stream-&amp;gt;time_base);  
        pkt.pos = -1;  
        //Print to Screen  
        if(pkt.stream_index==videoindex){  
            printf(&amp;quot;Send %8d video frames to output URL\n&amp;quot;,frame_index);  
            frame_index++;  
        }  
        //ret = av_write_frame(ofmt_ctx, &amp;amp;pkt);  
        ret = av_interleaved_write_frame(ofmt_ctx, &amp;amp;pkt);  

        if (ret &amp;lt; 0) {  
            printf( &amp;quot;Error muxing packet\n&amp;quot;);  
            break;  
        }  

        av_free_packet(&amp;amp;pkt);  

    }  
    //å†™æ–‡ä»¶å°¾ï¼ˆWrite file trailerï¼‰  
    av_write_trailer(ofmt_ctx);  
end:  
    avformat_close_input(&amp;amp;ifmt_ctx);  
    /* close output */  
    if (ofmt_ctx &amp;amp;&amp;amp; !(ofmt-&amp;gt;flags &amp;amp; AVFMT_NOFILE))  
        avio_close(ofmt_ctx-&amp;gt;pb);  
    avformat_free_context(ofmt_ctx);  
    if (ret &amp;lt; 0 &amp;amp;&amp;amp; ret != AVERROR_EOF) {  
        printf( &amp;quot;Error occurred.\n&amp;quot;);  
        return -1;  
    }  
    return 0;  
}
&lt;/code&gt;&lt;/pre&gt;
</description>
        </item>
        <item>
        <title>ffmpeg æ¨æµå·¥å…·</title>
        <link>https://lxb.wiki/b3ed22dc/</link>
        <pubDate>Fri, 12 Jan 2018 19:52:44 +0000</pubDate>
        
        <guid>https://lxb.wiki/b3ed22dc/</guid>
        <description>&lt;p&gt;SRRæµ‹è¯•ç½‘å€ &lt;code&gt;http://www.ossrs.net/srs.release/trunk/research/players/srs_player.html&lt;/code&gt; è·å– &lt;code&gt;git clone https://github.com/ossrs/srs.git&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;configure make &lt;code&gt;cd srs/trunk&lt;/code&gt; &lt;code&gt;./configure &amp;amp;&amp;amp; make&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¼€å¯æœåŠ¡å™¨ &lt;code&gt;./objs/srs -c conf/srs.conf&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åˆ—å‡ºè®¾å¤‡ &lt;code&gt;./ffmpeg.exe -list_devices true -f dshow -i dummy&lt;/code&gt; ffmpegé‡‡é›†æ‘„åƒå¤´æ¨æµ &lt;code&gt;ffmpeg.exe -f dshow -i video=&amp;quot;EasyCamera&amp;quot; -q 4 -s 640*480 -aspect 4:3 -r 10 -vcodec flv -ar 22050 -ab 64k -ac 1 -acodec libmp3lame -threads 4 -f flv rtmp://192.168.1.102/RTMP/RtmpVideo&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ffmpegé‡‡é›†æ‘„åƒå¤´å’Œéº¦å…‹é£æ¨æµ &lt;code&gt;ffmpeg -f dshow -i video=&amp;quot;USB2.0 PC CAMERA&amp;quot; -f dshow -i audio=&amp;quot;éº¦å…‹é£ (2- USB2.0 MIC)&amp;quot; -b:a 600k -ab 128k -f flv rtmp://192.168.1.102/RTMP/RtmpVideo&lt;/code&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>å‘½ä»¤ç»„å’Œä»£ç å—</title>
        <link>https://lxb.wiki/8cb7d3c0/</link>
        <pubDate>Mon, 02 Oct 2017 11:54:01 +0000</pubDate>
        
        <guid>https://lxb.wiki/8cb7d3c0/</guid>
        <description>&lt;h1 id=&#34;å‘½ä»¤ç»„-å’Œ-ä»£ç å—&#34;&gt;å‘½ä»¤ç»„ å’Œ ä»£ç å—&lt;/h1&gt;
&lt;p&gt;() å‘½ä»¤ç»„. å¦‚ &lt;code&gt;(a=hello,echo $a)&lt;/code&gt; åœ¨()ä¸­çš„å‘½ä»¤åˆ—è¡¨, å°†ä½œä¸ºä¸€ä¸ªå­Shellæ¥è¿è¡Œ åœ¨()ä¸­çš„å˜é‡, ç”±äºæ˜¯åœ¨å­Shellæ€»è¿è¡Œçš„, å› æ­¤å¯¹è„šæœ¬å‰©ä¸‹çš„éƒ¨åˆ†æ˜¯ä¸å¯è§çš„&lt;/p&gt;
&lt;p&gt;å¦‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;a=123
(a=321;)
echo &amp;quot;a=$a&amp;quot; # a=123
# åœ¨()ä¸­çš„aå˜é‡, æ›´åƒæ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;{} ä»£ç å—, åˆç§°å†…éƒ¨ç»„. è¿™ä¸ªç»“æ„åˆ›å»ºäº†ä¸€ä¸ªåŒ¿åçš„å‡½æ•°, ä¸å‡½æ•°ä¸åŒçš„æ˜¯, åœ¨{}ä¸­å£°æ˜çš„å˜é‡, å¯¹äºè„šæœ¬å‰©ä½™çš„ä»£ç æ˜¯å¯è§çš„, å¦‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{
    local a;
    a=123;
}
# bashä¸­çš„localç”³è¯·çš„å˜é‡åªèƒ½ç”¨åœ¨å‡½æ•°ä¸­


a=123;
{a=321;}
echo &amp;quot;a=$a&amp;quot; # a=321
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;()ä¹Ÿå¯ç”¨ä½œåˆå§‹åŒ–æ•°ç»„ array=(element1,element2,element3)&lt;/p&gt;
&lt;p&gt;{xxx,yyy,zzz} å¤§æ‹¬å·æ‰©å±•, ä¾‹&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cat {file1,file2,file3} &amp;gt; combined_file
# æŠŠfile1 file2 file3è¿æ¥åœ¨ä¸€èµ·, é‡å®šå‘åˆ°combined_file


cp file1.{txt,bak}
# æŠŠfile1.txt å¤åˆ¶åˆ°file1.bak
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸€ä¸ªå‘½ä»¤ä¼šå¯¹å¤§æ‹¬å·ä¸­ä»¥é€—å·åˆ†éš”çš„æ–‡ä»¶åˆ—è¡¨èµ·ä½œç”¨, file globbingä¼šå¯¹å¤§æ‹¬å·ä¸­çš„æ–‡ä»¶åä½œæ‰©å±•&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# å¤§æ‹¬å·ä¸­ä¸å…è®¸æœ‰ç©ºç™½, é™¤éè¿™ä¸ªç©ºç™½æ˜¯æœ‰æ„ä¹‰çš„
echo {file1,file2}\ :{\ A,&amp;quot; B&amp;quot;,&#39; C&#39;}
# file1 : A file1 : B file1 : C file2 : A file2 : B file2 : C
&lt;/code&gt;&lt;/pre&gt;
</description>
        </item>
        <item>
        <title>Shell ä¸­çš„å†’å·</title>
        <link>https://lxb.wiki/9aa135a6/</link>
        <pubDate>Thu, 07 Sep 2017 17:55:50 +0000</pubDate>
        
        <guid>https://lxb.wiki/9aa135a6/</guid>
        <description>&lt;p&gt;å†’å·(:) æ˜¯ä¸€ä¸ªç©ºå‘½ä»¤. ä½œç”¨ä¸trueç›¸åŒ. &amp;ldquo;:&amp;ldquo;æ˜¯ä¸€ä¸ªbashå†…å»ºå‘½ä»¤, è¿”å›å€¼ä¸º0, å³ä¸trueç›¸åŒ. ä¾‹:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;:
echo $?  # 0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ­»å¾ªç¯&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;while :
do
    list_1
    list_2
done
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;if/then ä¸­çš„å ä½ç¬¦&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;if list
then : # ä»€ä¹ˆéƒ½ä¸åš, å¼•å‡ºåˆ†æ”¯
else
    take-some-action
fi
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨ä¸€ä¸ª2å…ƒå‘½ä»¤ä¸­, æä¾›ä¸€ä¸ªå ä½ç¬¦, è¡¨æ˜åé¢çš„è¡¨è¾¾å¼, ä¸æ˜¯ä¸€ä¸ªå‘½ä»¤, å¦‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;:$((n=$n+1)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚æœæ²¡æœ‰:, bashä¼šå°è¯•æŠŠ&amp;rdquo;$((n=$n+1))&amp;rdquo; è§£é‡Šæˆä¸€ä¸ªå‘½ä»¤&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨&amp;quot;å‚æ•°æ›¿æ¢&amp;quot; æ¥è¯„ä¼°å­—ç¬¦ä¸²å˜é‡&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;:${HOSTNAME?}${USER?}${MAIL?}
# å¦‚æœä¸€ä¸ªæˆ–å¤šä¸ªç¯å¢ƒå˜é‡æ²¡æœ‰è®¾ç½®, åˆ™æ‰“å°é”™è¯¯ä¿¡æ¯
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨å’Œ&amp;gt;(é‡å®šå‘ç¬¦å·)ç»“åˆä½¿ç”¨æ—¶, æŠŠä¸€ä¸ªæ–‡ä»¶æˆªæ–­åˆ°0é•¿åº¦, ä¸ä¿®æ”¹å®ƒçš„æƒé™. å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨, åˆ™åˆ›å»ºå®ƒ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;: &amp;gt; data.xxx # æ–‡ä»¶&amp;quot;data.xxx&amp;quot; è¢«æ¸…ç©º
# ä¸ cat /dev/null &amp;gt; data.xxx ä½œç”¨ç›¸åŒ, ä½†æ˜¯ä¸ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„è¿›ç¨‹, å› ä¸º:æ˜¯ä¸€ä¸ªå†…å»ºå‘½ä»¤.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åªé€‚ç”¨äºæ™®é€šæ–‡ä»¶, ä¸é€‚ç”¨äºç®¡é“, ç¬¦å·é“¾æ¥, å’Œå…¶ä»–ç‰¹æ®Šæ–‡ä»¶.&lt;/p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥ç”¨ä½œæ³¨é‡Š, :ä¸#ä¸åŒçš„æ˜¯, :ä¸ä¼šå…³é—­å‰©ä½™è¡Œçš„é”™è¯¯æ£€æŸ¥.&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Shellç¼–ç¨‹ä¸­selectç”¨æ³•</title>
        <link>https://lxb.wiki/53b3b0c1/</link>
        <pubDate>Tue, 05 Sep 2017 16:02:11 +0000</pubDate>
        
        <guid>https://lxb.wiki/53b3b0c1/</guid>
        <description>&lt;p&gt;selectæä¾›äº†ä¸€ä¸ªæ„å»ºäº¤äº’å¼èœå•ç¨‹åºçš„æ–¹å¼, è¯­æ³•ç»“æ„: &lt;code&gt;select name [ in word ] ; do list ; done&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä¾‹:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
select i in a b c d
do
    echo $i
done
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ‰§è¡Œç»“æœ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ./select.sh 
1) a
2) b
3) c
4) d
#? 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é€‰æ‹©ç´¢å¼•&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ./select.sh 
1) a
2) b
3) c
4) d
#? 1
a
#? 2
b
#? 3
c
#? 4
d
#? 6

#? 
1) a
2) b
3) c
4) d
#? 
1) a
2) b
3) c
4) d
#? 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚æœè¾“å…¥çš„ä¸æ˜¯èœå•æè¿°çš„èŒƒå›´å°±ä¼šechoä¸€ä¸ªç©ºè¡Œï¼Œå¦‚æœç›´æ¥è¾“å…¥å›è½¦ï¼Œå°±ä¼šå†æ˜¾ç¤ºä¸€éèœå•æœ¬èº«ã€‚å½“ç„¶æˆ‘ä»¬ä¼šå‘ç°è¿™æ ·ä¸€ä¸ªèœå•ç¨‹åºä¼¼ä¹æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Œå®é™…ç¨‹åºä¸­ï¼Œselectå¤§å¤šæ•°æƒ…å†µæ˜¯è·Ÿcaseé…åˆä½¿ç”¨çš„ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
select i in a b c d
do
    case $i in 
        a)
            echo &amp;quot;Your choice is a&amp;quot;
        ;;
        b)
            echo &amp;quot;Your choice is b&amp;quot;
        ;;
        c)
            echo &amp;quot;Your choice is c&amp;quot;
        ;;
        d)
            echo &amp;quot;Your choice is d&amp;quot;
        ;;
        *)
            echo &amp;quot;Wrong choice! exit!&amp;quot;
        ;;
    esac
done
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ‰§è¡Œç»“æœ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ./select.sh 
1) a
2) b
3) c
4) d
#? 1
Your choice is a
#? 2
Your choice is b
#? 3
Your choice is c
#? 4
Your choice is d
#? 5
Wrong choice! exit!
&lt;/code&gt;&lt;/pre&gt;
</description>
        </item>
        <item>
        <title>åœ¨shellè„šæœ¬ä¸­ä½¿ç”¨lså‘½ä»¤çš„æ³¨æ„äº‹é¡¹</title>
        <link>https://lxb.wiki/12994d1/</link>
        <pubDate>Tue, 05 Sep 2017 15:03:02 +0000</pubDate>
        
        <guid>https://lxb.wiki/12994d1/</guid>
        <description>&lt;p&gt;è¯·å¯¹æ¯”å¦‚ä¸‹ä¸¤ä¸ªæµ‹è¯•ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ for i in `ls /etc`;do echo $i;done
adjtime
adobe
appstream.conf
arch-release
asound.conf
avahi
bash.bash_logout
bash.bashrc
bind.keys
binfmt.d
......


$ for i in /etc/*;do echo $i;done
/etc/adjtime
/etc/adobe
/etc/appstream.conf
/etc/arch-release
/etc/asound.conf
/etc/avahi
/etc/bash.bash_logout
/etc/bash.bashrc
/etc/bind.keys
/etc/binfmt.d
......
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åƒlsè¿™æ ·çš„å‘½ä»¤å¾ˆå¤šæ—¶å€™æ˜¯è®¾è®¡ç»™äººç”¨çš„ï¼Œå®ƒçš„å¾ˆå¤šæ˜¾ç¤ºæ˜¯æœ‰ç‰¹æ®Šè®¾å®šçš„ï¼Œå¯èƒ½å¹¶ä¸æ˜¯çº¯æ–‡æœ¬ã€‚ æ¯”å¦‚å¯èƒ½åŒ…å«ä¸€äº›æ ¼å¼åŒ–å­—ç¬¦ï¼Œä¹Ÿå¯èƒ½åŒ…å«å¯ä»¥è®©ç»ˆç«¯æ˜¾ç¤ºå‡ºé¢œè‰²çš„æ ‡è®°å­—ç¬¦ç­‰ç­‰ã€‚ å½“æˆ‘ä»¬åœ¨ç¨‹åºé‡Œé¢ä½¿ç”¨ç±»ä¼¼è¿™æ ·çš„å‘½ä»¤çš„æ—¶å€™è¦æ ¼å¤–å°å¿ƒï¼Œè¯´ä¸å®šä»€ä¹ˆæ—¶å€™åœ¨ä»€ä¹ˆä¸åŒç¯å¢ƒé…ç½®çš„ç³»ç»Ÿä¸Šï¼Œ ä½ çš„ç¨‹åºå°±ä¼šæœ‰æ„æƒ³ä¸åˆ°çš„å¼‚å¸¸å‡ºç°ï¼Œåˆ°æ—¶å€™æ’æŸ¥èµ·æ¥éå¸¸éº»çƒ¦ã€‚ æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬åº”è¯¥å°½é‡é¿å…ä½¿ç”¨lsè¿™æ ·çš„å‘½ä»¤æ¥åšç±»ä¼¼çš„è¡Œä¸ºï¼Œç”¨é€šé…ç¬¦å¯èƒ½æ›´å¥½ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œå¦‚æœä½ è¦æ“ä½œçš„æ˜¯å¤šå±‚ç›®å½•æ–‡ä»¶çš„è¯ï¼Œé‚£ä¹ˆlså°±æ›´ä¸èƒ½å¸®ä½ çš„å¿™äº†ï¼Œå®ƒé‡åˆ°ç›®å½•ä¹‹åæ˜¾ç¤ºæˆè¿™æ ·ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ls /etc/*
/etc/adobe:
mms.cfg

/etc/avahi:
avahi-autoipd.action  avahi-daemon.conf  avahi-dnsconfd.action  hosts  services

/etc/binfmt.d:

/etc/bluetooth:
main.conf

/etc/ca-certificates:
extracted  trust-source
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ‰€ä»¥éå†ä¸€ä¸ªç›®å½•è¿˜æ˜¯è¦ç”¨ä¸¤ä¸ªè¿ç»­çš„&lt;code&gt;**&lt;/code&gt;ï¼Œå¦‚æœä¸æ˜¯bash 4.0ä¹‹åçš„ç‰ˆæœ¬çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨findã€‚ æˆ‘æ¨èç”¨findï¼Œå› ä¸ºå®ƒæ›´é€šç”¨ã€‚ æœ‰æ—¶å€™ä½ ä¼šå‘ç°ï¼Œä½¿ç”¨findä¹‹åï¼Œç»å¤§å¤šæ•°åŸæ¥éœ€è¦å†™è„šæœ¬è§£å†³çš„é—®é¢˜å¯èƒ½éƒ½ç”¨ä¸ç€äº†ï¼Œä¸€ä¸ªfindå‘½ä»¤è§£å†³å¾ˆå¤šé—®é¢˜&lt;/p&gt;
</description>
        </item>
        <item>
        <title>é‚®ä»¶å‘é€åŸç†</title>
        <link>https://lxb.wiki/b0248f59/</link>
        <pubDate>Thu, 08 Jun 2017 10:34:08 +0000</pubDate>
        
        <guid>https://lxb.wiki/b0248f59/</guid>
        <description>&lt;p&gt;SMTP(Simple Mail Transfer Protocol)æ˜¯ç”µå­é‚®ä»¶ä»å®¢æˆ·æœºä¼ è¾“åˆ°æœåŠ¡å™¨æˆ–ä»æŸä¸€ä¸ªæœåŠ¡å™¨ä¼ è¾“åˆ°å¦ä¸€ä¸ªæœåŠ¡å™¨ä½¿ç”¨çš„ä¼ è¾“åè®®ã€‚SMTP æ˜¯è¯·æ±‚/å“åº”åè®®ï¼Œå‘½ä»¤å’Œå“åº”éƒ½æ˜¯åŸºäº ASCII æ–‡æœ¬ï¼Œå¹¶ä»¥ CR å’Œ LF ç¬¦ç»“æŸã€‚å“åº”åŒ…æ‹¬ä¸€ä¸ªè¡¨ç¤ºè¿”å›çŠ¶æ€çš„ä¸‰ä½æ•°å­—ä»£ç ã€‚åœ¨ TCP åè®® 25 ç«¯å£ç›‘å¬è¿æ¥è¯·æ±‚ã€‚å…¶å‘½ä»¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;SMTPå‘½ä»¤&lt;/p&gt;
&lt;p&gt;å‘½ä»¤è¯´æ˜&lt;/p&gt;
&lt;p&gt;HELO ï¼œdomainï¼ï¼œCRLFï¼&lt;/p&gt;
&lt;p&gt;è¯†åˆ«å‘é€æ–¹åˆ°æ¥æ”¶SMTPçš„ä¸€ä¸ªHELOå‘½ä»¤&lt;/p&gt;
&lt;p&gt;AUTH LOGIN&lt;/p&gt;
&lt;p&gt;ç™»é™†æœåŠ¡å™¨çš„å‘½ä»¤ã€‚åœ¨è¿™æ¡å‘½ä»¤ä¹‹åï¼Œè¦å‘é€ç”¨Base64ç¼–ç åçš„ç”¨æˆ·åä¸å¯†ç è¿›è¡Œç™»é™†&lt;/p&gt;
&lt;p&gt;MAIL FROM:ï¼œreverse-pathï¼ï¼œCRLFï¼&lt;/p&gt;
&lt;p&gt;ï¼œreverse-pathï¼ä¸ºå‘é€è€…åœ°å€ã€‚æ­¤å‘½ä»¤å‘Šè¯‰æ¥æ”¶æ–¹ä¸€ä¸ªæ–°é‚®ä»¶å‘é€çš„å¼€å§‹ï¼Œå¹¶å¯¹æ‰€æœ‰çš„çŠ¶æ€å’Œç¼“å†²åŒºè¿›è¡Œåˆå§‹åŒ–ã€‚æ­¤å‘½ä»¤å¼€å§‹ä¸€ä¸ªé‚®ä»¶ä¼ è¾“å¤„ç†ï¼Œæœ€ç»ˆå®Œæˆå°†é‚®ä»¶æ•°æ®ä¼ é€åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªé‚®ç®±ä¸­&lt;/p&gt;
&lt;p&gt;RCPT TO:ï¼œforward-pathï¼ï¼œCRLFï¼&lt;/p&gt;
&lt;p&gt;ï¼œforward-pathï¼æ ‡è¯†å„ä¸ªé‚®ä»¶æ¥æ”¶è€…çš„åœ°å€&lt;/p&gt;
&lt;p&gt;DATA ï¼œCRLFï¼&lt;/p&gt;
&lt;p&gt;æ¥æ”¶SMTPå°†æŠŠå…¶åçš„è¡Œä¸ºçœ‹ä½œé‚®ä»¶æ•°æ®å»å¤„ç†ï¼Œä»¥ï¼œCRLFï¼.ï¼œCRLFï¼æ ‡è¯†æ•°æ®çš„ç»“å°¾&lt;/p&gt;
&lt;p&gt;REST ï¼œCRLFï¼&lt;/p&gt;
&lt;p&gt;é€€å‡º/å¤ä½å½“å‰çš„é‚®ä»¶ä¼ è¾“&lt;/p&gt;
&lt;p&gt;NOOP ï¼œCRLFï¼&lt;/p&gt;
&lt;p&gt;è¦æ±‚æ¥æ”¶SMTPä»…åšOKåº”ç­”ã€‚ï¼ˆç”¨äºæµ‹è¯•ï¼‰&lt;/p&gt;
&lt;p&gt;QUIT ï¼œCRLFï¼&lt;/p&gt;
&lt;p&gt;è¦æ±‚æ¥æ”¶SMTPè¿”å›ä¸€ä¸ªOKåº”ç­”å¹¶å…³é—­ä¼ è¾“ã€‚&lt;/p&gt;
&lt;p&gt;VRFY ï¼œstringï¼ ï¼œCRLFï¼&lt;/p&gt;
&lt;p&gt;éªŒè¯æŒ‡å®šçš„é‚®ç®±æ˜¯å¦å­˜åœ¨ï¼Œç”±äºå®‰å…¨å› ç´ ï¼ŒæœåŠ¡å™¨å¤šç¦æ­¢æ­¤å‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;EXPN ï¼œstringï¼ ï¼œCRLFï¼&lt;/p&gt;
&lt;p&gt;éªŒè¯ç»™å®šçš„é‚®ç®±åˆ—è¡¨æ˜¯å¦å­˜åœ¨ï¼Œæ‰©å……é‚®ç®±åˆ—è¡¨ï¼Œä¹Ÿå¸¸ç¦æ­¢ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;HELP ï¼œCRLFï¼&lt;/p&gt;
&lt;p&gt;æŸ¥è¯¢æœåŠ¡å™¨æ”¯æŒä»€ä¹ˆå‘½ä»¤&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é‚®ä»¶äº¤äº’å›¾&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;A-&amp;gt;B: 1. å»ºç«‹TCPè¿æ¥(host:port, é»˜è®¤portä¸º25)
B-&amp;gt;A: 220. Anti-spam GT for Coremail System
Note over A: 
A-&amp;gt;B: 2. å‘æœåŠ¡å™¨æ ‡è¯†ç”¨æˆ·èº«ä»½(HELO host\r\/n)
B-&amp;gt;A: 250 OK
Note over A: 
A-&amp;gt;B: 3. ç™»å½•æœåŠ¡å™¨(AUTH LOGIN\r\/n)
B-&amp;gt;A: 334. username: (è¿™é‡Œæ˜¯è§£å¯†åçš„ä¿¡æ¯)
A-&amp;gt;B: &amp;lt;my_username&amp;gt;(è¦ç”¨Base64åŠ å¯†)
B-&amp;gt;A: 334. password: (è¿™é‡Œæ˜¯è§£å¯†åçš„ä¿¡æ¯)
A-&amp;gt;B: &amp;lt;my_password&amp;gt;(è¦ç”¨Base64åŠ å¯†)
B-&amp;gt;A: 235. Authentication successful
Note over A: 
A-&amp;gt;B: 4. æŒ‡å®šå‘ä¿¡è€…(MAIL FROM: &amp;lt;my_sender@gmail.com&amp;gt;\r\/n)
B-&amp;gt;A: 250. Mail OK
Note over A: 
A-&amp;gt;B: 5. æŒ‡å®šæ”¶ä¿¡è€…(RCPT TO: &amp;lt;my_receiver@gmail.com&amp;gt;\r\/n)
B-&amp;gt;A: 250. Mail OK
Note over A: 
A-&amp;gt;B: 6. å‘é€æ•°æ®(DATA\r\/n)
B-&amp;gt;A: 354. End data with &amp;lt;CR&amp;gt;&amp;lt;LF&amp;gt;.&amp;lt;CR&amp;gt;&amp;lt;LF&amp;gt;
Note over A: 
A-&amp;gt;B: 7. to: &amp;lt;my_receiver@gmail.com\r\/nsubject:&amp;lt;my_subject&amp;gt;\r\/nSome Context\r\/n.\r\/n&amp;gt;
B-&amp;gt;A: 250. Mail OK
Note over A: 
A-&amp;gt;B: 8. QUIT\r\/n
B-&amp;gt;A: 221. Bye
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;å› markdowné‡Œä¸èƒ½æ‰“å‡º&amp;quot;\n&amp;quot;, å› æ­¤ä½¿ç”¨&amp;quot;\/n&amp;quot; ä»£æ›¿&amp;quot;\n&amp;quot;&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;SMTPå‘ä¿¡æ“ä½œåŠè¿”å›ç &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[crazywill@localhost crazywill]$ telnet smtp.163.com 25 #telnetç™»å½•25ç«¯å£
Trying 202.108.5.81...
Connected to smtp.163.com.
Escape character is &#39;^]&#39;.
220 163.com Coremail SMTP(Anti Spam) System
EHLO smtp.163.com # æ¡æ‰‹ :)
250-mail
250-PIPELINING
250-AUTH LOGIN PLAIN
250-AUTH=LOGIN PLAIN
250 8BITMIME
AUTH LOGIN # å¼€å§‹è®¤è¯ç™»å½•
334 dXNlcm5hbWU6
crazywill
334 UGFzc3dvcmQ6
mypassword
535 Error: authentication failed # ç›´æ¥ç”¨æˆ·åå¯†ç ä¸èƒ½ç™»å½•
AUTH LOGIN
334 dXNlcm5hbWU6
Y3Jhenl3aWxs
334 UGFzc3dvcmQ6
bXlwYXNzd29yZA==
235 Authentication successful # ä½¿ç”¨Base64ç¼–ç åˆ™æˆåŠŸç™»å½•
MAIL FROM:&amp;lt;test@163.com&amp;gt; # é‚®ä»¶å‘é€æ–¹
553 You are not authorized to send mail, authentication is required # ä¸å¯ä¼ªé€ å‘é€é‚®ä»¶ 
MAIL FROM:&amp;lt;crazywill@163.com&amp;gt; # é‚®ä»¶å‘é€æ–¹
250 Mail OK
RCPT TO:&amp;lt;crazywill@163.com&amp;gt; # é‚®ä»¶çš„æ¥æ”¶æ–¹ï¼Œè‹¥æœ‰å¤šä¸ªæ”¶ä»¶äººï¼Œåˆ™é‡å¤è¿™ä¸€è¯­å¥å¤šæ¬¡ã€‚
250 Mail OK
DATA # é‚®ä»¶ä½“å†…å®¹
354 Please start mail input.
TO: crazywill@163.com # æ­¤å¤„çš„TOï¼ŒFROMï¼Œç­‰å†…å®¹ï¼Œå¯ä»¥éšä¾¿é€ å‡ :) å¯ä»¥éª—äººä½†éª—ä¸äº†æ‡‚å¾—æŸ¥çœ‹é‚®ä»¶æºç çš„ã€‚
FROM: cccc@163.com
SUBJECT: test by telnet/smtp 

test, just a test. # é‚®ä»¶æ­£æ–‡å†…å®¹ï¼Œä¸Headeréƒ¨åˆ†ç©ºä¸€è¡Œå¼€å§‹å†™
. # é‚®ä»¶å†™å®Œï¼Œä»¥ä¸€ä¸ªå¥ç‚¹åŠ å›è½¦ç»“æœã€‚
250 Mail OK queued as smtp10,wKjADQ2ApxRnnqBE0CWaEw==.38326S3 # è¿”å›250 è¡¨ç¤ºå‘é€æˆåŠŸã€‚
NOOP # ç©ºè¯­å¥ï¼Œä¸æ‰§è¡Œä»»ä½•æ“ä½œï¼Œä¸€èˆ¬ç”¨æ¥ä¿æŒå’ŒæœåŠ¡å™¨è¿æ¥ï¼Œä¸è¦æ‰çº¿
250 OK
QUIT # é€€å‡º
221 Closing connection. Good bye.
Connection closed by foreign host.
[crazywill@localhost crazywill]$
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;p&gt;å‚è€ƒèµ„æ–™: &lt;a class=&#34;link&#34; href=&#34;http://www.cnblogs.com/FengYan/archive/2013/01/01/2840982.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ç”¨c++å‘é‚®ä»¶&lt;/a&gt; &lt;a class=&#34;link&#34; href=&#34;http://blog.csdn.net/lishuhuakai/article/details/27503503&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ç”µå­é‚®ä»¶å‘é€çš„åŸç†ä»¥åŠç®€æ˜“å®ç°&lt;/a&gt; &lt;a class=&#34;link&#34; href=&#34;http://blog.csdn.net/lishuhuakai/article/details/27852009&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;é‚®ä»¶æ­£æ–‡åŠå…¶é™„ä»¶çš„å‘é€çš„C++å®ç°&lt;/a&gt; &lt;a class=&#34;link&#34; href=&#34;http://blog.csdn.net/zbird1988/article/details/11592137&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;C++é€šè¿‡SMTPå‘é€é‚®ä»¶æ€»ç»“&lt;/a&gt; &lt;a class=&#34;link&#34; href=&#34;http://blog.csdn.net/zbird1988/article/details/11592137&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;C++å®ç°å‘å¤šäººå‘é€é‚®ä»¶&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘How to split a string in C&#43;&#43;</title>
        <link>https://lxb.wiki/9747854a/</link>
        <pubDate>Sun, 04 Jun 2017 18:40:14 +0000</pubDate>
        
        <guid>https://lxb.wiki/9747854a/</guid>
        <description>&lt;p&gt;è¿™ä¸ªé—®é¢˜æ˜¯è¯´, æ€ä¹ˆå¾—åˆ°ç»„æˆä¸€å¥è¯çš„å„ä¸ªå•è¯, æˆ–è€…å¾—åˆ°CSVä¸­çš„å„ä¸ªæ•°æ®ç‰‡æ®µ. è¿™åœ¨C++ä¸­æ˜¯ä¸ªå¾ˆç®€å•çš„é—®é¢˜, å´æœ‰å¾ˆå¤šç§ç­”æ¡ˆ.&lt;/p&gt;
&lt;p&gt;æœ‰3ç§æ–¹æ¡ˆ, æ¯ç§æœ‰åˆ©æœ‰å¼Š. ä½¿ç”¨æ—¶è¯·è‡ªå·±é€‰æ‹©æœ€ä½³æ–¹æ¡ˆ. è¿™ç¯‡æ–‡ç« çš„ç›®çš„æ˜¯è¯´æ˜ è¿­ä»£å™¨çš„æ¥å£æ˜¯å¦‚ä½•ä¼˜èƒœäºç®€å•çš„å®¹å™¨çš„, å¹¶ä¸”é˜æ˜ &lt;a class=&#34;link&#34; href=&#34;http://www.fluentcpp.com/2017/04/18/the-design-of-the-stl/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;design of the STL&lt;/a&gt; æ˜¯ä½•ç­‰å¼ºå¤§.&lt;/p&gt;
&lt;p&gt;æ–¹æ¡ˆ1ä½¿ç”¨çš„æ ‡å‡†ç»„ä»¶(è™½ç„¶æ–¹æ¡ˆ1.2 åšäº†å¾®è°ƒ). æ–¹æ¡ˆ2ç›¸å¯¹å¥½ç‚¹ä½†ä½¿ç”¨äº†&lt;code&gt;boost&lt;/code&gt;. è€Œæ–¹æ¡ˆ3 æ›´å¥½ä½†ä½¿ç”¨äº†&lt;code&gt;ranges&lt;/code&gt;. æ‰€ä»¥åˆ°åº•åº”è¯¥ç”¨å“ªä¸ª, å–å†³äºä½ éœ€è¦ä»€ä¹ˆå’Œä½ èƒ½ä½¿ç”¨ä»€ä¹ˆ.&lt;/p&gt;
&lt;h3 id=&#34;solution-1-iterating-on-a-stream&#34;&gt;Solution 1: Iterating on a stream&lt;/h3&gt;
&lt;h4 id=&#34;stepping-into-the-world-of-streams&#34;&gt;Stepping into the world of streams&lt;/h4&gt;
&lt;p&gt;&amp;ldquo;æµ&amp;rdquo; æ˜¯ä¸€ä¸ª èƒ½ç”Ÿæˆ ä¸æºæˆ–å¸Œæœ›è¿æ¥çš„ç›®æ ‡ çš„è”ç³» çš„å¯¹è±¡. æµå¯ä»¥ä»æºä¸­è·å–ä¿¡æ¯(&lt;code&gt;std::istream&lt;/code&gt;), æˆ–ä¸ºç›®æ ‡æä¾›ä¿¡æ¯(&lt;code&gt;std::ostream&lt;/code&gt;), æˆ–è€…ä¸¤è€…çš†å¯(&lt;code&gt;std::iostream&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;æºå’Œç›®æ ‡å¯ä»¥æ˜¯æ ‡å‡†è¾“å…¥(&lt;code&gt;std::cin&lt;/code&gt;), æ ‡å‡†è¾“å‡º(&lt;code&gt;std::cout&lt;/code&gt;), ä¸€ä¸ªæ–‡ä»¶, æˆ–è€…ä¸€ä¸ªå­—ç¬¦ä¸², å‰ææ˜¯æ–¹å¼å¾—å½“. å¯¹æµçš„ä¸»è¦æ“ä½œåŒ…æ‹¬: - å¯¹äºè¾“å…¥æµ: ä½¿ç”¨æ“ä½œç¬¦&lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt; ä»é‡Œé¢è¯»å–ä¿¡æ¯ - å¯¹äºè¾“å‡ºæµ: ä½¿ç”¨æ“ä½œç¬¦&lt;code&gt;&amp;lt;&amp;lt;&lt;/code&gt;, å‘å®ƒæ¨å…¥ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªæŒ‡å‘å­—ç¬¦ä¸²çš„è¾“å…¥æµ, &lt;code&gt;std::istringstream&lt;/code&gt;, æœ‰ä¸ªæœ‰è¶£çš„ç‰¹æ€§: å®ƒçš„æ“ä½œç¬¦&lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt; åœ¨æºå­—ç¬¦ä¸²ä¸­åˆ¶é€ å‡ºå»å‘ä¸‹ä¸€ä¸ªç©ºæ ¼çš„å­—ç¬¦ä¸².&lt;/p&gt;
&lt;h4 id=&#34;istream_iterator&#34;&gt;istream_iterator&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;std::istream_iterator&lt;/code&gt; æ˜¯è¿æ¥è¾“å…¥æµçš„è¿­ä»£å™¨. å®ƒä»£è¡¨äº†è¾“å…¥è¿­ä»£å™¨çš„æ™®éæ¥å£, ä½†å®ƒçš„æ“ä½œç¬¦&lt;code&gt;++&lt;/code&gt; æ›´åƒæ˜¯è¾“å…¥æµ.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;istream_iterator&lt;/code&gt; ä»¥å®ƒä»æµé‡Œè¯»å–çš„ç±»å‹ä¸ºæ¨¡æ¿. æˆ‘ä»¬ç°åœ¨ä½¿ç”¨&lt;code&gt;istream_iterator&amp;lt;std::string&amp;gt;&lt;/code&gt;, å®ƒä»æµé‡Œè¯»å–å­—ç¬¦ä¸², åˆ†ç¦»æ—¶ä¸ºæˆ‘ä»¬æä¾›ä¸€ä¸ªå­—ç¬¦ä¸².&lt;/p&gt;
&lt;p&gt;å½“åˆ°è¾¾æµçš„ç»ˆç‚¹æ—¶, æµå‘å®ƒçš„è¿­ä»£å™¨å‘é€ä¿¡å·, ç„¶åè¿­ä»£å™¨è¢«æ ‡è®°ä¸ºç»“æŸ.&lt;/p&gt;
&lt;h3 id=&#34;solution-11&#34;&gt;Solution 1.1&lt;/h3&gt;
&lt;p&gt;ç°åœ¨, æˆ‘ä»¬å¯ä»¥å€Ÿè¿­ä»£å™¨çš„æ¥å£ä½¿ç”¨ç®—æ³•, è¿™çœŸåˆ‡åœ°è¯æ˜äº†&lt;code&gt;STL&lt;/code&gt; è®¾è®¡çš„çµæ´»æ€§. ä¸ºäº†ä½¿ç”¨&lt;code&gt;STL&lt;/code&gt;, æˆ‘ä»¬éœ€è¦ä¸€ä¸ª&lt;code&gt;begin&lt;/code&gt; å’Œä¸€ä¸ª&lt;code&gt;end&lt;/code&gt; (è¯·å‚è€ƒ&lt;a class=&#34;link&#34; href=&#34;http://www.fluentcpp.com/2017/03/28/inserting-several-elements-into-an-stl-container/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Inserting several elements into an STL container efficiently&lt;/a&gt;). &lt;code&gt;begin&lt;/code&gt; æ˜¯ä¸€ä¸ª è¿˜æ²¡å¼€å§‹ç€æ‰‹åˆ†å‰²çš„å­—ç¬¦ä¸²çš„&lt;code&gt;istreamstream&lt;/code&gt; çš„è¿­ä»£å™¨: &lt;code&gt;std::istream_iterator&amp;lt;std::string&amp;gt;(iss)&lt;/code&gt; . æŒ‰ç…§æƒ¯ä¾‹, &lt;code&gt;end&lt;/code&gt; çš„é»˜è®¤å€¼ä¹Ÿæ˜¯ä¸ª&lt;code&gt;istream_iterator&lt;/code&gt; : &lt;code&gt;std::istream_iterator&amp;lt;string&amp;gt;()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;ä»£ç å¦‚ä¸‹:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;std::string text = &amp;quot;Let me split this into words&amp;quot;;
std::istringstream iss(text);
std::vector&amp;lt;std::string&amp;gt; results((std::istream_iterator&amp;lt;std::string&amp;gt;(iss)), std::istream_iterator&amp;lt;std::string&amp;gt;());
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;ç¬¬ä¸€ä¸ªå‚æ•°çš„é¢å¤–çš„æ‹¬å·æ˜¯ä¸ºäº†é¿å…ä¸ä¸€ä¸ªå‡½æ•°è°ƒç”¨çš„æ­§ä¹‰&amp;ndash;è¯·å‚è€ƒScott Meyersçš„è‘—ä½œEffective STL æ¡ç›®6 &amp;ldquo;most vexing parse&amp;rdquo;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¼˜: - ä»…ä½¿ç”¨æ ‡å‡†ç»„ä»¶ - é™¤å­—ç¬¦ä¸²å¤–, å¯¹æ‰€æœ‰æµéƒ½é€‚ç”¨ åŠ£: - åªèƒ½ä»¥ç©ºæ ¼ä¸ºåˆ†éš”ç¬¦è¿›è¡Œåˆ†å‰², è€Œä¸”è¿™åœ¨è§£æCSVæ—¶ä¼šæ˜¯ä¸ªè‡³å…³é‡è¦çš„é—®é¢˜ - åœ¨æ€§èƒ½æ–¹é¢æœ‰å¾…ä¼˜åŒ–(ä½†å¦‚æœè¿™ä¸æ˜¯å½±å“ä½ æ•´ä¸ªç¨‹åºçš„ç“¶é¢ˆ, è¿™ä¹Ÿä¸æ˜¯ä¸ªå¤§é—®é¢˜) - å¾ˆå¤šäººè®¤ä¸ºä»…ä¸ºäº†åˆ†å‰²ä¸€ä¸ªå­—ç¬¦ä¸², å†™äº†å¤ªå¤šä»£ç &lt;/p&gt;
&lt;h3 id=&#34;solution12-pimp-my-operator&#34;&gt;Solution1.2: Pimp my operator&amp;raquo;&lt;/h3&gt;
&lt;p&gt;å¯¼è‡´ä¸Šé¢ä¸¤æ¡åŠ£åŠ¿çš„åŸå› æ˜¯åŒä¸€ä¸ª: &lt;code&gt;istream_iterator&lt;/code&gt; ä»æµé‡Œè¯»å–å­—ç¬¦ä¸²æ—¶è°ƒç”¨çš„æ“ä½œç¬¦&lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt;. è¿™ä¸ªæ“ä½œç¬¦åšäº†å¾ˆå¤šäº‹: åœ¨ä¸‹ä¸€ä¸ªç©ºæ ¼å¤„åœæ­¢(è¿™æ˜¯æˆ‘ä»¬çš„æœ€åˆçš„éœ€æ±‚, ä½†è¿™ä¸ªä¸èƒ½è‡ªå®šä¹‰), æ ¼å¼åŒ–, è¯»å–ç„¶åè®¾ç½®ä¸€äº›æ ‡å¿—ä½, æ„é€ å¯¹è±¡, ç­‰ç­‰. è€Œä»¥ä¸Šè¿™äº›, å¤§éƒ¨åˆ†æˆ‘ä»¬æ˜¯ä¸éœ€è¦çš„. æ‰€ä»¥æˆ‘ä»¬å¸Œæœ›è‡ªå·±å®ç°ä¸‹é¢çš„å‡½æ•°:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;std::istream&amp;amp; operator&amp;gt;&amp;gt;(std::istream&amp;amp; is, std::string&amp;amp; output)
{
    // ...does lots of things...
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å®é™…ä¸Š, æˆ‘ä»¬æ— æ³•æ”¹å˜è¿™äº›, å› ä¸ºè¿™æ˜¯åœ¨æ ‡æ³¨åº“é‡Œçš„. æˆ‘ä»¬å¯ä»¥ç”¨å¦ä¸€ä¸ªç±»å‹é‡è½½å®ƒ, ä½†æ˜¯è¿™ä¸ªç±»å‹éœ€è¦æ˜¯&lt;code&gt;string&lt;/code&gt; çš„ä¸€ç§.&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ç°åœ¨çš„éœ€æ±‚å°±æ˜¯, ç”¨å¦ä¸€ç§ç±»å‹ä¼ªè£…æˆ&lt;code&gt;string&lt;/code&gt;. æœ‰ä¸¤ç§æ–¹æ¡ˆ: ç»§æ‰¿&lt;code&gt;std::string&lt;/code&gt; å’Œ ç”¨æ˜¾å¼è½¬æ¢å°è£…&lt;code&gt;string&lt;/code&gt;. è¿™é‡Œæˆ‘ä»¬é€‰æ‹©ç»§æ‰¿.&lt;/p&gt;
&lt;p&gt;å‡å¦‚æˆ‘ä»¬å¸Œæœ›ä»¥é€—å·ä¸ºåˆ†å‰²ç¬¦åˆ†å‰²ä¸€ä¸ªå­—ç¬¦ä¸²:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;class WordDelimitedByCommas: pulic std::string
{};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ‘å¿…é¡»æ‰¿è®¤è¿™æ˜¯æœ‰äº‰è®®çš„. æœ‰äººä¼šè¯´:&amp;quot;&lt;code&gt;std::string&lt;/code&gt; æ²¡æœ‰è™šææ„å‡½æ•°, æ‰€ä»¥ä½ ä¸åº”è¯¥ç»§æ‰¿å®ƒ!&amp;quot; è¿™å¯èƒ½, å¤§æ¦‚, ä¹Ÿè®¸æ˜¯æœ‰ä¸€ç‚¹ç‚¹ç‚¹ç‚¹æ­¦æ–­. è¿™é‡Œæˆ‘è¦è¯´çš„æ˜¯, ç»§æ‰¿æœ¬èº«ä¸ä¼šäº§ç”Ÿé—®é¢˜. è¯šç„¶, å½“ä¸€ä¸ªæŒ‡å‘&lt;code&gt;WordDelimitedByCommas&lt;/code&gt; çš„æŒ‡é’ˆä»¥&lt;code&gt;std::string&lt;/code&gt; çš„å½¢å¼è¢«&lt;code&gt;delete&lt;/code&gt; æ‰æ—¶, ä¼šäº§ç”Ÿé—®é¢˜. ç»§ç»­è¯», ä½ ä¼šå‘ç°, æˆ‘ä»¬ä¸ä¼šè¿™ä¹ˆåš. ç°åœ¨æˆ‘ä»¬å¯ä»¥é˜»æ­¢å†™ä»£ç çš„äººå€Ÿ&lt;code&gt;WordDelimitedByCommas&lt;/code&gt; çªå‘å†·ç®­ç ´åç¨‹åºå—? æˆ‘ä»¬ä¸èƒ½. ä½†æ˜¯è¿™ä¸ªé™©å€¼å¾—æˆ‘ä»¬å†’å—? è¯·ç»§ç»­è¯», ç„¶åä½ è‡ªå·±åˆ¤æ–­.&lt;/p&gt;
&lt;p&gt;ç°åœ¨ä¸ºäº†ä»…å®ç°æˆ‘ä»¬éœ€è¦çš„åŠŸèƒ½, æˆ‘ä»¬å¯ä»¥é‡è½½æ“ä½œç¬¦&lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt; : è·å–ä¸‹ä¸€ä¸ªé€—å·ä¹‹å‰çš„æ‰€æœ‰å­—ç¬¦. è¿™ä¸ªå¯ä»¥å€Ÿç”¨&lt;code&gt;getline&lt;/code&gt; å‡½æ•°å®ç°:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;std::istream&amp;amp; operator&amp;gt;&amp;gt;(std::istream* is, std::WordDelimitedByCommas&amp;amp;)
{
    std::getline(is, output, &#39;,&#39;);
    return is;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;è¿”å›å€¼&lt;code&gt;is&lt;/code&gt; ä¿è¯äº†å¯ä»¥è¿ç»­è°ƒç”¨æ“ä½œç¬¦&lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬å¯ä»¥å†™åˆçº§ä»£ç äº†:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;std::string text = &amp;quot;Let,me,split,this,into,words&amp;quot;;
std::istringstream iss(text);
std::vector&amp;lt;std::string&amp;gt; results((std::istream_iterator&amp;lt;WordDelimitedByCommas&amp;gt;(iss)), std::istream_iterator&amp;lt;WordDelimitedByCommas&amp;gt;());
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥é€šè¿‡æ¨¡æ¿åŒ–&lt;code&gt;WordDelimitedByCommas&lt;/code&gt; æ³›åæ‰€æœ‰çš„åˆ†éš”ç¬¦:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;template&amp;lt;char delemiter&amp;gt;
class WordDelimitedBy: pulic std::string
{};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç°åœ¨ä»¥åˆ†å·ä¸¾ä¾‹:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;std::string text = &amp;quot;Let;me;split;this;into;words&amp;quot;;
std::istringstream iss(text);
std::vector&amp;lt;std::string&amp;gt; results((std::istream_iterator&amp;lt;WordDelimitedBy&amp;lt;&#39;;&#39;&amp;gt;&amp;gt;(iss)), std::istream_iterator&amp;lt;WordDelimitedBy&amp;lt;&#39;;&#39;&amp;gt;&amp;gt;());
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¼˜: - ç¼–è¯‘æ—¶å…è®¸ä»»ä½•åˆ†éš”ç¬¦ - ä¸ä»…æ˜¯å­—ç¬¦ä¸², å¯¹ä»»ä½•æµéƒ½å¯ä»¥æ“ä½œ - æ¯”æ–¹æ¡ˆ1æ›´å¿«(å¿«20%åˆ°30%) åŠ£: - è™½ç„¶å¯ä»¥å¾ˆæ–¹ä¾¿çš„å¤ç”¨, ä½†ä»ä¸æ˜¯æ ‡å‡† - ä»…ä»…ä¸ºäº†åˆ†å‰²ä¸€ä¸ªå­—ç¬¦ä¸², è¿™ä¸ªæ–¹æ¡ˆä»ç„¶ä½¿ç”¨äº†å¤§é‡ä»£ç &lt;/p&gt;
&lt;h3 id=&#34;solution2-using-boostsplit&#34;&gt;Solution2: Using &lt;code&gt;boost::split&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;è¿™ä¸ªæ–¹æ¡ˆæ¯”æ–¹æ¡ˆ1é«˜çº§, é™¤éä½ éœ€è¦å¯¹æ‰€æœ‰çš„æµéƒ½è¿›è¡Œæ“ä½œ.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#include &amp;lt;boost/algorithm/string.hpp&amp;gt;

std::string text = &amp;quot;Let me split this into words&amp;quot;;
std::vector&amp;lt;std::string&amp;gt; result;
boost::split&amp;lt;results, text, [](char c){return &#39; &#39; == c;});
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¼ ç»™&lt;code&gt;boost::split&lt;/code&gt; çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°æˆ–å‡½æ•°å¯¹è±¡, ç¡®å®šä¸€ä¸ªå­—ç¬¦æ˜¯ä¸æ˜¯åˆ†éš”ç¬¦. ä¸Šé¢çš„ä¾‹å­æ˜¯ä½¿ç”¨&lt;code&gt;lambda&lt;/code&gt; è¡¨è¾¾å¼, ä¼ å…¥ä¸€ä¸ª&lt;code&gt;char&lt;/code&gt;, è¿”å›è¿™ä¸ª&lt;code&gt;char&lt;/code&gt; æ˜¯å¦æ˜¯ç©ºæ ¼.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;boost::split&lt;/code&gt; çš„å®ç°å¾ˆç®€å•: åœ¨åˆ°è¾¾å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ä¹‹å‰, é‡å¤åœ°è°ƒç”¨&lt;code&gt;find_if&lt;/code&gt; .&lt;/p&gt;
&lt;p&gt;ä¼˜: - éå¸¸ç›´è§‚çš„æ¥å£ - å…è®¸ä»»ä½•åˆ†éš”ç¬¦, ç”šè‡³æ˜¯å¤šä¸ª - é«˜æ•ˆ: æ¯”æ–¹æ¡ˆ1.1 å¿« 60% åŠ£: - æš‚ä¸æ˜¯æ ‡å‡†: éœ€è¦ç”¨åˆ°&lt;code&gt;boost&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;solution-3æœªæ¥-usingranges&#34;&gt;Solution 3(æœªæ¥): Using&lt;code&gt;ranges&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;è™½ç„¶å®ƒä»¬ç°åœ¨è¿˜æ²¡æœ‰åƒæ ‡å‡†åº“ç”šè‡³&lt;code&gt;boost&lt;/code&gt; é‡Œçš„ç»„ä»¶ä¸€æ ·è¢«å¹¿æ³›ä½¿ç”¨, &lt;code&gt;ranges&lt;/code&gt; æ˜¯&lt;a class=&#34;link&#34; href=&#34;http://www.fluentcpp.com/2017/01/12/ranges-stl-to-the-next-level/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;future of the STL&lt;/a&gt; . åœ¨æœªæ¥å‡ å¹´, ä¼šå¤§é‡é¢ä¸–.&lt;/p&gt;
&lt;p&gt;Eric Neiber çš„ &lt;a class=&#34;link&#34; href=&#34;https://github.com/ericniebler/range-v3/blob/master/test/view/split.cpp&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;range-v3&lt;/a&gt; åº“ æä¾›äº†éå¸¸å‹å¥½çš„æ¥å£. ä¸ºäº†ç”Ÿæˆä¸€ä¸ªå­—ç¬¦ä¸²çš„åˆ†å‰²&lt;code&gt;view&lt;/code&gt;, ä»£ç å¦‚ä¸‹:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;std::string text = &amp;quot;Let me split this into words&amp;quot;;
auto splitText = text | view::split(&#39; &#39;);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å®ƒæœ‰å¾ˆå¤šæœ‰è¶£çš„ç‰¹æ€§, è¯¸å¦‚ ä½¿ç”¨ä¸€ä¸ªå­å­—ç¬¦ä¸²ä½œä¸ºåˆ†éš”ç¬¦. &lt;code&gt;ranges&lt;/code&gt; ä¼šè¢«&lt;code&gt;C++20&lt;/code&gt; å¼•å…¥, æ‰€ä»¥æˆ‘ä»¬åº”è¯¥èƒ½åœ¨å‡ å¹´ä¹‹å†…å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½äº†.&lt;/p&gt;
&lt;h3 id=&#34;so-how-do-i-split-my-string&#34;&gt;So, how do I split my string?&lt;/h3&gt;
&lt;p&gt;å¦‚æœä½ èƒ½ä½¿ç”¨&lt;code&gt;boost&lt;/code&gt;, åŠ¡å¿…ä½¿ç”¨æ–¹æ¡ˆ2. æˆ–è€…ä½ å¯ä»¥è‡ªå·±å†™ç®—æ³•, åƒ&lt;code&gt;boost&lt;/code&gt; é‚£æ ·åŸºäº&lt;code&gt;find_if&lt;/code&gt; åˆ†å‰²å­—ç¬¦ä¸².&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ ä¸æƒ³è¿™ä¹ˆåš, ä½ å¯ä»¥ä½¿ç”¨æ ‡å‡†, å³æ–¹æ¡ˆ1.1, å¦‚æœä½ éœ€è¦è‡ªå®šä¹‰åˆ†éš”ç¬¦, æˆ–è€…å‘ç°1.1æ˜¯ä¸ªç“¶é¢ˆ, é‚£ä¹ˆä½ å¯ä»¥é€‰æ‹©æ–¹æ¡ˆ1.2 .&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ å¯ä»¥ä½¿ç”¨&lt;code&gt;ranges&lt;/code&gt; , é‚£ä¹ˆå°±åº”è¯¥é€‰æ‹©æ–¹æ¡ˆ3.&lt;/p&gt;
&lt;p&gt;ç¿»è¯‘åŸæ–‡: &lt;a class=&#34;link&#34; href=&#34;http://www.fluentcpp.com/2017/04/21/how-to-split-a-string-in-c/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://www.fluentcpp.com/2017/04/21/how-to-split-a-string-in-c/&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>strict weak ordering</title>
        <link>https://lxb.wiki/22f34ac7/</link>
        <pubDate>Sat, 27 May 2017 14:42:41 +0000</pubDate>
        
        <guid>https://lxb.wiki/22f34ac7/</guid>
        <description>&lt;p&gt;A strict weak ordering is a &lt;em&gt;binary relation&lt;/em&gt; &amp;lt; on a set S that is a strict partial order (a transitive relation that is irreflexive, or equivalently, that is asymmetric) in which the relation &lt;code&gt;neither a &amp;lt; b nor b &amp;lt; a&lt;/code&gt; is transitive. Therefore, a strict weak ordering has the following properties:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;For all x in S, it is not the case that x &amp;lt; x (irreflexivity).&lt;/li&gt;
&lt;li&gt;For all x, y in S, if x &amp;lt; y then it is not the case that y &amp;lt; x (asymmetry).&lt;/li&gt;
&lt;li&gt;For all x, y, z in S, if x &amp;lt; y and y &amp;lt; z then x &amp;lt; z (transitivity).&lt;/li&gt;
&lt;li&gt;For all x, y, z in S, if x is incomparable with y (neither x &amp;lt; y nor y &amp;lt; x hold), and y is incomparable with z, then x is incomparable with z (transitivity of incomparability).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This list of properties is somewhat redundant, as asymmetry follows readily from irreflexivity and transitivity.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¦»æ•£æ•°å­¦ä¸­çš„relation:&lt;/strong&gt; Given a function f (which models a binary relation) over a domain D, and a, b âˆˆ D:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Reflexivity: f (a, a) is true.&lt;/li&gt;
&lt;li&gt;Asymmetry: For a â‰  b, if f(a, b) is true, f(b,a) is false&lt;/li&gt;
&lt;li&gt;Anti-symmetry: If f(a, b) and f(b, a) are both true iff a â‰¡ b&lt;/li&gt;
&lt;li&gt;Transitivity: If f(a, b) and f(b, c) are true, then f(a, c) is true&lt;/li&gt;
&lt;li&gt;Incomparability: Neither f(a, b) nor f(b, a) is true&lt;/li&gt;
&lt;li&gt;Transitivity of incomparability: If a and b are incomparable, and so are b and c, then a and c are incomparable.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‘˜è‡ªWikiPedia&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Linux ç¦æ­¢æ™®é€šç”¨æˆ·suåˆ‡æ¢root</title>
        <link>https://lxb.wiki/e5131675/</link>
        <pubDate>Tue, 23 May 2017 09:26:31 +0000</pubDate>
        
        <guid>https://lxb.wiki/e5131675/</guid>
        <description>&lt;p&gt;ä¸€èˆ¬æƒ…å†µä¸‹, æ™®é€šç”¨æˆ·æ‰§è¡Œ&amp;quot;su -&amp;ldquo;å‘½ä»¤, å¯ä»¥ç™»å½•ä¸ºroot. ä¸ºäº†åŠ å¼ºç³»ç»Ÿçš„å®‰å…¨æ€§, æœ‰å¿…è¦å»ºç«‹ä¸€ä¸ªç®¡ç†å‘˜çš„ç»„, åªå…è®¸è¿™ä¸ªç»„çš„ç”¨æˆ·æ‰§è¡Œ&amp;quot;su -&amp;rdquo; å‘½ä»¤ç™»å½•ä¸ºroot, è€Œè®©å…¶ä»–ç»„çš„ç”¨æˆ·å³ä½¿æ‰§è¡Œ&amp;quot;su -&amp;quot; è¾“å…¥äº†æ­£ç¡®çš„å¯†ç , ä¹Ÿæ— æ³•ç™»å½•ä¸ºrootç”¨æˆ·. åœ¨Unix å’ŒLinux ä¸‹, è¿™ä¸ªç»„çš„åç§°é€šå¸¸ä¸º&amp;quot;wheel&amp;quot;.&lt;/p&gt;
&lt;p&gt;1 æ·»åŠ ä¸€ä¸ªç”¨æˆ·, æŠŠè¿™ä¸ªç”¨æˆ·åŠ å…¥wheelç»„ 2 ä¿®æ”¹/etc/pam.d/su &lt;code&gt;#auth required pam_wheel.so use_uid&lt;/code&gt; è¿™è¡Œæ³¨é‡Šæ‰“å¼€ 3 ä¿®æ”¹/etc/login.defs åœ¨æ–‡ä»¶æœ«æ·»åŠ ä¸€è¡Œ &lt;code&gt;SU_WHEEL_ONLY yes&lt;/code&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ç¦æ­¢rootç”¨æˆ·sshç™»å½•æœºå™¨</title>
        <link>https://lxb.wiki/d29ba5b9/</link>
        <pubDate>Tue, 23 May 2017 09:07:42 +0000</pubDate>
        
        <guid>https://lxb.wiki/d29ba5b9/</guid>
        <description>&lt;p&gt;1 ä¿®æ”¹ /etc/ssh/sshd_config &lt;code&gt;#PermitRootLogin yes&lt;/code&gt; å–æ¶ˆæ³¨é‡Šå¹¶æ”¹ä¸º &lt;code&gt;PermitRootLogin no&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;2 é‡å¯ssh &lt;code&gt;/etc/init.d/sshd restart&lt;/code&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Move semantics of RapidJSON</title>
        <link>https://lxb.wiki/e5a4892c/</link>
        <pubDate>Wed, 10 May 2017 10:10:27 +0000</pubDate>
        
        <guid>https://lxb.wiki/e5a4892c/</guid>
        <description>&lt;p&gt;RapidJSON çš„è®¾è®¡æœ‰ä¸€ä¸ªç‰¹æ€§, è¿›è¡Œèµ‹å€¼æ“ä½œæ—¶, ä¸æ˜¯æŠŠæºvalueå¤åˆ¶(copy)åˆ°ç›®çš„ value, è€Œæ˜¯è½¬ç§»(move)åˆ°ç›®çš„value. ä¾‹å¦‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Value a(123);
Value b(456);
b = a; // a becomes a Null value, b becomes number 123.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201207003749.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·çš„è®¾è®¡çš„ç›®çš„æ˜¯ ä¸ºäº†æé«˜æ€§èƒ½. å¯¹äºå›ºå®šå¤§å°çš„JSONç±»å‹(Number, True, False, Null), å¤åˆ¶å¾ˆç®€å•å¿«æ·. è€Œå¯¹äºå¯å˜å¤§å°çš„ç±»å‹(String, Array, Object), å¤åˆ¶æ—¶ä¼šäº§ç”Ÿå¤§é‡ä¸å®¹æ˜“è¢«å¯Ÿè§‰çš„å¼€é”€. å°¤å…¶æ˜¯å½“æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„å€¼, æŠŠå®ƒå¤åˆ¶ç»™å¦ä¸€ä¸ªå˜é‡, ç„¶åææ„å®ƒ. è‹¥ä½¿ç”¨æ­£å¸¸çš„&lt;strong&gt;å¤åˆ¶&lt;/strong&gt; è¯­ä¹‰:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Document d;
Value o(kObjectType);
{
    Value contacts(kArrayType);
    // Adding elements to contacts array.
    // ...
    o.AddMember(&amp;quot;contacts&amp;quot;, contacts, d.GetAllocator(); // deep clone contacts(may be with lots of allocations)
    // destruct contact
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201207003815.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;o&lt;/code&gt; éœ€è¦åˆ†é…è·Ÿ&lt;code&gt;contacts&lt;/code&gt; å¤§å°ä¸€æ ·çš„ç¼“å†²åŒº, åšæ·±åº¦å¤åˆ¶, ç„¶åææ„&lt;code&gt;contacts&lt;/code&gt; . è¿™æ ·ä¼šäº§ç”Ÿå¤§é‡ä¸å¿…è¦çš„å†…å­˜åˆ†é…/é‡Šæ”¾ å’Œå†…å­˜å¤åˆ¶. æœ‰ä¸€äº›æ–¹æ¡ˆå¯ä»¥é¿å…å®è´¨çš„å¤åˆ¶è¿™äº›æ•°æ®, å¦‚å¼•ç”¨è®¡æ•°, åƒåœ¾å›æ”¶ç­‰ç­‰. ä¸ºäº†ä½¿RapidJSONç®€å•å’Œå¿«é€Ÿ, æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨è½¬ç§»è¯­ä¹‰æ¥è¿›è¡Œèµ‹å€¼. è¿™ä¸&lt;code&gt;std::auto_ptr&lt;/code&gt;ç±»ä¼¼, éƒ½æ˜¯åœ¨èµ‹å€¼æ—¶è½¬ç§»æ‹¥æœ‰æƒ. è½¬ç§»æ¯”å¤åˆ¶ç®€æ·åœ°å¤š, å®ƒåªéœ€ ææ„åŸæ¥çš„å€¼, æŠŠæºå€¼&lt;code&gt;memcpy()&lt;/code&gt; åˆ°ç›®çš„å€¼, æœ€åå†æŠŠæºå€¼ è®¾ä¸ºNullç±»å‹.&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨è½¬ç§»è¯­ä¹‰, ä¸Šé¢çš„ä¾‹å­å˜æˆ:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Document d;
Value o(kObjectType);
{
    Value contacts(kArraryType);
    // Adding elements to contacts array.
    o.AddMember(&amp;quot;contacts&amp;quot;, contacts, d.GetAllocator()); // Just memcpy() of contacts itself to the value of new member(16 bytes)
    // contacts became Null here. Its destructiong is trivial.
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20201207003854.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è½¬ç§»è¯­ä¹‰å’Œä¸´æ—¶å€¼&lt;/strong&gt; æœ‰æ—¶, æˆ‘ä»¬æƒ³ç›´æ¥æ„é€ ä¸€ä¸ªä¸´æ—¶å˜é‡ä¼ ç»™&amp;quot;è½¬ç§»&amp;quot;å‡½æ•°, å¦‚&lt;code&gt;PushBack()&lt;/code&gt; , &lt;code&gt;AddMember()&lt;/code&gt; . ç”±äºä¸´æ—¶å¯¹è±¡ä¸èƒ½ç›´æ¥è½¬åŒ–æˆæ­£å¸¸çš„å€¼å¼•ç”¨, æˆ‘ä»¬å¯ä»¥è°ƒç”¨&lt;code&gt;Move()&lt;/code&gt; å‡½æ•°&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Value a(kArrayType);
Document::AllocatorType&amp;amp; allocator = document.GetAllocator();
// a.PushBack(Value(42), allocator); // Compiling error
a.PushBack(Value().SetInt(42), allocator); // fluent API
a.PushBack(Value(42).Move(), allocator); // same as above
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç¿»è¯‘åŸæ–‡: &lt;a class=&#34;link&#34; href=&#34;http://rapidjson.org/md&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://rapidjson.org/md&lt;/a&gt;_doc_tutorial.html#MoveSemantics&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘C&#43;&#43;11 sort using function objects</title>
        <link>https://lxb.wiki/e754bcbe/</link>
        <pubDate>Wed, 19 Apr 2017 21:58:53 +0000</pubDate>
        
        <guid>https://lxb.wiki/e754bcbe/</guid>
        <description>&lt;p&gt;å¦‚æœä½ ç”¨C++ç¼–ç ï¼Œ éœ€è¦å¯¹å®¹å™¨å†…çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œ è¿™ä¸ªå®¹å™¨æä¾›ä»»æ„è®¿é—®çš„è¿­ä»£å™¨ï¼Œ æ¯”å¦‚&lt;code&gt;std::vector&lt;/code&gt;ï¼Œ é‚£ä¹ˆç®€å•å¿«æ·çš„æ–¹æ³•æ˜¯ä½¿ç”¨é‡Œçš„&lt;code&gt;std::sort&lt;/code&gt; å‡½æ•°.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Basic sorting&lt;/strong&gt; &lt;code&gt;std::sort&lt;/code&gt; å‡½æ•°éœ€è¦ä¸¤ä¸ªå‚æ•°, è¿™ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æŒ‡å‘ä½ è¦æ’åºçš„åºåˆ—å®¹å™¨çš„å¼€å§‹(initial)å’Œç»ˆç‚¹(final). è¿™ä¸ªåºåˆ—å®¹æ˜“å†…é™¤finalæŒ‡å‘çš„é‚£ä¸ªå…ƒç´ å¤– æ‰€æœ‰å…ƒç´ éƒ½ä¼šè¢«æ’åº. ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„æ’åºä¾‹å­:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;algorithm&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;vector&amp;gt;&amp;lt;/vector&amp;gt;&amp;lt;/algorithm&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; array[] {&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;vector&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; vec(array, array &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;);&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;sort(vec.begin(), vec.end());
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾“å‡º: &lt;code&gt;0 5 10 15 20&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;More complex sorting&lt;/strong&gt; åœ¨æŸäº›æ—¶å€™, æ ¹æ®æ•°å€¼å‡åºæ’åºå·²ç»è¶³å¤Ÿè§£å†³é—®é¢˜äº†, ä½†æ˜¯å½“æˆ‘ä»¬éœ€è¦æŒ‰æŸä¸ªç‰¹å®šçš„å‚æ•°è¿›è¡Œæ’åº, æˆ–è€…é™åºæ’åˆ—æ—¶, å°±éœ€è¦ä¸€äº›å…¶ä»–çš„ä¸œè¥¿äº†. å¯¹äºè¿™ç§éœ€æ±‚, &lt;code&gt;std::sort&lt;/code&gt; éœ€è¦å¼•å…¥ç¬¬ä¸‰ä¸ªå‚æ•°: æ¯”è¾ƒå‡½æ•°. è¿™ä¸ªæ¯”è¾ƒå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°, åˆ†åˆ«æ˜¯åºåˆ—å®¹å™¨çš„ä¸¤ä¸ªå…ƒç´ , è¿”å›å€¼å¯ä»¥éšå¼åœ°è½¬ä¸ºbool. å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°åº”è¯¥æ’åœ¨ç¬¬äºŒä¸ªå‚æ•°å‰é¢, åˆ™è¿”å›true.&lt;/p&gt;
&lt;p&gt;ä¾‹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;algorithm&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;vector&amp;gt;&amp;lt;/vector&amp;gt;&amp;lt;/algorithm&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;DescOrderInt&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; a, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; b);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; array[] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;vector&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; vec(array, array &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;);&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;sort(vec.begin(), vec.end(), DescOrderInt);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;DescOrderIntçš„å®ç°:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;DescOrderInt&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; a, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; b)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;gt; b;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾“å‡º: &lt;code&gt;20 15 10 5 0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;C++11 sort using function objects&lt;/strong&gt; ç½‘ä¸Šå¾ˆå¤šä¾‹å­è¯´, ä¸ºäº†æ’åˆ—å…ƒç´ , å¯ä»¥ä½¿ç”¨&lt;code&gt;std::binary_function&lt;/code&gt; å®šä¹‰æ¯”è¾ƒå‡½æ•°, ä½†ä¸å¹¸çš„æ˜¯, &lt;code&gt;std::binary_function&lt;/code&gt; åœ¨C++11 ä¸­å·²ç»è¢«æ ‡ä¸º &amp;ldquo;å°†è¢«å¼ƒç”¨çš„&amp;rdquo;, åœ¨C++17ä¸­ä¼šè¢«å®Œå…¨ç§»é™¤, æ‰€ä»¥å†™æ–°çš„C++ä»£ç æ—¶, æœ€å¥½ä¸è¦ç”¨è¿™ä¸ª.&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥ä½¿ç”¨C++11ä¸­å¼•å…¥çš„&lt;code&gt;std::function&lt;/code&gt; æ¥å®šä¹‰è¿™ä¸ªå‡½æ•°æŒ‡é’ˆ. ä¾‹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;algorithm&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;function&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;vector&amp;gt;&amp;lt;/vector&amp;gt;&amp;lt;/function&amp;gt;&amp;lt;/algorithm&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;StrDescOrderInt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;operator&lt;/span&gt;()(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; a, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; b) &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;gt; b;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; array[] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;vector&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; vec(array, array &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;);&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;function&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; sorter &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; StrDescOrderInt();&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;,&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;sort(vec.begin(), vec.end(), sorter);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾“å‡º: &lt;code&gt;20 15 10 5 0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;A real-life example: providing multiple sorting options&lt;/strong&gt; æˆ‘ä»¬å‡è®¾æœ‰ä¸€é˜Ÿè¶³çƒè¿åŠ¨å‘˜, æˆ‘ä»¬æƒ³è®©ç”¨æˆ·æŒ‰ä»–ä»¬è‡ªå·±çš„æ„æ„¿å»æ’åˆ—è¿™äº›è¿åŠ¨å‘˜. æœ‰ä¸€ä¸ªå›¾è¡¨çš„UI, ä¸Šé¢æœ‰å‡ ä¸ªæŒ‰é’®, æ¯ä¸ªæŒ‰é’®å¯¹åº”ä¸ç”¨çš„æ’åºè§„åˆ™.&lt;/p&gt;
&lt;p&gt;Plaer ç±»çš„ä»£ç :&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// -- Player.h --
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;string&amp;gt;&amp;lt;/string&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Player&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Player(&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; name, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; caps, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; goals);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;amp; GetName() &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;GetCaps&lt;/span&gt;() &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;GetGoals&lt;/span&gt;() &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;string mName;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; mCaps;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; mGoals;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;â€‹&lt;/p&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬æ–°å†™ä¸€ä¸ªç±»æˆ–ç»“æ„ä½“æ¥åˆ—å‡ºæ‰€æœ‰çš„æ¯”è¾ƒå‡½æ•°. æ¯”è¾ƒå‡½æ•°æ˜¯ä¸€ä¸ªç»“æ„ä½“å¹¶å®ç°æ“ä½œç¬¦&lt;code&gt;()&lt;/code&gt;, æ“ä½œç¬¦&lt;code&gt;()&lt;/code&gt; å¸¦æœ‰ä¸¤ä¸ªå‚æ•°, åˆ†åˆ«ä¸ºä¸¤ä¸ªæŒ‡å‘Playerçš„æŒ‡é’ˆ, è¿”å›boolå€¼.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Player&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;PlayerSorting&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// name
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;SortPlayerByNameAsc&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;operator&lt;/span&gt;()(Player&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; p1, Player&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; p2) &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;SortPlayerByNameDes&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;operator&lt;/span&gt;()(Player&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; p1, Player&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; p2) &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// caps
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;SortPlayerByCapsAsc&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;operator&lt;/span&gt;()(Player&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; p1, Player&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; p2) &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;SortPlayerByCapsDes&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;operator&lt;/span&gt;()(Player&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; p1, Player&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; p2) &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// goals
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;SortPlayerByGoalsAsc&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;operator&lt;/span&gt;()(Player&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; p1, Player&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; p2) &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;SortPlayerByGoalsDes&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;operator&lt;/span&gt;()(Player&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; p1, Player&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; p2) &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶å, åœ¨è°ƒç”¨å®ƒçš„åœ°æ–¹, æˆ‘ä»¬å¯ä»¥å…ˆæŠŠæ‰€æœ‰çš„&lt;code&gt;std::function&lt;/code&gt; å­˜åœ¨ä¸€ä¸ª&lt;code&gt;std::vector&lt;/code&gt; é‡Œ, ä½¿ç”¨çš„æ—¶å€™, ç”¨ç´¢å¼•è®¿é—®vectorçš„å…ƒç´ .&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;vector&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;function&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;(player &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;,&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt; player&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; sorters;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sorters.push_back(PlayerSorting&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;SortPlayerByNameAsc());
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sorters.push_back(PlayerSorting&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;SortPlayerByCapsAsc());
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sorters.push_back(PlayerSorting&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;SortPlayerByGoalsAsc());
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sorters.push_back(PlayerSorting&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;SortPlayerByNameDes());
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sorters.push_back(PlayerSorting&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;SortPlayerByCapsDes());
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sorters.push_back(PlayerSorting&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;SortPlayerByGoalsDes());&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;(player&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;â€‹&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚, æ ¹æ®å¾—åˆ†é™åºæ’åˆ—:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;vector&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;player &lt;span style=&#34;color:#f92672&#34;&gt;*=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; players;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;player&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ...init players...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;std&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;sort(players.begin(), players.end(), sorters[&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾“å‡º:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;NAME                     CAPS  GOALS
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Lionel Messi             &lt;span style=&#34;color:#ae81ff&#34;&gt;21&lt;/span&gt;    &lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;David Villa              &lt;span style=&#34;color:#ae81ff&#34;&gt;13&lt;/span&gt;    &lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Asamoah Gyan             &lt;span style=&#34;color:#ae81ff&#34;&gt;22&lt;/span&gt;    &lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Arjen Robben             &lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;    &lt;span style=&#34;color:#ae81ff&#34;&gt;12&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Mesut Oezil              &lt;span style=&#34;color:#ae81ff&#34;&gt;19&lt;/span&gt;    &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Diego Forlan             &lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;    &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Andres Iniesta           &lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;    &lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Wesley Sneijder          &lt;span style=&#34;color:#ae81ff&#34;&gt;24&lt;/span&gt;    &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Xavi                     &lt;span style=&#34;color:#ae81ff&#34;&gt;17&lt;/span&gt;    &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Bastian Schweinsteiger   &lt;span style=&#34;color:#ae81ff&#34;&gt;23&lt;/span&gt;    &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‡å¦‚éœ€è¦å®ç°ä¸€ç§æ–°çš„æ’åºæ–¹å¼, æˆ‘ä»¬åªéœ€è¦åœ¨PlayerSortingç±»ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„ä»¿å‡½æ•°å³å¯.&lt;/p&gt;
&lt;p&gt;åŸæ–‡åœ°å€: &lt;a class=&#34;link&#34; href=&#34;http://blog.davidecoppola.com/2015/01/cpp11-sort-using-function-objects/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://blog.davidecoppola.com/2015/01/cpp11-sort-using-function-objects/&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>coreæ–‡ä»¶è¢«æˆªæ–­é—®é¢˜çš„è§£å†³åŠæ³•</title>
        <link>https://lxb.wiki/d12416f0/</link>
        <pubDate>Mon, 10 Apr 2017 21:09:35 +0000</pubDate>
        
        <guid>https://lxb.wiki/d12416f0/</guid>
        <description>&lt;p&gt;&lt;strong&gt;ç°è±¡&lt;/strong&gt;
é€šè¿‡gdbæ‰“å¼€coreï¼Œä½†çœ‹ä¸åˆ°coreçš„å†…å®¹ï¼Œä¿¡æ¯å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ gdb XXX core.XXX
GNU gdb (GDB) Red Hat Enterprise Linux ( 7.0.1-32.el5)
Copyright (C) 2009 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &amp;lt;http://gnu.org/licenses/gpl.html&amp;gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type &amp;#34;show copying&amp;#34;
and &amp;#34;show warranty&amp;#34; for details.
This GDB was configured as &amp;#34;x86_64-redhat-linux-gnu&amp;#34;.
For bug reporting instructions, please see:
&amp;lt;http://www.gnu.org/software/gdb/bugs/&amp;gt;...
Reading symbols from /home/XXX/XXX...done.
BFD: Warning: /home/XXX/core.XXX is truncated: expected core file size &amp;gt;= 747175936, found: 1236992.
 
warning: core file may not match specified executable file.
Cannot access memory at address 0x344201cc88
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;è°ƒæŸ¥&lt;/strong&gt;
ulimit -açš„ç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;core file size          (blocks, -c) 1000
data seg size           (kbytes, -d) unlimited
scheduling priority             (-e) 0
file size               (blocks, -f) unlimited
pending signals                 (-i) 40960
max locked memory       (kbytes, -l) 32
max memory size         (kbytes, -m) unlimited
open files                      (-n) 65000
pipe size            (512 bytes, -p) 8
POSIX message queues     (bytes, -q) 536870912
real-time priority              (-r) 0
stack size              (kbytes, -s) 1024000
cpu time               (seconds, -t) unlimited
max user processes              (-u) 40960
virtual memory          (kbytes, -v) unlimited
file locks                      (-x) unlimited
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç»åˆ«äººæŒ‡ç‚¹ï¼Œè¯´æ˜¯â€œcore file sizeâ€çš„å€¼å¤ªå°äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¿®æ”¹core file sizeçš„æ–¹æ³•&lt;/strong&gt;
1 ä½¿ç”¨rootç”¨æˆ·ç™»å½•ï¼Œåœ¨&lt;code&gt;/etc/security/limits.conf&lt;/code&gt;æ–‡ä»¶ä¸­ï¼Œæ·»åŠ äº†â€œ* hard core   unlimitedâ€è¡Œï¼Œæ·»åŠ åæ­¤æ–‡ä»¶çš„å†…å®¹å¤§è‡´å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# /etc/security/limits.conf
#
# Each line describes a limit for a user in the form:
#
# &amp;lt;domain&amp;gt; &amp;lt;type&amp;gt; &amp;lt;item&amp;gt; &amp;lt;value&amp;gt;
#
* - msgqueue 536870912
* soft nofile 65000
* hard nofile 65000
* soft core   unlimited
* hard core   unlimited
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;2 ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶åï¼Œé€€å‡ºrootç”¨æˆ·
3 é€€å‡ºè‡ªå·±çš„è´¦æˆ·çš„å…¨éƒ¨ç™»å½•çš„ç»ˆç«¯ï¼Œç„¶åå…³é—­telnetå·¥å…·ï¼Œé‡æ–°ä½¿ç”¨è‡ªå·±çš„è´¦æˆ·ç™»å½•ç³»ç»Ÿï¼Œé”®å…¥ä¸‹é¢çš„å‘½ä»¤ï¼Œéƒ½ä¼šè¿”å›unlimited&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ ulimit -S -c
unlimited
$ ulimit -H -c
unlimited
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ­¤æ—¶coreæ–‡ä»¶å°±ä¸ä¼šè¢«æˆªæ–­äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‚è€ƒèµ„æ–™&lt;/strong&gt;
How do I enable core dumps for everybody
&lt;a class=&#34;link&#34; href=&#34;http://www.akadia.com/services/ora_enable_core.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://www.akadia.com/services/ora_enable_core.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åŸæ–‡åœ°å€: &lt;a class=&#34;link&#34; href=&#34;http://blog.sina.com.cn/s/blog_537f4d9b0100wi88.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://blog.sina.com.cn/s/blog_537f4d9b0100wi88.html&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘String&amp;#039;s interface</title>
        <link>https://lxb.wiki/4c3249cd/</link>
        <pubDate>Sun, 09 Apr 2017 22:00:41 +0000</pubDate>
        
        <guid>https://lxb.wiki/4c3249cd/</guid>
        <description>&lt;p&gt;è€ƒè™‘ä»¥ä¸‹ä»£ç :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bool fun(const string&amp;amp;amp; code)
{
assert(code.length() &amp;amp;gt;= 2);
if (code.substr(0, 2) == string(&amp;quot;XX&amp;quot;))
{
// ...
}
// ...
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æœ‰æ²¡æœ‰å‘ç°ä»€ä¹ˆé—®é¢˜? ä¸è¦çº ç»“äºassert(), å®ƒåªæ˜¯ä¸ºäº†ä¿è¯ string &amp;ldquo;code&amp;rdquo; é•¿åº¦å¤§äº2è€Œå·².&lt;/p&gt;
&lt;p&gt;å¾ˆæ˜¾ç„¶, è¿™æ®µä»£ç ç”¨æ¥æ£€æŸ¥stringæ˜¯å¦ä»¥&amp;quot;XX&amp;quot;å¼€å¤´. åŸºäºå®ƒé•¿åº¦å¤§äº2 çš„å‰æ, è¿™æ®µä»£ç èƒ½æ­£å¸¸è¿è¡Œ. æˆ‘ä»¬çš„å…³å¿ƒçš„é—®é¢˜æ˜¯, è¡¨è¾¾å¼èƒ½å¦è¾¾åˆ°æ­£ç¡®çš„ç»“æœ.&lt;/p&gt;
&lt;p&gt;ç»å¤§å¤šæ•°æƒ…å†µä¸‹, æˆ‘ä»¬ä¹‹æ‰€ä»¥ä½¿ç”¨C++, æ˜¯å¸Œæœ›èƒ½ä½¿æˆ‘ä»¬çš„ç¨‹åºè¾¾åˆ°æœ€ä¼˜çš„æ€§èƒ½. åŸºäºè¿™ä¸ªç›®æ ‡, ä¸Šé¢çš„ä»£ç çœ‹èµ·æ¥å°±ä¸æ˜¯å¾ˆæ­£ç¡®äº†. ä¸ºäº†æ£€æŸ¥&amp;quot;code&amp;quot;æ˜¯å¦ä»¥&amp;quot;XX&amp;quot;å¼€å¤´, æˆ‘ä»¬ç”Ÿæˆäº†ä¸¤ä¸ªä¸´æ—¶çš„string, æ¯ä¸ªstringéƒ½å¯èƒ½æ½œåœ¨åœ°ç”³è¯·å †ä¸Šçš„å†…å­˜. æœ‰äººå¯èƒ½ä¼šä¸ºæ­¤è¾©è§£: std::stringåº”è¯¥èƒ½ä¸ºä¸€ä¸ª 2å­—æ¯çš„åºåˆ—å®ç° çŸ­å­—ç¬¦ä¸²æœ€ä¼˜åŒ–(SSO). å°±ç®—è¿™ä¸ªè¾©è§£æ˜¯æ­£ç¡®çš„, è¿™æ®µä»£ç ä¹Ÿå·²ç» è€—è´¹äº† ä¸€äº›ä¸èƒ½è¢«ä¼˜åŒ–æ‰çš„å¼€é”€, æ›´ä½•å†µ, å¹¶ä¸æ˜¯æ‰€æœ‰çš„éƒ½ä¼šå®ç°SSO. ä¾‹å¦‚, æˆ‘ä½¿ç”¨çš„GCC 4.4.7 å°±ä¸ä¼šä¸ºstringå®ç°SSO.&lt;/p&gt;
&lt;p&gt;ç±»æ¨¡æ¿&lt;code&gt;std::basic_string&lt;/code&gt; çš„æ¥å£å¾ˆå¤æ‚. å®ƒæä¾›äº†å¤§é‡çš„æˆå‘˜å‡½æ•°, ä¼¼ä¹ä¸ç”¨å®ƒä»¬æ˜¾å¾—ä¸é¢†æƒ…, åŒæ—¶å¼€å‘è€…ä¹Ÿä¸ä¼šæœ‰è‡ªå·±ä¸€ééé‡æ–°è§£æçš„å†²åŠ¨.&lt;/p&gt;
&lt;p&gt;å› ä¸ºå¼€å‘è€…æ¨¡ç³Šåœ°è®°å¾—åº”ç”¨äºNTBS(null-terminated byte strings)(å¯ä»¥è¢«éšå¼åœ°è½¬ä¸º&lt;code&gt;const char*&lt;/code&gt; )çš„ æ“ä½œç¬¦ &lt;code&gt;==&lt;/code&gt; ä¼šä½¿ç»“æœå‡ºé”™, æ‰€ä»¥ä»–é€šè¿‡ ç¡®ä¿å‚ä¸æ¯”è¾ƒçš„ä¸¤ä¸ªå€¼éƒ½æ˜¯&lt;code&gt;std::string&lt;/code&gt; ç±»å‹æ¥é¿å¼€è¿™ä¸ªé”™è¯¯. ä»–å¯èƒ½åœ¨æƒ³, åœ¨è¿è¡Œæ“ä½œç¬¦&lt;code&gt;==&lt;/code&gt; å‰æ–‡æœ¬&amp;quot;XX&amp;quot; å·²ç»è¢«æ˜¾å¼åœ°è½¬æˆäº†&lt;code&gt;std::string&lt;/code&gt;, é‚£ä¹ˆè¿™ä¹ˆåšä¹Ÿæ²¡æœ‰åå¤„. &lt;strong&gt;ä½†æ˜¯&lt;/strong&gt;, è¿™æ˜¯é”™è¯¯çš„, å› ä¸ºå¯¹äºæ“ä½œç¬¦&lt;code&gt;==&lt;/code&gt;, æ ‡å‡†æä¾›äº†ä¸¤ç§ç‰ˆæœ¬:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bool operator==(const std::string&amp;amp;amp; lhs, const char* rhs);
bool operator==(const char* lhs, const std::string&amp;amp;amp; rhs);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å½“ç„¶å®é™…ä¸Šä»–ä»¬æ˜¯å¸¦æœ‰å¤šä¸ªå‚æ•°çš„å‡½æ•°æ¨¡æ¿, è¿œæ¯”è¿™ä¸ªå¤æ‚. &lt;code&gt;std::string&lt;/code&gt; å¯ä»¥ç›´æ¥è·ŸNTBSæ¯”è¾ƒ, æ²¡æœ‰å¿…è¦ç”Ÿæˆä¸´æ—¶çš„&lt;code&gt;std::string&lt;/code&gt;. æˆ‘ä»¬å¼€å¤´çš„ä¾‹å­, å¯ä»¥é€šè¿‡å»é™¤æ˜¾å¼ç”Ÿæˆçš„ä¸´æ—¶å‰¯æœ¬ è¿›è¡Œä¼˜åŒ–: &lt;code&gt;if (code.substr(0, 2) == &amp;quot;XX&amp;quot;)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æ›´è¿›ä¸€æ­¥, ä¸å¯å¦è®¤, åœ¨æœ‰äº›åœ°æ–¹ä½¿ç”¨æ“ä½œç¬¦&lt;code&gt;==&lt;/code&gt; çœ‹èµ·æ¥å¾ˆé«˜é›…, ä½†æ˜¯ä»…ä»…ä¸ºäº†æ£€æŸ¥ä¸€ä¸ª&lt;code&gt;string&lt;/code&gt; æœ¬èº«çš„ä¸€éƒ¨åˆ†è€Œå»æ–°ç”³è¯·ä¸€éƒ¨åˆ†èµ„æº(ç”Ÿæˆä¸€ä¸ªæ–°çš„&lt;code&gt;string&lt;/code&gt;) è¿™ç§åšæ³•æ˜¯é”™è¯¯çš„. å¼€å‘è€…çš„åˆè¡·, å¹¶ä¸æ˜¯è¦æ˜¯ç¨‹åºçœ‹èµ·æ¥é«˜é›…. å®é™…ä¸Š, å¦‚æœæˆ‘ä»¬æ·±å…¥ç ”ç©¶&lt;code&gt;std::basic_string&lt;/code&gt; çš„å®˜æ–¹æ–‡æ¡£, å°±ä¼šå‘ç°, &lt;code&gt;std::basic_string&lt;/code&gt;æä¾›äº†ä¸€ç§æ¯”è¾ƒå®ƒçš„å­å­—ç¬¦ä¸²å’ŒNTBSçš„æ–¹æ³•: &lt;code&gt;if(code.compare(0, 2, &amp;quot;XX&amp;quot;) == 0)&lt;/code&gt; è¿™ä¸ªæ¯”è¾ƒæ˜¯ä¸‰æ–¹æ¯”è¾ƒ, ç»“æœç­‰äº0è¡¨ç¤ºç›¸ç­‰. å®ƒå¯ä»¥è¾¾åˆ°ç›®çš„, å¹¶ä¸”ä¸éœ€è¦ç”Ÿæˆä»»ä½•ä¸´æ—¶çš„&lt;code&gt;string&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;å°½ç®¡è¿™ä¸ª&lt;code&gt;compare()&lt;/code&gt; ä½¿æ€§èƒ½è¾¾åˆ°äº†å¾ˆå¤§çš„ä¼˜åŒ–, ä½†æˆ‘å¹¶ä¸æ»¡è¶³äºæ­¤. è™½ç„¶å®ƒåšäº†æ­£ç¡®çš„äº‹æƒ…, ä½†å¦‚æœæˆ‘ä»¬æ˜¯ç¬¬ä¸€æ¬¡é‡åˆ°ä»–, å¾ˆéš¾æŠ“ä½ä»–çš„ç²¾é«“. å¦‚æœä½ å¯ä»¥ä½¿ç”¨booståº“, æˆ‘çš„å»ºè®®æ€§çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨&lt;code&gt;Boost String Algorithms Library&lt;/code&gt; ä¸­çš„ç®—æ³•:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#include &amp;lt;boost algorithm=&amp;quot;&amp;quot; string=&amp;quot;&amp;quot; predicate.hpp=&amp;quot;&amp;quot;&amp;gt;&amp;lt;/boost&amp;gt;

bool func(const string&amp;amp;amp; code)
{
if (boost::algorithm::starts_with(code, &amp;quot;XX&amp;quot;))
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™æ®µä»£ç å¾ˆå¥½åœ°ä½“ç°äº†æˆ‘æƒ³è¯´çš„æ„æ€, æ²¡æœ‰ä»»ä½•å¤šä½™çš„å¼€é”€.&lt;/p&gt;
&lt;p&gt;åŸæ–‡åœ°å€: &lt;a class=&#34;link&#34; href=&#34;https://akrzemi1.wordpress.com/2015/04/15/strings-interface/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://akrzemi1.wordpress.com/2015/04/15/strings-interface/&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>C/C&#43;&#43;è¿”å›å†…éƒ¨é™æ€æˆå‘˜çš„é™·é˜±</title>
        <link>https://lxb.wiki/d66df6b4/</link>
        <pubDate>Sun, 02 Apr 2017 23:43:17 +0000</pubDate>
        
        <guid>https://lxb.wiki/d66df6b4/</guid>
        <description>&lt;p&gt;åœ¨æˆ‘ä»¬ç”¨C/C++å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œæ€»æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ä¼šç»™æˆ‘ä»¬å¸¦æ¥è‹¦æ¼ã€‚è¿™ä¸ªé—®é¢˜å°±æ˜¯å‡½æ•°å†…å’Œå‡½æ•°å¤–ä»£ç éœ€è¦é€šè¿‡ä¸€å—å†…å­˜æ¥äº¤äº’ï¼ˆæ¯”å¦‚ï¼Œå‡½æ•°è¿”å›å­—ç¬¦ä¸²ï¼‰ï¼Œè¿™ä¸ªé—®é¢˜å›°æ‰°å’Œå¾ˆå¤šå¼€å‘äººå‘˜ã€‚å¦‚æœä½ çš„å†…å­˜æ˜¯åœ¨å‡½æ•°å†…æ ˆä¸Šåˆ†é…çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªå†…å­˜ä¼šéšç€å‡½æ•°çš„è¿”å›è€Œè¢«å¼¹æ ˆé‡Šæ”¾ï¼Œæ‰€ä»¥ï¼Œä½ ä¸€å®šè¦è¿”å›ä¸€å—å‡½æ•°å¤–éƒ¨è¿˜æœ‰æ•ˆçš„å†…å­˜ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªè®©æ— æ•°äººå›°æ‰°çš„é—®é¢˜ã€‚å¦‚æœä½ ä¸€ä¸å°å¿ƒï¼Œä½ å°±å¾ˆæœ‰å¯èƒ½åœ¨è¿™ä¸ªä¸Šé¢çŠ¯é”™è¯¯ã€‚å½“ç„¶ç›®å‰æœ‰å¾ˆå¤šè§£å†³æ–¹æ³•ï¼Œå¦‚æœä½ ç†Ÿæ‚‰ä¸€äº›æ ‡å‡†åº“çš„è¯ï¼Œä½ å¯ä»¥çœ‹åˆ°è®¸å¤šå„å¼å„æ ·çš„è§£å†³æ–¹æ³•ã€‚å¤§ä½“æ¥è¯´æœ‰ä¸‹é¢å‡ ç§ï¼š&lt;/p&gt;
&lt;p&gt;1ï¼‰åœ¨å‡½æ•°å†…éƒ¨é€šè¿‡mallocæˆ–newåœ¨å †ä¸Šåˆ†é…å†…å­˜ï¼Œç„¶åæŠŠè¿™å—å†…å­˜è¿”å›ï¼ˆå› ä¸ºåœ¨å †ä¸Šåˆ†é…çš„å†…å­˜æ˜¯å…¨å±€å¯è§çš„ï¼‰ã€‚è¿™æ ·å¸¦æ¥çš„é—®é¢˜å°±æ˜¯æ½œåœ¨çš„å†…å­˜é—®é¢˜ã€‚å› ä¸ºï¼Œå¦‚æœè¿”å›å‡ºå»çš„å†…å­˜ä¸é‡Šæ”¾ï¼Œé‚£ä¹ˆå°±æ˜¯memory Leakã€‚æˆ–è€…æ˜¯è¢«å¤šæ¬¡é‡Šæ”¾ï¼Œä»è€Œé€ æˆç¨‹åºçš„crashã€‚è¿™ä¸¤ä¸ªé—®é¢˜éƒ½ç›¸å½“çš„ä¸¥é‡ï¼Œæ‰€ä»¥è¿™ç§è®¾è®¡æ–¹æ³•å¹¶ä¸æ¨èã€‚ï¼ˆåœ¨ä¸€äº›Windows APIä¸­ï¼Œå½“ä½ è°ƒç”¨äº†ä¸€äº›APIåï¼Œä½ å¿…éœ€ä¹Ÿè¦è°ƒç”¨ä»–çš„æŸäº›APIæ¥é‡Šæ”¾è¿™å—å†…å­˜ï¼‰&lt;/p&gt;
&lt;p&gt;2ï¼‰è®©ç”¨æˆ·ä¼ å…¥ä¸€å—ä»–è‡ªå·±çš„å†…å­˜åœ°å€ï¼Œè€Œåœ¨å‡½æ•°ä¸­æŠŠè¦è¿”å›çš„å†…å­˜æ”¾åˆ°è¿™å—å†…å­˜ä¸­ã€‚è¿™æ˜¯ä¸€ä¸ªç›®å‰æ™®éä½¿ç”¨çš„æ–¹å¼ã€‚å¾ˆå¤šWindows APIå‡½æ•°æˆ–æ˜¯æ ‡å‡†Cå‡½æ•°éƒ½éœ€è¦ä½ ä¼ å…¥ä¸€ä¸ªbufferå’Œè¿™ä¸ªbufferçš„é•¿åº¦ã€‚è¿™ç§æ–¹å¼å¯¹æˆ‘ä»¬æ¥è¯´åº”è¯¥æ˜¯å±¡è§ä¸é²œäº†ã€‚è¿™ç§æ–¹å¼çš„å¥½å¤„å°±æ˜¯ç”±å‡½æ•°å¤–éƒ¨çš„ç¨‹åºæ¥ç»´æŠ¤è¿™å—å†…å­˜ï¼Œæ¯”è¾ƒç®€æ˜¾ç›´è§‚ã€‚ä½†é—®é¢˜å°±æ˜¯åœ¨ä½¿ç”¨ä¸Šç¨è®¸æœ‰äº›éº»çƒ¦ã€‚ä¸è¿‡è¿™ç§æ–¹å¼æŠŠçŠ¯é”™è¯¯çš„æœºç‡å‡åˆ°äº†æœ€ä½ã€‚&lt;/p&gt;
&lt;p&gt;3ï¼‰ç¬¬ä¸‰ç§æ–¹å¼æ˜¾å¾—æ¯”è¾ƒå¦ç±»ï¼Œä»–åˆ©ç”¨äº†staticçš„ç‰¹æ€§ï¼Œstaticçš„æ ˆå†…å­˜ä¸€æ—¦åˆ†é…ï¼Œé‚£è¿™å—å†…å­˜ä¸ä¼šéšç€å‡½æ•°çš„è¿”å›è€Œé‡Šæ”¾ï¼Œè€Œä¸”ï¼Œå®ƒæ˜¯å…¨å±€å¯è§çš„ï¼ˆåªè¦ä½ æœ‰è¿™å—å†…å­˜çš„åœ°å€ï¼‰ã€‚æ‰€ä»¥ï¼Œæœ‰ä¸€äº›å‡½æ•°ä½¿ç”¨äº†staticçš„è¿™ä¸ªç‰¹æ€§ï¼Œå³ä¸ç”¨ä½¿ç”¨å †ä¸Šçš„å†…å­˜ï¼Œä¹Ÿä¸éœ€è¦ç”¨æˆ·ä¼ å…¥ä¸€ä¸ªbufferå’Œå…¶é•¿åº¦ã€‚ä»è€Œï¼Œä½¿ç”¨å¾—è‡ªå·±çš„å‡½æ•°é•¿å¾—å¾ˆæ¼‚äº®ï¼Œä¹Ÿå¾ˆå®¹æ˜“ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œï¼Œæˆ‘æƒ³å¯¹ç¬¬ä¸‰ä¸ªæ–¹æ³•è¿›è¡Œä¸€äº›è®¨è®ºã€‚ä½¿ç”¨staticå†…å­˜è¿™ä¸ªæ–¹æ³•çœ‹ä¼¼ä¸é”™ï¼Œä½†æ˜¯å®ƒæœ‰è®©ä½ æƒ³è±¡ä¸åˆ°çš„é™·é˜±ã€‚è®©æˆ‘ä»¬æ¥ç”¨ä¸€ä¸ªå®é™…å‘ç”Ÿçš„æ¡ˆä¾‹æ¥ä¸¾ä¸€ä¸ªä¾‹å­å§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æœ‰è¿‡socketç¼–ç¨‹ç»éªŒçš„äººä¸€å®šçŸ¥é“ä¸€ä¸ªå‡½æ•°å«ï¼šinet_ntoaï¼Œè¿™ä¸ªå‡½æ•°ä¸»è¦çš„åŠŸèƒ½æ˜¯æŠŠä¸€ä¸ªæ•°å­—å‹çš„IPåœ°å€è½¬æˆå­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå‡½æ•°çš„å®šä¹‰æ˜¯è¿™æ ·çš„ï¼ˆæ³¨æ„å®ƒçš„è¿”å›å€¼ï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;char *inet_ntoa(struct in_addr in);&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æ˜¾ç„¶ï¼Œè¿™ä¸ªå‡½æ•°ä¸ä¼šåˆ†é…å †ä¸Šçš„å†…å­˜ï¼Œè€Œä»–åˆæ²¡æœ‰è®©ä½ ä¼ ä¸€ä¸‹å­—ç¬¦ä¸²çš„bufferè¿›å…¥ï¼Œé‚£ä¹ˆä»–ä¸€å®šä½¿ç”¨â€œè¿”å›static char[]â€è¿™ç§æ–¹æ³•ã€‚åœ¨æˆ‘ä»¬ç»§ç»­æˆ‘ä»¬çš„è®¨è®ºä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹IPåœ°å€ç›¸å…³çš„çŸ¥è¯†ï¼Œä¸‹é¢æ˜¯inet_ntoaè¿™ä¸ªå‡½æ•°éœ€è¦ä¼ å…¥çš„å‚æ•°ï¼šï¼ˆä¹Ÿè®¸ä½ ä¼šå¾ˆå¥‡æ€ªï¼Œåªæœ‰ä¸€ä¸ªmemberçš„structè¿˜è¦æ”¾åœ¨structä¸­å¹²ä»€ä¹ˆï¼Ÿè¿™åº”è¯¥æ˜¯ä¸ºäº†ç¨‹åºæ—¥åçš„æ‰©å±•æ€§çš„è€ƒè™‘ï¼‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-C++&#34; data-lang=&#34;C++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;in_addr&lt;/span&gt; {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; s_addr;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯¹äºIPV4æ¥è¯´ï¼Œä¸€ä¸ªIPåœ°å€ç”±å››ä¸ª8ä½çš„bitç»„æˆï¼Œå…¶æ”¾åœ¨&lt;code&gt;s_addr&lt;/code&gt;ä¸­ï¼Œé«˜ä½åœ¨åï¼Œè¿™æ˜¯ä¸ºäº†æ–¹ä¾¿ç½‘ç»œä¼ è¾“ã€‚å¦‚æœä½ å¾—åˆ°çš„ä¸€ä¸ª&lt;code&gt;s_addr&lt;/code&gt;çš„æ•´å‹å€¼æ˜¯ï¼š3776385196ã€‚é‚£ä¹ˆï¼Œæ‰“å¼€ä½ çš„Windowsè®¡ç®—å™¨å§ï¼Œçœ‹çœ‹å®ƒçš„äºŒè¿›åˆ¶æ˜¯ä»€ä¹ˆï¼Ÿè®©æˆ‘ä»¬ä»å³åˆ°å·¦ï¼Œ8ä½ä¸ºä¸€ç»„ï¼ˆå¦‚ä¸‹æ‰€ç¤ºï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;11100001   00010111    00010000    10101100&lt;/p&gt;
&lt;p&gt;å†æŠŠæ¯ä¸€ç»„è½¬æˆåè¿›åˆ¶ï¼Œäºæ˜¯æˆ‘ä»¬å°±å¾—åˆ°ï¼š225   23   16   172ï¼Œ äºæ˜¯IPåœ°å€å°±æ˜¯ 172.16.23.225ã€‚&lt;/p&gt;
&lt;p&gt;å¥½äº†ï¼Œè¨€å½’æ­£ä¼ ã€‚æˆ‘ä»¬æœ‰è¿™æ ·ä¸€ä¸ªç¨‹åºï¼Œæƒ³è®°å½•ç½‘ç»œåŒ…çš„æºåœ°å€å’Œç›®åœ°åœ°å€ï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬æœ‰å¦‚ä¸‹çš„ä»£ç ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-C++&#34; data-lang=&#34;C++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;in_addr&lt;/span&gt; src, des;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;........  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;........  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;fprintf(fp, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æºIPåœ°å€&amp;lt;%s&amp;gt;/tç›®çš„IPåœ°å€&amp;lt;%s&amp;gt;/n&amp;#34;&lt;/span&gt;, inet_ntoa(src),   inet_ntoa(des));  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¼šå‘ç”Ÿä»€ä¹ˆæ ·çš„ç»“æœå‘¢ï¼Ÿä½ ä¼šå‘ç°è®°å½•åˆ°æ–‡ä»¶ä¸­çš„æºIPåœ°å€å’Œç›®çš„IPåœ°å€å®Œå…¨ä¸€æ ·ã€‚è¿™æ˜¯ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿäºæ˜¯ä½ å¼€å§‹è°ƒè¯•ä½ çš„ç¨‹åºï¼Œä½ å‘ç°src.s_addrå’Œdes.s_addræ ¹æœ¬ä¸ä¸€æ ·ï¼ˆå¦‚ä¸‹æ‰€ç¤ºï¼‰ã€‚å¯ä¸ºä»€ä¹ˆè¾“å‡ºåˆ°æ–‡ä»¶çš„æºå’Œç›®çš„éƒ½æ˜¯ä¸€æ ·çš„ï¼Ÿéš¾é“è¯´æ˜¯inet_ntoaçš„bugï¼Ÿ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-C++&#34; data-lang=&#34;C++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;src.s_addr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3776385196&lt;/span&gt;;    &lt;span style=&#34;color:#75715e&#34;&gt;//å¯¹åº”äº172.16.23.225  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;des.s_addr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1678184620&lt;/span&gt;;  &lt;span style=&#34;color:#75715e&#34;&gt;//å¯¹åº”äº172.16.7.100  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åŸå› å°±æ˜¯&lt;code&gt;inet_ntoa()&lt;/code&gt;â€œè‡ªä½œèªæ˜â€åœ°æŠŠå†…éƒ¨çš„static char[]è¿”å›äº†ï¼Œè€Œæˆ‘ä»¬çš„ç¨‹åºæ­£æ˜¯è¸©ä¸­äº†è¿™ä¸ªé™·é˜±ã€‚è®©æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹fprintfä»£ç ã€‚åœ¨æˆ‘ä»¬fprintfæ—¶ï¼Œç¼–è¯‘å™¨å…ˆè®¡ç®—&lt;code&gt;inet_ntoa(des)&lt;/code&gt;ï¼Œäºæ˜¯å…¶è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²çš„åœ°å€ï¼Œç„¶åç¨‹åºå†å»æ±‚&lt;code&gt;inet_ntoa(src)&lt;/code&gt;è¡¨è¾¾å¼ï¼Œåˆå¾—åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²çš„åœ°å€ã€‚è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²çš„åœ°å€éƒ½æ˜¯&lt;code&gt;inet_ntoa()&lt;/code&gt;ä¸­é‚£ä¸ª&lt;code&gt;static char[]&lt;/code&gt;ï¼Œæ˜¾ç„¶æ˜¯åŒä¸€ä¸ªåœ°å€ï¼Œè€Œç¬¬äºŒæ¬¡æ±‚srcçš„IPæ—¶ï¼Œè¿™ä¸ªå€¼çš„desçš„IPåœ°å€å†…å®¹å¿…å°†è¢«srcçš„IPè¦†ç›–ã€‚æ‰€ä»¥ï¼Œè¿™ä¸¤ä¸ªè¡¨è¾¾å¼çš„å­—ç¬¦ä¸²å†…å­˜éƒ½æ˜¯ä¸€æ ·çš„äº†ï¼Œæ­¤æ—¶ï¼Œç¨‹åºä¼šè°ƒç”¨fprintfæŠŠè¿™ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼ˆå…¶å®æ˜¯ä¸€ä¸ªï¼‰è¾“å‡ºåˆ°æ–‡ä»¶ã€‚æ‰€ä»¥ï¼Œå¾—åˆ°ç›¸åŒçš„ç»“æœä¹Ÿå°±ä¸å¥‡æ€ªã€‚&lt;/p&gt;
&lt;p&gt;ä»”ç»†çœ‹ä¸€ä¸‹inet_ntoaçš„manï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™å¥è¯ï¼š&lt;code&gt;The string is returned in a statically allocated buffer,  which  subsequent calls will overwrite. &lt;/code&gt;è¯å®äº†æˆ‘ä»¬çš„åˆ†æã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å°ç»“&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è®©æˆ‘ä»¬å¤§å®¶éƒ½æ‰ªå¿ƒè‡ªé—®ä¸€ä¸‹ï¼Œæˆ‘ä»¬åœ¨å†™ç¨‹åºçš„è¿‡ç¨‹å½“ä¸­æ˜¯å¦ä½¿ç”¨äº†è¿™ç§æ–¹æ³•ï¼Ÿè¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒå±é™©ï¼Œå®¹æ˜“å‡ºé”™çš„æ–¹æ³•ã€‚è¿™ç§é™·é˜±è®©äººé˜²ä¸èƒœé˜²ã€‚æƒ³æƒ³ï¼Œå¦‚æœä½ æœ‰è¿™æ ·çš„ç¨‹åºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-C++&#34; data-lang=&#34;C++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; ( strcmp( inet_ntoa(ip1), inet_ntoa(ip2) )&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; ) {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â€¦&lt;/span&gt;. &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â€¦&lt;/span&gt;.  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ¬æƒ³åˆ¤æ–­ä¸€ä¸‹ä¸¤ä¸ªIPåœ°å€æ˜¯å¦ä¸€æ ·ï¼Œå´ä¸æ–™æ‰å…¥äº†é‚£ä¸ªé™·é˜±â€”â€”è®©è¿™ä¸ªæ¡ä»¶è¡¨è¾¾å¼æ°¸çœŸã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªäº‹æƒ…å‘Šè¯‰æˆ‘ä»¬ä¸‹é¢å‡ ä¸ªé“ç†ï¼š&lt;/p&gt;
&lt;p&gt;1ï¼‰æ…ç”¨è¿™ç§æ–¹å¼çš„è®¾è®¡ã€‚è¿”å›å‡½æ•°å†…éƒ¨çš„staticå†…å­˜æœ‰å¾ˆå¤§çš„é™·é˜±ã€‚&lt;/p&gt;
&lt;p&gt;2ï¼‰å¦‚æœä¸€å®šè¦ä½¿ç”¨è¿™ç§æ–¹å¼çš„è¯ã€‚ä½ å°±å¿…é¡»ä¸¥è‚ƒåœ°å‘Šè¯‰æ‰€æœ‰ä½¿ç”¨è¿™ä¸ªå‡½æ•°çš„äººï¼Œåƒä¸‡ä¸è¦åœ¨ä¸€ä¸ªè¡¨è¾¾å¼ä¸­å¤šæ¬¡ä½¿ç”¨è¿™ä¸ªå‡½æ•°ã€‚è€Œä¸”ï¼Œè¿˜è¦å‘Šè¯‰ä»–ä»¬ï¼Œä¸copyå‡½æ•°è¿”å›çš„å†…å­˜çš„å†…å®¹ï¼Œè€Œåªæ˜¯ä¿å­˜è¿”å›çš„å†…å­˜åœ°å€æˆ–æ˜¯å¼•ç”¨æ˜¯æ²¡ç”¨çš„ã€‚ä¸ç„¶çš„è¯ï¼Œåæœæ¦‚ä¸è´Ÿè´£ã€‚&lt;/p&gt;
&lt;p&gt;3ï¼‰C/C++æ˜¯å¾ˆå±é™©çš„ä¸–ç•Œï¼Œå¦‚æœä½ ä¸æ¸…æ¥šä»–çš„è¯ã€‚è¿˜æ˜¯å›ç«æ˜Ÿå»å§ã€‚&lt;/p&gt;
&lt;p&gt;é™„ï¼šçœ‹è¿‡Efftive C++çš„æœ‹å‹ä¸€å®šçŸ¥é“å…¶ä¸­æœ‰ä¸€ä¸ªæ¡æ¬¾ï¼ˆitem 23ï¼‰ï¼šä¸è¦è¯•å›¾è¿”å›å¯¹è±¡çš„å¼•ç”¨ã€‚è¿™ä¸ªæ¡æ¬¾ä¸­ä¹Ÿå¯¹æ˜¯å¦è¿”å›å‡½æ•°å†…éƒ¨çš„staticå˜é‡è¿›è¡Œäº†è®¨è®ºã€‚ç»“æœä¹Ÿæ˜¯æŒå¦å®šæ€åº¦çš„ã€‚&lt;/p&gt;
&lt;p&gt;åŸæ–‡åœ°å€: &lt;a class=&#34;link&#34; href=&#34;http://www.tuicool.com/articles/JNZZfiZ&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://www.tuicool.com/articles/JNZZfiZ&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘Custom comparison, equality and equivalence with the STL</title>
        <link>https://lxb.wiki/55f488ad/</link>
        <pubDate>Wed, 29 Mar 2017 19:01:51 +0000</pubDate>
        
        <guid>https://lxb.wiki/55f488ad/</guid>
        <description>&lt;p&gt;ä»ä¸€æ®µä»£ç å¼•ç”¨å¼€å§‹:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;std::vector&amp;amp;lt; std::pair&amp;lt;int, std::string=&amp;quot;&amp;quot;&amp;gt; &amp;amp;gt; v1 = ... // v1 is filled with data
std::vector&amp;amp;lt; std::pair&amp;lt;int, std::string=&amp;quot;&amp;quot;&amp;gt; &amp;amp;gt; v2 = ... // v2 is filled with data
std::vector&amp;amp;lt; std::pair&amp;lt;int, std::string=&amp;quot;&amp;quot;&amp;gt; &amp;amp;gt; results;&amp;lt;/int,&amp;gt;&amp;lt;/int,&amp;gt;&amp;lt;/int,&amp;gt;

std::sort(v1.begin(), v1.end());
std::sort(v2.begin(), v2.end());

std::set_difference(v1.begin(), v1.end(),
v2.begin(), v2.end(),
std::back_inserter(result),
compareFirst);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨ä¸¤ä¸ªæ’å¥½åºçš„vector v1 å’Œ v2ä¸Šè°ƒç”¨&lt;code&gt;std::set_difference&lt;/code&gt;. &lt;code&gt;std::set_difference&lt;/code&gt; æŠŠç»“æœå†™å…¥ &lt;code&gt;result&lt;/code&gt;, &lt;code&gt;std::back_inserter&lt;/code&gt; ç¡®ä¿è¾“å‡ºçš„ç»“æœä»&lt;code&gt;result&lt;/code&gt; çš„åé¢æ·»å…¥. è‡ªå®šä¹‰çš„&lt;code&gt;compareFirst&lt;/code&gt; ä½œä¸ºæ¯”è¾ƒå‡½æ•°æä¾›ç»™&lt;code&gt;std::set_difference&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;é»˜è®¤åœ°, &lt;code&gt;std::set_difference&lt;/code&gt; é€šè¿‡ &lt;code&gt;std::pair&lt;/code&gt; é»˜è®¤çš„æ¯”è¾ƒå‡½æ•°æ¥æ¯”è¾ƒé‡Œé¢çš„å…ƒç´ (æ¯”è¾ƒpairçš„firstå’Œsecond), æˆ‘ä»¬è‡ªå®šä¹‰äº†&lt;code&gt;compareFirst&lt;/code&gt;, å¸Œæœ›åªæ¯”è¾ƒpairçš„first. &lt;code&gt;compareFirst&lt;/code&gt;ä¸æ˜¯STLçš„å‡½æ•°, éœ€è¦æˆ‘ä»¬è‡ªå·±å®ç°.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;std::set_difference&lt;/code&gt; ä½¿ç”¨çš„å‰ææ˜¯inputå·²ç»æ’å¥½åº, å€˜è‹¥æˆ‘ä»¬è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°C, è€Œé€šè¿‡Cæˆ‘ä»¬èƒ½æŠŠå…ƒç´ æ’å¥½åº, é‚£ä¹ˆæˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªCä»£æ›¿sortçš„é»˜è®¤æ’åºä¹Ÿæ˜¯å¯ä»¥çš„.&lt;/p&gt;
&lt;p&gt;åœ¨æ­¤ä¾‹ä¸­, æˆ‘ä»¬ä½¿ç”¨&lt;code&gt;std::set_difference&lt;/code&gt; åªå¯¹pairçš„firstè¿›è¡Œæ’åº, å°½ç®¡å®ƒä»¬å·²ç»é€šè¿‡&amp;quot;first + second&amp;quot;çš„æ–¹å¼æ’åºå®Œäº†.&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ¥å®ç°&lt;code&gt;compareFirst&lt;/code&gt;. åˆç‰ˆ:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bool compareFirst(const std::pair&amp;lt;int, std::string=&amp;quot;&amp;quot;&amp;gt;&amp;amp;amp; p1, const std::pair&amp;lt;int, std::string=&amp;quot;&amp;quot;&amp;gt;&amp;amp;amp; p2)
{
return p1.first == p2.first; // not final code, bug lurking here!
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å®é™…ä¸Š, ä¸Šé¢çš„ä»£ç ä¸ä¼šå¾—åˆ°æˆ‘ä»¬é¢„æœŸçš„ç»“æœ. ä¸ºä»€ä¹ˆ? æ¯•ç«Ÿ&lt;code&gt;std::set_difference&lt;/code&gt; ä¼šæ£€æŸ¥å…ƒç´ è·Ÿå¦ä¸€ä¸ªå®¹å™¨çš„å…ƒç´ æ˜¯å¦ç›¸ç­‰(equal), ä¸æ˜¯å—?&amp;lt;/int,&amp;gt;&amp;lt;/int,&amp;gt;&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ç†è§£ä¸Šé¢çš„å†…å®¹, æˆ‘ä»¬æŠŠSTLå¤§æ¦‚åœ°åˆ†ä¸ºä¸¤ç±»: æ“ä½œæ’åºå…ƒç´ çš„ å’Œæ“ä½œä¹±åºå…ƒç´ çš„.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Comparing elements&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;C++ä¸­æè¿°&amp;quot;a is the same as b&amp;quot; æœ‰ä¸¤ç§æ–¹æ³•&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;- the natural way: a == b. This is called equality. Equality is based on operator==.
- the other way: a is not smaller than b and b is not smaller than a, so !(a&amp;lt;b) &amp;amp;&amp;amp;=&amp;quot;&amp;quot; !(b&amp;lt;a).=&amp;quot;&amp;quot; this=&amp;quot;&amp;quot; is=&amp;quot;&amp;quot; called=&amp;quot;&amp;quot; equivalence.=&amp;quot;&amp;quot; equivalence=&amp;quot;&amp;quot; based=&amp;quot;&amp;quot; on=&amp;quot;&amp;quot; operator&amp;lt;.=&amp;quot;&amp;quot; ```=&amp;quot;&amp;quot; è¿™ä¸¤ä¸ªé—®é¢˜æ¶‰åŠåˆ°å¦ä¸€ä¸ªåè¯:=&amp;quot;&amp;quot; `equivalence`=&amp;quot;&amp;quot; &amp;lt;u=&amp;quot;&amp;quot;&amp;gt;How is it different from equality?&amp;lt;/b)&amp;gt;

å¯¹äºåŸºæœ¬ç±»å‹å¦‚int, ç”šè‡³å®è·µä¸­å¤§å¤šæ•°ç±»å‹, `equivalence` å’Œ`quality` æ˜¯ç›¸é€šçš„. ä½†æ˜¯æ­£å¦‚*Scott Meyers* åœ¨&amp;amp;lt;&amp;amp;lt; Effective STL&amp;amp;gt;&amp;amp;gt;  ä¸€ä¹¦æ¡ç›®19ä¸­æŒ‡å‡ºçš„, å¯¹äºæœ‰ä¸€äº›ç±»å‹, å³ä½¿&amp;quot;å¹¶éç½•è§&amp;quot;, `equivalence` å’Œ `equality` æ˜¯ä¸åŒçš„, å¦‚ å¤§å°å†™ä¸æ•æ„Ÿçš„stringç±»å‹.

&amp;lt;u&amp;gt;Why such a far-fetched way to express a simple thing?&amp;lt;/u&amp;gt;

å½“æˆ‘ä»¬ä½¿ç”¨ç®—æ³•å¯¹å®¹å™¨å†…å…ƒç´ è¿›è¡Œæ’åºæ—¶, å¾ˆå®¹æ˜“ç†è§£å¿…é¡»æœ‰ç‹¬ä¸€æ— äºŒçš„æ’åºæ–¹æ³•(å¦‚æœ‰å¤šç§æ’åºæ–¹æ³•, ä¼šå¾ˆç¬¨é‡, å¹¶å¯èƒ½äº§ç”Ÿä¸ä¸€è‡´çš„ç»“æœ). æ‰€ä»¥å¯¹äºä¸€ä¸ªç‰¹å®šçš„å®¹å™¨, æ’åºæ—¶, &amp;quot;==&amp;quot; å’Œ&amp;quot;&amp;amp;lt;&amp;quot; åªèƒ½é€‰ä¸€ä¸ª. 

å¯¹äºSTLä¸­æ’åºçš„éƒ¨åˆ†, æˆ‘ä»¬åˆ«æ— é€‰æ‹©: æ’åºæ—¶å¿…é¡»ä½¿ç”¨&amp;quot;&amp;amp;lt;&amp;quot;;
è€Œä¹±åºéƒ¨åˆ†, åˆ™æ²¡æœ‰è¿™ä¸ªçº¦æŸ, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨&amp;quot;==&amp;quot;.

**Implementing the comparator**

STLçš„ä¹±åºéƒ¨åˆ†ä½¿ç”¨&amp;quot;==&amp;quot;, è€Œæ’åºéƒ¨åˆ†ä½¿ç”¨&amp;quot;&amp;amp;lt;&amp;quot;. æˆ‘ä»¬è‡ªå®šä¹‰çš„æ¯”è¾ƒå‡½æ•°ä¹Ÿå¿…é¡»éµå¾ªè¿™ç§é€»è¾‘. 

ç°åœ¨æˆ‘ä»¬å¯ä»¥ç†è§£æ€ä¹ˆè‡ªå®šä¹‰å®ç°`std::set_difference` çš„æ¯”è¾ƒå‡½æ•°`compareFirst` äº†.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;p&gt;bool compareFirst(const std::pair&amp;lt;int, std::string=&amp;quot;&amp;quot;&amp;gt;&amp;amp; p1, const std::pair&amp;lt;int, std::string=&amp;quot;&amp;quot;&amp;gt;&amp;amp; p2) { return p1.first &amp;lt; p2.first; // correct, STL-compatible code. } ```&lt;/p&gt;
&lt;p&gt;åŸæ–‡åœ°å€: &lt;a class=&#34;link&#34; href=&#34;http://www.fluentcpp.com/2017/02/16/custom-comparison-equality-equivalence-stl/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://www.fluentcpp.com/2017/02/16/custom-comparison-equality-equivalence-stl/&lt;/a&gt; &amp;lt;/int,&amp;gt;&amp;lt;/int,&amp;gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘How to (std::)find something efficiently with the STL</title>
        <link>https://lxb.wiki/56dc57bb/</link>
        <pubDate>Thu, 16 Mar 2017 22:07:59 +0000</pubDate>
        
        <guid>https://lxb.wiki/56dc57bb/</guid>
        <description>&lt;p&gt;æœ¬æ–‡åˆ†3éƒ¨åˆ†: 1. æ€ä¹ˆä½¿ç”¨STLè¿›è¡Œé«˜æ•ˆçš„æŸ¥æ‰¾: å€Ÿç”¨ä¼ ç»ŸSTLç®—æ³•å¯¹å…ƒç´ è¿›è¡ŒèŒƒå›´æœç´¢ 2. æœç´¢STLå®¹å™¨: å½“ä½ æœ‰ç›´æ¥è¯»å–STLå®¹å™¨é‡Œå…ƒç´ çš„æƒé™æ—¶, æ€ä¹ˆè¿›è¡Œé«˜æ•ˆå‡†ç¡®çš„æœç´¢(ä¸ç®€å•çš„èŒƒå›´æœç´¢ç›¸æ¯”è¾ƒ) 3. STLæœç´¢ç®—æ³•çš„ç§˜å¯†: å‘å…¬ä¼—å±•ç¤ºä¸ä¸ºäººçŸ¥çš„ç®—æ³•, è¿™äº›ç®—æ³•åœ¨å·²ç»å­¦ä¹ è¿‡çš„äººçœ¼é‡Œç¡®å®æ˜¯å¾ˆæœ‰ç”¨çš„&lt;/p&gt;
&lt;p&gt;STLæ ¹æ®æŸ¥çœ‹æ–¹å¼çš„ä¸åŒ, ä¸€å…±åˆ†ä¸ºä¸¤ç§: æ’åºçš„å’Œä¸æ’åºçš„. * æ’åºé›†åˆçš„éå†, é€šå¸¸éœ€è¦å¯¹æ•°æ—¶é•¿, è€Œä¹±åºé›†åˆçš„éå†, éœ€è¦çº¿æ€§æ—¶é•¿ * æ’åºå®¹å™¨ä¸­æ¯”è¾ƒå…ƒç´ å¤§å°çš„å‡½æ•°æ ¹æ®equivalence(comparing with &amp;lt;), è€Œä¹±åºå®¹å™¨ä¸­çš„å‡½æ•°æ ¹æ®equality(comparing with ==).&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†å±•ç¤ºå¯¹äºåœ¨ä¸€ä¸ªèŒƒå›´å†…æœç´¢ä¸€ä¸ªç»™å®šçš„å€¼, C++æ€ä¹ˆæ ·å»é˜è¿°ä¸‹é¢3ä¸ªé—®é¢˜: * å®ƒå­˜åœ¨å¦ * å®ƒåœ¨å“ª * å®ƒåº”è¯¥åœ¨ä»€ä¹ˆä½ç½®(æ’åºå®¹å™¨)&lt;/p&gt;
&lt;h3 id=&#34;is-it-there&#34;&gt;Is it there?&lt;/h3&gt;
&lt;h4 id=&#34;ä¹±åºå®¹å™¨çš„å…ƒç´ &#34;&gt;ä¹±åºå®¹å™¨çš„å…ƒç´ &lt;/h4&gt;
&lt;p&gt;è¿™ä¸ªé—®é¢˜å¯ä»¥ç”¨std::findæ¥è¡¨è¾¾(éœ€è¦å’Œä¸èŒƒå›´çš„ç»ˆç‚¹å€¼çš„æ¯”è¾ƒç›¸ç»“åˆ):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;vector&amp;lt;int&amp;gt; v = ... // v filled with values
if (std::find(v.begin(), v.end(), 42) != v.end())
{
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&amp;ldquo;Is it there&amp;quot;è¿™ä¸ªé—®é¢˜ä¹Ÿå¯ä»¥ç”¨std::countæ¥è¡¨è¾¾:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;vector&amp;lt;int&amp;gt; v = ... // v filled with values
if (std::count(v.begin(), v.end(), 42))
{
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;std::count()çš„è¿”å›å€¼ä¼šè¢«éšå¼åœ°è½¬æ¢æˆifæ¡ä»¶é‡Œçš„boolå€¼: å¦‚æœè¯¥èŒƒå›´é‡Œæœ‰è‡³å°‘ä¸€ä¸ªå€¼ä¸º42, åˆ™è¿”å›true.&lt;/p&gt;
&lt;p&gt;ä¸std::findç›¸æ¯”, std::countçš„ä¼˜åŠ£: ä¼˜åŠ¿:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;std::counté¿å…äº†ä¸èŒƒå›´çš„endå€¼ç›¸æ¯”è¾ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¼Šç«¯:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;std::countéå†æ•´ä¸ªé›†åˆ, è€Œstd::findåœ¨ç¬¬ä¸€ä¸ªä¸è¦æŸ¥æ‰¾çš„å€¼ç›¸ç­‰çš„ä½ç½®åœä¸‹&lt;/li&gt;
&lt;li&gt;å¯ä»¥è¯æ˜, å¯¹äº&amp;quot;æƒ³è¦æŸ¥æ‰¾æŸä¸ªå€¼&amp;quot;è¿™ä»¶äº‹, std::find è¡¨è¾¾å¾—æ›´æ˜ç¡® åŸºäºä»¥ä¸Š, std::findç”¨å¾—æ›´å¤š.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt; è‹¥è¦ç¡®è®¤æŸä¸ªå€¼å­˜åœ¨è€Œéæ˜¯ä¸è¦æœç´¢çš„å€¼ç›¸ç­‰, è¯·ä½¿ç”¨&lt;code&gt;std::count_if, std::find_if, std::find_if_not&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;æ’åºå®¹å™¨çš„å…ƒç´ &#34;&gt;æ’åºå®¹å™¨çš„å…ƒç´ &lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨çš„ç®—æ³•æ˜¯&lt;code&gt;std::binary_search&lt;/code&gt;, æ­¤å‡½æ•°è¿”å›ä¸€ä¸ªboolå€¼, æ­¤boolå€¼è¡¨ç¤ºåœ¨é›†åˆä¸­æ˜¯å¦å­˜åœ¨ä¸æœç´¢çš„å€¼ç›¸ç­‰çš„å…ƒç´ .&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;std::set&amp;lt;int&amp;gt; numbers = // sorted elements
bool is42InThere = std::binary_search(numbers.begin(), numbers.end(), 42);
```&amp;lt;/int&amp;gt;

### Where is it?
(å½“ç¡®å®šäº†è¦æœç´¢çš„å€¼å­˜åœ¨å,) æˆ‘ä»¬æƒ³æ›´è¿›ä¸€æ­¥, å¾—åˆ°æŒ‡å‘é‚£ä¸ªå…ƒç´ çš„è¿­ä»£å™¨.

#### ä¹±åºå®¹å™¨çš„å…ƒç´ 

ä½¿ç”¨std::find. è¿”å›æŒ‡å‘ç¬¬ä¸€ä¸ªä¸æœç´¢çš„å€¼ç›¸ç­‰çš„å…ƒç´ çš„è¿­ä»£å™¨, å¦‚æœæ‰¾ä¸åˆ°, åˆ™è¿”å›é›†åˆçš„ç»ˆç‚¹.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;p&gt;std::vector numbers = &amp;hellip; auto searchResult = std::find(numbers.begin(), numbers.end(), 42);&lt;/p&gt;
&lt;p&gt;if (searchResult != numbers.end()) { &amp;hellip;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#### æ’åºå®¹å™¨çš„å…ƒç´ 

å¯¹äºæ’åºé›†åˆ, STLå¹¶æ²¡æœ‰åƒstd::findä¸€æ ·ç›´æ¥çš„ç®—æ³•. std::findå¹¶ä¸æ˜¯ä¸ºæ’åºå®¹å™¨è®¾è®¡çš„, å› ä¸ºå®ƒä¾æ®çš„æ˜¯&amp;quot;==&amp;quot;è€Œä¸æ˜¯&amp;quot;&amp;amp;lt;&amp;quot;, æ¶ˆè€—çš„æ—¶é—´ä¸ºçº¿æ€§æ—¶é•¿è€Œä¸æ˜¯å¯¹æ•°æ—¶é•¿.
å¯¹äºä¸€ä¸ªç»™å®šçš„å®¹å™¨, å¦‚æœå®¹å™¨å†…å…ƒç´ çš„&amp;quot;equality&amp;quot;å’Œ&amp;quot;equivalence&amp;quot;æ˜¯ç›¸åŒçš„, ä¸”ä½ èƒ½æ¥å—æ¶ˆè€—çš„çº¿æ€§æ—¶é•¿, é‚£ä¹ˆstd::findä¼šä¸ºä½ è¿”å›æ­£ç¡®çš„ç»“æœ, ä½ ä¹Ÿèƒ½ä»å®ƒç®€å•ç›´æ¥çš„æ¥å£ä¸­è·ç›Š. **ä½†æ˜¯,** ä¸èƒ½å¿˜è®°, std::findå¹¶ä¸æ˜¯ä¸ºæ’åºå®¹å™¨è®¾è®¡çš„.

è¿™é‡Œæ¨èä½¿ç”¨`std::equal_range`. (å¹¶é`std::lower_bound`)
å‡½æ•°åŸå‹: 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;p&gt;template&amp;lt; class ForwardIt, class T &amp;gt; std::pair&amp;lt;forwardit,forwardit&amp;gt; equal_range( ForwardIt first, ForwardIt last, const T&amp;amp; value );&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;`std::equal_range` è¿”å›ä¸æœç´¢å€¼ç›¸ç­‰çš„å…ƒç´ çš„èŒƒå›´, è¿™ä¸ªèŒƒå›´ç”¨ä¸€å¯¹é›†åˆå†…çš„è¿­ä»£å™¨è¡¨ç¤º. è¿™ä¸¤ä¸ªè¿­ä»£å™¨åˆ†åˆ«æŒ‡å‘ ä¸æœç´¢å€¼ç›¸ç­‰çš„èŒƒå›´é‡Œç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®.&amp;lt;/forwardit,forwardit&amp;gt;

ç„¶è€Œ, å®ƒçš„æ¥å£æœ‰äº›ç¬¨é‡:
ä¾‹A:
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;std::vector v = {3, 7, 3, 11, 3, 3, 2}; sort(v.begin(), v.end());&lt;/p&gt;
&lt;p&gt;// equal_range, attempt 1: natively clumsy std::pair&amp;lt;std::vector::iterator, std::vector::iterator&amp;gt; range1 = equal_range(v.begin(), v.end(), 3); std::for_each(range1.first, range1.second, doSomething);&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ç”¨ä¸€ä¸ª`typedef` æˆ–è€…`using`è®©å®ƒæ›´ç®€æ´:
ä¾‹B:
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;std::vector v = {3, 7, 3, 11, 3, 3, 2}; sort(v.begin(), v.end());&amp;lt;/std::vector&lt;/p&gt;
&lt;p&gt;using IteratorPair = std::pair&amp;lt;std::vector::iterator, std::vector::iterator&amp;gt;;&amp;lt;/std::vector&lt;/p&gt;
&lt;p&gt;// equal_range, attempt 2: with the classical typedef IteratorPair range2 = equal_range(v.begin(), v.end(), 3); std::for_each(range2.first, range2.second, doSomething);&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ä¾‹Bç¡®å®ç®€æ´äº†å¾ˆå¤š, ä½†æ˜¯ä»æœ‰ä¸€ä¸ªæ ¹æœ¬é—®é¢˜: æ²¡æœ‰è€ƒè™‘ æŠ½è±¡ç­‰çº§.
å°½ç®¡è¿”å›çš„æ˜¯ä¸€ä¸ªèŒƒå›´, ä½†è¿™å¯¹è¿­ä»£å™¨å¼ºè¿«æˆ‘ä»¬åœ¨æ“ä½œè¿”å›çš„èŒƒå›´æ—¶å¿…é¡»æŒ‰ç…§&amp;quot;ç¬¬ä¸€&amp;quot;&amp;quot;ç¬¬äºŒ&amp;quot;è¿™ç§æ–¹å¼æ¥å†™ä»£ç . èŒƒå›´å°±åº”è¯¥ç”¨&amp;quot;é¦–&amp;quot;&amp;quot;å°¾&amp;quot;è¿™ç§æ–¹å¼æ¥è¡¨è¾¾. è¿™ä¸ä»…ç»™æˆ‘ä»¬åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨è¿™ä¸ªè¿”å›å€¼æ—¶é€ æˆå¾ˆå¤§çš„éº»çƒ¦, è€Œä¸”ä½¿ä»£ç å¾ˆåˆ«æ‰­.

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜, æˆ‘ä¹ˆå¯ä»¥æŠŠ`std::equal_range` è¿”å›çš„è¿­ä»£å™¨å¯¹å°è£…è¿›ä¸€ä¸ªæœ‰&amp;quot;èŒƒå›´&amp;quot;è¿™ç§è¯­ä¹‰çš„`object`
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;p&gt;template&lt;/p&gt;
&lt;p&gt;class Range&lt;/p&gt;
&lt;p&gt;{&lt;/p&gt;
&lt;p&gt;public:&lt;/p&gt;
&lt;p&gt;Range(std::pair range)&lt;/p&gt;
&lt;p&gt;m_begin(range.first), m_end(range.second) {} typename Container::iterator begin() { return m_begin; } typename Container::iterator end() { return m_end; }&lt;/p&gt;
&lt;p&gt;private: typename Container::iterator m_begin; typename Container::iterator m_end; };&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;æ³¨æ„: å°½ç®¡`std::equal_range` è¿”å›çš„ç»“æœæ˜¯ä¸€ä¸ª&amp;quot;èŒƒå›´&amp;quot;, ä½†æ˜¯`std::begin` å’Œ `std::end` ä¸èƒ½ç”¨åœ¨è¿™ä¸ªç»“æœä¸Š. è€Œä¸Šé¢çš„å°è£…è§£å†³äº†è¿™ä¸ªé—®é¢˜.
å¯ä»¥åƒä¸‹é¢è¿™æ ·ä½¿ç”¨:
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;p&gt;std::vector v = {3, 7, 3, 11, 3, 3, 2}; sort(v.begin(), v.end());&lt;/p&gt;
&lt;p&gt;// equal_range, attempt 3: natural al last Range&lt;a class=&#34;link&#34; href=&#34;std::vector%5c&#34; &gt;std::vector\&lt;/a&gt; range3 = equal_range(v.begin(), v.end(), 3); std::for_each(range3.begin(), range3.end(), doSomething);&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ä¸ç®¡ä½ ä½¿ç”¨ä¸Šé¢çš„å“ªç§æ–¹å¼, `std::equal_range` éƒ½ä¼šè¿”å›ä¸€ä¸ªèŒƒå›´, è¦ç¡®å®šå®ƒæ˜¯å¦ä¸ºç©º, å¯ä»¥é€šè¿‡æ£€æŸ¥é‚£ä¸¤ä¸ªè¿­ä»£å™¨(æ˜¯å¦ç›¸ç­‰)æˆ–è€…ä½¿ç”¨`std::distance` æ£€æŸ¥å®ƒçš„å¤§å°. &amp;lt;/std::vector&amp;lt;int&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;p&gt;bool noElementFound = range3.begin() == range3.end(); size_t numberOfElementFound = std::distance(range3.begin(), range3.end()) ```&lt;/p&gt;
&lt;h3 id=&#34;where-should-it-be&#34;&gt;Where should it be?&lt;/h3&gt;
&lt;p&gt;è¿™ä¸ªé—®é¢˜ä»…ä»…é’ˆå¯¹æ’åºçš„èŒƒå›´, å› ä¸ºå¯¹äºä¹±åºçš„èŒƒå›´, æŸä¸ªå…ƒç´ å¯èƒ½ä¼šå­˜åœ¨ä»»ä½•ä½ç½®.&lt;/p&gt;
&lt;p&gt;å¯¹äºæ’åºçš„èŒƒå›´, è¿™ä¸ªé—®é¢˜å¯ä»¥ç®€åŒ–ä¸º: å¦‚æœå®ƒå­˜åœ¨, é‚£ä¹ˆå®ƒåœ¨å“ªå„¿? å¦‚æœå®ƒä¸å­˜åœ¨, é‚£ä¹ˆå®ƒåº”è¯¥åœ¨å“ªå„¿?&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªé—®é¢˜å¯ä»¥ç”¨ç®—æ³•&lt;code&gt;std::lower_bound&lt;/code&gt; å’Œ&lt;code&gt;std::upper_bound&lt;/code&gt; æ¥è§£é‡Š.&lt;/p&gt;
&lt;p&gt;å½“ä½ ç†è§£äº†&lt;code&gt;std::equal_range&lt;/code&gt; å, ä¸Šé¢è¿™å¥è¯å°±å¾ˆå®¹æ˜“ç†è§£äº†: &lt;code&gt;std::lower_bound&lt;/code&gt; å’Œ&lt;code&gt;std::upper_bound&lt;/code&gt; éƒ½ä¼šè¿”å› &lt;code&gt;std::equal_range&lt;/code&gt; è¿”å›çš„é‚£ä¸ªè¿­ä»£å™¨å¯¹çš„ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªè¿­ä»£å™¨.&lt;/p&gt;
&lt;p&gt;è¦æ’å…¥æŸä¸ªå€¼x, ä½¿ç”¨&lt;code&gt;std::lower_bound&lt;/code&gt; å¾—åˆ°æŒ‡å‘ åœ¨èŒƒå›´é‡Œä¸xç›¸ç­‰çš„å…ƒç´ ä¹‹å‰çš„ä½ç½®çš„è¿­ä»£å™¨, ä½¿ç”¨&lt;code&gt;std::upper_bound&lt;/code&gt; å¾—åˆ°æŒ‡å‘ åœ¨èŒƒå›´é‡Œä¸xç›¸ç­‰çš„å…ƒç´ ä¹‹åçš„ä½ç½®çš„è¿­ä»£å™¨.&lt;/p&gt;
&lt;p&gt;æ³¨æ„: å¦‚æœä»…ä»…æ˜¯æœç´¢æŸä¸ªå…ƒç´ , æ°¸è¿œä¸è¦ä½¿ç”¨&lt;code&gt;std::lower_bound&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä¸&lt;code&gt;std::find&lt;/code&gt; ç›¸å, ä½ ä¸èƒ½æ ¹æ® åˆ¤æ–­&lt;code&gt;std::lower_bound&lt;/code&gt; è¿”å›çš„è¿­ä»£å™¨æ˜¯å¦ä¸ç»ˆç‚¹çš„è¿­ä»£å™¨ç›¸ç­‰ æ¥åˆ¤æ–­è¦æœç´¢çš„å€¼æ˜¯å¦å­˜åœ¨äºè¿™ä¸ªé›†åˆ. äº‹å®ä¸Š, å¦‚æœè¿™ä¸ªå€¼åœ¨é›†åˆé‡Œä¸å­˜åœ¨, åˆ™&lt;code&gt;std::lower_bound&lt;/code&gt; è¿”å›å®ƒåº”è¯¥åœ¨çš„ä½ç½®, è€Œä¸æ˜¯ç»ˆç‚¹çš„è¿­ä»£å™¨. æ‰€ä»¥, ä½ ä¸ä»…éœ€è¦ç¡®è®¤è¿”å›çš„è¿­ä»£å™¨ä¸æ˜¯ç»ˆç‚¹çš„è¿­ä»£å™¨, è¿˜è¦ç¡®è®¤å®ƒæŒ‡å‘çš„å…ƒç´ è·Ÿè¦æœç´¢çš„å€¼æ˜¯ç›¸ç­‰çš„.&lt;/p&gt;
&lt;h3 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h3&gt;
&lt;p&gt;Question to express in C++&lt;/p&gt;
&lt;p&gt;NOT SORTED&lt;/p&gt;
&lt;p&gt;SORTED&lt;/p&gt;
&lt;p&gt;Is it there?&lt;/p&gt;
&lt;p&gt;std::find != end&lt;/p&gt;
&lt;p&gt;std::binary_search&lt;/p&gt;
&lt;p&gt;Where is it?&lt;/p&gt;
&lt;p&gt;std::find&lt;/p&gt;
&lt;p&gt;std::equal_range&lt;/p&gt;
&lt;p&gt;Where should it be?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;std::lower_bound / std::upper_bound&lt;/p&gt;
&lt;p&gt;åŸæ–‡åœ°å€: &lt;a class=&#34;link&#34; href=&#34;http://www.fluentcpp.com/2017/01/16/how-to-stdfind-something-efficiently-with-the-stl/?hmsr=toutiao.io&amp;amp;utm&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://www.fluentcpp.com/2017/01/16/how-to-stdfind-something-efficiently-with-the-stl/?hmsr=toutiao.io&amp;utm&lt;/a&gt;_medium=toutiao.io&amp;amp;utm_source=toutiao.io&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ã€è¯‘ã€‘Effective STL 9</title>
        <link>https://lxb.wiki/978f4b48/</link>
        <pubDate>Thu, 09 Mar 2017 21:09:09 +0000</pubDate>
        
        <guid>https://lxb.wiki/978f4b48/</guid>
        <description>&lt;p&gt;æ¡æ¬¾9ï¼šåœ¨åˆ é™¤é€‰é¡¹ä¸­ä»”ç»†é€‰æ‹© å‡å®šä½ æœ‰ä¸€ä¸ªæ ‡å‡†STLå®¹å™¨ï¼Œcï¼Œå®¹çº³intï¼Œ &lt;code&gt;Container&amp;lt;int&amp;gt; c;&lt;/code&gt; è€Œä½ æƒ³æŠŠcä¸­æ‰€æœ‰å€¼ä¸º&lt;code&gt;1963&lt;/code&gt;çš„å¯¹è±¡éƒ½å»æ‰ã€‚ä»¤äººåƒæƒŠçš„æ˜¯ï¼Œå®Œæˆè¿™é¡¹ä»»åŠ¡çš„æ–¹æ³•å› ä¸åŒçš„å®¹ å™¨ç±»å‹è€Œä¸åŒï¼šæ²¡æœ‰ä¸€ç§æ–¹æ³•æ˜¯é€šç”¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ æœ‰ä¸€ä¸ªè¿ç»­å†…å­˜å®¹å™¨ï¼ˆvectorã€dequeæˆ–stringâ€”â€”å‚è§æ¡æ¬¾1ï¼‰ï¼Œæœ€å¥½çš„æ–¹æ³•æ˜¯erase-removeæƒ¯ç”¨æ³•ï¼ˆå‚è§æ¡æ¬¾32ï¼‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;c.erase(remove(c.begin(), c.end(), &lt;span style=&#34;color:#ae81ff&#34;&gt;1963&lt;/span&gt;),       &lt;span style=&#34;color:#75715e&#34;&gt;// å½“cæ˜¯vectorã€string
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;c.end());                               &lt;span style=&#34;color:#75715e&#34;&gt;// æˆ–dequeæ—¶ï¼Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// erase-removeæƒ¯ç”¨æ³•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// æ˜¯å»é™¤ç‰¹å®šå€¼çš„å…ƒç´ 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// çš„æœ€ä½³æ–¹æ³•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ–¹æ³•ä¹Ÿé€‚åˆäºlistï¼Œä½†æ˜¯ï¼Œæ­£å¦‚æ¡æ¬¾44è§£é‡Šçš„ï¼Œlistçš„æˆå‘˜å‡½æ•°removeæ›´é«˜æ•ˆï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;c.remove(&lt;span style=&#34;color:#ae81ff&#34;&gt;1963&lt;/span&gt;);     &lt;span style=&#34;color:#75715e&#34;&gt;// å½“cæ˜¯listæ—¶ï¼Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// removeæˆå‘˜å‡½æ•°æ˜¯å»é™¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ç‰¹å®šå€¼çš„å…ƒç´ çš„æœ€ä½³æ–¹æ³•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å½“cæ˜¯æ ‡å‡†å…³è”å®¹å™¨ï¼ˆå³ï¼Œsetã€multisetã€mapæˆ–multimapï¼‰æ—¶ï¼Œä½¿ç”¨ä»»ä½•å«åšremoveçš„ä¸œ è¥¿éƒ½æ˜¯å®Œå…¨é”™è¯¯çš„ã€‚è¿™æ ·çš„å®¹å™¨æ²¡æœ‰å«åšremoveçš„æˆå‘˜å‡½æ•°ï¼Œè€Œä¸”ä½¿ç”¨removeç®—æ³•å¯èƒ½è¦† ç›–å®¹å™¨å€¼ï¼ˆå‚è§æ¡æ¬¾32ï¼‰ï¼Œæ½œåœ¨åœ°ç ´åå®¹å™¨ã€‚ï¼ˆå…³äºè¿™æ ·çš„ç ´åçš„ç»†èŠ‚ï¼Œå‚è€ƒæ¡æ¬¾22ï¼Œé‚£ ä¸ªæ¡æ¬¾ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆè¯•å›¾åœ¨mapå’Œmultimapä¸Šä½¿ç”¨removeè‚¯å®šä¸èƒ½ç¼–è¯‘ï¼Œè€Œè¯•å›¾åœ¨setå’Œ multisetä¸Šä½¿ç”¨å¯èƒ½ä¸èƒ½ç¼–è¯‘ã€‚ï¼‰&lt;/p&gt;
&lt;p&gt;ä¸ï¼Œå¯¹äºå…³è”å®¹å™¨ï¼Œè§£å†³é—®é¢˜çš„é€‚å½“æ–¹æ³•æ˜¯è°ƒç”¨eraseï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;c.erase(&lt;span style=&#34;color:#ae81ff&#34;&gt;1963&lt;/span&gt;);      &lt;span style=&#34;color:#75715e&#34;&gt;// å½“cæ˜¯æ ‡å‡†å…³è”å®¹å™¨æ—¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// eraseæˆå‘˜å‡½æ•°æ˜¯å»é™¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// ç‰¹å®šå€¼çš„å…ƒç´ çš„æœ€ä½³æ–¹æ³•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ä»…æ˜¯æ­£ç¡®çš„ï¼Œè€Œä¸”å¾ˆé«˜æ•ˆï¼ŒåªèŠ±è´¹å¯¹æ•°æ—¶é—´ã€‚ï¼ˆåºåˆ—å®¹å™¨çš„åŸºäºåˆ é™¤çš„æŠ€æœ¯éœ€è¦çº¿æ€§ æ—¶é—´ã€‚ï¼‰å¹¶ä¸”ï¼Œå…³è”å®¹å™¨çš„eraseæˆå‘˜å‡½æ•°æœ‰åŸºäºç­‰ä»·è€Œä¸æ˜¯ç›¸ç­‰çš„ä¼˜åŠ¿ï¼Œæ¡æ¬¾19è§£é‡Šäº†è¿™ ä¸€åŒºåˆ«çš„é‡è¦æ€§ã€‚&lt;/p&gt;
&lt;p&gt;è®©æˆ‘ä»¬ç°åœ¨ç¨å¾®ä¿®æ”¹ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚ä¸æ˜¯ä»cä¸­é™¤å»æ¯ä¸ªæœ‰ç‰¹å®šå€¼çš„ç‰©ä½“ï¼Œè®©æˆ‘ä»¬æ¶ˆé™¤ä¸‹é¢ åˆ¤æ–­å¼ï¼ˆå‚è§æ¡æ¬¾39ï¼‰è¿”å›çœŸçš„æ¯ä¸ªå¯¹è±¡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;badValue&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; x);   &lt;span style=&#34;color:#75715e&#34;&gt;// è¿”å›xæ˜¯å¦æ˜¯â€œbadâ€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å¯¹äºåºåˆ—å®¹å™¨ï¼ˆ&lt;/span&gt;vector&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ã€&lt;/span&gt;string&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ã€&lt;/span&gt;deque&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;å’Œ&lt;/span&gt;list&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ï¼‰ï¼Œæˆ‘ä»¬è¦åšçš„åªæ˜¯æŠŠæ¯ä¸ª&lt;/span&gt;remove()&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æ›¿æ¢ä¸º&lt;/span&gt;remove_if()&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ï¼Œç„¶åå°±å®Œæˆäº†ï¼š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;c.erase(remove_if(c.begin(), c.end(), badValue),    &lt;span style=&#34;color:#75715e&#34;&gt;// å½“cæ˜¯vectorã€string
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;c.end());           &lt;span style=&#34;color:#75715e&#34;&gt;// æˆ–dequeæ—¶è¿™æ˜¯å»æ‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// badValueè¿”å›çœŸ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// çš„å¯¹è±¡çš„æœ€ä½³æ–¹æ³•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;c.remove_if(badValue);              &lt;span style=&#34;color:#75715e&#34;&gt;// å½“cæ˜¯listæ—¶è¿™æ˜¯å»æ‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// badValueè¿”å›çœŸ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// çš„å¯¹è±¡çš„æœ€ä½³æ–¹æ³•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯¹äºæ ‡å‡†å…³è”å®¹å™¨ï¼Œå®ƒä¸æ˜¯å¾ˆç›´æˆªäº†å½“ã€‚æœ‰ä¸¤ç§æ–¹æ³•å¤„ç†è¯¥é—®é¢˜ï¼Œä¸€ä¸ªæ›´å®¹æ˜“ç¼–ç ï¼Œå¦ä¸€ ä¸ªæ›´é«˜æ•ˆã€‚â€œæ›´å®¹æ˜“ä½†æ•ˆç‡è¾ƒä½â€çš„è§£å†³æ–¹æ¡ˆç”¨&lt;code&gt;remove_copy_if()&lt;/code&gt;æŠŠæˆ‘ä»¬éœ€è¦çš„å€¼æ‹·è´åˆ°ä¸€ ä¸ªæ–°å®¹å™¨ä¸­ï¼Œç„¶åæŠŠåŸå®¹å™¨çš„å†…å®¹å’Œæ–°çš„äº¤æ¢ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;AssocContainer&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; c;              &lt;span style=&#34;color:#75715e&#34;&gt;// cç°åœ¨æ˜¯ä¸€ç§
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;...                                 &lt;span style=&#34;color:#75715e&#34;&gt;// æ ‡å‡†å…³è”å®¹å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;AssocContainer&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; goodValues;         &lt;span style=&#34;color:#75715e&#34;&gt;// ç”¨äºå®¹çº³ä¸åˆ é™¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// çš„å€¼çš„ä¸´æ—¶å®¹å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;remove_copy_if(c.begin(), c.end(),          &lt;span style=&#34;color:#75715e&#34;&gt;// ä»cæ‹·è´ä¸åˆ é™¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;inserter(goodValues,        &lt;span style=&#34;color:#75715e&#34;&gt;// çš„å€¼åˆ°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;goodValues.end()),          &lt;span style=&#34;color:#75715e&#34;&gt;// goodValues
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;badValue);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;c.swap(goodValues);             &lt;span style=&#34;color:#75715e&#34;&gt;// äº¤æ¢cå’ŒgoodValues
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// çš„å†…å®¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ç§æ–¹æ³•çš„ç¼ºç‚¹æ˜¯å®ƒæ‹·è´äº†æ‰€æœ‰ä¸åˆ é™¤çš„å…ƒç´ ï¼Œè€Œè¿™æ ·çš„æ‹·è´å¼€é”€å¯èƒ½å¤§äºæˆ‘ä»¬æœŸæœ›çš„åº•çº¿ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥é€šè¿‡ç›´æ¥ä»åŸå®¹å™¨åˆ é™¤å…ƒç´ æ¥é¿å¼€æ‹·è´çš„å¼€é”€ã€‚ä¸è¿‡ï¼Œå› ä¸ºå…³è”å®¹å™¨æ²¡æœ‰æä¾›ç±»ä¼¼&lt;code&gt;remove_if()&lt;/code&gt;çš„æˆå‘˜å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»å†™ä¸€ä¸ªå¾ªç¯æ¥è¿­ä»£cä¸­çš„å…ƒç´ ï¼Œå’ŒåŸæ¥ä¸€æ ·åˆ é™¤å…ƒç´ .&lt;/p&gt;
&lt;p&gt;çœ‹èµ·æ¥ï¼Œè¿™ä¸ªä»»åŠ¡å¾ˆç®€å•ï¼Œè€Œä¸”å®é™…ä¸Šï¼Œä»£ç ä¹Ÿå¾ˆç®€å•ã€‚ä¸å¹¸çš„æ˜¯ï¼Œé‚£äº›æ­£ç¡®å·¥ä½œçš„ä»£ç  å¾ˆå°‘æ˜¯è·ƒå‡ºè„‘æµ·çš„ä»£ç ã€‚ä¾‹å¦‚ï¼Œè¿™æ˜¯å¾ˆå¤šç¨‹åºå‘˜é¦–å…ˆæƒ³åˆ°çš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;AssocContainer&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; c;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; (AssocContainer&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;::&lt;/span&gt;iterator i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; c.begin();   &lt;span style=&#34;color:#75715e&#34;&gt;// æ¸…æ™°ï¼Œç›´æˆªäº†å½“
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;i&lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; c.end();                                &lt;span style=&#34;color:#75715e&#34;&gt;// è€Œæ¼æ´ç™¾å‡ºçš„ç”¨äº
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;i) {                                      &lt;span style=&#34;color:#75715e&#34;&gt;// åˆ é™¤cä¸­badValueè¿”å›çœŸ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (badValue(&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;i)) c.erase(i);                   &lt;span style=&#34;color:#75715e&#34;&gt;// çš„æ¯ä¸ªå…ƒç´ çš„ä»£ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}                                                   &lt;span style=&#34;color:#75715e&#34;&gt;// ä¸è¦è¿™ä¹ˆåšï¼&amp;lt;/int&amp;gt;&amp;lt;/int&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;â€‹&lt;/p&gt;
&lt;p&gt;å”‰ï¼Œè¿™æœ‰æœªå®šä¹‰çš„è¡Œä¸ºã€‚å½“å®¹å™¨çš„ä¸€ä¸ªå…ƒç´ è¢«åˆ æ—¶ï¼ŒæŒ‡å‘é‚£ä¸ªå…ƒç´ çš„æ‰€æœ‰è¿­ä»£å™¨éƒ½å¤±æ•ˆäº† ã€‚å½“c.erase(i)è¿”å›æ—¶ï¼Œiå·²ç»å¤±æ•ˆã€‚é‚£å¯¹äºè¿™ä¸ªå¾ªç¯æ˜¯ä¸ªåæ¶ˆæ¯ï¼Œå› ä¸ºåœ¨erase()è¿”å›åï¼Œ ié€šè¿‡forå¾ªç¯çš„++iéƒ¨åˆ†è‡ªå¢ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¿…é¡»ä¿è¯åœ¨è°ƒç”¨eraseä¹‹å‰å°±å¾—åˆ°äº†cä¸­ä¸‹ä¸€å…ƒç´ çš„è¿­ä»£å™¨ã€‚æœ€å®¹ æ˜“çš„æ–¹æ³•æ˜¯å½“æˆ‘ä»¬è°ƒç”¨æ—¶åœ¨iä¸Šä½¿ç”¨åç½®é€’å¢ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;AssocContainer&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; c;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; (AssocContainer&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;::&lt;/span&gt;iterator i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; c.begin();   &lt;span style=&#34;color:#75715e&#34;&gt;// forå¾ªç¯çš„ç¬¬ä¸‰éƒ¨åˆ†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;i &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; c.end();                                   &lt;span style=&#34;color:#75715e&#34;&gt;// æ˜¯ç©ºçš„ï¼›iç°åœ¨åœ¨ä¸‹é¢
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/*nothing*/&lt;/span&gt; ){                                 &lt;span style=&#34;color:#75715e&#34;&gt;// è‡ªå¢
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (badValue(&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;i)) c.erase(i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;);     &lt;span style=&#34;color:#75715e&#34;&gt;// å¯¹äºåçš„å€¼ï¼ŒæŠŠå½“å‰çš„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;i;                           &lt;span style=&#34;color:#75715e&#34;&gt;// iä¼ ç»™eraseï¼Œç„¶å
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}                                       &lt;span style=&#34;color:#75715e&#34;&gt;// ä½œä¸ºå‰¯ä½œç”¨å¢åŠ iï¼›
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// å¯¹äºå¥½çš„å€¼ï¼Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// åªå¢åŠ i
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ç§è°ƒç”¨erase()çš„è§£å†³æ–¹æ³•å¯ä»¥å·¥ä½œï¼Œå› ä¸ºè¡¨è¾¾å¼i++çš„å€¼æ˜¯içš„æ—§å€¼ï¼Œä½†ä½œä¸ºå‰¯ä½œç”¨ï¼Œiå¢ åŠ äº†ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æŠŠiçš„æ—§å€¼ï¼ˆæ²¡å¢åŠ çš„ï¼‰ä¼ ç»™eraseï¼Œä½†åœ¨eraseå¼€å§‹æ‰§è¡Œå‰iå·²ç»è‡ªå¢äº† ã€‚é‚£æ­£å¥½æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚æ­£å¦‚æˆ‘æ‰€è¯´çš„ï¼Œä»£ç å¾ˆç®€å•ï¼Œåªä¸è¿‡ä¸æ˜¯å¤§å¤šæ•°ç¨‹åºå‘˜åœ¨ç¬¬ä¸€æ¬¡ å°è¯•æ—¶æƒ³åˆ°çš„ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨è®©æˆ‘ä»¬è¿›ä¸€æ­¥ä¿®æ”¹è¯¥é—®é¢˜ã€‚ä¸ä»…åˆ é™¤badValueè¿”å›çœŸçš„æ¯ä¸ªå…ƒç´ ï¼Œè€Œä¸”æ¯å½“ä¸€ä¸ªå…ƒç´  è¢«åˆ æ‰æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿæƒ³æŠŠä¸€æ¡æ¶ˆæ¯å†™åˆ°æ—¥å¿—æ–‡ä»¶ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå…³è”å®¹å™¨ï¼Œè¿™è¯´å¤šå®¹æ˜“å°±æœ‰å¤šå®¹æ˜“ï¼Œå› ä¸ºåªéœ€è¦å¯¹æˆ‘ä»¬åˆšæ‰å¼€å‘çš„å¾ªç¯åšä¸€ä¸ªå¾®ä¸è¶³ é“çš„ä¿®æ”¹å°±è¡Œäº†ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ofstream logFile;                   &lt;span style=&#34;color:#75715e&#34;&gt;// è¦å†™å…¥çš„æ—¥å¿—æ–‡ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;AssocContainer&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; c;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; (AssocContainer&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;::&lt;/span&gt;iterator i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; c.begin();   &lt;span style=&#34;color:#75715e&#34;&gt;// å¾ªç¯æ¡ä»¶å’Œå‰é¢ä¸€æ ·
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;i &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt;c.end();){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (badValue(&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;i)){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;logFile &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;lt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;lt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Erasing &amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;lt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;lt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;lt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;lt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt;;   &lt;span style=&#34;color:#75715e&#34;&gt;// å†™æ—¥å¿—æ–‡ä»¶ 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        c.erase(i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;);           &lt;span style=&#34;color:#75715e&#34;&gt;// åˆ é™¤å…ƒç´ 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;i;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç°åœ¨æ˜¯vectorã€stringå’Œdequeç»™æˆ‘ä»¬å¸¦æ¥éº»çƒ¦ã€‚æˆ‘ä»¬ä¸èƒ½å†ä½¿ç”¨&lt;code&gt;erase-remove&lt;/code&gt;æƒ¯ç”¨æ³•ï¼Œå› ä¸ºæ²¡æœ‰åŠæ³•è®©erase()æˆ–remove()å†™æ—¥å¿—æ–‡ä»¶ã€‚è€Œä¸”ï¼Œæˆ‘ä»¬ä¸èƒ½ä½¿ç”¨åˆšåˆšä¸ºå…³è”å®¹å™¨å¼€å‘çš„å¾ªç¯, å› ä¸ºå®ƒä¸ºvectorã€stringå’Œdequeäº§ç”Ÿæœªå®šä¹‰çš„è¡Œä¸ºï¼è¦è®°å¾—å¯¹äºé‚£æ ·çš„å®¹å™¨ï¼Œè°ƒç”¨eraseä¸ä»…ä½¿æ‰€æœ‰æŒ‡å‘è¢«åˆ å…ƒç´ çš„è¿­ä»£å™¨å¤±æ•ˆï¼Œä¹Ÿä½¿è¢«åˆ å…ƒç´ ä¹‹åçš„æ‰€æœ‰è¿­ä»£å™¨å¤±æ•ˆã€‚åœ¨æˆ‘ä»¬çš„æƒ…å†µé‡Œï¼Œé‚£åŒ…æ‹¬æ‰€æœ‰iä¹‹åçš„è¿­ä»£å™¨ã€‚æˆ‘ä»¬å†™i++ï¼Œ++iæˆ–ä½ èƒ½æƒ³èµ·çš„å…¶å®ƒä»»ä½•ä¸œè¥¿éƒ½æ²¡æœ‰ç”¨ï¼Œå› ä¸ºæ²¡æœ‰èƒ½å¯¼è‡´è¿­ä»£å™¨æœ‰æ•ˆçš„ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¿…é¡»å¯¹vectorã€stringå’Œdequeé‡‡ç”¨ä¸åŒçš„æˆ˜ç•¥ã€‚ç‰¹åˆ«æ˜¯ï¼Œæˆ‘ä»¬å¿…é¡»åˆ©ç”¨erase()çš„è¿”å›å€¼ã€‚é‚£ä¸ªè¿”å›å€¼æ­£æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼šä¸€æ—¦åˆ é™¤å®Œæˆï¼Œå®ƒå°±æ˜¯æŒ‡å‘ç´§æ¥åœ¨è¢«åˆ å…ƒç´ ä¹‹åçš„å…ƒç´ çš„æœ‰æ•ˆè¿­ä»£å™¨ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬è¿™ä¹ˆå†™ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; (SeqContainer&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;::&lt;/span&gt;iterator i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; c.begin();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;i &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; c.end();){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (badValue(&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;i)){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;logFile &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;lt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;lt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Erasing &amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;lt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;lt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;lt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;lt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt;; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; c.erase(i);         &lt;span style=&#34;color:#75715e&#34;&gt;// é€šè¿‡æŠŠeraseçš„è¿”å›å€¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    }                   &lt;span style=&#34;color:#75715e&#34;&gt;// èµ‹ç»™iæ¥ä¿æŒiæœ‰æ•ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;i;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™å¯ä»¥å¾ˆå¥½åœ°å·¥ä½œï¼Œä½†åªç”¨äºæ ‡å‡†åºåˆ—å®¹å™¨ã€‚ç”±äºè®ºè¯ä¸€ä¸ªå¯èƒ½çš„é—®é¢˜ï¼ˆæ¡æ¬¾5åšäº†ï¼‰ï¼Œæ ‡å‡†å…³è”å®¹å™¨çš„erase()çš„è¿”å›ç±»å‹æ˜¯void[1]ã€‚å¯¹äºé‚£äº›å®¹å™¨ï¼Œä½ å¿…é¡»ä½¿ç”¨â€œåç½®é€’å¢ä½ è¦ä¼ ç»™erase()çš„è¿­ä»£å™¨â€æŠ€æœ¯ã€‚ï¼ˆé¡ºä¾¿è¯´è¯´ï¼Œåœ¨ä¸ºåºåˆ—å®¹å™¨ç¼–ç å’Œä¸ºå…³è”å®¹å™¨ç¼–ç ä¹‹é—´çš„è¿™ç§å·®åˆ«æ˜¯ä¸ºä»€ä¹ˆå†™å®¹å™¨æ— å…³ä»£ç ä¸€èˆ¬ç¼ºä¹è€ƒè™‘çš„ä¸€ä¸ªä¾‹å­â€”â€”å‚è§æ¡æ¬¾2ã€‚)&lt;/p&gt;
&lt;p&gt;ä¸ºäº†é¿å…ä½ å¥‡æ€ªlistçš„é€‚å½“æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Œäº‹å®è¡¨æ˜å¯¹äºè¿­ä»£å’Œåˆ é™¤ï¼Œä½ å¯ä»¥åƒvector/str ing/dequeä¸€æ ·æˆ–åƒå…³è”å®¹å™¨ä¸€æ ·å¯¹å¾…listï¼›ä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥ä¸ºlistå·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬è§‚å¯Ÿåœ¨æœ¬æ¡æ¬¾ä¸­æåˆ°çš„æ‰€æœ‰ä¸œè¥¿ï¼Œæˆ‘ä»¬å¾—å‡ºä¸‹åˆ—ç»“è®ºï¼š&lt;/p&gt;
&lt;p&gt;å»é™¤ä¸€ä¸ªå®¹å™¨ä¸­æœ‰ç‰¹å®šå€¼çš„æ‰€æœ‰å¯¹è±¡ï¼š å¦‚æœå®¹å™¨æ˜¯vectorã€stringæˆ–dequeï¼Œä½¿ç”¨erase-removeæƒ¯ç”¨æ³•ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœå®¹å™¨æ˜¯listï¼Œä½¿ç”¨list::removeã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœå®¹å™¨æ˜¯æ ‡å‡†å…³è”å®¹å™¨ï¼Œä½¿ç”¨å®ƒçš„eraseæˆå‘˜å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;å»é™¤ä¸€ä¸ªå®¹å™¨ä¸­æ»¡è¶³ä¸€ä¸ªç‰¹å®šåˆ¤å®šå¼çš„æ‰€æœ‰å¯¹è±¡ï¼š å¦‚æœå®¹å™¨æ˜¯vectorã€stringæˆ–dequeï¼Œä½¿ç”¨&lt;code&gt;erase-remove_if&lt;/code&gt;æƒ¯ç”¨æ³•ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœå®¹å™¨æ˜¯listï¼Œä½¿ç”¨list::remove_ifã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœå®¹å™¨æ˜¯æ ‡å‡†å…³è”å®¹å™¨ï¼Œä½¿ç”¨&lt;code&gt;remove_copy_if&lt;/code&gt;å’Œ&lt;code&gt;swap&lt;/code&gt;ï¼Œæˆ–å†™ä¸€ä¸ªå¾ªç¯æ¥éå†å®¹å™¨å…ƒç´ ï¼Œ å½“ä½ æŠŠè¿­ä»£å™¨ä¼ ç»™eraseæ—¶è®°å¾—åç½®é€’å¢å®ƒã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å¾ªç¯å†…åšæŸäº›äº‹æƒ…ï¼ˆé™¤äº†åˆ é™¤å¯¹è±¡ä¹‹å¤–ï¼‰ï¼š å¦‚æœå®¹å™¨æ˜¯æ ‡å‡†åºåˆ—å®¹å™¨ï¼Œå†™ä¸€ä¸ªå¾ªç¯æ¥éå†å®¹å™¨å…ƒç´ ï¼Œæ¯å½“è°ƒç”¨eraseæ—¶è®°å¾—éƒ½ç”¨å®ƒçš„è¿”å›å€¼æ›´æ–°ä½ çš„è¿­ä»£å™¨ã€‚ å¦‚æœå®¹å™¨æ˜¯æ ‡å‡†å…³è”å®¹å™¨ï¼Œå†™ä¸€ä¸ªå¾ªç¯æ¥éå†å®¹å™¨å…ƒç´ ï¼Œå½“ä½ æŠŠè¿­ä»£å™¨ä¼ ç»™eraseæ—¶è®°å¾—åç½®é€’å¢å®ƒã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä½ æ‰€è§ï¼Œä¸ä»…ä»…è°ƒç”¨eraseç›¸æ¯”ï¼Œæœ‰æ•ˆåœ°åˆ é™¤å®¹å™¨å…ƒç´ æœ‰æ›´å¤šçš„ä¸œè¥¿ã€‚è§£å†³é—®é¢˜çš„æœ€å¥½æ–¹æ³•å–å†³äºä½ æ˜¯æ€æ ·é‰´åˆ«å‡ºå“ªä¸ªå¯¹è±¡æ˜¯è¦è¢«å»æ‰çš„ï¼Œå‚¨å­˜å®ƒä»¬çš„å®¹å™¨çš„ç±»å‹ï¼Œå’Œå½“ä½ åˆ é™¤å®ƒä»¬çš„æ—¶å€™ä½ è¿˜æƒ³è¦åšä»€ä¹ˆï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚åªè¦ä½ å°å¿ƒè€Œä¸”æ³¨æ„äº†æœ¬æ¡æ¬¾çš„å»ºè®®ï¼Œä½ å°†æ¯«ä¸è´¹åŠ›ã€‚å¦‚æœä½ ä¸å°å¿ƒï¼Œä½ å°†å†’ç€äº§ç”Ÿä¸å¿…è¦ä½æ•ˆçš„ä»£ç æˆ–æœªå®šä¹‰è¡Œä¸ºçš„å±é™©ã€‚&lt;/p&gt;
&lt;h2 id=&#34;------------------------------------------------------------------------------&#34;&gt;------------------------------------------------------------------------------&lt;/h2&gt;
&lt;p&gt;[1] è¿™ä»…å¯¹å¸¦æœ‰è¿­ä»£å™¨å®å‚çš„erase()å½¢å¼æ˜¯æ­£ç¡®çš„ã€‚å…³è”å®¹å™¨ä¹Ÿæä¾›ä¸€ä¸ªå¸¦æœ‰ä¸€ä¸ªå€¼çš„å®å‚ çš„erase()å½¢å¼ï¼Œè€Œé‚£ç§å½¢å¼è¿”å›è¢«åˆ æ‰çš„å…ƒç´ ä¸ªæ•°ã€‚ä½†è¿™é‡Œï¼Œæˆ‘ä»¬åªå…³å¿ƒé€šè¿‡è¿­ä»£å™¨åˆ é™¤ä¸œ è¥¿ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://bbs.sjtu.edu.cn/bbsanc,path,%2Fgroups%2FGROUP_3%2FC%2Fnetres%2Feffstl%2Ffile10.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å‚è€ƒåœ°å€&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>STL çš„ erase( ) é™·é˜±-è¿­ä»£å™¨å¤±æ•ˆæ€»ç»“</title>
        <link>https://lxb.wiki/b12cd95a/</link>
        <pubDate>Thu, 02 Mar 2017 23:10:19 +0000</pubDate>
        
        <guid>https://lxb.wiki/b12cd95a/</guid>
        <description>&lt;p&gt;STLä¸­çš„å®¹å™¨æŒ‰å­˜å‚¨æ–¹å¼åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ˜¯æŒ‰ä»¥æ•°ç»„å½¢å¼å­˜å‚¨çš„å®¹å™¨ï¼ˆå¦‚ï¼švector ã€deque)ï¼›å¦ä¸€ç±»æ˜¯ä»¥ä¸è¿ç»­çš„èŠ‚ç‚¹å½¢å¼å­˜å‚¨çš„å®¹å™¨ï¼ˆå¦‚ï¼šlistã€setã€mapï¼‰ã€‚åœ¨ä½¿ç”¨eraseæ–¹æ³•æ¥åˆ é™¤å…ƒç´ æ—¶ï¼Œéœ€è¦æ³¨æ„ä¸€äº›é—®é¢˜ã€‚&lt;/p&gt;
&lt;h4 id=&#34;1listsetmapå®¹å™¨&#34;&gt;&lt;strong&gt;1.list,set,mapå®¹å™¨&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;åœ¨ä½¿ç”¨ listã€set æˆ– mapéå†åˆ é™¤æŸäº›å…ƒç´ æ—¶å¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;del&gt;1.1 æ­£ç¡®å†™æ³• 1&lt;/del&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;std::list&amp;lt;int&amp;gt; list;
std::list&amp;lt;int&amp;gt;::iterator it_list;
for (it_list = list.begin(); it_list != list.end();)
{
if (willDelete(*it_list))
{
it_list = list.erase(it_list);
}
else
{
++it_list;
}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; ä»¥ä¸Šæ–¹æ³•ä»…é€‚ç”¨äºstandard sequence container, å› ä¸ºå¯¹äºstandard associative container, erase()çš„è¿”å›ç±»å‹ä¸ºvoid. (æŸ¥é˜…Effective STL Item 9)ä»¥ä¸‹ä¸ºåŸæ–‡:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;This works wonderfully, but only for the standard sequence containers. Due to reasoning one might question, erase()&#39;s return type for the standard associative containers is void. For those containers, you have to use the postincrement-the-iterator-you-pass-to-erase technique.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;1.2 æ­£ç¡®å†™æ³•2&lt;/strong&gt; æŸ¥é˜…åŸç‰ˆEffctive STL Item 9, è¯å®, ä¸‹é¢è¿™ç§å†™æ³•ä¸èƒ½ç”¨äºæ ‡å‡†åºåˆ—å®¹å™¨, è€Œé€‚ç”¨äºæ ‡å‡†å…³è”å®¹å™¨, è€ŒListä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;std::list&amp;lt;int&amp;gt; list;
std::list&amp;lt;int&amp;gt;::iterator it_list;
for (it_list = list.begin(); it_list != list.end();)
{
if (willDelete(*it_list))
{
list.erase(it_list++); // å¿…é¡»ä½¿ç”¨åç¼€è‡ªå¢, ä¸èƒ½ä½¿ç”¨å‰ç¼€è‡ªå¢
}
else
{
++it_list;
}
}
```&amp;lt;/int&amp;gt;&amp;lt;/int&amp;gt;

**1.3 é”™è¯¯å†™æ³• 1**
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;std::list&amp;lt; int&amp;gt; List; std::list&amp;lt; int&amp;gt;::iterator itList; for( itList = List.begin(); itList != List.end(); itList++) { if( WillDelete( *itList) ) { List.erase( itList); } }&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;**1.4 é”™è¯¯å†™æ³• 2**
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;std::list&amp;lt; int&amp;gt; List; std::list&amp;lt; int&amp;gt;::iterator itList; for( itList = List.begin(); itList != List.end(); ) { if( WillDelete( *itList) ) { itList = List.erase( ++itList); } else itList++; }&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;**1.5 åˆ†æ**

æ­£ç¡®æ–¹æ³•1: é€šè¿‡erase()æ–¹æ³•çš„è¿”å›å€¼æ¥è·å–ä¸‹ä¸€ä¸ªå…ƒç´ çš„ä½ç½®;
æ­£ç¡®æ–¹æ³•2: åœ¨è°ƒç”¨erase()æ–¹æ³•ä¹‹å‰å…ˆä½¿ç”¨&amp;quot;++&amp;quot; æ¥è·å–ä¸‹ä¸€ä¸ªå…ƒç´ çš„ä½ç½®;
é”™è¯¯ä½¿ç”¨æ–¹æ³•1: åœ¨è°ƒç”¨erase()æ–¹æ³•ä¹‹åä½¿ç”¨&amp;quot;++&amp;quot; æ¥è·å–ä¸‹ä¸€ä¸ªå…ƒç´ çš„ä½ç½®, ç”±äºåœ¨è°ƒç”¨erase()æ–¹æ³•ä¹‹å, è¯¥å…ƒç´ çš„ä½ç½®å·²ç»è¢«åˆ é™¤, å¦‚æœå†æ ¹æ®è¿™ä¸ªæ—§çš„ä½ç½®æ¥è·å–ä¸‹ä¸€ä¸ªä½ç½®, åˆ™ä¼šå‡ºç°å¼‚å¸¸;
é”™è¯¯ä½¿ç”¨æ–¹æ³•2: åŒä¸Š

####**2. vector,deque å®¹å™¨**
åœ¨ä½¿ç”¨ vectorã€dequeéå†åˆ é™¤å…ƒç´ æ—¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡eraseçš„è¿”å›å€¼æ¥è·å–ä¸‹ä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼š

**2.1 æ­£ç¡®å†™æ³•:**
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;std::vector vec; std::vector::iterator it_vec; for (it_vec = vec.begin(); it_vec != vec.end();) { if (willDelete(*it_vec)) { it_vec = vec.erase(it_vec); } else { ++it_vec; } } ```&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.2 æ³¨æ„&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;vector, deque ä¸èƒ½åƒä¸Šé¢çš„&amp;quot;æ­£ç¡®æ–¹æ³•2&amp;quot; çš„åŠæ³•æ¥éå†åˆ é™¤. åŸå› è¯·å‚è€ƒEffective STLæ¡æ¬¾9ã€‚æ‘˜å½•åˆ°ä¸‹é¢ï¼š 1) å¯¹äºå…³è”å®¹å™¨(å¦‚map, set, multimap, multiset)ï¼Œåˆ é™¤å½“å‰çš„iteratorï¼Œä»…ä»…ä¼šä½¿å½“å‰çš„iteratorå¤±æ•ˆï¼Œåªè¦åœ¨eraseæ—¶ï¼Œé€’å¢å½“å‰iteratorå³å¯ã€‚è¿™æ˜¯å› ä¸ºmapä¹‹ç±»çš„å®¹å™¨ï¼Œä½¿ç”¨äº†çº¢é»‘æ ‘æ¥å®ç°ï¼Œæ’å…¥ã€åˆ é™¤ä¸€ä¸ªç»“ç‚¹ä¸ä¼šå¯¹å…¶ä»–ç»“ç‚¹é€ æˆå½±å“ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;for (iter = cont.begin(); it != cont.end();)
{
(*iter)-&amp;amp;gt;doSomething();
if (shouldDelete(*iter))
cont.erase(iter++);
else
++iter;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å› ä¸ºiterä¼ ç»™eraseæ–¹æ³•çš„æ˜¯ä¸€ä¸ªå‰¯æœ¬ï¼Œiter++ä¼šæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;
&lt;p&gt;å¯¹äºåºåˆ—å¼å®¹å™¨(å¦‚vector, deque)ï¼Œåˆ é™¤å½“å‰çš„iteratorä¼šä½¿åé¢æ‰€æœ‰å…ƒç´ çš„iteratoréƒ½å¤±æ•ˆã€‚è¿™æ˜¯å› ä¸ºvetor, dequeä½¿ç”¨äº†è¿ç»­åˆ†é…çš„å†…å­˜ï¼Œåˆ é™¤ä¸€ä¸ªå…ƒç´ å¯¼è‡´åé¢æ‰€æœ‰çš„å…ƒç´ ä¼šå‘å‰ç§»åŠ¨ä¸€ä¸ªä½ç½®ã€‚è¿˜å¥½erase()æ–¹æ³•å¯ä»¥è¿”å›ä¸‹ä¸€ä¸ªæœ‰æ•ˆçš„iteratorã€‚&lt;/p&gt;
&lt;p&gt;for (iter = cont.begin(); iter != cont.end();)
{
(*it)-&amp;gt;doSomething();
if (shouldDelete(*iter))
iter = cont.erase(iter);
else
++iter;
}&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;3)å¯¹äºlistæ¥è¯´ï¼Œå®ƒä½¿ç”¨äº†ä¸è¿ç»­åˆ†é…çš„å†…å­˜ï¼Œå¹¶ä¸”å®ƒçš„erase()æ–¹æ³•ä¹Ÿä¼šè¿”å›ä¸‹ä¸€ä¸ªæœ‰æ•ˆçš„iteratorï¼Œå› æ­¤ä¸Šé¢ä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;h4 id=&#34;3-å…¶ä»–&#34;&gt;&lt;strong&gt;3. å…¶ä»–&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;set&lt;/strong&gt; é”®å’Œå€¼ç›¸ç­‰ã€‚ é”®å”¯ä¸€ã€‚ å…ƒç´ é»˜è®¤æŒ‰å‡åºæ’åˆ—ã€‚ å¦‚æœè¿­ä»£å™¨æ‰€æŒ‡å‘çš„å…ƒç´ è¢«åˆ é™¤ï¼Œåˆ™è¯¥è¿­ä»£å™¨å¤±æ•ˆã€‚å…¶å®ƒä»»ä½•å¢åŠ ã€åˆ é™¤å…ƒç´ çš„æ“ä½œéƒ½ä¸ä¼šä½¿è¿­ä»£å™¨å¤±æ•ˆ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;map&lt;/strong&gt; é”®å”¯ä¸€ã€‚ å…ƒç´ é»˜è®¤æŒ‰é”®çš„å‡åºæ’åˆ—ã€‚ å¦‚æœè¿­ä»£å™¨æ‰€æŒ‡å‘çš„å…ƒç´ è¢«åˆ é™¤ï¼Œåˆ™è¯¥è¿­ä»£å™¨å¤±æ•ˆã€‚å…¶å®ƒä»»ä½•å¢åŠ ã€åˆ é™¤å…ƒç´ çš„æ“ä½œéƒ½ä¸ä¼šä½¿è¿­ä»£å™¨å¤±æ•ˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;http://mp.weixin.qq.com/s/qonNrKKZLladvIwvurQCTA&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ä½œæˆå‚è€ƒåœ°å€&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ç”¨GDBè°ƒè¯•ç¨‹åº</title>
        <link>https://lxb.wiki/13b68d49/</link>
        <pubDate>Thu, 23 Feb 2017 19:12:02 +0000</pubDate>
        
        <guid>https://lxb.wiki/13b68d49/</guid>
        <description>&lt;h3 id=&#34;ä½¿ç”¨gdb&#34;&gt;ä½¿ç”¨GDB&lt;/h3&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´GDBä¸»è¦è°ƒè¯•çš„æ˜¯C/C++çš„ç¨‹åºã€‚è¦è°ƒè¯•C/C++çš„ç¨‹åºï¼Œé¦–å…ˆåœ¨ç¼–è¯‘æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»è¦æŠŠè°ƒè¯•ä¿¡æ¯åŠ åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚ä½¿ç”¨ç¼–è¯‘å™¨ï¼ˆcc/gcc/g++ï¼‰çš„ -g å‚æ•°å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚å¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$gcc -g -Wall hello.c -o hello
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$g++ -g -Wall hello.cpp -o hello
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœæ²¡æœ‰-gï¼Œä½ å°†çœ‹ä¸è§ç¨‹åºçš„å‡½æ•°åã€å˜é‡åï¼Œæ‰€ä»£æ›¿çš„å…¨æ˜¯è¿è¡Œæ—¶çš„å†…å­˜åœ°å€ã€‚å½“ä½ ç”¨-gæŠŠè°ƒè¯•ä¿¡æ¯åŠ å…¥ä¹‹åï¼Œå¹¶æˆåŠŸç¼–è¯‘ç›®æ ‡ä»£ç ä»¥åï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ç”¨gdbæ¥è°ƒè¯•ä»–ã€‚ å¯åŠ¨GDBçš„æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ç§ï¼š &lt;code&gt;gdb &amp;lt;program&amp;gt;&lt;/code&gt; programä¹Ÿå°±æ˜¯ä½ çš„æ‰§è¡Œæ–‡ä»¶ï¼Œä¸€èˆ¬åœ¨å½“å‰ç›®å½•ä¸‹ã€‚ &lt;code&gt;gdb &amp;lt;program&amp;gt; core&lt;/code&gt; ç”¨gdbåŒæ—¶è°ƒè¯•ä¸€ä¸ªè¿è¡Œç¨‹åºå’Œcoreæ–‡ä»¶ï¼Œcoreæ˜¯ç¨‹åºéæ³•æ‰§è¡Œåcore dumpåäº§ç”Ÿçš„æ–‡ä»¶ã€‚ &lt;code&gt;gdb &amp;lt;program&amp;gt; &amp;lt;pid&amp;gt;&lt;/code&gt; å¦‚æœä½ çš„ç¨‹åºæ˜¯ä¸€ä¸ªæœåŠ¡ç¨‹åºï¼Œé‚£ä¹ˆä½ å¯ä»¥æŒ‡å®šè¿™ä¸ªæœåŠ¡ç¨‹åºè¿è¡Œæ—¶çš„è¿›ç¨‹IDã€‚gdbä¼šè‡ªåŠ¨attachä¸Šå»ï¼Œå¹¶è°ƒè¯•ä»–ã€‚programåº”è¯¥åœ¨PATHç¯å¢ƒå˜é‡ä¸­æœç´¢å¾—åˆ°ã€‚ ä»¥ä¸Šä¸‰ç§éƒ½æ˜¯è¿›å…¥gdbç¯å¢ƒå’ŒåŠ è½½è¢«è°ƒè¯•ç¨‹åºåŒæ—¶è¿›è¡Œçš„ã€‚ä¹Ÿå¯ä»¥å…ˆè¿›å…¥gdbç¯å¢ƒï¼Œåœ¨åŠ è½½è¢«è°ƒè¯•ç¨‹åºï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;*åœ¨ç»ˆç«¯è¾“å…¥ï¼šgdb
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;*åœ¨gdbç¯å¢ƒä¸­ï¼šfile &amp;lt;program&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;è¿™ä¸¤æ­¥ç­‰ä»·äºï¼šgdb &amp;lt;program&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;GDBå¯åŠ¨æ—¶ï¼Œå¯ä»¥åŠ ä¸Šä¸€äº›GDBçš„å¯åŠ¨å¼€å…³ï¼Œè¯¦ç»†çš„å¼€å…³å¯ä»¥ç”¨gdb -helpæŸ¥çœ‹ã€‚æˆ‘åœ¨ä¸‹é¢åªä¾‹ä¸¾ä¸€äº›æ¯”è¾ƒå¸¸ç”¨çš„å‚æ•°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-symbols &amp;lt;file&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-s &amp;lt;file&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ä»æŒ‡å®šæ–‡ä»¶ä¸­è¯»å–ç¬¦å·è¡¨ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-se file
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ä»æŒ‡å®šæ–‡ä»¶ä¸­è¯»å–ç¬¦å·è¡¨ä¿¡æ¯ï¼Œå¹¶æŠŠä»–ç”¨åœ¨å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-core &amp;lt;file&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-c &amp;lt;file&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;è°ƒè¯•æ—¶core dumpçš„coreæ–‡ä»¶ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-directory &amp;lt;directory&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-d &amp;lt;directory&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;åŠ å…¥ä¸€ä¸ªæºæ–‡ä»¶çš„æœç´¢è·¯å¾„ã€‚é»˜è®¤æœç´¢è·¯å¾„æ˜¯ç¯å¢ƒå˜é‡ä¸­PATHæ‰€å®šä¹‰çš„è·¯å¾„ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;```&lt;/span&gt;&amp;lt;/directory&amp;gt;&amp;lt;/directory&amp;gt;&amp;lt;/file&amp;gt;&amp;lt;/file&amp;gt;&amp;lt;/file&amp;gt;&amp;lt;/file&amp;gt;&amp;lt;/program&amp;gt;&amp;lt;/program&amp;gt;&amp;lt;/pid&amp;gt;&amp;lt;/program&amp;gt;&amp;lt;/program&amp;gt;&amp;lt;/program&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;###GDBçš„å‘½ä»¤æ¦‚è²Œ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;å¯åŠ¨gdbåï¼Œä½ å°±è¢«å¸¦å…¥gdbçš„è°ƒè¯•ç¯å¢ƒä¸­ï¼Œå°±å¯ä»¥ä½¿ç”¨gdbçš„å‘½ä»¤å¼€å§‹è°ƒè¯•ç¨‹åºäº†ï¼Œgdbçš„å‘½ä»¤å¯ä»¥ä½¿ç”¨helpå‘½ä»¤æ¥æŸ¥çœ‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;```&lt;/span&gt;bash
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ gdb
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GNU gdb 6.7.1-debian
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Copyright &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;C&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2007&lt;/span&gt; Free Software Foundation, Inc.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;License GPLv3+: GNU GPL version &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt; or later &amp;lt;http: gnu.org&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt; licenses&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt; gpl.html&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;This is free software: you are free to change and redistribute it.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;There is NO WARRANTY, to the extent permitted by law.  Type &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;show copying&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;and &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;show warranty&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; details.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;This GDB was configured as &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;i486-linux-gnu&amp;#34;&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;gdb&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; help
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;List of classes of commands:&amp;lt;/http:&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;aliases -- Aliases of other commands
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;breakpoints -- Making program stop at certain points
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;data -- Examining data
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;files -- Specifying and examining files
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;internals -- Maintenance commands
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;obscure -- Obscure features
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;running -- Running the program
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;stack -- Examining the stack
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;status -- Status inquiries
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;support -- Support facilities
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tracepoints -- Tracing of program execution without stopping the program
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;user-defined -- User-defined commands
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Type &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;help&amp;#34;&lt;/span&gt; followed by a class name &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; a list of commands in that class.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Type &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;help all&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; the list of all commands.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Type &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;help&amp;#34;&lt;/span&gt; followed by command name &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; full documentation.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Type &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;apropos word&amp;#34;&lt;/span&gt; to search &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; commands related to &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;word&amp;#34;&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Command name abbreviations are allowed &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; unambiguous.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;gdb&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;gdb çš„å‘½ä»¤å¾ˆå¤šï¼ŒgdbæŠŠä¹‹åˆ†æˆè®¸å¤šä¸ªç§ç±»ã€‚helpå‘½ä»¤åªæ˜¯ä¾‹å‡ºgdbçš„å‘½ä»¤ç§ç±»ï¼Œå¦‚æœè¦çœ‹ç§ç±»ä¸­çš„å‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨&lt;code&gt;help &amp;lt;class&amp;gt;&lt;/code&gt;å‘½ä»¤ï¼Œå¦‚ï¼šhelp breakpointsï¼ŒæŸ¥çœ‹è®¾ç½®æ–­ç‚¹çš„æ‰€æœ‰å‘½ä»¤ã€‚ä¹Ÿå¯ä»¥ç›´æ¥&lt;code&gt;help &amp;lt;command&amp;gt;&amp;lt;/command&amp;gt;&lt;/code&gt;æ¥æŸ¥çœ‹å‘½ä»¤çš„å¸®åŠ©ã€‚ gdbä¸­ï¼Œè¾“å…¥å‘½ä»¤æ—¶ï¼Œå¯ä»¥ä¸ç”¨æ‰“å…¨å‘½ä»¤ï¼Œåªç”¨æ‰“å‘½ä»¤çš„å‰å‡ ä¸ªå­—ç¬¦å°±å¯ä»¥äº†ï¼Œå½“ç„¶ï¼Œå‘½ä»¤çš„å‰å‡ ä¸ªå­—ç¬¦åº”è¯¥è¦æ ‡å¿—ç€ä¸€ä¸ªå”¯ä¸€çš„å‘½ä»¤ï¼Œåœ¨Linuxä¸‹ï¼Œä½ å¯ä»¥æ•²å‡»ä¸¤æ¬¡TABé”®æ¥è¡¥é½å‘½ä»¤çš„å…¨ç§°ï¼Œå¦‚æœæœ‰é‡å¤çš„ï¼Œé‚£ä¹ˆgdbä¼šæŠŠå…¶åˆ—å‡ºæ¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ä¸€&lt;/strong&gt;ï¼šåœ¨è¿›å…¥å‡½æ•°funcæ—¶ï¼Œè®¾ç½®ä¸€ä¸ªæ–­ç‚¹ã€‚å¯ä»¥æ•²å…¥break funcï¼Œæˆ–æ˜¯ç›´æ¥å°±æ˜¯b func&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;gdb&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; b func
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Breakpoint &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; at 0x804837a: file tst.c, line 5.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹äºŒ&lt;/strong&gt;ï¼šæ•²å…¥bæŒ‰ä¸¤æ¬¡TABé”®ï¼Œä½ ä¼šçœ‹åˆ°æ‰€æœ‰bæ‰“å¤´çš„å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;gdb&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; b
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;backtrace break bt
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;gdb&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ä¸‰&lt;/strong&gt;ï¼šåªè®°å¾—å‡½æ•°çš„å‰ç¼€ï¼Œå¯ä»¥è¿™æ ·ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;gdb&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; b make_ &amp;amp;lt;æŒ‰TABé”®&amp;amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ï¼ˆå†æŒ‰ä¸‹ä¸€æ¬¡TABé”®ï¼Œä½ ä¼šçœ‹åˆ°:ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;make_a_section_from_file make_environ
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;make_abs_section make_function_type
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;make_blockvector make_pointer_type
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;make_cleanup make_reference_type
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;make_command make_symbol_completion_list
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;gdb&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; b make_
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GDBæŠŠæ‰€æœ‰makeå¼€å¤´çš„å‡½æ•°å…¨éƒ¨åˆ—å‡ºæ¥ç»™ä½ æŸ¥çœ‹ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹å››&lt;/strong&gt;ï¼šè°ƒè¯•C++çš„ç¨‹åºæ—¶ï¼Œæœ‰å¯ä»¥å‡½æ•°åä¸€æ ·ã€‚å¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;gdb&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; b &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;bubble( M-?
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;bubble(double,double) bubble(int,int)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;(gdb) b &amp;#39;&lt;/span&gt;bubble&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½ å¯ä»¥æŸ¥çœ‹åˆ°C++ä¸­çš„æ‰€æœ‰çš„é‡è½½å‡½æ•°åŠå‚æ•°ã€‚ï¼ˆæ³¨ï¼šM-?å’Œâ€œæŒ‰ä¸¤æ¬¡TABé”®â€æ˜¯ä¸€ä¸ªæ„æ€ï¼‰ è¦é€€å‡ºgdbæ—¶ï¼Œåªç”¨å‘quitæˆ–å‘½ä»¤ç®€ç§°qå°±è¡Œäº†&lt;/p&gt;
&lt;h3 id=&#34;gdbä¸­è¿è¡Œunixçš„shellç¨‹åº&#34;&gt;GDBä¸­è¿è¡ŒUNIXçš„shellç¨‹åº&lt;/h3&gt;
&lt;p&gt;åœ¨gdbç¯å¢ƒä¸­ï¼Œä½ å¯ä»¥æ‰§è¡ŒUNIXçš„shellçš„å‘½ä»¤ï¼Œä½¿ç”¨gdbçš„shellå‘½ä»¤æ¥å®Œæˆï¼š &lt;code&gt;shell &amp;lt;command string=&amp;quot;&amp;quot;&amp;gt;&amp;lt;/command&amp;gt;&lt;/code&gt; è°ƒç”¨UNIXçš„shellæ¥æ‰§è¡Œ&lt;code&gt;&amp;lt;command string=&amp;quot;&amp;quot;&amp;gt;&amp;lt;/command&amp;gt;&lt;/code&gt;ï¼Œç¯å¢ƒå˜é‡SHELLä¸­å®šä¹‰çš„UNIXçš„shellå°†ä¼šè¢«ç”¨æ¥æ‰§è¡Œ&lt;code&gt;&amp;lt;command string=&amp;quot;&amp;quot;&amp;gt;&amp;lt;/command&amp;gt;&lt;/code&gt;ï¼Œå¦‚æœSHELLæ²¡æœ‰å®šä¹‰ï¼Œé‚£å°±ä½¿ç”¨UNIXçš„æ ‡å‡†&lt;code&gt;shellï¼š/bin/sh&lt;/code&gt;ã€‚ï¼ˆåœ¨Windowsä¸­ä½¿ç”¨Command.comæˆ–cmd.exeï¼‰ è¿˜æœ‰ä¸€ä¸ªgdbå‘½ä»¤æ˜¯makeï¼š &lt;code&gt;make &amp;lt;make-args&amp;gt;&lt;/code&gt; å¯ä»¥åœ¨gdbä¸­æ‰§è¡Œmakeå‘½ä»¤æ¥é‡æ–°buildè‡ªå·±çš„ç¨‹åºã€‚è¿™ä¸ªå‘½ä»¤ç­‰ä»·äº&lt;code&gt;shell make &amp;lt;make-args&amp;gt;&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åœ¨gdbä¸­è¿è¡Œç¨‹åº&#34;&gt;åœ¨GDBä¸­è¿è¡Œç¨‹åº&lt;/h3&gt;
&lt;p&gt;å½“ä»¥&lt;code&gt;gdb &amp;lt;program&amp;gt;&lt;/code&gt;æ–¹å¼å¯åŠ¨gdbåï¼Œgdbä¼šåœ¨PATHè·¯å¾„å’Œå½“å‰ç›®å½•ä¸­æœç´¢&lt;code&gt;&amp;lt;program&amp;gt;&lt;/code&gt;çš„æºæ–‡ä»¶ã€‚å¦‚è¦ç¡®è®¤gdbæ˜¯å¦è¯»åˆ°æºæ–‡ä»¶ï¼Œå¯ä½¿ç”¨læˆ–listå‘½ä»¤ï¼Œçœ‹çœ‹gdbæ˜¯å¦èƒ½åˆ—å‡ºæºä»£ç ã€‚ åœ¨gdbä¸­ï¼Œè¿è¡Œç¨‹åºä½¿ç”¨ræˆ–æ˜¯runå‘½ä»¤ã€‚ç¨‹åºçš„è¿è¡Œï¼Œä½ æœ‰å¯èƒ½éœ€è¦è®¾ç½®ä¸‹é¢å››æ–¹é¢çš„äº‹ã€‚ &lt;strong&gt;1ã€ç¨‹åºè¿è¡Œå‚æ•°ã€‚&lt;/strong&gt; set args å¯æŒ‡å®šè¿è¡Œæ—¶å‚æ•°ã€‚ï¼ˆå¦‚ï¼šset args 10 20 30 40 50ï¼‰ show args å‘½ä»¤å¯ä»¥æŸ¥çœ‹è®¾ç½®å¥½çš„è¿è¡Œå‚æ•°ã€‚ &lt;strong&gt;2ã€è¿è¡Œç¯å¢ƒã€‚&lt;/strong&gt; `path&lt;/p&gt;
&lt;p&gt;&lt;code&gt;å¯è®¾å®šç¨‹åºçš„è¿è¡Œè·¯å¾„ã€‚ show paths æŸ¥çœ‹ç¨‹åºçš„è¿è¡Œè·¯å¾„ã€‚ set environment varname [=value] è®¾ç½®ç¯å¢ƒå˜é‡ã€‚å¦‚ï¼šset env USER=hchen show environment [varname] æŸ¥çœ‹ç¯å¢ƒå˜é‡ã€‚ **3ã€å·¥ä½œç›®å½•ã€‚**&lt;/code&gt;cd&lt;/p&gt;
&lt;p&gt;` ç›¸å½“äºshellçš„cdå‘½ä»¤ã€‚ pwd æ˜¾ç¤ºå½“å‰çš„æ‰€åœ¨ç›®å½•ã€‚ &lt;strong&gt;4ã€ç¨‹åºçš„è¾“å…¥è¾“å‡ºã€‚&lt;/strong&gt; info terminal æ˜¾ç¤ºä½ ç¨‹åºç”¨åˆ°çš„ç»ˆç«¯çš„æ¨¡å¼ã€‚ ä½¿ç”¨é‡å®šå‘æ§åˆ¶ç¨‹åºè¾“å‡ºã€‚å¦‚ï¼šrun &amp;gt; outfile ttyå‘½ä»¤å¯ä»¥æŒ‡å†™è¾“å…¥è¾“å‡ºçš„ç»ˆç«¯è®¾å¤‡ã€‚å¦‚ï¼štty /dev/ttyb&lt;/p&gt;
&lt;h3 id=&#34;è°ƒè¯•å·²è¿è¡Œçš„ç¨‹åº&#34;&gt;è°ƒè¯•å·²è¿è¡Œçš„ç¨‹åº&lt;/h3&gt;
&lt;p&gt;ä¸¤ç§æ–¹æ³•ï¼š 1. åœ¨UNIXä¸‹ç”¨psæŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„ç¨‹åºçš„PIDï¼ˆè¿›ç¨‹IDï¼‰ï¼Œç„¶åç”¨&lt;code&gt;gdb &amp;lt;program&amp;gt; PID&lt;/code&gt;æ ¼å¼æŒ‚æ¥æ­£åœ¨è¿è¡Œçš„ç¨‹åºã€‚ 2. å…ˆç”¨&lt;code&gt;gdb &amp;lt;program&amp;gt;&lt;/code&gt;å…³è”ä¸Šæºä»£ç ï¼Œå¹¶è¿›è¡Œgdbï¼Œåœ¨gdbä¸­ç”¨attachå‘½ä»¤æ¥æŒ‚æ¥è¿›ç¨‹çš„PIDã€‚å¹¶ç”¨detachæ¥å–æ¶ˆæŒ‚æ¥çš„è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æš‚åœæ¢å¤ç¨‹åºè¿è¡Œ&#34;&gt;æš‚åœ/æ¢å¤ç¨‹åºè¿è¡Œ&lt;/h3&gt;
&lt;p&gt;è°ƒè¯•ç¨‹åºä¸­ï¼Œæš‚åœç¨‹åºè¿è¡Œæ˜¯å¿…é¡»çš„ï¼ŒGDBå¯ä»¥æ–¹ä¾¿åœ°æš‚åœç¨‹åºçš„è¿è¡Œã€‚ä½ å¯ä»¥è®¾ç½®ç¨‹åºçš„åœ¨å“ªè¡Œåœä½ï¼Œåœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹åœä½ï¼Œåœ¨æ”¶åˆ°ä»€ä¹ˆä¿¡å·æ—¶åœå¾€ç­‰ç­‰ã€‚ä»¥ä¾¿äºä½ æŸ¥çœ‹è¿è¡Œæ—¶çš„å˜é‡ï¼Œä»¥åŠè¿è¡Œæ—¶çš„æµç¨‹ã€‚ å½“è¿›ç¨‹è¢«gdbåœä½æ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨&lt;code&gt;info program&lt;/code&gt; æ¥æŸ¥çœ‹ç¨‹åºçš„æ˜¯å¦åœ¨è¿è¡Œï¼Œè¿›ç¨‹å·ï¼Œè¢«æš‚åœçš„åŸå› ã€‚ åœ¨gdbä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰ä»¥ä¸‹å‡ ç§æš‚åœæ–¹å¼ï¼šæ–­ç‚¹ï¼ˆBreakPointï¼‰ã€è§‚å¯Ÿç‚¹ï¼ˆWatch Pointï¼‰ã€æ•æ‰ç‚¹ï¼ˆCatch Pointï¼‰ã€ä¿¡å·ï¼ˆSignalsï¼‰ã€çº¿ç¨‹åœæ­¢ï¼ˆThread Stopsï¼‰ã€‚å¦‚æœè¦æ¢å¤ç¨‹åºè¿è¡Œï¼Œå¯ä»¥ä½¿ç”¨cæˆ–æ˜¯ continueå‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸‹é¢ä¸ºé‡è¦çš„ä½¿ç”¨æ­¥éª¤, åªæ‘˜æŠ„äº†éƒ¨åˆ†å¿…è¦çš„ä¿¡æ¯, å¦‚è®¾ç½®æ–­ç‚¹, æŸ¥çœ‹æ ˆä¿¡æ¯, å…¶ä½™æ“ä½œ, å¯ä»¥åœ¨&lt;a class=&#34;link&#34; href=&#34;http://wiki.ubuntu.org.cn/%E7%94%A8GDB%E8%B0%83%E8%AF%95%E7%A8%8B%E5%BA%8F&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;wiki.ubuntu&lt;/a&gt;æŸ¥çœ‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è®¾ç½®æ–­ç‚¹ï¼ˆBreak Pointsï¼‰&lt;/strong&gt; æˆ‘ä»¬ç”¨breakå‘½ä»¤æ¥è®¾ç½®æ–­ç‚¹ã€‚ä¸‹é¢æœ‰å‡ ç‚¹è®¾ç½®æ–­ç‚¹çš„æ–¹æ³•ï¼š &lt;code&gt;break &amp;lt;function&amp;gt;&lt;/code&gt; åœ¨è¿›å…¥æŒ‡å®šå‡½æ•°æ—¶åœä½ã€‚C++ä¸­å¯ä»¥ä½¿ç”¨&lt;code&gt;class::function&lt;/code&gt;æˆ–&lt;code&gt;function(type,type)&lt;/code&gt;æ ¼å¼æ¥æŒ‡å®šå‡½æ•°åã€‚ &lt;code&gt;break &amp;lt;linenum&amp;gt;&lt;/code&gt; åœ¨æŒ‡å®šè¡Œå·åœä½ã€‚ &lt;code&gt;break +offset&lt;/code&gt; &lt;code&gt;break -offset&lt;/code&gt; åœ¨å½“å‰è¡Œå·çš„å‰é¢æˆ–åé¢çš„offsetè¡Œåœä½ã€‚offisetä¸ºè‡ªç„¶æ•°ã€‚ &lt;code&gt;break filenameï¼šlinenum&lt;/code&gt; åœ¨æºæ–‡ä»¶filenameçš„linenumè¡Œå¤„åœä½ã€‚ &lt;code&gt;break filenameï¼šfunction&lt;/code&gt; åœ¨æºæ–‡ä»¶filenameçš„functionå‡½æ•°çš„å…¥å£å¤„åœä½ã€‚ &lt;code&gt;break *address&lt;/code&gt; åœ¨ç¨‹åºè¿è¡Œçš„å†…å­˜åœ°å€å¤„åœä½ã€‚ &lt;code&gt;break&lt;/code&gt; breakå‘½ä»¤æ²¡æœ‰å‚æ•°æ—¶ï¼Œè¡¨ç¤ºåœ¨ä¸‹ä¸€æ¡æŒ‡ä»¤å¤„åœä½ã€‚ &lt;code&gt;break ... if &amp;lt;condition&amp;gt;&lt;/code&gt; &amp;hellip;å¯ä»¥æ˜¯ä¸Šè¿°çš„å‚æ•°ï¼Œconditionè¡¨ç¤ºæ¡ä»¶ï¼Œåœ¨æ¡ä»¶æˆç«‹æ—¶åœä½ã€‚æ¯”å¦‚åœ¨å¾ªç¯ä½“ä¸­ï¼Œå¯ä»¥è®¾ç½®&lt;code&gt;break if i==100&lt;/code&gt;ï¼Œè¡¨ç¤ºå½“iä¸º100æ—¶åœä½ç¨‹åºã€‚ æŸ¥çœ‹æ–­ç‚¹æ—¶ï¼Œå¯ä½¿ç”¨infoå‘½ä»¤ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼šï¼ˆæ³¨ï¼šnè¡¨ç¤ºæ–­ç‚¹å·ï¼‰ &lt;code&gt;info breakpoints [n]&lt;/code&gt; &lt;code&gt;info break [n]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç»´æŠ¤åœæ­¢ç‚¹&lt;/strong&gt; ä¸Šé¢è¯´äº†å¦‚ä½•è®¾ç½®ç¨‹åºçš„åœæ­¢ç‚¹ï¼ŒGDBä¸­çš„åœæ­¢ç‚¹ä¹Ÿå°±æ˜¯ä¸Šè¿°çš„ä¸‰ç±»ã€‚åœ¨GDBä¸­ï¼Œå¦‚æœä½ è§‰å¾—å·²å®šä¹‰å¥½çš„åœæ­¢ç‚¹æ²¡æœ‰ç”¨äº†ï¼Œä½ å¯ä»¥ä½¿ç”¨&lt;code&gt;delete&lt;/code&gt;ã€&lt;code&gt;clear&lt;/code&gt;ã€&lt;code&gt;disable&lt;/code&gt;ã€&lt;code&gt;enable&lt;/code&gt;è¿™å‡ ä¸ªå‘½ä»¤æ¥è¿›è¡Œç»´æŠ¤ã€‚ &lt;code&gt;clear&lt;/code&gt; æ¸…é™¤æ‰€æœ‰çš„å·²å®šä¹‰çš„åœæ­¢ç‚¹ã€‚ &lt;code&gt;clear &amp;lt;function&amp;gt;&lt;/code&gt; &lt;code&gt;clear &amp;lt;filenameï¼šfunction&amp;gt;&lt;/code&gt; æ¸…é™¤æ‰€æœ‰è®¾ç½®åœ¨å‡½æ•°ä¸Šçš„åœæ­¢ç‚¹ã€‚ &lt;code&gt;clear &amp;lt;linenum&amp;gt;&lt;/code&gt; &lt;code&gt;clear &amp;lt;filenameï¼šlinenum&amp;gt;&lt;/code&gt; æ¸…é™¤æ‰€æœ‰è®¾ç½®åœ¨æŒ‡å®šè¡Œä¸Šçš„åœæ­¢ç‚¹ã€‚ &lt;code&gt;delete [breakpoints] [range...]&lt;/code&gt; åˆ é™¤æŒ‡å®šçš„æ–­ç‚¹ï¼Œbreakpointsä¸ºæ–­ç‚¹å·ã€‚å¦‚æœä¸æŒ‡å®šæ–­ç‚¹å·ï¼Œåˆ™è¡¨ç¤ºåˆ é™¤æ‰€æœ‰çš„æ–­ç‚¹ã€‚range è¡¨ç¤ºæ–­ç‚¹å·çš„èŒƒå›´ï¼ˆå¦‚ï¼š3-7ï¼‰ã€‚å…¶ç®€å†™å‘½ä»¤ä¸ºdã€‚&amp;lt;/filenameï¼šlinenum&amp;gt;&amp;lt;/filenameï¼šfunction&amp;gt;&lt;/p&gt;
&lt;p&gt;æ¯”åˆ é™¤æ›´å¥½çš„ä¸€ç§æ–¹æ³•æ˜¯disableåœæ­¢ç‚¹ï¼Œdisableäº†çš„åœæ­¢ç‚¹ï¼ŒGDBä¸ä¼šåˆ é™¤ï¼Œå½“ä½ è¿˜éœ€è¦æ—¶ï¼Œenableå³å¯ï¼Œå°±å¥½åƒå›æ”¶ç«™ä¸€æ ·ã€‚ &lt;code&gt;disable [breakpoints] [range...]&lt;/code&gt; disableæ‰€æŒ‡å®šçš„åœæ­¢ç‚¹ï¼Œbreakpointsä¸ºåœæ­¢ç‚¹å·ã€‚å¦‚æœä»€ä¹ˆéƒ½ä¸æŒ‡å®šï¼Œè¡¨ç¤ºdisableæ‰€æœ‰çš„åœæ­¢ç‚¹ã€‚ç®€å†™å‘½ä»¤æ˜¯dis. &lt;code&gt;enable [breakpoints] [range...]&lt;/code&gt; enableæ‰€æŒ‡å®šçš„åœæ­¢ç‚¹ï¼Œbreakpointsä¸ºåœæ­¢ç‚¹å·ã€‚ &lt;code&gt;enable [breakpoints] once range...&lt;/code&gt; enableæ‰€æŒ‡å®šçš„åœæ­¢ç‚¹ä¸€æ¬¡ï¼Œå½“ç¨‹åºåœæ­¢åï¼Œè¯¥åœæ­¢ç‚¹é©¬ä¸Šè¢«GDBè‡ªåŠ¨disableã€‚ &lt;code&gt;enable [breakpoints] delete range...&lt;/code&gt; enableæ‰€æŒ‡å®šçš„åœæ­¢ç‚¹ä¸€æ¬¡ï¼Œå½“ç¨‹åºåœæ­¢åï¼Œè¯¥åœæ­¢ç‚¹é©¬ä¸Šè¢«GDBè‡ªåŠ¨åˆ é™¤ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ¢å¤ç¨‹åºè¿è¡Œå’Œå•æ­¥è°ƒè¯•&lt;/strong&gt; å½“ç¨‹åºè¢«åœä½äº†ï¼Œä½ å¯ä»¥ç”¨continueå‘½ä»¤æ¢å¤ç¨‹åºçš„è¿è¡Œç›´åˆ°ç¨‹åºç»“æŸï¼Œæˆ–ä¸‹ä¸€ä¸ªæ–­ç‚¹åˆ°æ¥ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨stepæˆ–nextå‘½ä»¤å•æ­¥è·Ÿè¸ªç¨‹åºã€‚ &lt;code&gt;continue [ignore-count]&lt;/code&gt; &lt;code&gt;c [ignore-count]&lt;/code&gt; &lt;code&gt;fg [ignore-count]&lt;/code&gt; æ¢å¤ç¨‹åºè¿è¡Œï¼Œç›´åˆ°ç¨‹åºç»“æŸï¼Œæˆ–æ˜¯ä¸‹ä¸€ä¸ªæ–­ç‚¹åˆ°æ¥ã€‚ignore-countè¡¨ç¤ºå¿½ç•¥å…¶åçš„æ–­ç‚¹æ¬¡æ•°ã€‚continueï¼Œcï¼Œfgä¸‰ä¸ªå‘½ä»¤éƒ½æ˜¯ä¸€æ ·çš„æ„æ€ã€‚ &lt;code&gt;step &amp;lt;count&amp;gt;&lt;/code&gt; å•æ­¥è·Ÿè¸ªï¼Œå¦‚æœæœ‰å‡½æ•°è°ƒç”¨ï¼Œä»–ä¼šè¿›å…¥è¯¥å‡½æ•°ã€‚è¿›å…¥å‡½æ•°çš„å‰ææ˜¯ï¼Œæ­¤å‡½æ•°è¢«ç¼–è¯‘æœ‰debugä¿¡æ¯ã€‚å¾ˆåƒVCç­‰å·¥å…·ä¸­çš„step inã€‚åé¢å¯ä»¥åŠ countä¹Ÿå¯ä»¥ä¸åŠ ï¼Œä¸åŠ è¡¨ç¤ºä¸€æ¡æ¡åœ°æ‰§è¡Œï¼ŒåŠ è¡¨ç¤ºæ‰§è¡Œåé¢çš„countæ¡æŒ‡ä»¤ï¼Œç„¶åå†åœä½ã€‚ &lt;code&gt;next &amp;lt;count&amp;gt;&lt;/code&gt; åŒæ ·å•æ­¥è·Ÿè¸ªï¼Œå¦‚æœæœ‰å‡½æ•°è°ƒç”¨ï¼Œä»–ä¸ä¼šè¿›å…¥è¯¥å‡½æ•°ã€‚å¾ˆåƒVCç­‰å·¥å…·ä¸­çš„step overã€‚åé¢å¯ä»¥åŠ countä¹Ÿå¯ä»¥ä¸åŠ ï¼Œä¸åŠ è¡¨ç¤ºä¸€æ¡æ¡åœ°æ‰§è¡Œï¼ŒåŠ è¡¨ç¤ºæ‰§è¡Œåé¢çš„countæ¡æŒ‡ä»¤ï¼Œç„¶åå†åœä½ã€‚ &lt;code&gt;set step-mode&lt;/code&gt; &lt;code&gt;set step-mode on&lt;/code&gt; æ‰“å¼€step-modeæ¨¡å¼ï¼Œäºæ˜¯ï¼Œåœ¨è¿›è¡Œå•æ­¥è·Ÿè¸ªæ—¶ï¼Œç¨‹åºä¸ä¼šå› ä¸ºæ²¡æœ‰debugä¿¡æ¯è€Œä¸åœä½ã€‚è¿™ä¸ªå‚æ•°å¾ˆæœ‰åˆ©äºæŸ¥çœ‹æœºå™¨ç ã€‚ &lt;code&gt;set step-mode off&lt;/code&gt; å…³é—­step-modeæ¨¡å¼ã€‚ &lt;code&gt;finish&lt;/code&gt; è¿è¡Œç¨‹åºï¼Œç›´åˆ°å½“å‰å‡½æ•°å®Œæˆè¿”å›ã€‚å¹¶æ‰“å°å‡½æ•°è¿”å›æ—¶çš„å †æ ˆåœ°å€å’Œè¿”å›å€¼åŠå‚æ•°å€¼ç­‰ä¿¡æ¯ã€‚ &lt;code&gt;until æˆ– u&lt;/code&gt; å½“ä½ åŒå€¦äº†åœ¨ä¸€ä¸ªå¾ªç¯ä½“å†…å•æ­¥è·Ÿè¸ªæ—¶ï¼Œè¿™ä¸ªå‘½ä»¤å¯ä»¥è¿è¡Œç¨‹åºç›´åˆ°é€€å‡ºå¾ªç¯ä½“ã€‚ &lt;code&gt;stepi æˆ– si&lt;/code&gt; &lt;code&gt;nexti æˆ– ni&lt;/code&gt; å•æ­¥è·Ÿè¸ªä¸€æ¡æœºå™¨æŒ‡ä»¤ï¼ä¸€æ¡ç¨‹åºä»£ç æœ‰å¯èƒ½ç”±æ•°æ¡æœºå™¨æŒ‡ä»¤å®Œæˆï¼Œstepiå’Œnextiå¯ä»¥å•æ­¥æ‰§è¡Œæœºå™¨æŒ‡ä»¤ã€‚ä¸ä¹‹ä¸€æ ·æœ‰ç›¸åŒåŠŸèƒ½çš„å‘½ä»¤æ˜¯&lt;code&gt;â€œdisplay/i $pcâ€&lt;/code&gt; ï¼Œå½“è¿è¡Œå®Œè¿™ä¸ªå‘½ä»¤åï¼Œå•æ­¥è·Ÿè¸ªä¼šåœ¨æ‰“å‡ºç¨‹åºä»£ç çš„åŒæ—¶æ‰“å‡ºæœºå™¨æŒ‡ä»¤ï¼ˆä¹Ÿå°±æ˜¯æ±‡ç¼–ä»£ç ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æŸ¥çœ‹æ ˆä¿¡æ¯&lt;/strong&gt; å½“ç¨‹åºè¢«åœä½äº†ï¼Œä½ éœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯æŸ¥çœ‹ç¨‹åºæ˜¯åœ¨å“ªé‡Œåœä½çš„ã€‚å½“ä½ çš„ç¨‹åºè°ƒç”¨äº†ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°çš„åœ°å€ï¼Œå‡½æ•°å‚æ•°ï¼Œå‡½æ•°å†…çš„å±€éƒ¨å˜é‡éƒ½ä¼šè¢«å‹å…¥â€œæ ˆâ€ï¼ˆStackï¼‰ä¸­ã€‚ä½ å¯ä»¥ç”¨GDBå‘½ä»¤æ¥æŸ¥çœ‹å½“å‰çš„æ ˆä¸­çš„ä¿¡æ¯ã€‚ ä¸‹é¢æ˜¯ä¸€äº›æŸ¥çœ‹å‡½æ•°è°ƒç”¨æ ˆä¿¡æ¯çš„GDBå‘½ä»¤ï¼š &lt;code&gt;backtrace&lt;/code&gt; &lt;code&gt;bt&lt;/code&gt; æ‰“å°å½“å‰çš„å‡½æ•°è°ƒç”¨æ ˆçš„æ‰€æœ‰ä¿¡æ¯ã€‚å¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;gdb&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; bt
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#0  func (n=250) at tst.c:6&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#1  0x08048524 in main (argc=1, argv=0xbffff674) at tst.c:30&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#2  0x400409ed in __libc_start_main () from /lib/libc.so.6&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»ä¸Šå¯ä»¥çœ‹å‡ºå‡½æ•°çš„è°ƒç”¨æ ˆä¿¡æ¯ï¼š&lt;code&gt;__libc_start_main --&amp;amp;gt; main() --&amp;amp;gt; func()&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;backtrace &amp;lt;n&amp;gt;&lt;/code&gt; &lt;code&gt;bt &amp;lt;n&amp;gt;&lt;/code&gt; næ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºåªæ‰“å°æ ˆé¡¶ä¸Šnå±‚çš„æ ˆä¿¡æ¯ã€‚ &lt;code&gt;backtrace &amp;amp;lt;-n&amp;amp;gt;&lt;/code&gt; &lt;code&gt;bt &amp;amp;lt;-n&amp;amp;gt;&lt;/code&gt; -nè¡¨ä¸€ä¸ªè´Ÿæ•´æ•°ï¼Œè¡¨ç¤ºåªæ‰“å°æ ˆåº•ä¸‹nå±‚çš„æ ˆä¿¡æ¯ã€‚ å¦‚æœä½ è¦æŸ¥çœ‹æŸä¸€å±‚çš„ä¿¡æ¯ï¼Œä½ éœ€è¦åˆ‡æ¢å½“å‰æ ˆï¼Œä¸€èˆ¬æ¥è¯´ï¼Œç¨‹åºåœæ­¢æ—¶ï¼Œæœ€é¡¶å±‚çš„æ ˆå°±æ˜¯å½“å‰æ ˆï¼Œå¦‚æœä½ è¦æŸ¥çœ‹æ ˆä¸‹é¢å±‚çš„è¯¦ç»†ä¿¡æ¯ï¼Œé¦–å…ˆè¦åšçš„æ˜¯åˆ‡æ¢å½“å‰æ ˆã€‚ &lt;code&gt;frame &amp;lt;n&amp;gt;&lt;/code&gt; &lt;code&gt;f &amp;lt;n&amp;gt;&lt;/code&gt; næ˜¯ä¸€ä¸ªä»0å¼€å§‹çš„æ•´æ•°ï¼Œæ˜¯æ ˆä¸­çš„å±‚ç¼–å·ã€‚æ¯”å¦‚ï¼šframe 0ï¼Œè¡¨ç¤ºæ ˆé¡¶ï¼Œframe 1ï¼Œè¡¨ç¤ºæ ˆçš„ç¬¬äºŒå±‚ã€‚ &lt;code&gt;up &amp;lt;n&amp;gt;&lt;/code&gt; è¡¨ç¤ºå‘æ ˆçš„ä¸Šé¢ç§»åŠ¨nå±‚ï¼Œå¯ä»¥ä¸æ‰“nï¼Œè¡¨ç¤ºå‘ä¸Šç§»åŠ¨ä¸€å±‚ã€‚ &lt;code&gt;down &amp;lt;n&amp;gt;&lt;/code&gt; è¡¨ç¤ºå‘æ ˆçš„ä¸‹é¢ç§»åŠ¨nå±‚ï¼Œå¯ä»¥ä¸æ‰“nï¼Œè¡¨ç¤ºå‘ä¸‹ç§»åŠ¨ä¸€å±‚ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šé¢çš„å‘½ä»¤ï¼Œéƒ½ä¼šæ‰“å°å‡ºç§»åŠ¨åˆ°çš„æ ˆå±‚çš„ä¿¡æ¯ã€‚å¦‚æœä½ ä¸æƒ³è®©å…¶æ‰“å‡ºä¿¡æ¯ã€‚ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸‰ä¸ªå‘½ä»¤ï¼š &lt;code&gt;select-frame &amp;lt;n&amp;gt;&lt;/code&gt; å¯¹åº”äº frame å‘½ä»¤ã€‚ &lt;code&gt;up-silently &amp;lt;n&amp;gt;&lt;/code&gt;å¯¹åº”äº up å‘½ä»¤ã€‚ &lt;code&gt;down-silently &amp;lt;n&amp;gt;&lt;/code&gt; å¯¹åº”äº down å‘½ä»¤ã€‚ æŸ¥çœ‹å½“å‰æ ˆå±‚çš„ä¿¡æ¯ï¼Œä½ å¯ä»¥ç”¨ä»¥ä¸‹GDBå‘½ä»¤ï¼š &lt;code&gt;frame&lt;/code&gt; æˆ– &lt;code&gt;f&lt;/code&gt; ä¼šæ‰“å°å‡ºè¿™äº›ä¿¡æ¯ï¼šæ ˆçš„å±‚ç¼–å·ï¼Œå½“å‰çš„å‡½æ•°åï¼Œå‡½æ•°å‚æ•°å€¼ï¼Œå‡½æ•°æ‰€åœ¨æ–‡ä»¶åŠè¡Œå·ï¼Œå‡½æ•°æ‰§è¡Œåˆ°çš„è¯­å¥ã€‚ &lt;code&gt;info frame&lt;/code&gt; &lt;code&gt;info f&lt;/code&gt; è¿™ä¸ªå‘½ä»¤ä¼šæ‰“å°å‡ºæ›´ä¸ºè¯¦ç»†çš„å½“å‰æ ˆå±‚çš„ä¿¡æ¯ï¼Œåªä¸è¿‡ï¼Œå¤§å¤šæ•°éƒ½æ˜¯è¿è¡Œæ—¶çš„å†…å­˜åœ°å€ã€‚æ¯”å¦‚ï¼šå‡½æ•°åœ°å€ï¼Œè°ƒç”¨å‡½æ•°çš„åœ°å€ï¼Œè¢«è°ƒç”¨å‡½æ•°çš„åœ°å€ï¼Œç›®å‰çš„å‡½æ•°æ˜¯ç”±ä»€ä¹ˆæ ·çš„ç¨‹åºè¯­è¨€å†™æˆçš„ã€å‡½æ•°å‚æ•°åœ°å€åŠå€¼ã€å±€éƒ¨å˜é‡çš„åœ°å€ç­‰ç­‰ã€‚å¦‚ï¼š &lt;code&gt;bash (gdb) info f Stack level 0, frame at 0xbffff5d4: eip = 0x804845d in func (tst.c:6); saved eip 0x8048524 called by frame at 0xbffff60c source language c. Arglist at 0xbffff5d4, args: n=250 Locals at 0xbffff5d4, Previous frame&#39;s sp is 0x0 Saved registers: ebp at 0xbffff5d4, eip at 0xbffff5d8&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;info args&lt;/code&gt; æ‰“å°å‡ºå½“å‰å‡½æ•°çš„å‚æ•°ååŠå…¶å€¼ã€‚ &lt;code&gt;info locals&lt;/code&gt; æ‰“å°å‡ºå½“å‰å‡½æ•°ä¸­æ‰€æœ‰å±€éƒ¨å˜é‡åŠå…¶å€¼ã€‚ &lt;code&gt;info catch&lt;/code&gt; æ‰“å°å‡ºå½“å‰çš„å‡½æ•°ä¸­çš„å¼‚å¸¸å¤„ç†ä¿¡æ¯ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ç¼–è¯‘å™¨å·¥ä½œè¿‡ç¨‹</title>
        <link>https://lxb.wiki/49fab9fa/</link>
        <pubDate>Thu, 09 Feb 2017 22:13:33 +0000</pubDate>
        
        <guid>https://lxb.wiki/49fab9fa/</guid>
        <description>&lt;p&gt;ä»£ç è¦è¿è¡Œï¼Œå¿…é¡»å…ˆè½¬æˆäºŒè¿›åˆ¶çš„æœºå™¨ç ã€‚è¿™æ˜¯ç¼–è¯‘å™¨çš„ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œä¸‹é¢è¿™æ®µæºç ï¼ˆå‡å®šæ–‡ä»¶åå«åštest.cï¼‰ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#include &amp;lt;stdio.h&amp;gt;
int main(void)
{
fputs(&amp;quot;Hello, world!\n&amp;quot;, stdout);
return 0;
}
```&amp;lt;/stdio.h&amp;gt;

è¦å…ˆç”¨ç¼–è¯‘å™¨å¤„ç†ä¸€ä¸‹ï¼Œæ‰èƒ½è¿è¡Œã€‚

```bash
$ gcc test.c
$ ./a.out
Hello, world!
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯¹äºå¤æ‚çš„é¡¹ç›®ï¼Œç¼–è¯‘è¿‡ç¨‹è¿˜å¿…é¡»åˆ†æˆä¸‰æ­¥ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ./configure
$ make
$ make install
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™äº›å‘½ä»¤åˆ°åº•åœ¨å¹²ä»€ä¹ˆï¼Ÿå¤§å¤šæ•°çš„ä¹¦ç±å’Œèµ„æ–™ï¼Œéƒ½è¯­ç„‰ä¸è¯¦ï¼Œåªè¯´è¿™æ ·å°±å¯ä»¥ç¼–è¯‘äº†ï¼Œæ²¡æœ‰è¿›ä¸€æ­¥çš„è§£é‡Šã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†ä»‹ç»ç¼–è¯‘å™¨çš„å·¥ä½œè¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢è¿™ä¸‰ä¸ªå‘½ä»¤å„è‡ªçš„ä»»åŠ¡ã€‚æˆ‘ä¸»è¦å‚è€ƒäº†Alex Smithçš„æ–‡ç« ã€ŠBuilding C Projectsã€‹ã€‚éœ€è¦å£°æ˜çš„æ˜¯ï¼Œæœ¬æ–‡ä¸»è¦é’ˆå¯¹gccç¼–è¯‘å™¨ï¼Œä¹Ÿå°±æ˜¯é’ˆå¯¹Cå’ŒC++ï¼Œä¸ä¸€å®šé€‚ç”¨äºå…¶ä»–è¯­è¨€çš„ç¼–è¯‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://img.blog.csdn.net/20170105233325494?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbHhid29sZg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;è¿™é‡Œå†™å›¾ç‰‡æè¿°&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;ç¬¬ä¸€æ­¥-é…ç½®configure&#34;&gt;ç¬¬ä¸€æ­¥ é…ç½®ï¼ˆconfigureï¼‰&lt;/h4&gt;
&lt;p&gt;ç¼–è¯‘å™¨åœ¨å¼€å§‹å·¥ä½œä¹‹å‰ï¼Œéœ€è¦çŸ¥é“å½“å‰çš„ç³»ç»Ÿç¯å¢ƒï¼Œæ¯”å¦‚æ ‡å‡†åº“åœ¨å“ªé‡Œã€è½¯ä»¶çš„å®‰è£…ä½ç½®åœ¨å“ªé‡Œã€éœ€è¦å®‰è£…å“ªäº›ç»„ä»¶ç­‰ç­‰ã€‚è¿™æ˜¯å› ä¸ºä¸åŒè®¡ç®—æœºçš„ç³»ç»Ÿç¯å¢ƒä¸ä¸€æ ·ï¼Œé€šè¿‡æŒ‡å®šç¼–è¯‘å‚æ•°ï¼Œç¼–è¯‘å™¨å°±å¯ä»¥çµæ´»é€‚åº”ç¯å¢ƒï¼Œç¼–è¯‘å‡ºå„ç§ç¯å¢ƒéƒ½èƒ½è¿è¡Œçš„æœºå™¨ç ã€‚è¿™ä¸ªç¡®å®šç¼–è¯‘å‚æ•°çš„æ­¥éª¤ï¼Œå°±å«åšâ€é…ç½®â€ï¼ˆconfigureï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è¿™äº›é…ç½®ä¿¡æ¯ä¿å­˜åœ¨ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¹‹ä¸­ï¼Œçº¦å®šä¿—æˆæ˜¯ä¸€ä¸ªå«åšconfigureçš„è„šæœ¬æ–‡ä»¶ã€‚é€šå¸¸å®ƒæ˜¯ç”±autoconfå·¥å…·ç”Ÿæˆçš„ã€‚ç¼–è¯‘å™¨é€šè¿‡è¿è¡Œè¿™ä¸ªè„šæœ¬ï¼Œè·çŸ¥ç¼–è¯‘å‚æ•°ã€‚&lt;/p&gt;
&lt;p&gt;configureè„šæœ¬å·²ç»å°½é‡è€ƒè™‘åˆ°ä¸åŒç³»ç»Ÿçš„å·®å¼‚ï¼Œå¹¶ä¸”å¯¹å„ç§ç¼–è¯‘å‚æ•°ç»™å‡ºäº†é»˜è®¤å€¼ã€‚å¦‚æœç”¨æˆ·çš„ç³»ç»Ÿç¯å¢ƒæ¯”è¾ƒç‰¹åˆ«ï¼Œæˆ–è€…æœ‰ä¸€äº›ç‰¹å®šçš„éœ€æ±‚ï¼Œå°±éœ€è¦æ‰‹åŠ¨å‘configureè„šæœ¬æä¾›ç¼–è¯‘å‚æ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ ./configure --prefix=/www --with-mysql&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢ä»£ç æ˜¯phpæºç çš„ä¸€ç§ç¼–è¯‘é…ç½®ï¼Œç”¨æˆ·æŒ‡å®šå®‰è£…åçš„æ–‡ä»¶ä¿å­˜åœ¨wwwç›®å½•ï¼Œå¹¶ä¸”ç¼–è¯‘æ—¶åŠ å…¥mysqlæ¨¡å—çš„æ”¯æŒã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¬¬äºŒæ­¥-ç¡®å®šæ ‡å‡†åº“å’Œå¤´æ–‡ä»¶çš„ä½ç½®&#34;&gt;ç¬¬äºŒæ­¥ ç¡®å®šæ ‡å‡†åº“å’Œå¤´æ–‡ä»¶çš„ä½ç½®&lt;/h4&gt;
&lt;p&gt;æºç è‚¯å®šä¼šç”¨åˆ°æ ‡å‡†åº“å‡½æ•°ï¼ˆstandard libraryï¼‰å’Œå¤´æ–‡ä»¶ï¼ˆheaderï¼‰ã€‚å®ƒä»¬å¯ä»¥å­˜æ”¾åœ¨ç³»ç»Ÿçš„ä»»æ„ç›®å½•ä¸­ï¼Œç¼–è¯‘å™¨å®é™…ä¸Šæ²¡åŠæ³•è‡ªåŠ¨æ£€æµ‹å®ƒä»¬çš„ä½ç½®ï¼Œåªæœ‰é€šè¿‡é…ç½®æ–‡ä»¶æ‰èƒ½çŸ¥é“ã€‚&lt;/p&gt;
&lt;p&gt;ç¼–è¯‘çš„ç¬¬äºŒæ­¥ï¼Œå°±æ˜¯ä»é…ç½®æ–‡ä»¶ä¸­çŸ¥é“æ ‡å‡†åº“å’Œå¤´æ–‡ä»¶çš„ä½ç½®ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œé…ç½®æ–‡ä»¶ä¼šç»™å‡ºä¸€ä¸ªæ¸…å•ï¼Œåˆ—å‡ºå‡ ä¸ªå…·ä½“çš„ç›®å½•ã€‚ç­‰åˆ°ç¼–è¯‘æ—¶ï¼Œç¼–è¯‘å™¨å°±æŒ‰é¡ºåºåˆ°è¿™å‡ ä¸ªç›®å½•ä¸­ï¼Œå¯»æ‰¾ç›®æ ‡ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¬¬ä¸‰æ­¥-ç¡®å®šä¾èµ–å…³ç³»&#34;&gt;ç¬¬ä¸‰æ­¥ ç¡®å®šä¾èµ–å…³ç³»&lt;/h4&gt;
&lt;p&gt;å¯¹äºå¤§å‹é¡¹ç›®æ¥è¯´ï¼Œæºç æ–‡ä»¶ä¹‹é—´å¾€å¾€å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œç¼–è¯‘å™¨éœ€è¦ç¡®å®šç¼–è¯‘çš„å…ˆåé¡ºåºã€‚å‡å®šAæ–‡ä»¶ä¾èµ–äºBæ–‡ä»¶ï¼Œç¼–è¯‘å™¨åº”è¯¥ä¿è¯åšåˆ°ä¸‹é¢ä¸¤ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰åªæœ‰åœ¨Bæ–‡ä»¶ç¼–è¯‘å®Œæˆåï¼Œæ‰å¼€å§‹ç¼–è¯‘Aæ–‡ä»¶ã€‚ ï¼ˆ2ï¼‰å½“Bæ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒAæ–‡ä»¶ä¼šè¢«é‡æ–°ç¼–è¯‘ã€‚&lt;/p&gt;
&lt;p&gt;ç¼–è¯‘é¡ºåºä¿å­˜åœ¨ä¸€ä¸ªå«åšmakefileçš„æ–‡ä»¶ä¸­ï¼Œé‡Œé¢åˆ—å‡ºå“ªä¸ªæ–‡ä»¶å…ˆç¼–è¯‘ï¼Œå“ªä¸ªæ–‡ä»¶åç¼–è¯‘ã€‚è€Œmakefileæ–‡ä»¶ç”±configureè„šæœ¬è¿è¡Œç”Ÿæˆï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆç¼–è¯‘æ—¶configureå¿…é¡»é¦–å…ˆè¿è¡Œçš„åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç¡®å®šä¾èµ–å…³ç³»çš„åŒæ—¶ï¼Œç¼–è¯‘å™¨ä¹Ÿç¡®å®šäº†ï¼Œç¼–è¯‘æ—¶ä¼šç”¨åˆ°å“ªäº›å¤´æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¬¬å››æ­¥-å¤´æ–‡ä»¶çš„é¢„ç¼–è¯‘precompilation&#34;&gt;ç¬¬å››æ­¥ å¤´æ–‡ä»¶çš„é¢„ç¼–è¯‘ï¼ˆprecompilationï¼‰&lt;/h4&gt;
&lt;p&gt;ä¸åŒçš„æºç æ–‡ä»¶ï¼Œå¯èƒ½å¼•ç”¨åŒä¸€ä¸ªå¤´æ–‡ä»¶ï¼ˆæ¯”å¦‚stdio.hï¼‰ã€‚ç¼–è¯‘çš„æ—¶å€™ï¼Œå¤´æ–‡ä»¶ä¹Ÿå¿…é¡»ä¸€èµ·ç¼–è¯‘ã€‚ä¸ºäº†èŠ‚çœæ—¶é—´ï¼Œç¼–è¯‘å™¨ä¼šåœ¨ç¼–è¯‘æºç ä¹‹å‰ï¼Œå…ˆç¼–è¯‘å¤´æ–‡ä»¶ã€‚è¿™ä¿è¯äº†å¤´æ–‡ä»¶åªéœ€ç¼–è¯‘ä¸€æ¬¡ï¼Œä¸å¿…æ¯æ¬¡ç”¨åˆ°çš„æ—¶å€™ï¼Œéƒ½é‡æ–°ç¼–è¯‘äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œå¹¶ä¸æ˜¯å¤´æ–‡ä»¶çš„æ‰€æœ‰å†…å®¹ï¼Œéƒ½ä¼šè¢«é¢„ç¼–è¯‘ã€‚ç”¨æ¥å£°æ˜å®çš„#defineå‘½ä»¤ï¼Œå°±ä¸ä¼šè¢«é¢„ç¼–è¯‘ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¬¬äº”æ­¥-é¢„å¤„ç†preprocessing&#34;&gt;ç¬¬äº”æ­¥ é¢„å¤„ç†ï¼ˆPreprocessingï¼‰&lt;/h4&gt;
&lt;p&gt;é¢„ç¼–è¯‘å®Œæˆåï¼Œç¼–è¯‘å™¨å°±å¼€å§‹æ›¿æ¢æ‰æºç ä¸­bashçš„å¤´æ–‡ä»¶å’Œå®ã€‚ä»¥æœ¬æ–‡å¼€å¤´çš„é‚£æ®µæºç ä¸ºä¾‹ï¼Œå®ƒåŒ…å«å¤´æ–‡ä»¶stdio.hï¼Œæ›¿æ¢åçš„æ ·å­å¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;extern int fputs(const char *, FILE *);
extern FILE *stdout;
int main(void)
{
fputs(&amp;quot;Hello, world!\n&amp;quot;, stdout);
return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸ºäº†ä¾¿äºé˜…è¯»ï¼Œä¸Šé¢ä»£ç åªæˆªå–äº†å¤´æ–‡ä»¶ä¸­ä¸æºç ç›¸å…³çš„é‚£éƒ¨åˆ†ï¼Œå³fputså’ŒFILEçš„å£°æ˜ï¼Œçœç•¥äº†stdio.hçš„å…¶ä»–éƒ¨åˆ†ï¼ˆå› ä¸ºå®ƒä»¬éå¸¸é•¿ï¼‰ã€‚å¦å¤–ï¼Œä¸Šé¢ä»£ç çš„å¤´æ–‡ä»¶æ²¡æœ‰ç»è¿‡é¢„ç¼–è¯‘ï¼Œè€Œå®é™…ä¸Šï¼Œæ’å…¥æºç çš„æ˜¯é¢„ç¼–è¯‘åçš„ç»“æœã€‚ç¼–è¯‘å™¨åœ¨è¿™ä¸€æ­¥è¿˜ä¼šç§»é™¤æ³¨é‡Šã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸€æ­¥ç§°ä¸ºâ€é¢„å¤„ç†â€ï¼ˆPreprocessingï¼‰ï¼Œå› ä¸ºå®Œæˆä¹‹åï¼Œå°±è¦å¼€å§‹çœŸæ­£çš„å¤„ç†äº†ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¬¬å…­æ­¥-ç¼–è¯‘compilation&#34;&gt;ç¬¬å…­æ­¥ ç¼–è¯‘ï¼ˆCompilationï¼‰&lt;/h4&gt;
&lt;p&gt;é¢„å¤„ç†ä¹‹åï¼Œç¼–è¯‘å™¨å°±å¼€å§‹ç”Ÿæˆæœºå™¨ç ã€‚å¯¹äºæŸäº›ç¼–è¯‘å™¨æ¥è¯´ï¼Œè¿˜å­˜åœ¨ä¸€ä¸ªä¸­é—´æ­¥éª¤ï¼Œä¼šå…ˆæŠŠæºç è½¬ä¸ºæ±‡ç¼–ç ï¼ˆassemblyï¼‰ï¼Œç„¶åå†æŠŠæ±‡ç¼–ç è½¬ä¸ºæœºå™¨ç ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯æœ¬æ–‡å¼€å¤´çš„é‚£æ®µæºç è½¬æˆçš„æ±‡ç¼–ç ã€‚&lt;/p&gt;
&lt;p&gt;```` .file &amp;ldquo;test.c&amp;rdquo; .section .rodata .LC0: .string &amp;ldquo;Hello, world!\n&amp;rdquo; .text .globl main .type main, @function main: .LFB0: .cfi_startproc pushq %rbp .cfi_def_cfa_offset 16 .cfi_offset 6, -16 movq %rsp, %rbp .cfi_def_cfa_register 6 movq stdout(%rip), %rax movq %rax, %rcx movl $14, %edx movl $1, %esi movl $.LC0, %edi call fwrite movl $0, %eax popq %rbp .cfi_def_cfa 7, 8 ret .cfi_endproc .LFE0: .size main, .-main .ident &amp;ldquo;GCC: (Debian 4.9.1-19) 4.9.1&amp;rdquo; .section .note.GNU-stack,&amp;quot;&amp;quot;,@progbits ```&lt;/p&gt;
&lt;p&gt;è¿™ç§è½¬ç åçš„æ–‡ä»¶ç§°ä¸ºå¯¹è±¡æ–‡ä»¶ï¼ˆobject fileï¼‰ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¬¬ä¸ƒæ­¥-è¿æ¥linking&#34;&gt;ç¬¬ä¸ƒæ­¥ è¿æ¥ï¼ˆLinkingï¼‰&lt;/h4&gt;
&lt;p&gt;å¯¹è±¡æ–‡ä»¶è¿˜ä¸èƒ½è¿è¡Œï¼Œå¿…é¡»è¿›ä¸€æ­¥è½¬æˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚å¦‚æœä½ ä»”ç»†çœ‹ä¸Šä¸€æ­¥çš„è½¬ç ç»“æœï¼Œä¼šå‘ç°å…¶ä¸­å¼•ç”¨äº†stdoutå‡½æ•°å’Œfwriteå‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç¨‹åºè¦æ­£å¸¸è¿è¡Œï¼Œé™¤äº†ä¸Šé¢çš„ä»£ç ä»¥å¤–ï¼Œè¿˜å¿…é¡»æœ‰stdoutå’Œfwriteè¿™ä¸¤ä¸ªå‡½æ•°çš„ä»£ç ï¼Œå®ƒä»¬æ˜¯ç”±Cè¯­è¨€çš„æ ‡å‡†åº“æä¾›çš„ã€‚&lt;/p&gt;
&lt;p&gt;ç¼–è¯‘å™¨çš„ä¸‹ä¸€æ­¥å·¥ä½œï¼Œå°±æ˜¯æŠŠå¤–éƒ¨å‡½æ•°çš„ä»£ç ï¼ˆé€šå¸¸æ˜¯åç¼€åä¸º.libå’Œ.açš„æ–‡ä»¶ï¼‰ï¼Œæ·»åŠ åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚è¿™å°±å«åšè¿æ¥ï¼ˆlinkingï¼‰ã€‚è¿™ç§é€šè¿‡æ‹·è´ï¼Œå°†å¤–éƒ¨å‡½æ•°åº“æ·»åŠ åˆ°å¯æ‰§è¡Œæ–‡ä»¶çš„æ–¹å¼ï¼Œå«åšé™æ€è¿æ¥ï¼ˆstatic linkingï¼‰ï¼Œåæ–‡ä¼šæåˆ°è¿˜æœ‰åŠ¨æ€è¿æ¥ï¼ˆdynamic linkingï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;makeå‘½ä»¤çš„ä½œç”¨ï¼Œå°±æ˜¯ä»ç¬¬å››æ­¥å¤´æ–‡ä»¶é¢„ç¼–è¯‘å¼€å§‹ï¼Œä¸€ç›´åˆ°åšå®Œè¿™ä¸€æ­¥ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;ç¬¬å…«æ­¥-å®‰è£…installation&#34;&gt;ç¬¬å…«æ­¥ å®‰è£…ï¼ˆInstallationï¼‰&lt;/h4&gt;
&lt;p&gt;ä¸Šä¸€æ­¥çš„è¿æ¥æ˜¯åœ¨å†…å­˜ä¸­è¿›è¡Œçš„ï¼Œå³ç¼–è¯‘å™¨åœ¨å†…å­˜ä¸­ç”Ÿæˆäº†å¯æ‰§è¡Œæ–‡ä»¶ã€‚ä¸‹ä¸€æ­¥ï¼Œå¿…é¡»å°†å¯æ‰§è¡Œæ–‡ä»¶ä¿å­˜åˆ°ç”¨æˆ·äº‹å…ˆæŒ‡å®šçš„å®‰è£…ç›®å½•ã€‚&lt;/p&gt;
&lt;p&gt;è¡¨é¢ä¸Šï¼Œè¿™ä¸€æ­¥å¾ˆç®€å•ï¼Œå°±æ˜¯å°†å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆè¿å¸¦ç›¸å…³çš„æ•°æ®æ–‡ä»¶ï¼‰æ‹·è´è¿‡å»å°±è¡Œäº†ã€‚ä½†æ˜¯å®é™…ä¸Šï¼Œè¿™ä¸€æ­¥è¿˜å¿…é¡»å®Œæˆåˆ›å»ºç›®å½•ã€ä¿å­˜æ–‡ä»¶ã€è®¾ç½®æƒé™ç­‰æ­¥éª¤ã€‚è¿™æ•´ä¸ªçš„ä¿å­˜è¿‡ç¨‹å°±ç§°ä¸ºâ€å®‰è£…â€ï¼ˆInstallationï¼‰ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¬¬ä¹æ­¥-æ“ä½œç³»ç»Ÿè¿æ¥&#34;&gt;ç¬¬ä¹æ­¥ æ“ä½œç³»ç»Ÿè¿æ¥&lt;/h4&gt;
&lt;p&gt;å¯æ‰§è¡Œæ–‡ä»¶å®‰è£…åï¼Œå¿…é¡»ä»¥æŸç§æ–¹å¼é€šçŸ¥æ“ä½œç³»ç»Ÿï¼Œè®©å…¶çŸ¥é“å¯ä»¥ä½¿ç”¨è¿™ä¸ªç¨‹åºäº†ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å®‰è£…äº†ä¸€ä¸ªæ–‡æœ¬é˜…è¯»ç¨‹åºï¼Œå¾€å¾€å¸Œæœ›åŒå‡»txtæ–‡ä»¶ï¼Œè¯¥ç¨‹åºå°±ä¼šè‡ªåŠ¨è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;è¿™å°±è¦æ±‚åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œç™»è®°è¿™ä¸ªç¨‹åºçš„å…ƒæ•°æ®ï¼šæ–‡ä»¶åã€æ–‡ä»¶æè¿°ã€å…³è”åç¼€åç­‰ç­‰ã€‚Linuxç³»ç»Ÿä¸­ï¼Œè¿™äº›ä¿¡æ¯é€šå¸¸ä¿å­˜åœ¨&lt;code&gt;/usr/share/applications&lt;/code&gt;ç›®å½•ä¸‹çš„&lt;code&gt;.desktop&lt;/code&gt;æ–‡ä»¶ä¸­ã€‚å¦å¤–ï¼Œåœ¨Windowsæ“ä½œç³»ç»Ÿä¸­ï¼Œè¿˜éœ€è¦åœ¨Startå¯åŠ¨èœå•ä¸­ï¼Œå»ºç«‹ä¸€ä¸ªå¿«æ·æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;è¿™äº›äº‹æƒ…å°±å«åšâ€æ“ä½œç³»ç»Ÿè¿æ¥â€ã€‚make installå‘½ä»¤ï¼Œå°±ç”¨æ¥å®Œæˆâ€å®‰è£…â€å’Œâ€æ“ä½œç³»ç»Ÿè¿æ¥â€è¿™ä¸¤æ­¥ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¬¬åæ­¥-ç”Ÿæˆå®‰è£…åŒ…&#34;&gt;ç¬¬åæ­¥ ç”Ÿæˆå®‰è£…åŒ…&lt;/h4&gt;
&lt;p&gt;å†™åˆ°è¿™é‡Œï¼Œæºç ç¼–è¯‘çš„æ•´ä¸ªè¿‡ç¨‹å°±åŸºæœ¬å®Œæˆäº†ã€‚ä½†æ˜¯åªæœ‰å¾ˆå°‘ä¸€éƒ¨åˆ†ç”¨æˆ·ï¼Œæ„¿æ„è€ç€æ€§å­ï¼Œä»å¤´åˆ°å°¾åšä¸€éè¿™ä¸ªè¿‡ç¨‹ã€‚äº‹å®ä¸Šï¼Œå¦‚æœä½ åªæœ‰æºç å¯ä»¥äº¤ç»™ç”¨æˆ·ï¼Œä»–ä»¬ä¼šè®¤å®šä½ æ˜¯ä¸€ä¸ªä¸å‹å¥½çš„å®¶ä¼™ã€‚å¤§éƒ¨åˆ†ç”¨æˆ·è¦çš„æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶çš„å¯æ‰§è¡Œç¨‹åºï¼Œç«‹åˆ»å°±èƒ½è¿è¡Œã€‚è¿™å°±è¦æ±‚å¼€å‘è€…ï¼Œå°†ä¸Šä¸€æ­¥ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåšæˆå¯ä»¥åˆ†å‘çš„å®‰è£…åŒ…ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œç¼–è¯‘å™¨è¿˜å¿…é¡»æœ‰ç”Ÿæˆå®‰è£…åŒ…çš„åŠŸèƒ½ã€‚é€šå¸¸æ˜¯å°†å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆè¿å¸¦ç›¸å…³çš„æ•°æ®æ–‡ä»¶ï¼‰ï¼Œä»¥æŸç§ç›®å½•ç»“æ„ï¼Œä¿å­˜æˆå‹ç¼©æ–‡ä»¶åŒ…ï¼Œäº¤ç»™ç”¨æˆ·ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç¬¬åä¸€æ­¥-åŠ¨æ€è¿æ¥dynamic-linking&#34;&gt;ç¬¬åä¸€æ­¥ åŠ¨æ€è¿æ¥ï¼ˆDynamic linkingï¼‰&lt;/h4&gt;
&lt;p&gt;æ­£å¸¸æƒ…å†µä¸‹ï¼Œåˆ°è¿™ä¸€æ­¥ï¼Œç¨‹åºå·²ç»å¯ä»¥è¿è¡Œäº†ã€‚è‡³äºè¿è¡ŒæœŸé—´ï¼ˆruntimeï¼‰å‘ç”Ÿçš„äº‹æƒ…ï¼Œä¸ç¼–è¯‘å™¨ä¸€æ¦‚æ— å…³ã€‚ä½†æ˜¯ï¼Œå¼€å‘è€…å¯ä»¥åœ¨ç¼–è¯‘é˜¶æ®µé€‰æ‹©å¯æ‰§è¡Œæ–‡ä»¶è¿æ¥å¤–éƒ¨å‡½æ•°åº“çš„æ–¹å¼ï¼Œåˆ°åº•æ˜¯é™æ€è¿æ¥ï¼ˆç¼–è¯‘æ—¶è¿æ¥ï¼‰ï¼Œè¿˜æ˜¯åŠ¨æ€è¿æ¥ï¼ˆè¿è¡Œæ—¶è¿æ¥ï¼‰ã€‚æ‰€ä»¥ï¼Œæœ€åè¿˜è¦æä¸€ä¸‹ï¼Œä»€ä¹ˆå«åšåŠ¨æ€è¿æ¥ã€‚&lt;/p&gt;
&lt;p&gt;å‰é¢å·²ç»è¯´è¿‡ï¼Œé™æ€è¿æ¥å°±æ˜¯æŠŠå¤–éƒ¨å‡½æ•°åº“ï¼Œæ‹·è´åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œé€‚ç”¨èŒƒå›´æ¯”è¾ƒå¹¿ï¼Œä¸ç”¨æ‹…å¿ƒç”¨æˆ·æœºå™¨ç¼ºå°‘æŸä¸ªåº“æ–‡ä»¶ï¼›ç¼ºç‚¹æ˜¯å®‰è£…åŒ…ä¼šæ¯”è¾ƒå¤§ï¼Œè€Œä¸”å¤šä¸ªåº”ç”¨ç¨‹åºä¹‹é—´ï¼Œæ— æ³•å…±äº«åº“æ–‡ä»¶ã€‚åŠ¨æ€è¿æ¥çš„åšæ³•æ­£å¥½ç›¸åï¼Œå¤–éƒ¨å‡½æ•°åº“ä¸è¿›å…¥å®‰è£…åŒ…ï¼Œåªåœ¨è¿è¡Œæ—¶åŠ¨æ€å¼•ç”¨ã€‚å¥½å¤„æ˜¯å®‰è£…åŒ…ä¼šæ¯”è¾ƒå°ï¼Œå¤šä¸ªåº”ç”¨ç¨‹åºå¯ä»¥å…±äº«åº“æ–‡ä»¶ï¼›ç¼ºç‚¹æ˜¯ç”¨æˆ·å¿…é¡»äº‹å…ˆå®‰è£…å¥½åº“æ–‡ä»¶ï¼Œè€Œä¸”ç‰ˆæœ¬å’Œå®‰è£…ä½ç½®éƒ½å¿…é¡»ç¬¦åˆè¦æ±‚ï¼Œå¦åˆ™å°±ä¸èƒ½æ­£å¸¸è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ç°å®ä¸­ï¼Œå¤§éƒ¨åˆ†è½¯ä»¶é‡‡ç”¨åŠ¨æ€è¿æ¥ï¼Œå…±äº«åº“æ–‡ä»¶ã€‚è¿™ç§åŠ¨æ€å…±äº«çš„åº“æ–‡ä»¶ï¼ŒLinuxå¹³å°æ˜¯åç¼€åä¸º.soçš„æ–‡ä»¶ï¼ŒWindowså¹³å°æ˜¯.dllæ–‡ä»¶ï¼ŒMacå¹³å°æ˜¯.dylibæ–‡ä»¶ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>unordered_mapç¬”è®°</title>
        <link>https://lxb.wiki/d97ca7/</link>
        <pubDate>Thu, 12 Jan 2017 20:05:01 +0000</pubDate>
        
        <guid>https://lxb.wiki/d97ca7/</guid>
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;unordered_mapä¸mapçš„åŒºåˆ« boost::unordered_mapï¼Œ å®ƒä¸ stl::mapçš„åŒºåˆ«å°±æ˜¯ï¼Œstl::mapæ˜¯æŒ‰ç…§operator&amp;lt;æ¯”è¾ƒåˆ¤æ–­å…ƒç´ æ˜¯å¦ç›¸åŒï¼Œä»¥åŠæ¯”è¾ƒå…ƒç´ çš„å¤§å°ï¼Œç„¶åé€‰æ‹©åˆé€‚çš„ä½ç½®æ’å…¥åˆ°æ ‘ä¸­ã€‚æ‰€ä»¥ï¼Œå¦‚æœå¯¹mapè¿›è¡Œéå†ï¼ˆä¸­åºéå†ï¼‰çš„è¯ï¼Œè¾“å‡ºçš„ç»“æœæ˜¯æœ‰åºçš„ã€‚é¡ºåºå°±æ˜¯æŒ‰ç…§operator&amp;lt; å®šä¹‰çš„å¤§å°æ’åºã€‚ è€Œboost::unordered_mapæ˜¯è®¡ç®—å…ƒç´ çš„Hashå€¼ï¼Œæ ¹æ®Hashå€¼åˆ¤æ–­å…ƒç´ æ˜¯å¦ç›¸åŒã€‚æ‰€ä»¥ï¼Œå¯¹unordered_mapè¿›è¡Œéå†ï¼Œç»“æœæ˜¯æ— åºçš„ã€‚ ç”¨æ³•çš„åŒºåˆ«å°±æ˜¯ï¼Œstl::map çš„keyéœ€è¦å®šä¹‰operator&amp;lt; ã€‚ è€Œboost::unordered_mapéœ€è¦å®šä¹‰hash_valueå‡½æ•°å¹¶ä¸”é‡è½½operator==ã€‚å¯¹äºå†…ç½®ç±»å‹ï¼Œå¦‚stringï¼Œè¿™äº›éƒ½ä¸ç”¨æ“å¿ƒã€‚å¯¹äºè‡ªå®šä¹‰çš„ç±»å‹åškeyï¼Œå°±éœ€è¦è‡ªå·±é‡è½½operator== æˆ–è€…hash_value()äº†ã€‚ æœ€åï¼Œè¯´ï¼Œå½“ä¸éœ€è¦ç»“æœæ’å¥½åºæ—¶ï¼Œæœ€å¥½ç”¨unordered_mapã€‚&lt;/p&gt;
&lt;p&gt;linuxä¸‹ä½¿ç”¨ æ™®é€šçš„keyå°±ä¸è¯´äº†å’Œmapä¸€æ · çœ‹ä¸€ä¸‹ç”¨sockaddr_in ä½œä¸ºkeyçš„æ–¹æ³•&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#ifndef CSESSION_H  
#define CSESSION_H  

#include &amp;lt;netinet in.h=&amp;quot;&amp;quot;&amp;gt;
#include &amp;lt;time.h&amp;gt;
#include &amp;lt;/time.h&amp;gt;&amp;lt;/netinet&amp;gt;

&amp;lt;map&amp;gt;
#include &amp;lt;string.h&amp;gt;
#include &amp;lt;tr1 unordered_map=&amp;quot;&amp;quot;&amp;gt;  //å¤´æ–‡ä»¶
#include &amp;lt;iostream&amp;gt;

using namespace std;
using namespace std::tr1;

struct Terminal
{
int             nid ; //id  the key for terminal
sockaddr_in     addr; //ip  the key for Client
time_t          tm;   //last alive time
enTerminalStat  enStat;//status
Terminal();
~Terminal();
Terminal &amp;amp;amp;operator =(const Terminal&amp;amp;amp; term);
};

struct hash_func  //hash å‡½æ•°
{
size_t operator()(const sockaddr_in &amp;amp;amp;addr) const
{
return addr.sin_port*9999 + addr.sin_addr.s_addr;
}
};
struct cmp_fun //æ¯”è¾ƒå‡½æ•° ==
{
bool operator()(const sockaddr_in &amp;amp;amp;addr1, const sockaddr_in &amp;amp;amp;addr2) const
{
return memcmp(&amp;amp;amp;addr1, &amp;amp;amp;addr2, sizeof(sockaddr_in)) == 0 ? true:false;
}
};

//typedef unordered_map&amp;lt;int,terminal*&amp;gt; MapTerminal; // Terminal socket ä½œä¸ºkey
//typedef unordered_map&amp;lt;int,terminal*&amp;gt;::iterator MapTerminal_It; //  &amp;lt;/int,terminal*&amp;gt;&amp;lt;/int,terminal*&amp;gt;

typedef unordered_map&amp;lt;sockaddr_in, terminal*,hash_func,=&amp;quot;&amp;quot; cmp_fun=&amp;quot;&amp;quot;&amp;gt; MapClientSession; // sockaddr_inä½œä¸ºkey
typedef unordered_map&amp;lt;sockaddr_in, terminal*,hash_func,=&amp;quot;&amp;quot; cmp_fun=&amp;quot;&amp;quot;&amp;gt;::iterator MapClientSession_It; //  &amp;lt;/sockaddr_in,&amp;gt;&amp;lt;/sockaddr_in,&amp;gt;

#endif // CSESSION_H
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;operator==&lt;/code&gt;æœ‰ä¸¤ç§æ–¹å¼ ä¸€ç§æ˜¯&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;struct st
{
bool operator==(const st &amp;amp;amp;s) const
...
}ï¼›
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦ä¸€ç§å°±æ˜¯è‡ªå®šä¹‰å‡½æ•°ä½“ï¼Œä»£ç ä¸­&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;struct cmp_fun
{
bool operator()(...)
...
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¿…é¡»è¦è‡ªå®šä¹‰&lt;code&gt;operator==&lt;/code&gt;å’Œ&lt;code&gt;hash_value&lt;/code&gt;ã€‚ é‡è½½&lt;code&gt;operator==&lt;/code&gt;æ˜¯å› ä¸ºï¼Œå¦‚æœä¸¤ä¸ªå…ƒç´ çš„&lt;code&gt;hash_value&lt;/code&gt;çš„å€¼ç›¸åŒï¼Œå¹¶ä¸èƒ½æ–­å®šè¿™ä¸¤ä¸ªå…ƒç´ å°±ç›¸åŒï¼Œå¿…é¡»å†è°ƒç”¨&lt;code&gt;operator==&lt;/code&gt;ã€‚ å½“ç„¶ï¼Œå¦‚æœ&lt;code&gt;hash_value&lt;/code&gt;çš„å€¼ä¸åŒï¼Œå°±ä¸éœ€è¦è°ƒç”¨&lt;code&gt;operator==&lt;/code&gt;äº†ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>unordered_setç¬”è®°</title>
        <link>https://lxb.wiki/14decfad/</link>
        <pubDate>Thu, 05 Jan 2017 23:14:47 +0000</pubDate>
        
        <guid>https://lxb.wiki/14decfad/</guid>
        <description>&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;http://www.cplusplus.com/reference/unordered_set/unordered_set/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://www.cplusplus.com/reference/unordered_set/unordered_set/&lt;/a&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;&lt;strong&gt;unordered_set&lt;/strong&gt; æ¨¡æ¿åŸå‹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;template&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Key&lt;/span&gt;,  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Hash&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; hash&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Pred&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; equal_to&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Alloc&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; allocator&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;key&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unordered_set&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å½“æ¯”è¾ƒunordered_setä¸­æŸä¸¤ä¸ªå…ƒç´ æ—¶, å…ˆè°ƒç”¨&lt;code&gt;hash&amp;lt;key&amp;gt;&lt;/code&gt;, å¦‚æœ&lt;code&gt;hash&amp;lt;key&amp;gt;&lt;/code&gt;  ä¸ç›¸ç­‰, è¯´æ˜ä¸¤ä¸ªå…ƒç´ ä¸åŒ, å¦‚æœ&lt;code&gt;hash&amp;lt;key&amp;gt;&lt;/code&gt; å€¼ç›¸ç­‰, åˆ™è°ƒç”¨&lt;code&gt;equal_to&amp;lt;key&amp;gt;&lt;/code&gt;, åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ˜¯å¦å®Œå…¨ç›¸ç­‰. (Hashå‡½æ•°å’ŒCompareå‡½æ•°éƒ½å¯ä»¥è‡ªå®šä¹‰)&lt;/p&gt;
&lt;p&gt;C++ 11ä¸­å¯¹unordered_setæè¿°å¤§ä½“å¦‚ä¸‹ï¼šæ— åºé›†åˆå®¹å™¨ï¼ˆunordered_setï¼‰æ˜¯ä¸€ä¸ªå­˜å‚¨å”¯ä¸€(uniqueï¼Œå³æ— é‡å¤ï¼‰çš„å…³è”å®¹å™¨ï¼ˆAssociative containerï¼‰ï¼Œå®¹å™¨ä¸­çš„å…ƒç´ æ— ç‰¹åˆ«çš„ç§©åºå…³ç³»ï¼Œè¯¥å®¹å™¨å…è®¸åŸºäºå€¼çš„å¿«é€Ÿå…ƒç´ æ£€ç´¢ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒæ­£å‘è¿­ä»£ã€‚
åœ¨ä¸€ä¸ªunordered_setå†…éƒ¨ï¼Œå…ƒç´ ä¸ä¼šæŒ‰ä»»ä½•é¡ºåºæ’åºï¼Œè€Œæ˜¯é€šè¿‡å…ƒç´ å€¼çš„hashå€¼å°†å…ƒç´ åˆ†ç»„æ”¾ç½®åˆ°å„ä¸ªæ§½(Buckerï¼Œä¹Ÿå¯ä»¥è¯‘ä¸ºâ€œæ¡¶â€ï¼‰ï¼Œè¿™æ ·å°±èƒ½é€šè¿‡å…ƒç´ å€¼å¿«é€Ÿè®¿é—®å„ä¸ªå¯¹åº”çš„å…ƒç´ ï¼ˆå‡æ‘Šè€—æ—¶ä¸ºOï¼ˆ1ï¼‰ï¼‰ã€‚
åŸå‹ä¸­çš„Keyä»£è¡¨è¦å­˜å‚¨çš„ç±»å‹ï¼Œè€Œhash&lt;!-- raw HTML omitted --&gt;ä¹Ÿå°±æ˜¯ä½ çš„hashå‡½æ•°ï¼Œequal_to&lt;!-- raw HTML omitted --&gt;ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ˜¯å¦ç›¸ç­‰ï¼Œallocator&lt;!-- raw HTML omitted --&gt;æ˜¯å†…å­˜çš„åˆ†é…ç­–ç•¥ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªå…³å¿ƒhash&lt;!-- raw HTML omitted --&gt;å’Œequal_to&lt;!-- raw HTML omitted --&gt;å‚æ•°ï¼Œä¸‹é¢å°†ä»‹ç»è¿™ä¸¤éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;hash&amp;lt;key&amp;gt;&lt;/code&gt;&lt;/strong&gt;
&lt;code&gt; hash&amp;lt;key&amp;gt;&lt;/code&gt;é€šè¿‡ç›¸åº”çš„hashå‡½æ•°ï¼Œå°†ä¼ å…¥çš„å‚æ•°è½¬æ¢ä¸ºä¸€ä¸ªsize_tç±»å‹å€¼ï¼Œç„¶åç”¨è¯¥å€¼å¯¹å½“å‰hashtableçš„bucketå–æ¨¡ç®—å¾—å…¶å¯¹åº”çš„hashå€¼ã€‚è€ŒC++æ ‡å‡†åº“ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†åŸºæœ¬æ•°æ®ç±»å‹çš„hashå‡½æ•°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/// Primary class template hash. template struct hash;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/// Partial specializations for pointer types. template struct hash&amp;lt;\_Tp*&amp;gt; : public \_\_hash\_base&amp;lt;size\_t, \_tp*=&amp;#34;&amp;#34;&amp;gt; { size\_t operator()(\_Tp* \_\_p) const noexcept { return reinterpret_cast(__p); } }; &amp;lt;/size_t,&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// Explicit specializations for integer types.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;define &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;_Cxx&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;_hashtable&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;_define&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;_trivial&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;_hash(&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;_Tp) \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;======================================================&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;template&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;hash&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;_Tp&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;_&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;_hash&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;_base&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;size&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;_t, &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;_tp&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt; { &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt; size&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;_t &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;operator&lt;/span&gt;()(&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;_Tp &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;_&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt;_val) &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;noexcept&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt; { &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;static_cast&lt;/span&gt;(__val); } &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;\&lt;/span&gt; }; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/&lt;/span&gt;size_t,&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/// Explicit specialization for bool. \_Cxx\_hashtable\_define\_trivial_hash(bool)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/// Explicit specialization for char. \_Cxx\_hashtable\_define\_trivial_hash(char)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/// Explicit specialization for signed char. \_Cxx\_hashtable\_define\_trivial_hash(signed char)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/// Explicit specialization for unsigned char. \_Cxx\_hashtable\_define\_trivial_hash(unsigned char)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/// Explicit specialization for wchar\_t. \_Cxx\_hashtable\_define\_trivial\_hash(wchar_t)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/// Explicit specialization for char16\_t. \_Cxx\_hashtable\_define\_trivial\_hash(char16_t)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/// Explicit specialization for char32\_t. \_Cxx\_hashtable\_define\_trivial\_hash(char32_t)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/// Explicit specialization for short. \_Cxx\_hashtable\_define\_trivial_hash(short)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/// Explicit specialization for int. \_Cxx\_hashtable\_define\_trivial_hash(int)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/// Explicit specialization for long. \_Cxx\_hashtable\_define\_trivial_hash(long)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/// Explicit specialization for long long. \_Cxx\_hashtable\_define\_trivial_hash(long long)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/// Explicit specialization for unsigned short. \_Cxx\_hashtable\_define\_trivial_hash(unsigned short)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/// Explicit specialization for unsigned int. \_Cxx\_hashtable\_define\_trivial_hash(unsigned int)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/// Explicit specialization for unsigned long. \_Cxx\_hashtable\_define\_trivial_hash(unsigned long)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/// Explicit specialization for unsigned long long. \_Cxx\_hashtable\_define\_trivial_hash(unsigned long long)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯¹äºæŒ‡é’ˆç±»å‹ï¼Œæ ‡å‡†åº“åªæ˜¯å•ä¸€å°†åœ°å€è½¬æ¢ä¸ºä¸€ä¸ªsize_tå€¼ä½œä¸ºhashå€¼ï¼Œè¿™é‡Œç‰¹åˆ«éœ€è¦æ³¨æ„çš„æ˜¯&lt;code&gt;char *&lt;/code&gt;ç±»å‹çš„æŒ‡é’ˆï¼Œå…¶æ ‡å‡†åº“æä¾›çš„hashå‡½æ•°åªæ˜¯å°†æŒ‡é’ˆæ‰€æŒ‡åœ°å€è½¬æ¢ä¸ºä¸€ä¸ªsieze_tå€¼ï¼Œå¦‚æœï¼Œä½ éœ€è¦ç”¨&lt;code&gt;char *&lt;/code&gt;æ‰€æŒ‡çš„å†…å®¹åšhashï¼Œé‚£ä¹ˆï¼Œä½ éœ€è¦è‡ªå·±å†™hashå‡½æ•°æˆ–è€…è°ƒç”¨ç³»ç»Ÿæä¾›çš„&lt;code&gt;hash&amp;lt;string&amp;gt;&lt;/code&gt;ã€‚
æ ‡å‡†åº“ä¸ºstringç±»å‹å¯¹è±¡æä¾›äº†ä¸€ä¸ªhashå‡½æ•°ï¼Œå³ï¼šMurmur hashï¼Œã€‚å¯¹äºfloatã€doubleã€long doubleæ ‡å‡†åº“ä¹Ÿæœ‰ç›¸åº”çš„hashå‡½æ•°ï¼Œè¿™é‡Œï¼Œä¸åšè¿‡å¤šçš„è§£é‡Šï¼Œç›¸åº”çš„å¯ä»¥å‚çœ‹functional_hash.hå¤´æ–‡ä»¶ã€‚
ä¸Šè¿°åªæ˜¯ä»‹ç»äº†åŸºæœ¬æ•°æ®ç±»å‹ï¼Œè€Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œæœ‰æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨è‡ªå·±å†™çš„hashå‡½æ•°ï¼Œé‚£æ€ä¹ˆè‡ªå®šä¹‰hashå‡½æ•°ï¼Ÿå‚è€ƒæ ‡å‡†åº“åŸºæœ¬æ•°æ®ç±»å‹çš„hashå‡½æ•°ï¼Œæˆ‘ä»¬ä¼šå‘ç°è¿™äº›hashå‡½æ•°æœ‰ä¸ªå…±åŒçš„ç‰¹ç‚¹ï¼šé€šè¿‡å®šä¹‰å‡½æ•°å¯¹è±¡ï¼Œå®ç°ç›¸åº”çš„hashå‡½æ•°ï¼Œè¿™ä¹Ÿå°±æ„å‘³æˆ‘ä»¬å¯ä»¥é€šè¿‡è‡ªå®šä¹‰ç›¸åº”çš„å‡½æ•°å¯¹è±¡ï¼Œæ¥å®ç°è‡ªå®šä¹‰hashå‡½æ•°ã€‚æ¯”å¦‚ï¼šå·²çŸ¥å¹³é¢ä¸Šæœ‰Nï¼Œæ¯ä¸ªç‚¹çš„xè½´ã€yè½´èŒƒå›´ä¸º[0ï¼Œ100]ï¼Œç°åœ¨éœ€è¦ç»Ÿè®¡æœ‰å¤šå°‘ä¸ªä¸åŒç‚¹ï¼Ÿhashå‡½æ•°è®¾è®¡ä¸ºï¼šå°†æ¯ä¸ªç‚¹çš„xã€yå€¼çœ‹æˆæ˜¯101è¿›åˆ¶ï¼Œå¦‚ä¸‹æ‰€ç¤º:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;bits\stdc++.h&amp;gt;  &lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;using&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;namespace&lt;/span&gt; std;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;myHash&lt;/span&gt;   
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    size_t &lt;span style=&#34;color:#a6e22e&#34;&gt;operator&lt;/span&gt;()(pair&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; __val) &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static_cast&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;size_t&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;(__val.first &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;101&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; __val.second);  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;};  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;()  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    unordered_set&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;pair&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;, myHash&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; S;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; x, y;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; (cin &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; y)  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        S.insert(make_pair(x, y));  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;auto&lt;/span&gt; it &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; S.begin(); it &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; S.end(); &lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;it)  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        cout &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; it&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;first &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34; &amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; it&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;second &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; endl;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;&lt;code&gt;equal_to&amp;lt;key&amp;gt;&lt;/code&gt;&lt;/strong&gt;
è¯¥å‚æ•°ç”¨äºå®ç°æ¯”è¾ƒä¸¤ä¸ªå…³é”®å­—æ˜¯å¦ç›¸ç­‰ï¼Œè‡³äºä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªå‚æ•°ï¼Ÿè¿™é‡Œåšç‚¹è§£é‡Šï¼Œå‰é¢æˆ‘ä»¬è¯´è¿‡ï¼Œå½“ä¸åŒå…³é”®å­—ï¼Œé€šè¿‡hashå‡½æ•°ï¼Œå¯èƒ½ä¼šå¾—åˆ°ç›¸åŒçš„å…³é”®å­—å€¼ï¼Œæ¯å½“æˆ‘ä»¬åœ¨unordered_seté‡Œé¢åšæ•°æ®æ’å…¥ã€åˆ é™¤æ—¶ï¼Œç”±äºunordered_setå…³é”®å­—å”¯ä¸€æ€§ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—ç¡®ä¿å”¯ä¸€æ€§ã€‚æ ‡å‡†åº“å®šä¹‰äº†åŸºæœ¬ç±»å‹çš„æ¯”è¾ƒå‡½æ•°ï¼Œè€Œå¯¹äºè‡ªå®šä¹‰çš„æ•°æ®ç±»å‹ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°ã€‚è¿™é‡Œæœ‰ä¸¤ç§æ–¹æ³•:é‡è½½==æ“ä½œç¬¦å’Œä½¿ç”¨å‡½æ•°å¯¹è±¡ï¼Œä¸‹é¢æ˜¯STLä¸­å®ç°&lt;code&gt;equal_to&amp;lt;key&amp;gt;&lt;/code&gt;çš„æºä»£ç ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;template&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typename&lt;/span&gt; _Arg, &lt;span style=&#34;color:#66d9ef&#34;&gt;typename&lt;/span&gt; _Result&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unary_function&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#75715e&#34;&gt;/// @c argument_type is the type of the argument  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; _Arg  argument_type;     
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#75715e&#34;&gt;/// @c result_type is the return type  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; _Result   result_type;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    };  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;template&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typename&lt;/span&gt; _Tp&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;equal_to&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; binary_function&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;_Tp, _Tp, &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#a6e22e&#34;&gt;operator&lt;/span&gt;()(&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; _Tp&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; __x, &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; _Tp&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; __y) &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      { &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; __x &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; __y; }  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }; 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;æ‰©å®¹ä¸ç¼©å®¹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨vectorä¸­ï¼Œæ¯å½“æˆ‘ä»¬æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ æ—¶ï¼Œå¦‚æœå½“å‰çš„å®¹é‡ï¼ˆcapacity)å·²ä¸è¶³ï¼Œéœ€è¦å‘ç³»ç»Ÿç”³è¯·ä¸€ä¸ªæ›´å¤§çš„ç©ºé—´ï¼Œç„¶åå°†åŸå§‹æ•°æ®æ‹·è´åˆ°æ–°ç©ºé—´ä¸­ã€‚è¿™ç§ç°è±¡åœ¨unordered_setä¸­ä¹Ÿå­˜åœ¨ï¼Œæ¯”å¦‚å½“å‰çš„è¡¨é•¿ä¸º100ï¼Œè€ŒçœŸå®å­˜åœ¨è¡¨ä¸­çš„æ•°æ®å·²ç»å¤§äº1000ä¸ªå…ƒç´ ï¼Œæ­¤æ—¶ï¼Œæ¯ä¸ªbuckerå‡æ‘Šæœ‰10ä¸ªå…ƒç´ ï¼Œè¿™æ ·å°±ä¼šå½±å“åˆ°unordered_setçš„å­˜å–æ•ˆç‡ï¼Œè€Œæ ‡å‡†åº“é€šè¿‡é‡‡ç”¨æŸç§ç­–ç•¥æ¥å¯¹å½“å‰ç©ºé—´è¿›è¡Œæ‰©å®¹ï¼Œä»¥æ­¤æ¥æé«˜å­˜å–æ•ˆç‡ã€‚å½“ç„¶ï¼Œè¿™é‡Œä¹Ÿå­˜åœ¨ç¼©å®¹ï¼ŒåŸç†å’Œæ‰©å®¹ç±»ä¼¼ï¼Œä¸è¿‡ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯å½“unordered_setå†…éƒ¨è¿›è¡Œä¸€æ¬¡æ‰©å®¹æˆ–è€…ç¼©å®¹ï¼Œéƒ½éœ€è¦å¯¹è¡¨ä¸­çš„æ•°æ®é‡æ–°è®¡ç®—ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰©å®¹æˆ–è€…ç¼©å®¹çš„æ—¶é—´å¤æ‚åº¦è‡³å°‘ä¸ºã€‚&lt;/p&gt;
&lt;p&gt;codeï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// unordered_set::find
#include &amp;lt;iostream&amp;gt;
#include &amp;lt;string&amp;gt;
#include &amp;lt;unordered_set&amp;gt;  &amp;lt;/unordered_set&amp;gt;&amp;lt;/string&amp;gt;&amp;lt;/iostream&amp;gt;

int main ()
{
std::unordered_set&amp;lt;std::string&amp;gt; myset = { &amp;quot;red&amp;quot;,&amp;quot;green&amp;quot;,&amp;quot;blue&amp;quot; };  &amp;lt;/std::string&amp;gt;

std::string input;
std::cout &amp;amp;lt;&amp;amp;lt; &amp;quot;color? &amp;quot;;  
  getline (std::cin,input);  

  std::unordered_set&amp;lt;std::string&amp;gt;::const_iterator got = myset.find (input);  &amp;lt;/std::string&amp;gt;

if ( got == myset.end() )
std::cout &amp;amp;lt;&amp;amp;lt; &amp;quot;not found in myset&amp;quot;;  
  else  
    std::cout &amp;amp;lt;&amp;amp;lt; *got &amp;amp;lt;&amp;amp;lt; &amp;quot; is in myset&amp;quot;;  

  std::cout &amp;amp;lt;&amp;amp;lt; std::endl;  

  return 0;  
}
&lt;/code&gt;&lt;/pre&gt;
</description>
        </item>
        <item>
        <title>c&#43;&#43;ä»£ç ä¼˜åŒ–å»ºè®®</title>
        <link>https://lxb.wiki/8e72ff9a/</link>
        <pubDate>Sat, 17 Dec 2016 22:02:36 +0000</pubDate>
        
        <guid>https://lxb.wiki/8e72ff9a/</guid>
        <description>&lt;ol&gt;
&lt;li&gt;è®°ä½é˜¿å§†è¾¾å°”å®šå¾‹ï¼š Ahmdal&amp;rsquo;s rule $$Speedup =\dfrac{ time_{old}}{time_{new}} = \dfrac{1}{(1-func_{cost})+func_{cost}/func_{speedup}}$$&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;func_costæ˜¯å‡½æ•°funcè¿è¡Œæ—¶é—´ç™¾åˆ†æ¯”ï¼Œfunc_speedupæ˜¯ä½ ä¼˜åŒ–å‡½æ•°çš„è¿è¡Œçš„ç³»æ•°ã€‚&lt;/li&gt;
&lt;li&gt;æ‰€ä»¥ï¼Œå¦‚æœä½ ä¼˜åŒ–äº†å‡½æ•°TriangleIntersectæ‰§è¡Œ40%çš„è¿è¡Œæ—¶é—´ï¼Œä½¿å®ƒè¿è¡Œå¿«äº†è¿‘ä¸¤å€ï¼Œè€Œä½ çš„ç¨‹åºä¼šè¿è¡Œå¿«25%ã€‚&lt;/li&gt;
&lt;li&gt;è¿™æ„å‘³ç€ä¸ç»å¸¸ä½¿ç”¨çš„ä»£ç ä¸éœ€è¦åšè¾ƒå¤šä¼˜åŒ–è€ƒè™‘ï¼ˆæˆ–è€…å®Œå…¨ä¸ä¼˜åŒ–ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;è¿™é‡Œæœ‰å¥ä¿—è¯­ï¼šè®©ç»å¸¸æ‰§è¡Œçš„è·¯å¾„è¿è¡Œæ›´åŠ é«˜æ•ˆï¼Œè€Œè¿è¡Œç¨€å°‘çš„è·¯å¾„æ­£ç¡®è¿è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ä»£ç å…ˆä¿è¯æ­£ç¡®ï¼Œç„¶åå†è€ƒè™‘ä¼˜åŒ– è¿™å¹¶ä¸æ„å‘³ç€ç”¨8å‘¨æ—¶é—´å†™ä¸€ä¸ªå…¨åŠŸèƒ½çš„å°„çº¿è¿½è¸ªç®—æ³•ï¼Œç„¶åç”¨8å‘¨æ—¶é—´å»ä¼˜åŒ–å®ƒã€‚ åˆ†å¤šæ­¥æ¥åšæ€§èƒ½ä¼˜åŒ–ã€‚ å…ˆå†™æ­£ç¡®çš„ä»£ç ï¼Œå½“ä½ æ„è¯†åˆ°è¿™ä¸ªå‡½æ•°å¯èƒ½ä¼šè¢«ç»å¸¸è°ƒç”¨ï¼Œè¿›è¡Œæ˜æ˜¾çš„ä¼˜åŒ–ã€‚ ç„¶åå†å¯»æ‰¾ç®—æ³•çš„ç“¶é¢ˆï¼Œå¹¶è§£å†³ï¼ˆé€šè¿‡ä¼˜åŒ–æˆ–è€…æ”¹è¿›ç®—æ³•ï¼‰ã€‚é€šå¸¸ï¼Œæ”¹è¿›ç®—æ³•èƒ½æ˜¾è‘—åœ°æ”¹è¿›ç“¶é¢ˆâ€”â€”ä¹Ÿè®¸æ˜¯é‡‡ç”¨ä¸€ä¸ªä½ è¿˜æ²¡æœ‰é¢„æƒ³åˆ°çš„æ–¹æ³•ã€‚æ‰€æœ‰é¢‘ç¹è°ƒç”¨çš„å‡½æ•°ï¼Œéƒ½éœ€è¦ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æˆ‘æ‰€äº†è§£çš„é‚£äº›å†™å‡ºéå¸¸é«˜æ•ˆä»£ç çš„äººè¯´ï¼Œä»–ä»¬ä¼˜åŒ–ä»£ç çš„æ—¶é—´ï¼Œæ˜¯å†™ä»£ç æ—¶é—´çš„ä¸¤å€ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è·³è½¬å’Œåˆ†æ”¯æ‰§è¡Œä»£ä»·é«˜ï¼Œå¦‚æœå¯èƒ½ï¼Œå°½é‡å°‘ç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å‡½æ•°è°ƒç”¨éœ€è¦ä¸¤æ¬¡è·³è½¬ï¼Œå¤–åŠ æ ˆå†…å­˜æ“ä½œã€‚ ä¼˜å…ˆä½¿ç”¨è¿­ä»£è€Œä¸æ˜¯é€’å½’ã€‚ ä½¿ç”¨å†…è”å‡½æ•°å¤„ç†çŸ­å°çš„å‡½æ•°æ¥æ¶ˆé™¤å‡½æ•°è°ƒç”¨å¼€é”€ã€‚ å°†å¾ªç¯å†…çš„å‡½æ•°è°ƒç”¨ç§»åŠ¨åˆ°å¾ªç¯å¤–(ä¾‹å¦‚ï¼Œå°†for(i=0;i&amp;lt;100;i++) DoSomething();æ”¹ä¸ºDoSomething() { for(i=0;i&amp;lt;100;i++) { â€¦ }})ã€‚ ifâ€¦else ifâ€¦else ifâ€¦else ifâ€¦å¾ˆé•¿çš„åˆ†æ”¯é“¾æ‰§è¡Œåˆ°æœ€åçš„åˆ†æ”¯éœ€è¦å¾ˆå¤šçš„è·³è½¬ã€‚å¦‚æœå¯èƒ½ï¼Œå°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªswitchå£°æ˜è¯­å¥ï¼Œç¼–è¯‘å™¨æœ‰æ—¶å€™ä¼šå°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªè¡¨æŸ¥è¯¢å•æ¬¡è·³è½¬ã€‚å¦‚æœswitchå£°æ˜ä¸å¯è¡Œï¼Œå°†æœ€å¸¸è§çš„åœºæ™¯æ”¾åœ¨ifåˆ†æ”¯é“¾çš„æœ€å‰é¢ã€‚ 5. ä»”ç»†æ€è€ƒå‡½æ•°ä¸‹æ ‡çš„é¡ºåºã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ä¸¤é˜¶æˆ–æ›´é«˜é˜¶çš„æ•°ç»„åœ¨å†…å­˜ä¸­è¿˜æ˜¯ä»¥ä¸€ç»´çš„æ–¹å¼åœ¨å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œè¿™æ„å‘³ç€ï¼ˆå¯¹äºC/C++æ•°ç»„ï¼‰array[i][j] å’Œ array[i][j+1]æ˜¯ç›¸é‚»çš„ï¼Œä½†æ˜¯array[i][j] å’Œarray[i+1][j]å¯èƒ½ç›¸è·å¾ˆè¿œã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»¥é€‚å½“çš„æ–¹å¼è®¿é—®å­˜å‚¨å®é™…å†…å­˜ä¸­çš„æ•°æ®ï¼Œå¯ä»¥æ˜¾è‘—åœ°æå‡ä½ ä»£ç çš„æ‰§è¡Œæ•ˆç‡ï¼ˆæœ‰æ—¶å€™å¯ä»¥æå‡ä¸€ä¸ªæ•°é‡çº§ç”šè‡³æ›´å¤šï¼‰ã€‚ ç°ä»£å¤„ç†å™¨ä»ä¸»å†…å­˜ä¸­åŠ è½½æ•°æ®åˆ°å¤„ç†å™¨cacheï¼Œä¼šåŠ è½½æ¯”å•ä¸ªå€¼æ›´å¤šçš„æ•°æ®ã€‚è¯¥æ“ä½œä¼šè·å–è¯·æ±‚æ•°æ®å’Œç›¸é‚»æ•°æ®ï¼ˆä¸€ä¸ªcacheè¡Œå¤§å°ï¼‰çš„æ•´å—æ•°æ®ã€‚è¿™æ„å‘³ç€ï¼Œä¸€æ—¦array[i][j]å·²ç»åœ¨å¤„ç†å™¨cacheä¸­ï¼Œarray[i][j+1]å¾ˆå¤§å¯èƒ½ä¹Ÿå·²ç»åœ¨cacheä¸­äº†ï¼Œè€Œarray[i+1][j]å¯èƒ½è¿˜åœ¨å†…å­˜ä¸­ã€‚ 6. ä½¿ç”¨æŒ‡ä»¤å±‚çš„å¹¶è¡Œæœºåˆ¶&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;å°½ç®¡è®¸å¤šç¨‹åºè¿˜æ˜¯ä¾èµ–å•çº¿ç¨‹çš„æ‰§è¡Œï¼Œç°ä»£å¤„ç†å™¨åœ¨å•æ ¸ä¸­ä¹Ÿæä¾›äº†ä¸å°‘çš„å¹¶è¡Œæ€§ã€‚ä¾‹å¦‚ï¼šå•ä¸ªCPUå¯ä»¥åŒæ—¶æ‰§è¡Œ4ä¸ªæµ®ç‚¹æ•°ä¹˜ï¼Œç­‰å¾…4ä¸ªå†…å­˜è¯·æ±‚å¹¶æ‰§è¡Œä¸€ä¸ªåˆ†æ”¯é¢„åˆ¤ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸ºäº†æœ€å¤§åŒ–åˆ©ç”¨è¿™ç§å¹¶è¡Œæ€§ï¼Œä»£ç å—ï¼ˆåœ¨è·³è½¬ä¹‹é—´çš„ï¼‰éœ€è¦è¶³å¤Ÿçš„ç‹¬ç«‹æŒ‡ä»¤æ¥å…è®¸å¤„ç†å™¨è¢«å……åˆ†åˆ©ç”¨ã€‚ è€ƒè™‘å±•å¼€å¾ªç¯æ¥æ”¹è¿›è¿™ä¸€ç‚¹ã€‚ è¿™ä¹Ÿæ˜¯ä½¿ç”¨å†…è”å‡½æ•°çš„ä¸€ä¸ªå¥½ç†ç”±ã€‚ 7. é¿å…æˆ–å‡å°‘ä½¿ç”¨æœ¬åœ°å˜é‡ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;æœ¬åœ°å˜é‡é€šå¸¸éƒ½å­˜å‚¨åœ¨æ ˆä¸Šã€‚ä¸è¿‡å¦‚æœæ•°é‡æ¯”è¾ƒå°‘ï¼Œå®ƒä»¬å¯ä»¥å­˜å‚¨åœ¨CPUå¯„å­˜å™¨ä¸­ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå‡½æ•°ä¸ä½†å¾—åˆ°äº†æ›´å¿«è®¿é—®å­˜å‚¨åœ¨å¯„å­˜å™¨ä¸­çš„æ•°æ®çš„å¥½å¤„ï¼Œä¹Ÿé¿å…äº†åˆå§‹åŒ–ä¸€ä¸ªæ ˆå¸§çš„å¼€é”€ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸è¦å°†å¤§é‡æ•°æ®è½¬æ¢ä¸ºå…¨å±€å˜é‡ã€‚ 8. å‡å°‘å‡½æ•°å‚æ•°çš„ä¸ªæ•°ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;å’Œå‡å°‘ä½¿ç”¨æœ¬åœ°å˜é‡çš„ç†ç”±ä¸€æ ·â€”â€”å®ƒä»¬ä¹Ÿæ˜¯å­˜æ”¾åœ¨æ ˆä¸Šã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;9. é€šè¿‡å¼•ç”¨ä¼ é€’ç»“æ„ä½“è€Œä¸æ˜¯ä¼ å€¼&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;æˆ‘åœ¨å°„çº¿è¿½è¸ªä¸­è¿˜æ‰¾ä¸åˆ°ä¸€ä¸ªåœºæ™¯éœ€è¦å°†ç»“æ„ä½“ä½¿ç”¨ä¼ å€¼æ–¹å¼ï¼ˆåŒ…æ‹¬ä¸€äº›ç®€å•ç»“æ„å¦‚ï¼šVectorï¼ŒPointå’ŒColorï¼‰ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;10. å¦‚æœä½ çš„å‡½æ•°ä¸éœ€è¦è¿”å›å€¼ï¼Œä¸è¦å®šä¹‰ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å°½é‡é¿å…æ•°æ®è½¬æ¢ã€‚&lt;/p&gt;
&lt;p&gt;æ•´æ•°å’Œæµ®ç‚¹æ•°æŒ‡ä»¤é€šå¸¸æ“ä½œä¸åŒçš„å¯„å­˜å™¨ï¼Œæ‰€ä»¥è½¬æ¢éœ€è¦è¿›è¡Œä¸€æ¬¡æ‹·è´æ“ä½œã€‚ çŸ­æ•´å‹ï¼ˆcharå’Œshortï¼‰ä»ç„¶ä½¿ç”¨ä¸€æ•´ä¸ªå¯„å­˜å™¨ï¼Œå¹¶ä¸”å®ƒä»¬éœ€è¦è¢«å¡«å……ä¸º32/64ä½ï¼Œç„¶ååœ¨å­˜å‚¨å›å†…å­˜æ—¶éœ€è¦å†æ¬¡è½¬æ¢ä¸ºå°å­—èŠ‚ï¼ˆä¸è¿‡ï¼Œè¿™ä¸ªå¼€é”€ä¸€å®šæ¯”ä¸€ä¸ªæ›´å¤§çš„æ•°æ®ç±»å‹çš„å†…å­˜å¼€é”€è¦å¤šä¸€ç‚¹ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®šä¹‰C++å¯¹è±¡æ—¶éœ€è¦æ³¨æ„ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ç±»åˆå§‹åŒ–è€Œä¸æ˜¯ä½¿ç”¨èµ‹å€¼ï¼ˆColor c(black); æ¯”Color c; c = black;æ›´å¿«ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç±»æ„é€ å‡½æ•°å°½å¯èƒ½è½»é‡ã€‚ å°¤å…¶æ˜¯å¸¸ç”¨çš„ç®€å•ç±»å‹ï¼ˆæ¯”å¦‚ï¼Œcolorï¼Œvectorï¼Œpointç­‰ç­‰ï¼‰ï¼Œè¿™äº›ç±»ç»å¸¸è¢«å¤åˆ¶ã€‚ è¿™äº›é»˜è®¤æ„é€ å‡½æ•°é€šå¸¸éƒ½æ˜¯åœ¨éšå¼æ‰§è¡Œçš„ï¼Œè¿™æˆ–è®¸ä¸æ˜¯ä½ æ‰€æœŸæœ›çš„ã€‚ ä½¿ç”¨ç±»åˆå§‹åŒ–åˆ—è¡¨(Use Color::Color() : r(0), g(0), b(0) {}ï¼Œè€Œä¸æ˜¯åˆå§‹åŒ–å‡½æ•°Color::Color() { r= g = b = 0; } .)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœå¯ä»¥çš„è¯ï¼Œä½¿ç”¨ä½ç§»æ“ä½œ&amp;raquo;å’Œ&amp;laquo;æ¥ä»£æ›¿æ•´æ•°ä¹˜é™¤æ³•&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°å¿ƒä½¿ç”¨è¡¨æŸ¥æ‰¾å‡½æ•°&lt;/p&gt;
&lt;p&gt;è®¸å¤šäººéƒ½é¼“åŠ±å°†å¤æ‚çš„å‡½æ•°ï¼ˆæ¯”å¦‚ï¼šä¸‰è§’å‡½æ•°ï¼‰è½¬åŒ–ä¸ºä½¿ç”¨é¢„ç¼–è¯‘çš„æŸ¥æ‰¾è¡¨ã€‚å¯¹äºå°„çº¿è¿½è¸ªåŠŸèƒ½æ¥è¯´ï¼Œè¿™é€šå¸¸å¯¼è‡´äº†ä¸å¿…è¦çš„å†…å­˜æŸ¥æ‰¾ï¼Œè¿™å¾ˆæ˜‚è´µï¼ˆå¹¶ä¸æ–­å¢é•¿ï¼‰ï¼Œå¹¶ä¸”è¿™å’Œè®¡ç®—ä¸€ä¸ªä¸‰è§’å‡½æ•°å¹¶ä»å†…å­˜ä¸­è·å–å€¼ä¸€æ ·å¿«ï¼ˆå°¤å…¶ä½ è€ƒè™‘åˆ°ä¸‰è§’æŸ¥æ‰¾æ‰“ä¹±äº†cpuçš„cacheå­˜å–ï¼‰ã€‚ åœ¨å…¶ä»–æƒ…å†µä¸‹ï¼ŒæŸ¥æ‰¾è¡¨ä¼šå¾ˆæœ‰ç”¨ã€‚å¯¹äºGPUç¼–ç¨‹é€šå¸¸ä¼˜å…ˆä½¿ç”¨è¡¨æŸ¥æ‰¾è€Œä¸æ˜¯å¤æ‚å‡½æ•°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹å¤§å¤šæ•°ç±»ï¼Œä¼˜å…ˆä½¿ç”¨+= ã€ -= ã€ *= å’Œ /=ï¼Œè€Œä¸æ˜¯ä½¿ç”¨+ ã€ â€“ ã€ * ã€ å’Œ?/&lt;/p&gt;
&lt;p&gt;è¿™äº›ç®€å•æ“ä½œéœ€è¦åˆ›å»ºä¸€ä¸ªåŒ¿åä¸´æ—¶ä¸­é—´å˜é‡ã€‚ ä¾‹å¦‚ï¼šVector v = Vector(1,0,0) + Vector(0,1,0) + Vector(0,0,1);?åˆ›å»ºäº†äº”ä¸ªåŒ¿åä¸´æ—¶Vector: Vector(1,0,0), Vector(0,1,0), Vector(0,0,1), Vector(1,0,0) + Vector(0,1,0), å’Œ Vector(1,0,0) + Vector(0,1,0) + Vector(0,0,1). å¯¹ä¸Šè¿°ä»£ç è¿›è¡Œç®€å•è½¬æ¢ï¼šVector v(1,0,0); v+= Vector(0,1,0); v+= Vector(0,0,1);ä»…ä»…åˆ›å»ºäº†ä¸¤ä¸ªä¸´æ—¶Vector: Vector(0,1,0) å’Œ Vector(0,0,1)ã€‚è¿™èŠ‚çº¦äº†6æ¬¡å‡½æ•°è°ƒç”¨ï¼ˆ3æ¬¡æ„é€ å‡½æ•°å’Œ3æ¬¡ææ„å‡½æ•°ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¼˜å…ˆä½¿ç”¨+?ã€?-?ã€?&lt;em&gt;?ã€?å’Œ?/ï¼Œè€Œä¸æ˜¯+=?ã€?-=?ã€?&lt;/em&gt;= å’Œ /=&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¨è¿Ÿå®šä¹‰æœ¬åœ°å˜é‡&lt;/p&gt;
&lt;p&gt;å®šä¹‰ä¸€ä¸ªå¯¹è±¡å˜é‡é€šå¸¸éœ€è¦è°ƒç”¨ä¸€æ¬¡å‡½æ•°ï¼ˆæ„é€ å‡½æ•°ï¼‰ã€‚ å¦‚æœä¸€ä¸ªå˜é‡åªåœ¨æŸäº›æƒ…å†µä¸‹éœ€è¦ï¼ˆä¾‹å¦‚åœ¨ä¸€ä¸ªifå£°æ˜è¯­å¥å†…ï¼‰ï¼Œä»…åœ¨å…¶éœ€è¦çš„æ—¶å€™å®šä¹‰ï¼Œè¿™æ ·ï¼Œæ„é€ å‡½æ•°ä»…åœ¨å…¶è¢«ä½¿ç”¨çš„æ—¶å€™è°ƒç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹äºå¯¹è±¡ï¼Œä½¿ç”¨å‰ç¼€æ“ä½œç¬¦ï¼ˆ++objï¼‰ï¼Œè€Œä¸æ˜¯åç¼€æ“ä½œç¬¦ï¼ˆobj++ï¼‰&lt;/p&gt;
&lt;p&gt;è¿™åœ¨ä½ çš„å°„çº¿è¿½è¸ªç®—æ³•ä¸­å¯èƒ½ä¸æ˜¯ä¸€ä¸ªé—®é¢˜ ä½¿ç”¨åç¼€æ“ä½œç¬¦éœ€è¦æ‰§è¡Œä¸€æ¬¡å¯¹è±¡æ‹·è´ï¼ˆè¿™ä¹Ÿå¯¼è‡´äº†é¢å¤–çš„æ„é€ å’Œææ„å‡½æ•°è°ƒç”¨ï¼‰ï¼Œè€Œå‰ç¼€çš„æ„é€ å‡½æ•°ä¸éœ€è¦ä¸€ä¸ªä¸´æ—¶çš„æ‹·è´ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°å¿ƒä½¿ç”¨æ¨¡æ¿&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;å¯¹ä¸åŒçš„æ˜¯å®ä¾‹å®ç°è¿›è¡Œä¸åŒçš„ä¼˜åŒ–ã€‚ æ ‡å‡†æ¨¡æ¿åº“å·²ç»ç»è¿‡è‰¯å¥½çš„ä¼˜åŒ–ï¼Œä¸è¿‡æˆ‘å»ºè®®ä½ åœ¨å®ç°ä¸€ä¸ªäº¤äº’å¼å°„çº¿è¿½è¸ªç®—æ³•æ—¶é¿å…ä½¿ç”¨å®ƒã€‚ ä½¿ç”¨è‡ªå·±çš„å®ç°ï¼Œä½ çŸ¥é“å®ƒå¦‚ä½•ä½¿ç”¨ç®—æ³•ï¼Œæ‰€ä»¥ä½ çŸ¥é“å¦‚ä½•æœ€æœ‰æ•ˆçš„å®ç°å®ƒã€‚ æœ€é‡è¦çš„æ˜¯ï¼Œæˆ‘çš„ç»å†å‘Šè¯‰æˆ‘ï¼šè°ƒè¯•STLåº“éå¸¸ä½æ•ˆã€‚é€šå¸¸è¿™ä¹Ÿä¸æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œé™¤éä½ ä½¿ç”¨debugç‰ˆæœ¬åšæ€§èƒ½åˆ†æã€‚ä½ ä¼šå‘ç°STLçš„æ„é€ å‡½æ•°ï¼Œè¿­ä»£å™¨å’Œå…¶ä»–ä¸€äº›æ“ä½œï¼Œå ç”¨äº†ä½ 15%çš„è¿è¡Œæ—¶é—´ï¼Œè¿™ä¼šå¯¼è‡´ä½ åˆ†ææ€§èƒ½è¾“å‡ºæ›´åŠ è´¹åŠ²ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;11&#34;&gt;
&lt;li&gt;é¿å…åœ¨è®¡ç®—æ—¶è¿›è¡ŒåŠ¨æ€å†…å­˜åˆ†é…&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;åŠ¨æ€å†…å­˜å¯¹äºå­˜å‚¨åœºæ™¯å’Œè¿è¡ŒæœŸé—´å…¶ä»–æ•°æ®éƒ½å¾ˆæœ‰ç”¨ã€‚ ä½†æ˜¯ï¼Œåœ¨è®¸å¤šï¼ˆå¤§å¤šæ•°ï¼‰çš„ç³»ç»ŸåŠ¨æ€å†…å­˜åˆ†é…éœ€è¦è·å–æ§åˆ¶è®¿é—®åˆ†é…å™¨çš„é”ã€‚å¯¹äºå¤šçº¿ç¨‹åº”ç”¨ç¨‹åºï¼Œç°å®ä¸­ä½¿ç”¨åŠ¨æ€å†…å­˜ç”±äºé¢å¤–çš„å¤„ç†å™¨å¯¼è‡´äº†æ€§èƒ½ä¸‹é™ï¼Œå› ä¸ºéœ€è¦ç­‰å¾…åˆ†é…å™¨é”å’Œé‡Šæ”¾å†…å­˜ã€‚ å³ä¾¿å¯¹äºå•çº¿ç¨‹åº”ç”¨ï¼Œåœ¨å †ä¸Šåˆ†é…å†…å­˜ä¹Ÿæ¯”åœ¨æ ˆä¸Šåˆ†é…å†…å­˜å¼€é”€å¤§å¾—å¤šã€‚æ“ä½œç³»ç»Ÿè¿˜éœ€è¦æ‰§è¡Œä¸€äº›æ“ä½œæ¥è®¡ç®—å¹¶æ‰¾åˆ°é€‚åˆå°ºå¯¸çš„å†…å­˜å—ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;12&#34;&gt;
&lt;li&gt;æ‰¾åˆ°ä½ ç³»ç»Ÿå†…å­˜cacheçš„ä¿¡æ¯å¹¶åˆ©ç”¨å®ƒä»¬&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;å¦‚æœä¸€ä¸ªæ˜¯æ•°æ®ç»“æ„æ­£å¥½é€‚åˆä¸€ä¸ªcacheè¡Œï¼Œå¤„ç†æ•´ä¸ªç±»ä»å†…å­˜ä¸­åªéœ€è¦åšä¸€æ¬¡è·å–æ“ä½œã€‚ ç¡®ä¿æ‰€æœ‰çš„æ•°æ®ç»“æ„éƒ½æ˜¯cacheè¡Œå¤§å°å¯¹é½ï¼ˆå¦‚æœä½ çš„æ•°æ®ç»“æ„å’Œä¸€ä¸ªcacheè¡Œå¤§å°éƒ½æ˜¯128å­—èŠ‚ï¼Œä»æœ‰å¯èƒ½å› ä¸ºä½ çš„ç»“æ„ä½“ä¸­çš„ä¸€ä¸ªå­—èŠ‚åœ¨ä¸€ä¸ªcacheè¡Œä¸­ï¼Œè€Œå…¶ä»–127å­—èŠ‚åœ¨å¦å¤–ä¸€ä¸ªcahceè¡Œä¸­ï¼‰ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;13&#34;&gt;
&lt;li&gt;é¿å…ä¸éœ€è¦çš„æ•°æ®åˆå§‹åŒ–&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;å¦‚æœä½ éœ€è¦åˆå§‹åŒ–ä¸€å¤§æ®µçš„å†…å­˜ï¼Œè€ƒè™‘ä½¿ç”¨memsetã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;14&#34;&gt;
&lt;li&gt;å°½æ—©ç»“æŸå¾ªç¯å’Œå°½æ—©è¿”å›å‡½æ•°è°ƒç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;è€ƒè™‘ä¸€ä¸ªå°„çº¿å’Œä¸‰è§’å½¢äº¤å‰ï¼Œé€šå¸¸çš„æƒ…å†µæ˜¯å°„çº¿ä¼šè¶Šè¿‡ä¸‰è§’ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥ä¼˜åŒ–ã€‚ å¦‚æœä½ å†³å®šå°†å°„çº¿å’Œä¸‰è§’é¢æ¿äº¤å‰ã€‚å¦‚æœå°„çº¿å’Œé¢æ¿äº¤å‰tå€¼æ˜¯è´Ÿæ•°ï¼Œä½ å¯ä»¥ç«‹å³è¿”å›ã€‚è¿™å…è®¸ä½ è·³è¿‡å°„çº¿ä¸‰è§’äº¤å‰ä¸€å¤§åŠçš„è´¨å¿ƒåæ ‡è®¡ç®—ã€‚è¿™æ˜¯ä¸€ä¸ªå¤§çš„èŠ‚çº¦ï¼Œä¸€æ—¦ä½ çŸ¥é“è¿™ä¸ªäº¤å‰ä¸å­˜åœ¨ï¼Œä½ å°±åº”è¯¥ç«‹å³è¿”å›äº¤å‰è®¡ç®—å‡½æ•°ã€‚ åŒæ ·çš„ï¼Œä¸€äº›å¾ªç¯ä¹Ÿåº”è¯¥å°½æ—©ç»“æŸã€‚ä¾‹å¦‚ï¼Œå½“è®¾ç½®é˜´å½±å°„çº¿ï¼Œå¯¹äºè¿‘å¤„çš„äº¤å‰é€šå¸¸éƒ½æ˜¯ä¸å¿…é¡»çš„ï¼Œä¸€æ—¦æœ‰ç±»ä¼¼çš„çš„äº¤å‰ï¼Œäº¤å‰è®¡ç®—å°±åº”è¯¥å°½æ—©è¿”å›ã€‚ï¼ˆè¿™é‡Œçš„äº¤å‰å«ä¹‰ä¸å¤ªæ˜ç™½ï¼Œå¯èƒ½æ˜¯ä¸“ä¸šè¯æ±‡ï¼Œè¯‘è€…æ³¨ï¼‰
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;15&#34;&gt;
&lt;li&gt;åœ¨ç¨¿çº¸ä¸Šç®€åŒ–ä½ çš„æ–¹ç¨‹å¼&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;è®¸å¤šæ–¹ç¨‹å¼ä¸­ï¼Œé€šå¸¸éƒ½å¯ä»¥æˆ–è€…åœ¨æŸäº›æ¡ä»¶ä¸­å–æ¶ˆè®¡ç®—ã€‚ ç¼–è¯‘å™¨ä¸èƒ½å‘ç°è¿™äº›ç®€åŒ–ï¼Œä½†æ˜¯ä½ å¯ä»¥ã€‚å–æ¶ˆä¸€ä¸ªå†…éƒ¨å¾ªç¯çš„ä¸€äº›æ˜‚è´µæ“ä½œå¯ä»¥æŠµæ¶ˆä½ åœ¨å…¶ä»–åœ°æ–¹çš„å¥½å‡ å¤©çš„ä¼˜åŒ–å·¥ä½œã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;16&#34;&gt;
&lt;li&gt;æ•´æ•°ã€å®šç‚¹æ•°ã€32ä½æµ®ç‚¹æ•°å’Œ64ä½åŒç²¾åº¦æ•°å­—çš„æ•°å­¦è¿ç®—å·®å¼‚ï¼Œæ²¡æœ‰ä½ æƒ³è±¡çš„é‚£ä¹ˆå¤§&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;åœ¨ç°ä»£CPUï¼Œæµ®ç‚¹æ•°è¿ç®—å’Œæ•´æ•°è¿ç®—å·®ä¸å¤šæ‹¥æœ‰åŒæ ·çš„æ•ˆç‡ã€‚åœ¨è®¡ç®—å¯†é›†å‹åº”ç”¨ï¼ˆæ¯”å¦‚å°„çº¿è¿½è¸ªï¼‰ï¼Œè¿™æ„å‘³è¿™å¯ä»¥å¿½ç•¥æ•´æ•°å’Œæµ®ç‚¹æ•°è®¡ç®—çš„å¼€é”€å·®å¼‚ã€‚è¿™ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ ä¸å¿…è¦å¯¹ç®—æ•°è¿›è¡Œæ•´æ•°å¤„ç†ä¼˜åŒ–ã€‚ åŒç²¾åº¦æµ®ç‚¹æ•°è¿ç®—ä¹Ÿä¸æ¯”å•ç²¾åº¦æµ®ç‚¹æ•°è¿ç®—æ›´æ…¢ï¼Œå°¤å…¶æ˜¯åœ¨64ä½æœºå™¨ä¸Šã€‚æˆ‘åœ¨åŒä¸€å°æœºå™¨æµ‹è¯•å°„çº¿è¿½è¸ªç®—æ³•å…¨éƒ¨ä½¿ç”¨doubleæ¯”å…¨éƒ¨ä½¿ç”¨floatsè¿è¡Œæœ‰æ—¶å€™æ›´å¿«ï¼Œåè¿‡æ¥æµ‹è¯•ä¹Ÿçœ‹åˆ°äº†ä¸€æ ·çš„ç°è±¡ï¼ˆè¿™é‡Œçš„åŸæ–‡æ˜¯ï¼šI have seen ray tracers run faster using all doubles than all floats on the same machine. I have also seen the reverseï¼‰ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;17&#34;&gt;
&lt;li&gt;ä¸æ–­æ”¹è¿›ä½ çš„æ•°å­¦è®¡ç®—ï¼Œä»¥æ¶ˆé™¤æ˜‚è´µçš„æ“ä½œ&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;sqrt()ç»å¸¸å¯ä»¥è¢«ä¼˜åŒ–æ‰ï¼Œå°¤å…¶æ˜¯åœ¨æ¯”è¾ƒä¸¤ä¸ªå€¼çš„å¹³æ–¹æ ¹æ˜¯å¦ä¸€è‡´æ—¶ã€‚ å¦‚æœä½ é‡å¤åœ°éœ€è¦å¤„ç† é™¤x æ“ä½œï¼Œè€ƒè™‘è®¡ç®—1/xçš„å€¼ï¼Œä¹˜ä»¥å®ƒã€‚è¿™åœ¨å‘é‡è§„èŒƒåŒ–ï¼ˆ3æ¬¡é™¤æ³•ï¼‰è¿ç®—ä¸­èµ¢å¾—äº†å¤§çš„æ”¹è¿›ï¼Œä¸è¿‡æˆ‘æœ€è¿‘å‘ç°ä¹Ÿæœ‰ç‚¹éš¾ä»¥ç¡®å®šçš„ã€‚ä¸è¿‡ï¼Œè¿™ä»ç„¶æœ‰æ‰€æ”¹è¿›ï¼Œå¦‚æœä½ è¦è¿›è¡Œä¸‰æ¬¡æˆ–æ›´å¤šé™¤æ³•è¿ç®—ã€‚ å¦‚æœä½ åœ¨æ‰§è¡Œä¸€ä¸ªå¾ªç¯ï¼Œé‚£äº›åœ¨å¾ªç¯ä¸­æ‰§è¡Œä¸å‘ç”Ÿå˜åŒ–çš„éƒ¨åˆ†ï¼Œç¡®ä¿æå–åˆ°å¾ªç¯å¤–éƒ¨ã€‚ è€ƒè™‘çœ‹çœ‹ä½ çš„è®¡ç®—å€¼æ˜¯å¦å¯ä»¥åœ¨å¾ªç¯ä¸­ä¿®æ”¹å¾—åˆ°ï¼ˆè€Œä¸æ¯æ¬¡éƒ½é‡æ–°å¼€å§‹å¾ªç¯è®¡ç®—ï¼‰ã€‚
&lt;/code&gt;&lt;/pre&gt;
</description>
        </item>
        <item>
        <title>x == x</title>
        <link>https://lxb.wiki/72da8a18/</link>
        <pubDate>Sat, 19 Nov 2016 20:40:58 +0000</pubDate>
        
        <guid>https://lxb.wiki/72da8a18/</guid>
        <description>&lt;p&gt;Cçš„è¡¨è¾¾å¼ x == xï¼Œä½•æ—¶ä¸ºå‡å‘¢ï¼Ÿå³ä¸‹é¢çš„ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;if (x == x)
{
printf(&amp;quot;Equal\n&amp;quot;);
}
else
{
printf(&amp;quot;Not equal\n&amp;quot;);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»€ä¹ˆæ—¶å€™è¾“å‡ºä¸º&amp;quot;Not equal&amp;quot;å‘¢ï¼Ÿ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#include &amp;lt;stdlib.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;string.h&amp;gt;&amp;lt;/string.h&amp;gt;&amp;lt;/stdio.h&amp;gt;&amp;lt;/stdlib.h&amp;gt;

int main(void)
{
float x = 0xffffffff;

if (x == x)
{
printf(&amp;quot;Equal\n&amp;quot;);
}
else
{
printf(&amp;quot;Not equal\n&amp;quot;);
}

if (x &amp;amp;gt;= 0)
{
printf(&amp;quot;x(%f) &amp;amp;gt;= 0\n&amp;quot;, x);
}
else if (x &amp;amp;lt; 0) 
    {
        printf(&amp;quot;x(%f) &amp;amp;lt; 0\n&amp;quot;, x);
    }

    int a = 0xffffffff;
    memcpy(&amp;amp;amp;x, &amp;amp;amp;a, sizeof(x));
    if (x == x) 
    {
        printf(&amp;quot;Equal\n&amp;quot;);
    }
    else 
    {
        printf(&amp;quot;Not equal\n&amp;quot;);
    }

    if (x &amp;amp;gt;= 0)
{
printf(&amp;quot;x(%f) &amp;amp;gt;= 0\n&amp;quot;, x);
}
else if (x &amp;amp;lt; 0) 
    {
        printf(&amp;quot;x(%f) &amp;amp;lt; 0\n&amp;quot;, x);
    }
    else 
    {
        printf(&amp;quot;Surprise x(%f)!!!\n&amp;quot;, x);
    }

    return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç¼–è¯‘&lt;code&gt;gcc -g -Wall test.c&lt;/code&gt;ï¼Œçœ‹æ‰§è¡Œç»“æœï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ./a.out
Equal
x(4294967296.000000) &amp;amp;gt;= 0
Not equal
Surprise x(-nan)!!!
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æœ€åä¸¤è¡Œè¾“å‡ºæ˜¯ä¸æ˜¯æœ‰ç‚¹surpriseå•Šã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢å…ˆç®€å•è§£é‡Šä¸€ä¸‹ï¼š 1. å½“&lt;code&gt;float x = 0xffffffff&lt;/code&gt;ï¼šè¿™æ—¶å°†æ•´æ•°èµ‹ç»™ä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œç”±äºfloatå’Œintçš„sizeéƒ½æ˜¯4ï¼Œè€Œæµ®ç‚¹æ•°çš„å­˜å‚¨æ ¼å¼ä¸æ•´æ•°ä¸åŒï¼Œå…¶éœ€è¦å°†æŸäº›ä½ä½œä¸ºå°æ•°ä½ï¼Œæ‰€ä»¥floatçš„èŒƒå›´è¦å°äºintçš„èŒƒå›´ã€‚å› æ­¤è¿™é‡Œæ¶‰åŠåˆ°äº†æ•´æ•°è½¬æ¢æµ®ç‚¹çš„è§„å®šã€‚å› ä¸ºè¿™ä¸ªè½¬æ¢å…¶å®å¾ˆå°‘ç”¨åˆ°ï¼Œæˆ‘ä¹Ÿå°±ä¸æŸ¥äº†ã€‚ä½†æ˜¯æ€»ä¹‹ï¼Œè¿™ä¸ªè½¬æ¢æ˜¯åˆæ³•çš„ã€‚ä½†æ˜¯æœ€ç»ˆçš„å€¼å¾ˆå¯èƒ½ä¸æ˜¯ä½ æƒ³è¦çš„ç»“æœâ€”â€”å°¤å…¶æ˜¯å½“æµ®ç‚¹çš„èŒƒå›´å°äºæ•´æ•°çš„èŒƒå›´æ—¶ã€‚ 2. å³ä½¿æ•´æ•°è½¬æ¢æˆæµ®ç‚¹ï¼Œæ•°å€¼å†ä¸æ˜¯æœŸæœ›å€¼ï¼Œä½†å®ƒä¹Ÿä¸€å®šæ˜¯ä¸€ä¸ªåˆæ³•çš„æµ®ç‚¹æ•°å€¼ã€‚æ‰€ä»¥ç¬¬ä¸€ä¸ª&lt;code&gt;x == x&lt;/code&gt;ï¼Œä¸€å®šä¸ºtrueï¼Œä¸”xä¸æ˜¯å¤§äº0ï¼Œå°±æ˜¯å°äº0ã€‚è¿™æ—¶xå­˜çš„å¹¶ä¸æ˜¯0xffffffffã€‚ 3. å½“ä½¿ç”¨memcpyå°†0xffå¡«å……åˆ°xçš„åœ°å€æ—¶ï¼Œè¿™æ—¶xå­˜çš„ä¿è¯ä¸º0xffffffffã€‚ä½†æ˜¯è¿™ä¸ªä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„floatçš„å€¼ã€‚å› æ­¤å¥‡æ€ªçš„ç°è±¡å‘ç”Ÿäº†ï¼Œxå¹¶ä¸ç­‰äºxã€‚åŸå› åˆ™æ˜¯ä¸cpuçš„æµ®ç‚¹æŒ‡ä»¤ç›¸å…³. 4. ä½œä¸ºä¸€ä¸ªéæ³•çš„floatå€¼ï¼Œå½“å®ƒä¸å…¶å®ƒä»»ä½•æ•°å€¼æ¯”è¾ƒæ—¶ï¼Œéƒ½ä¼šè¿”å›falseã€‚è¿™ä¹Ÿå°±é€ æˆäº†ï¼Œåé¢æƒŠå¥‡çš„ç»“æœï¼Œxæ—¢ä¸å¤§äºç­‰äº0ï¼Œä¹Ÿä¸å°äº0ã€‚&lt;/p&gt;
&lt;p&gt;æ€»ç»“ä¸€ä¸‹ï¼šä¸€èˆ¬æ¥è¯´ï¼Œæµ®ç‚¹ç±»å‹å¾ˆå°‘è¢«ä½¿ç”¨ï¼Œä¹Ÿä¸åº”è¯¥åœ¨ç¨‹åºä¸­é¼“åŠ±ä½¿ç”¨ã€‚ä¸ä»…å…¶æ•ˆç‡æ¯”æ•´æ•°ä½ï¼Œä¸”ç”±äºæµ®ç‚¹ç±»å‹ç‰¹æ®Šçš„å­˜å‚¨æ ¼å¼ï¼Œå¾ˆå®¹æ˜“é€ æˆä¸€äº›æ„æƒ³ä¸åˆ°çš„é”™è¯¯ã€‚å¦‚æœçœŸçš„æ— æ³•é¿å…æ—¶ï¼Œä¸€å®šè¦å°å¿ƒå°å¿ƒå†å°å¿ƒã€‚ç‰¹åˆ«è¦æ³¨æ„ä»Šå¤©çš„ä¸»é¢˜ï¼Œè¿™ç§éæ³•çš„æµ®ç‚¹å€¼ï¼Œä¼šå¯¼è‡´ä»»ä½•æ¯”è¾ƒåˆ¤æ–­éƒ½å¤±è´¥ã€‚è€Œåˆ¤æ–­è¿™ç§æµ®ç‚¹å€¼çš„æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œå¦‚æœ&lt;code&gt;x != x&lt;/code&gt;ï¼Œé‚£ä¹ˆè¯¥æµ®ç‚¹å³ä¸ºéæ³•æµ®ç‚¹å€¼ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>C&#43;&#43;åœ¨é‡è½½operator=ä¸ºå¸¦æ¨¡æ¿çš„å‡½æ•°çš„æ—¶å€™çš„é™·é˜±</title>
        <link>https://lxb.wiki/a25c4e07/</link>
        <pubDate>Sat, 29 Oct 2016 20:20:32 +0000</pubDate>
        
        <guid>https://lxb.wiki/a25c4e07/</guid>
        <description>&lt;p&gt;åŸæ–‡åœ°å€ &lt;a class=&#34;link&#34; href=&#34;https://segmentfault.com/a/1190000004467381&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://segmentfault.com/a/1190000004467381&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘è¢«ä¸€ä¸ªè¯­æ³•é—®é¢˜ç¼ äº†åŠå¤©ï¼Œç»ˆäºæ‰¾åˆ°äº†åŸå› ã€‚ä¸ä»”ç»†æ€è€ƒä¸€ä¸‹å†™çš„æ—¶å€™çœŸçš„å¾ˆå®¹æ˜“å¿½ç•¥ã€‚å…ˆçœ‹ä»£ç ï¼š&lt;/p&gt;
&lt;p&gt;template class A { public: const T t = 0;&lt;/p&gt;
&lt;p&gt;template A&amp;amp; operator=(const A&amp;amp; a) { return *this; } };&lt;/p&gt;
&lt;p&gt;int main() { A a, b;&lt;/p&gt;
&lt;p&gt;b = a; // error } è¿™ä¼šå¸¦æ¥ä¸€ä¸ªç¼–è¯‘é”™è¯¯ï¼Œç„¶è€Œæ¨ªç‡æ‚ç‡éƒ½çœ‹ä¸å‡ºé—®é¢˜ã€‚äºæ˜¯æˆ‘å°±è¯•äº†ä¸€ä¸‹è¿™æ ·çš„ä»£ç ï¼šA c; b = c;å±…ç„¶é€šè¿‡äº†ç¼–è¯‘ã€‚F**kï¼Œè¿™ä¸ªæ¨¡æ¿å±…ç„¶èƒ³è†Šè‚˜å¾€å¤–æ‹ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®æˆ‘åœ¨å†™è¿™ä¸ªä»£ç çš„æ—¶å€™å¿½ç•¥äº†ä¸€ç‚¹ï¼Œå°±æ˜¯default assignment operatorï¼Œå®ƒæ˜¯ä½ åœ¨å®šä¹‰ç±»çš„æ—¶å€™ç¼–è¯‘å™¨é»˜è®¤ç»™ä½ åŠ ä¸Šå»çš„ï¼Œè¡Œä¸ºæ˜¯å¯¹æ‰€æœ‰æˆå‘˜å˜é‡èµ‹å€¼ã€‚å®ƒçš„å£°æ˜æ˜¯A&amp;amp; operator=(const A&amp;amp; a);ï¼Œè·Ÿæˆ‘ä»¬è‡ªå·±å®šä¹‰çš„æ”¾åœ¨ä¸€èµ·ï¼š&lt;/p&gt;
&lt;p&gt;template A&amp;amp; operator=(const A&amp;amp; a) { return *this; }&lt;/p&gt;
&lt;p&gt;A&amp;amp; operator=(const A&amp;amp; a) /&lt;em&gt;= delete&lt;/em&gt;/; æ°å¥½æ„æˆäº†æ¨¡æ¿ç‰¹åŒ–ï¼Œè¿™å°±ç³Ÿäº†ã€‚ä¸€æ—¦æ„æˆäº†ç‰¹åŒ–ï¼ŒOtherTå¯ä»¥åŒ¹é…çš„ç±»å‹å°±ä¼šé™¤å»intï¼Œç”¨Aèµ‹å€¼æ—¶åªèƒ½è°ƒç”¨ç³»ç»Ÿç»™æˆ‘ä»¬å®šä¹‰çš„é‚£ä¸ªã€‚ç„¶è€Œå®ƒä¹Ÿä¸èµ·ä½œç”¨ï¼Œå› ä¸ºæˆå‘˜é‡Œé¢æœ‰å¸¸é‡ï¼ˆè¿™æ ·å®ƒå°±ä¼šè¢«æ ‡è®°ä¸º= deleteï¼Œç•™æ„deleteå¹¶ä¸ä¼šä»¤OtherTå¯ä»¥åŒ¹é…åˆ°intï¼Œåè€Œä»¤å®ƒåŒ¹é…ä¸åˆ°ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;çŸ¥é“äº†åŸå› ä¹‹åï¼Œè§£å†³å°±å¾ˆæ–¹ä¾¿äº†ï¼Œåªè¦é‡æ–°å®šä¹‰è¿™ä¸ªé»˜è®¤èµ‹å€¼è¿ç®—ç¬¦å°±å¥½ï¼š&lt;/p&gt;
&lt;p&gt;A&amp;amp;Â operator=(constÂ A&amp;amp; a) {Â /&lt;em&gt;&amp;hellip;&lt;/em&gt;/Â }&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Makefileå­¦ä¹ ç¬”è®°</title>
        <link>https://lxb.wiki/31dc5dc1/</link>
        <pubDate>Sun, 09 Oct 2016 22:21:25 +0000</pubDate>
        
        <guid>https://lxb.wiki/31dc5dc1/</guid>
        <description>&lt;p&gt;å…³äºMakefileæ€ä¹ˆå†™,å‚è€ƒhttp://blog.csdn.net/haoel/article/details/2886&lt;/p&gt;
&lt;p&gt;ä¸€ å…³äºç¼–è¯‘å’Œé“¾æ¥&lt;/p&gt;
&lt;p&gt;Â  Â  ä¸€èˆ¬æ¥è¯´ï¼Œæ— è®ºæ˜¯Cã€C++ã€è¿˜æ˜¯pasï¼Œé¦–å…ˆè¦æŠŠæºæ–‡ä»¶ç¼–è¯‘æˆä¸­é—´ä»£ç æ–‡ä»¶ï¼Œåœ¨Windowsä¸‹æ˜¯ .obj æ–‡ä»¶ï¼ŒUNIXä¸‹æ˜¯ .o æ–‡ä»¶ï¼Œå³ Object Fileï¼Œè¿™ä¸ªåŠ¨ä½œå«åšç¼–è¯‘ï¼ˆcompileï¼‰ã€‚ç„¶åå†æŠŠå¤§é‡çš„Object Fileåˆæˆæ‰§è¡Œæ–‡ä»¶ï¼Œè¿™ä¸ªåŠ¨ä½œå«ä½œé“¾æ¥ï¼ˆlinkï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ç¼–è¯‘æ—¶ï¼Œç¼–è¯‘å™¨éœ€è¦çš„æ˜¯è¯­æ³•çš„æ­£ç¡®ï¼Œå‡½æ•°ä¸å˜é‡çš„å£°æ˜çš„æ­£ç¡®ã€‚å¯¹äºåè€…ï¼Œé€šå¸¸æ˜¯ä½ éœ€è¦å‘Šè¯‰ç¼–è¯‘å™¨å¤´æ–‡ä»¶çš„æ‰€åœ¨ä½ç½®ï¼ˆå¤´æ–‡ä»¶ä¸­åº”è¯¥åªæ˜¯å£°æ˜ï¼Œè€Œå®šä¹‰åº”è¯¥æ”¾åœ¨C/C++æ–‡ä»¶ä¸­ï¼‰ï¼Œåªè¦æ‰€æœ‰çš„è¯­æ³•æ­£ç¡®ï¼Œç¼–è¯‘å™¨å°±å¯ä»¥ç¼–è¯‘å‡ºä¸­é—´ç›®æ ‡æ–‡ä»¶ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ¯ä¸ªæºæ–‡ä»¶éƒ½åº”è¯¥å¯¹åº”äºä¸€ä¸ªä¸­é—´ç›®æ ‡æ–‡ä»¶ï¼ˆOæ–‡ä»¶æˆ–æ˜¯OBJæ–‡ä»¶ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  é“¾æ¥æ—¶ï¼Œä¸»è¦æ˜¯é“¾æ¥å‡½æ•°å’Œå…¨å±€å˜é‡ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™äº›ä¸­é—´ç›®æ ‡æ–‡ä»¶ï¼ˆOæ–‡ä»¶æˆ–æ˜¯OBJæ–‡ä»¶ï¼‰æ¥é“¾æ¥æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚é“¾æ¥å™¨å¹¶ä¸ç®¡å‡½æ•°æ‰€åœ¨çš„æºæ–‡ä»¶ï¼Œåªç®¡å‡½æ•°çš„ä¸­é—´ç›®æ ‡æ–‡ä»¶ï¼ˆObject Fileï¼‰ï¼Œåœ¨å¤§å¤šæ•°æ—¶å€™ï¼Œç”±äºæºæ–‡ä»¶å¤ªå¤šï¼Œç¼–è¯‘ç”Ÿæˆçš„ä¸­é—´ç›®æ ‡æ–‡ä»¶å¤ªå¤šï¼Œè€Œåœ¨é“¾æ¥æ—¶éœ€è¦æ˜æ˜¾åœ°æŒ‡å‡ºä¸­é—´ç›®æ ‡æ–‡ä»¶åï¼Œè¿™å¯¹äºç¼–è¯‘å¾ˆä¸æ–¹ä¾¿ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¦ç»™ä¸­é—´ç›®æ ‡æ–‡ä»¶æ‰“ä¸ªåŒ…ï¼Œåœ¨Windowsä¸‹è¿™ç§åŒ…å«â€œåº“æ–‡ä»¶â€ï¼ˆLibrary File)ï¼Œä¹Ÿå°±æ˜¯ .lib æ–‡ä»¶ï¼Œåœ¨UNIXä¸‹ï¼Œæ˜¯Archive Fileï¼Œä¹Ÿå°±æ˜¯ .a æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  æ€»ç»“ä¸€ä¸‹ï¼Œæºæ–‡ä»¶é¦–å…ˆä¼šç”Ÿæˆä¸­é—´ç›®æ ‡æ–‡ä»¶ï¼Œå†ç”±ä¸­é—´ç›®æ ‡æ–‡ä»¶ç”Ÿæˆæ‰§è¡Œæ–‡ä»¶ã€‚åœ¨ç¼–è¯‘æ—¶ï¼Œç¼–è¯‘å™¨åªæ£€æµ‹ç¨‹åºè¯­æ³•ï¼Œå’Œå‡½æ•°ã€å˜é‡æ˜¯å¦è¢«å£°æ˜ã€‚å¦‚æœå‡½æ•°æœªè¢«å£°æ˜ï¼Œç¼–è¯‘å™¨ä¼šç»™å‡ºä¸€ä¸ªè­¦å‘Šï¼Œä½†å¯ä»¥ç”ŸæˆObject Fileã€‚è€Œåœ¨é“¾æ¥ç¨‹åºæ—¶ï¼Œé“¾æ¥å™¨ä¼šåœ¨æ‰€æœ‰çš„Object Fileä¸­æ‰¾å¯»å‡½æ•°çš„å®ç°ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œé‚£åˆ°å°±ä¼šæŠ¥é“¾æ¥é”™è¯¯ç ï¼ˆLinker Errorï¼‰ï¼Œåœ¨VCä¸‹ï¼Œè¿™ç§é”™è¯¯ä¸€èˆ¬æ˜¯ï¼šLink 2001é”™è¯¯ï¼Œæ„æ€è¯´æ˜¯è¯´ï¼Œé“¾æ¥å™¨æœªèƒ½æ‰¾åˆ°å‡½æ•°çš„å®ç°ã€‚ä½ éœ€è¦æŒ‡å®šå‡½æ•°çš„Object File.&lt;/p&gt;
&lt;p&gt;äºŒ Makefileçš„è§„åˆ™&lt;/p&gt;
&lt;p&gt;ä¸‰æ¡:&lt;/p&gt;
&lt;p&gt;Â  Â  1ï¼‰å¦‚æœè¿™ä¸ªå·¥ç¨‹æ²¡æœ‰ç¼–è¯‘è¿‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æ‰€æœ‰Cæ–‡ä»¶éƒ½è¦ç¼–è¯‘å¹¶è¢«é“¾æ¥ã€‚ Â Â Â  2ï¼‰å¦‚æœè¿™ä¸ªå·¥ç¨‹çš„æŸå‡ ä¸ªCæ–‡ä»¶è¢«ä¿®æ”¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªç¼–è¯‘è¢«ä¿®æ”¹çš„Cæ–‡ä»¶ï¼Œå¹¶é“¾æ¥ç›®æ ‡ç¨‹åºã€‚ Â Â Â  3ï¼‰å¦‚æœè¿™ä¸ªå·¥ç¨‹çš„å¤´æ–‡ä»¶è¢«æ”¹å˜äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ç¼–è¯‘å¼•ç”¨äº†è¿™å‡ ä¸ªå¤´æ–‡ä»¶çš„Cæ–‡ä»¶ï¼Œå¹¶é“¾æ¥ç›®æ ‡ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  target &amp;hellip; : prerequisites &amp;hellip; Â Â Â Â Â Â Â Â Â Â Â  command Â Â Â Â Â Â Â Â Â Â Â  &amp;hellip; Â Â Â Â Â Â Â Â Â Â Â  &amp;hellip;&lt;/p&gt;
&lt;p&gt;Â Â Â  targetä¹Ÿå°±æ˜¯ä¸€ä¸ªç›®æ ‡æ–‡ä»¶ï¼Œå¯ä»¥æ˜¯Object Fileï¼Œä¹Ÿå¯ä»¥æ˜¯æ‰§è¡Œæ–‡ä»¶,è¿˜å¯ä»¥æ˜¯ä¸€ä¸ªæ ‡ç­¾ï¼ˆLabelï¼‰.&lt;/p&gt;
&lt;p&gt;Â Â Â  prerequisiteså°±æ˜¯ï¼Œè¦ç”Ÿæˆé‚£ä¸ªtargetæ‰€éœ€è¦çš„ä¸œè¥¿(æ–‡ä»¶æˆ–æ˜¯ç›®æ ‡)ã€‚&lt;/p&gt;
&lt;p&gt;Â Â Â  commandä¹Ÿå°±æ˜¯makeéœ€è¦æ‰§è¡Œçš„å‘½ä»¤ã€‚ï¼ˆä»»æ„çš„Shellå‘½ä»¤ï¼‰&lt;/p&gt;
&lt;p&gt;Â  Â  è¿™æ˜¯ä¸€ä¸ªæ–‡ä»¶çš„ä¾èµ–å…³ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œtargetè¿™ä¸€ä¸ªæˆ–å¤šä¸ªçš„ç›®æ ‡æ–‡ä»¶ä¾èµ–äºprerequisitesä¸­çš„æ–‡ä»¶ï¼Œå…¶ç”Ÿæˆè§„åˆ™å®šä¹‰åœ¨commandä¸­ã€‚è¯´ç™½ä¸€ç‚¹å°±æ˜¯è¯´ï¼Œprerequisitesä¸­å¦‚æœæœ‰ä¸€ä¸ªä»¥ä¸Šçš„æ–‡ä»¶æ¯”targetæ–‡ä»¶è¦æ–°çš„è¯ï¼Œcommandæ‰€å®šä¹‰çš„å‘½ä»¤å°±ä¼šè¢«æ‰§è¡Œã€‚è¿™å°±æ˜¯Makefileçš„è§„åˆ™ã€‚ä¹Ÿå°±æ˜¯Makefileä¸­æœ€æ ¸å¿ƒçš„å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;For example:&lt;/p&gt;
&lt;p&gt;Â  Â  edit : main.o kbd.o command.o display.o \ Â Â Â Â Â Â Â Â Â Â  insert.o search.o files.o utils.o Â Â Â Â Â Â Â Â Â Â Â  cc -o edit main.o kbd.o command.o display.o \ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  insert.o search.o files.o utils.o&lt;/p&gt;
&lt;p&gt;Â Â Â  main.o : main.c defs.h Â Â Â Â Â Â Â Â Â Â Â  cc -c main.c Â Â Â  kbd.o : kbd.c defs.h command.h Â Â Â Â Â Â Â Â Â Â Â  cc -c kbd.c Â Â Â  command.o : command.c defs.h command.h Â Â Â Â Â Â Â Â Â Â Â  cc -c command.c Â Â Â  display.o : display.c defs.h buffer.h Â Â Â Â Â Â Â Â Â Â Â  cc -c display.c Â Â Â  insert.o : insert.c defs.h buffer.h Â Â Â Â Â Â Â Â Â Â Â  cc -c insert.c Â Â Â  search.o : search.c defs.h buffer.h Â Â Â Â Â Â Â Â Â Â Â  cc -c search.c Â Â Â  files.o : files.c defs.h buffer.h command.h Â Â Â Â Â Â Â Â Â Â Â  cc -c files.c Â Â Â  utils.o : utils.c defs.h Â Â Â Â Â Â Â Â Â Â Â  cc -c utils.c Â Â Â  clean : Â Â Â Â Â Â Â Â Â Â Â  rm edit main.o kbd.o command.o display.o \ Â Â Â Â Â Â Â Â Â Â Â Â Â Â  insert.o search.o files.o utils.o&lt;/p&gt;
&lt;p&gt;Â  Â  åœ¨å®šä¹‰å¥½ä¾èµ–å…³ç³»åï¼Œåç»­çš„é‚£ä¸€è¡Œå®šä¹‰äº†å¦‚ä½•ç”Ÿæˆç›®æ ‡æ–‡ä»¶çš„æ“ä½œç³»ç»Ÿå‘½ä»¤ï¼Œä¸€å®šè¦ä»¥ä¸€ä¸ª[Tab]é”®ä½œä¸ºå¼€å¤´(åœ¨Makefileä¸­çš„å‘½ä»¤ï¼Œå¿…é¡»è¦ä»¥[Tab]é”®å¼€å§‹)ã€‚makeå¹¶ä¸ç®¡å‘½ä»¤æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Œå®ƒåªç®¡æ‰§è¡Œæ‰€å®šä¹‰çš„å‘½ä»¤ã€‚makeä¼šæ¯”è¾ƒtargetsæ–‡ä»¶å’Œprerequisitesæ–‡ä»¶çš„ä¿®æ”¹æ—¥æœŸï¼Œå¦‚æœprerequisitesæ–‡ä»¶çš„æ—¥æœŸè¦æ¯”targetsæ–‡ä»¶çš„æ—¥æœŸè¦æ–°ï¼Œæˆ–è€…targetä¸å­˜åœ¨çš„è¯ï¼Œmakeå°±ä¼šæ‰§è¡Œåç»­å®šä¹‰çš„å‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  cleanä¸æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå®ƒåªä¸è¿‡æ˜¯ä¸€ä¸ªåŠ¨ä½œåå­—ï¼Œæœ‰ç‚¹åƒCè¯­è¨€ä¸­çš„lableä¸€æ ·ï¼Œå¦‚æœå…¶å†’å·åä»€ä¹ˆä¹Ÿæ²¡æœ‰ï¼Œé‚£ä¹ˆmakeå°±ä¸ä¼šè‡ªåŠ¨å»æ‰¾æ–‡ä»¶çš„ä¾èµ–æ€§ï¼Œä¹Ÿå°±ä¸ä¼šè‡ªåŠ¨æ‰§è¡Œå…¶åæ‰€å®šä¹‰çš„å‘½ä»¤ã€‚è¦æ‰§è¡Œå…¶åçš„å‘½ä»¤ï¼Œå°±è¦åœ¨makeå‘½ä»¤åæ˜æ˜¾å¾—æŒ‡å‡ºè¿™ä¸ªlableçš„åå­—ã€‚è¿™æ ·çš„æ–¹æ³•éå¸¸æœ‰ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªmakefileä¸­å®šä¹‰ä¸ç”¨çš„ç¼–è¯‘æˆ–æ˜¯å’Œç¼–è¯‘æ— å…³çš„å‘½ä»¤ï¼Œæ¯”å¦‚ç¨‹åºçš„æ‰“åŒ…ï¼Œç¨‹åºçš„å¤‡ä»½ï¼Œç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‰ Makefileé‡Œæœ‰ä»€ä¹ˆ&lt;/p&gt;
&lt;p&gt;1 æ˜¾ç¤ºè§„åˆ™&lt;/p&gt;
&lt;p&gt;2 éšæ™¦è§„åˆ™&lt;/p&gt;
&lt;p&gt;3 å˜é‡çš„å®šä¹‰&lt;/p&gt;
&lt;p&gt;4 æ–‡ä»¶æŒ‡ç¤º:Â å…¶åŒ…æ‹¬äº†ä¸‰ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯åœ¨ä¸€ä¸ªMakefileä¸­å¼•ç”¨å¦ä¸€ä¸ªMakefileï¼Œå°±åƒCè¯­è¨€ä¸­çš„includeä¸€æ ·ï¼›å¦ä¸€ä¸ªæ˜¯æŒ‡æ ¹æ®æŸäº›æƒ…å†µæŒ‡å®šMakefileä¸­çš„æœ‰æ•ˆéƒ¨åˆ†ï¼Œå°±åƒCè¯­è¨€ä¸­çš„é¢„ç¼–è¯‘#ifä¸€æ ·ï¼›è¿˜æœ‰å°±æ˜¯å®šä¹‰ä¸€ä¸ªå¤šè¡Œçš„å‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;5 æ³¨é‡Š:Â Makefileä¸­åªæœ‰è¡Œæ³¨é‡Šï¼Œå’ŒUNIXçš„Shellè„šæœ¬ä¸€æ ·ï¼Œå…¶æ³¨é‡Šæ˜¯ç”¨â€œ#â€å­—ç¬¦ï¼Œè¿™ä¸ªå°±åƒC/C++ä¸­çš„â€œ//â€ä¸€æ ·ã€‚å¦‚æœä½ è¦åœ¨ä½ çš„Makefileä¸­ä½¿ç”¨â€œ#â€å­—ç¬¦ï¼Œå¯ä»¥ç”¨åæ–œæ¡†è¿›è¡Œè½¬ä¹‰ï¼Œå¦‚ï¼šâ€œ#â€ã€‚&lt;/p&gt;
&lt;p&gt;å›› Makefileçš„æ–‡ä»¶å&lt;/p&gt;
&lt;p&gt;Â  Â  é»˜è®¤æƒ…å†µä¸‹ï¼Œmakeå‘½ä»¤ä¼šåœ¨å½“å‰ç›®å½•ä¸‹æŒ‰é¡ºåºæ‰¾å¯»æ–‡ä»¶åä¸ºâ€œGNUmakefileâ€ã€â€œmakefileâ€ã€â€œMakefileâ€çš„æ–‡ä»¶ï¼Œæ‰¾åˆ°äº†å°±è§£é‡Šè¿™ä¸ªæ–‡ä»¶ã€‚åœ¨è¿™ä¸‰ä¸ªæ–‡ä»¶åä¸­ï¼Œæœ€å¥½ä½¿ç”¨â€œMakefileâ€è¿™ä¸ªæ–‡ä»¶åï¼Œå› ä¸ºè¿™ä¸ªæ–‡ä»¶åç¬¬ä¸€ä¸ªå­—ç¬¦ä¸ºå¤§å†™ï¼Œè¿™æ ·æœ‰ä¸€ç§æ˜¾ç›®çš„æ„Ÿè§‰ã€‚æœ€å¥½ä¸è¦ç”¨â€œGNUmakefileâ€ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯GNUçš„makeè¯†åˆ«çš„ã€‚æœ‰å¦å¤–ä¸€äº›makeåªå¯¹å…¨å°å†™çš„â€œmakefileâ€æ–‡ä»¶åæ•æ„Ÿï¼Œä½†æ˜¯åŸºæœ¬ä¸Šæ¥è¯´ï¼Œå¤§å¤šæ•°çš„makeéƒ½æ”¯æŒâ€œmakefileâ€å’Œâ€œMakefileâ€è¿™ä¸¤ç§é»˜è®¤æ–‡ä»¶åã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åˆ«çš„æ–‡ä»¶åæ¥ä¹¦å†™Makefileï¼Œæ¯”å¦‚ï¼šâ€œMake.Linuxâ€ï¼Œâ€œMake.Solarisâ€ï¼Œâ€œMake.AIXâ€ç­‰ï¼Œå¦‚æœè¦æŒ‡å®šç‰¹å®šçš„Makefileï¼Œå¯ä»¥ä½¿ç”¨makeçš„â€œ-fâ€å’Œâ€œ&amp;ndash;fileâ€å‚æ•°ï¼Œå¦‚ï¼šmake -f Make.Linuxæˆ–make &amp;ndash;file Make.AIXã€‚&lt;/p&gt;
&lt;p&gt;äº”Â å¼•ç”¨å…¶å®ƒçš„Makefile&lt;/p&gt;
&lt;p&gt;includeçš„è¯­æ³•æ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  include&lt;/p&gt;
&lt;p&gt;filenameå¯ä»¥æ˜¯å½“å‰æ“ä½œç³»ç»ŸShellçš„æ–‡ä»¶æ¨¡å¼ï¼ˆå¯ä»¥ä¿å«è·¯å¾„å’Œé€šé…ç¬¦ï¼‰&lt;/p&gt;
&lt;p&gt;Â  Â  åœ¨includeå‰é¢å¯ä»¥æœ‰ä¸€äº›ç©ºå­—ç¬¦ï¼Œä½†æ˜¯ç»ä¸èƒ½æ˜¯[Tab]é”®å¼€å§‹ã€‚includeå’Œå¯ä»¥ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼éš”å¼€ã€‚ä¾‹å¦‚,æœ‰è¿™æ ·å‡ ä¸ªMakefileï¼ša.mkã€b.mkã€c.mkï¼Œè¿˜æœ‰ä¸€ä¸ªæ–‡ä»¶å«foo.makeï¼Œä»¥åŠä¸€ä¸ªå˜é‡$(bar)ï¼Œå…¶åŒ…å«äº†e.mkå’Œf.mkï¼Œé‚£ä¹ˆï¼Œä¸‹é¢çš„è¯­å¥ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  include foo.make *.mk $(bar)&lt;/p&gt;
&lt;p&gt;Â Â Â  ç­‰ä»·äºï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  include foo.make a.mk b.mk c.mk e.mk f.mk&lt;/p&gt;
&lt;p&gt;makeå‘½ä»¤å¼€å§‹æ—¶ï¼Œä¼šæŠŠæ‰¾å¯»includeæ‰€æŒ‡å‡ºçš„å…¶å®ƒMakefileï¼Œå¹¶æŠŠå…¶å†…å®¹å®‰ç½®åœ¨å½“å‰çš„ä½ç½®ã€‚å°±å¥½åƒC/C++çš„#includeæŒ‡ä»¤ä¸€æ ·ã€‚å¦‚æœæ–‡ä»¶éƒ½æ²¡æœ‰æŒ‡å®šç»å¯¹è·¯å¾„æˆ–æ˜¯ç›¸å¯¹è·¯å¾„çš„è¯ï¼Œmakeä¼šåœ¨å½“å‰ç›®å½•ä¸‹é¦–å…ˆå¯»æ‰¾ï¼Œå¦‚æœå½“å‰ç›®å½•ä¸‹æ²¡æœ‰æ‰¾åˆ°ï¼Œé‚£ä¹ˆï¼Œmakeè¿˜ä¼šåœ¨ä¸‹é¢çš„å‡ ä¸ªç›®å½•ä¸‹æ‰¾ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  1ã€å¦‚æœmakeæ‰§è¡Œæ—¶ï¼Œæœ‰â€œ-Iâ€æˆ–â€œ&amp;ndash;include-dirâ€å‚æ•°ï¼Œé‚£ä¹ˆmakeå°±ä¼šåœ¨è¿™ä¸ªå‚æ•°æ‰€æŒ‡å®šçš„ç›®å½•ä¸‹å»å¯»æ‰¾ã€‚ Â Â Â  2ã€å¦‚æœç›®å½•/includeï¼ˆä¸€èˆ¬æ˜¯ï¼š/usr/local/binæˆ–/usr/includeï¼‰å­˜åœ¨çš„è¯ï¼Œmakeä¹Ÿä¼šå»æ‰¾ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæœ‰æ–‡ä»¶æ²¡æœ‰æ‰¾åˆ°çš„è¯ï¼Œmakeä¼šç”Ÿæˆä¸€æ¡è­¦å‘Šä¿¡æ¯ï¼Œä½†ä¸ä¼šé©¬ä¸Šå‡ºç°è‡´å‘½é”™è¯¯ã€‚å®ƒä¼šç»§ç»­è½½å…¥å…¶å®ƒçš„æ–‡ä»¶ï¼Œä¸€æ—¦å®Œæˆmakefileçš„è¯»å–ï¼Œmakeä¼šå†é‡è¯•è¿™äº›æ²¡æœ‰æ‰¾åˆ°ï¼Œæˆ–æ˜¯ä¸èƒ½è¯»å–çš„æ–‡ä»¶ï¼Œå¦‚æœè¿˜æ˜¯ä¸è¡Œï¼Œmakeæ‰ä¼šå‡ºç°ä¸€æ¡è‡´å‘½ä¿¡æ¯ã€‚å¦‚æœä½ æƒ³è®©makeä¸ç†é‚£äº›æ— æ³•è¯»å–çš„æ–‡ä»¶ï¼Œè€Œç»§ç»­æ‰§è¡Œï¼Œä½ å¯ä»¥åœ¨includeå‰åŠ ä¸€ä¸ªå‡å·â€œ-â€ã€‚å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  -include Â Â Â  å…¶è¡¨ç¤ºï¼Œæ— è®ºincludeè¿‡ç¨‹ä¸­å‡ºç°ä»€ä¹ˆé”™è¯¯ï¼Œéƒ½ä¸è¦æŠ¥é”™ç»§ç»­æ‰§è¡Œã€‚å’Œå…¶å®ƒç‰ˆæœ¬makeå…¼å®¹çš„ç›¸å…³å‘½ä»¤æ˜¯sincludeï¼Œå…¶ä½œç”¨å’Œè¿™ä¸€ä¸ªæ˜¯ä¸€æ ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;å…­ ç¯å¢ƒå˜é‡ MAKEFILES&lt;/p&gt;
&lt;p&gt;Â  Â  å¦‚æœå½“å‰ç¯å¢ƒä¸­å®šä¹‰äº†ç¯å¢ƒå˜é‡MAKEFILESï¼Œé‚£ä¹ˆï¼Œmakeä¼šæŠŠè¿™ä¸ªå˜é‡ä¸­çš„å€¼åšä¸€ä¸ªç±»ä¼¼äºincludeçš„åŠ¨ä½œã€‚è¿™ä¸ªå˜é‡ä¸­çš„å€¼æ˜¯å…¶å®ƒçš„Makefileï¼Œç”¨ç©ºæ ¼åˆ†éš”ã€‚åªæ˜¯ï¼Œå®ƒå’Œincludeä¸åŒçš„æ˜¯ï¼Œä»è¿™ä¸ªç¯å¢ƒå˜é‡ä¸­å¼•å…¥çš„Makefileçš„â€œç›®æ ‡â€ä¸ä¼šèµ·ä½œç”¨ï¼Œå¦‚æœç¯å¢ƒå˜é‡ä¸­å®šä¹‰çš„æ–‡ä»¶å‘ç°é”™è¯¯ï¼Œmakeä¹Ÿä¼šä¸ç†ã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  ä½†æ˜¯åœ¨è¿™é‡Œè¿˜æ˜¯å»ºè®®ä¸è¦ä½¿ç”¨è¿™ä¸ªç¯å¢ƒå˜é‡ï¼Œå› ä¸ºåªè¦è¿™ä¸ªå˜é‡ä¸€è¢«å®šä¹‰ï¼Œé‚£ä¹ˆå½“ä½¿ç”¨makeæ—¶ï¼Œæ‰€æœ‰çš„Makefileéƒ½ä¼šå—åˆ°å®ƒçš„å½±å“ï¼Œè¿™ç»ä¸æ˜¯æƒ³çœ‹åˆ°çš„ã€‚åœ¨è¿™é‡Œæè¿™ä¸ªäº‹ï¼Œåªæ˜¯ä¸ºäº†å‘Šè¯‰å¤§å®¶ï¼Œä¹Ÿè®¸æœ‰æ—¶å€™ä½ çš„Makefileå‡ºç°äº†æ€ªäº‹ï¼Œé‚£ä¹ˆä½ å¯ä»¥çœ‹çœ‹å½“å‰ç¯å¢ƒä¸­æœ‰æ²¡æœ‰å®šä¹‰è¿™ä¸ªå˜é‡ã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  å½“makeåµŒå¥—è°ƒç”¨æ—¶ï¼ˆå‚è§å‰é¢çš„â€œåµŒå¥—è°ƒç”¨â€ç« èŠ‚ï¼‰ï¼Œä¸Šå±‚Makefileä¸­å®šä¹‰çš„å˜é‡ä¼šä»¥ç³»ç»Ÿç¯å¢ƒå˜é‡çš„æ–¹å¼ä¼ é€’åˆ°ä¸‹å±‚çš„Makefileä¸­ã€‚å½“ç„¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰é€šè¿‡å‘½ä»¤è¡Œè®¾ç½®çš„å˜é‡ä¼šè¢«ä¼ é€’ã€‚è€Œå®šä¹‰åœ¨æ–‡ä»¶ä¸­çš„å˜é‡ï¼Œå¦‚æœè¦å‘ä¸‹å±‚Makefileä¼ é€’ï¼Œåˆ™éœ€è¦ä½¿ç”¨exprotå…³é”®å­—æ¥å£°æ˜.&lt;/p&gt;
&lt;p&gt;ä¸ƒ å…³äºå‘½ä»¤&lt;/p&gt;
&lt;p&gt;Â  Â  é€šå¸¸ï¼Œmakeä¼šæŠŠå…¶è¦æ‰§è¡Œçš„å‘½ä»¤è¡Œåœ¨å‘½ä»¤æ‰§è¡Œå‰è¾“å‡ºåˆ°å±å¹•ä¸Šã€‚å½“æˆ‘ä»¬ç”¨â€œ@â€å­—ç¬¦åœ¨å‘½ä»¤è¡Œå‰ï¼Œé‚£ä¹ˆï¼Œè¿™ä¸ªå‘½ä»¤å°†ä¸è¢«makeæ˜¾ç¤ºå‡ºæ¥ï¼Œæœ€å…·ä»£è¡¨æ€§çš„ä¾‹å­æ˜¯ï¼Œæˆ‘ä»¬ç”¨è¿™ä¸ªåŠŸèƒ½æ¥åƒå±å¹•æ˜¾ç¤ºä¸€äº›ä¿¡æ¯ã€‚å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  @echo æ­£åœ¨ç¼–è¯‘XXXæ¨¡å—&amp;hellip;&amp;hellip;&lt;/p&gt;
&lt;p&gt;å½“makeæ‰§è¡Œæ—¶ï¼Œä¼šè¾“å‡ºâ€œæ­£åœ¨ç¼–è¯‘XXXæ¨¡å—&amp;hellip;&amp;hellip;â€å­—ä¸²ï¼Œä½†ä¸ä¼šè¾“å‡ºå‘½ä»¤ï¼Œå¦‚æœæ²¡æœ‰â€œ@â€ï¼Œé‚£ä¹ˆï¼Œmakeå°†è¾“å‡ºï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  echo æ­£åœ¨ç¼–è¯‘XXXæ¨¡å—&amp;hellip;&amp;hellip; Â Â Â  æ­£åœ¨ç¼–è¯‘XXXæ¨¡å—&amp;hellip;&amp;hellip;&lt;/p&gt;
&lt;p&gt;å¦‚æœmakeæ‰§è¡Œæ—¶ï¼Œå¸¦å…¥makeå‚æ•°â€œ-nâ€æˆ–â€œ&amp;ndash;just-printâ€ï¼Œé‚£ä¹ˆå…¶åªæ˜¯æ˜¾ç¤ºå‘½ä»¤ï¼Œä½†ä¸ä¼šæ‰§è¡Œå‘½ä»¤ï¼Œè¿™ä¸ªåŠŸèƒ½å¾ˆæœ‰åˆ©äºè°ƒè¯•Makefileï¼Œçœ‹çœ‹ä¹¦å†™çš„å‘½ä»¤æ‰§è¡Œèµ·æ¥æ˜¯ä»€ä¹ˆæ ·å­çš„æˆ–æ˜¯ä»€ä¹ˆé¡ºåºçš„,è€Œmakeå‚æ•°â€œ-sâ€æˆ–â€œ&amp;ndash;slientâ€åˆ™æ˜¯å…¨é¢ç¦æ­¢å‘½ä»¤çš„æ˜¾ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  å¦‚æœè¦è®©ä¸Šä¸€æ¡å‘½ä»¤çš„ç»“æœåº”ç”¨åœ¨ä¸‹ä¸€æ¡å‘½ä»¤æ—¶ï¼Œåº”è¯¥ä½¿ç”¨åˆ†å·åˆ†éš”è¿™ä¸¤æ¡å‘½ä»¤ã€‚æ¯”å¦‚ç¬¬ä¸€æ¡å‘½ä»¤æ˜¯cdï¼Œå¸Œæœ›ç¬¬äºŒæ¡å‘½ä»¤åœ¨cdä¹‹åçš„åŸºç¡€ä¸Šè¿è¡Œï¼Œé‚£ä¹ˆå°±ä¸èƒ½æŠŠè¿™ä¸¤æ¡å‘½ä»¤å†™åœ¨ä¸¤è¡Œä¸Šï¼Œè€Œåº”è¯¥æŠŠè¿™ä¸¤æ¡å‘½ä»¤å†™åœ¨ä¸€è¡Œä¸Šï¼Œç”¨åˆ†å·åˆ†éš”ã€‚å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  ç¤ºä¾‹ä¸€ï¼š Â Â Â Â Â Â Â  exec: Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  cd /home/hchen Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  pwd&lt;/p&gt;
&lt;p&gt;Â Â Â  ç¤ºä¾‹äºŒï¼š Â Â Â Â Â Â Â  exec: Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  cd /home/hchen; pwd&lt;/p&gt;
&lt;p&gt;å½“æ‰§è¡Œâ€œmake execâ€æ—¶ï¼Œç¬¬ä¸€ä¸ªä¾‹å­ä¸­çš„cdæ²¡æœ‰ä½œç”¨ï¼Œpwdä¼šæ‰“å°å‡ºå½“å‰çš„Makefileç›®å½•ï¼Œè€Œç¬¬äºŒä¸ªä¾‹å­ä¸­ï¼Œcdå°±èµ·ä½œç”¨äº†ï¼Œpwdä¼šæ‰“å°å‡ºâ€œ/home/hchenâ€ã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  æ¯å½“å‘½ä»¤è¿è¡Œå®Œåï¼Œmakeä¼šæ£€æµ‹æ¯ä¸ªå‘½ä»¤çš„è¿”å›ç ï¼Œå¦‚æœå‘½ä»¤è¿”å›æˆåŠŸï¼Œé‚£ä¹ˆmakeä¼šæ‰§è¡Œä¸‹ä¸€æ¡å‘½ä»¤ï¼Œå½“è§„åˆ™ä¸­æ‰€æœ‰çš„å‘½ä»¤æˆåŠŸè¿”å›åï¼Œè¿™ä¸ªè§„åˆ™å°±ç®—æ˜¯æˆåŠŸå®Œæˆäº†ã€‚å¦‚æœä¸€ä¸ªè§„åˆ™ä¸­çš„æŸä¸ªå‘½ä»¤å‡ºé”™äº†ï¼ˆå‘½ä»¤é€€å‡ºç éé›¶ï¼‰ï¼Œé‚£ä¹ˆmakeå°±ä¼šç»ˆæ­¢æ‰§è¡Œå½“å‰è§„åˆ™ï¼Œè¿™å°†æœ‰å¯èƒ½ç»ˆæ­¢æ‰€æœ‰è§„åˆ™çš„æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  æœ‰äº›æ—¶å€™ï¼Œå‘½ä»¤çš„å‡ºé”™å¹¶ä¸è¡¨ç¤ºå°±æ˜¯é”™è¯¯çš„ã€‚ä¾‹å¦‚mkdirï¼Œå¦‚æœç›®å½•ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆmkdirå°±æˆåŠŸæ‰§è¡Œï¼Œä¸‡äº‹å¤§å‰ï¼Œå¦‚æœç›®å½•å­˜åœ¨ï¼Œé‚£ä¹ˆå°±å‡ºé”™äº†ã€‚ä¹‹æ‰€ä»¥ä½¿ç”¨mkdirçš„æ„æ€å°±æ˜¯ä¸€å®šè¦æœ‰è¿™æ ·çš„ä¸€ä¸ªç›®å½•ï¼Œåªè¦è¿™ä¸ªç›®å½•å­˜åœ¨äº†,å°±ä¸å¸Œæœ›mkdirå‡ºé”™è€Œç»ˆæ­¢è§„åˆ™çš„è¿è¡Œã€‚ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œå¿½ç•¥å‘½ä»¤çš„å‡ºé”™ï¼Œå¯ä»¥åœ¨Makefileçš„å‘½ä»¤è¡Œå‰åŠ ä¸€ä¸ªå‡å·â€œ-â€ï¼ˆåœ¨Tabé”®ä¹‹åï¼‰ï¼Œæ ‡è®°ä¸ºä¸ç®¡å‘½ä»¤å‡ºä¸å‡ºé”™éƒ½è®¤ä¸ºæ˜¯æˆåŠŸçš„ã€‚å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;Â Â  clean: Â Â Â Â Â Â Â Â Â Â Â  -rm -f *.o&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ä¸ªå…¨å±€çš„åŠæ³•æ˜¯ï¼Œç»™makeåŠ ä¸Šâ€œ-iâ€æˆ–æ˜¯â€œ&amp;ndash;ignore-errorsâ€å‚æ•°ï¼Œé‚£ä¹ˆï¼ŒMakefileä¸­æ‰€æœ‰å‘½ä»¤éƒ½ä¼šå¿½ç•¥é”™è¯¯ã€‚è€Œå¦‚æœä¸€ä¸ªè§„åˆ™æ˜¯ä»¥â€œ.IGNOREâ€ä½œä¸ºç›®æ ‡çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªè§„åˆ™ä¸­çš„æ‰€æœ‰å‘½ä»¤å°†ä¼šå¿½ç•¥é”™è¯¯ã€‚è¿˜æœ‰ä¸€ä¸ªè¦æä¸€ä¸‹çš„makeçš„å‚æ•°çš„æ˜¯â€œ-kâ€æˆ–æ˜¯â€œ&amp;ndash;keep-goingâ€ï¼Œè¿™ä¸ªå‚æ•°çš„æ„æ€æ˜¯ï¼Œå¦‚æœæŸè§„åˆ™ä¸­çš„å‘½ä»¤å‡ºé”™äº†ï¼Œé‚£ä¹ˆå°±ç»ˆæ­¢è¯¥è§„åˆ™çš„æ‰§è¡Œï¼Œä½†ç»§ç»­æ‰§è¡Œå…¶å®ƒè§„åˆ™ã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  åœ¨ä¸€äº›å¤§çš„å·¥ç¨‹ä¸­ï¼Œä¼šæŠŠä¸åŒæ¨¡å—æˆ–æ˜¯ä¸åŒåŠŸèƒ½çš„æºæ–‡ä»¶æ”¾åœ¨ä¸åŒçš„ç›®å½•ä¸­ï¼Œè¿™ç§æƒ…å†µå¯ä»¥åœ¨æ¯ä¸ªç›®å½•ä¸­éƒ½ä¹¦å†™ä¸€ä¸ªè¯¥ç›®å½•çš„Makefileï¼Œä¾‹å¦‚ï¼Œæœ‰ä¸€ä¸ªå­ç›®å½•å«subdirï¼Œè¿™ä¸ªç›®å½•ä¸‹æœ‰ä¸ªMakefileæ–‡ä»¶ï¼Œæ¥æŒ‡æ˜äº†è¿™ä¸ªç›®å½•ä¸‹æ–‡ä»¶çš„ç¼–è¯‘è§„åˆ™ã€‚é‚£ä¹ˆæ€»æ§çš„Makefileå¯ä»¥è¿™æ ·ä¹¦å†™ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  subsystem: Â Â Â Â Â Â Â Â Â Â Â  cd subdir &amp;amp;&amp;amp; $(MAKE)&lt;/p&gt;
&lt;p&gt;å…¶ç­‰ä»·äºï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  subsystem: Â Â Â Â Â Â Â Â Â Â Â  $(MAKE) -C subdir&lt;/p&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªä¾‹å­çš„æ„æ€éƒ½æ˜¯å…ˆè¿›å…¥â€œsubdirâ€ç›®å½•ï¼Œç„¶åæ‰§è¡Œmakeå‘½ä»¤ã€‚æ€»æ§Makefileçš„å˜é‡å¯ä»¥ä¼ é€’åˆ°ä¸‹çº§çš„Makefileä¸­ï¼Œä½†æ˜¯ä¸ä¼šè¦†ç›–ä¸‹å±‚çš„Makefileä¸­æ‰€å®šä¹‰çš„å˜é‡ï¼Œé™¤éæŒ‡å®šäº†â€œ-eâ€å‚æ•°ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœè¦ä¼ é€’å˜é‡åˆ°ä¸‹çº§Makefileä¸­ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨è¿™æ ·çš„å£°æ˜ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  export&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸æƒ³è®©æŸäº›å˜é‡ä¼ é€’åˆ°ä¸‹çº§Makefileä¸­ï¼Œé‚£ä¹ˆå¯ä»¥è¿™æ ·å£°æ˜ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  unexport&lt;/p&gt;
&lt;p&gt;å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  ç¤ºä¾‹ä¸€ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â  export variable = value&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â  å…¶ç­‰ä»·äºï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â  variable = value Â Â Â Â Â Â Â  export variable&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â  å…¶ç­‰ä»·äºï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â  export variable := value&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â  å…¶ç­‰ä»·äºï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â  variable := value Â Â Â Â Â Â Â  export variable&lt;/p&gt;
&lt;p&gt;Â Â Â  ç¤ºä¾‹äºŒï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â  export variable += value&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â  å…¶ç­‰ä»·äºï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â Â Â Â Â  variable += value Â Â Â Â Â Â Â  export variable&lt;/p&gt;
&lt;p&gt;å¦‚æœè¦ä¼ é€’æ‰€æœ‰çš„å˜é‡ï¼Œé‚£ä¹ˆï¼Œåªè¦ä¸€ä¸ªexportå°±è¡Œäº†,åé¢ä»€ä¹ˆä¹Ÿä¸ç”¨è·Ÿï¼Œè¡¨ç¤ºä¼ é€’æ‰€æœ‰çš„å˜é‡ã€‚&lt;/p&gt;
&lt;p&gt;å…« å˜é‡&lt;/p&gt;
&lt;p&gt;ä¸¤ç§é«˜çº§ç”¨æ³•:&lt;/p&gt;
&lt;p&gt;Â  Â  Â  Â  Â æˆ‘ä»¬å¯ä»¥æ›¿æ¢å˜é‡ä¸­çš„å…±æœ‰çš„éƒ¨åˆ†ï¼Œå…¶æ ¼å¼æ˜¯â€œ$(var:a=b)â€æˆ–æ˜¯â€œ${var:a=b}â€ï¼Œå…¶æ„æ€æ˜¯ï¼ŒæŠŠå˜é‡â€œvarâ€ä¸­æ‰€æœ‰ä»¥â€œaâ€å­—ä¸²â€œç»“å°¾â€çš„â€œaâ€æ›¿æ¢æˆâ€œbâ€å­—ä¸²ã€‚è¿™é‡Œçš„â€œç»“å°¾â€æ„æ€æ˜¯â€œç©ºæ ¼â€æˆ–æ˜¯â€œç»“æŸç¬¦â€ã€‚&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  foo := a.o b.o c.o Â Â Â  bar := $(foo:.o=.c)&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å…ˆå®šä¹‰äº†ä¸€ä¸ªâ€œ$(foo)â€å˜é‡ï¼Œè€Œç¬¬äºŒè¡Œçš„æ„æ€æ˜¯æŠŠâ€œ$(foo)â€ä¸­æ‰€æœ‰çš„â€œ.oâ€å­—ä¸²â€œç»“å°¾â€å…¨éƒ¨æ›¿æ¢æˆâ€œ.câ€ï¼Œæ‰€ä»¥â€œ$(bar)â€çš„å€¼å°±æ˜¯â€œa.c b.c c.câ€ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒç§é«˜çº§ç”¨æ³•æ˜¯â€”â€”â€œæŠŠå˜é‡çš„å€¼å†å½“æˆå˜é‡â€ã€‚å…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  x = y Â Â Â  y = z Â Â Â  a := $($(x))&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ$(x)çš„å€¼æ˜¯â€œyâ€ï¼Œæ‰€ä»¥$($(x))å°±æ˜¯$(y)ï¼Œäºæ˜¯$(a)çš„å€¼å°±æ˜¯â€œzâ€ã€‚ï¼ˆæ³¨æ„ï¼Œæ˜¯â€œx=yâ€ï¼Œè€Œä¸æ˜¯â€œx=$(y)â€ï¼‰&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨æ›´å¤šçš„å±‚æ¬¡ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  x = y Â Â Â  y = z Â Â Â  z = u Â Â Â  a := $($($(x)))&lt;/p&gt;
&lt;p&gt;è¿™é‡Œçš„$(a)çš„å€¼æ˜¯â€œuâ€.&lt;/p&gt;
&lt;p&gt;Â  Â  è¿˜æœ‰ä¸€ç§è®¾ç½®å˜é‡å€¼çš„æ–¹æ³•æ˜¯ä½¿ç”¨defineå…³é”®å­—ã€‚ä½¿ç”¨defineå…³é”®å­—è®¾ç½®å˜é‡çš„å€¼å¯ä»¥æœ‰æ¢è¡Œï¼Œè¿™æœ‰åˆ©äºå®šä¹‰ä¸€ç³»åˆ—çš„å‘½ä»¤.å®šä¹‰æ˜¯ä»¥endefå…³é”®å­—ç»“æŸ,å…¶å·¥ä½œæ–¹å¼å’Œâ€œ=â€æ“ä½œç¬¦ä¸€æ ·ã€‚å˜é‡çš„å€¼å¯ä»¥åŒ…å«å‡½æ•°ã€å‘½ä»¤ã€æ–‡å­—ï¼Œæˆ–æ˜¯å…¶å®ƒå˜é‡ã€‚å‘½ä»¤éœ€è¦ä»¥[Tab]é”®å¼€å¤´ï¼Œdefineå®šä¹‰çš„å‘½ä»¤ä¹Ÿä¸ä¾‹å¤–.&lt;/p&gt;
&lt;p&gt;ä¸‹é¢çš„è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†defineçš„ç”¨æ³•ï¼š&lt;/p&gt;
&lt;p&gt;define two-lines Â Â Â  echo foo Â Â Â  echo $(bar) endef&lt;/p&gt;
&lt;p&gt;ä¹ ç›®æ ‡å˜é‡&lt;/p&gt;
&lt;p&gt;Â  Â  å‰é¢æ‰€æœ‰çš„åœ¨Makefileä¸­å®šä¹‰çš„å˜é‡éƒ½æ˜¯â€œå…¨å±€å˜é‡â€ï¼Œåœ¨æ•´ä¸ªæ–‡ä»¶ï¼Œéƒ½å¯ä»¥è®¿é—®è¿™äº›å˜é‡ã€‚å½“ç„¶ï¼Œâ€œè‡ªåŠ¨åŒ–å˜é‡â€é™¤å¤–ï¼Œå¦‚â€œ$&amp;lt;â€ç­‰è¿™ç§ç±»é‡çš„è‡ªåŠ¨åŒ–å˜é‡å°±å±äºâ€œè§„åˆ™å‹å˜é‡â€ï¼Œè¿™ç§å˜é‡çš„å€¼ä¾èµ–äºè§„åˆ™çš„ç›®æ ‡å’Œä¾èµ–ç›®æ ‡çš„å®šä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  å½“ç„¶ï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥ä¸ºæŸä¸ªç›®æ ‡è®¾ç½®å±€éƒ¨å˜é‡ï¼Œè¿™ç§å˜é‡è¢«ç§°ä¸ºâ€œTarget-specific Variableâ€ï¼Œå®ƒå¯ä»¥å’Œâ€œå…¨å±€å˜é‡â€åŒåï¼Œå› ä¸ºå®ƒçš„ä½œç”¨èŒƒå›´åªåœ¨è¿™æ¡è§„åˆ™ä»¥åŠè¿å¸¦è§„åˆ™ä¸­ï¼Œæ‰€ä»¥å…¶å€¼ä¹Ÿåªåœ¨ä½œç”¨èŒƒå›´å†…æœ‰æ•ˆ,è€Œä¸ä¼šå½±å“è§„åˆ™é“¾ä»¥å¤–çš„å…¨å±€å˜é‡çš„å€¼ã€‚&lt;/p&gt;
&lt;p&gt;å…¶è¯­æ³•æ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  :&lt;/p&gt;
&lt;p&gt;Â Â Â  : overide&lt;/p&gt;
&lt;p&gt;å¯ä»¥æ˜¯å„ç§èµ‹å€¼è¡¨è¾¾å¼ï¼Œå¦‚â€œ=â€ã€â€œ:=â€ã€â€œ+=â€æˆ–æ˜¯â€œï¼Ÿ=â€ã€‚ç¬¬äºŒä¸ªè¯­æ³•æ˜¯é’ˆå¯¹äºmakeå‘½ä»¤è¡Œå¸¦å…¥çš„å˜é‡ï¼Œæˆ–æ˜¯ç³»ç»Ÿç¯å¢ƒå˜é‡ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªç‰¹æ€§éå¸¸çš„æœ‰ç”¨ï¼Œå½“æˆ‘ä»¬è®¾ç½®äº†è¿™æ ·ä¸€ä¸ªå˜é‡ï¼Œè¿™ä¸ªå˜é‡ä¼šä½œç”¨åˆ°ç”±è¿™ä¸ªç›®æ ‡æ‰€å¼•å‘çš„æ‰€æœ‰çš„è§„åˆ™ä¸­å»ã€‚å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  prog : CFLAGS = -g Â Â Â  prog : prog.o foo.o bar.o Â Â Â Â Â Â Â Â Â Â Â  $(CC) $(CFLAGS) prog.o foo.o bar.o&lt;/p&gt;
&lt;p&gt;Â Â Â  prog.o : prog.c Â Â Â Â Â Â Â Â Â Â Â  $(CC) $(CFLAGS) prog.c&lt;/p&gt;
&lt;p&gt;Â Â Â  foo.o : foo.c Â Â Â Â Â Â Â Â Â Â Â  $(CC) $(CFLAGS) foo.c&lt;/p&gt;
&lt;p&gt;Â Â Â  bar.o : bar.c Â Â Â Â Â Â Â Â Â Â Â  $(CC) $(CFLAGS) bar.c&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œä¸ç®¡å…¨å±€çš„$(CFLAGS)çš„å€¼æ˜¯ä»€ä¹ˆï¼Œåœ¨progç›®æ ‡ï¼Œä»¥åŠå…¶æ‰€å¼•å‘çš„æ‰€æœ‰è§„åˆ™ä¸­ï¼ˆprog.o foo.o bar.oçš„è§„åˆ™ï¼‰ï¼Œ$(CFLAGS)çš„å€¼éƒ½æ˜¯â€œ-gâ€.&lt;/p&gt;
&lt;p&gt;å æ¡ä»¶åˆ¤æ–­è¯­æ³•&lt;/p&gt;
&lt;p&gt;æ¡ä»¶è¡¨è¾¾å¼çš„è¯­æ³•ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  Â Â Â  else Â Â Â  Â Â Â  endif&lt;/p&gt;
&lt;p&gt;å…¶ä¸­è¡¨ç¤ºæ¡ä»¶å…³é”®å­—ï¼Œå¦‚â€œifeqâ€ã€‚è¿™ä¸ªå…³é”®å­—æœ‰å››ä¸ªã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªæ˜¯æˆ‘ä»¬å‰é¢æ‰€è§è¿‡çš„â€œifeqâ€&lt;/p&gt;
&lt;p&gt;Â Â Â  ifeq (, ) Â Â Â  ifeq &amp;rsquo;&amp;rsquo; &amp;rsquo;&amp;rsquo; Â Â Â  ifeq &amp;quot;&amp;quot; &amp;quot;&amp;quot; Â Â Â  ifeq &amp;quot;&amp;quot; &amp;rsquo;&amp;rsquo; Â Â Â  ifeq &amp;rsquo;&amp;rsquo; &amp;quot;&amp;quot;&lt;/p&gt;
&lt;p&gt;æ¯”è¾ƒå‚æ•°â€œarg1â€å’Œâ€œarg2â€çš„å€¼æ˜¯å¦ç›¸åŒã€‚å½“ç„¶ï¼Œå‚æ•°ä¸­æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨makeçš„å‡½æ•°ã€‚å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  ifeq ($(strip $(foo)),) Â Â Â  Â Â Â  endif&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªç¤ºä¾‹ä¸­ä½¿ç”¨äº†â€œstripâ€å‡½æ•°ï¼Œå¦‚æœè¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼æ˜¯ç©ºï¼ˆEmptyï¼‰ï¼Œé‚£ä¹ˆå°±ç”Ÿæ•ˆã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒä¸ªæ¡ä»¶å…³é”®å­—æ˜¯â€œifneqâ€ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ä¸ªæ¡ä»¶å…³é”®å­—æ˜¯â€œifdefâ€ã€‚è¯­æ³•æ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  ifdef&lt;/p&gt;
&lt;p&gt;å¦‚æœå˜é‡çš„å€¼éç©ºï¼Œé‚£åˆ°è¡¨è¾¾å¼ä¸ºçœŸã€‚å¦åˆ™ï¼Œè¡¨è¾¾å¼ä¸ºå‡ã€‚å½“ç„¶ï¼ŒåŒæ ·å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ã€‚æ³¨æ„ï¼Œifdefåªæ˜¯æµ‹è¯•ä¸€ä¸ªå˜é‡æ˜¯å¦æœ‰å€¼ï¼Œå…¶å¹¶ä¸ä¼šæŠŠå˜é‡æ‰©å±•åˆ°å½“å‰ä½ç½®ã€‚è¿˜æ˜¯æ¥çœ‹ä¸¤ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  ç¤ºä¾‹ä¸€ï¼š Â Â Â  bar = Â Â Â  foo = $(bar) Â Â Â  ifdef foo Â Â Â  frobozz = yes Â Â Â  else Â Â Â  frobozz = no Â Â Â  endif&lt;/p&gt;
&lt;p&gt;Â Â Â  ç¤ºä¾‹äºŒï¼š Â Â Â  foo = Â Â Â  ifdef foo Â Â Â  frobozz = yes Â Â Â  else Â Â Â  frobozz = no Â Â Â  endif&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ï¼Œâ€œ$(frobozz)â€å€¼æ˜¯â€œyesâ€ï¼Œç¬¬äºŒä¸ªåˆ™æ˜¯â€œnoâ€ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬å››ä¸ªæ¡ä»¶å…³é”®å­—æ˜¯â€œifndefâ€ã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  åœ¨è¿™ä¸€è¡Œä¸Šï¼Œå¤šä½™çš„ç©ºæ ¼æ˜¯è¢«å…è®¸çš„ï¼Œä½†æ˜¯ä¸èƒ½ä»¥[Tab]é”®åšä¸ºå¼€å§‹ï¼ˆä¸ç„¶å°±è¢«è®¤ä¸ºæ˜¯å‘½ä»¤ï¼‰ã€‚è€Œæ³¨é‡Šç¬¦â€œ#â€åŒæ ·ä¹Ÿæ˜¯å®‰å…¨çš„ã€‚â€œelseâ€å’Œâ€œendifâ€ä¹Ÿä¸€æ ·ï¼Œåªè¦ä¸æ˜¯ä»¥[Tab]é”®å¼€å§‹å°±è¡Œäº†ã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œmakeæ˜¯åœ¨è¯»å–Makefileæ—¶å°±è®¡ç®—æ¡ä»¶è¡¨è¾¾å¼çš„å€¼ï¼Œå¹¶æ ¹æ®æ¡ä»¶è¡¨è¾¾å¼çš„å€¼æ¥é€‰æ‹©è¯­å¥ï¼Œæ‰€ä»¥ï¼Œæœ€å¥½ä¸è¦æŠŠè‡ªåŠ¨åŒ–å˜é‡ï¼ˆå¦‚â€œ$@â€ç­‰ï¼‰æ”¾å…¥æ¡ä»¶è¡¨è¾¾å¼ä¸­ï¼Œå› ä¸ºè‡ªåŠ¨åŒ–å˜é‡æ˜¯åœ¨è¿è¡Œæ—¶æ‰æœ‰çš„ã€‚&lt;/p&gt;
&lt;p&gt;åä¸€Â foreachÂ å‡½æ•° Â  Â  foreachå‡½æ•°å’Œåˆ«çš„å‡½æ•°éå¸¸çš„ä¸ä¸€æ ·ã€‚å› ä¸ºè¿™ä¸ªå‡½æ•°æ˜¯ç”¨æ¥åšå¾ªç¯ç”¨çš„ï¼Œå®ƒçš„è¯­æ³•æ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â Â $(foreach ,&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;list&amp;gt;,&amp;lt;text&amp;gt;)è¿™ä¸ªå‡½æ•°çš„æ„æ€æ˜¯ï¼ŒæŠŠå‚æ•°

&amp;lt;list&amp;gt;ä¸­çš„å•è¯é€ä¸€å–å‡ºæ”¾åˆ°å‚æ•°&amp;lt;var&amp;gt;æ‰€æŒ‡å®šçš„å˜é‡ä¸­ï¼Œç„¶åå†æ‰§è¡Œ&amp;lt;text&amp;gt;æ‰€åŒ…å«çš„è¡¨è¾¾å¼ã€‚æ¯ä¸€æ¬¡&amp;lt;text&amp;gt;ä¼šè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¾ªç¯è¿‡ç¨‹ä¸­ï¼Œ&amp;lt;text&amp;gt;çš„æ‰€è¿”å›çš„æ¯ä¸ªå­—ç¬¦ä¸²ä¼šä»¥ç©ºæ ¼åˆ†éš”ï¼Œæœ€åå½“æ•´ä¸ªå¾ªç¯ç»“æŸæ—¶ï¼Œ&amp;lt;text&amp;gt;æ‰€è¿”å›çš„æ¯ä¸ªå­—ç¬¦ä¸²æ‰€ç»„æˆçš„æ•´ä¸ªå­—ç¬¦ä¸²ï¼ˆä»¥ç©ºæ ¼åˆ†éš”ï¼‰å°†ä¼šæ˜¯foreachå‡½æ•°çš„è¿”å›å€¼ã€‚&amp;amp;nbsp; &amp;amp;nbsp;æ‰€ä»¥ï¼Œ&amp;lt;var&amp;gt;æœ€å¥½æ˜¯ä¸€ä¸ªå˜é‡åï¼Œ&amp;lt;/var&amp;gt;

&amp;lt;list&amp;gt;å¯ä»¥æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè€Œ&amp;lt;text&amp;gt;ä¸­ä¸€èˆ¬ä¼šä½¿ç”¨&amp;lt;var&amp;gt;è¿™ä¸ªå‚æ•°æ¥ä¾æ¬¡æšä¸¾
&amp;lt;list&amp;gt;ä¸­çš„å•è¯ã€‚ä¸¾ä¸ªä¾‹å­ï¼š&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;names := a b c d
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Â Â Â Â files := $(foreach n,$(names),$(n).o)Â &lt;/p&gt;
&lt;p&gt;Â Â $(name)ä¸­çš„å•è¯ä¼šè¢«æŒ¨ä¸ªå–å‡ºï¼Œå¹¶å­˜åˆ°å˜é‡â€œnâ€ä¸­ï¼Œâ€œ$(n).oâ€æ¯æ¬¡æ ¹æ®â€œ$(n)â€è®¡ç®—å‡ºä¸€ä¸ªå€¼ï¼Œè¿™äº›å€¼ä»¥ç©ºæ ¼åˆ†éš”ï¼Œæœ€åä½œä¸ºforeachå‡½æ•°çš„è¿”å›ï¼Œæ‰€ä»¥ï¼Œ$(files)çš„å€¼æ˜¯â€œa.o b.o c.o d.oâ€ã€‚Â &lt;/p&gt;
&lt;p&gt;åäºŒ æ£€æŸ¥è§„åˆ™&lt;/p&gt;
&lt;p&gt;æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¸æƒ³è®©æˆ‘ä»¬çš„makefileä¸­çš„è§„åˆ™æ‰§è¡Œèµ·æ¥ï¼Œåªæƒ³æ£€æŸ¥ä¸€ä¸‹å‘½ä»¤ï¼Œæˆ–æ˜¯æ‰§è¡Œçš„åºåˆ—ã€‚å¯ä»¥ä½¿ç”¨makeå‘½ä»¤çš„ä¸‹è¿°å‚æ•°ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  â€œ-nâ€ Â Â Â  â€œ&amp;ndash;just-printâ€ Â Â Â  â€œ&amp;ndash;dry-runâ€&lt;/p&gt;
&lt;p&gt;------------------ Â Â &lt;/p&gt;
&lt;p&gt;Â  Â  â€œ-tâ€ Â Â Â  â€œ&amp;ndash;touchâ€ Â Â Â  è¿™ä¸ªå‚æ•°çš„æ„æ€å°±æ˜¯æŠŠç›®æ ‡æ–‡ä»¶çš„æ—¶é—´æ›´æ–°ï¼Œä½†ä¸æ›´æ”¹ç›®æ ‡æ–‡ä»¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œmakeå‡è£…ç¼–è¯‘ç›®æ ‡ï¼Œä½†ä¸æ˜¯çœŸæ­£çš„ç¼–è¯‘ç›®æ ‡ï¼Œåªæ˜¯æŠŠç›®æ ‡å˜æˆå·²ç¼–è¯‘è¿‡çš„çŠ¶æ€ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Â  Â  â€œ-W â€ Â Â Â  è¿™ä¸ªå‚æ•°éœ€è¦æŒ‡å®šä¸€ä¸ªæ–‡ä»¶ã€‚ä¸€èˆ¬æ˜¯æ˜¯æºæ–‡ä»¶ï¼ˆæˆ–ä¾èµ–æ–‡ä»¶ï¼‰ï¼Œmakeä¼šæ ¹æ®è§„åˆ™æ¨å¯¼æ¥è¿è¡Œä¾èµ–äºè¿™ä¸ªæ–‡ä»¶çš„å‘½ä»¤ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå¯ä»¥å’Œâ€œ-nâ€å‚æ•°ä¸€åŒä½¿ç”¨ï¼Œæ¥æŸ¥çœ‹è¿™ä¸ªä¾èµ–æ–‡ä»¶æ‰€å‘ç”Ÿçš„è§„åˆ™å‘½ä»¤ã€‚å‡å®šç›®æ ‡éœ€è¦æ›´æ–°ï¼Œå¦‚æœå’Œâ€œ-nâ€é€‰é¡¹ä½¿ç”¨ï¼Œé‚£ä¹ˆè¿™ä¸ªå‚æ•°ä¼šè¾“å‡ºè¯¥ç›®æ ‡æ›´æ–°æ—¶çš„è¿è¡ŒåŠ¨ä½œã€‚&lt;/p&gt;
&lt;p&gt;åä¸‰ makeçš„å…¶ä»–å‚æ•°&lt;/p&gt;
&lt;p&gt;â€œ-Bâ€ â€œ&amp;ndash;always-makeâ€ è®¤ä¸ºæ‰€æœ‰çš„ç›®æ ‡éƒ½éœ€è¦æ›´æ–°ï¼ˆé‡ç¼–è¯‘ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;â€œ-C&lt;/p&gt;
&lt;p&gt;â€ â€œ&amp;ndash;directory=&lt;/p&gt;
&lt;p&gt;â€ æŒ‡å®šè¯»å–makefileçš„ç›®å½•ã€‚å¦‚æœæœ‰å¤šä¸ªâ€œ-Câ€å‚æ•°ï¼Œmakeçš„è§£é‡Šæ˜¯åé¢çš„è·¯å¾„ä»¥å‰é¢çš„ä½œä¸ºç›¸å¯¹è·¯å¾„ï¼Œå¹¶ä»¥æœ€åçš„ç›®å½•ä½œä¸ºè¢«æŒ‡å®šç›®å½•ã€‚å¦‚ï¼šâ€œmake â€“C ~hchen/test â€“C progâ€ç­‰ä»·äºâ€œmake â€“C ~hchen/test/progâ€ã€‚&lt;/p&gt;
&lt;p&gt;â€œ-iâ€ â€œ&amp;ndash;ignore-errorsâ€ åœ¨æ‰§è¡Œæ—¶å¿½ç•¥æ‰€æœ‰çš„é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;â€œ-kâ€ â€œ&amp;ndash;keep-goingâ€ å‡ºé”™ä¹Ÿä¸åœæ­¢è¿è¡Œã€‚å¦‚æœç”Ÿæˆä¸€ä¸ªç›®æ ‡å¤±è´¥äº†ï¼Œé‚£ä¹ˆä¾èµ–äºå…¶ä¸Šçš„ç›®æ ‡å°±ä¸ä¼šè¢«æ‰§è¡Œäº†ã€‚ åå›› éšå«è§„åˆ™&lt;/p&gt;
&lt;p&gt;Â  Â  åœ¨ä½¿ç”¨Makefileæ—¶ï¼Œæœ‰ä¸€äº›ä¼šç»å¸¸ä½¿ç”¨ï¼Œè€Œä¸”ä½¿ç”¨é¢‘ç‡éå¸¸é«˜çš„ä¸œè¥¿ï¼Œæ¯”å¦‚ï¼Œç¼–è¯‘C/C++çš„æºç¨‹åºä¸ºä¸­é—´ç›®æ ‡æ–‡ä»¶ï¼ˆUnixä¸‹æ˜¯[.o]æ–‡ä»¶ï¼ŒWindowsä¸‹æ˜¯[.obj]æ–‡ä»¶ï¼‰,è¿™äº›å°±æ˜¯æ—©å…ˆçº¦å®šäº†çš„ï¼Œä¸éœ€è¦æˆ‘ä»¬å†å†™å‡ºæ¥çš„è§„åˆ™ã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  â€œéšå«è§„åˆ™â€ä¹Ÿå°±æ˜¯ä¸€ç§æƒ¯ä¾‹ï¼Œmakeä¼šæŒ‰ç…§è¿™ç§â€œæƒ¯ä¾‹â€å¿ƒç…§ä¸å–§åœ°æ¥è¿è¡Œï¼Œå³ä½¿Makefileä¸­æ²¡æœ‰ä¹¦å†™è¿™æ ·çš„è§„åˆ™ã€‚ä¾‹å¦‚ï¼ŒæŠŠ[.c]æ–‡ä»¶ç¼–è¯‘æˆ[.o]æ–‡ä»¶è¿™ä¸€è§„åˆ™ï¼Œæ ¹æœ¬å°±ä¸ç”¨å†™å‡ºæ¥ï¼Œmakeä¼šè‡ªåŠ¨æ¨å¯¼å‡ºè¿™ç§è§„åˆ™ï¼Œå¹¶ç”Ÿæˆéœ€è¦çš„[.o]æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  â€œéšå«è§„åˆ™â€ä¼šä½¿ç”¨ä¸€äº›ç³»ç»Ÿå˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹å˜è¿™äº›ç³»ç»Ÿå˜é‡çš„å€¼æ¥å®šåˆ¶éšå«è§„åˆ™çš„è¿è¡Œæ—¶çš„å‚æ•°ã€‚å¦‚ç³»ç»Ÿå˜é‡â€œCFLAGSâ€å¯ä»¥æ§åˆ¶ç¼–è¯‘æ—¶çš„ç¼–è¯‘å™¨å‚æ•°ã€‚&lt;/p&gt;
&lt;p&gt;1 ä½¿ç”¨éšå«è§„åˆ™&lt;/p&gt;
&lt;p&gt;Â  Â  å¦‚æœè¦ä½¿ç”¨éšå«è§„åˆ™ç”Ÿæˆä½ éœ€è¦çš„ç›®æ ‡ï¼Œä½ æ‰€éœ€è¦åšçš„å°±æ˜¯ä¸è¦å†™å‡ºè¿™ä¸ªç›®æ ‡çš„è§„åˆ™ã€‚é‚£ä¹ˆï¼Œmakeä¼šè¯•å›¾å»è‡ªåŠ¨æ¨å¯¼äº§ç”Ÿè¿™ä¸ªç›®æ ‡çš„è§„åˆ™å’Œå‘½ä»¤ï¼Œå¦‚æœmakeå¯ä»¥è‡ªåŠ¨æ¨å¯¼ç”Ÿæˆè¿™ä¸ªç›®æ ‡çš„è§„åˆ™å’Œå‘½ä»¤ï¼Œé‚£ä¹ˆè¿™ä¸ªè¡Œä¸ºå°±æ˜¯éšå«è§„åˆ™çš„è‡ªåŠ¨æ¨å¯¼ã€‚å½“ç„¶ï¼Œéšå«è§„åˆ™æ˜¯makeäº‹å…ˆçº¦å®šå¥½çš„ä¸€äº›ä¸œè¥¿ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸‹é¢çš„ä¸€ä¸ªMakefileï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  foo : foo.o bar.o Â Â Â Â Â Â Â Â Â Â Â  cc â€“o foo foo.o bar.o $(CFLAGS) $(LDFLAGS)&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªMakefileä¸­å¹¶æ²¡æœ‰å†™ä¸‹å¦‚ä½•ç”Ÿæˆfoo.oå’Œbar.oè¿™ä¸¤ç›®æ ‡çš„è§„åˆ™å’Œå‘½ä»¤ã€‚å› ä¸ºmakeçš„â€œéšå«è§„åˆ™â€åŠŸèƒ½ä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬è‡ªåŠ¨å»æ¨å¯¼è¿™ä¸¤ä¸ªç›®æ ‡çš„ä¾èµ–ç›®æ ‡å’Œç”Ÿæˆå‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  makeä¼šåœ¨è‡ªå·±çš„â€œéšå«è§„åˆ™â€åº“ä¸­å¯»æ‰¾å¯ä»¥ç”¨çš„è§„åˆ™ï¼Œå¦‚æœæ‰¾åˆ°ï¼Œé‚£ä¹ˆå°±ä¼šä½¿ç”¨ã€‚å¦‚æœæ‰¾ä¸åˆ°ï¼Œé‚£ä¹ˆå°±ä¼šæŠ¥é”™ã€‚åœ¨ä¸Šé¢çš„é‚£ä¸ªä¾‹å­ä¸­ï¼Œmakeè°ƒç”¨çš„éšå«è§„åˆ™æ˜¯ï¼ŒæŠŠ[.o]çš„ç›®æ ‡çš„ä¾èµ–æ–‡ä»¶ç½®æˆ[.c]ï¼Œå¹¶ä½¿ç”¨Cçš„ç¼–è¯‘å‘½ä»¤â€œcc â€“c $(CFLAGS) [.c]â€æ¥ç”Ÿæˆ[.o]çš„ç›®æ ‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å®Œå…¨æ²¡æœ‰å¿…è¦å†™ä¸‹ä¸‹é¢çš„ä¸¤æ¡è§„åˆ™ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  foo.o : foo.c Â Â Â Â Â Â Â Â Â Â Â  cc â€“c foo.c $(CFLAGS) Â Â Â  bar.o : bar.c Â Â Â Â Â Â Â  cc â€“c bar.c $(CFLAGS)&lt;/p&gt;
&lt;p&gt;å› ä¸ºï¼Œè¿™å·²ç»æ˜¯â€œçº¦å®šâ€å¥½äº†çš„äº‹äº†ï¼Œmakeå’Œæˆ‘ä»¬çº¦å®šå¥½äº†ç”¨Cç¼–è¯‘å™¨â€œccâ€ç”Ÿæˆ[.o]æ–‡ä»¶çš„è§„åˆ™ï¼Œè¿™å°±æ˜¯éšå«è§„åˆ™ã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  å½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬ä¸º[.o]æ–‡ä»¶ä¹¦å†™äº†è‡ªå·±çš„è§„åˆ™ï¼Œé‚£ä¹ˆmakeå°±ä¸ä¼šè‡ªåŠ¨æ¨å¯¼å¹¶è°ƒç”¨éšå«è§„åˆ™ï¼Œå®ƒä¼šæŒ‰ç…§æˆ‘ä»¬å†™å¥½çš„è§„åˆ™å¿ å®åœ°æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;Â  Â  è¿˜æœ‰ï¼Œåœ¨makeçš„â€œéšå«è§„åˆ™åº“â€ä¸­ï¼Œæ¯ä¸€æ¡éšå«è§„åˆ™éƒ½åœ¨åº“ä¸­æœ‰å…¶é¡ºåºï¼Œè¶Šé å‰çš„åˆ™æ˜¯è¶Šè¢«ç»å¸¸ä½¿ç”¨çš„ï¼Œæ‰€ä»¥ï¼Œè¿™ä¼šå¯¼è‡´æˆ‘ä»¬æœ‰äº›æ—¶å€™å³ä½¿æˆ‘ä»¬æ˜¾ç¤ºåœ°æŒ‡å®šäº†ç›®æ ‡ä¾èµ–ï¼Œmakeä¹Ÿä¸ä¼šç®¡ã€‚å¦‚ä¸‹é¢è¿™æ¡è§„åˆ™ï¼ˆæ²¡æœ‰å‘½ä»¤ï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  foo.o : foo.p&lt;/p&gt;
&lt;p&gt;ä¾èµ–æ–‡ä»¶â€œfoo.pâ€ï¼ˆPascalç¨‹åºçš„æºæ–‡ä»¶ï¼‰æœ‰å¯èƒ½å˜å¾—æ²¡æœ‰æ„ä¹‰ã€‚å¦‚æœç›®å½•ä¸‹å­˜åœ¨äº†â€œfoo.câ€æ–‡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„éšå«è§„åˆ™ä¸€æ ·ä¼šç”Ÿæ•ˆï¼Œå¹¶ä¼šé€šè¿‡â€œfoo.câ€è°ƒç”¨Cçš„ç¼–è¯‘å™¨ç”Ÿæˆfoo.oæ–‡ä»¶ã€‚å› ä¸ºï¼Œåœ¨éšå«è§„åˆ™ä¸­ï¼ŒPascalçš„è§„åˆ™å‡ºç°åœ¨Cçš„è§„åˆ™ä¹‹åï¼Œæ‰€ä»¥ï¼Œmakeæ‰¾åˆ°å¯ä»¥ç”Ÿæˆfoo.oçš„Cçš„è§„åˆ™å°±ä¸å†å¯»æ‰¾ä¸‹ä¸€æ¡è§„åˆ™äº†ã€‚å¦‚æœä½ ç¡®å®ä¸å¸Œæœ›ä»»ä½•éšå«è§„åˆ™æ¨å¯¼ï¼Œé‚£ä¹ˆï¼Œä½ å°±ä¸è¦åªå†™å‡ºâ€œä¾èµ–è§„åˆ™â€ï¼Œè€Œä¸å†™å‘½ä»¤ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨makeçš„å‚æ•°â€œ-râ€æˆ–â€œ&amp;ndash;no-builtin-rulesâ€é€‰é¡¹æ¥å–æ¶ˆæ‰€æœ‰çš„é¢„è®¾ç½®çš„éšå«è§„åˆ™ã€‚&lt;/p&gt;
&lt;p&gt;1 ç¼–è¯‘Cç¨‹åºçš„éšå«è§„åˆ™ â€œ.oâ€çš„ç›®æ ‡çš„ä¾èµ–ç›®æ ‡ä¼šè‡ªåŠ¨æ¨å¯¼ä¸ºâ€œ.câ€ï¼Œå¹¶ä¸”å…¶ç”Ÿæˆå‘½ä»¤æ˜¯â€œ$(CC) â€“c $(CPPFLAGS) $(CFLAGS)â€&lt;/p&gt;
&lt;p&gt;2 ç¼–è¯‘C++ç¨‹åºçš„éšå«è§„åˆ™ â€œ.oâ€çš„ç›®æ ‡çš„ä¾èµ–ç›®æ ‡ä¼šè‡ªåŠ¨æ¨å¯¼ä¸ºâ€œ.ccâ€æˆ–æ˜¯â€œ.Câ€ï¼Œå¹¶ä¸”å…¶ç”Ÿæˆå‘½ä»¤æ˜¯â€œ$(CXX) â€“c $(CPPFLAGS) $(CFLAGS)â€ã€‚ï¼ˆå»ºè®®ä½¿ç”¨â€œ.ccâ€ä½œä¸ºC++æºæ–‡ä»¶çš„åç¼€ï¼Œè€Œä¸æ˜¯â€œ.Câ€ï¼‰&lt;/p&gt;
&lt;p&gt;3 é“¾æ¥Objectæ–‡ä»¶çš„éšå«è§„åˆ™ â€œâ€ç›®æ ‡ä¾èµ–äºâ€œ.oâ€ï¼Œé€šè¿‡è¿è¡ŒCçš„ç¼–è¯‘å™¨æ¥è¿è¡Œé“¾æ¥ç¨‹åºç”Ÿæˆï¼ˆä¸€èˆ¬æ˜¯â€œldâ€ï¼‰ï¼Œå…¶ç”Ÿæˆå‘½ä»¤æ˜¯ï¼šâ€œ$(CC) $(LDFLAGS) .o $(LOADLIBES) $(LDLIBS)â€ã€‚è¿™ä¸ªè§„åˆ™å¯¹äºåªæœ‰ä¸€ä¸ªæºæ–‡ä»¶çš„å·¥ç¨‹æœ‰æ•ˆï¼ŒåŒæ—¶ä¹Ÿå¯¹å¤šä¸ªObjectæ–‡ä»¶ï¼ˆç”±ä¸åŒçš„æºæ–‡ä»¶ç”Ÿæˆï¼‰çš„ä¹Ÿæœ‰æ•ˆã€‚ä¾‹å¦‚å¦‚ä¸‹è§„åˆ™ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  x : y.o z.o&lt;/p&gt;
&lt;p&gt;å¹¶ä¸”â€œx.câ€ã€â€œy.câ€å’Œâ€œz.câ€éƒ½å­˜åœ¨æ—¶ï¼Œéšå«è§„åˆ™å°†æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;p&gt;Â Â Â  cc -c x.c -o x.o Â Â Â  cc -c y.c -o y.o Â Â Â  cc -c z.c -o z.o Â Â Â  cc x.o y.o z.o -o x Â Â Â  rm -f x.o Â Â Â  rm -f y.o Â Â Â  rm -f z.o&lt;/p&gt;
&lt;p&gt;å¦‚æœæ²¡æœ‰ä¸€ä¸ªæºæ–‡ä»¶ï¼ˆå¦‚ä¸Šä¾‹ä¸­çš„x.cï¼‰å’Œä½ çš„ç›®æ ‡åå­—ï¼ˆå¦‚ä¸Šä¾‹ä¸­çš„xï¼‰ç›¸å…³è”ï¼Œé‚£ä¹ˆï¼Œä½ æœ€å¥½å†™å‡ºè‡ªå·±çš„ç”Ÿæˆè§„åˆ™ï¼Œä¸ç„¶ï¼Œéšå«è§„åˆ™ä¼šæŠ¥é”™çš„ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Hello Hexo</title>
        <link>https://lxb.wiki/a1751c09/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://lxb.wiki/a1751c09/</guid>
        <description>&lt;p&gt;Welcome to &lt;a class=&#34;link&#34; href=&#34;https://hexo.io/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a class=&#34;link&#34; href=&#34;https://hexo.io/docs/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a class=&#34;link&#34; href=&#34;https://hexo.io/docs/troubleshooting.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a class=&#34;link&#34; href=&#34;https://github.com/hexojs/hexo/issues&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&#34;quick-start&#34;&gt;Quick Start&lt;/h2&gt;
&lt;h3 id=&#34;create-a-new-post&#34;&gt;Create a new post&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ hexo new &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;My New Post&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;More info: &lt;a class=&#34;link&#34; href=&#34;https://hexo.io/docs/writing.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Writing&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;run-server&#34;&gt;Run server&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ hexo server
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;More info: &lt;a class=&#34;link&#34; href=&#34;https://hexo.io/docs/server.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Server&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;generate-static-files&#34;&gt;Generate static files&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ hexo generate
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;More info: &lt;a class=&#34;link&#34; href=&#34;https://hexo.io/docs/generating.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Generating&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;deploy-to-remote-sites&#34;&gt;Deploy to remote sites&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ hexo deploy
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;More info: &lt;a class=&#34;link&#34; href=&#34;https://hexo.io/docs/deployment.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Deployment&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
