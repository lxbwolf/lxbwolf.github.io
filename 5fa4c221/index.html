<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='1. ÂáÜÂ§á TCPÊòØÂ±û‰∫éÁΩëÁªúÂàÜÂ±Ç‰∏≠ÁöÑËøêËæìÂ±Ç(ÊúâÁöÑ‰π¶‰πüÁøªËØë‰∏∫‰º†ËæìÂ±Ç)Ôºå ÂàÜÂ±Ç‰ª•ÂèäÊØèÂ±ÇÁöÑÂçèËÆÆÔºåTCPÊòØÂ±û‰∫éËøêËæìÂ±Ç(ÊúâÁöÑ‰π¶‰πüÁøªËØë‰∏∫‰º†ËæìÂ±Ç)ÔºåÂ¶Ç‰∏ã‰∏§Âº†ÂõæÔºö T'>
<title>TCPÂçèËÆÆ‰∏≠ÁöÑ‰∏âÊ¨°Êè°ÊâãÂíåÂõõÊ¨°Êå•Êâã</title>

<link rel='canonical' href='https://lxb.wiki/5fa4c221/'>

<link rel="stylesheet" href="/scss/style.min.bc5bb6e306c354a2f5d5bfd1e65a5f3996962fb9b4a3546b748aee7daee4f258.css"><meta property='og:title' content='TCPÂçèËÆÆ‰∏≠ÁöÑ‰∏âÊ¨°Êè°ÊâãÂíåÂõõÊ¨°Êå•Êâã'>
<meta property='og:description' content='1. ÂáÜÂ§á TCPÊòØÂ±û‰∫éÁΩëÁªúÂàÜÂ±Ç‰∏≠ÁöÑËøêËæìÂ±Ç(ÊúâÁöÑ‰π¶‰πüÁøªËØë‰∏∫‰º†ËæìÂ±Ç)Ôºå ÂàÜÂ±Ç‰ª•ÂèäÊØèÂ±ÇÁöÑÂçèËÆÆÔºåTCPÊòØÂ±û‰∫éËøêËæìÂ±Ç(ÊúâÁöÑ‰π¶‰πüÁøªËØë‰∏∫‰º†ËæìÂ±Ç)ÔºåÂ¶Ç‰∏ã‰∏§Âº†ÂõæÔºö T'>
<meta property='og:url' content='https://lxb.wiki/5fa4c221/'>
<meta property='og:site_name' content='Xiaobin&#39;s Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='tcp' /><meta property='article:published_time' content='2021-10-21T22:54:29&#43;00:00'/><meta property='article:modified_time' content='2021-10-21T22:54:29&#43;00:00'/>
<meta name="twitter:title" content="TCPÂçèËÆÆ‰∏≠ÁöÑ‰∏âÊ¨°Êè°ÊâãÂíåÂõõÊ¨°Êå•Êâã">
<meta name="twitter:description" content="1. ÂáÜÂ§á TCPÊòØÂ±û‰∫éÁΩëÁªúÂàÜÂ±Ç‰∏≠ÁöÑËøêËæìÂ±Ç(ÊúâÁöÑ‰π¶‰πüÁøªËØë‰∏∫‰º†ËæìÂ±Ç)Ôºå ÂàÜÂ±Ç‰ª•ÂèäÊØèÂ±ÇÁöÑÂçèËÆÆÔºåTCPÊòØÂ±û‰∫éËøêËæìÂ±Ç(ÊúâÁöÑ‰π¶‰πüÁøªËØë‰∏∫‰º†ËæìÂ±Ç)ÔºåÂ¶Ç‰∏ã‰∏§Âº†ÂõæÔºö T">
<link rel="shortcut icon" href="/favicon.png" />

<script data-ad-client="ca-pub-5708899526501350" async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-JZ2PWLT6JY"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-JZ2PWLT6JY');
</script>
<script>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?e710560ffa44cae2b3a6259e0171fb5f";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="ÂàáÊç¢ËèúÂçï">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu692828361b78eaa42fdbdbbf5a7177a9_44446_300x0_resize_q75_box.jpeg" width="300"
                            height="298" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üç•</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Xiaobin&#39;s Blog</a></h1>
            <h2 class="site-description"></h2>
        </div>
    </header>


    <ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                <span>È¶ñÈ°µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                <span>ÂΩíÊ°£</span>
            </a>
        </li>
        
        
        <li >
            <a href='/categories/' >
                
                
                
                <span>ÂàÜÁ±ª</span>
            </a>
        </li>
        
        
        <li >
            <a href='/tags/' >
                
                
                
                <span>Ê†áÁ≠æ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/links/' >
                
                
                
                <span>ÂèãÈìæ</span>
            </a>
        </li>
        

        <div class="menu-bottom-section"><ol class="social-menu">
                    
                        <li>
                            <a 
                                href='mailto://me@liuxb.email'
                                target="_blank"
                                title="Email"
                                rel="me"
                            >
                                
                                
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
                                
                            </a>
                        </li>
                    
                        <li>
                            <a 
                                href='https://github.com/lxbwolf'
                                target="_blank"
                                title="GitHub"
                                rel="me"
                            >
                                
                                
                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                                
                            </a>
                        </li>
                    
                        <li>
                            <a 
                                href='https://lxb.wiki/atom.xml'
                                target="_blank"
                                title="Rss"
                                rel="me"
                            >
                                
                                
                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="5" cy="19" r="1" />
  <path d="M4 4a16 16 0 0 1 16 16" />
  <path d="M4 11a9 9 0 0 1 9 9" />
</svg>



                                
                            </a>
                        </li>
                    
                </ol>
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>ÊöóËâ≤Ê®°Âºè</span>
                </li>
            
        </div>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
<section class="widget archives">
    
    <h2 class="widget-title section-title">ÁõÆÂΩï</h2>

    <div class="widget--toc">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#21-Á¨¨‰∏ÄÊ¨°Êè°Êâã">2.1 Á¨¨‰∏ÄÊ¨°Êè°Êâã</a></li>
    <li><a href="#23-Á¨¨‰∏âÊ¨°Êè°Êâã">2.3 Á¨¨‰∏âÊ¨°Êè°Êâã</a></li>
    <li><a href="#24-ÂÆû‰æãËßÇÂØü">2.4 ÂÆû‰æãËßÇÂØü</a>
      <ul>
        <li><a href="#241-tcpdump">2.4.1 tcpdump</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#31-Á¨¨‰∏ÄÊ¨°Êè°Êâã">3.1 Á¨¨‰∏ÄÊ¨°Êè°Êâã</a>
      <ul>
        <li><a href="#311-ÂçäËøûÊé•ÈòüÂàósyn-queueÊú™Êª°">3.1.1 ÂçäËøûÊé•ÈòüÂàó(syn queue)Êú™Êª°</a></li>
        <li><a href="#312-ÂçäËøûÊé•ÈòüÂàósyn-queueÂ∑≤Êª°">3.1.2 ÂçäËøûÊé•ÈòüÂàó(syn queue)Â∑≤Êª°</a></li>
      </ul>
    </li>
    <li><a href="#32-Á¨¨‰∫åÊ¨°Êè°Êâã">3.2 Á¨¨‰∫åÊ¨°Êè°Êâã</a></li>
    <li><a href="#33-Á¨¨‰∏âÊ¨°Êè°Êâã">3.3 Á¨¨‰∏âÊ¨°Êè°Êâã</a>
      <ul>
        <li><a href="#331-ÂÖ®ËøûÊé•ÈòüÂàóaccept-queueÊú™Êª°">3.3.1 ÂÖ®ËøûÊé•ÈòüÂàó(accept queue)Êú™Êª°</a></li>
        <li><a href="#332-ÂÖ®ËøûÊé•ÈòüÂàóaccept-queueÂ∑≤Êª°">3.3.2 ÂÖ®ËøûÊé•ÈòüÂàó(accept queue)Â∑≤Êª°</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
        <a href="/categories/Web/" >
            Web
        </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/5fa4c221/">TCPÂçèËÆÆ‰∏≠ÁöÑ‰∏âÊ¨°Êè°ÊâãÂíåÂõõÊ¨°Êå•Êâã</a>
        </h2>

        
    </div>

    
    
    
    
    <footer class="article-time">
        
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
            <time class="article-time--published">Oct 21, 2021</time>
        </div>
        

        
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



            <time class="article-time--reading">
                ÈòÖËØªÊó∂Èïø: 12 ÂàÜÈíü
            </time>
        </div>
        
        <small>
    <section class="article-tags">
        
            <a href="/tags/tcp/">tcp</a>
        
    </section>
</small>
    </footer>
    

    
</div>
</header>

    <section class="article-content">
    
    
    <!-- raw HTML omitted -->
<h1 id="1-ÂáÜÂ§á">1. ÂáÜÂ§á</h1>
<p>TCPÊòØÂ±û‰∫éÁΩëÁªúÂàÜÂ±Ç‰∏≠ÁöÑËøêËæìÂ±Ç(ÊúâÁöÑ‰π¶‰πüÁøªËØë‰∏∫‰º†ËæìÂ±Ç)Ôºå
ÂàÜÂ±Ç‰ª•ÂèäÊØèÂ±ÇÁöÑÂçèËÆÆÔºåTCPÊòØÂ±û‰∫éËøêËæìÂ±Ç(ÊúâÁöÑ‰π¶‰πüÁøªËØë‰∏∫‰º†ËæìÂ±Ç)ÔºåÂ¶Ç‰∏ã‰∏§Âº†ÂõæÔºö</p>
<p><img src="https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311145804.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311145821.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>TCP<a class="link" href="https://so.csdn.net/so/search?q=%e4%b8%89%e6%ac%a1%e6%8f%a1%e6%89%8b&amp;spm=1001.2101.3001.7020"  target="_blank" rel="noopener"
    >‰∏âÊ¨°Êè°Êâã</a>‰ºöÊ∂âÂèäÂà∞Áä∂ÊÄÅËΩ¨Êç¢ÊâÄ‰ª•ËøôÈáåË¥¥Âá∫TCPÁöÑÁä∂ÊÄÅËΩ¨Êç¢ÂõæÂ¶Ç‰∏ãÔºö</p>
<p><img src="https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311145910.png"
	
	
	
	loading="lazy"
	
	
></p>
<h1 id="2tcp‰∏âÊ¨°Êè°ÊâãÁÆÄËø∞">2.TCP‰∏âÊ¨°Êè°ÊâãÁÆÄËø∞</h1>
<p>Ë¶ÅÊÉ≥ÁÆÄÂçï‰∫ÜËß£TCP‰∏âÊ¨°Êè°ÊâãÔºåÊàë‰ª¨È¶ñÂÖàË¶Å‰∫ÜËß£TCPÂ§¥ÈÉ®ÁªìÊûÑÔºåÂ¶Ç‰∏ãÔºö</p>
<p><img src="https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311145957.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>TCP‰º†ÈÄíÁªôIPÂ±ÇÁöÑ‰ø°ÊÅØÂçï‰ΩçÁß∞‰∏∫<strong>Êä•ÊñáÊÆµÊàñÊÆµ</strong>Ôºå‰∏ãÈù¢ÈÉΩÁî®<strong>ÊÆµ</strong>ÂÅöÂçï‰Ωç„ÄÇ</p>
<p>TCP‰∏âÊ¨°Êè°ÊâãÂ¶ÇÂõæÔºö</p>
<p><img src="https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311150026.png"
	
	
	
	loading="lazy"
	
	
></p>
<h2 id="21-Á¨¨‰∏ÄÊ¨°Êè°Êâã">2.1 Á¨¨‰∏ÄÊ¨°Êè°Êâã</h2>
<p>ÂÆ¢Êà∑Á´ØÁªôÊúçÂä°Âô®ÂèëÈÄÅ‰∏Ä‰∏™SYNÊÆµ(Âú® TCP Ê†áÂ§¥‰∏≠ SYN ‰ΩçÂ≠óÊÆµ‰∏∫ <strong>1</strong> ÁöÑ TCP/IP Êï∞ÊçÆÂåÖ), ËØ•ÊÆµ‰∏≠‰πüÂåÖÂê´ÂÆ¢Êà∑Á´ØÁöÑÂàùÂßãÂ∫èÂàóÂè∑(Sequence number = J)„ÄÇ</p>
<blockquote>
<p>SYNÊòØÂêåÊ≠•ÁöÑÁº©ÂÜôÔºåSYN ÊÆµÊòØÂèëÈÄÅÂà∞Âè¶‰∏ÄÂè∞ËÆ°ÁÆóÊú∫ÁöÑ TCP Êï∞ÊçÆÂåÖÔºåËØ∑Ê±ÇÂú®ÂÆÉ‰ª¨‰πãÈó¥Âª∫Á´ãËøûÊé•</p>
</blockquote>
<p>2.2 Á¨¨‰∫åÊ¨°Êè°Êâã
ÊúçÂä°Âô®ËøîÂõûÂÆ¢Êà∑Á´Ø SYN +ACK ÊÆµ(Âú® TCP Ê†áÂ§¥‰∏≠SYNÂíåACK‰ΩçÂ≠óÊÆµÈÉΩ‰∏∫ 1 ÁöÑ TCP/IP Êï∞ÊçÆÂåÖ)Ôºå ËØ•ÊÆµ‰∏≠ÂåÖÂê´ÊúçÂä°Âô®ÁöÑÂàùÂßãÂ∫èÂàóÂè∑(Sequence number = K)ÔºõÂêåÊó∂‰Ωø Acknowledgment number = J + 1Êù•Ë°®Á§∫Á°ÆËÆ§Â∑≤Êî∂Âà∞ÂÆ¢Êà∑Á´ØÁöÑ SYNÊÆµ(Sequence number = J)„ÄÇ</p>
<blockquote>
<p>ACK ÊòØ‚ÄúÁ°ÆËÆ§‚ÄùÁöÑÁº©ÂÜô„ÄÇ ACK Êï∞ÊçÆÂåÖÊòØ‰ªª‰ΩïÁ°ÆËÆ§Êî∂Âà∞‰∏ÄÊù°Ê∂àÊÅØÊàñ‰∏ÄÁ≥ªÂàóÊï∞ÊçÆÂåÖÁöÑ TCP Êï∞ÊçÆÂåÖ</p>
</blockquote>
<h2 id="23-Á¨¨‰∏âÊ¨°Êè°Êâã">2.3 Á¨¨‰∏âÊ¨°Êè°Êâã</h2>
<p>ÂÆ¢Êà∑Á´ØÁªôÊúçÂä°Âô®ÂìçÂ∫î‰∏Ä‰∏™ACKÊÆµ(Âú® TCP Ê†áÂ§¥‰∏≠ ACK ‰ΩçÂ≠óÊÆµ‰∏∫ <strong>1</strong> ÁöÑ TCP/IP Êï∞ÊçÆÂåÖ), ËØ•ÊÆµ‰∏≠‰Ωø Acknowledgment number = K + 1Êù•Ë°®Á§∫Á°ÆËÆ§Â∑≤Êî∂Âà∞ÊúçÂä°Âô®ÁöÑ SYNÊÆµ(Sequence number = K)„ÄÇ</p>
<h2 id="24-ÂÆû‰æãËßÇÂØü">2.4 ÂÆû‰æãËßÇÂØü</h2>
<h3 id="241-tcpdump">2.4.1 tcpdump</h3>
<p>‰ΩøÁî®tcpdumpËßÇÂØüÂ¶Ç‰∏ãÔºöÂõ†‰∏∫ÈÉΩÊòØÂú®Êú¨Êú∫ÂêåÊó∂ËøêË°åclientÂíåserverÊâÄ‰ª•ÂëΩ‰ª§‰∏∫Ôºö<code>tcpdump -i lo port 5555</code>, Âè™ËÉΩÁõëÂê¨ÂõûË∑ØloÊé•Âè£ÔºåÁªìÊûúÂ¶Ç‰∏ã</p>
<p><img src="https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311150222.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>Â¶ÇÂõæÁî®Á∫¢Ëâ≤ÂúàËµ∑Êù•ÁöÑÂ∞±ÊòØ3Ê¨°Êè°ÊâãÔºå‰ΩÜÊòØ‰∏∫‰ªÄ‰πàÊúÄÂêé‰∏ÄÊ¨°Êè°ÊâãÔºå‰∏∫‰ªÄ‰πàack = 1,ËÄå‰∏çÊòØ369535922 Âë¢Ôºå
ËøôÊòØÂõ†‰∏∫ËøôÈáåÁöÑÁ¨¨‰∏âÊ¨°Êè°ÊâãtcpdumpÊòæÁ§∫ÁöÑÊòØÁõ∏ÂØπÁöÑÈ°∫Â∫èÂè∑„ÄÇ‰ΩÜÊòØ‰∏∫‰∫Ü‰æø‰∫éËßÇÂØüÊàë‰ª¨ÈúÄË¶ÅÊäätcpdumpÁöÑ
È°∫Â∫èÂè∑Âèò‰∏∫ÁªùÂØπÁöÑÈ°∫Â∫èÂè∑„ÄÇ</p>
<p>ÂëΩ‰ª§Âè™ÈúÄË¶ÅÂä†-S(Â§ßÂÜô)‰æøÂèØÔºåÂç≥Ôºö<code>tcpdump -i lo port 5555 -S</code></p>
<p>Âä†‰∏ä‰πãÂêéÁªìÊûúÂ∞±Ê≠£Â∏∏‰∫ÜÂ¶Ç‰∏ãÂõæÔºö</p>
<p><img src="https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311150312.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>‰ªétcpdumpÁöÑÊï∞ÊçÆÔºåÂèØ‰ª•ÊòéÊòæÁöÑÁúãÂà∞‰∏âÊ¨°Êè°ÊâãÁöÑËøáÁ®ãÊòØÔºö
Á¨¨‰∏ÄÊ¨°Êè°ÊâãÔºöclient SYN=1, Sequence number=2322326583 ‚Äî&gt; server
Á¨¨‰∫åÊ¨°Êè°ÊâãÔºöserver SYN=1,Sequence number=3573692787; ACK=1, Acknowledgment number=2322326583 + 1 ‚Äî&gt; client
Á¨¨‰∏âÊ¨°Êè°ÊâãÔºöclient ACK=1, Acknowledgment number=3573692787 + 1 &ndash;&gt;server</p>
<p>ÊÉ≥ÁÆÄÂçï‰∫ÜËß£‰∏Ä‰∏ãTCP‰∏âÊ¨°Êè°ÊâãÁöÑËØù, ÁúãÂà∞ËøôÈáåÂ∞±ÂèØ‰ª•‰∫Ü.</p>
<h1 id="3tcp‰∏âÊ¨°Êè°ÊâãËØ¶ÁªÜËß£ÊûêËøáÁ®ã">3.TCP‰∏âÊ¨°Êè°ÊâãËØ¶ÁªÜËß£ÊûêËøáÁ®ãÔºö</h1>
<p><img src="https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311151642.png"
	
	
	
	loading="lazy"
	
	
></p>
<h2 id="31-Á¨¨‰∏ÄÊ¨°Êè°Êâã">3.1 Á¨¨‰∏ÄÊ¨°Êè°Êâã</h2>
<p>ÂÆ¢Êà∑Âú®socket() connect()Âêé‰∏ªÂä®(active open)ËøûÊé•‰∏äÊúçÂä°Âô®, ÂèëÈÄÅSYN ÔºåËøôÊó∂ÂÆ¢Êà∑Á´ØÁöÑÁä∂ÊÄÅÊòØSYN_SENT
ÊúçÂä°Âô®Âú®ËøõË°åsocket(),bind(),listen()ÂêéÁ≠âÂæÖÂÆ¢Êà∑ÁöÑËøûÊé•ÔºåÊî∂Âà∞ÂÆ¢Êà∑Á´ØÁöÑ SYN ÂêéÔºå</p>
<h3 id="311-ÂçäËøûÊé•ÈòüÂàósyn-queueÊú™Êª°">3.1.1 ÂçäËøûÊé•ÈòüÂàó(syn queue)Êú™Êª°</h3>
<p>ÊúçÂä°Âô®Â∞ÜËØ•ËøûÊé•ÁöÑÁä∂ÊÄÅÂèò‰∏∫SYN_RCVD, ÊúçÂä°Âô®ÊääËøûÊé•‰ø°ÊÅØÊîæÂà∞ÂçäËøûÊé•ÈòüÂàó(syn queue)ÈáåÈù¢„ÄÇ</p>
<h3 id="312-ÂçäËøûÊé•ÈòüÂàósyn-queueÂ∑≤Êª°">3.1.2 ÂçäËøûÊé•ÈòüÂàó(syn queue)Â∑≤Êª°</h3>
<p>ÊúçÂä°Âô®‰∏ç‰ºöÂ∞ÜËØ•ËøûÊé•ÁöÑÁä∂ÊÄÅÂèò‰∏∫SYN_RCVDÔºå‰∏îÂ∞ÜËØ•ËøûÊé•‰∏¢ÂºÉ(SYN floodÊîªÂáªÂ∞±ÊòØÂà©Áî®Ëøô‰∏™ÂéüÁêÜÔºå
ÂØπ‰∫éSYN fooldÊîªÂáªÔºåÂ∫îÂØπÊñπÊ≥ï‰πã‰∏ÄÊòØ‰ΩøsyncookiesÁîüÊïàÔºåÂ∞ÜÂÖ∂ÂÄºÁΩÆ1Âç≥ÂèØÔºåË∑ØÂæÑ/proc/sys/net/ipv4/tcp_syncookiesÔºå
Âç≥‰ΩøÊòØÂçäËøûÊé•ÈòüÂàósyn queueÂ∑≤ÁªèÊª°‰∫ÜÔºå‰πüÂèØ‰ª•Êé•Êî∂Ê≠£Â∏∏ÁöÑÈùûÊÅ∂ÊÑèÊîªÂáªÁöÑÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±ÇÔºå
‰ΩÜÊòØËøôÁßçÊñπÊ≥ïÂè™Âú®Êó†ËÆ°ÂèØÊñΩÁöÑÊÉÖÂÜµ‰∏ã‰ΩøÁî®Ôºåman tcpÈáåÈù¢ÁöÑËß£ÊûêÊòØËøôÊ†∑ËØ¥ÁöÑÔºå
<img src="https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311151743.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>Centos6.9ÈªòËÆ§ÊòØÁΩÆ‰∏∫1</p>
<p><img src="https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311151840.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>ÂçäËøûÊé•ÈòüÂàó(syn queue)ÊúÄÂ§ßÂÄº <code>/proc/sys/net/ipv4/tcp_max_syn_backlog</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311151858.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><strong>SYN floodÊîªÂáª</strong></p>
<blockquote>
<p>ÊîªÂáªÊñπÁöÑÂÆ¢Êà∑Á´ØÂè™ÂèëÈÄÅSYNÂàÜËäÇÁªôÊúçÂä°Âô®ÔºåÁÑ∂ÂêéÂØπÊúçÂä°Âô®ÂèëÂõûÊù•ÁöÑSYN+ACK‰ªÄ‰πà‰πü‰∏çÂÅöÔºåÁõ¥Êé•ÂøΩÁï•ÊéâÔºå
‰∏çÂèëÈÄÅACKÁªôÊúçÂä°Âô®ÔºõËøôÊ†∑Â∞±ÂèØ‰ª•Âç†ÊçÆÁùÄÊúçÂä°Âô®ÁöÑÂçäËøûÊé•ÈòüÂàóÁöÑËµÑÊ∫êÔºåÂØºËá¥Ê≠£Â∏∏ÁöÑÂÆ¢Êà∑Á´ØËøûÊé•Êó†Ê≥ïËøûÊé•‰∏äÊúçÂä°Âô®„ÄÇ<a class="link" href="https://zh.wikipedia.org/wiki/SYN_flood"  target="_blank" rel="noopener"
    >Áª¥Âü∫ÁôæÁßë</a></p>
<p>(SYN floodÊîªÂáªÁöÑÊñπÂºèÂÖ∂ÂÆû‰πüÂàÜ‰∏§ÁßçÔºåÁ¨¨‰∏ÄÁßçÔºåÊîªÂáªÊñπÁöÑÂÆ¢Êà∑Á´Ø‰∏ÄÁõ¥ÂèëÈÄÅSYNÔºåÂØπ‰∫éÊúçÂä°Âô®ÂõûÂ∫îÁöÑSYN+ACK‰ªÄ‰πà‰πü‰∏çÂÅöÔºå‰∏çÂõûÂ∫îACK, Á¨¨‰∫åÁßçÔºåÊîªÂáªÊñπÁöÑÂÆ¢Êà∑Á´ØÂèëÈÄÅSYNÊó∂ÔºåÂ∞ÜÊ∫êIPÊîπ‰∏∫‰∏Ä‰∏™ËôöÂÅáÁöÑIP, ÁÑ∂ÂêéÊúçÂä°Âô®Â∞ÜSYN+ACKÂèëÈÄÅÂà∞ËôöÂÅáÁöÑIP, ËøôÊ†∑ÂΩìÁÑ∂Ê∞∏Ëøú‰πüÂæó‰∏çÂà∞ACKÁöÑÂõûÂ∫î„ÄÇ)</p>
</blockquote>
<h2 id="32-Á¨¨‰∫åÊ¨°Êè°Êâã">3.2 Á¨¨‰∫åÊ¨°Êè°Êâã</h2>
<p>ÊúçÂä°Âô®ËøîÂõûSYN+ACKÊÆµÁªôÂà∞ÂÆ¢Êà∑Á´ØÔºåÂÆ¢Êà∑Á´ØÊî∂Âà∞SYN+ACKÊÆµÂêéÔºåÂÆ¢Êà∑Á´ØÁöÑÁä∂ÊÄÅ‰ªéSYN_SENTÂèò‰∏∫ESTABLISHEDÔºå
‰πüÂç≥ÊòØconnect()ÂáΩÊï∞ÁöÑËøîÂõû„ÄÇ</p>
<h2 id="33-Á¨¨‰∏âÊ¨°Êè°Êâã">3.3 Á¨¨‰∏âÊ¨°Êè°Êâã</h2>
<p>ÂÖ®ËøûÊé•ÈòüÂàó(accept queue)ÁöÑÊúÄÂ§ßÂÄº /proc/sys/net/core/somaxconn (ÈªòËÆ§128)</p>
<p><img src="https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311152107.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>ÂÖ®ËøûÊé•ÈòüÂàóÂÄº = min(backlog, somaxconn)
ËøôÈáåÁöÑbacklogÊòØlisten(int sockfd, int backlog)ÂáΩÊï∞ÈáåÈù¢ÁöÑÈÇ£‰∏™ÂèÇÊï∞backlog</p>
<h3 id="331-ÂÖ®ËøûÊé•ÈòüÂàóaccept-queueÊú™Êª°">3.3.1 ÂÖ®ËøûÊé•ÈòüÂàó(accept queue)Êú™Êª°</h3>
<p>ÊúçÂä°Âô®Êî∂Âà∞ÂÆ¢Êà∑Á´ØÂèëÊù•ÁöÑACK, ÊúçÂä°Á´ØËØ•ËøûÊé•ÁöÑÁä∂ÊÄÅ‰ªéSYN_RCVDÂèò‰∏∫ESTABLISHED,
ÁÑ∂ÂêéÊúçÂä°Âô®Â∞ÜËØ•ËøûÊé•‰ªéÂçäËøûÊé•ÈòüÂàó(syn queue)ÈáåÈù¢ÁßªÈô§Ôºå‰∏îÂ∞ÜËØ•ËøûÊé•ÁöÑ‰ø°ÊÅØÊîæÂà∞ÂÖ®ËøûÊé•ÈòüÂàó(accept queue)ÈáåÈù¢„ÄÇ</p>
<h3 id="332-ÂÖ®ËøûÊé•ÈòüÂàóaccept-queueÂ∑≤Êª°">3.3.2 ÂÖ®ËøûÊé•ÈòüÂàó(accept queue)Â∑≤Êª°</h3>
<p>ÊúçÂä°Âô®Êî∂Âà∞ÂÆ¢Êà∑Á´ØÂèëÊù•ÁöÑACK, ‰∏ç‰ºöÂ∞ÜËØ•ËøûÊé•ÁöÑÁä∂ÊÄÅ‰ªéSYN_RCVDÂèò‰∏∫ESTABLISHED„ÄÇ
ÂΩìÁÑ∂ÂÖ®ËøûÊé•ÈòüÂàó(accept queue)Â∑≤Êª°Êó∂ÔºåÂàôÊ†πÊçÆ tcp_abort_on_overflow ÁöÑÂÄºÊù•ÊâßË°åÁõ∏Â∫îÂä®‰Ωú
/proc/sys/net/ipv4/tcp_abort_on_overflow Êü•ÁúãÂèÇÊï∞ÂÄº
<img src="https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311152138.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="3321-tcp_abort_on_overflow--0">3.3.2.1 tcp_abort_on_overflow = 0</h4>
<p>ÂàôÊúçÂä°Âô®Âª∫Á´ãËØ•ËøûÊé•ÁöÑÂÆöÊó∂Âô®Ôºå</p>
<blockquote>
<p>Ëøô‰∏™ÂÆöÊó∂Âô®ÊòØ‰∏Ä‰∏™ÊúçÂä°Âô®ÁöÑËßÑÂàôÊòØ‰ªéÊñ∞ÂèëÈÄÅsyn+ackÁöÑÊó∂Èó¥Èó¥ÈöîÊàêÂÄçÁöÑÂ¢ûÂä†Ôºå
ÊØîÂ¶Ç‰ªéÊñ∞‰∫ÜÁ¨¨‰∫åÊ¨°Êè°ÊâãÔºåËøõË°å‰∫Ü5Ê¨°ÔºåËøô‰∫îÊ¨°ÁöÑÊó∂Èó¥ÂàÜÂà´ÊòØ 1s, 2s,4s,8s,16s,
ËøôÁßçÂÄçÊï∞ËßÑÂàôÂè´‚Äú‰∫åËøõÂà∂ÊåáÊï∞ÈÄÄËÆ©‚Äù(binary exponential backoff)</p>
</blockquote>
<p>ÁªôÂÆ¢Êà∑Á´ØÂÆöÊó∂‰ªéÊñ∞ÂèëÂõûSYN+ACKÂç≥‰ªéÊñ∞ËøõË°åÁ¨¨‰∫åÊ¨°Êè°ÊâãÔºå(Â¶ÇÊûúÂÆ¢Êà∑Á´ØËÆæÂÆöÁöÑË∂ÖÊó∂Êó∂Èó¥ÊØîËæÉÁü≠Â∞±ÂæàÂÆπÊòìÂá∫Áé∞ÂºÇÂ∏∏)
<code>ÊúçÂä°Âô®‰ªéÊñ∞ËøõË°åÁ¨¨‰∫åÊ¨°Êè°ÊâãÁöÑÊ¨°Êï∞/proc/sys/net/ipv4/tcp_synack_retries</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311152221.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="3322-tcp_abort_on_overflow--1">3.3.2.2 tcp_abort_on_overflow = 1</h4>
<p>ÂÖ≥‰∫étcp_abort_on_overflowÁöÑËß£ÊûêÂ¶Ç‰∏ãÔºö</p>
<p><img src="https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311152247.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>ÊÑèÊÄùÂ∫îËØ•ÊòØÔºåÂΩì tcp_abort_on_overflow Á≠â‰∫é1 Êó∂,ÈáçÁΩÆËøûÊé•(‰∏ÄËà¨ÊòØÂèëÈÄÅRSTÁªôÂÆ¢Êà∑Á´Ø)Ôºå
Ëá≥‰∫éÊÄé‰πàÈáçÁΩÆËøûÊé•ÊòØÁ≥ªÁªüÁöÑ‰∫ãÊÉÖ‰∫Ü„ÄÇ
‰∏çËøáÊàëÂú®Êü•ËµÑÊñôÁöÑËøáÁ®ãÂèëÁé∞ÔºåÈòøÈáå‰∏≠Èó¥‰ª∂Âõ¢ÈòüÂçöÂÆ¢ËØ¥Âπ∂‰∏çÊòØÂèëÈÄÅRSTÔºå ‚Äî[ÈòøÈáå‰∏≠Èó¥‰ª∂Âõ¢ÈòüÂçöÂÆ¢]</p>
<p>Ëøô‰∏™ÂçöÂÆ¢Ë∑ëÁöÑÂÆû‰æãËßÇÂØüÂà∞ÁöÑÊòØÊúçÂä°Âô®‰ºöÂøΩÁï•client‰º†ËøáÊù•ÁöÑÂåÖÔºåÁÑ∂ÂêéclientÈáç‰º†Ôºå‰∏ÄÂÆöÊ¨°Êï∞ÂêéclientËÆ§‰∏∫ÂºÇÂ∏∏ÔºåÁÑ∂ÂêéÊñ≠ÂºÄËøûÊé•„ÄÇ
ÂΩìÁÑ∂ÔºåÊàë‰ª¨ÂÜô‰ª£Á†ÅÁöÑÈÉΩÁü•ÈÅì‰ª£Á†ÅÊòØÁ¨¨‰∏ÄÊâãÁöÑÊ≥®ÈáäÔºåÂÆûË∑µÊòØÊ£ÄÈ™åÁúüÁêÜÁöÑÂîØ‰∏ÄÊ†áÂáÜÔºå
ÊúÄÂ•ΩËøòÊòØËá™Â∑±‰ª•Ëá™Â∑±ÂÆûË∑µ‰∏∫ÂáÜÔºåÂõ†‰∏∫ÂèØËÉΩ‰Ω†ÁöÑÁéØÂ¢ÉË∑üÂà´‰∫∫ÁöÑ‰∏ç‰∏ÄÊ†∑„ÄÇ)</p>
<p>Êü•ÁúãÂÖ®ËøûÊé•ÈòüÂàó(accept queue)ÁöÑ‰ΩøÁî®ÊÉÖÂÜµ</p>
<p><img src="https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311152314.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>Â¶Ç‰∏äÂõæÔºåÁ¨¨‰∫åÂàóRecv-QÊòØÔºåÂÖ®ËøûÊé•ÈòüÂàóÊé•Êî∂Âà∞ËææÁöÑËøûÊé•ÔºåÁ¨¨‰∏âÂàóÊòØSend-QÂÖ®ËøûÊé•ÈòüÂàóÁöÑÊâÄËÉΩÂÆπÁ∫≥ÊúÄÂ§ßÂÄºÔºå
Â¶ÇÊûúÔºåRecv-Q Â§ß‰∫é Send-Q ÈÇ£‰πàÂ§ß‰∫éÁöÑÈÇ£ÈÉ®ÂàÜÔºåÊòØË¶ÅÊ∫¢Âá∫ÁöÑÂç≥Ë¶ÅË¢´‰∏¢ÂºÉoverflowÊéâÁöÑ„ÄÇ</p>
<p>Â∏åÊúõÁÉ≠ÂøÉÁöÑÁΩëÂèãÂ∏ÆÂøôÊèêÊîπËøõÊÑèËßÅÊó∂ÂèØ‰ª•Áõ¥Êé•ÊåáÂá∫Âì™‰∏ÄÊÆµÁ¨¨Âá†Âè•(ÊØîÂ¶Ç 2.4.1 tcpdump Á¨¨‰∏ÄÊÆµÁ¨¨‰∏ÄÂè•, ÂëΩ‰ª§tcpdump -i lo port 5555 ÈáåÂèÇÊï∞ i Áî®Èîô‰∫ÜÔºåÂ∫îËØ•Áî® I)ÔºåËøôÊ†∑ÊØîËæÉÂø´ÈÄüÊâæÂà∞Â•ΩÊîπÊ≠£„ÄÇ</p>
<h1 id="4-ÂõõÊ¨°Êå•Êâã">4 ÂõõÊ¨°Êå•Êâã</h1>
<p><img src="https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311152407.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311152602.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><strong>„ÄêÊ≥®ÊÑè„Äë‰∏≠Êñ≠ËøûÊé•Á´ØÂèØ‰ª•ÊòØClientÁ´ØÔºå‰πüÂèØ‰ª•ÊòØServerÁ´Ø„ÄÇ</strong></p>
<p>ÂÅáËÆæClientÁ´ØÂèëËµ∑‰∏≠Êñ≠ËøûÊé•ËØ∑Ê±ÇÔºå‰πüÂ∞±ÊòØÂèëÈÄÅFINÊä•Êñá„ÄÇServerÁ´ØÊé•Âà∞FINÊä•ÊñáÂêéÔºåÊÑèÊÄùÊòØËØ¥&quot;ÊàëClientÁ´ØÊ≤°ÊúâÊï∞ÊçÆË¶ÅÂèëÁªô‰Ω†‰∫Ü&quot;Ôºå‰ΩÜÊòØÂ¶ÇÊûú‰Ω†ËøòÊúâÊï∞ÊçÆÊ≤°ÊúâÂèëÈÄÅÂÆåÊàêÔºåÂàô‰∏çÂøÖÊÄ•ÁùÄÂÖ≥Èó≠SocketÔºåÂèØ‰ª•ÁªßÁª≠ÂèëÈÄÅÊï∞ÊçÆ„ÄÇÊâÄ‰ª•‰Ω†ÂÖàÂèëÈÄÅACKÔºå&ldquo;ÂëäËØâClientÁ´ØÔºå‰Ω†ÁöÑËØ∑Ê±ÇÊàëÊî∂Âà∞‰∫ÜÔºå‰ΩÜÊòØÊàëËøòÊ≤°ÂáÜÂ§áÂ•ΩÔºåËØ∑ÁªßÁª≠‰Ω†Á≠âÊàëÁöÑÊ∂àÊÅØ&rdquo;„ÄÇËøô‰∏™Êó∂ÂÄôClientÁ´ØÂ∞±ËøõÂÖ•FIN_WAITÁä∂ÊÄÅÔºåÁªßÁª≠Á≠âÂæÖServerÁ´ØÁöÑFINÊä•Êñá„ÄÇÂΩìServerÁ´ØÁ°ÆÂÆöÊï∞ÊçÆÂ∑≤ÂèëÈÄÅÂÆåÊàêÔºåÂàôÂêëClientÁ´ØÂèëÈÄÅFINÊä•ÊñáÔºå&ldquo;ÂëäËØâClientÁ´ØÔºåÂ•Ω‰∫ÜÔºåÊàëËøôËæπÊï∞ÊçÆÂèëÂÆå‰∫ÜÔºåÂáÜÂ§áÂ•ΩÂÖ≥Èó≠ËøûÊé•‰∫Ü&rdquo;„ÄÇClientÁ´ØÊî∂Âà∞FINÊä•ÊñáÂêéÔºå&ldquo;Â∞±Áü•ÈÅìÂèØ‰ª•ÂÖ≥Èó≠ËøûÊé•‰∫ÜÔºå‰ΩÜÊòØ‰ªñËøòÊòØ‰∏çÁõ∏‰ø°ÁΩëÁªúÔºåÊÄïServerÁ´Ø‰∏çÁü•ÈÅìË¶ÅÂÖ≥Èó≠ÔºåÊâÄ‰ª•ÂèëÈÄÅACKÂêéËøõÂÖ•TIME_WAITÁä∂ÊÄÅÔºåÂ¶ÇÊûúServerÁ´ØÊ≤°ÊúâÊî∂Âà∞ACKÂàôÂèØ‰ª•Èáç‰º†„ÄÇ‚ÄúÔºåServerÁ´ØÊî∂Âà∞ACKÂêéÔºå&ldquo;Â∞±Áü•ÈÅìÂèØ‰ª•Êñ≠ÂºÄËøûÊé•‰∫Ü&rdquo;„ÄÇClientÁ´ØÁ≠âÂæÖ‰∫Ü2MSLÂêé‰æùÁÑ∂Ê≤°ÊúâÊî∂Âà∞ÂõûÂ§çÔºåÂàôËØÅÊòéServerÁ´ØÂ∑≤Ê≠£Â∏∏ÂÖ≥Èó≠ÔºåÈÇ£Â•ΩÔºåÊàëClientÁ´Ø‰πüÂèØ‰ª•ÂÖ≥Èó≠ËøûÊé•‰∫Ü„ÄÇOkÔºåTCPËøûÊé•Â∞±ËøôÊ†∑ÂÖ≥Èó≠‰∫ÜÔºÅ</p>
<p>Êï¥‰∏™ËøáÁ®ãClientÁ´ØÊâÄÁªèÂéÜÁöÑÁä∂ÊÄÅÂ¶Ç‰∏ãÔºö
<img src="https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311152636.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>ËÄåServerÁ´ØÊâÄÁªèÂéÜÁöÑËøáÁ®ãÂ¶Ç‰∏ãÔºö</p>
<p><img src="https://cdn.jsdelivr.net/gh/lxbwolf/blog_source_image@main/20220311152709.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><strong>„ÄêÊ≥®ÊÑè„Äë</strong> Âú®TIME_WAITÁä∂ÊÄÅ‰∏≠ÔºåÂ¶ÇÊûúTCP clientÁ´ØÊúÄÂêé‰∏ÄÊ¨°ÂèëÈÄÅÁöÑACK‰∏¢Â§±‰∫ÜÔºåÂÆÉÂ∞ÜÈáçÊñ∞ÂèëÈÄÅ„ÄÇTIME_WAITÁä∂ÊÄÅ‰∏≠ÊâÄÈúÄË¶ÅÁöÑÊó∂Èó¥ÊòØ‰æùËµñ‰∫éÂÆûÁé∞ÊñπÊ≥ïÁöÑ„ÄÇÂÖ∏ÂûãÁöÑÂÄº‰∏∫30Áßí„ÄÅ1ÂàÜÈíüÂíå2ÂàÜÈíü„ÄÇÁ≠âÂæÖ‰πãÂêéËøûÊé•Ê≠£ÂºèÂÖ≥Èó≠ÔºåÂπ∂‰∏îÊâÄÊúâÁöÑËµÑÊ∫ê(ÂåÖÊã¨Á´ØÂè£Âè∑)ÈÉΩË¢´ÈáäÊîæ„ÄÇ</p>
<p>„ÄêÈóÆÈ¢ò1„Äë‰∏∫‰ªÄ‰πàËøûÊé•ÁöÑÊó∂ÂÄôÊòØ‰∏âÊ¨°Êè°ÊâãÔºåÂÖ≥Èó≠ÁöÑÊó∂ÂÄôÂç¥ÊòØÂõõÊ¨°Êè°ÊâãÔºü
Á≠îÔºöÂõ†‰∏∫ÂΩìServerÁ´ØÊî∂Âà∞ClientÁ´ØÁöÑSYNËøûÊé•ËØ∑Ê±ÇÊä•ÊñáÂêéÔºåÂèØ‰ª•Áõ¥Êé•ÂèëÈÄÅSYN+ACKÊä•Êñá„ÄÇÂÖ∂‰∏≠ACKÊä•ÊñáÊòØÁî®Êù•Â∫îÁ≠îÁöÑÔºåSYNÊä•ÊñáÊòØÁî®Êù•ÂêåÊ≠•ÁöÑ„ÄÇ‰ΩÜÊòØÂÖ≥Èó≠ËøûÊé•Êó∂ÔºåÂΩìServerÁ´ØÊî∂Âà∞FINÊä•ÊñáÊó∂ÔºåÂæàÂèØËÉΩÂπ∂‰∏ç‰ºöÁ´ãÂç≥ÂÖ≥Èó≠SOCKETÔºåÊâÄ‰ª•Âè™ËÉΩÂÖàÂõûÂ§ç‰∏Ä‰∏™ACKÊä•ÊñáÔºåÂëäËØâClientÁ´ØÔºå&ldquo;‰Ω†ÂèëÁöÑFINÊä•ÊñáÊàëÊî∂Âà∞‰∫Ü&rdquo;„ÄÇÂè™ÊúâÁ≠âÂà∞ÊàëServerÁ´ØÊâÄÊúâÁöÑÊä•ÊñáÈÉΩÂèëÈÄÅÂÆå‰∫ÜÔºåÊàëÊâçËÉΩÂèëÈÄÅFINÊä•ÊñáÔºåÂõ†Ê≠§‰∏çËÉΩ‰∏ÄËµ∑ÂèëÈÄÅ„ÄÇÊïÖÈúÄË¶ÅÂõõÊ≠•Êè°Êâã„ÄÇ</p>
<p>„ÄêÈóÆÈ¢ò2„Äë‰∏∫‰ªÄ‰πàTIME_WAITÁä∂ÊÄÅÈúÄË¶ÅÁªèËøá2MSL(ÊúÄÂ§ßÊä•ÊñáÊÆµÁîüÂ≠òÊó∂Èó¥)ÊâçËÉΩËøîÂõûÂà∞CLOSEÁä∂ÊÄÅÔºü</p>
<p>Á≠îÔºöËôΩÁÑ∂ÊåâÈÅìÁêÜÔºåÂõõ‰∏™Êä•ÊñáÈÉΩÂèëÈÄÅÂÆåÊØïÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•ËøõÂÖ•CLOSEÁä∂ÊÄÅ‰∫ÜÔºå‰ΩÜÊòØÊàë‰ª¨ÂøÖÈ°ªÂÅáË±°ÁΩëÁªúÊòØ‰∏çÂèØÈù†ÁöÑÔºåÊúâÂèØ‰ª•ÊúÄÂêé‰∏Ä‰∏™ACK‰∏¢Â§±„ÄÇÊâÄ‰ª•TIME_WAITÁä∂ÊÄÅÂ∞±ÊòØÁî®Êù•ÈáçÂèëÂèØËÉΩ‰∏¢Â§±ÁöÑACKÊä•Êñá„ÄÇ</p>
<p>Ê†πÊçÆÁ¨¨‰∏âÁâà„ÄäUNIXÁΩëÁªúÁºñÁ®ã Âç∑1„Äã2.7ËäÇÔºåTIME_WAITÁä∂ÊÄÅÁöÑ‰∏ªË¶ÅÁõÆÁöÑÊúâ‰∏§‰∏™Ôºö</p>
<ul>
<li>‰ºòÈõÖÁöÑÂÖ≥Èó≠TCPËøûÊé•Ôºå‰πüÂ∞±ÊòØÂ∞ΩÈáè‰øùËØÅË¢´Âä®ÂÖ≥Èó≠ÁöÑ‰∏ÄÁ´ØÊî∂Âà∞ÂÆÉËá™Â∑±ÂèëÂá∫ÂéªÁöÑFINÊä•ÊñáÁöÑACKÁ°ÆËÆ§Êä•ÊñáÔºõ</li>
<li>Â§ÑÁêÜÂª∂ËøüÁöÑÈáçÂ§çÊä•ÊñáÔºåËøô‰∏ªË¶ÅÊòØ‰∏∫‰∫ÜÈÅøÂÖçÂâçÂêé‰∏§‰∏™‰ΩøÁî®Áõ∏ÂêåÂõõÂÖÉÁªÑÁöÑËøûÊé•‰∏≠ÁöÑÂâç‰∏Ä‰∏™ËøûÊé•ÁöÑÊä•ÊñáÂπ≤Êâ∞Âêé‰∏Ä‰∏™ËøûÊé•„ÄÇ</li>
</ul>
<p>„ÄÄ„ÄÄÂæàÊòéÊòæÔºåË¶ÅÂÆûÁé∞‰∏äËø∞‰∏§‰∏™ÁõÆÊ†áÔºåTIME_WAITÁä∂ÊÄÅÈúÄË¶ÅÊåÅÁª≠‰∏ÄÊÆµÊó∂Èó¥Ôºå‰ΩÜËøôÊÆµÊó∂Èó¥Â∫îËØ•ÊòØÂ§öÈïøÂë¢Ôºü</p>
<p>„ÄÄ„ÄÄÂ¶ÇÊûúÂè™ËÄÉËôë‰∏äËø∞Á¨¨‰∏Ä‰∏™ÁõÆÊ†áÔºåÂàôTIME_WAITÁä∂ÊÄÅÈúÄË¶ÅÊåÅÁª≠ÁöÑÊó∂Èó¥Â∫îËØ•ÂèÇËÄÉÂØπÁ´ØÁöÑRTOÔºàÈáç‰º†Ë∂ÖÊó∂Êó∂Èó¥Ôºâ‰ª•ÂèäMSLÔºàÊä•ÊñáÂú®ÁΩëÁªú‰∏≠ÁöÑÊúÄÂ§ßÁîüÂ≠òÊó∂Èó¥ÔºâÊù•ËÆ°ÁÆóËÄå‰∏çÊòØ‰ªÖ‰ªÖÊåâMSLÊù•ËÆ°ÁÆóÔºåÂõ†‰∏∫Âè™Ë¶ÅÂØπÁ´ØÊ≤°ÊúâÊî∂Âà∞ÈíàÂØπFINÊä•ÊñáÁöÑACKÔºåÂ∞±‰ºö‰∏ÄÁõ¥ÊåÅÁª≠Èáç‰º†FINÊä•ÊñáÁõ¥Âà∞Èáç‰º†Ë∂ÖÊó∂ÔºåÊâÄ‰ª•ÊúÄËÉΩÂÆûÁé∞ÂÆåÁæéÂÖ≥Èó≠ËøûÊé•ÁöÑÊó∂ÈïøËÆ°ÁÆóÊñπÂºèÂ∫îËØ•ÊòØ‰ªéÂØπÁ´ØÂèëÈÄÅÁ¨¨‰∏Ä‰∏™FINÊä•ÊñáÂºÄÂßãËÆ°Êó∂Âà∞ÂÆÉÊúÄÂêé‰∏ÄÊ¨°Èáç‰º†FINÊä•ÊñáËøôÊÆµÊó∂ÈïøÂä†‰∏äMSLÔºå‰ΩÜËøô‰∏™ËÆ°ÁÆóÊñπÂºèËøá‰∫é‰øùÂÆàÔºåÂè™ÊúâÂú®ÊâÄÊúâÁöÑACKÊä•ÊñáÈÉΩ‰∏¢Â§±ÁöÑÊÉÖÂÜµ‰∏ãÊâçÈúÄË¶ÅËøô‰πàÈïøÁöÑÊó∂Èó¥ÔºõÂè¶Â§ñÔºåÁ¨¨‰∏Ä‰∏™ÁõÆÊ†áËôΩÁÑ∂ÈáçË¶ÅÔºå‰ΩÜÂπ∂‰∏çÂçÅÂàÜÂÖ≥ÈîÆÔºåÂõ†‰∏∫Êó¢ÁÑ∂Â∑≤ÁªèÂà∞‰∫ÜÂÖ≥Èó≠ËøûÊé•ÁöÑÊúÄÂêé‰∏ÄÊ≠•ÔºåËØ¥ÊòéÂú®Ëøô‰∏™TCPËøûÊé•‰∏äÁöÑÊâÄÊúâÁî®Êà∑Êï∞ÊçÆÂ∑≤ÁªèÂÆåÊàêÂèØÈù†‰º†ËæìÔºåÊâÄ‰ª•Ë¶Å‰∏çË¶ÅÂÆåÁæéÁöÑÂÖ≥Èó≠Ëøô‰∏™ËøûÊé•ÂÖ∂ÂÆûÂ∑≤Áªè‰∏çÊòØÈÇ£‰πàÂÖ≥ÈîÆ‰∫Ü„ÄÇÂõ†Ê≠§ÔºåÔºàÊàëÁåúÔºâRFCÊ†áÂáÜÁöÑÂà∂ÂÆöËÄÖÊâçÂÜ≥ÂÆö‰ª•ÁΩëÁªú‰∏¢ÂåÖ‰∏çÂ§™‰∏•Èáç‰∏∫ÂâçÊèêÊù°‰ª∂ÔºåÁÑ∂ÂêéÊ†πÊçÆÁ¨¨‰∫å‰∏™ÁõÆÊ†áÊù•ËÆ°ÁÆóTIME_WAITÁä∂ÊÄÅÂ∫îËØ•ÊåÅÁª≠ÁöÑÊó∂Èïø„ÄÇ</p>
<p>ÂØπ‰∫éÂàöÊâçËØ¥ÁöÑÁ¨¨‰∫åÁÇπÔºåÂ¶Ç‰ΩïÁêÜËß£TIME_WAITÁä∂ÊÄÅÊåÅÁª≠2MSLÁöÑÊó∂Èó¥Â∞±ÂèØ‰ª•ÈÅøÂÖçÂâçÂêé‰∏§‰∏™‰ΩøÁî®Áõ∏ÂêåÂõõÂÖÉÁªÑÁöÑËøûÊé•‰∏≠ÁöÑÂâç‰∏Ä‰∏™ËøûÊé•ÁöÑÊä•ÊñáÂπ≤Êâ∞Âêé‰∏Ä‰∏™ËøûÊé•Âë¢Ôºü</p>
<p>È¶ñÂÖàÊàë‰ª¨ÈúÄË¶Å‰∫ÜËß£Â¶Ç‰∏ãË¶ÅÁÇπÔºö</p>
<ol>
<li>TCPËøûÊé•‰∏≠ÁöÑ‰∏ÄÁ´ØÂèëÈÄÅ‰∫ÜFINÊä•Êñá‰πãÂêéÂ¶ÇÊûúÊî∂‰∏çÂà∞ÂØπÁ´ØÈíàÂØπËØ•FINÁöÑACKÔºåÂàô‰ºöÂèçÂ§çÂ§öÊ¨°Èáç‰º†FINÊä•ÊñáÔºåÂ§ßÁ∫¶ÊåÅÁª≠Âá†ÂàÜÈíüÔºõ</li>
<li>Ë¢´Âä®ÂÖ≥Èó≠Â§Ñ‰∫éLAST_ACKÁä∂ÊÄÅÁöÑ‰∏ÄÁ´ØÂú®Êî∂Âà∞ÊúÄÂêé‰∏Ä‰∏™ACK‰πãÂêé‰∏ç‰ºöÂèëÈÄÅ‰ªª‰ΩïÊä•ÊñáÔºåÁ´ãÂç≥ËøõÂÖ•CLOSEDÁä∂ÊÄÅÔºõ</li>
<li>‰∏ªÂä®ÂÖ≥Èó≠ÁöÑ‰∏ÄÁ´ØÂú®Êî∂Âà∞Ë¢´Âä®ÂÖ≥Èó≠Á´ØÂèëÈÄÅËøáÊù•ÁöÑFINÊä•ÊñáÂπ∂ÂõûÂ§çACK‰πãÂêéËøõÂÖ•TIME_WAITÁä∂ÊÄÅÔºõ</li>
<li>‰πãÊâÄ‰ª•TIME_WAITÁä∂ÊÄÅÈúÄË¶ÅÁª¥ÊåÅ‰∏ÄÊÆµÊó∂Èó¥ËÄå‰∏çÊòØËøõÂÖ•CLOSEDÁä∂ÊÄÅÔºåÊòØÂõ†‰∏∫ÈúÄË¶ÅÂ§ÑÁêÜÂØπÁ´ØÂèØËÉΩÈáç‰º†ÁöÑFINÊä•ÊñáÊàñÂÖ∂ÂÆÉ‰∏Ä‰∫õÂõ†ÁΩëÁªúÂéüÂõ†ËÄåÂª∂ËøüÁöÑÊï∞ÊçÆÊä•ÊñáÔºå‰∏çÂ§ÑÁêÜËøô‰∫õÊä•ÊñáÂèØËÉΩÂØºËá¥ÂâçÂêé‰∏§‰∏™‰ΩøÁî®Áõ∏ÂêåÂõõÂÖÉÁªÑÁöÑËøûÊé•‰∏≠ÁöÑÂêé‰∏Ä‰∏™ËøûÊé•Âá∫Áé∞ÂºÇÂ∏∏(ËØ¶ËßÅUNIXÁΩëÁªúÁºñÁ®ãÂç∑1ÁöÑ2.7ËäÇ Á¨¨‰∏âÁâà)Ôºõ</li>
<li>Â§Ñ‰∫éTIME_WAITÁä∂ÊÄÅÁöÑ‰∏ÄÁ´ØÂú®Êî∂Âà∞Èáç‰º†ÁöÑFINÊó∂‰ºöÈáçÊñ∞ËÆ°Êó∂(rfc793 ‰ª•Âèä linux kernelÊ∫ê‰ª£Á†Åtcp_timewait_state_processÂáΩÊï∞)„ÄÇ</li>
</ol>
<p>„ÄÄ„ÄÄ‰∏ãÈù¢Êàë‰ª¨ÂºÄÂßãÂàÜÊûê‰∏∫‰ªÄ‰πàÂú®ÂèëÈÄÅ‰∫ÜÊúÄÂêé‰∏Ä‰∏™ACKÊä•Êñá‰πãÂêéÈúÄË¶ÅÁ≠âÂæÖ2MSLÊó∂ÈïøÊù•Á°Æ‰øùÊ≤°Êúâ‰ªª‰ΩïÂ±û‰∫éÂΩìÂâçËøûÊé•ÁöÑÊä•ÊñáËøòÂ≠òÊ¥ª‰∫éÁΩëÁªú‰πã‰∏≠ÔºàÂâçÊèêÊòØÂú®Ëøô2MSLÊó∂Èó¥ÂÜÖ‰∏çÂÜçÊî∂Âà∞ÂØπÊñπÁöÑFINÊä•ÊñáÔºå‰ΩÜÂç≥‰ΩøÊî∂Âà∞‰∫ÜÂØπÁ´ØÁöÑFINÊä•Êñá‰πüÂπ∂‰∏çÂΩ±ÂìçÊàë‰ª¨ÁöÑËÆ®ËÆ∫ÔºåÂõ†‰∏∫Â¶ÇÊûúÊî∂Âà∞FINÂàô‰ºöÂõûÂ§çACKÂπ∂ÈáçÊñ∞ËÆ°Êó∂Ôºâ„ÄÇ</p>
<p>„ÄÄ„ÄÄ‰∏∫‰∫Ü‰æø‰∫éÊèèËø∞ÔºåÊàë‰ª¨ËÆæÊÉ≥Êúâ‰∏Ä‰∏™Â§Ñ‰∫éÊãÜÈìæËøáÁ®ã‰∏≠ÁöÑTCPËøûÊé•ÔºåËøô‰∏™ËøûÊé•ÁöÑ‰∏§Á´ØÂàÜÂà´ÊòØAÂíåBÔºåÂÖ∂‰∏≠AÊòØ‰∏ªÂä®ÂÖ≥Èó≠ËøûÊé•ÁöÑ‰∏ÄÁ´ØÔºåÂõ†‰∏∫ÂàöÂàöÂêëÂØπÁ´ØÂèëÈÄÅ‰∫ÜÈíàÂØπÂØπÁ´ØÂèëÈÄÅËøáÊù•ÁöÑFINÊä•ÊñáÁöÑACKÔºåÊ≠§Êó∂Ê≠£Â§Ñ‰∫éTIME_WAITÁä∂ÊÄÅÔºõËÄåBÊòØË¢´Âä®ÂÖ≥Èó≠ÁöÑ‰∏ÄÁ´ØÔºåÊ≠§Êó∂Ê≠£Â§Ñ‰∫éLAST_ACKÁä∂ÊÄÅÔºåÂú®Êî∂Âà∞ÊúÄÂêé‰∏Ä‰∏™ACK‰πãÂâçÂÆÉ‰ºö‰∏ÄÁõ¥Èáç‰º†FINÊä•ÊñáÁõ¥Ëá≥Ë∂ÖÊó∂„ÄÇÈöèÁùÄÊó∂Èó¥ÁöÑÊµÅÈÄùÔºåAÂèëÈÄÅÁªôBÁöÑACKÊä•ÊñáÂ∞Ü‰ºöÊúâ‰∏§ÁßçÁªìÂ±ÄÔºö</p>
<ol>
<li>ACKÊä•ÊñáÂú®ÁΩëÁªú‰∏≠‰∏¢Â§±ÔºõÂ¶ÇÂâçÊâÄËø∞ÔºåËøôÁßçÊÉÖÂÜµÊàë‰ª¨‰∏çÈúÄË¶ÅËÄÉËôëÔºåÂõ†‰∏∫Èô§ÈùûÂ§öÊ¨°Èáç‰º†Â§±Ë¥•ÔºåÂê¶ÂàôAB‰∏§Á´ØÁöÑÁä∂ÊÄÅ‰∏ç‰ºöÂèëÁîüÂèòÂåñÁõ¥Ëá≥Êüê‰∏Ä‰∏™ACK‰∏çÂÜç‰∏¢Â§±„ÄÇ</li>
<li>ACKÊä•ÊñáË¢´BÊé•Êî∂Âà∞„ÄÇÊàë‰ª¨ÂÅáËÆæAÂèëÈÄÅ‰∫ÜACKÊä•ÊñáÂêéËøá‰∫Ü‰∏ÄÊÆµÊó∂Èó¥t‰πãÂêéBÊâçÊî∂Âà∞ËØ•ACKÔºåÂàôÊúâ 0 &lt; t &lt;= MSL„ÄÇÂõ†‰∏∫AÂπ∂‰∏çÁü•ÈÅìÂÆÉÂèëÈÄÅÂá∫ÂéªÁöÑACKË¶ÅÂ§ö‰πÖÂØπÊñπÊâçËÉΩÊî∂Âà∞ÔºåÊâÄ‰ª•AËá≥Â∞ëË¶ÅÁª¥ÊåÅMSLÊó∂ÈïøÁöÑTIME_WAITÁä∂ÊÄÅÊâçËÉΩ‰øùËØÅÂÆÉÁöÑACK‰ªéÁΩëÁªú‰∏≠Ê∂àÂ§±„ÄÇÂêåÊó∂Â§Ñ‰∫éLAST_ACKÁä∂ÊÄÅÁöÑBÂõ†‰∏∫Êî∂Âà∞‰∫ÜACKÔºåÊâÄ‰ª•ÂÆÉÁõ¥Êé•Â∞±ËøõÂÖ•‰∫ÜCLOSEDÁä∂ÊÄÅÔºåËÄå‰∏ç‰ºöÂêëÁΩëÁªúÂèëÈÄÅ‰ªª‰ΩïÊä•Êñá„ÄÇÊâÄ‰ª•ÊôÉÁúº‰∏ÄÁúãÔºåAÂè™ÈúÄË¶ÅÁ≠âÂæÖ1‰∏™MSLÂ∞±Â§ü‰∫ÜÔºå‰ΩÜ‰ªîÁªÜÊÉ≥‰∏Ä‰∏ãÂÖ∂ÂÆû1‰∏™MSLÊòØ‰∏çË°åÁöÑÔºåÂõ†‰∏∫Âú®BÊî∂Âà∞ACKÂâçÁöÑ‰∏ÄÂàπÈÇ£ÔºåBÂèØËÉΩÂõ†‰∏∫Ê≤°Êî∂Âà∞ACKËÄåÈáç‰º†‰∫Ü‰∏Ä‰∏™FINÊä•ÊñáÔºåËøô‰∏™FINÊä•ÊñáË¶Å‰ªéÁΩëÁªú‰∏≠Ê∂àÂ§±ÊúÄÂ§öËøòÈúÄË¶Å‰∏Ä‰∏™MSLÊó∂ÈïøÔºåÊâÄ‰ª•AËøòÈúÄË¶ÅÂ§öÁ≠â‰∏Ä‰∏™MSL„ÄÇ</li>
</ol>
<p>„ÄÄ„ÄÄÁªº‰∏äÊâÄËø∞ÔºåTIME_WAITËá≥Â∞ëÈúÄË¶ÅÊåÅÁª≠2MSLÊó∂ÈïøÔºåËøô2‰∏™MSL‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™MSLÊòØ‰∏∫‰∫ÜÁ≠âËá™Â∑±ÂèëÂá∫ÂéªÁöÑÊúÄÂêé‰∏Ä‰∏™ACK‰ªéÁΩëÁªú‰∏≠Ê∂àÂ§±ÔºåËÄåÁ¨¨‰∫åMSLÊòØ‰∏∫‰∫ÜÁ≠âÂú®ÂØπÁ´ØÊî∂Âà∞ACK‰πãÂâçÁöÑ‰∏ÄÂàπÈÇ£ÂèØËÉΩÈáç‰º†ÁöÑFINÊä•Êñá‰ªéÁΩëÁªú‰∏≠Ê∂àÂ§±„ÄÇÂè¶Â§ñÔºåËôΩÁÑ∂ËØ¥Áª¥ÊåÅTIME_WAITÁä∂ÊÄÅ‰∏ÄÊÆµÊó∂Èó¥Êúâ2‰∏™ÁõÆÁöÑÔºå‰ΩÜËøôÊÆµÊó∂Èó¥ÂÖ∑‰ΩìÂ∫îËØ•Â§öÈïø‰∏ªË¶ÅÊòØ‰∏∫‰∫ÜËææÊàê‰∏äËø∞Á¨¨‰∫å‰∏™ÁõÆÁöÑËÄåËÆæËÆ°ÁöÑ„ÄÇ</p>

</section>


    <footer class="article-footer">
    

    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

     
    
        
    <script src="https://utteranc.es/client.js" 
        repo="lxbwolf/lxbwolf.github.io"
        issue-term="pathname"
        
        crossorigin="anonymous"
        async
        >
</script>

<style>
    .utterances {
        max-width: unset;
    }
</style>

<script>
    let utterancesLoaded = false;

    function setUtterancesTheme(theme) {
        let utterances = document.querySelector('.utterances iframe');
        if (utterances) {
            utterances.contentWindow.postMessage(
                {
                    type: 'set-theme',
                    theme: `github-${theme}`
                },
                'https://utteranc.es'
            );
        }
    }

    addEventListener('message', event => {
        if (event.origin !== 'https://utteranc.es') return;

        
        utterancesLoaded = true;
        setUtterancesTheme(document.documentElement.dataset.scheme)
    });

    window.addEventListener('onColorSchemeChange', (e) => {
        if (!utterancesLoaded) return;
        setUtterancesTheme(e.detail)
    })
</script>


    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2023 Xiaobin&#39;s Blog
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        ‰∏ªÈ¢ò <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.16.0">Stack</a></b> Áî± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> ËÆæËÆ°
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
