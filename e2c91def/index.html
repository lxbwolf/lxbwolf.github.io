<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='ÂáΩÊï∞ÂèòÈáè(ÂáΩÊï∞ÂÄº) Âú® Go ËØ≠Ë®Ä‰∏≠ÔºåÂáΩÊï∞Ë¢´Áúã‰ΩúÊòØÁ¨¨‰∏ÄÁ±ªÂÄºÔºåËøôÊÑèÂë≥ÁùÄÂáΩÊï∞ÂÉèÂèòÈáè‰∏ÄÊ†∑ÔºåÊúâÁ±ªÂûã„ÄÅÊúâÂÄºÔºåÂÖ∂‰ªñÊôÆÈÄöÂèòÈáèËÉΩÂÅöÁöÑ‰∫ãÂÆÉ‰πüÂèØ‰ª•„ÄÇ func square(x int) { println(x * x) } Áõ¥Êé•'>
<title>goÂåøÂêçÂáΩÊï∞ÂíåÈó≠ÂåÖ</title>

<link rel='canonical' href='https://lxb.wiki/e2c91def/'>

<link rel="stylesheet" href="/scss/style.min.e5fa5972b3e81b9d9b61e2598991a71c444ca50e38b034d78f5651a82802e894.css"><meta property='og:title' content='goÂåøÂêçÂáΩÊï∞ÂíåÈó≠ÂåÖ'>
<meta property='og:description' content='ÂáΩÊï∞ÂèòÈáè(ÂáΩÊï∞ÂÄº) Âú® Go ËØ≠Ë®Ä‰∏≠ÔºåÂáΩÊï∞Ë¢´Áúã‰ΩúÊòØÁ¨¨‰∏ÄÁ±ªÂÄºÔºåËøôÊÑèÂë≥ÁùÄÂáΩÊï∞ÂÉèÂèòÈáè‰∏ÄÊ†∑ÔºåÊúâÁ±ªÂûã„ÄÅÊúâÂÄºÔºåÂÖ∂‰ªñÊôÆÈÄöÂèòÈáèËÉΩÂÅöÁöÑ‰∫ãÂÆÉ‰πüÂèØ‰ª•„ÄÇ func square(x int) { println(x * x) } Áõ¥Êé•'>
<meta property='og:url' content='https://lxb.wiki/e2c91def/'>
<meta property='og:site_name' content='Xiaobin&#39;s Notes'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='go' /><meta property='article:published_time' content='2019-11-17T14:38:20&#43;00:00'/><meta property='article:modified_time' content='2019-11-17T14:38:20&#43;00:00'/>
<meta name="twitter:title" content="goÂåøÂêçÂáΩÊï∞ÂíåÈó≠ÂåÖ">
<meta name="twitter:description" content="ÂáΩÊï∞ÂèòÈáè(ÂáΩÊï∞ÂÄº) Âú® Go ËØ≠Ë®Ä‰∏≠ÔºåÂáΩÊï∞Ë¢´Áúã‰ΩúÊòØÁ¨¨‰∏ÄÁ±ªÂÄºÔºåËøôÊÑèÂë≥ÁùÄÂáΩÊï∞ÂÉèÂèòÈáè‰∏ÄÊ†∑ÔºåÊúâÁ±ªÂûã„ÄÅÊúâÂÄºÔºåÂÖ∂‰ªñÊôÆÈÄöÂèòÈáèËÉΩÂÅöÁöÑ‰∫ãÂÆÉ‰πüÂèØ‰ª•„ÄÇ func square(x int) { println(x * x) } Áõ¥Êé•">
<link rel="shortcut icon" href="/favicon.png" />




<script async src="https://www.googletagmanager.com/gtag/js?id=G-JZ2PWLT6JY"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-JZ2PWLT6JY');
</script>
<script>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?e710560ffa44cae2b3a6259e0171fb5f";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
<script>
    (function () {
        var el = document.createElement("script");
        el.src = "https://lf1-cdn-tos.bytegoofy.com/goofy/ttzz/push.js?f146251743600ee0672cdcc8455ce18def91cdb255ad969a2ef5c715d5ed5baecaf7cd753709c168f20e6a2e9019123fd11e31a222d3a2fe01ad05c6b8f519b2";
        el.id = "ttzz";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(el, s);
    })(window)
</script>
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="ÂàáÊç¢ËèúÂçï">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu692828361b78eaa42fdbdbbf5a7177a9_44446_300x0_resize_q75_box.jpeg" width="300"
                            height="298" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üç•</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Xiaobin&#39;s Notes</a></h1>
            <h2 class="site-description"></h2>
        </div>
    </header>


    <ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                <span>È¶ñÈ°µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                <span>ÂΩíÊ°£</span>
            </a>
        </li>
        
        
        <li >
            <a href='/categories/' >
                
                
                
                <span>ÂàÜÁ±ª</span>
            </a>
        </li>
        
        
        <li >
            <a href='/tags/' >
                
                
                
                <span>Ê†áÁ≠æ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/links/' >
                
                
                
                <span>ÂèãÈìæ</span>
            </a>
        </li>
        

        <div class="menu-bottom-section"><ol class="social-menu">
                    
                        <li>
                            <a 
                                href='mailto://me@lxb.wiki'
                                target="_blank"
                                title="Email"
                                rel="me"
                            >
                                
                                
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
                                
                            </a>
                        </li>
                    
                        <li>
                            <a 
                                href='https://github.com/lxbwolf'
                                target="_blank"
                                title="GitHub"
                                rel="me"
                            >
                                
                                
                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                                
                            </a>
                        </li>
                    
                        <li>
                            <a 
                                href='https://lxb.wiki/atom.xml'
                                target="_blank"
                                title="Rss"
                                rel="me"
                            >
                                
                                
                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="5" cy="19" r="1" />
  <path d="M4 4a16 16 0 0 1 16 16" />
  <path d="M4 11a9 9 0 0 1 9 9" />
</svg>



                                
                            </a>
                        </li>
                    
                </ol>
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>ÊöóËâ≤Ê®°Âºè</span>
                </li>
            
        </div>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
<section class="widget archives">
    
    <h2 class="widget-title section-title">ÁõÆÂΩï</h2>

    <div class="widget--toc">
        <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#ÂáΩÊï∞ÂèòÈáèÂáΩÊï∞ÂÄº">ÂáΩÊï∞ÂèòÈáè(ÂáΩÊï∞ÂÄº)</a></li>
        <li><a href="#ÂåøÂêçÂáΩÊï∞">ÂåøÂêçÂáΩÊï∞</a></li>
        <li><a href="#Èó≠ÂåÖ">Èó≠ÂåÖ</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
        <a href="/categories/Lang/" >
            Lang
        </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/e2c91def/">goÂåøÂêçÂáΩÊï∞ÂíåÈó≠ÂåÖ</a>
        </h2>

        
    </div>

    
    
    
    
    <footer class="article-time">
        
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
            <time class="article-time--published">Nov 17, 2019</time>
        </div>
        

        
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



            <time class="article-time--reading">
                ÈòÖËØªÊó∂Èïø: 5 ÂàÜÈíü
            </time>
        </div>
        
        <small>
    <section class="article-tags">
        
            <a href="/tags/go/">go</a>
        
    </section>
</small>
    </footer>
    

    
</div>
</header>

    <section class="article-content">
    
    
    <h3 id="ÂáΩÊï∞ÂèòÈáèÂáΩÊï∞ÂÄº">ÂáΩÊï∞ÂèòÈáè(ÂáΩÊï∞ÂÄº)</h3>
<p>Âú® Go ËØ≠Ë®Ä‰∏≠ÔºåÂáΩÊï∞Ë¢´Áúã‰ΩúÊòØÁ¨¨‰∏ÄÁ±ªÂÄºÔºåËøôÊÑèÂë≥ÁùÄÂáΩÊï∞ÂÉèÂèòÈáè‰∏ÄÊ†∑ÔºåÊúâÁ±ªÂûã„ÄÅÊúâÂÄºÔºåÂÖ∂‰ªñÊôÆÈÄöÂèòÈáèËÉΩÂÅöÁöÑ‰∫ãÂÆÉ‰πüÂèØ‰ª•„ÄÇ</p>
<pre tabindex="0"><code>func square(x int) {
	println(x * x)
}
</code></pre><ol>
<li>Áõ¥Êé•Ë∞ÉÁî®Ôºösquare(1)</li>
<li>ÊääÂáΩÊï∞ÂΩìÊàêÂèòÈáè‰∏ÄÊ†∑ËµãÂÄºÔºö<code>s := square</code>ÔºõÊé•ÁùÄÂèØ‰ª•Ë∞ÉÁî®Ëøô‰∏™ÂáΩÊï∞ÂèòÈáèÔºös(1)„ÄÇ Ê≥®ÊÑèÔºöËøôÈáå square ÂêéÈù¢Ê≤°ÊúâÂúÜÊã¨Âè∑ÔºåË∞ÉÁî®ÊâçÊúâ„ÄÇ</li>
</ol>
<ul>
<li>Ë∞ÉÁî® <code>nil</code> ÁöÑÂáΩÊï∞ÂèòÈáè‰ºöÂØºËá¥ panic„ÄÇ</li>
<li>ÂáΩÊï∞ÂèòÈáèÁöÑÈõ∂ÂÄºÊòØ nilÔºåËøôÊÑèÂë≥ÁùÄÂÆÉÂèØ‰ª•Ë∑ü nil ÊØîËæÉÔºå‰ΩÜ‰∏§‰∏™ÂáΩÊï∞ÂèòÈáè‰πãÈó¥‰∏çËÉΩÊØîËæÉ„ÄÇ</li>
</ul>
<h3 id="ÂåøÂêçÂáΩÊï∞">ÂåøÂêçÂáΩÊï∞</h3>
<p>‰ΩúÁî®: Âú®goËØ≠Ë®Ä‰∏≠ÁõÆÂâç‰∫ÜËß£ÁöÑ‰ΩúÁî®Â∞±ÊòØÁî®‰∫éÊûÑÊàêÈó≠ÂåÖ</p>
<h3 id="Èó≠ÂåÖ">Èó≠ÂåÖ</h3>
<p>Èó≠ÂåÖÈÄöËøáÂºïÁî®ÁöÑÊñπÂºè‰ΩøÁî®Â§ñÈÉ®ÂáΩÊï∞ÁöÑÂèòÈáè
ÂáΩÊï∞‰∏é ‰∏éÂÖ∂(Áõ¥Êé•)Áõ∏ÂÖ≥ÁöÑÁéØÂ¢ÉÂΩ¢ÊàêÈó≠ÂåÖ</p>
<p>ÁÆÄÂçïÊù•ËØ¥: Âõ†‰∏∫ÊääËøîÂõûÁöÑÂáΩÊï∞ËµãÁªô‰∫Ü‰∏Ä‰∏™ÂèòÈáè, ËôΩÁÑ∂ÂáΩÊï∞Âú®ÊâßË°åÂÆå‰∏ÄÁû¨Èó¥‰ºöÈîÄÊØÅÂÖ∂ÊâßË°åÁéØÂ¢É, ‰ΩÜÊòØÂ¶ÇÊûúÊúâÈó≠ÂåÖÁöÑËØù, Èó≠ÂåÖ‰ºö‰øùÂ≠òÂ§ñÈÉ®ÂáΩÊï∞ÁöÑÊ¥ªÂä®ÂØπË±°(ÂèòÈáè), ÊâÄ‰ª•Â¶ÇÊûú‰∏çÂØπÈó≠ÂåÖÁöÑÂºïÁî®Ê∂àÈô§Êéâ, Èó≠ÂåÖ‰ºö‰∏ÄÁõ¥Â≠òÂú®ÂÜÖÂ≠ò‰∏≠, ÂûÉÂúæÊî∂ÈõÜÂô®‰∏ç‰ºöÈîÄÊØÅÈó≠ÂåÖÂç†Áî®ÁöÑÂÜÖÂ≠ò</p>
<h4 id="ÂÆû‰æã1">ÂÆû‰æã1</h4>
<pre tabindex="0"><code>//ÂáΩÊï∞AÊòØ‰∏Ä‰∏™‰∏çÂ∏¶ÂèÇÊï∞ÔºåËøîÂõûÂÄºÊòØ‰∏Ä‰∏™ÂåøÂêçÂáΩÊï∞Ôºå‰∏îËØ•ÂáΩÊï∞
//Â∏¶Êúâ‰∏Ä‰∏™intÁ±ªÂûãÂèÇÊï∞ÔºåËøîÂõûÂÄº‰∏∫‰∏Ä‰∏™intÁ±ªÂûã
func A() func(int) int {
	sum := 0
	return func(bb int) int {
		sum += bb
		fmt.Println(&#34;bb=&#34;, bb, &#34;\tsum=&#34;, sum)
		return sum
	}
}
</code></pre><p>Ë∞ÉÁî®1:</p>
<pre tabindex="0"><code>func main() {
	a := A()//ÂÆö‰πâÂèòÈáèa,Âπ∂Â∞ÜÂáΩÊï∞AÁöÑËøîÂõûÂÄºËµãÁªôa // Ëøô‰∏™Êó∂ÂÄô, ËôΩÁÑ∂ÊúâÂ∞èÊã¨Âè∑, ‰ΩÜÊòØfunc A()ËøòÊú™ÁúüÊ≠£ÊâßË°å, Âè™ÊòØËµãÂÄºÁªô‰∫ÜÂèòÈáèa
	b := a(4) //ÁúüÊ≠£ÊâßË°åfunc A()
	fmt.Println(b)
}
/*
**    ËæìÂá∫Ôºö   
**    bb= 4   sum= 4
**    4
*/
</code></pre><p>Ë∞ÉÁî®2</p>
<pre tabindex="0"><code>func main() {
	a := A()
	a(0)
	a(1)
	a(5)
}
/*
**„ÄÄ„ÄÄËæìÂá∫Ôºö
**„ÄÄ„ÄÄbb= 0 	sum= 0
**„ÄÄ„ÄÄbb= 1 	sum= 1
**„ÄÄ„ÄÄbb= 5 	sum= 6
*/
</code></pre><p>‰ª•‰∏äË∞ÉÁî®ÈÄöËøáÈó≠ÂåÖÂÆûÁé∞‰∫ÜsumÁöÑÁ¥ØÂä†</p>
<p>Ë∞ÉÁî®3</p>
<pre tabindex="0"><code>func main() {
	a := A()
	c := A()
	a(0)
	a(5)
	c(10)
	c(20)
}
/*
**„ÄÄ„ÄÄËæìÂá∫Ôºö
**„ÄÄ„ÄÄbb= 0 	sum= 0
**„ÄÄ„ÄÄbb= 5 	sum= 5
**„ÄÄ„ÄÄbb= 10 	sum= 10
**„ÄÄ„ÄÄbb= 20 	sum= 30   
*/
</code></pre><p>„ÄÄÂèØ‰ª•ÁúãÂá∫Ôºå‰∏ä‰æã‰∏≠Ë∞ÉÁî®‰∫Ü‰∏§Ê¨°ÂáΩÊï∞AÔºåÊûÑÊàê‰∫Ü‰∏§‰∏™Èó≠ÂåÖÔºåËøô‰∏§‰∏™Èó≠ÂåÖÁª¥Êä§ÁöÑÂèòÈáèsum‰∏çÊòØÂêå‰∏Ä‰∏™ÂèòÈáè„ÄÇ
„ÄÄ
„ÄÄ</p>
<h4 id="ÂÆû‰æã2">ÂÆû‰æã2</h4>
<pre tabindex="0"><code>func B() []func() {
	b := make([]func(), 3, 3)
	for i := 0; i &lt; 3; i++ {
		b[i] = func() {
			fmt.Println(i)
		}
	}
	return b
}

func main() {
	c := B() // Ëøô‰∏™Êó∂ÂÄôÂπ∂Êú™ÁúüÊ≠£ÊâßË°åÂáΩÊï∞, Âè™ÊòØÂÆö‰πâ, ÊâÄ‰ª•‰∏ç‰ºöprint
	c[0]() // Ëøô‰∏™Êó∂ÂÄôÁúüÊ≠£ÊâßË°å, ‰ΩÜÊòØÁî±‰∫éÈó≠ÂåÖ, c[0] ‰∏≠ÊãøÁöÑiÁöÑÂºïÁî®
	c[1]()
	c[2]()
}
/*
**„ÄÄ„ÄÄËæìÂá∫Ôºö
**„ÄÄ„ÄÄ3
**„ÄÄ„ÄÄ3
**„ÄÄ„ÄÄ3
*/
</code></pre><p>Èó≠ÂåÖÈÄöËøáÂºïÁî®ÁöÑÊñπÂºè‰ΩøÁî®Â§ñÈÉ®ÂáΩÊï∞ÁöÑÂèòÈáè„ÄÇ</p>
<p>„ÄÄ„ÄÄ‰∏ä‰æã‰∏≠Âè™Ë∞ÉÁî®‰∫Ü‰∏ÄÊ¨°ÂáΩÊï∞B,ÊûÑÊàê‰∏Ä‰∏™Èó≠ÂåÖ(<code>func() {fmt.Println(i)}</code> ‰∏éÂÆÉÁöÑÁéØÂ¢É<code>func B() []func(){}</code> ÊûÑÊàêÈó≠ÂåÖ)Ôºåi Âú®Â§ñÈÉ®ÂáΩÊï∞B‰∏≠ÂÆö‰πâÔºåÊâÄ‰ª•Èó≠ÂåÖÁª¥Êä§ËØ•ÂèòÈáè i Ôºåc[0]„ÄÅc[1]„ÄÅc[2]‰∏≠ÁöÑ i ÈÉΩÊòØÈó≠ÂåÖ‰∏≠ i ÁöÑÂºïÁî®„ÄÇ</p>
<p>„ÄÄ„ÄÄÂõ†Ê≠§ÊâßË°å<code>c:=B()</code>ÂêéÔºåi ÁöÑÂÄºÂ∑≤ÁªèÂèò‰∏∫3ÔºåÊïÖÂÜçË∞ÉÁî®c<a class="link" href="" >0</a>Êó∂ÁöÑËæìÂá∫ÊòØ3ËÄå‰∏çÊòØ0„ÄÇ
„ÄÄ„ÄÄ
ÂèØ‰ΩúÂ¶Ç‰∏ã‰øÆÊîπÔºö</p>
<pre tabindex="0"><code>func B() []func() {
	b := make([]func(), 3, 3)
	for i := 0; i &lt; 3; i++ {
		b[i] = (func(j int) func() {
			return func() {
				fmt.Println(j)
			}
		})(i) // Ëøô‰∏™Âú∞ÊñπÁöÑÂ∞èÊã¨Âè∑ÊòØÁúüÊ≠£ÊâßË°å‰∫Ü
	}
	return b
}

func main() {
	c := B()
	c[0]()
	c[1]()
	c[2]()
}
/*
**    ËæìÂá∫Ôºö
**        0
**        1
**        2
*/
</code></pre><p>ÂáΩÊï∞<code>func() {fmt.Println(j)}</code> ‰∏éÂÆÉÁöÑÁéØÂ¢É<code>func(j int) func() {}</code> ÊûÑÊàêÈó≠ÂåÖ, ÂèòÈáè<code>i</code>(ÂÆûÂèÇ) Âπ∂Ê≤°ÊúâÂú®ÂÆÉÁöÑÁéØÂ¢ÉËåÉÂõ¥ÂÜÖ, ‰∏î <code>j</code>ÊòØÂΩ¢ÂèÇ
‰ª•‰∏ä‰øÆÊîπÂèØËÉΩÊ≤°Êúâ‰ªÄ‰πàÂÆûÈôÖÊÑè‰πâÔºåÊ≠§Â§Ñ‰ªÖ‰∏∫ËØ¥ÊòéÈóÆÈ¢ò‰ΩøÁî®„ÄÇ</p>
<p>Âú®‰ΩøÁî®deferÁöÑÊó∂ÂÄôÂèØËÉΩÂá∫Áé∞Á±ª‰ººÈóÆÈ¢òÔºåÈúÄË¶ÅÊ≥®ÊÑèÔºö</p>
<pre tabindex="0"><code>for j := 0; j &lt; 2; j++ {
	defer (func() {
		fmt.Println(j)
	})()
}
/*
**    ËæìÂá∫Ôºö    
**    2    
**    2
*/
</code></pre><h4 id="ÂÆû‰æã3">ÂÆû‰æã3:</h4>
<pre tabindex="0"><code>func incr() func() int {
	var x int
	return func() int {
		x++
		return x
	}
}
</code></pre><p>Ë∞ÉÁî®Ëøô‰∏™ÂáΩÊï∞‰ºöËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞ÂèòÈáè„ÄÇ
<code>i := incr()</code> : ÈÄöËøáÊääËøô‰∏™ÂáΩÊï∞ÂèòÈáèËµãÂÄºÁªô<code>i</code>, <code>i</code> Â∞±Êàê‰∏∫‰∫Ü‰∏Ä‰∏™Èó≠ÂåÖ
ÊâÄ‰ª•<code>i</code> ‰øùÂ≠òÁùÄÂØπ<code>x</code> ÁöÑÂºïÁî®, ÂèØ‰ª•ÊÉ≥Ë±°<code>i</code> ‰∏≠ÊúâÁùÄ‰∏Ä‰∏™ÊåáÈíàÊåáÂêë<code>x</code> ÊàñËÄÖ <code>i</code> ‰∏≠Êúâ<code>x</code> ÁöÑÂú∞ÂùÄ</p>
<p>Áî±‰∫é<code>i</code> ÊúâÁùÄÊåáÂêë<code>x</code> ÁöÑÊåáÈíà, ÊâÄ‰ª•ÂèØ‰ª•‰øÆÊîπ<code>x</code> , ‰∏î‰øùÊåÅÁùÄÁä∂ÊÄÅ:</p>
<pre tabindex="0"><code>println(i()) // 1
println(i()) // 2
println(i()) // 3
</code></pre><p>‰πüÂ∞±ÊòØËØ¥, <code>x</code> ÈÄÉÈÄ∏‰∫Ü, ÂÆÉÁöÑÂ£∞ÊòéÂë®ÊúüÊ≤°ÊúâÈöèÁùÄÂÆÉÁöÑ‰ΩúÁî®ÂüüÁªìÊùüËÄåÁªìÊùü
‰ΩÜÊòØËøôÊÆµ‰ª£Á†ÅÂç¥‰∏ç‰ºöÈÄíÂ¢ûÔºö</p>
<pre tabindex="0"><code>println(incr()()) // 1
println(incr()()) // 1
println(incr()()) // 1
</code></pre><p>ËøôÊòØÂõ†‰∏∫ËøôÈáåË∞ÉÁî®‰∫Ü‰∏âÊ¨° <code>incr()</code>ÔºåËøîÂõû‰∫Ü‰∏â‰∏™Èó≠ÂåÖÔºåËøô‰∏â‰∏™Èó≠ÂåÖÂºïÁî®ÁùÄ‰∏â‰∏™‰∏çÂêåÁöÑ <code>x</code>ÔºåÂÆÉ‰ª¨ÁöÑÁä∂ÊÄÅÊòØÂêÑËá™Áã¨Á´ãÁöÑ„ÄÇ</p>
<h4 id="ÂÆû‰æã4-Èó≠ÂåÖÂºïÁî®‰∫ßÁîüÁöÑÈóÆÈ¢ò">ÂÆû‰æã4: Èó≠ÂåÖÂºïÁî®‰∫ßÁîüÁöÑÈóÆÈ¢ò</h4>
<pre tabindex="0"><code>x := 1
f := func() {
	println(x)
}
x = 2
x = 3
f() // 3
</code></pre><p>Âõ†‰∏∫Èó≠ÂåÖÂØπÂ§ñÂ±ÇËØçÊ≥ïÂüüÂèòÈáèÊòØÂºïÁî®ÁöÑÔºåÊâÄ‰ª•ËøôÊÆµ‰ª£Á†Å‰ºöËæìÂá∫ 3„ÄÇ
ÂèØ‰ª•ÊÉ≥Ë±° f ‰∏≠‰øùÂ≠òÁùÄ x ÁöÑÂú∞ÂùÄÔºåÂÆÉ‰ΩøÁî® x Êó∂‰ºöÁõ¥Êé•Ëß£ÂºïÁî®ÔºåÊâÄ‰ª• x ÁöÑÂÄºÊîπÂèò‰∫Ü‰ºöÂØºËá¥ f Ëß£ÂºïÁî®ÂæóÂà∞ÁöÑÂÄº‰πü‰ºöÊîπÂèò„ÄÇ
‰ΩÜÊòØÔºåËøôÊÆµ‰ª£Á†ÅÂç¥‰ºöËæìÂá∫ 1Ôºö</p>
<pre tabindex="0"><code>x := 1
func() {
	println(x) // 1
}()
x = 2
x = 3
</code></pre><p>ËøôÊòØÂõ†‰∏∫ f Ë∞ÉÁî®Êó∂Â∞±Â∑≤ÁªèËß£ÂºïÁî®ÂèñÂÄº‰∫ÜÔºåËøô‰πãÂêéÁöÑ‰øÆÊîπÂ∞±‰∏éÂÆÉÊó†ÂÖ≥‰∫Ü„ÄÇ</p>
<p>‰∏çËøáÂ¶ÇÊûúÂÜçÊ¨°Ë∞ÉÁî® f ËøòÊòØ‰ºöËæìÂá∫ 3ÔºåËøô‰πüÂÜç‰∏ÄÊ¨°ËØÅÊòé‰∫Ü f ‰∏≠‰øùÂ≠òÁùÄ x ÁöÑÂú∞ÂùÄ„ÄÇ
ÂèØ‰ª•ÈÄöËøáÂú®Èó≠ÂåÖÂÜÖÂ§ñÊâìÂç∞ÊâÄÂºïÁî®ÂèòÈáèÁöÑÂú∞ÂùÄÊù•ËØÅÊòéÔºö</p>
<pre tabindex="0"><code>x := 1
func() {
	println(&amp;x) // 0xc0000de790
}()
println(&amp;x) // 0xc0000de790
</code></pre><p>ÂèØ‰ª•ÁúãÂà∞ÂºïÁî®ÁöÑÊòØÂêå‰∏Ä‰∏™Âú∞ÂùÄ„ÄÇ</p>
<h4 id="ÂÆû‰æã51-Âæ™ÁéØÈó≠ÂåÖÂºïÁî®">ÂÆû‰æã5.1: Âæ™ÁéØÈó≠ÂåÖÂºïÁî®</h4>
<pre tabindex="0"><code>for i := 0; i &lt; 3; i++ {
	func() {
		println(i) // 0, 1, 2
	}()
}
</code></pre><p>ËøôÊÆµ‰ª£Á†ÅÁõ∏ÂΩì‰∫éÔºö</p>
<pre tabindex="0"><code>for i := 0; i &lt; 3; i++ {
	f := func() {
		println(i) // 0, 1, 2
	}
	f()
}
</code></pre><p>ÊØèÊ¨°Ëø≠‰ª£ÂêéÈÉΩÂØπ i ËøõË°å‰∫ÜËß£ÂºïÁî®Âπ∂‰ΩøÁî®ÂæóÂà∞ÁöÑÂÄº‰∏î‰∏çÂÜç‰ΩøÁî®ÔºåÊâÄ‰ª•ËøôÊÆµ‰ª£Á†Å‰ºöÊ≠£Â∏∏ËæìÂá∫„ÄÇ</p>
<h4 id="ÂÆû‰æã52">ÂÆû‰æã5.2</h4>
<p>Ê≠£Â∏∏‰ª£Á†ÅÔºöËæìÂá∫ 0, 1, 2Ôºö</p>
<pre tabindex="0"><code>var dummy [3]int
for i := 0; i &lt; len(dummy); i++ {
	println(i) // 0, 1, 2
}
</code></pre><p>ÁÑ∂ËÄåËøôÊÆµ‰ª£Á†Å‰ºöËæìÂá∫ 3Ôºö</p>
<pre tabindex="0"><code>var dummy [3]int
var f func()
for i := 0; i &lt; len(dummy); i++ {
	f = func() {
		println(i)
	}
}
f() // 3 Ëøô‰∏™Âú∞ÊñπiÊúÄÂêéÁöÑÂÄºÊòØ3, ËÄå‰∏çÊòØ2, Âõ†‰∏∫Âè™ÊúâiÁöÑÂÄºÊòØ3Êó∂, Êâç‰ºöË∑≥Âá∫Âæ™ÁéØ
</code></pre><h4 id="ÂÆû‰æã53">ÂÆû‰æã5.3</h4>
<pre tabindex="0"><code>var funcSlice []func()
for i := 0; i &lt; 3; i++ {
	funcSlice = append(funcSlice, func() {
		println(i)
	})

}
for j := 0; j &lt; 3; j++ {
	funcSlice[j]() // 3, 3, 3
}
</code></pre><p>‰∏∫‰∫ÜËß£ÂÜ≥‰∏äÈù¢ËøôÁßçÊÉÖÂÜµ, ÂèØ‰ª•Â£∞ÊòéÊñ∞ÁöÑÂåøÂêçÂáΩÊï∞Âπ∂‰º†ÂèÇ:</p>
<pre tabindex="0"><code>var funcSlice []func()
for i := 0; i &lt; 3; i++ {
	func(k int) {
		funcSlice = append(funcSlice, func() {
			println(k)
		})
	}(i)

}
for j := 0; j &lt; 3; j++ {
	funcSlice[j]() // 0, 1, 2
}
</code></pre><p>Áé∞Âú® <code>println(k)</code> ‰ΩøÁî®ÁöÑ <code>k</code> ÊòØÈÄöËøáÂáΩÊï∞ÂèÇÊï∞‰º†ÈÄíËøõÊù•ÁöÑÔºåÂπ∂‰∏î Go ËØ≠Ë®ÄÁöÑÂáΩÊï∞ÂèÇÊï∞ÊòØÊåâÂÄº‰º†ÈÄíÁöÑ„ÄÇ(Êää<code>k</code>Êç¢Êàê<code>i</code>‰πüÊ≤°ÊúâÈóÆÈ¢ò, Âç≥‰ΩøÂÆÉ‰∏éforÊù°‰ª∂ÁöÑ‰∏≠ÁöÑ<code>i</code> ÂíåfuncÁöÑÂÖ•ÂèÇ<code>i</code> ÈáçÂêç‰πüËÉΩÊ≠£Â∏∏ËøêË°å)</p>
<p>ÊâÄ‰ª•Áõ∏ÂΩì‰∫éÂú®Ëøô‰∏™Êñ∞ÁöÑÂåøÂêçÂáΩÊï∞ÂÜÖÂ£∞Êòé‰∫Ü‰∏â‰∏™ÂèòÈáèÔºåË¢´‰∏â‰∏™Èó≠ÂåÖÂáΩÊï∞Áã¨Á´ãÂºïÁî®„ÄÇÂéüÁêÜË∑üÁ¨¨‰∏ÄÁßçÊñπÊ≥ïÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇ</p>
<p>ËøôÈáåÁöÑËß£ÂÜ≥ÊñπÊ≥ïÂèØ‰ª•Áî®Âú®Â§ßÂ§öÊï∞Ë∑üÈó≠ÂåÖÂºïÁî®ÊúâÂÖ≥ÁöÑÈóÆÈ¢ò‰∏äÔºå‰∏çÂ±ÄÈôê‰∫éÁ¨¨‰∏â‰∏™‰æãÂ≠ê„ÄÇ</p>

</section>


    <footer class="article-footer">
    

    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Áõ∏ÂÖ≥ÊñáÁ´†</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/a81f14e2/">
        
        

        <div class="article-details">
            <h2 class="article-title">GoËØ≠Ë®ÄÁöÑÂùë: Happens Before ‰øùËØÅ</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/b23a493c/">
        
        

        <div class="article-details">
            <h2 class="article-title">GoËØ≠Ë®ÄÁöÑÂùë: String Áõ∏ÂÖ≥</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/725e70e6/">
        
        

        <div class="article-details">
            <h2 class="article-title">GoËØ≠Ë®ÄÁöÑÂùë: Defer</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/ad6a336e/">
        
        

        <div class="article-details">
            <h2 class="article-title">GoËØ≠Ë®ÄÁöÑÂùë: Range</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/46d0864d/">
        
        

        <div class="article-details">
            <h2 class="article-title">GoËØ≠Ë®ÄÁöÑÂùë: Slice Áõ∏ÂÖ≥</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <script src="https://utteranc.es/client.js" 
        repo="lxbwolf/lxbwolf.github.io"
        issue-term="pathname"
        
        crossorigin="anonymous"
        async
        >
</script>

<style>
    .utterances {
        max-width: unset;
    }
</style>

<script>
    let utterancesLoaded = false;

    function setUtterancesTheme(theme) {
        let utterances = document.querySelector('.utterances iframe');
        if (utterances) {
            utterances.contentWindow.postMessage(
                {
                    type: 'set-theme',
                    theme: `github-${theme}`
                },
                'https://utteranc.es'
            );
        }
    }

    addEventListener('message', event => {
        if (event.origin !== 'https://utteranc.es') return;

        
        utterancesLoaded = true;
        setUtterancesTheme(document.documentElement.dataset.scheme)
    });

    window.addEventListener('onColorSchemeChange', (e) => {
        if (!utterancesLoaded) return;
        setUtterancesTheme(e.detail)
    })
</script>


    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2023 Xiaobin&#39;s Notes
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        ‰∏ªÈ¢ò <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.16.0">Stack</a></b> Áî± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> ËÆæËÆ°
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
